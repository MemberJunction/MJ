-- SQL Logging Session
-- Session ID: 269aa2c5-097e-4450-800c-13f72334cf7b
-- Started: 2026-01-09T18:38:17.378Z
-- Description: MetadataSync push operation
-- Format: Migration-ready with Flyway schema placeholders
-- Generated by MemberJunction SQLServerDataProvider

-- Save Template Contents (core SP call only)
DECLARE @TemplateID_1c527765 UNIQUEIDENTIFIER,
@TypeID_1c527765 UNIQUEIDENTIFIER,
@TemplateText_1c527765 NVARCHAR(MAX),
@Priority_1c527765 INT,
@IsActive_1c527765 BIT,
@ID_1c527765 UNIQUEIDENTIFIER
SET
  @TemplateID_1c527765 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @TypeID_1c527765 = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_1c527765 = N'# Loop Agent System Prompt

You operate in a continuous loop pattern, working iteratively to complete the user''s goal.

# Response Format
Return ONLY JSON adhering to the interface `LoopAgentResponse`
```ts
interface LoopAgentResponse {
    /** Task completion status. true = terminate loop, false = continue */
    taskComplete?: boolean;
    /** Plain text message (<100 words). Required for ''Chat'' type, omit for others */
    message?: string;
{% if __agentTypePromptParams.includeResponseTypeDefinition.responseForms != false %}
    /** Optional response form to collect structured user input */
    responseForm?: AgentResponseForm;
{% endif %}
{% if __agentTypePromptParams.includeResponseTypeDefinition.commands != false %}
    /** Optional actionable commands shown as clickable buttons/links */
    actionableCommands?: ActionableCommand[];
    /** Optional automatic commands executed immediately when received */
    automaticCommands?: AutomaticCommand[];
{% endif %}
{% if __agentTypePromptParams.includeResponseTypeDefinition.payload != false %}
    /** Payload changes. Omit if no changes needed */
    payloadChangeRequest?: AgentPayloadChangeRequest;
{% endif %}
    /** Internal reasoning for debugging */
    reasoning?: string;
    /** Confidence level (0.0-1.0) */
    confidence?: number;
    /** Next action. Required when taskComplete=false */
    nextStep?: {
        /** Operation type */
        type: ''Actions'' | ''Sub-Agent'' | ''Chat'' | ''Retry''{% if __agentTypePromptParams.includeResponseTypeDefinition.forEach != false %} | ''ForEach''{% endif %}{% if __agentTypePromptParams.includeResponseTypeDefinition.while != false %} | ''While''{% endif %};
        /** Actions to execute (when type=''Actions'') */
        actions?: Array<{ name: string; params: Record<string, unknown> }>;
        /** Sub-agent details (when type=''Sub-Agent'') */
        subAgent?: { name: string; message: string; terminateAfter: boolean };
        /** Message index to expand (when type=''Retry'' and expanding a compacted message) */
        messageIndex?: number;
{% if __agentTypePromptParams.includeResponseTypeDefinition.forEach != false %}
        /** ForEach operation details (when type=''ForEach'') */
        forEach?: ForEachOperation;
{% endif %}
{% if __agentTypePromptParams.includeResponseTypeDefinition.while != false %}
        /** While operation details (when type=''While'') */
        while?: WhileOperation;
{% endif %}
    };
}
```
{% if __agentTypePromptParams.includeResponseTypeDefinition.payload != false %}
```ts
/**
 * Defines a structured way to request changes to the payload. If you are making a COMPLEX change to an object
 * you can either use `updateElements` as described below to make **surgical** changes to the payload, OR, a simple
 * approach is to use `replaceElements` to remove the entire object and replace it with a new object.
 * 
 * If you are providing the ENTIRE object again, use the **replaceElements** instead of **updateElements** approach like this:
 * {
 *   replaceElements: {
 *     user: { // user object will REPLACE the entire existing object
 *       id: "new-id",
 *       name: "new-name"
 *       moreComplexData: {
 *         keyA: "valA",
 *         keyB: "valB"
 *       }
 *     }
 *   }
 * }
 * 
 * Alternatively, to make surgical changes review the documentation below for @see updateElements where you can make
 * small incremental additions/updates/removals to the payload which is more token efficient and cleaner.
 */
export type AgentPayloadChangeRequest<P = any> = {
    /**
     * A partial of P that includes all new elements added that were **not** previously present in
     * the payload prior to the prompt execution. This allows the AI to specify the new elements
     * to be added clearly here. The structure is identical to the payload type P with just the
     * portions filled out that need to be added.
     * 
     * To add a new item:
     * 
     * {    
     *   "newItem": "newValue"
     * }
     * To add multiple new items:
     * 
     * {
     *   newItem1: "newValue1",
     *   newItem2: "newValue2"
     * }
     */
    newElements?: Partial<P>;

    /**
     * A partial of P that includes all elements that should be updated in the payload.
     * The structure is identical to the payload type P with just the portions filled out
     * that need to be updated. **DO NOT INCLUDE ELEMENTS THAT ARE NOT CHANGING**.
     * 
     * Example - update single item:
     *  {
     *     "itemToUpdate": "newValue"
     *  }
     * 
     *  To update multiple items:
     *  {
     *      itemToUpdate1: "newValue1",
     *      itemToUpdate2: "newValue2"
     *  }
     * 
     *  Arrays: Include placeholder objects `{}` for items that are being kept in the array.
     *  For example, if the payload was:
     *  {
     *      items: [
     *          {}, // placeholder object is ignored
     *          { someKey: ''this is a new value for someKey'' },
     *          {} // placeholder object is ignored - since it is trailing, can be ommitted, this is for illustration
     *      ]
     *  }
     * 
     * DELETION WITHIN UPDATES:
     * You can use "__DELETE__" within updateElements to remove properties or array elements at any depth:
     * 
     * Deleting object properties:
     * {
     *   updateElements: {
     *     user: {
     *       name: "New Name",      // update this property
     *       tempData: "__DELETE__"   // remove this property
     *     }
     *   }
     * }
     * 
     * Deleting array elements:
     * {
     *   updateElements: {
     *     items: [
     *       {},          // keep item 0
     *       "__DELETE__",  // remove item 1
     *       { value: 5 }, // update item 2
     *       "__DELETE__"   // remove item 3
     *     ]
     *   }
     * }
     * 
     * Complex nested example - updating and deleting within deep structures:
     * {
     *   updateElements: {
     *     dataRequirements: {
     *       dynamicData: {
     *         requiredEntities: [
     *           {
     *             displayFields: ["Name", "UpdatedAt"], // update array
     *             fieldMetadata: [
     *               {},          // keep field 0
     *               {},          // keep field 1
     *               {},          // keep field 2
     *               "__DELETE__"   // remove field 3 (e.g., LastUpdated)
     *             ],
     *             oldProperty: "__DELETE__"  // remove this property
     *           }
     *         ]
     *       }
     *     }
     *   }
     * }
     * 
     * IMPORTANT: When using "__DELETE__" in arrays, deletions are processed after updates at each depth level,
     * ensuring correct index management. Multiple deletions in the same array are handled properly.
     * 
     * Alternative for complete replacement: If you need to completely replace a complex structure,
     * you can use replaceElements pattern INSTEAD of updateElements:
     * {
     *   replaceElements: { complexObject: { keyA: "valA", keyB: "valB" } } // This replaces the entire complexObject
     * }
     */
    updateElements?: Partial<P>;

    /**
     * This partial of P includes all elements that should be replaced in the payload.
     * The structure is identical to the payload type P with just the portions filled out
     * that need to be replaced. This is useful when you want to replace an entire object
     * or array with a new version. See @see updateElements for surgical updates instead of doing
     * complete replacements.
     */
    replaceElements?: Partial<P>;

    /**
     * This partial of P includes all elements that should be removed from the payload. When an
     * item needs to be removed, include the item here with a value of "__DELETE__".
     * 
     * For 1 removal:
     * {
     *   itemToRemove: ''__DELETE__''
     * }
     * 
     * This indicates that the itemToRemove should be removed from the payload.
     * 
     * For multiple removals:
     * {
     *   itemToRemove1: ''__DELETE__'',
     *   itemToRemove2: ''__DELETE__''
     * }
     * 
     * Arrays: Include placeholder objects `{}` for items that are being kept in the array.
     * For updating object elements in arrays, only include the properties to change:
     * 
     * Original array:
     * {
     *   items: [
     *     { id: 1, name: "Item 1", value: 100 },
     *     { id: 2, name: "Item 2", value: 200 },
     *     { id: 3, name: "Item 3", value: 300 }
     *   ]
     * }
     * 
     * To update only the value of the second item:
     * {
     *   items: [
     *     {}, // placeholder - keeps item 1 unchanged
     *     { value: 250 }, // updates ONLY the value property of item 2
     *     {} // placeholder - keeps item 3 unchanged (can be omitted if trailing)
     *   ]
     * }
     * 
     * Result after merge:
     * {
     *   items: [
     *     { id: 1, name: "Item 1", value: 100 },
     *     { id: 2, name: "Item 2", value: 250 }, // only value changed
     *     { id: 3, name: "Item 3", value: 300 }
     *   ]
     * }
     * 
     * NOTE: For token efficiency, do **NOT** emit array elements that are being **kept** 
     * instead emit empty objects `{}` for items being kept.  
     * 
     * NESTED OBJECTS:
     * {
     *   nestedObject: {
     *     itemToRemove: ''__DELETE__''
     *   }
     * }
     * 
     * In this case if there was a payload like this:
     * {
     *   nestedObject: {
     *    itemToRemove: ''value'',
     *    itemToKeep: ''value''
     *   },
     *   anotherItemToRemove: ''__DELETE__'',
     *   anotherItemToKeep: 12345  
     * }
     *
     * The result of the operation would be :
     * {
     *   nestedObject: {
     *     itemToKeep: ''value''
     *   },
     *   anotherItemToKeep: 12345
     * }
     */
    removeElements?: Partial<P>;

    /**
     * Description of the reasoning behind the changes requested.
     */
    reasoning?: string;
}
```
{% endif %}
{% if __agentTypePromptParams.includeResponseTypeDefinition.responseForms != false %}
```ts
/**
 * @fileoverview Type definitions for agent response forms.
 *
 * This module contains type definitions for collecting structured user input
 * through forms in agent-UI interactions. Agents can request information from
 * users using various question types (text, numbers, dates, choices) and the
 * UI will render appropriate input controls.
 *
 * @module @memberjunction/ai-core-plus
 * @author MemberJunction.com
 * @since 2.116.0
 */

/**
 * Form definition for collecting structured user input.
 *
 * Agents can return this in their response to request information from users.
 * The UI will render the form appropriately based on complexity:
 * - Single question with buttongroup/radio and no title → Simple button UI
 * - Everything else → Full form with title, validation, and submit button
 *
 * @example Simple choice (renders as buttons)
 * ```json
 * {
 *   "questions": [
 *     {
 *       "id": "choice",
 *       "label": "Which customer?",
 *       "type": {
 *         "type": "buttongroup",
 *         "options": [
 *           { "value": "cust-123", "label": "Acme Corp" },
 *           { "value": "cust-456", "label": "Acme Industries" }
 *         ]
 *       }
 *     }
 *   ]
 * }
 * ```
 *
 * @example Full form
 * ```json
 * {
 *   "title": "New Customer",
 *   "submitLabel": "Create Customer",
 *   "questions": [
 *     {
 *       "id": "name",
 *       "label": "Company Name",
 *       "type": { "type": "text", "placeholder": "Acme Corp" },
 *       "required": true
 *     },
 *     {
 *       "id": "revenue",
 *       "label": "Annual Revenue",
 *       "type": { "type": "currency", "prefix": "$" },
 *       "helpText": "Estimated annual revenue in USD"
 *     }
 *   ]
 * }
 * ```
 */
export interface AgentResponseForm {
    /** Optional title shown at top of form */
    title?: string;

    /** Optional description/instructions for the form */
    description?: string;

    /** Optional custom label for submit button (default: "Submit") */
    submitLabel?: string;

    /** Array of questions to ask the user */
    questions: FormQuestion[];
}

/**
 * A single question in a response form.
 *
 * Each question has an ID (used as the key in the response object),
 * a label, a type (determines which input control to render), and
 * optional validation/help text.
 */
export interface FormQuestion {
    /**
     * Unique identifier for this question within the form.
     * Used as the key in the response object returned to the agent.
     */
    id: string;

    /**
     * Label text displayed to the user.
     * Should be clear and concise (e.g., "Company Name", "Industry").
     */
    label: string;

    /**
     * Question type configuration.
     * Determines which input control is rendered and validation rules.
     */
    type: FormQuestionType;

    /**
     * Whether this question must be answered.
     * Default: false
     */
    required?: boolean;

    /**
     * Default value to pre-populate the input.
     * Type should match the question type.
     */
    defaultValue?: any;

    /**
     * Optional help text shown below the input.
     * Use for clarification or examples (e.g., "Estimated annual revenue in USD").
     */
    helpText?: string;

    /**
     * Optional width hint for the input field.
     * Controls the visual width of the input control:
     * - ''narrow'': ~150-200px (numbers, dates, times, short codes)
     * - ''medium'': ~250-350px (names, cities, phone numbers)
     * - ''wide'': ~400-500px (email, URLs, button groups, radio, checkbox)
     * - ''full'': 100% width (textarea, search fields)
     * - ''auto'': Auto-size based on content (dropdowns)
     *
     * Default behavior (if not specified):
     * - textarea: ''full''
     * - number/currency/date/time: ''narrow''
     * - buttongroup/radio/checkbox: ''wide'' (with wrapping)
     * - dropdown: ''auto''
     * - email: ''wide''
     * - text: ''medium''
     */
    widthHint?: ''narrow'' | ''medium'' | ''wide'' | ''full'' | ''auto'';
}

/**
 * Union type of all supported question types.
 * Each type has specific configuration options.
 */
export type FormQuestionType =
    | TextQuestionType
    | NumberQuestionType
    | DateQuestionType
    | ChoiceQuestionType
    | SliderQuestionType
    | DateRangeQuestionType
    | TimeQuestionType;

/**
 * Text input question types.
 * Supports single-line text, multi-line textarea, and email validation.
 */
export interface TextQuestionType {
    /**
     * Type of text input:
     * - ''text'': Single-line text input
     * - ''textarea'': Multi-line text input
     * - ''email'': Email validation applied
     */
    type: ''text'' | ''textarea'' | ''email'';

    /** Optional placeholder text shown in empty input */
    placeholder?: string;

    /** Maximum number of characters allowed */
    maxLength?: number;
}

/**
 * Numeric input question types.
 * Supports plain numbers and formatted currency.
 */
export interface NumberQuestionType {
    /**
     * Type of numeric input:
     * - ''number'': Plain numeric input
     * - ''currency'': Formatted as currency with optional prefix/suffix
     */
    type: ''number'' | ''currency'';

    /** Minimum allowed value */
    min?: number;

    /** Maximum allowed value */
    max?: number;

    /** Optional prefix for display (e.g., "$" for currency) */
    prefix?: string;

    /** Optional suffix for display (e.g., "USD", "kg") */
    suffix?: string;
}

/**
 * Date/time input question types.
 * Supports date-only and date-time pickers.
 */
export interface DateQuestionType {
    /**
     * Type of date input:
     * - ''date'': Date-only picker
     * - ''datetime'': Date and time picker
     */
    type: ''date'' | ''datetime'';
}

/**
 * Choice selection question types.
 * Supports various UI presentations of a list of options.
 */
export interface ChoiceQuestionType {
    /**
     * Type of choice UI:
     * - ''buttongroup'': Horizontal button group (for 2-4 options)
     * - ''radio'': Vertical radio button list (for 2-6 options)
     * - ''dropdown'': Dropdown list (for 5+ options)
     * - ''checkbox'': Multiple checkboxes (for multiple selections)
     */
    type: ''buttongroup'' | ''radio'' | ''dropdown'' | ''checkbox'';

    /** Array of available options */
    options: FormOption[];

    /**
     * Whether multiple selections are allowed.
     * Only applies to ''checkbox'' type.
     * Default: false
     */
    multiple?: boolean;
}

/**
 * A single option in a choice question.
 */
export interface FormOption {
    /**
     * Value returned when this option is selected.
     * Can be string, number, or boolean.
     */
    value: string | number | boolean;

    /**
     * Label text displayed to the user.
     */
    label: string;

    /**
     * Optional icon to display with the option.
     * Should be a Font Awesome class (e.g., "fa-user", "fa-building").
     */
    icon?: string;
}

/**
 * Slider input for numeric ranges.
 * Provides visual control for selecting values within a range.
 * Useful for ratings, percentages, volumes, or any bounded numeric input.
 */
export interface SliderQuestionType {
    /**
     * Type identifier for slider input.
     */
    type: ''slider'';

    /**
     * Minimum value on the slider scale.
     */
    min: number;

    /**
     * Maximum value on the slider scale.
     */
    max: number;

    /**
     * Step increment for the slider.
     * Default: 1
     */
    step?: number;

    /**
     * Optional unit suffix displayed with the value (e.g., ''%'', ''kg'', ''miles'').
     */
    suffix?: string;
}

/**
 * Date range input for selecting start and end dates.
 * Returns an object with ''start'' and ''end'' date properties.
 * Useful for project durations, availability periods, reporting ranges.
 */
export interface DateRangeQuestionType {
    /**
     * Type identifier for date range input.
     */
    type: ''daterange'';
}

/**
 * Time-only input (no date component).
 * For scheduling, business hours, appointment times, etc.
 * Returns time in ''HH:mm'' format.
 */
export interface TimeQuestionType {
    /**
     * Type identifier for time input.
     */
    type: ''time'';
}

```
{% endif %}
{% if __agentTypePromptParams.includeResponseTypeDefinition.commands != false %}
```ts
/**
 * @fileoverview Type definitions for agent UI commands.
 *
 * This module contains type definitions for UI commands that agents can issue
 * to control the user interface. Commands are divided into two categories:
 * - Actionable Commands: Shown as buttons/links for user to click
 * - Automatic Commands: Execute immediately when received
 *
 * @module @memberjunction/ai-core-plus
 * @author MemberJunction.com
 * @since 2.116.0
 */

/**
 * Union type of all actionable commands.
 *
 * Actionable commands are shown to the user as clickable buttons or links,
 * typically after an agent completes work. They provide easy navigation to
 * created/modified resources or external links.
 *
 * @example
 * ```json
 * {
 *   "actionableCommands": [
 *     {
 *       "type": "open:resource",
 *       "label": "Open Customer Record",
 *       "icon": "fa-user",
 *       "resourceType": "Record",
 *       "resourceId": "abc-123",
 *       "mode": "view"
 *     }
 *   ]
 * }
 * ```
 */
export type ActionableCommand =
    | OpenResourceCommand
    | OpenURLCommand;

/**
 * Command to open a resource in the MemberJunction UI.
 *
 * This command navigates the user to a specific resource (record, dashboard,
 * report, form, etc.) within the application.
 *
 * @example Opening a record
 * ```json
 * {
 *   "type": "open:resource",
 *   "label": "Open Customer Record",
 *   "icon": "fa-user",
 *   "resourceType": "Record",
 *   "entityName": "Customers",
 *   "resourceId": "customer-123",
 *   "mode": "view"
 * }
 * ```
 *
 * @example Opening a dashboard
 * ```json
 * {
 *   "type": "open:resource",
 *   "label": "View Sales Dashboard",
 *   "icon": "fa-chart-line",
 *   "resourceType": "Dashboard",
 *   "resourceId": "sales-dashboard-456"
 * }
 * ```
 */
export interface OpenResourceCommand {
    /** Command type identifier */
    type: ''open:resource'';

    /**
     * Button label shown to the user.
     * Should be clear and action-oriented (e.g., "Open Customer Record", "View Dashboard").
     */
    label: string;

    /**
     * Optional Font Awesome icon class to display on the button.
     * Examples: "fa-user", "fa-chart-line", "fa-file-alt"
     */
    icon?: string;

    /**
     * Type of resource to open.
     */
    resourceType: ResourceType;

    /**
     * Entity name (required for Record type).
     * The exact entity name as defined in MJ metadata.
     * Examples: "Customers", "MJ: AI Agent Runs", "Contacts"
     * Only used when resourceType is ''Record''.
     */
    entityName?: string;

    /**
     * ID of the resource to open.
     * For Record type: Just the ID value (entityName is separate)
     * For other types: The resource identifier (dashboard ID, report ID, etc.)
     */
    resourceId: string;

    /**
     * Mode for opening the resource.
     * Only applies to Record type.
     * - ''view'': Open in view/read-only mode
     * - ''edit'': Open in edit mode
     */
    mode?: ''view'' | ''edit'';

    /**
     * Optional parameters to pass to the resource.
     * Used for reports (report parameters) and dashboards (filters).
     */
    parameters?: Record<string, any>;
}

/**
 * Types of resources that can be opened in the UI.
 */
export type ResourceType =
    | ''Record''      // Entity record (e.g., Customer, Order)
    | ''Dashboard''   // Dashboard view
    | ''Report''      // Report view
    | ''Form''        // Form view
    | ''View'';       // Saved view

/**
 * Command to open an external URL.
 *
 * This command opens a URL in a new browser tab, useful for linking to
 * external resources like company websites, documentation, or third-party tools.
 *
 * @example
 * ```json
 * {
 *   "type": "open:url",
 *   "label": "Visit Company Website",
 *   "icon": "fa-external-link",
 *   "url": "https://example.com",
 *   "newTab": true
 * }
 * ```
 */
export interface OpenURLCommand {
    /** Command type identifier */
    type: ''open:url'';

    /**
     * Button label shown to the user.
     * Should indicate the destination (e.g., "Visit Website", "View Documentation").
     */
    label: string;

    /**
     * Optional Font Awesome icon class to display on the button.
     * Commonly: "fa-external-link" for external links.
     */
    icon?: string;

    /**
     * URL to open.
     * Should be a complete URL including protocol (https://).
     */
    url: string;

    /**
     * Whether to open in a new tab.
     * Default: true
     */
    newTab?: boolean;
}

/**
 * Union type of all automatic commands.
 *
 * Automatic commands execute immediately when received, without user interaction.
 * Used for updating UI state, refreshing data, and showing notifications.
 *
 * @example
 * ```json
 * {
 *   "automaticCommands": [
 *     {
 *       "type": "refresh:data",
 *       "scope": "cache",
 *       "cacheName": "AI"
 *     },
 *     {
 *       "type": "notification",
 *       "message": "Customer created successfully",
 *       "severity": "success"
 *     }
 *   ]
 * }
 * ```
 */
export type AutomaticCommand =
    | RefreshDataCommand
    | ShowNotificationCommand;

/**
 * Command to refresh data in the UI.
 *
 * This command tells the UI to refresh cached data or reload specific entities.
 * Use after modifying system configuration or entity data.
 *
 * @example Refresh specific entities
 * ```json
 * {
 *   "type": "refresh:data",
 *   "scope": "entity",
 *   "entityNames": ["Customers", "Contacts"]
 * }
 * ```
 *
 * @example Refresh AI cache
 * ```json
 * {
 *   "type": "refresh:data",
 *   "scope": "cache",
 *   "cacheName": "AI"
 * }
 * ```
 */
export interface RefreshDataCommand {
    /** Command type identifier */
    type: ''refresh:data'';

    /**
     * Scope of data to refresh:
     * - ''entity'': Refresh specific entity data
     * - ''cache'': Refresh a named cache
     */
    scope: ''entity'' | ''cache'';

    /**
     * Array of entity names to refresh.
     * Only used when scope is ''entity''.
     * Example: ["Customers", "Contacts", "Orders"]
     */
    entityNames?: string[];

    /**
     * Name of cache to refresh.
     * Only used when scope is ''cache''.
     */
    cacheName?: CacheName;
}

/**
 * Names of caches that can be refreshed.
 * This list will grow as new caches are added to the system.
 */
export type CacheName =
    | ''Core''     // Core metadata (entities, fields, etc.)
    | ''AI''       // AI metadata (agents, prompts, models, etc.)
    | ''Actions''; // Action metadata (actions, params, etc.)

/**
 * Command to show a notification message to the user.
 *
 * This command displays a toast/notification with a message, typically used
 * to confirm successful operations or alert about errors.
 *
 * @example Success notification
 * ```json
 * {
 *   "type": "notification",
 *   "message": "Customer ''Acme Corp'' created successfully",
 *   "severity": "success",
 *   "duration": 3000
 * }
 * ```
 *
 * @example Error notification
 * ```json
 * {
 *   "type": "notification",
 *   "message": "Failed to save changes: Invalid email format",
 *   "severity": "error",
 *   "duration": 5000
 * }
 * ```
 */
export interface ShowNotificationCommand {
    /** Command type identifier */
    type: ''notification'';

    /**
     * Message text to display.
     * Keep concise but informative (1-2 sentences).
     */
    message: string;

    /**
     * Severity level affecting icon and color:
     * - ''success'': Green with checkmark icon
     * - ''info'': Blue with info icon
     * - ''warning'': Yellow with warning icon
     * - ''error'': Red with error icon
     *
     * Default: ''info''
     */
    severity?: ''success'' | ''info'' | ''warning'' | ''error'';

    /**
     * Duration in milliseconds before auto-dismissing.
     * Set to 0 for manual dismiss only.
     * Default: 3000 (3 seconds)
     */
    duration?: number;
}

```
{% endif %}
{% if __agentTypePromptParams.includeResponseTypeDefinition.forEach != false %}
```ts
/**
 * @fileoverview ForEach loop configuration for AI Agent execution.
 *
 * This module contains the ForEachOperation interface used by all agent types
 * for iterating over collections. Flow agents convert AIAgentStep configuration
 * to this format. Loop agents receive this from LLM responses.
 *
 * @module @memberjunction/ai-core-plus
 * @author MemberJunction.com
 * @since 2.112.0
 */

/**
 * Universal ForEach loop configuration used by all agent types.
 * Flow agents convert AIAgentStep configuration to this format.
 * Loop agents receive this from LLM responses.
 * @since 2.112.0
 */
export interface ForEachOperation {
    /** Path in payload to array to iterate over */
    collectionPath: string;
    /** Variable name for current item (default: "item") */
    itemVariable?: string;
    /** Variable name for loop index (default: "index") */
    indexVariable?: string;
    /** Maximum iterations (undefined=1000, 0=unlimited, >0=limit) */
    maxIterations?: number;
    /** Continue processing if an iteration fails (default: false) */
    continueOnError?: boolean;
    /** Delay between iterations in milliseconds (default: 0) */
    delayBetweenIterationsMs?: number;
    /**
     * Execution mode for iterations (default: ''sequential'')
     * - ''sequential'': Process iterations one at a time in order (safest, maintains order, good for state accumulation)
     * - ''parallel'': Process multiple iterations concurrently (faster for independent operations like web scraping, API calls)
     * @since 2.113.0
     */
    executionMode?: ''sequential'' | ''parallel'';
    /**
     * Maximum number of iterations to process concurrently when executionMode=''parallel'' (default: 10)
     * Only applies when executionMode=''parallel''. Controls batch size to prevent resource exhaustion.
     * Recommended values:
     * - I/O-bound operations (API calls, web scraping): 10-20
     * - CPU-bound operations (data processing): CPU core count
     * - Sub-agent spawning: 2-5 (agents are resource-intensive)
     * @since 2.113.0
     */
    maxConcurrency?: number;

    /** Execute action per iteration */
    action?: {
        name: string;
        params: Record<string, unknown>;
        outputMapping?: string;  // JSON mapping for Flow agents (maps action outputs to payload)
    };

    /** Execute sub-agent per iteration */
    subAgent?: {
        name: string;
        message: string;
        templateParameters?: Record<string, string>;
        /**
         * Runtime context propagated to the sub-agent.
         * Allows sub-agents to access API keys, environment settings, and other
         * runtime configuration from the parent agent.
         * @since 2.127.0
         */
        context?: unknown;
    };
}

```
{% endif %}
{% if __agentTypePromptParams.includeResponseTypeDefinition.while != false %}
```ts
/**
 * @fileoverview While loop configuration for AI Agent execution.
 *
 * This module contains the WhileOperation interface used by all agent types
 * for conditional iteration. Flow agents convert AIAgentStep configuration
 * to this format. Loop agents receive this from LLM responses.
 *
 * @module @memberjunction/ai-core-plus
 * @author MemberJunction.com
 * @since 2.112.0
 */

/**
 * Universal While loop configuration used by all agent types.
 * Flow agents convert AIAgentStep configuration to this format.
 * Loop agents receive this from LLM responses.
 * @since 2.112.0
 */
export interface WhileOperation {
    /** Boolean expression evaluated before each iteration */
    condition: string;
    /** Variable name for attempt context (default: "attempt") */
    itemVariable?: string;
    /** Maximum iterations (undefined=100, 0=unlimited, >0=limit) */
    maxIterations?: number;
    /** Continue processing if an iteration fails (default: false) */
    continueOnError?: boolean;
    /** Delay between iterations in milliseconds (default: 0) */
    delayBetweenIterationsMs?: number;

    /** Execute action per iteration */
    action?: {
        name: string;
        params: Record<string, unknown>;
        outputMapping?: string;  // JSON mapping for Flow agents (maps action outputs to payload)
    };

    /** Execute sub-agent per iteration */
    subAgent?: {
        name: string;
        message: string;
        templateParameters?: Record<string, string>;
        /**
         * Runtime context propagated to the sub-agent.
         * Allows sub-agents to access API keys, environment settings, and other
         * runtime configuration from the parent agent.
         * @since 2.127.0
         */
        context?: unknown;
    };
}

```
{% endif %}

# Execution Pattern
Each iteration:
1. Assess progress toward goal
2. Identify remaining work
3. Choose next step:
   - Continue reasoning
   {% if subAgentCount > 0 %}- Invoke sub-agent{% endif %}
   {% if actionCount > 0 %}- Execute action(s){% endif %}
   - Expand compacted message (if you need full details from a prior result)
4. Loop until done or blocked

Stop only when: goal complete OR unrecoverable failure.

{% if parentAgentName == '''' and subAgentCount > 0 %}
# Role: Top-Level Agent
You have {{subAgentCount}} sub-agents. Delegate appropriately.
{% elseif parentAgentName != '''' %}
# Role: Sub-Agent
Parent: {{ parentAgentName }}. Your results return to parent, not user.
{% endif -%}

{%- if subAgentCount > 0 or actionCount > 0 %}
# Capabilities
{%- if subAgentCount > 0 %}
## Sub-Agents ({{subAgentCount}} available)
Execute one at a time. Their completion ≠ your task completion.
{{ subAgentDetails | safe }}
{%- endif -%}

{%- if actionCount > 0 %}
## Actions ({{actionCount}} available)
Execute multiple in parallel if independent. Retry failed actions up to 3x with adjusted parameters.
{{ actionDetails | safe }}
{%- endif -%}
{%- endif %}

# Agent Definition
Your name is {{ agentName }}

{{ agentDescription | safe }}

## Specialization
{{ agentSpecificPrompt | safe }}

## Key Rules
- `taskComplete`: true only when **ENTIRE** user request fulfilled
- `payloadChangeRequest`: Include only changes (new/update/remove)
- `terminateAfter`: Usually false - review sub-agent results before completing
{% if __agentTypePromptParams.includeForEachDocs != false or __agentTypePromptParams.includeWhileDocs != false %}- **⚠️ ForEach/While results are TEMPORARY (ONE turn only)**: You MUST extract and store needed data in payload immediately after loop completion, or it''s lost forever{% endif %}
{% if subAgentCount == 0 %}- No sub-agents available{% endif %}
{% if actionCount == 0 %}- No actions available{% endif %}

{% if __agentTypePromptParams.includeMessageExpansionDocs != false %}
## Message Expansion

Some action results may be **compacted** to save tokens. Compacted messages show:
- `[Compacted: ...]` or `[AI Summary of N chars...]` annotations
- Key information preserved but details omitted

**When to expand:**
- You need specific details from a prior result
- User asks about information that was in a compacted message
- You need to reference exact data points

**How to expand:**
```json
{
  "taskComplete": false,
  "nextStep": {
    "type": "Retry",
    "messageIndex": 5,
    "reason": "Need full search results to answer user''s question about item #47"
  }
}
```

**After expansion:** The message is restored to full content and you can access all details.
{% endif %}

{% if __agentTypePromptParams.includeForEachDocs != false or __agentTypePromptParams.includeWhileDocs != false %}
## Iterative Operations

**When processing multiple items or retrying operations, use ForEach/While instead of manual iteration.**
{% endif %}

{% if __agentTypePromptParams.includeForEachDocs != false %}
### ForEach: Process Collections Efficiently

When you have an array in the payload and need to perform the same operation on each item:

```json
{
  "taskComplete": false,
  "message": "Processing all 15 customer records",
  "reasoning": "Found customers array, using ForEach for efficient batch processing",
  "nextStep": {
    "type": "ForEach",
    "forEach": {
      "collectionPath": "customers",
      "itemVariable": "customer",
      "action": {
        "name": "Send Welcome Email",
        "params": {
          "to": "customer.email",
          "name": "customer.firstName",
          "data": "customer"
        }
      },
      "maxIterations": 500
    }
  }
}
```

**Benefits:** token efficient - you make ONE decision, action executes N times.

**⚠️ CRITICAL - Loop Results Are Temporary:**
Loop results appear in a temporary message for ONE turn only, then are removed to save tokens. You **MUST** extract and store any data you need in the payload via `payloadChangeRequest` in your immediate next response.

- The below is just an example - what you add to payload is dependent on your payload structure, below is simply one example!

**Example - Extracting Loop Results:**
```json
{
  "taskComplete": false,
  "message": "Processed 50 search results, storing summaries",
  "reasoning": "Loop completed successfully. Extracting key data to payload for later use.",
  "payloadChangeRequest": {
    "newElements": {
      "searchSummaries": [], // Your job is to extract from loop results and put stuff here
      "processedCount": 50, // example of summary field
      "successfulCount": 48, // another example field
      "failedUrls": ["url1", "url2"] // stuff specific to your needs
    }
  },
  "nextStep": {
    "type": "Retry"
  }
}
```

**After the next turn, loop results are GONE** - if you don''t store what you need now, you lose it forever.

#### Parallel Execution for Independent Operations

When iterations are **independent** (don''t depend on each other), use parallel execution for 5-10x speedup:

```json
{
  "taskComplete": false,
  "message": "Fetching content from 50 search results in parallel",
  "reasoning": "Using parallel execution for faster web scraping - iterations are independent",
  "nextStep": {
    "type": "ForEach",
    "forEach": {
      "collectionPath": "searchResults",
      "itemVariable": "result",
      "executionMode": "parallel",
      "maxConcurrency": 15,
      "continueOnError": true,
      "action": {
        "name": "Get Web Page Content",
        "params": {
          "url": "result.url",
          "timeout": 10000
        }
      }
    }
  }
}
```

**Execution modes:**
- `"sequential"` (default): Process one at a time, good for state accumulation
- `"parallel"`: Process multiple concurrently, good for independent I/O operations

**Use parallel when:**
- ✅ Fetching data from multiple URLs
- ✅ Processing independent files/documents
- ✅ Making multiple API calls
- ✅ Running independent actions per item

**Use sequential when:**
- ⚠️ Iterations update shared state incrementally
- ⚠️ Each iteration depends on previous results
- ⚠️ Order of execution matters

**Recommended maxConcurrency:**
- I/O-bound (API calls, web scraping): 10-20
- CPU-bound (data processing): 2-8
- Sub-agent spawning: 2-5
- Database operations: 5-10
{% endif %}

{% if __agentTypePromptParams.includeWhileDocs != false %}
### While: Polling and Conditional Loops

When you need to poll for status, retry operations, or loop while a condition is true:

**Example: Polling for Job Completion**
```json
{
  "taskComplete": false,
  "message": "Waiting for data export job to complete",
  "reasoning": "Export job submitted, polling status every 3 seconds until ready",
  "nextStep": {
    "type": "While",
    "while": {
      "condition": "payload.exportStatus === ''processing''",
      "itemVariable": "checkAttempt",
      "delayBetweenIterationsMs": 3000,
      "action": {
        "name": "Check Export Status",
        "params": {
          "jobId": "payload.exportJobId",
          "attemptNumber": "checkAttempt.attemptNumber"
        }
      },
      "maxIterations": 20
    }
  }
}
```

**Common patterns:**
- Polling: `"condition": "payload.status === ''pending''"` + `delayBetweenIterationsMs`
- Retry with limit: `"condition": "!payload.success && payload.attempts < 5"`
- Pagination: `"condition": "payload.hasMorePages === true"`

**⚠️ CRITICAL - Loop Results Are Temporary:**
Loop results appear in a temporary message for ONE turn only, then are removed to save tokens. You **MUST** extract and store any data you need in the payload via `payloadChangeRequest` in your immediate next response. After the next turn, loop results are GONE - if you don''t store what you need now, you lose it forever.
{% endif %}

{% if __agentTypePromptParams.includeVariableRefsDocs != false %}
### Variable References in Params

- `"item.field"` - Current item''s property (ForEach)
- `"attempt.attemptNumber"` - Current attempt number (While)
- `"payload.field"` - Value from payload
- `"index"` - Loop counter (0-based)
- Static values need no prefix: `"Welcome!"`
{% endif %}

{% if __agentTypePromptParams.includeForEachDocs != false %}
### When to Use ForEach vs Manual Processing

❌ **Don''t do this (inefficient):**
```json
// Iteration 1
{ "nextStep": { "type": "Actions", "actions": [{ "name": "Process Item", "params": { "id": 1 } }] }}
// Iteration 2
{ "nextStep": { "type": "Actions", "actions": [{ "name": "Process Item", "params": { "id": 2 } }] }}
// ... repeat 10 times = 10 LLM calls
```

✅ **Do this (efficient):**
```json
// Single LLM call
{
  "nextStep": {
    "type": "ForEach",
    "forEach": {
      "collectionPath": "items",
      "action": { "name": "Process Item", "params": { "id": "item.id" } }
    }
  }
}
// All 10 items processed, results in payload.forEachResults
```
{% endif %}

**Next step types:**
- `"Actions"`: Execute one or more actions
- `"Sub-Agent"`: Invoke a sub-agent
- `"Chat"`: Send message to user
- `"Retry"`: Continue processing (set `messageIndex` to expand a compacted message first)
{% if __agentTypePromptParams.includeForEachDocs != false %}- `"ForEach"`: Iterate over a collection, executing action/sub-agent per item{% endif %}
{% if __agentTypePromptParams.includeWhileDocs != false %}- `"While"`: Loop while condition is true, executing action/sub-agent per iteration{% endif %}

{% if __agentTypePromptParams.includePayloadInPrompt != false %}
## Current State
**Payload:** Represents your work state. Request changes via `payloadChangeRequest`
```json
{{ _CURRENT_PAYLOAD | dump | safe }}
```
{% endif %}

{% if __agentTypePromptParams.includeResponseFormDocs != false %}
## User Input Collection with Response Forms

When you need information from the user, use `responseForm` to collect structured input:

### Simple Choice (Renders as Buttons)

For quick selections, use a single question with button options:

```json
{
  "taskComplete": false,
  "message": "I found 3 customers matching that name.",
  "responseForm": {
    "questions": [
      {
        "id": "selection",
        "label": "Which customer did you mean?",
        "type": {
          "type": "buttongroup",
          "options": [
            { "value": "cust-123", "label": "Acme Corp (New York)" },
            { "value": "cust-456", "label": "Acme Industries (Texas)" },
            { "value": "none", "label": "Neither - search again" }
          ]
        }
      }
    ]
  }
}
```

### Collecting Multiple Pieces of Information

When you need several data points, create a full form:

```json
{
  "taskComplete": false,
  "message": "I''ll help you create a new customer. Please provide the details:",
  "responseForm": {
    "title": "New Customer",
    "submitLabel": "Create Customer",
    "questions": [
      {
        "id": "name",
        "label": "Company Name",
        "type": { "type": "text", "placeholder": "Acme Corp" },
        "required": true
      },
      {
        "id": "industry",
        "label": "Industry",
        "type": {
          "type": "dropdown",
          "options": [
            { "value": "tech", "label": "Technology" },
            { "value": "finance", "label": "Finance" },
            { "value": "retail", "label": "Retail" },
            { "value": "other", "label": "Other" }
          ]
        },
        "required": true
      },
      {
        "id": "revenue",
        "label": "Annual Revenue (optional)",
        "type": { "type": "currency", "prefix": "$" },
        "required": false,
        "helpText": "Estimated annual revenue in USD"
      },
      {
        "id": "startDate",
        "label": "Expected Start Date",
        "type": { "type": "date" },
        "required": false
      }
    ]
  }
}
```

### Question Types Available

- **Text:** `{ "type": "text", "placeholder": "..." }`, `{ "type": "textarea" }`, `{ "type": "email" }`
- **Numbers:** `{ "type": "number", "min": 0, "max": 100 }`, `{ "type": "currency", "prefix": "$" }`
- **Dates:** `{ "type": "date" }`, `{ "type": "datetime" }`
- **Choices:** `{ "type": "buttongroup", "options": [...] }`, `{ "type": "radio", "options": [...] }`, `{ "type": "dropdown", "options": [...] }`, `{ "type": "checkbox", "options": [...], "multiple": true }`
{% endif %}

{% if __agentTypePromptParams.includeCommandDocs != false %}
## Providing Actions After Completion

When you complete work, provide easy navigation to what you created:

### Opening Resources

```json
{
  "taskComplete": true,
  "message": "Customer record created successfully!",
  "actionableCommands": [
    {
      "type": "open:resource",
      "label": "Open Customer Record",
      "icon": "fa-user",
      "resourceType": "Record",
      "resourceId": "abc-123",
      "mode": "view"
    }
  ],
  "automaticCommands": [
    {
      "type": "notification",
      "message": "Customer ''Acme Corp'' created successfully",
      "severity": "success"
    }
  ]
}
```

### Opening Dashboards

```json
{
  "taskComplete": true,
  "message": "Created ''Sales Metrics Dashboard'' with 6 widgets showing revenue, pipeline, and conversions.",
  "actionableCommands": [
    {
      "type": "open:resource",
      "label": "View Dashboard",
      "icon": "fa-chart-line",
      "resourceType": "Dashboard",
      "resourceId": "dash-456"
    }
  ]
}
```

### Opening External URLs

```json
{
  "taskComplete": true,
  "message": "Here''s the company information I found.",
  "actionableCommands": [
    {
      "type": "open:url",
      "label": "Visit Company Website",
      "icon": "fa-external-link",
      "url": "https://example.com",
      "newTab": true
    }
  ]
}
```

## Refreshing UI After Changes

When you modify system configuration or entity data, tell the UI to refresh:

### Refresh Specific Entities

```json
{
  "automaticCommands": [
    {
      "type": "refresh:data",
      "scope": "entity",
      "entityNames": ["Customers", "Contacts"]
    }
  ]
}
```

### Refresh AI Cache (After Modifying Agents/Prompts)

```json
{
  "automaticCommands": [
    {
      "type": "refresh:data",
      "scope": "cache",
      "cacheName": "AI"
    }
  ]
}
```

### Cache Names Available

- `"Core"` - Core metadata (entities, fields, etc.)
- `"AI"` - AI metadata (agents, prompts, models, etc.)
- `"Actions"` - Action metadata (actions, params, etc.)

## Complete Example: Agent Manager Creating New Agent

```json
{
  "taskComplete": true,
  "message": "Successfully created ''Customer Service Agent'' with 3 sub-agents and 12 actions.",
  "reasoning": "Agent architecture designed, database records created, configuration validated",
  "actionableCommands": [
    {
      "type": "open:resource",
      "label": "View New Agent",
      "icon": "fa-robot",
      "resourceType": "Record",
      "resourceId": "agent-789",
      "mode": "view"
    }
  ],
  "automaticCommands": [
    {
      "type": "refresh:data",
      "scope": "cache",
      "cacheName": "AI"
    },
    {
      "type": "notification",
      "message": "Agent ''Customer Service Agent'' created",
      "severity": "success"
    }
  ]
}
```
{% endif %}

# **CRITICAL**
- Your **entire** response must be only JSON with no leading or trailing characters!
- Must adhere to [LoopAgentResponse](#response-format)
{% if __agentTypePromptParams.includeResponseFormDocs != false %}- Use `responseForm` when you need user input (replaces old suggestedResponses pattern){% endif %}
{% if __agentTypePromptParams.includeCommandDocs != false %}- Use `actionableCommands` to provide navigation buttons after completing work
- Use `automaticCommands` to refresh data or show notifications{% endif %}
'
SET
  @Priority_1c527765 = 1
SET
  @IsActive_1c527765 = 1
SET
  @ID_1c527765 = '1C4B8853-04B8-4BF1-92D6-B102436837D7'
EXEC [${flyway:defaultSchema}].spUpdateTemplateContent @TemplateID = @TemplateID_1c527765,
  @TypeID = @TypeID_1c527765,
  @TemplateText = @TemplateText_1c527765,
  @Priority = @Priority_1c527765,
  @IsActive = @IsActive_1c527765,
  @ID = @ID_1c527765;

-- Save Template Params (core SP call only)
DECLARE @ID_06335ff2 UNIQUEIDENTIFIER,
@TemplateID_06335ff2 UNIQUEIDENTIFIER,
@Name_06335ff2 NVARCHAR(255),
@Description_06335ff2 NVARCHAR(MAX),
@Type_06335ff2 NVARCHAR(20),
@DefaultValue_06335ff2 NVARCHAR(MAX),
@IsRequired_06335ff2 BIT,
@LinkedParameterName_06335ff2 NVARCHAR(255),
@LinkedParameterField_06335ff2 NVARCHAR(500),
@ExtraFilter_06335ff2 NVARCHAR(MAX),
@EntityID_06335ff2 UNIQUEIDENTIFIER,
@RecordID_06335ff2 NVARCHAR(2000),
@OrderBy_06335ff2 NVARCHAR(MAX),
@TemplateContentID_06335ff2 UNIQUEIDENTIFIER
SET
  @ID_06335ff2 = 'b96b15b1-432d-4fbd-bc84-418f23c860e7'
SET
  @TemplateID_06335ff2 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_06335ff2 = N'__agentTypePromptParams'
SET
  @Description_06335ff2 = N'Configuration object controlling which template sections are included'
SET
  @Type_06335ff2 = N'Object'
SET
  @IsRequired_06335ff2 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_06335ff2,
  @TemplateID = @TemplateID_06335ff2,
  @Name = @Name_06335ff2,
  @Description = @Description_06335ff2,
  @Type = @Type_06335ff2,
  @DefaultValue = @DefaultValue_06335ff2,
  @IsRequired = @IsRequired_06335ff2,
  @LinkedParameterName = @LinkedParameterName_06335ff2,
  @LinkedParameterField = @LinkedParameterField_06335ff2,
  @ExtraFilter = @ExtraFilter_06335ff2,
  @EntityID = @EntityID_06335ff2,
  @RecordID = @RecordID_06335ff2,
  @OrderBy = @OrderBy_06335ff2,
  @TemplateContentID = @TemplateContentID_06335ff2;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_18c567c9 UNIQUEIDENTIFIER,
@Name_18c567c9 NVARCHAR(255),
@Description_18c567c9 NVARCHAR(MAX),
@Type_18c567c9 NVARCHAR(20),
@DefaultValue_18c567c9 NVARCHAR(MAX),
@IsRequired_18c567c9 BIT,
@LinkedParameterName_18c567c9 NVARCHAR(255),
@LinkedParameterField_18c567c9 NVARCHAR(500),
@ExtraFilter_18c567c9 NVARCHAR(MAX),
@EntityID_18c567c9 UNIQUEIDENTIFIER,
@RecordID_18c567c9 NVARCHAR(2000),
@OrderBy_18c567c9 NVARCHAR(MAX),
@TemplateContentID_18c567c9 UNIQUEIDENTIFIER,
@ID_18c567c9 UNIQUEIDENTIFIER
SET
  @TemplateID_18c567c9 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_18c567c9 = N'actionCount'
SET
  @Description_18c567c9 = N'Number of available actions for execution'
SET
  @Type_18c567c9 = N'Scalar'
SET
  @DefaultValue_18c567c9 = N'0'
SET
  @IsRequired_18c567c9 = 0
SET
  @ID_18c567c9 = '45998072-D862-4550-BA01-3F28E5C48CDE'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_18c567c9,
  @Name = @Name_18c567c9,
  @Description = @Description_18c567c9,
  @Type = @Type_18c567c9,
  @DefaultValue = @DefaultValue_18c567c9,
  @IsRequired = @IsRequired_18c567c9,
  @LinkedParameterName = @LinkedParameterName_18c567c9,
  @LinkedParameterField = @LinkedParameterField_18c567c9,
  @ExtraFilter = @ExtraFilter_18c567c9,
  @EntityID = @EntityID_18c567c9,
  @RecordID = @RecordID_18c567c9,
  @OrderBy = @OrderBy_18c567c9,
  @TemplateContentID = @TemplateContentID_18c567c9,
  @ID = @ID_18c567c9;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_dd8d0911 UNIQUEIDENTIFIER,
@Name_dd8d0911 NVARCHAR(255),
@Description_dd8d0911 NVARCHAR(MAX),
@Type_dd8d0911 NVARCHAR(20),
@DefaultValue_dd8d0911 NVARCHAR(MAX),
@IsRequired_dd8d0911 BIT,
@LinkedParameterName_dd8d0911 NVARCHAR(255),
@LinkedParameterField_dd8d0911 NVARCHAR(500),
@ExtraFilter_dd8d0911 NVARCHAR(MAX),
@EntityID_dd8d0911 UNIQUEIDENTIFIER,
@RecordID_dd8d0911 NVARCHAR(2000),
@OrderBy_dd8d0911 NVARCHAR(MAX),
@TemplateContentID_dd8d0911 UNIQUEIDENTIFIER,
@ID_dd8d0911 UNIQUEIDENTIFIER
SET
  @TemplateID_dd8d0911 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_dd8d0911 = N'subAgentDetails'
SET
  @Description_dd8d0911 = N'Detailed information about available sub-agents'
SET
  @Type_dd8d0911 = N'Scalar'
SET
  @IsRequired_dd8d0911 = 0
SET
  @ID_dd8d0911 = '78EE7440-A988-45A3-B7DC-40C2C521743D'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_dd8d0911,
  @Name = @Name_dd8d0911,
  @Description = @Description_dd8d0911,
  @Type = @Type_dd8d0911,
  @DefaultValue = @DefaultValue_dd8d0911,
  @IsRequired = @IsRequired_dd8d0911,
  @LinkedParameterName = @LinkedParameterName_dd8d0911,
  @LinkedParameterField = @LinkedParameterField_dd8d0911,
  @ExtraFilter = @ExtraFilter_dd8d0911,
  @EntityID = @EntityID_dd8d0911,
  @RecordID = @RecordID_dd8d0911,
  @OrderBy = @OrderBy_dd8d0911,
  @TemplateContentID = @TemplateContentID_dd8d0911,
  @ID = @ID_dd8d0911;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_01d4f92d UNIQUEIDENTIFIER,
@Name_01d4f92d NVARCHAR(255),
@Description_01d4f92d NVARCHAR(MAX),
@Type_01d4f92d NVARCHAR(20),
@DefaultValue_01d4f92d NVARCHAR(MAX),
@IsRequired_01d4f92d BIT,
@LinkedParameterName_01d4f92d NVARCHAR(255),
@LinkedParameterField_01d4f92d NVARCHAR(500),
@ExtraFilter_01d4f92d NVARCHAR(MAX),
@EntityID_01d4f92d UNIQUEIDENTIFIER,
@RecordID_01d4f92d NVARCHAR(2000),
@OrderBy_01d4f92d NVARCHAR(MAX),
@TemplateContentID_01d4f92d UNIQUEIDENTIFIER,
@ID_01d4f92d UNIQUEIDENTIFIER
SET
  @TemplateID_01d4f92d = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_01d4f92d = N'subAgentCount'
SET
  @Description_01d4f92d = N'Number of available sub-agents for delegation'
SET
  @Type_01d4f92d = N'Scalar'
SET
  @DefaultValue_01d4f92d = N'0'
SET
  @IsRequired_01d4f92d = 0
SET
  @ID_01d4f92d = '75AB72C0-DA63-47EF-AD18-4E758186628E'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_01d4f92d,
  @Name = @Name_01d4f92d,
  @Description = @Description_01d4f92d,
  @Type = @Type_01d4f92d,
  @DefaultValue = @DefaultValue_01d4f92d,
  @IsRequired = @IsRequired_01d4f92d,
  @LinkedParameterName = @LinkedParameterName_01d4f92d,
  @LinkedParameterField = @LinkedParameterField_01d4f92d,
  @ExtraFilter = @ExtraFilter_01d4f92d,
  @EntityID = @EntityID_01d4f92d,
  @RecordID = @RecordID_01d4f92d,
  @OrderBy = @OrderBy_01d4f92d,
  @TemplateContentID = @TemplateContentID_01d4f92d,
  @ID = @ID_01d4f92d;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_24029385 UNIQUEIDENTIFIER,
@Name_24029385 NVARCHAR(255),
@Description_24029385 NVARCHAR(MAX),
@Type_24029385 NVARCHAR(20),
@DefaultValue_24029385 NVARCHAR(MAX),
@IsRequired_24029385 BIT,
@LinkedParameterName_24029385 NVARCHAR(255),
@LinkedParameterField_24029385 NVARCHAR(500),
@ExtraFilter_24029385 NVARCHAR(MAX),
@EntityID_24029385 UNIQUEIDENTIFIER,
@RecordID_24029385 NVARCHAR(2000),
@OrderBy_24029385 NVARCHAR(MAX),
@TemplateContentID_24029385 UNIQUEIDENTIFIER,
@ID_24029385 UNIQUEIDENTIFIER
SET
  @TemplateID_24029385 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_24029385 = N'agentDescription'
SET
  @Description_24029385 = N'Description of the agent''s purpose and capabilities'
SET
  @Type_24029385 = N'Scalar'
SET
  @IsRequired_24029385 = 0
SET
  @ID_24029385 = '9B5491C6-68A5-4BB9-B945-4F152EC4F159'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_24029385,
  @Name = @Name_24029385,
  @Description = @Description_24029385,
  @Type = @Type_24029385,
  @DefaultValue = @DefaultValue_24029385,
  @IsRequired = @IsRequired_24029385,
  @LinkedParameterName = @LinkedParameterName_24029385,
  @LinkedParameterField = @LinkedParameterField_24029385,
  @ExtraFilter = @ExtraFilter_24029385,
  @EntityID = @EntityID_24029385,
  @RecordID = @RecordID_24029385,
  @OrderBy = @OrderBy_24029385,
  @TemplateContentID = @TemplateContentID_24029385,
  @ID = @ID_24029385;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_9c89dfa5 UNIQUEIDENTIFIER,
@Name_9c89dfa5 NVARCHAR(255),
@Description_9c89dfa5 NVARCHAR(MAX),
@Type_9c89dfa5 NVARCHAR(20),
@DefaultValue_9c89dfa5 NVARCHAR(MAX),
@IsRequired_9c89dfa5 BIT,
@LinkedParameterName_9c89dfa5 NVARCHAR(255),
@LinkedParameterField_9c89dfa5 NVARCHAR(500),
@ExtraFilter_9c89dfa5 NVARCHAR(MAX),
@EntityID_9c89dfa5 UNIQUEIDENTIFIER,
@RecordID_9c89dfa5 NVARCHAR(2000),
@OrderBy_9c89dfa5 NVARCHAR(MAX),
@TemplateContentID_9c89dfa5 UNIQUEIDENTIFIER,
@ID_9c89dfa5 UNIQUEIDENTIFIER
SET
  @TemplateID_9c89dfa5 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_9c89dfa5 = N'parentAgentName'
SET
  @Description_9c89dfa5 = N'Name of the parent agent when this is a sub-agent'
SET
  @Type_9c89dfa5 = N'Scalar'
SET
  @DefaultValue_9c89dfa5 = N''''''
SET
  @IsRequired_9c89dfa5 = 0
SET
  @ID_9c89dfa5 = 'BB04E562-96A7-4A6D-A3CA-50FA8786D752'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_9c89dfa5,
  @Name = @Name_9c89dfa5,
  @Description = @Description_9c89dfa5,
  @Type = @Type_9c89dfa5,
  @DefaultValue = @DefaultValue_9c89dfa5,
  @IsRequired = @IsRequired_9c89dfa5,
  @LinkedParameterName = @LinkedParameterName_9c89dfa5,
  @LinkedParameterField = @LinkedParameterField_9c89dfa5,
  @ExtraFilter = @ExtraFilter_9c89dfa5,
  @EntityID = @EntityID_9c89dfa5,
  @RecordID = @RecordID_9c89dfa5,
  @OrderBy = @OrderBy_9c89dfa5,
  @TemplateContentID = @TemplateContentID_9c89dfa5,
  @ID = @ID_9c89dfa5;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_e055e596 UNIQUEIDENTIFIER,
@Name_e055e596 NVARCHAR(255),
@Description_e055e596 NVARCHAR(MAX),
@Type_e055e596 NVARCHAR(20),
@DefaultValue_e055e596 NVARCHAR(MAX),
@IsRequired_e055e596 BIT,
@LinkedParameterName_e055e596 NVARCHAR(255),
@LinkedParameterField_e055e596 NVARCHAR(500),
@ExtraFilter_e055e596 NVARCHAR(MAX),
@EntityID_e055e596 UNIQUEIDENTIFIER,
@RecordID_e055e596 NVARCHAR(2000),
@OrderBy_e055e596 NVARCHAR(MAX),
@TemplateContentID_e055e596 UNIQUEIDENTIFIER,
@ID_e055e596 UNIQUEIDENTIFIER
SET
  @TemplateID_e055e596 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_e055e596 = N'actionDetails'
SET
  @Description_e055e596 = N'Detailed information about available actions'
SET
  @Type_e055e596 = N'Scalar'
SET
  @IsRequired_e055e596 = 0
SET
  @ID_e055e596 = 'F5494D19-064C-4428-B1BE-6B6E35A9ACFC'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_e055e596,
  @Name = @Name_e055e596,
  @Description = @Description_e055e596,
  @Type = @Type_e055e596,
  @DefaultValue = @DefaultValue_e055e596,
  @IsRequired = @IsRequired_e055e596,
  @LinkedParameterName = @LinkedParameterName_e055e596,
  @LinkedParameterField = @LinkedParameterField_e055e596,
  @ExtraFilter = @ExtraFilter_e055e596,
  @EntityID = @EntityID_e055e596,
  @RecordID = @RecordID_e055e596,
  @OrderBy = @OrderBy_e055e596,
  @TemplateContentID = @TemplateContentID_e055e596,
  @ID = @ID_e055e596;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_8f5d9708 UNIQUEIDENTIFIER,
@Name_8f5d9708 NVARCHAR(255),
@Description_8f5d9708 NVARCHAR(MAX),
@Type_8f5d9708 NVARCHAR(20),
@DefaultValue_8f5d9708 NVARCHAR(MAX),
@IsRequired_8f5d9708 BIT,
@LinkedParameterName_8f5d9708 NVARCHAR(255),
@LinkedParameterField_8f5d9708 NVARCHAR(500),
@ExtraFilter_8f5d9708 NVARCHAR(MAX),
@EntityID_8f5d9708 UNIQUEIDENTIFIER,
@RecordID_8f5d9708 NVARCHAR(2000),
@OrderBy_8f5d9708 NVARCHAR(MAX),
@TemplateContentID_8f5d9708 UNIQUEIDENTIFIER,
@ID_8f5d9708 UNIQUEIDENTIFIER
SET
  @TemplateID_8f5d9708 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_8f5d9708 = N'subAgentDetails'
SET
  @Description_8f5d9708 = N'Detailed information about available sub-agents'
SET
  @Type_8f5d9708 = N'Scalar'
SET
  @IsRequired_8f5d9708 = 0
SET
  @ID_8f5d9708 = 'D850831D-0655-41D0-9820-70198FC7B2CD'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_8f5d9708,
  @Name = @Name_8f5d9708,
  @Description = @Description_8f5d9708,
  @Type = @Type_8f5d9708,
  @DefaultValue = @DefaultValue_8f5d9708,
  @IsRequired = @IsRequired_8f5d9708,
  @LinkedParameterName = @LinkedParameterName_8f5d9708,
  @LinkedParameterField = @LinkedParameterField_8f5d9708,
  @ExtraFilter = @ExtraFilter_8f5d9708,
  @EntityID = @EntityID_8f5d9708,
  @RecordID = @RecordID_8f5d9708,
  @OrderBy = @OrderBy_8f5d9708,
  @TemplateContentID = @TemplateContentID_8f5d9708,
  @ID = @ID_8f5d9708;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_911602a3 UNIQUEIDENTIFIER,
@Name_911602a3 NVARCHAR(255),
@Description_911602a3 NVARCHAR(MAX),
@Type_911602a3 NVARCHAR(20),
@DefaultValue_911602a3 NVARCHAR(MAX),
@IsRequired_911602a3 BIT,
@LinkedParameterName_911602a3 NVARCHAR(255),
@LinkedParameterField_911602a3 NVARCHAR(500),
@ExtraFilter_911602a3 NVARCHAR(MAX),
@EntityID_911602a3 UNIQUEIDENTIFIER,
@RecordID_911602a3 NVARCHAR(2000),
@OrderBy_911602a3 NVARCHAR(MAX),
@TemplateContentID_911602a3 UNIQUEIDENTIFIER,
@ID_911602a3 UNIQUEIDENTIFIER
SET
  @TemplateID_911602a3 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_911602a3 = N'subAgentCount'
SET
  @Description_911602a3 = N'Number of available sub-agents for delegation'
SET
  @Type_911602a3 = N'Scalar'
SET
  @DefaultValue_911602a3 = N'0'
SET
  @IsRequired_911602a3 = 0
SET
  @ID_911602a3 = 'F5254B05-509D-474C-809B-78070AB1FE7D'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_911602a3,
  @Name = @Name_911602a3,
  @Description = @Description_911602a3,
  @Type = @Type_911602a3,
  @DefaultValue = @DefaultValue_911602a3,
  @IsRequired = @IsRequired_911602a3,
  @LinkedParameterName = @LinkedParameterName_911602a3,
  @LinkedParameterField = @LinkedParameterField_911602a3,
  @ExtraFilter = @ExtraFilter_911602a3,
  @EntityID = @EntityID_911602a3,
  @RecordID = @RecordID_911602a3,
  @OrderBy = @OrderBy_911602a3,
  @TemplateContentID = @TemplateContentID_911602a3,
  @ID = @ID_911602a3;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_f4fa3c94 UNIQUEIDENTIFIER,
@Name_f4fa3c94 NVARCHAR(255),
@Description_f4fa3c94 NVARCHAR(MAX),
@Type_f4fa3c94 NVARCHAR(20),
@DefaultValue_f4fa3c94 NVARCHAR(MAX),
@IsRequired_f4fa3c94 BIT,
@LinkedParameterName_f4fa3c94 NVARCHAR(255),
@LinkedParameterField_f4fa3c94 NVARCHAR(500),
@ExtraFilter_f4fa3c94 NVARCHAR(MAX),
@EntityID_f4fa3c94 UNIQUEIDENTIFIER,
@RecordID_f4fa3c94 NVARCHAR(2000),
@OrderBy_f4fa3c94 NVARCHAR(MAX),
@TemplateContentID_f4fa3c94 UNIQUEIDENTIFIER,
@ID_f4fa3c94 UNIQUEIDENTIFIER
SET
  @TemplateID_f4fa3c94 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_f4fa3c94 = N'agentSpecificPrompt'
SET
  @Description_f4fa3c94 = N'Agent-specific instructions and specialization details'
SET
  @Type_f4fa3c94 = N'Scalar'
SET
  @IsRequired_f4fa3c94 = 0
SET
  @ID_f4fa3c94 = '7F96CEC4-1E52-4A4F-951F-8CA30668D6C1'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_f4fa3c94,
  @Name = @Name_f4fa3c94,
  @Description = @Description_f4fa3c94,
  @Type = @Type_f4fa3c94,
  @DefaultValue = @DefaultValue_f4fa3c94,
  @IsRequired = @IsRequired_f4fa3c94,
  @LinkedParameterName = @LinkedParameterName_f4fa3c94,
  @LinkedParameterField = @LinkedParameterField_f4fa3c94,
  @ExtraFilter = @ExtraFilter_f4fa3c94,
  @EntityID = @EntityID_f4fa3c94,
  @RecordID = @RecordID_f4fa3c94,
  @OrderBy = @OrderBy_f4fa3c94,
  @TemplateContentID = @TemplateContentID_f4fa3c94,
  @ID = @ID_f4fa3c94;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_2918605f UNIQUEIDENTIFIER,
@Name_2918605f NVARCHAR(255),
@Description_2918605f NVARCHAR(MAX),
@Type_2918605f NVARCHAR(20),
@DefaultValue_2918605f NVARCHAR(MAX),
@IsRequired_2918605f BIT,
@LinkedParameterName_2918605f NVARCHAR(255),
@LinkedParameterField_2918605f NVARCHAR(500),
@ExtraFilter_2918605f NVARCHAR(MAX),
@EntityID_2918605f UNIQUEIDENTIFIER,
@RecordID_2918605f NVARCHAR(2000),
@OrderBy_2918605f NVARCHAR(MAX),
@TemplateContentID_2918605f UNIQUEIDENTIFIER,
@ID_2918605f UNIQUEIDENTIFIER
SET
  @TemplateID_2918605f = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_2918605f = N'agentSpecificPrompt'
SET
  @Description_2918605f = N'Agent-specific instructions and specialization details'
SET
  @Type_2918605f = N'Scalar'
SET
  @IsRequired_2918605f = 0
SET
  @ID_2918605f = '2CA590FB-7E6A-41B1-AD1D-C55A30D6B27F'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_2918605f,
  @Name = @Name_2918605f,
  @Description = @Description_2918605f,
  @Type = @Type_2918605f,
  @DefaultValue = @DefaultValue_2918605f,
  @IsRequired = @IsRequired_2918605f,
  @LinkedParameterName = @LinkedParameterName_2918605f,
  @LinkedParameterField = @LinkedParameterField_2918605f,
  @ExtraFilter = @ExtraFilter_2918605f,
  @EntityID = @EntityID_2918605f,
  @RecordID = @RecordID_2918605f,
  @OrderBy = @OrderBy_2918605f,
  @TemplateContentID = @TemplateContentID_2918605f,
  @ID = @ID_2918605f;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_585cabed UNIQUEIDENTIFIER,
@Name_585cabed NVARCHAR(255),
@Description_585cabed NVARCHAR(MAX),
@Type_585cabed NVARCHAR(20),
@DefaultValue_585cabed NVARCHAR(MAX),
@IsRequired_585cabed BIT,
@LinkedParameterName_585cabed NVARCHAR(255),
@LinkedParameterField_585cabed NVARCHAR(500),
@ExtraFilter_585cabed NVARCHAR(MAX),
@EntityID_585cabed UNIQUEIDENTIFIER,
@RecordID_585cabed NVARCHAR(2000),
@OrderBy_585cabed NVARCHAR(MAX),
@TemplateContentID_585cabed UNIQUEIDENTIFIER,
@ID_585cabed UNIQUEIDENTIFIER
SET
  @TemplateID_585cabed = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_585cabed = N'actionDetails'
SET
  @Description_585cabed = N'Detailed information about available actions'
SET
  @Type_585cabed = N'Scalar'
SET
  @IsRequired_585cabed = 0
SET
  @ID_585cabed = '85001831-9A63-4711-B3E2-D40323FED1C9'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_585cabed,
  @Name = @Name_585cabed,
  @Description = @Description_585cabed,
  @Type = @Type_585cabed,
  @DefaultValue = @DefaultValue_585cabed,
  @IsRequired = @IsRequired_585cabed,
  @LinkedParameterName = @LinkedParameterName_585cabed,
  @LinkedParameterField = @LinkedParameterField_585cabed,
  @ExtraFilter = @ExtraFilter_585cabed,
  @EntityID = @EntityID_585cabed,
  @RecordID = @RecordID_585cabed,
  @OrderBy = @OrderBy_585cabed,
  @TemplateContentID = @TemplateContentID_585cabed,
  @ID = @ID_585cabed;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_cd295089 UNIQUEIDENTIFIER,
@Name_cd295089 NVARCHAR(255),
@Description_cd295089 NVARCHAR(MAX),
@Type_cd295089 NVARCHAR(20),
@DefaultValue_cd295089 NVARCHAR(MAX),
@IsRequired_cd295089 BIT,
@LinkedParameterName_cd295089 NVARCHAR(255),
@LinkedParameterField_cd295089 NVARCHAR(500),
@ExtraFilter_cd295089 NVARCHAR(MAX),
@EntityID_cd295089 UNIQUEIDENTIFIER,
@RecordID_cd295089 NVARCHAR(2000),
@OrderBy_cd295089 NVARCHAR(MAX),
@TemplateContentID_cd295089 UNIQUEIDENTIFIER,
@ID_cd295089 UNIQUEIDENTIFIER
SET
  @TemplateID_cd295089 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_cd295089 = N'_CURRENT_PAYLOAD'
SET
  @Description_cd295089 = N'Current state payload data for the agent'
SET
  @Type_cd295089 = N'Object'
SET
  @IsRequired_cd295089 = 0
SET
  @ID_cd295089 = '5A59085C-65F5-4364-95E1-E8331C896AD3'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_cd295089,
  @Name = @Name_cd295089,
  @Description = @Description_cd295089,
  @Type = @Type_cd295089,
  @DefaultValue = @DefaultValue_cd295089,
  @IsRequired = @IsRequired_cd295089,
  @LinkedParameterName = @LinkedParameterName_cd295089,
  @LinkedParameterField = @LinkedParameterField_cd295089,
  @ExtraFilter = @ExtraFilter_cd295089,
  @EntityID = @EntityID_cd295089,
  @RecordID = @RecordID_cd295089,
  @OrderBy = @OrderBy_cd295089,
  @TemplateContentID = @TemplateContentID_cd295089,
  @ID = @ID_cd295089;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_19b86ef1 UNIQUEIDENTIFIER,
@Name_19b86ef1 NVARCHAR(255),
@Description_19b86ef1 NVARCHAR(MAX),
@Type_19b86ef1 NVARCHAR(20),
@DefaultValue_19b86ef1 NVARCHAR(MAX),
@IsRequired_19b86ef1 BIT,
@LinkedParameterName_19b86ef1 NVARCHAR(255),
@LinkedParameterField_19b86ef1 NVARCHAR(500),
@ExtraFilter_19b86ef1 NVARCHAR(MAX),
@EntityID_19b86ef1 UNIQUEIDENTIFIER,
@RecordID_19b86ef1 NVARCHAR(2000),
@OrderBy_19b86ef1 NVARCHAR(MAX),
@TemplateContentID_19b86ef1 UNIQUEIDENTIFIER,
@ID_19b86ef1 UNIQUEIDENTIFIER
SET
  @TemplateID_19b86ef1 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_19b86ef1 = N'agentDescription'
SET
  @Description_19b86ef1 = N'Description of the agent''s purpose and capabilities'
SET
  @Type_19b86ef1 = N'Scalar'
SET
  @IsRequired_19b86ef1 = 0
SET
  @ID_19b86ef1 = '7F0027DA-F662-4C4D-AC66-EDC84A9DBF0C'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_19b86ef1,
  @Name = @Name_19b86ef1,
  @Description = @Description_19b86ef1,
  @Type = @Type_19b86ef1,
  @DefaultValue = @DefaultValue_19b86ef1,
  @IsRequired = @IsRequired_19b86ef1,
  @LinkedParameterName = @LinkedParameterName_19b86ef1,
  @LinkedParameterField = @LinkedParameterField_19b86ef1,
  @ExtraFilter = @ExtraFilter_19b86ef1,
  @EntityID = @EntityID_19b86ef1,
  @RecordID = @RecordID_19b86ef1,
  @OrderBy = @OrderBy_19b86ef1,
  @TemplateContentID = @TemplateContentID_19b86ef1,
  @ID = @ID_19b86ef1;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_01bceaea UNIQUEIDENTIFIER,
@Name_01bceaea NVARCHAR(255),
@Description_01bceaea NVARCHAR(MAX),
@Type_01bceaea NVARCHAR(20),
@DefaultValue_01bceaea NVARCHAR(MAX),
@IsRequired_01bceaea BIT,
@LinkedParameterName_01bceaea NVARCHAR(255),
@LinkedParameterField_01bceaea NVARCHAR(500),
@ExtraFilter_01bceaea NVARCHAR(MAX),
@EntityID_01bceaea UNIQUEIDENTIFIER,
@RecordID_01bceaea NVARCHAR(2000),
@OrderBy_01bceaea NVARCHAR(MAX),
@TemplateContentID_01bceaea UNIQUEIDENTIFIER,
@ID_01bceaea UNIQUEIDENTIFIER
SET
  @TemplateID_01bceaea = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_01bceaea = N'parentAgentName'
SET
  @Description_01bceaea = N'Name of the parent agent when this is a sub-agent'
SET
  @Type_01bceaea = N'Scalar'
SET
  @DefaultValue_01bceaea = N''''''
SET
  @IsRequired_01bceaea = 0
SET
  @ID_01bceaea = '4B7703EE-40C7-4B13-8C8A-F948D0950FB3'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_01bceaea,
  @Name = @Name_01bceaea,
  @Description = @Description_01bceaea,
  @Type = @Type_01bceaea,
  @DefaultValue = @DefaultValue_01bceaea,
  @IsRequired = @IsRequired_01bceaea,
  @LinkedParameterName = @LinkedParameterName_01bceaea,
  @LinkedParameterField = @LinkedParameterField_01bceaea,
  @ExtraFilter = @ExtraFilter_01bceaea,
  @EntityID = @EntityID_01bceaea,
  @RecordID = @RecordID_01bceaea,
  @OrderBy = @OrderBy_01bceaea,
  @TemplateContentID = @TemplateContentID_01bceaea,
  @ID = @ID_01bceaea;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_eb6a1ed4 UNIQUEIDENTIFIER,
@Name_eb6a1ed4 NVARCHAR(255),
@Description_eb6a1ed4 NVARCHAR(MAX),
@Type_eb6a1ed4 NVARCHAR(20),
@DefaultValue_eb6a1ed4 NVARCHAR(MAX),
@IsRequired_eb6a1ed4 BIT,
@LinkedParameterName_eb6a1ed4 NVARCHAR(255),
@LinkedParameterField_eb6a1ed4 NVARCHAR(500),
@ExtraFilter_eb6a1ed4 NVARCHAR(MAX),
@EntityID_eb6a1ed4 UNIQUEIDENTIFIER,
@RecordID_eb6a1ed4 NVARCHAR(2000),
@OrderBy_eb6a1ed4 NVARCHAR(MAX),
@TemplateContentID_eb6a1ed4 UNIQUEIDENTIFIER,
@ID_eb6a1ed4 UNIQUEIDENTIFIER
SET
  @TemplateID_eb6a1ed4 = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @Name_eb6a1ed4 = N'actionCount'
SET
  @Description_eb6a1ed4 = N'Number of available actions for execution'
SET
  @Type_eb6a1ed4 = N'Scalar'
SET
  @DefaultValue_eb6a1ed4 = N'0'
SET
  @IsRequired_eb6a1ed4 = 0
SET
  @ID_eb6a1ed4 = 'ADEF6864-F5D6-497C-B5B2-FA7F9C6C62A1'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_eb6a1ed4,
  @Name = @Name_eb6a1ed4,
  @Description = @Description_eb6a1ed4,
  @Type = @Type_eb6a1ed4,
  @DefaultValue = @DefaultValue_eb6a1ed4,
  @IsRequired = @IsRequired_eb6a1ed4,
  @LinkedParameterName = @LinkedParameterName_eb6a1ed4,
  @LinkedParameterField = @LinkedParameterField_eb6a1ed4,
  @ExtraFilter = @ExtraFilter_eb6a1ed4,
  @EntityID = @EntityID_eb6a1ed4,
  @RecordID = @RecordID_eb6a1ed4,
  @OrderBy = @OrderBy_eb6a1ed4,
  @TemplateContentID = @TemplateContentID_eb6a1ed4,
  @ID = @ID_eb6a1ed4;

-- Save AI Prompts (core SP call only)
DECLARE @Name_3809383c NVARCHAR(255),
@Description_3809383c NVARCHAR(MAX),
@TemplateID_3809383c UNIQUEIDENTIFIER,
@CategoryID_3809383c UNIQUEIDENTIFIER,
@TypeID_3809383c UNIQUEIDENTIFIER,
@Status_3809383c NVARCHAR(50),
@ResponseFormat_3809383c NVARCHAR(20),
@ModelSpecificResponseFormat_3809383c NVARCHAR(MAX),
@AIModelTypeID_3809383c UNIQUEIDENTIFIER,
@MinPowerRank_3809383c INT,
@SelectionStrategy_3809383c NVARCHAR(20),
@PowerPreference_3809383c NVARCHAR(20),
@ParallelizationMode_3809383c NVARCHAR(20),
@ParallelCount_3809383c INT,
@ParallelConfigParam_3809383c NVARCHAR(100),
@OutputType_3809383c NVARCHAR(50),
@OutputExample_3809383c NVARCHAR(MAX),
@ValidationBehavior_3809383c NVARCHAR(50),
@MaxRetries_3809383c INT,
@RetryDelayMS_3809383c INT,
@RetryStrategy_3809383c NVARCHAR(20),
@ResultSelectorPromptID_3809383c UNIQUEIDENTIFIER,
@EnableCaching_3809383c BIT,
@CacheTTLSeconds_3809383c INT,
@CacheMatchType_3809383c NVARCHAR(20),
@CacheSimilarityThreshold_3809383c FLOAT(53),
@CacheMustMatchModel_3809383c BIT,
@CacheMustMatchVendor_3809383c BIT,
@CacheMustMatchAgent_3809383c BIT,
@CacheMustMatchConfig_3809383c BIT,
@PromptRole_3809383c NVARCHAR(20),
@PromptPosition_3809383c NVARCHAR(20),
@Temperature_3809383c DECIMAL(3, 2),
@TopP_3809383c DECIMAL(3, 2),
@TopK_3809383c INT,
@MinP_3809383c DECIMAL(3, 2),
@FrequencyPenalty_3809383c DECIMAL(3, 2),
@PresencePenalty_3809383c DECIMAL(3, 2),
@Seed_3809383c INT,
@StopSequences_3809383c NVARCHAR(1000),
@IncludeLogProbs_3809383c BIT,
@TopLogProbs_3809383c INT,
@FailoverStrategy_3809383c NVARCHAR(50),
@FailoverMaxAttempts_3809383c INT,
@FailoverDelaySeconds_3809383c INT,
@FailoverModelStrategy_3809383c NVARCHAR(50),
@FailoverErrorScope_3809383c NVARCHAR(50),
@EffortLevel_3809383c INT,
@ID_3809383c UNIQUEIDENTIFIER
SET
  @Name_3809383c = N'Loop Agent Type: System Prompt'
SET
  @Description_3809383c = N'Basic control structure for the Loop Agent Type'
SET
  @TemplateID_3809383c = '8E5F83E5-837B-4C53-9171-08272BF605A4'
SET
  @CategoryID_3809383c = '838572BE-9464-4935-BC34-4806FD80A69C'
SET
  @TypeID_3809383c = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_3809383c = N'Active'
SET
  @ResponseFormat_3809383c = N'Any'
SET
  @MinPowerRank_3809383c = 0
SET
  @SelectionStrategy_3809383c = N'Specific'
SET
  @PowerPreference_3809383c = N'Highest'
SET
  @ParallelizationMode_3809383c = N'None'
SET
  @OutputType_3809383c = N'object'
SET
  @OutputExample_3809383c = N'{"taskComplete?":"[BOOLEAN: true if task is fully complete, false if more steps needed, defaults to false]","message?":"[STRING: A brief, human-readable message about current status or final result. Limit to 100 words.]","payloadChangeRequest*":{"[NOTE]":"Follow the format of AgentPayloadChangeRequest. OMIT payloadChangeRequest entirely if no changes are needed."},"reasoning?":"[STRING: Your internal explanation of why you made this decision - helps with debugging]","confidence?":"[OPTIONAL NUMBER: 0.0 to 1.0 indicating confidence in this decision]","nextStep?":{"type?":"REQUIRED: Should be one of the options in the type definition. If not provided, if subAgent key provided it will default to ''subAgent'' and if actions key is provided it will default to ''actions''. If type is not provided and neither actions or subAgent keys are specified, it will be an error condition!","actions?":[{"name":"[STRING: The exact name from available actions list]","params*":{"[PARAM_NAME]":"[PARAM_VALUE: Must match action''s expected parameters]","[ANOTHER_PARAM]":"[Value matching the action''s parameter type]"}}],"subAgent?":{"name":"[STRING: The exact name from available sub-agents list]","message":"[STRING: Complete context and instructions for the sub-agent - they don''t see conversation history]","templateParameters*":{"[TEMPLATE_PARAM_NAME]":"[VALUE: If sub-agent has template parameters, provide values here]"},"terminateAfter?":"[BOOLEAN: true to end parent agent after sub-agent completes, false to continue]"}}}'
SET
  @ValidationBehavior_3809383c = N'Warn'
SET
  @MaxRetries_3809383c = 2
SET
  @RetryDelayMS_3809383c = 1000
SET
  @RetryStrategy_3809383c = N'Fixed'
SET
  @EnableCaching_3809383c = 0
SET
  @CacheMatchType_3809383c = N'Exact'
SET
  @CacheMustMatchModel_3809383c = 1
SET
  @CacheMustMatchVendor_3809383c = 1
SET
  @CacheMustMatchAgent_3809383c = 0
SET
  @CacheMustMatchConfig_3809383c = 0
SET
  @PromptRole_3809383c = N'System'
SET
  @PromptPosition_3809383c = N'First'
SET
  @IncludeLogProbs_3809383c = 0
SET
  @FailoverStrategy_3809383c = N'SameModelDifferentVendor'
SET
  @FailoverModelStrategy_3809383c = N'PreferSameModel'
SET
  @FailoverErrorScope_3809383c = N'All'
SET
  @ID_3809383c = 'FF7D441F-36E1-458A-B548-0FC2208923BE'
EXEC [${flyway:defaultSchema}].spUpdateAIPrompt @Name = @Name_3809383c,
  @Description = @Description_3809383c,
  @TemplateID = @TemplateID_3809383c,
  @CategoryID = @CategoryID_3809383c,
  @TypeID = @TypeID_3809383c,
  @Status = @Status_3809383c,
  @ResponseFormat = @ResponseFormat_3809383c,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_3809383c,
  @AIModelTypeID = @AIModelTypeID_3809383c,
  @MinPowerRank = @MinPowerRank_3809383c,
  @SelectionStrategy = @SelectionStrategy_3809383c,
  @PowerPreference = @PowerPreference_3809383c,
  @ParallelizationMode = @ParallelizationMode_3809383c,
  @ParallelCount = @ParallelCount_3809383c,
  @ParallelConfigParam = @ParallelConfigParam_3809383c,
  @OutputType = @OutputType_3809383c,
  @OutputExample = @OutputExample_3809383c,
  @ValidationBehavior = @ValidationBehavior_3809383c,
  @MaxRetries = @MaxRetries_3809383c,
  @RetryDelayMS = @RetryDelayMS_3809383c,
  @RetryStrategy = @RetryStrategy_3809383c,
  @ResultSelectorPromptID = @ResultSelectorPromptID_3809383c,
  @EnableCaching = @EnableCaching_3809383c,
  @CacheTTLSeconds = @CacheTTLSeconds_3809383c,
  @CacheMatchType = @CacheMatchType_3809383c,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_3809383c,
  @CacheMustMatchModel = @CacheMustMatchModel_3809383c,
  @CacheMustMatchVendor = @CacheMustMatchVendor_3809383c,
  @CacheMustMatchAgent = @CacheMustMatchAgent_3809383c,
  @CacheMustMatchConfig = @CacheMustMatchConfig_3809383c,
  @PromptRole = @PromptRole_3809383c,
  @PromptPosition = @PromptPosition_3809383c,
  @Temperature = @Temperature_3809383c,
  @TopP = @TopP_3809383c,
  @TopK = @TopK_3809383c,
  @MinP = @MinP_3809383c,
  @FrequencyPenalty = @FrequencyPenalty_3809383c,
  @PresencePenalty = @PresencePenalty_3809383c,
  @Seed = @Seed_3809383c,
  @StopSequences = @StopSequences_3809383c,
  @IncludeLogProbs = @IncludeLogProbs_3809383c,
  @TopLogProbs = @TopLogProbs_3809383c,
  @FailoverStrategy = @FailoverStrategy_3809383c,
  @FailoverMaxAttempts = @FailoverMaxAttempts_3809383c,
  @FailoverDelaySeconds = @FailoverDelaySeconds_3809383c,
  @FailoverModelStrategy = @FailoverModelStrategy_3809383c,
  @FailoverErrorScope = @FailoverErrorScope_3809383c,
  @EffortLevel = @EffortLevel_3809383c,
  @ID = @ID_3809383c;

-- Save Template Contents (core SP call only)
DECLARE @TemplateID_becf6377 UNIQUEIDENTIFIER,
@TypeID_becf6377 UNIQUEIDENTIFIER,
@TemplateText_becf6377 NVARCHAR(MAX),
@Priority_becf6377 INT,
@IsActive_becf6377 BIT,
@ID_becf6377 UNIQUEIDENTIFIER
SET
  @TemplateID_becf6377 = '2F0C56C2-CF06-4830-9FD3-14C9F0C275F1'
SET
  @TypeID_becf6377 = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_becf6377 = N'# Purpose
You are the world''s greatest expert in Microsoft SQL Server and T-SQL. Your job is to fix queries by taking in an original query, entity metadata, a description of the query''s intent, and the error message to return correct SQL.

# Business Question Context
**User Question**: {{ userQuestion | safe }}
**Description**: {{ description | safe }}
**Technical Description**: {{ technicalDescription | safe }}

# Current SQL
```sql
{{ originalSQL | safe }}
```

# Error Message
```
{{ errorMessage | safe }}
```

# Special Syntax - Nunjucks Parameterization
The query is parameterized as a Nunjucks template so syntax such as `{{ ''{{'' }}placeholder{{ ''}}'' }}` and `{{ ''{% if something %}'' }}` are ok! Before we run the query with SQL Server we run it through Nunjucks so you **must** preserve that part of the designer''s work - **do not remove the Nunjucks syntax**, just fix the SQL errors.

## Available Nunjucks Filters
- `sqlString` - Safely escapes string values
- `sqlNumber` - Validates and formats numeric values
- `sqlDate` - Formats date/datetime values
- `sqlIn` - Handles comma-separated lists for IN clauses
- `sqlIdentifier` - Safely handles column/table names
- `sqlNoKeywordsExpression` - Prevents SQL injection in expressions

# Available Entities
The following entities are available for your query. Key rules:
- Always prefix view names with schema names as shown: `[SchemaName].[ViewName]`
- Use T-SQL syntax for SQL Server
- Query from base views (vw*), not base tables
- **CRITICAL**: Only use entities and fields explicitly listed below - DO NOT infer or guess schema
- **VIRTUAL fields** are computed/lookup fields available in the view - use these instead of JOINs when possible

{% for entity in entityMetadata %}
## {{ entity.entityName }}
**Schema.View**: `[{{ entity.schemaName }}].[{{ entity.baseView }}]`
{% if entity.description %}- **Description**: {{ entity.description | safe }}{% endif %}

**Available Fields**:
{% for field in entity.fields %}
- `{{ field.name }}` ({{ field.sqlFullType }}){% if field.description %} - {{ field.description | safe }}{% endif %}{% if field.isPrimaryKey %} [PRIMARY KEY]{% endif %}{% if field.isForeignKey %} [FK to {{ field.relatedEntity }}]{% endif %}{% if field.isVirtual %} [VIRTUAL - computed field]{% endif %}{% if field.allowsNull %} [NULLABLE]{% else %} [NOT NULL]{% endif %}{% if field.defaultValue %} [DEFAULT: {{ field.defaultValue }}]{% endif %}{% if field.possibleValues %} [VALUES: {{ field.possibleValues | join('', '') }}]{% endif %}
{% endfor %}

{% if entity.relationships.length > 0 %}
**Join Information**:
{% for rel in entity.relationships %}
- To `{{ rel.relatedEntity }}`: `{{ rel.description | safe }}`
{% endfor %}
{% endif %}

---
{% endfor %}


{% if parameters and parameters.length > 0 %}
# Query Parameters
The original query uses the following parameters:
{% for param in parameters %}
- **{{ param.name }}** ({{ param.type }}){% if param.isRequired %} [REQUIRED]{% endif %} - {{ param.description | safe }}
  - Sample: `{{ param.sampleValue }}`
  - Usage: {{ param.usage[0] | safe }}
{% endfor %}
{% endif %}

{% if selectClause and selectClause.length > 0 %}
# Expected Output Fields
The query should produce these output fields:
{% for field in selectClause %}
- `{{ field.name }}` ({{ field.type }}) - {{ field.description | safe }}
{% endfor %}
{% endif %}

# Common SQL Errors to Fix

### 1. Syntax Errors
- Missing commas in SELECT or JOIN clauses
- Unclosed brackets or quotes
- Invalid SQL Server syntax
- Incorrect Nunjucks template syntax

### 2. Schema/Object Errors
- Invalid table or view names (must use `[SchemaName].[vwEntityName]`)
- Non-existent column names
- Incorrect schema references (always prefix with schema)
- Missing table aliases

### 3. Reserved Keywords
- If errors mention column names that are **reserved keywords** in SQL Server, wrap them in `[]`
- When in doubt, wrap column names in `[]` - this works for any column without negative effect
- Example:
  ```sql
  -- GOOD: Reserved word wrapped
  SELECT ID, Name, [RowCount] FROM [${flyway:defaultSchema}].vwEntities

  -- BAD: Reserved word unwrapped (causes error)
  SELECT ID, Name, RowCount FROM [${flyway:defaultSchema}].vwEntities
  ```

### 4. Join Errors
- Missing JOIN conditions
- Ambiguous column references (use table aliases)
- Incorrect foreign key relationships
- Cross joins instead of proper joins

### 5. Aggregate Errors
- Non-aggregated columns without GROUP BY
- Invalid aggregate function usage
- Missing HAVING clause for aggregate filters

### 6. Type Mismatches
- Comparing incompatible data types
- Invalid date/number formats
- String operations on numeric fields

### 7. NULL Handling
- NULL values causing issues in comparisons
- Missing COALESCE or ISNULL for aggregates
- NULL-unsafe operations

# Ground Rules
- You may change the query to any valid **read** operation including using Common Table Expressions (CTEs)
- You may not do any INSERT/UPDATE/DELETE, call stored procs, or do batching with multiple statements
- The result of running your SQL must be a single resultset
- **NO VARIABLES**: You may not use local variables such as `@VariableName` - scoping variables like this breaks our execution context

# Requirements
1. **Preserve Intent**: Keep the original query''s purpose and logic
2. **Use Base Views**: Query from `[SchemaName].[vw*]` views, not base tables
3. **Maintain Parameters**: Keep all Nunjucks parameters unless they''re part of the error
4. **Maintain Output**: Keep all output fields unless they''re part of the error
5. **Add Comments**: Document what was changed and why (SQL comments)
6. **Valid SQL Server**: Ensure query works on SQL Server
7. **Minimal Changes**: Fix the specific error - don''t refactor unnecessarily

# Response Format
I am a computer and can **only** read JSON responses. Your response **must** be pure JSON that starts with `{` and ends with `}` with **no leading or trailing characters** outside of the JSON.

Your response **must** follow this exact format:
```
{
   "newSQL": "Your new, corrected SQL goes here",
   "reasoning": "Brief explanation of what you changed and why"
}
```

**CRITICAL INSTRUCTIONS:**
- **NO markdown formatting** like \`\`\`json - just the raw JSON
- **NO explanations** before or after the JSON
- **NO commentary** - only the JSON object
- Start with `{` and end with `}`
'
SET
  @Priority_becf6377 = 1
SET
  @IsActive_becf6377 = 1
SET
  @ID_becf6377 = '07961564-0FB0-496B-9B1A-E2EF056FB893'
EXEC [${flyway:defaultSchema}].spUpdateTemplateContent @TemplateID = @TemplateID_becf6377,
  @TypeID = @TypeID_becf6377,
  @TemplateText = @TemplateText_becf6377,
  @Priority = @Priority_becf6377,
  @IsActive = @IsActive_becf6377,
  @ID = @ID_becf6377;

-- Save Template Contents (core SP call only)
DECLARE @TemplateID_08cbe1df UNIQUEIDENTIFIER,
@TypeID_08cbe1df UNIQUEIDENTIFIER,
@TemplateText_08cbe1df NVARCHAR(MAX),
@Priority_08cbe1df INT,
@IsActive_08cbe1df BIT,
@ID_08cbe1df UNIQUEIDENTIFIER
SET
  @TemplateID_08cbe1df = '6C644A1D-01A7-43E9-B8C9-63636388A937'
SET
  @TypeID_08cbe1df = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_08cbe1df = N'# Purpose
You are the world''s greatest expert in Microsoft SQL Server and T-SQL. Your job is to write tight, reusable SQL query templates that solve business questions using the provided entity information.

# Business Question
**User Question**: {{ userQuestion | safe }}
**Description**: {{ description | safe }}
**Technical Description**: {{ technicalDescription | safe }}

{% if validationFeedback %}
# ⚠️ CRITICAL: Previous Attempt Failed Validation
{{ validationFeedback | safe }}

**Please carefully correct the issue mentioned above before generating your response.**
{% endif %}

# Available Entities
The following entities are available for your query. Key rules:
- Always prefix view names with schema names as shown: `[SchemaName].[ViewName]`
- Use T-SQL syntax for SQL Server
- Query from base views (vw*), not base tables
- **CRITICAL**: Only use entities and fields explicitly listed below - DO NOT infer or guess schema
- **VIRTUAL fields** are computed/lookup fields available in the view - use these instead of JOINs when possible

{% for entity in entityMetadata %}
## {{ entity.entityName }}
**Schema.View**: `[{{ entity.schemaName }}].[{{ entity.baseView }}]`
{% if entity.description %}- **Description**: {{ entity.description | safe }}{% endif %}

**Available Fields**:
{% for field in entity.fields %}
- `{{ field.name }}` ({{ field.sqlFullType }}){% if field.description %} - {{ field.description | safe }}{% endif %}{% if field.isPrimaryKey %} [PRIMARY KEY]{% endif %}{% if field.isForeignKey %} [FK to {{ field.relatedEntity }}]{% endif %}{% if field.isVirtual %} [VIRTUAL - computed field]{% endif %}{% if field.allowsNull %} [NULLABLE]{% else %} [NOT NULL]{% endif %}{% if field.defaultValue %} [DEFAULT: {{ field.defaultValue }}]{% endif %}{% if field.possibleValues %} [VALUES: {{ field.possibleValues | join('', '') }}]{% endif %}
{% endfor %}

{% if entity.relationships.length > 0 %}
**Join Information**:
{% for rel in entity.relationships %}
- To `{{ rel.relatedEntity }}`: `{{ rel.description | safe }}`
{% endfor %}
{% endif %}

---
{% endfor %}


# Example Queries (Similar Patterns)
{% for example in fewShotExamples %}
## Example {{ loop.index }}: {{ example.name }}
**Question**: {{ example.userQuestion }}
**Description**: {{ example.description }}

**SQL Template**:
```sql
{{ example.sql | safe }}
```

**Parameters**:
{% if example.parameters.length > 0 %}
{% for param in example.parameters %}
- `{{ param.name }}` ({{ param.type }}){% if param.isRequired %} [REQUIRED]{% endif %} - {{ param.description }}
  - Sample Value: `{{ param.sampleValue }}`
{% endfor %}
{% else %}
No parameters
{% endif %}

**Output Fields**:
{% for field in example.selectClause %}
- `{{ field.name }}` ({{ field.type }}) - {{ field.description }}
{% endfor %}

---
{% endfor %}

# Query Parameterization - Think Like a Programmer

When designing queries, **always consider reusability**. Ask yourself: "If I make this filter value a parameter, could this query be useful in other scenarios?"

## When to Parameterize

**DO parameterize when:**
- The value is a filter condition (state, date range, status, category, threshold)
- The query logic is general-purpose (lists, summaries, reports)
- Similar queries might be needed with different values
- Example: "Members in California" → Create `State` parameter with default value `"CA"`

**DON''T parameterize when:**
- The query embodies specific business logic that shouldn''t vary
- The hardcoded value is part of the business rule definition
- Parameterizing would make the query confusing or overly complex
- Example: "Premium Tier Members (>$10k annual revenue)" → Specific business segment

## Parameter Best Practices

1. **Default Values**: Provide sensible defaults matching the original request
2. **Descriptive Names**: Use clear parameter names (e.g., `State`, `MinRevenue`, `StartDate`)
3. **Documentation**: Include clear descriptions explaining purpose and format
4. **Sample Values**: Provide realistic sample values for testing
5. **Optional Filters**: Use conditional blocks for optional parameters

## Nunjucks Parameter Syntax

Our system uses Nunjucks templating for safe parameterization. Available filters:

- `sqlString` - Safely escapes string values
- `sqlNumber` - Validates and formats numeric values
- `sqlDate` - Formats date/datetime values
- `sqlIn` - Handles arrays for IN clauses

### Parameter Examples:
```sql
-- String parameter
WHERE Country = {% raw %}{{ Country | sqlString }}{% endraw %}

-- Numeric parameter
WHERE Revenue >= {% raw %}{{ MinRevenue | sqlNumber }}{% endraw %}

-- Date parameter
WHERE OrderDate >= {% raw %}{{ StartDate | sqlDate }}{% endraw %}

-- Array parameter for IN clause
WHERE Status IN {% raw %}{{ StatusList | sqlIn }}{% endraw %}

-- Optional conditional parameter
{% raw %}{% if MinJoinDate %}{% endraw %}
AND JoinDate >= {% raw %}{{ MinJoinDate | sqlDate }}{% endraw %}
{% raw %}{% endif %}{% endraw %}
```

# Ground Rules
- Use any valid **read** operations including CTEs (Common Table Expressions)
- **NO** INSERT/UPDATE/DELETE operations
- **NO** stored procedure calls
- **NO** multiple statement batches
- **NO** local variables like `@VariableName` (breaks execution context)
- Result must be a single resultset
- Wrap reserved keywords in brackets: `[RowCount]`, `[User]`, `[Order]`

# SQL Best Practices

# Simplicity and Reusability Principles

**CRITICAL**: These queries will be stored in a library and reused across many business questions and scenarios. Balance simplicity with encoding valuable business logic that can be reused.

## Core Philosophy

Return **raw data** and **simple aggregations** for presentation concerns, BUT **do encode business logic** that defines meaningful business concepts. The goal is to create a reusable query layer that encapsulates domain knowledge.

### Let the UI/Reporting Layer Handle:
- Percentage calculations and ratios
- Formatting (dates, numbers, strings)
- Dynamic display thresholds
- Localization and accessibility

### Encode in the Query (Business Logic):
- Business concept definitions (e.g., "Current Member", "Active Subscription")
- Domain-specific rules and validations
- Multi-table business logic (e.g., checking membership + subscription status)
- Complex categorizations that represent business understanding
- Calculations that define business metrics (e.g., lifetime value, tenure)

## Good Query Characteristics ✅

- Returns raw data columns (names, dates, counts, statuses, amounts)
- Uses simple aggregations (COUNT, SUM, AVG, MIN, MAX)
- Minimal CASE statements (only for essential categorization)
- Uses parameters for filtering (dates, statuses, thresholds, limits)
- Can answer multiple related business questions with different parameters
- Leaves complex calculations to the UI/reporting layer

## Bad Query Characteristics ❌

- Calculates complex derived metrics (retention rates, percentage calculations, ratios)
- Uses nested CASE statements for business rules
- Includes formatting logic (CAST to specific DECIMAL precision, string concatenation)
- Hyper-specific to one exact question with no flexibility
- Assumes domain knowledge without verification (e.g., what "renewed" or "active" means)
- Performs calculations that should be done in the presentation layer

## Practical Examples

### Example 1: Renewal Rate Query

❌ **Bad Approach** (Too Complex):
```sql
CAST(
  CASE WHEN COUNT(*) = 0 THEN 0
  ELSE (CAST(SUM(CASE WHEN RenewalDate IS NOT NULL THEN 1 ELSE 0
END) AS FLOAT)
        / COUNT(*)) * 100
END
AS DECIMAL(5,2)) AS RenewalRatePercentage
```

✅ **Good Approach** (Simple & Reusable):
```sql
COUNT(*) AS TotalMemberships,
SUM(CASE WHEN RenewalDate IS NOT NULL THEN 1 ELSE 0
END) AS RenewedCount
-- UI calculates: (RenewedCount / TotalMemberships) * 100
```

**Why Good?** The UI can format percentages with any precision, localize the display, and even show different metrics (rate vs absolute numbers) based on user preference.

---

### Example 2: Customer Categorization

❌ **Bad Approach** (Hardcoded Business Rules):
```sql
CASE
  WHEN TotalRevenue > 10000 THEN ''Premium''
  WHEN TotalRevenue > 5000 THEN ''Standard''
  ELSE ''Basic''
END AS CustomerTier
```

✅ **Good Approach** (Raw Data):
```sql
TotalRevenue
-- UI applies dynamic tier thresholds based on:
-- - User-configurable rules
-- - Industry standards
-- - Real-time data distribution
```

**Why Good?** Business rules change. Tier thresholds that make sense today might not tomorrow. Raw revenue lets the UI apply current business logic.

---

### Example 3: Date Filtering

❌ **Bad Approach** (Hardcoded Logic):
```sql
WHERE OrderDate >= DATEADD(day, -90, GETDATE())
```

✅ **Good Approach** (Parameterized):
```sql
WHERE OrderDate >= {% raw %}{{ startDate | sqlDate }}{% endraw %}
  AND OrderDate < {% raw %}{{ endDate | sqlDate }}{% endraw %}
```

**Why Good?** Users can analyze any time period (last week, last quarter, fiscal year, custom range) without needing a new query for each scenario.

---

## Trust the UI Layer

Modern UI/reporting layers (like Skip-Brain) excel at:
- **Calculations**: JavaScript is faster than SQL for post-aggregation math
- **Formatting**: Apply user locale, preferences, and accessibility needs
- **Dynamic Logic**: Change business rules without touching the database
- **Interactivity**: Let users toggle between different views of the same data

The query''s job is to **fetch the right data efficiently**, not to format it perfectly.


## Additional Writing Guidance

**When generating queries:**
- Focus on answering the question with the simplest approach
- Return raw counts and aggregations, not percentages or ratios
- Don''t assume domain logic (e.g., what makes something "active" or "renewed")
- Over-engineer with CTEs only when genuinely needed for clarity
- **Use VIRTUAL fields instead of JOINs** - if a field is marked [VIRTUAL], it''s already available in the view
- **Never infer or guess schema** - only query entities/fields explicitly provided in the metadata

## Technical Best Practices
1. **Use Only Available Metadata**: Query ONLY from entities and fields explicitly listed in the metadata above. Do NOT infer, guess, or assume additional tables/views exist.
2. **Prefer VIRTUAL Fields Over JOINs**: If a field is marked `[VIRTUAL - computed field]`, SELECT it directly instead of joining to another table. VIRTUAL fields are already computed for you.
3. **Use Base Views**: Query from `vw*` views with schema prefix: `[SchemaName].[vwEntityName]`
4. **Short Aliases**: Use meaningful short aliases (e.g., `m` for members, `o` for orders)
5. **Handle NULLs**: Use COALESCE or ISNULL for aggregations
6. **Prefer LEFT JOIN**: Avoid losing rows unless INNER JOIN is specifically needed
7. **Add Comments**: Document complex logic with SQL comments
8. **Parameterize Wisely**: Make queries reusable by parameterizing filter values, but don''t over-engineer
9. **Think About Date Logic**: For "active as of date" queries, consider if records need date range overlap checks (StartDate <= Date AND EndDate >= Date), not just StartDate filtering

# Response Format

**CRITICAL INSTRUCTIONS:**
- I am a computer and can **only** read JSON responses
- Your response **must** be pure JSON that starts with `{` and ends with `}`
- **NO leading or trailing text** - no explanations, no markdown code blocks, no commentary
- **NO markdown formatting** like \`\`\`json - just the raw JSON

Your response must match this exact structure:

```
{
  "queryName": "Active Members By Organization",
  "sql": "Complete SQL query template with Nunjucks parameter syntax",
  "parameters": [
    {
      "name": "ParameterName",
      "type": "string | number | date | boolean | array",
      "isRequired": true,
      "description": "Clear description of parameter purpose and expected format",
      "usage": ["WHERE clause filter on Country field"],
      "defaultValue": null,
      "sampleValue": "USA"
    }
  ]
}
```

## Field Definitions

**queryName** (string): Short, descriptive name for this query (3-6 words in title case)
- Focuses on the **result** or **purpose** (not the method)
- Example good names: "Active Members By Organization", "Certifications Expiring Soon", "Most Certified Members"
- Example bad names: "Which Members Have The Most" (truncated), "Query For Getting Data" (generic)

**sql** (string): Complete T-SQL query using Nunjucks syntax for parameters

**parameters** (array): Input parameters for the query (empty array if no parameters needed)
- `name`: Parameter name in camelCase
- `type`: Must be one of: "string", "number", "date", "boolean", "array"
- `isRequired`:
  - `true` if used without conditional guard (e.g., `WHERE State = {% raw %}{{ State | sqlString }}{% endraw %}`)
  - `false` if wrapped in conditional block (e.g., `{% raw %}{% if MinDate %}{% endraw %}AND Date >= {% raw %}{{ MinDate | sqlDate }}{% endraw %}{% raw %}{% endif %}{% endraw %}`)
- `description`: Clear explanation of parameter purpose
- `usage`: Array of strings describing where/how parameter is used in query
- `defaultValue`: Default value if not provided (can be null)
- `sampleValue`: Realistic test value matching the parameter type:
  - `string`: Plain string (e.g., `"CA"`, `"Active"`)
  - `number`: Number without quotes (e.g., `50`, `1000`)
  - `date`: ISO date string (e.g., `"2024-01-01"`)
  - `boolean`: `true` or `false` (no quotes)
  - `array`: JSON array (e.g., `["USA", "Canada"]`, `[1, 2, 3]`) - NOT comma-separated string
'
SET
  @Priority_08cbe1df = 1
SET
  @IsActive_08cbe1df = 1
SET
  @ID_08cbe1df = '6A20633B-9F47-4E7E-BEEA-A77E7C6539C3'
EXEC [${flyway:defaultSchema}].spUpdateTemplateContent @TemplateID = @TemplateID_08cbe1df,
  @TypeID = @TypeID_08cbe1df,
  @TemplateText = @TemplateText_08cbe1df,
  @Priority = @Priority_08cbe1df,
  @IsActive = @IsActive_08cbe1df,
  @ID = @ID_08cbe1df;

-- Save Template Contents (core SP call only)
DECLARE @TemplateID_74c63b25 UNIQUEIDENTIFIER,
@TypeID_74c63b25 UNIQUEIDENTIFIER,
@TemplateText_74c63b25 NVARCHAR(MAX),
@Priority_74c63b25 INT,
@IsActive_74c63b25 BIT,
@ID_74c63b25 UNIQUEIDENTIFIER
SET
  @TemplateID_74c63b25 = '28947A6D-553C-4F4A-AC1C-8244509F5A5E'
SET
  @TypeID_74c63b25 = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_74c63b25 = N'# Query Result Evaluator

You are a data analyst evaluating whether a SQL query correctly answers a business question.

## Business Question

**User Question**: {{ userQuestion | safe }}
**Description**: {{ description | safe }}
**Technical Description**: {{ technicalDescription | safe }}

# Available Entities
The following entities are available for your query. Key rules:
- Always prefix view names with schema names as shown: `[SchemaName].[ViewName]`
- Use T-SQL syntax for SQL Server
- Query from base views (vw*), not base tables
- **CRITICAL**: Only use entities and fields explicitly listed below - DO NOT infer or guess schema
- **VIRTUAL fields** are computed/lookup fields available in the view - use these instead of JOINs when possible

{% for entity in entityMetadata %}
## {{ entity.entityName }}
**Schema.View**: `[{{ entity.schemaName }}].[{{ entity.baseView }}]`
{% if entity.description %}- **Description**: {{ entity.description | safe }}{% endif %}

**Available Fields**:
{% for field in entity.fields %}
- `{{ field.name }}` ({{ field.sqlFullType }}){% if field.description %} - {{ field.description | safe }}{% endif %}{% if field.isPrimaryKey %} [PRIMARY KEY]{% endif %}{% if field.isForeignKey %} [FK to {{ field.relatedEntity }}]{% endif %}{% if field.isVirtual %} [VIRTUAL - computed field]{% endif %}{% if field.allowsNull %} [NULLABLE]{% else %} [NOT NULL]{% endif %}{% if field.defaultValue %} [DEFAULT: {{ field.defaultValue }}]{% endif %}{% if field.possibleValues %} [VALUES: {{ field.possibleValues | join('', '') }}]{% endif %}
{% endfor %}

{% if entity.relationships.length > 0 %}
**Join Information**:
{% for rel in entity.relationships %}
- To `{{ rel.relatedEntity }}`: `{{ rel.description | safe }}`
{% endfor %}
{% endif %}

---
{% endfor %}


## Generated SQL Query

```sql
{{ generatedSQL | safe }}
```

## Query Parameters

{% if parameters.length > 0 %}
{% for param in parameters %}
- `{{ param.name }}` ({{ param.type }}){% if param.isRequired %} [REQUIRED]{% endif %} - {{ param.description | safe }}
  - Sample value used: `{{ param.sampleValue }}`
{% endfor %}
{% else %}
No parameters defined for this query.
{% endif %}

## Sample Results (Limited to Top 10 Rows for Efficiency)

{% if sampleResults.length > 0 %}
**Total rows returned**: {{ sampleResults.length }}

{% for row in sampleResults %}
### Row {{ loop.index }}
{% for key, value in row %}
- **{{ key }}**: {{ value }}
{% endfor %}
{% if not loop.last %}---{% endif %}
{% endfor %}

**Note**: Only the first 10 rows are shown to keep the prompt size manageable and reduce token costs.
{% else %}
⚠️ Query returned no results.
{% endif %}

# Simplicity and Reusability Principles

**CRITICAL**: These queries will be stored in a library and reused across many business questions and scenarios. Balance simplicity with encoding valuable business logic that can be reused.

## Core Philosophy

Return **raw data** and **simple aggregations** for presentation concerns, BUT **do encode business logic** that defines meaningful business concepts. The goal is to create a reusable query layer that encapsulates domain knowledge.

### Let the UI/Reporting Layer Handle:
- Percentage calculations and ratios
- Formatting (dates, numbers, strings)
- Dynamic display thresholds
- Localization and accessibility

### Encode in the Query (Business Logic):
- Business concept definitions (e.g., "Current Member", "Active Subscription")
- Domain-specific rules and validations
- Multi-table business logic (e.g., checking membership + subscription status)
- Complex categorizations that represent business understanding
- Calculations that define business metrics (e.g., lifetime value, tenure)

## Good Query Characteristics ✅

- Returns raw data columns (names, dates, counts, statuses, amounts)
- Uses simple aggregations (COUNT, SUM, AVG, MIN, MAX)
- Minimal CASE statements (only for essential categorization)
- Uses parameters for filtering (dates, statuses, thresholds, limits)
- Can answer multiple related business questions with different parameters
- Leaves complex calculations to the UI/reporting layer

## Bad Query Characteristics ❌

- Calculates complex derived metrics (retention rates, percentage calculations, ratios)
- Uses nested CASE statements for business rules
- Includes formatting logic (CAST to specific DECIMAL precision, string concatenation)
- Hyper-specific to one exact question with no flexibility
- Assumes domain knowledge without verification (e.g., what "renewed" or "active" means)
- Performs calculations that should be done in the presentation layer

## Practical Examples

### Example 1: Renewal Rate Query

❌ **Bad Approach** (Too Complex):
```sql
CAST(
  CASE WHEN COUNT(*) = 0 THEN 0
  ELSE (CAST(SUM(CASE WHEN RenewalDate IS NOT NULL THEN 1 ELSE 0
END) AS FLOAT)
        / COUNT(*)) * 100
END
AS DECIMAL(5,2)) AS RenewalRatePercentage
```

✅ **Good Approach** (Simple & Reusable):
```sql
COUNT(*) AS TotalMemberships,
SUM(CASE WHEN RenewalDate IS NOT NULL THEN 1 ELSE 0
END) AS RenewedCount
-- UI calculates: (RenewedCount / TotalMemberships) * 100
```

**Why Good?** The UI can format percentages with any precision, localize the display, and even show different metrics (rate vs absolute numbers) based on user preference.

---

### Example 2: Customer Categorization

❌ **Bad Approach** (Hardcoded Business Rules):
```sql
CASE
  WHEN TotalRevenue > 10000 THEN ''Premium''
  WHEN TotalRevenue > 5000 THEN ''Standard''
  ELSE ''Basic''
END AS CustomerTier
```

✅ **Good Approach** (Raw Data):
```sql
TotalRevenue
-- UI applies dynamic tier thresholds based on:
-- - User-configurable rules
-- - Industry standards
-- - Real-time data distribution
```

**Why Good?** Business rules change. Tier thresholds that make sense today might not tomorrow. Raw revenue lets the UI apply current business logic.

---

### Example 3: Date Filtering

❌ **Bad Approach** (Hardcoded Logic):
```sql
WHERE OrderDate >= DATEADD(day, -90, GETDATE())
```

✅ **Good Approach** (Parameterized):
```sql
WHERE OrderDate >= {% raw %}{{ startDate | sqlDate }}{% endraw %}
  AND OrderDate < {% raw %}{{ endDate | sqlDate }}{% endraw %}
```

**Why Good?** Users can analyze any time period (last week, last quarter, fiscal year, custom range) without needing a new query for each scenario.

---

## Trust the UI Layer

Modern UI/reporting layers (like Skip-Brain) excel at:
- **Calculations**: JavaScript is faster than SQL for post-aggregation math
- **Formatting**: Apply user locale, preferences, and accessibility needs
- **Dynamic Logic**: Change business rules without touching the database
- **Interactivity**: Let users toggle between different views of the same data

The query''s job is to **fetch the right data efficiently**, not to format it perfectly.


## Evaluation-Specific Guidance

**When evaluating queries:**
- Identify unnecessary complexity (calculations, formatting, nested logic)
- Suggest simplification when complex metrics are calculated in SQL
- Recommend parameters instead of hardcoded values
- Don''t suggest adding calculations that belong in the UI layer

**Understanding VIRTUAL Fields:**
- Entities may have VIRTUAL fields (marked `[VIRTUAL - computed field]`)
- These fields are available in the view even if not in the base table
- Example: If `MembershipType` is marked VIRTUAL in vwMemberships, you can SELECT it directly
- Don''t suggest JOINs to get data that''s already available as VIRTUAL fields

**Empty Results Are Not Errors:**
- If query executes successfully but returns no rows, this is NOT a query problem
- Empty results usually mean: no matching data in database, not wrong SQL
- **Do NOT suggest "fixing" a query just because it returned no results**
- Only suggest refinements if the SQL logic or structure is actually wrong

**Questions About "Rates" or "Percentages":**
- Questions asking for "rates", "percentages", or "ratios" CAN be answered with raw counts/values
- Return the numerator and denominator as separate fields - the UI will calculate the percentage
- **DO**: Return raw counts like `SuccessCount` and `TotalAttempts`
- **DON''T**: Calculate percentages like `(SuccessCount * 100.0 / TotalAttempts)`
- This follows our simplicity principles: return raw data, let UI do calculations
- The UI layer has tools to calculate and format percentages with proper handling of edge cases (division by zero, rounding, etc.)

**When to Accept Queries:**
- After 1-2 refinement iterations, if the query is **structurally correct**, accept it
- "Structurally correct" means:
  - Uses correct schema (no inferred tables/views)
  - Has proper JOINs/filters for the question
  - Returns fields needed to answer the question
  - Uses parameters for user-controlled values
- Don''t keep refining just to add complexity or "improve" calculations
- If the query returns the right data (even if simple), set `answersQuestion: true` and `needsRefinement: false`

## Evaluation Examples

### Example 1: Good Evaluation - Accept Simple Query

**Question**: "Which membership types have the highest renewal rates?"

**Query**:
{% raw %}
```sql
SELECT m.MembershipType,
       COUNT(*) AS TotalMemberships,
       SUM(CASE WHEN m.RenewalDate IS NOT NULL THEN 1 ELSE 0
END) AS RenewedCount
FROM [AssociationDemo].[vwMemberships] m
WHERE m.EndDate >= {{ startDate | sqlDate }}
  AND m.EndDate <= {{ endDate | sqlDate }}
GROUP BY m.MembershipType
ORDER BY RenewedCount DESC
```
{% endraw %}

**✅ GOOD Evaluation**:
```json
{
  "answersQuestion": true,
  "confidence": 0.95,
  "reasoning": "Query correctly returns membership types with total and renewed counts. The UI can calculate renewal rate from TotalMemberships and RenewedCount. Query uses VIRTUAL field correctly, includes date filtering via parameters, and returns data in useful order.",
  "suggestions": [],
  "needsRefinement": false
}
```

**❌ BAD Evaluation** (too picky):
```json
{
  "answersQuestion": false,
  "confidence": 0.7,
  "reasoning": "Query returns raw counts but the question asks for renewal RATES (percentages). Should calculate the percentage using CAST and division.",
  "suggestions": ["Add calculated column: CAST(RenewedCount AS DECIMAL) / TotalMemberships * 100 AS RenewalRate"],
  "needsRefinement": true
}
```
**Why this is BAD**: Contradicts simplicity principles. Raw counts are correct - UI calculates percentages.

### Example 2: Good Evaluation - Schema Error Caught

**Question**: "What are our top-selling products?"

**Query**:
```sql
SELECT p.ProductName, SUM(oi.Quantity) AS TotalSold
FROM [dbo].[Products] p
INNER JOIN [dbo].[OrderItems] oi ON p.ID = oi.ProductID
GROUP BY p.ProductName
ORDER BY TotalSold DESC
```

**Entity Metadata Provided**:
- vwProducts (with ProductName field)
- vwOrderItems (with Quantity field, FK to Products)

**✅ GOOD Evaluation**:
```json
{
  "answersQuestion": false,
  "confidence": 0.95,
  "reasoning": "Query references [dbo].[Products] and [dbo].[OrderItems] tables, but the available metadata only provides vwProducts and vwOrderItems views. Must use the views specified in metadata, not inferred table names.",
  "suggestions": ["Change FROM [dbo].[Products] to FROM vwProducts", "Change INNER JOIN [dbo].[OrderItems] to INNER JOIN vwOrderItems"],
  "needsRefinement": true
}
```

**Why this is GOOD**: Correctly identifies schema inference error - query uses tables not in metadata.

### Example 3: Good Evaluation - Accept After Refinement

**Question**: "Which customers spent the most last quarter?"

**Query** (iteration 2 after refinement):
{% raw %}
```sql
SELECT c.CustomerName, SUM(o.TotalAmount) AS TotalSpent
FROM vwCustomers c
INNER JOIN vwOrders o ON c.ID = o.CustomerID
WHERE o.OrderDate >= {{ startDate | sqlDate }}
  AND o.OrderDate < {{ endDate | sqlDate }}
GROUP BY c.CustomerName
ORDER BY TotalSpent DESC
```
{% endraw %}

**✅ GOOD Evaluation**:
```json
{
  "answersQuestion": true,
  "confidence": 0.9,
  "reasoning": "Query correctly identifies top-spending customers using proper schema, date filtering via parameters, and appropriate aggregation. Returns simple sum of order totals ordered by amount descending. This is iteration 2 and the query is structurally correct.",
  "suggestions": [],
  "needsRefinement": false
}
```

**Why this is GOOD**: Query is structurally correct after 2 iterations - accept it even if minor enhancements are possible.

### Example 4: Bad Evaluation - Empty Results

**Question**: "How many memberships were created this month?"

**Query**:
{% raw %}
```sql
SELECT COUNT(*) AS MembershipsCreated
FROM vwMemberships
WHERE CreatedDate >= {{ startDate | sqlDate }}
  AND CreatedDate < {{ endDate | sqlDate }}
```
{% endraw %}

**Sample Results**: 0 rows (empty result set)

**❌ BAD Evaluation**:
```json
{
  "answersQuestion": false,
  "confidence": 0.6,
  "reasoning": "Query returned no results. May need to adjust date range or check if CreatedDate field is correct.",
  "suggestions": ["Verify CreatedDate field exists", "Consider using different date field"],
  "needsRefinement": true
}
```

**Why this is BAD**: Empty results don''t mean the query is wrong - it means no data matches the criteria.

**✅ GOOD Evaluation**:
```json
{
  "answersQuestion": true,
  "confidence": 0.95,
  "reasoning": "Query correctly counts memberships within date range using proper schema and parameterized filtering. Empty results indicate no memberships were created in the specified period, not a query error.",
  "suggestions": [],
  "needsRefinement": false
}
```

## Evaluation Task

Evaluate if the generated query correctly answers the business question:

1. **Schema Correctness**: Does the query use the correct entities, views, and fields from the available metadata?
2. **Result Relevance**: Do the results match what was asked in the user question?
3. **Data Completeness**: Are all necessary columns present to answer the question?
4. **Correctness**: Are calculations, aggregations, and JOINs correct?
5. **Simplicity**: Does the query return raw data or does it include unnecessary complexity?

## Output Format

Return JSON evaluation with these five fields:

Example JSON structure:
```
{
  "answersQuestion": true,
  "confidence": 0.95,
  "reasoning": "Query correctly aggregates orders by customer and sorts by total revenue descending. Sample results show expected data with customer names and revenue totals.",
  "suggestions": [
    "Consider adding customer contact info for better usability",
    "Add date range parameter to filter orders by time period"
  ],
  "needsRefinement": false
}
```

### Field Definitions:

**answersQuestion** (boolean): Does the query answer the user''s question correctly?

**confidence** (number 0-1): How confident are you in this evaluation? (0.0 = not confident, 1.0 = very confident)

**reasoning** (string): Explain your evaluation - why does/doesn''t the query answer the question?

**suggestions** (array of strings): List of improvements to make the query more useful (empty array if none)

**needsRefinement** (boolean): Should the query be refined based on your suggestions?

## Important Notes

- **Verify schema usage**: Check if the query references the correct views and fields from the entity metadata above
- Focus on whether the query ANSWERS THE QUESTION, not on SQL optimization
- Consider the user''s intent, not just technical correctness
- Suggest refinements only if they would significantly improve the answer
- If the query is fundamentally correct but could be enhanced, set `answersQuestion: true` and `needsRefinement: false`
- Only set `needsRefinement: true` if the query fails to answer the question or has serious issues

## Response Format

**CRITICAL INSTRUCTIONS:**
- I am a computer and can **only** read JSON responses
- Your response **must** be pure JSON that starts with `{` and ends with `}`
- **NO leading or trailing text** - no explanations, no markdown code blocks, no commentary
- **NO markdown formatting** like \`\`\`json - just the raw JSON
- Your response **must** match the exact structure shown in the "Output Format" section above
'
SET
  @Priority_74c63b25 = 1
SET
  @IsActive_74c63b25 = 1
SET
  @ID_74c63b25 = 'CAACFF8D-FF82-42CA-8E92-ADC3CF10BC7C'
EXEC [${flyway:defaultSchema}].spUpdateTemplateContent @TemplateID = @TemplateID_74c63b25,
  @TypeID = @TypeID_74c63b25,
  @TemplateText = @TemplateText_74c63b25,
  @Priority = @Priority_74c63b25,
  @IsActive = @IsActive_74c63b25,
  @ID = @ID_74c63b25;

-- Save Template Contents (core SP call only)
DECLARE @TemplateID_3d9263e3 UNIQUEIDENTIFIER,
@TypeID_3d9263e3 UNIQUEIDENTIFIER,
@TemplateText_3d9263e3 NVARCHAR(MAX),
@Priority_3d9263e3 INT,
@IsActive_3d9263e3 BIT,
@ID_3d9263e3 UNIQUEIDENTIFIER
SET
  @TemplateID_3d9263e3 = '177D2C33-865C-47DA-A134-46019C759A42'
SET
  @TypeID_3d9263e3 = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_3d9263e3 = N'# Query Refiner

You are an expert SQL developer refining a query based on evaluation feedback.

## Original Business Question

**User Question**: {{ userQuestion | safe }}
**Description**: {{ description | safe }}

## Current Query

```sql
{{ currentSQL | safe }}
```

## Evaluation Feedback

**Answers Question**: {% if evaluationFeedback.answersQuestion %}✅ Yes{% else %}❌ No{% endif %}
**Confidence**: {{ evaluationFeedback.confidence * 100 }}%
**Needs Refinement**: {% if evaluationFeedback.needsRefinement %}Yes{% else %}No{% endif %}

**Reasoning**: {{ evaluationFeedback.reasoning | safe }}

{% if evaluationFeedback.suggestions.length > 0 %}
**Suggestions for Improvement**:
{% for suggestion in evaluationFeedback.suggestions %}
{{ loop.index }}. {{ suggestion | safe }}
{% endfor %}
{% endif %}

# Available Entities
The following entities are available for your query. Key rules:
- Always prefix view names with schema names as shown: `[SchemaName].[ViewName]`
- Use T-SQL syntax for SQL Server
- Query from base views (vw*), not base tables
- **CRITICAL**: Only use entities and fields explicitly listed below - DO NOT infer or guess schema
- **VIRTUAL fields** are computed/lookup fields available in the view - use these instead of JOINs when possible

{% for entity in entityMetadata %}
## {{ entity.entityName }}
**Schema.View**: `[{{ entity.schemaName }}].[{{ entity.baseView }}]`
{% if entity.description %}- **Description**: {{ entity.description | safe }}{% endif %}

**Available Fields**:
{% for field in entity.fields %}
- `{{ field.name }}` ({{ field.sqlFullType }}){% if field.description %} - {{ field.description | safe }}{% endif %}{% if field.isPrimaryKey %} [PRIMARY KEY]{% endif %}{% if field.isForeignKey %} [FK to {{ field.relatedEntity }}]{% endif %}{% if field.isVirtual %} [VIRTUAL - computed field]{% endif %}{% if field.allowsNull %} [NULLABLE]{% else %} [NOT NULL]{% endif %}{% if field.defaultValue %} [DEFAULT: {{ field.defaultValue }}]{% endif %}{% if field.possibleValues %} [VALUES: {{ field.possibleValues | join('', '') }}]{% endif %}
{% endfor %}

{% if entity.relationships.length > 0 %}
**Join Information**:
{% for rel in entity.relationships %}
- To `{{ rel.relatedEntity }}`: `{{ rel.description | safe }}`
{% endfor %}
{% endif %}

---
{% endfor %}


# Simplicity and Reusability Principles

**CRITICAL**: These queries will be stored in a library and reused across many business questions and scenarios. Balance simplicity with encoding valuable business logic that can be reused.

## Core Philosophy

Return **raw data** and **simple aggregations** for presentation concerns, BUT **do encode business logic** that defines meaningful business concepts. The goal is to create a reusable query layer that encapsulates domain knowledge.

### Let the UI/Reporting Layer Handle:
- Percentage calculations and ratios
- Formatting (dates, numbers, strings)
- Dynamic display thresholds
- Localization and accessibility

### Encode in the Query (Business Logic):
- Business concept definitions (e.g., "Current Member", "Active Subscription")
- Domain-specific rules and validations
- Multi-table business logic (e.g., checking membership + subscription status)
- Complex categorizations that represent business understanding
- Calculations that define business metrics (e.g., lifetime value, tenure)

## Good Query Characteristics ✅

- Returns raw data columns (names, dates, counts, statuses, amounts)
- Uses simple aggregations (COUNT, SUM, AVG, MIN, MAX)
- Minimal CASE statements (only for essential categorization)
- Uses parameters for filtering (dates, statuses, thresholds, limits)
- Can answer multiple related business questions with different parameters
- Leaves complex calculations to the UI/reporting layer

## Bad Query Characteristics ❌

- Calculates complex derived metrics (retention rates, percentage calculations, ratios)
- Uses nested CASE statements for business rules
- Includes formatting logic (CAST to specific DECIMAL precision, string concatenation)
- Hyper-specific to one exact question with no flexibility
- Assumes domain knowledge without verification (e.g., what "renewed" or "active" means)
- Performs calculations that should be done in the presentation layer

## Practical Examples

### Example 1: Renewal Rate Query

❌ **Bad Approach** (Too Complex):
```sql
CAST(
  CASE WHEN COUNT(*) = 0 THEN 0
  ELSE (CAST(SUM(CASE WHEN RenewalDate IS NOT NULL THEN 1 ELSE 0
END) AS FLOAT)
        / COUNT(*)) * 100
END
AS DECIMAL(5,2)) AS RenewalRatePercentage
```

✅ **Good Approach** (Simple & Reusable):
```sql
COUNT(*) AS TotalMemberships,
SUM(CASE WHEN RenewalDate IS NOT NULL THEN 1 ELSE 0
END) AS RenewedCount
-- UI calculates: (RenewedCount / TotalMemberships) * 100
```

**Why Good?** The UI can format percentages with any precision, localize the display, and even show different metrics (rate vs absolute numbers) based on user preference.

---

### Example 2: Customer Categorization

❌ **Bad Approach** (Hardcoded Business Rules):
```sql
CASE
  WHEN TotalRevenue > 10000 THEN ''Premium''
  WHEN TotalRevenue > 5000 THEN ''Standard''
  ELSE ''Basic''
END AS CustomerTier
```

✅ **Good Approach** (Raw Data):
```sql
TotalRevenue
-- UI applies dynamic tier thresholds based on:
-- - User-configurable rules
-- - Industry standards
-- - Real-time data distribution
```

**Why Good?** Business rules change. Tier thresholds that make sense today might not tomorrow. Raw revenue lets the UI apply current business logic.

---

### Example 3: Date Filtering

❌ **Bad Approach** (Hardcoded Logic):
```sql
WHERE OrderDate >= DATEADD(day, -90, GETDATE())
```

✅ **Good Approach** (Parameterized):
```sql
WHERE OrderDate >= {% raw %}{{ startDate | sqlDate }}{% endraw %}
  AND OrderDate < {% raw %}{{ endDate | sqlDate }}{% endraw %}
```

**Why Good?** Users can analyze any time period (last week, last quarter, fiscal year, custom range) without needing a new query for each scenario.

---

## Trust the UI Layer

Modern UI/reporting layers (like Skip-Brain) excel at:
- **Calculations**: JavaScript is faster than SQL for post-aggregation math
- **Formatting**: Apply user locale, preferences, and accessibility needs
- **Dynamic Logic**: Change business rules without touching the database
- **Interactivity**: Let users toggle between different views of the same data

The query''s job is to **fetch the right data efficiently**, not to format it perfectly.


## Refinement-Specific Guidance

**When refining queries:**
- Resist the urge to add complexity, even if evaluation feedback suggests it
- If evaluation requests complex calculations, simplify instead - return raw components
- Fix structural issues (JOINs, syntax errors, missing parameters)
- Don''t add formatting logic or nested business rules

**Understanding VIRTUAL Fields:**
- Entities may have VIRTUAL fields (marked `[VIRTUAL - computed field]`)
- These are available directly in SELECT statements without JOINs
- If evaluator says a field "doesn''t exist", check if it''s a VIRTUAL field first
- Example: Use `m.MembershipType` directly instead of joining to vwMembershipTypes

**Don''t "Fix" Valid Queries:**
- If evaluation only mentions "no results" or "empty data", **DO NOT change the query**
- Empty results = data issue, not query issue
- Only refine if there''s an actual SQL error or logical flaw
- Changing filters to "get data" often makes queries less accurate

**If Evaluation Feedback Requests Complexity:**
1. **Simplify Instead**: Return the raw components needed for UI calculations
2. **Add Parameters**: Make filtering flexible, not hardcoded
3. **Trust the UI**: Let the presentation layer handle formatting and calculations
4. **Preserve Reusability**: A simpler query helps more scenarios

## Refinement Task

Refine the query to address the evaluation feedback:

1. **Address Concerns**: Fix issues raised in the evaluation reasoning
2. **Simplify Complexity**: If current query is too complex, simplify it
3. **Implement Simple Improvements**: Add parameters, fix JOINs, correct errors
4. **Maintain Correctness**: Keep query logic sound and performant
5. **Preserve Parameters**: Update parameters only if needed for improvements

## Requirements

1. **Use Base Views**: Query from `vw*` views, not base tables
2. **Maintain Nunjucks Syntax**: Parameters use `{{ ''{{'' }} paramName | sqlFilter {{ ''}}'' }}` syntax
3. **Apply SQL Filters**: Use appropriate filters (sqlString, sqlNumber, sqlDate, sqlIn)
4. **Valid SQL Server**: Ensure query works on SQL Server
5. **Preserve Intent**: Keep the original question''s purpose

## Output Format

Return JSON with three properties:

Example JSON structure:
```
{
  "queryName": "High Revenue Customers With Contact Details",
  "sql": "SELECT ... FROM ... WHERE ...",
  "parameters": [
    {
      "name": "minRevenue",
      "type": "number",
      "isRequired": true,
      "description": "Minimum revenue threshold",
      "usage": ["WHERE clause: Revenue >= {{ ''{{'' }} minRevenue | sqlNumber {{ ''}}'' }}"],
      "defaultValue": null,
      "sampleValue": 10000
    }
  ],
  "improvementsSummary": "Added customer contact columns (Email, Phone) and date range filter (startDate, endDate) as suggested to improve usability and query flexibility"
}
```

### Field Definitions:

**queryName** (string): Short, descriptive name for this query (3-6 words in title case)
- If the query purpose changed during refinement, update the name accordingly
- Otherwise, keep the original name if it''s still accurate
- Example good names: "Active Members By Organization", "Certifications Expiring Soon"
- Example bad names: "Which Members Have The Most" (truncated), "Query For Getting Data" (generic)

**sql** (string): The refined SQL query template using Nunjucks syntax

**parameters** (array): Updated input parameters (add/modify/remove as needed)

**improvementsSummary** (string): Brief description of refinements made

## Important Notes

- Make targeted improvements based on feedback
- Don''t over-engineer - focus on the suggestions
- Preserve working parts of the query
- If adding fields, ensure they come from available entity metadata
- If adding parameters, provide complete metadata including sample values
- Keep the query focused on answering the user''s question

## Response Format

**CRITICAL INSTRUCTIONS:**
- I am a computer and can **only** read JSON responses
- Your response **must** be pure JSON that starts with `{` and ends with `}`
- **NO leading or trailing text** - no explanations, no markdown code blocks, no commentary
- **NO markdown formatting** like \`\`\`json - just the raw JSON
- Your response **must** match the exact structure shown in the "Output Format" section above
'
SET
  @Priority_3d9263e3 = 1
SET
  @IsActive_3d9263e3 = 1
SET
  @ID_3d9263e3 = '25319F0F-4432-4F61-819A-666608A23A91'
EXEC [${flyway:defaultSchema}].spUpdateTemplateContent @TemplateID = @TemplateID_3d9263e3,
  @TypeID = @TypeID_3d9263e3,
  @TemplateText = @TemplateText_3d9263e3,
  @Priority = @Priority_3d9263e3,
  @IsActive = @IsActive_3d9263e3,
  @ID = @ID_3d9263e3;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_aef9d86d UNIQUEIDENTIFIER,
@Name_aef9d86d NVARCHAR(255),
@Description_aef9d86d NVARCHAR(MAX),
@Type_aef9d86d NVARCHAR(20),
@DefaultValue_aef9d86d NVARCHAR(MAX),
@IsRequired_aef9d86d BIT,
@LinkedParameterName_aef9d86d NVARCHAR(255),
@LinkedParameterField_aef9d86d NVARCHAR(500),
@ExtraFilter_aef9d86d NVARCHAR(MAX),
@EntityID_aef9d86d UNIQUEIDENTIFIER,
@RecordID_aef9d86d NVARCHAR(2000),
@OrderBy_aef9d86d NVARCHAR(MAX),
@TemplateContentID_aef9d86d UNIQUEIDENTIFIER,
@ID_aef9d86d UNIQUEIDENTIFIER
SET
  @TemplateID_aef9d86d = '2F0C56C2-CF06-4830-9FD3-14C9F0C275F1'
SET
  @Name_aef9d86d = N'technicalDescription'
SET
  @Description_aef9d86d = N'Technical description of the query''s intent'
SET
  @Type_aef9d86d = N'Scalar'
SET
  @IsRequired_aef9d86d = 0
SET
  @ID_aef9d86d = '5FF3D4F8-9A9C-498B-A1BF-2E64B42CFA2E'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_aef9d86d,
  @Name = @Name_aef9d86d,
  @Description = @Description_aef9d86d,
  @Type = @Type_aef9d86d,
  @DefaultValue = @DefaultValue_aef9d86d,
  @IsRequired = @IsRequired_aef9d86d,
  @LinkedParameterName = @LinkedParameterName_aef9d86d,
  @LinkedParameterField = @LinkedParameterField_aef9d86d,
  @ExtraFilter = @ExtraFilter_aef9d86d,
  @EntityID = @EntityID_aef9d86d,
  @RecordID = @RecordID_aef9d86d,
  @OrderBy = @OrderBy_aef9d86d,
  @TemplateContentID = @TemplateContentID_aef9d86d,
  @ID = @ID_aef9d86d;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_c424809f UNIQUEIDENTIFIER,
@Name_c424809f NVARCHAR(255),
@Description_c424809f NVARCHAR(MAX),
@Type_c424809f NVARCHAR(20),
@DefaultValue_c424809f NVARCHAR(MAX),
@IsRequired_c424809f BIT,
@LinkedParameterName_c424809f NVARCHAR(255),
@LinkedParameterField_c424809f NVARCHAR(500),
@ExtraFilter_c424809f NVARCHAR(MAX),
@EntityID_c424809f UNIQUEIDENTIFIER,
@RecordID_c424809f NVARCHAR(2000),
@OrderBy_c424809f NVARCHAR(MAX),
@TemplateContentID_c424809f UNIQUEIDENTIFIER,
@ID_c424809f UNIQUEIDENTIFIER
SET
  @TemplateID_c424809f = '2F0C56C2-CF06-4830-9FD3-14C9F0C275F1'
SET
  @Name_c424809f = N'entityMetadata'
SET
  @Description_c424809f = N'Array of entity metadata objects containing schema, field, and relationship information'
SET
  @Type_c424809f = N'Array'
SET
  @IsRequired_c424809f = 0
SET
  @ID_c424809f = '62CE4DE2-5500-4F6C-8FA2-6C6EDA359E74'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_c424809f,
  @Name = @Name_c424809f,
  @Description = @Description_c424809f,
  @Type = @Type_c424809f,
  @DefaultValue = @DefaultValue_c424809f,
  @IsRequired = @IsRequired_c424809f,
  @LinkedParameterName = @LinkedParameterName_c424809f,
  @LinkedParameterField = @LinkedParameterField_c424809f,
  @ExtraFilter = @ExtraFilter_c424809f,
  @EntityID = @EntityID_c424809f,
  @RecordID = @RecordID_c424809f,
  @OrderBy = @OrderBy_c424809f,
  @TemplateContentID = @TemplateContentID_c424809f,
  @ID = @ID_c424809f;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_173babe9 UNIQUEIDENTIFIER,
@Name_173babe9 NVARCHAR(255),
@Description_173babe9 NVARCHAR(MAX),
@Type_173babe9 NVARCHAR(20),
@DefaultValue_173babe9 NVARCHAR(MAX),
@IsRequired_173babe9 BIT,
@LinkedParameterName_173babe9 NVARCHAR(255),
@LinkedParameterField_173babe9 NVARCHAR(500),
@ExtraFilter_173babe9 NVARCHAR(MAX),
@EntityID_173babe9 UNIQUEIDENTIFIER,
@RecordID_173babe9 NVARCHAR(2000),
@OrderBy_173babe9 NVARCHAR(MAX),
@TemplateContentID_173babe9 UNIQUEIDENTIFIER,
@ID_173babe9 UNIQUEIDENTIFIER
SET
  @TemplateID_173babe9 = '2F0C56C2-CF06-4830-9FD3-14C9F0C275F1'
SET
  @Name_173babe9 = N'originalSQL'
SET
  @Description_173babe9 = N'The original SQL query that contains errors to be fixed'
SET
  @Type_173babe9 = N'Scalar'
SET
  @IsRequired_173babe9 = 0
SET
  @ID_173babe9 = '0E95E7C3-0E53-4568-A852-790112350CCE'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_173babe9,
  @Name = @Name_173babe9,
  @Description = @Description_173babe9,
  @Type = @Type_173babe9,
  @DefaultValue = @DefaultValue_173babe9,
  @IsRequired = @IsRequired_173babe9,
  @LinkedParameterName = @LinkedParameterName_173babe9,
  @LinkedParameterField = @LinkedParameterField_173babe9,
  @ExtraFilter = @ExtraFilter_173babe9,
  @EntityID = @EntityID_173babe9,
  @RecordID = @RecordID_173babe9,
  @OrderBy = @OrderBy_173babe9,
  @TemplateContentID = @TemplateContentID_173babe9,
  @ID = @ID_173babe9;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_6f9db902 UNIQUEIDENTIFIER,
@Name_6f9db902 NVARCHAR(255),
@Description_6f9db902 NVARCHAR(MAX),
@Type_6f9db902 NVARCHAR(20),
@DefaultValue_6f9db902 NVARCHAR(MAX),
@IsRequired_6f9db902 BIT,
@LinkedParameterName_6f9db902 NVARCHAR(255),
@LinkedParameterField_6f9db902 NVARCHAR(500),
@ExtraFilter_6f9db902 NVARCHAR(MAX),
@EntityID_6f9db902 UNIQUEIDENTIFIER,
@RecordID_6f9db902 NVARCHAR(2000),
@OrderBy_6f9db902 NVARCHAR(MAX),
@TemplateContentID_6f9db902 UNIQUEIDENTIFIER,
@ID_6f9db902 UNIQUEIDENTIFIER
SET
  @TemplateID_6f9db902 = '2F0C56C2-CF06-4830-9FD3-14C9F0C275F1'
SET
  @Name_6f9db902 = N'description'
SET
  @Description_6f9db902 = N'High-level description of the query''s intent'
SET
  @Type_6f9db902 = N'Scalar'
SET
  @IsRequired_6f9db902 = 0
SET
  @ID_6f9db902 = '55D2C35E-0897-4DE4-9132-A46D49843623'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_6f9db902,
  @Name = @Name_6f9db902,
  @Description = @Description_6f9db902,
  @Type = @Type_6f9db902,
  @DefaultValue = @DefaultValue_6f9db902,
  @IsRequired = @IsRequired_6f9db902,
  @LinkedParameterName = @LinkedParameterName_6f9db902,
  @LinkedParameterField = @LinkedParameterField_6f9db902,
  @ExtraFilter = @ExtraFilter_6f9db902,
  @EntityID = @EntityID_6f9db902,
  @RecordID = @RecordID_6f9db902,
  @OrderBy = @OrderBy_6f9db902,
  @TemplateContentID = @TemplateContentID_6f9db902,
  @ID = @ID_6f9db902;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_e9b4d82b UNIQUEIDENTIFIER,
@Name_e9b4d82b NVARCHAR(255),
@Description_e9b4d82b NVARCHAR(MAX),
@Type_e9b4d82b NVARCHAR(20),
@DefaultValue_e9b4d82b NVARCHAR(MAX),
@IsRequired_e9b4d82b BIT,
@LinkedParameterName_e9b4d82b NVARCHAR(255),
@LinkedParameterField_e9b4d82b NVARCHAR(500),
@ExtraFilter_e9b4d82b NVARCHAR(MAX),
@EntityID_e9b4d82b UNIQUEIDENTIFIER,
@RecordID_e9b4d82b NVARCHAR(2000),
@OrderBy_e9b4d82b NVARCHAR(MAX),
@TemplateContentID_e9b4d82b UNIQUEIDENTIFIER,
@ID_e9b4d82b UNIQUEIDENTIFIER
SET
  @TemplateID_e9b4d82b = '2F0C56C2-CF06-4830-9FD3-14C9F0C275F1'
SET
  @Name_e9b4d82b = N'parameters'
SET
  @Description_e9b4d82b = N'Array of query parameter definitions used in the original query'
SET
  @Type_e9b4d82b = N'Array'
SET
  @IsRequired_e9b4d82b = 0
SET
  @ID_e9b4d82b = 'AAF0FC33-6456-4E34-BCF7-A526BB9DD51F'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_e9b4d82b,
  @Name = @Name_e9b4d82b,
  @Description = @Description_e9b4d82b,
  @Type = @Type_e9b4d82b,
  @DefaultValue = @DefaultValue_e9b4d82b,
  @IsRequired = @IsRequired_e9b4d82b,
  @LinkedParameterName = @LinkedParameterName_e9b4d82b,
  @LinkedParameterField = @LinkedParameterField_e9b4d82b,
  @ExtraFilter = @ExtraFilter_e9b4d82b,
  @EntityID = @EntityID_e9b4d82b,
  @RecordID = @RecordID_e9b4d82b,
  @OrderBy = @OrderBy_e9b4d82b,
  @TemplateContentID = @TemplateContentID_e9b4d82b,
  @ID = @ID_e9b4d82b;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_86c2cb22 UNIQUEIDENTIFIER,
@Name_86c2cb22 NVARCHAR(255),
@Description_86c2cb22 NVARCHAR(MAX),
@Type_86c2cb22 NVARCHAR(20),
@DefaultValue_86c2cb22 NVARCHAR(MAX),
@IsRequired_86c2cb22 BIT,
@LinkedParameterName_86c2cb22 NVARCHAR(255),
@LinkedParameterField_86c2cb22 NVARCHAR(500),
@ExtraFilter_86c2cb22 NVARCHAR(MAX),
@EntityID_86c2cb22 UNIQUEIDENTIFIER,
@RecordID_86c2cb22 NVARCHAR(2000),
@OrderBy_86c2cb22 NVARCHAR(MAX),
@TemplateContentID_86c2cb22 UNIQUEIDENTIFIER,
@ID_86c2cb22 UNIQUEIDENTIFIER
SET
  @TemplateID_86c2cb22 = '2F0C56C2-CF06-4830-9FD3-14C9F0C275F1'
SET
  @Name_86c2cb22 = N'userQuestion'
SET
  @Description_86c2cb22 = N'The natural language question posed by the user'
SET
  @Type_86c2cb22 = N'Scalar'
SET
  @IsRequired_86c2cb22 = 0
SET
  @ID_86c2cb22 = '177DA683-30BC-40BF-B254-E763722CD0DC'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_86c2cb22,
  @Name = @Name_86c2cb22,
  @Description = @Description_86c2cb22,
  @Type = @Type_86c2cb22,
  @DefaultValue = @DefaultValue_86c2cb22,
  @IsRequired = @IsRequired_86c2cb22,
  @LinkedParameterName = @LinkedParameterName_86c2cb22,
  @LinkedParameterField = @LinkedParameterField_86c2cb22,
  @ExtraFilter = @ExtraFilter_86c2cb22,
  @EntityID = @EntityID_86c2cb22,
  @RecordID = @RecordID_86c2cb22,
  @OrderBy = @OrderBy_86c2cb22,
  @TemplateContentID = @TemplateContentID_86c2cb22,
  @ID = @ID_86c2cb22;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_0a82d68f UNIQUEIDENTIFIER,
@Name_0a82d68f NVARCHAR(255),
@Description_0a82d68f NVARCHAR(MAX),
@Type_0a82d68f NVARCHAR(20),
@DefaultValue_0a82d68f NVARCHAR(MAX),
@IsRequired_0a82d68f BIT,
@LinkedParameterName_0a82d68f NVARCHAR(255),
@LinkedParameterField_0a82d68f NVARCHAR(500),
@ExtraFilter_0a82d68f NVARCHAR(MAX),
@EntityID_0a82d68f UNIQUEIDENTIFIER,
@RecordID_0a82d68f NVARCHAR(2000),
@OrderBy_0a82d68f NVARCHAR(MAX),
@TemplateContentID_0a82d68f UNIQUEIDENTIFIER,
@ID_0a82d68f UNIQUEIDENTIFIER
SET
  @TemplateID_0a82d68f = '2F0C56C2-CF06-4830-9FD3-14C9F0C275F1'
SET
  @Name_0a82d68f = N'selectClause'
SET
  @Description_0a82d68f = N'Array of expected output field definitions'
SET
  @Type_0a82d68f = N'Array'
SET
  @IsRequired_0a82d68f = 0
SET
  @ID_0a82d68f = '3F2DEB75-E565-4B2F-8A48-EC08E0366612'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_0a82d68f,
  @Name = @Name_0a82d68f,
  @Description = @Description_0a82d68f,
  @Type = @Type_0a82d68f,
  @DefaultValue = @DefaultValue_0a82d68f,
  @IsRequired = @IsRequired_0a82d68f,
  @LinkedParameterName = @LinkedParameterName_0a82d68f,
  @LinkedParameterField = @LinkedParameterField_0a82d68f,
  @ExtraFilter = @ExtraFilter_0a82d68f,
  @EntityID = @EntityID_0a82d68f,
  @RecordID = @RecordID_0a82d68f,
  @OrderBy = @OrderBy_0a82d68f,
  @TemplateContentID = @TemplateContentID_0a82d68f,
  @ID = @ID_0a82d68f;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_39fecd94 UNIQUEIDENTIFIER,
@Name_39fecd94 NVARCHAR(255),
@Description_39fecd94 NVARCHAR(MAX),
@Type_39fecd94 NVARCHAR(20),
@DefaultValue_39fecd94 NVARCHAR(MAX),
@IsRequired_39fecd94 BIT,
@LinkedParameterName_39fecd94 NVARCHAR(255),
@LinkedParameterField_39fecd94 NVARCHAR(500),
@ExtraFilter_39fecd94 NVARCHAR(MAX),
@EntityID_39fecd94 UNIQUEIDENTIFIER,
@RecordID_39fecd94 NVARCHAR(2000),
@OrderBy_39fecd94 NVARCHAR(MAX),
@TemplateContentID_39fecd94 UNIQUEIDENTIFIER,
@ID_39fecd94 UNIQUEIDENTIFIER
SET
  @TemplateID_39fecd94 = '2F0C56C2-CF06-4830-9FD3-14C9F0C275F1'
SET
  @Name_39fecd94 = N'errorMessage'
SET
  @Description_39fecd94 = N'The error message returned when the original SQL failed'
SET
  @Type_39fecd94 = N'Scalar'
SET
  @IsRequired_39fecd94 = 0
SET
  @ID_39fecd94 = '41A3067A-A3C9-42A4-9018-EE19745C63D9'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_39fecd94,
  @Name = @Name_39fecd94,
  @Description = @Description_39fecd94,
  @Type = @Type_39fecd94,
  @DefaultValue = @DefaultValue_39fecd94,
  @IsRequired = @IsRequired_39fecd94,
  @LinkedParameterName = @LinkedParameterName_39fecd94,
  @LinkedParameterField = @LinkedParameterField_39fecd94,
  @ExtraFilter = @ExtraFilter_39fecd94,
  @EntityID = @EntityID_39fecd94,
  @RecordID = @RecordID_39fecd94,
  @OrderBy = @OrderBy_39fecd94,
  @TemplateContentID = @TemplateContentID_39fecd94,
  @ID = @ID_39fecd94;

-- Save AI Prompts (core SP call only)
DECLARE @Name_893bfa80 NVARCHAR(255),
@Description_893bfa80 NVARCHAR(MAX),
@TemplateID_893bfa80 UNIQUEIDENTIFIER,
@CategoryID_893bfa80 UNIQUEIDENTIFIER,
@TypeID_893bfa80 UNIQUEIDENTIFIER,
@Status_893bfa80 NVARCHAR(50),
@ResponseFormat_893bfa80 NVARCHAR(20),
@ModelSpecificResponseFormat_893bfa80 NVARCHAR(MAX),
@AIModelTypeID_893bfa80 UNIQUEIDENTIFIER,
@MinPowerRank_893bfa80 INT,
@SelectionStrategy_893bfa80 NVARCHAR(20),
@PowerPreference_893bfa80 NVARCHAR(20),
@ParallelizationMode_893bfa80 NVARCHAR(20),
@ParallelCount_893bfa80 INT,
@ParallelConfigParam_893bfa80 NVARCHAR(100),
@OutputType_893bfa80 NVARCHAR(50),
@OutputExample_893bfa80 NVARCHAR(MAX),
@ValidationBehavior_893bfa80 NVARCHAR(50),
@MaxRetries_893bfa80 INT,
@RetryDelayMS_893bfa80 INT,
@RetryStrategy_893bfa80 NVARCHAR(20),
@ResultSelectorPromptID_893bfa80 UNIQUEIDENTIFIER,
@EnableCaching_893bfa80 BIT,
@CacheTTLSeconds_893bfa80 INT,
@CacheMatchType_893bfa80 NVARCHAR(20),
@CacheSimilarityThreshold_893bfa80 FLOAT(53),
@CacheMustMatchModel_893bfa80 BIT,
@CacheMustMatchVendor_893bfa80 BIT,
@CacheMustMatchAgent_893bfa80 BIT,
@CacheMustMatchConfig_893bfa80 BIT,
@PromptRole_893bfa80 NVARCHAR(20),
@PromptPosition_893bfa80 NVARCHAR(20),
@Temperature_893bfa80 DECIMAL(3, 2),
@TopP_893bfa80 DECIMAL(3, 2),
@TopK_893bfa80 INT,
@MinP_893bfa80 DECIMAL(3, 2),
@FrequencyPenalty_893bfa80 DECIMAL(3, 2),
@PresencePenalty_893bfa80 DECIMAL(3, 2),
@Seed_893bfa80 INT,
@StopSequences_893bfa80 NVARCHAR(1000),
@IncludeLogProbs_893bfa80 BIT,
@TopLogProbs_893bfa80 INT,
@FailoverStrategy_893bfa80 NVARCHAR(50),
@FailoverMaxAttempts_893bfa80 INT,
@FailoverDelaySeconds_893bfa80 INT,
@FailoverModelStrategy_893bfa80 NVARCHAR(50),
@FailoverErrorScope_893bfa80 NVARCHAR(50),
@EffortLevel_893bfa80 INT,
@ID_893bfa80 UNIQUEIDENTIFIER
SET
  @Name_893bfa80 = N'SQL Query Fixer'
SET
  @Description_893bfa80 = N'Fixes SQL syntax and logic errors in generated queries'
SET
  @TemplateID_893bfa80 = '2F0C56C2-CF06-4830-9FD3-14C9F0C275F1'
SET
  @CategoryID_893bfa80 = 'FE112721-A511-4DC3-A75A-50E5E931E940'
SET
  @TypeID_893bfa80 = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_893bfa80 = N'Active'
SET
  @ResponseFormat_893bfa80 = N'JSON'
SET
  @MinPowerRank_893bfa80 = 0
SET
  @SelectionStrategy_893bfa80 = N'Specific'
SET
  @PowerPreference_893bfa80 = N'Highest'
SET
  @ParallelizationMode_893bfa80 = N'None'
SET
  @OutputType_893bfa80 = N'object'
SET
  @OutputExample_893bfa80 = N'{"newSQL":"SELECT c.Name AS CustomerName, SUM(o.Total) AS TotalRevenue FROM [${flyway:defaultSchema}].[vwCustomers] c LEFT JOIN [${flyway:defaultSchema}].[vwOrders] o ON o.CustomerID = c.ID WHERE o.OrderDate >= {{ startDate | sqlDate }} GROUP BY c.Name ORDER BY TotalRevenue DESC","reasoning":"Fixed missing GROUP BY clause and corrected JOIN syntax. Added ''GROUP BY c.Name'' to properly aggregate results. Changed INNER JOIN to LEFT JOIN to include customers with no orders."}'
SET
  @ValidationBehavior_893bfa80 = N'Strict'
SET
  @MaxRetries_893bfa80 = 3
SET
  @RetryDelayMS_893bfa80 = 0
SET
  @RetryStrategy_893bfa80 = N'Fixed'
SET
  @EnableCaching_893bfa80 = 0
SET
  @CacheMatchType_893bfa80 = N'Exact'
SET
  @CacheMustMatchModel_893bfa80 = 1
SET
  @CacheMustMatchVendor_893bfa80 = 1
SET
  @CacheMustMatchAgent_893bfa80 = 0
SET
  @CacheMustMatchConfig_893bfa80 = 0
SET
  @PromptRole_893bfa80 = N'System'
SET
  @PromptPosition_893bfa80 = N'First'
SET
  @IncludeLogProbs_893bfa80 = 0
SET
  @FailoverStrategy_893bfa80 = N'SameModelDifferentVendor'
SET
  @FailoverMaxAttempts_893bfa80 = 5
SET
  @FailoverDelaySeconds_893bfa80 = 5
SET
  @FailoverModelStrategy_893bfa80 = N'PreferSameModel'
SET
  @FailoverErrorScope_893bfa80 = N'All'
SET
  @ID_893bfa80 = 'A012DDD6-FF6A-4EE4-86C2-CF394E353DC0'
EXEC [${flyway:defaultSchema}].spUpdateAIPrompt @Name = @Name_893bfa80,
  @Description = @Description_893bfa80,
  @TemplateID = @TemplateID_893bfa80,
  @CategoryID = @CategoryID_893bfa80,
  @TypeID = @TypeID_893bfa80,
  @Status = @Status_893bfa80,
  @ResponseFormat = @ResponseFormat_893bfa80,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_893bfa80,
  @AIModelTypeID = @AIModelTypeID_893bfa80,
  @MinPowerRank = @MinPowerRank_893bfa80,
  @SelectionStrategy = @SelectionStrategy_893bfa80,
  @PowerPreference = @PowerPreference_893bfa80,
  @ParallelizationMode = @ParallelizationMode_893bfa80,
  @ParallelCount = @ParallelCount_893bfa80,
  @ParallelConfigParam = @ParallelConfigParam_893bfa80,
  @OutputType = @OutputType_893bfa80,
  @OutputExample = @OutputExample_893bfa80,
  @ValidationBehavior = @ValidationBehavior_893bfa80,
  @MaxRetries = @MaxRetries_893bfa80,
  @RetryDelayMS = @RetryDelayMS_893bfa80,
  @RetryStrategy = @RetryStrategy_893bfa80,
  @ResultSelectorPromptID = @ResultSelectorPromptID_893bfa80,
  @EnableCaching = @EnableCaching_893bfa80,
  @CacheTTLSeconds = @CacheTTLSeconds_893bfa80,
  @CacheMatchType = @CacheMatchType_893bfa80,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_893bfa80,
  @CacheMustMatchModel = @CacheMustMatchModel_893bfa80,
  @CacheMustMatchVendor = @CacheMustMatchVendor_893bfa80,
  @CacheMustMatchAgent = @CacheMustMatchAgent_893bfa80,
  @CacheMustMatchConfig = @CacheMustMatchConfig_893bfa80,
  @PromptRole = @PromptRole_893bfa80,
  @PromptPosition = @PromptPosition_893bfa80,
  @Temperature = @Temperature_893bfa80,
  @TopP = @TopP_893bfa80,
  @TopK = @TopK_893bfa80,
  @MinP = @MinP_893bfa80,
  @FrequencyPenalty = @FrequencyPenalty_893bfa80,
  @PresencePenalty = @PresencePenalty_893bfa80,
  @Seed = @Seed_893bfa80,
  @StopSequences = @StopSequences_893bfa80,
  @IncludeLogProbs = @IncludeLogProbs_893bfa80,
  @TopLogProbs = @TopLogProbs_893bfa80,
  @FailoverStrategy = @FailoverStrategy_893bfa80,
  @FailoverMaxAttempts = @FailoverMaxAttempts_893bfa80,
  @FailoverDelaySeconds = @FailoverDelaySeconds_893bfa80,
  @FailoverModelStrategy = @FailoverModelStrategy_893bfa80,
  @FailoverErrorScope = @FailoverErrorScope_893bfa80,
  @EffortLevel = @EffortLevel_893bfa80,
  @ID = @ID_893bfa80;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_514d83f9 UNIQUEIDENTIFIER,
@Name_514d83f9 NVARCHAR(255),
@Description_514d83f9 NVARCHAR(MAX),
@Type_514d83f9 NVARCHAR(20),
@DefaultValue_514d83f9 NVARCHAR(MAX),
@IsRequired_514d83f9 BIT,
@LinkedParameterName_514d83f9 NVARCHAR(255),
@LinkedParameterField_514d83f9 NVARCHAR(500),
@ExtraFilter_514d83f9 NVARCHAR(MAX),
@EntityID_514d83f9 UNIQUEIDENTIFIER,
@RecordID_514d83f9 NVARCHAR(2000),
@OrderBy_514d83f9 NVARCHAR(MAX),
@TemplateContentID_514d83f9 UNIQUEIDENTIFIER,
@ID_514d83f9 UNIQUEIDENTIFIER
SET
  @TemplateID_514d83f9 = '6C644A1D-01A7-43E9-B8C9-63636388A937'
SET
  @Name_514d83f9 = N'validationFeedback'
SET
  @Description_514d83f9 = N'Critical validation feedback for previous failed attempt'
SET
  @Type_514d83f9 = N'Scalar'
SET
  @IsRequired_514d83f9 = 0
SET
  @ID_514d83f9 = 'EB5EB4E7-21B2-4319-AD18-292859CF1EAC'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_514d83f9,
  @Name = @Name_514d83f9,
  @Description = @Description_514d83f9,
  @Type = @Type_514d83f9,
  @DefaultValue = @DefaultValue_514d83f9,
  @IsRequired = @IsRequired_514d83f9,
  @LinkedParameterName = @LinkedParameterName_514d83f9,
  @LinkedParameterField = @LinkedParameterField_514d83f9,
  @ExtraFilter = @ExtraFilter_514d83f9,
  @EntityID = @EntityID_514d83f9,
  @RecordID = @RecordID_514d83f9,
  @OrderBy = @OrderBy_514d83f9,
  @TemplateContentID = @TemplateContentID_514d83f9,
  @ID = @ID_514d83f9;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_331b25ad UNIQUEIDENTIFIER,
@Name_331b25ad NVARCHAR(255),
@Description_331b25ad NVARCHAR(MAX),
@Type_331b25ad NVARCHAR(20),
@DefaultValue_331b25ad NVARCHAR(MAX),
@IsRequired_331b25ad BIT,
@LinkedParameterName_331b25ad NVARCHAR(255),
@LinkedParameterField_331b25ad NVARCHAR(500),
@ExtraFilter_331b25ad NVARCHAR(MAX),
@EntityID_331b25ad UNIQUEIDENTIFIER,
@RecordID_331b25ad NVARCHAR(2000),
@OrderBy_331b25ad NVARCHAR(MAX),
@TemplateContentID_331b25ad UNIQUEIDENTIFIER,
@ID_331b25ad UNIQUEIDENTIFIER
SET
  @TemplateID_331b25ad = '6C644A1D-01A7-43E9-B8C9-63636388A937'
SET
  @Name_331b25ad = N'fewShotExamples'
SET
  @Description_331b25ad = N'Array of example query objects for pattern matching'
SET
  @Type_331b25ad = N'Array'
SET
  @IsRequired_331b25ad = 0
SET
  @ID_331b25ad = '1E0373D6-A28D-45F6-AA29-82DD0EBAA645'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_331b25ad,
  @Name = @Name_331b25ad,
  @Description = @Description_331b25ad,
  @Type = @Type_331b25ad,
  @DefaultValue = @DefaultValue_331b25ad,
  @IsRequired = @IsRequired_331b25ad,
  @LinkedParameterName = @LinkedParameterName_331b25ad,
  @LinkedParameterField = @LinkedParameterField_331b25ad,
  @ExtraFilter = @ExtraFilter_331b25ad,
  @EntityID = @EntityID_331b25ad,
  @RecordID = @RecordID_331b25ad,
  @OrderBy = @OrderBy_331b25ad,
  @TemplateContentID = @TemplateContentID_331b25ad,
  @ID = @ID_331b25ad;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_6f84c5ad UNIQUEIDENTIFIER,
@Name_6f84c5ad NVARCHAR(255),
@Description_6f84c5ad NVARCHAR(MAX),
@Type_6f84c5ad NVARCHAR(20),
@DefaultValue_6f84c5ad NVARCHAR(MAX),
@IsRequired_6f84c5ad BIT,
@LinkedParameterName_6f84c5ad NVARCHAR(255),
@LinkedParameterField_6f84c5ad NVARCHAR(500),
@ExtraFilter_6f84c5ad NVARCHAR(MAX),
@EntityID_6f84c5ad UNIQUEIDENTIFIER,
@RecordID_6f84c5ad NVARCHAR(2000),
@OrderBy_6f84c5ad NVARCHAR(MAX),
@TemplateContentID_6f84c5ad UNIQUEIDENTIFIER,
@ID_6f84c5ad UNIQUEIDENTIFIER
SET
  @TemplateID_6f84c5ad = '6C644A1D-01A7-43E9-B8C9-63636388A937'
SET
  @Name_6f84c5ad = N'userQuestion'
SET
  @Description_6f84c5ad = N'The user''s question text'
SET
  @Type_6f84c5ad = N'Scalar'
SET
  @IsRequired_6f84c5ad = 0
SET
  @ID_6f84c5ad = '4ED516A7-E3E9-43BC-A58F-B458232762FE'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_6f84c5ad,
  @Name = @Name_6f84c5ad,
  @Description = @Description_6f84c5ad,
  @Type = @Type_6f84c5ad,
  @DefaultValue = @DefaultValue_6f84c5ad,
  @IsRequired = @IsRequired_6f84c5ad,
  @LinkedParameterName = @LinkedParameterName_6f84c5ad,
  @LinkedParameterField = @LinkedParameterField_6f84c5ad,
  @ExtraFilter = @ExtraFilter_6f84c5ad,
  @EntityID = @EntityID_6f84c5ad,
  @RecordID = @RecordID_6f84c5ad,
  @OrderBy = @OrderBy_6f84c5ad,
  @TemplateContentID = @TemplateContentID_6f84c5ad,
  @ID = @ID_6f84c5ad;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_f5d327ac UNIQUEIDENTIFIER,
@Name_f5d327ac NVARCHAR(255),
@Description_f5d327ac NVARCHAR(MAX),
@Type_f5d327ac NVARCHAR(20),
@DefaultValue_f5d327ac NVARCHAR(MAX),
@IsRequired_f5d327ac BIT,
@LinkedParameterName_f5d327ac NVARCHAR(255),
@LinkedParameterField_f5d327ac NVARCHAR(500),
@ExtraFilter_f5d327ac NVARCHAR(MAX),
@EntityID_f5d327ac UNIQUEIDENTIFIER,
@RecordID_f5d327ac NVARCHAR(2000),
@OrderBy_f5d327ac NVARCHAR(MAX),
@TemplateContentID_f5d327ac UNIQUEIDENTIFIER,
@ID_f5d327ac UNIQUEIDENTIFIER
SET
  @TemplateID_f5d327ac = '6C644A1D-01A7-43E9-B8C9-63636388A937'
SET
  @Name_f5d327ac = N'entityMetadata'
SET
  @Description_f5d327ac = N'Array of entity metadata objects containing schema and field information'
SET
  @Type_f5d327ac = N'Array'
SET
  @IsRequired_f5d327ac = 0
SET
  @ID_f5d327ac = '9183EFBB-8DB2-4BD2-9C0F-E44000F4DFD1'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_f5d327ac,
  @Name = @Name_f5d327ac,
  @Description = @Description_f5d327ac,
  @Type = @Type_f5d327ac,
  @DefaultValue = @DefaultValue_f5d327ac,
  @IsRequired = @IsRequired_f5d327ac,
  @LinkedParameterName = @LinkedParameterName_f5d327ac,
  @LinkedParameterField = @LinkedParameterField_f5d327ac,
  @ExtraFilter = @ExtraFilter_f5d327ac,
  @EntityID = @EntityID_f5d327ac,
  @RecordID = @RecordID_f5d327ac,
  @OrderBy = @OrderBy_f5d327ac,
  @TemplateContentID = @TemplateContentID_f5d327ac,
  @ID = @ID_f5d327ac;

-- Save AI Prompts (core SP call only)
DECLARE @Name_97360775 NVARCHAR(255),
@Description_97360775 NVARCHAR(MAX),
@TemplateID_97360775 UNIQUEIDENTIFIER,
@CategoryID_97360775 UNIQUEIDENTIFIER,
@TypeID_97360775 UNIQUEIDENTIFIER,
@Status_97360775 NVARCHAR(50),
@ResponseFormat_97360775 NVARCHAR(20),
@ModelSpecificResponseFormat_97360775 NVARCHAR(MAX),
@AIModelTypeID_97360775 UNIQUEIDENTIFIER,
@MinPowerRank_97360775 INT,
@SelectionStrategy_97360775 NVARCHAR(20),
@PowerPreference_97360775 NVARCHAR(20),
@ParallelizationMode_97360775 NVARCHAR(20),
@ParallelCount_97360775 INT,
@ParallelConfigParam_97360775 NVARCHAR(100),
@OutputType_97360775 NVARCHAR(50),
@OutputExample_97360775 NVARCHAR(MAX),
@ValidationBehavior_97360775 NVARCHAR(50),
@MaxRetries_97360775 INT,
@RetryDelayMS_97360775 INT,
@RetryStrategy_97360775 NVARCHAR(20),
@ResultSelectorPromptID_97360775 UNIQUEIDENTIFIER,
@EnableCaching_97360775 BIT,
@CacheTTLSeconds_97360775 INT,
@CacheMatchType_97360775 NVARCHAR(20),
@CacheSimilarityThreshold_97360775 FLOAT(53),
@CacheMustMatchModel_97360775 BIT,
@CacheMustMatchVendor_97360775 BIT,
@CacheMustMatchAgent_97360775 BIT,
@CacheMustMatchConfig_97360775 BIT,
@PromptRole_97360775 NVARCHAR(20),
@PromptPosition_97360775 NVARCHAR(20),
@Temperature_97360775 DECIMAL(3, 2),
@TopP_97360775 DECIMAL(3, 2),
@TopK_97360775 INT,
@MinP_97360775 DECIMAL(3, 2),
@FrequencyPenalty_97360775 DECIMAL(3, 2),
@PresencePenalty_97360775 DECIMAL(3, 2),
@Seed_97360775 INT,
@StopSequences_97360775 NVARCHAR(1000),
@IncludeLogProbs_97360775 BIT,
@TopLogProbs_97360775 INT,
@FailoverStrategy_97360775 NVARCHAR(50),
@FailoverMaxAttempts_97360775 INT,
@FailoverDelaySeconds_97360775 INT,
@FailoverModelStrategy_97360775 NVARCHAR(50),
@FailoverErrorScope_97360775 NVARCHAR(50),
@EffortLevel_97360775 INT,
@ID_97360775 UNIQUEIDENTIFIER
SET
  @Name_97360775 = N'SQL Query Writer'
SET
  @Description_97360775 = N'Generates Nunjucks SQL query templates from business questions using few-shot learning'
SET
  @TemplateID_97360775 = '6C644A1D-01A7-43E9-B8C9-63636388A937'
SET
  @CategoryID_97360775 = 'FE112721-A511-4DC3-A75A-50E5E931E940'
SET
  @TypeID_97360775 = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_97360775 = N'Active'
SET
  @ResponseFormat_97360775 = N'JSON'
SET
  @MinPowerRank_97360775 = 0
SET
  @SelectionStrategy_97360775 = N'Specific'
SET
  @PowerPreference_97360775 = N'Highest'
SET
  @ParallelizationMode_97360775 = N'None'
SET
  @OutputType_97360775 = N'object'
SET
  @OutputExample_97360775 = N'{"queryName":"Customer Revenue By Date Range","sql":"SELECT c.Name AS CustomerName, SUM(o.Total) AS TotalRevenue FROM [${flyway:defaultSchema}].[vwCustomers] c LEFT JOIN [${flyway:defaultSchema}].[vwOrders] o ON o.CustomerID = c.ID WHERE o.OrderDate >= {{ startDate | sqlDate }} GROUP BY c.Name ORDER BY TotalRevenue DESC","parameters":[{"name":"startDate","type":"date","isRequired":true,"description":"Start date for order filtering","usage":["WHERE clause filter on OrderDate"],"defaultValue":null,"sampleValue":"2024-01-01"}]}'
SET
  @ValidationBehavior_97360775 = N'Strict'
SET
  @MaxRetries_97360775 = 3
SET
  @RetryDelayMS_97360775 = 0
SET
  @RetryStrategy_97360775 = N'Fixed'
SET
  @EnableCaching_97360775 = 0
SET
  @CacheMatchType_97360775 = N'Exact'
SET
  @CacheMustMatchModel_97360775 = 1
SET
  @CacheMustMatchVendor_97360775 = 1
SET
  @CacheMustMatchAgent_97360775 = 0
SET
  @CacheMustMatchConfig_97360775 = 0
SET
  @PromptRole_97360775 = N'System'
SET
  @PromptPosition_97360775 = N'First'
SET
  @IncludeLogProbs_97360775 = 0
SET
  @FailoverStrategy_97360775 = N'SameModelDifferentVendor'
SET
  @FailoverMaxAttempts_97360775 = 5
SET
  @FailoverDelaySeconds_97360775 = 5
SET
  @FailoverModelStrategy_97360775 = N'PreferSameModel'
SET
  @FailoverErrorScope_97360775 = N'All'
SET
  @ID_97360775 = 'FA000A4D-09F5-4557-858F-AC01E19D8238'
EXEC [${flyway:defaultSchema}].spUpdateAIPrompt @Name = @Name_97360775,
  @Description = @Description_97360775,
  @TemplateID = @TemplateID_97360775,
  @CategoryID = @CategoryID_97360775,
  @TypeID = @TypeID_97360775,
  @Status = @Status_97360775,
  @ResponseFormat = @ResponseFormat_97360775,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_97360775,
  @AIModelTypeID = @AIModelTypeID_97360775,
  @MinPowerRank = @MinPowerRank_97360775,
  @SelectionStrategy = @SelectionStrategy_97360775,
  @PowerPreference = @PowerPreference_97360775,
  @ParallelizationMode = @ParallelizationMode_97360775,
  @ParallelCount = @ParallelCount_97360775,
  @ParallelConfigParam = @ParallelConfigParam_97360775,
  @OutputType = @OutputType_97360775,
  @OutputExample = @OutputExample_97360775,
  @ValidationBehavior = @ValidationBehavior_97360775,
  @MaxRetries = @MaxRetries_97360775,
  @RetryDelayMS = @RetryDelayMS_97360775,
  @RetryStrategy = @RetryStrategy_97360775,
  @ResultSelectorPromptID = @ResultSelectorPromptID_97360775,
  @EnableCaching = @EnableCaching_97360775,
  @CacheTTLSeconds = @CacheTTLSeconds_97360775,
  @CacheMatchType = @CacheMatchType_97360775,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_97360775,
  @CacheMustMatchModel = @CacheMustMatchModel_97360775,
  @CacheMustMatchVendor = @CacheMustMatchVendor_97360775,
  @CacheMustMatchAgent = @CacheMustMatchAgent_97360775,
  @CacheMustMatchConfig = @CacheMustMatchConfig_97360775,
  @PromptRole = @PromptRole_97360775,
  @PromptPosition = @PromptPosition_97360775,
  @Temperature = @Temperature_97360775,
  @TopP = @TopP_97360775,
  @TopK = @TopK_97360775,
  @MinP = @MinP_97360775,
  @FrequencyPenalty = @FrequencyPenalty_97360775,
  @PresencePenalty = @PresencePenalty_97360775,
  @Seed = @Seed_97360775,
  @StopSequences = @StopSequences_97360775,
  @IncludeLogProbs = @IncludeLogProbs_97360775,
  @TopLogProbs = @TopLogProbs_97360775,
  @FailoverStrategy = @FailoverStrategy_97360775,
  @FailoverMaxAttempts = @FailoverMaxAttempts_97360775,
  @FailoverDelaySeconds = @FailoverDelaySeconds_97360775,
  @FailoverModelStrategy = @FailoverModelStrategy_97360775,
  @FailoverErrorScope = @FailoverErrorScope_97360775,
  @EffortLevel = @EffortLevel_97360775,
  @ID = @ID_97360775;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_126ce001 UNIQUEIDENTIFIER,
@Name_126ce001 NVARCHAR(255),
@Description_126ce001 NVARCHAR(MAX),
@Type_126ce001 NVARCHAR(20),
@DefaultValue_126ce001 NVARCHAR(MAX),
@IsRequired_126ce001 BIT,
@LinkedParameterName_126ce001 NVARCHAR(255),
@LinkedParameterField_126ce001 NVARCHAR(500),
@ExtraFilter_126ce001 NVARCHAR(MAX),
@EntityID_126ce001 UNIQUEIDENTIFIER,
@RecordID_126ce001 NVARCHAR(2000),
@OrderBy_126ce001 NVARCHAR(MAX),
@TemplateContentID_126ce001 UNIQUEIDENTIFIER,
@ID_126ce001 UNIQUEIDENTIFIER
SET
  @TemplateID_126ce001 = '177D2C33-865C-47DA-A134-46019C759A42'
SET
  @Name_126ce001 = N'entityMetadata'
SET
  @Description_126ce001 = N'Array of entity metadata objects containing available database entities, their fields, and relationships'
SET
  @Type_126ce001 = N'Array'
SET
  @IsRequired_126ce001 = 0
SET
  @ID_126ce001 = '52F3F662-3846-465D-AEF7-A0DE552B10D5'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_126ce001,
  @Name = @Name_126ce001,
  @Description = @Description_126ce001,
  @Type = @Type_126ce001,
  @DefaultValue = @DefaultValue_126ce001,
  @IsRequired = @IsRequired_126ce001,
  @LinkedParameterName = @LinkedParameterName_126ce001,
  @LinkedParameterField = @LinkedParameterField_126ce001,
  @ExtraFilter = @ExtraFilter_126ce001,
  @EntityID = @EntityID_126ce001,
  @RecordID = @RecordID_126ce001,
  @OrderBy = @OrderBy_126ce001,
  @TemplateContentID = @TemplateContentID_126ce001,
  @ID = @ID_126ce001;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_bc4a54b9 UNIQUEIDENTIFIER,
@Name_bc4a54b9 NVARCHAR(255),
@Description_bc4a54b9 NVARCHAR(MAX),
@Type_bc4a54b9 NVARCHAR(20),
@DefaultValue_bc4a54b9 NVARCHAR(MAX),
@IsRequired_bc4a54b9 BIT,
@LinkedParameterName_bc4a54b9 NVARCHAR(255),
@LinkedParameterField_bc4a54b9 NVARCHAR(500),
@ExtraFilter_bc4a54b9 NVARCHAR(MAX),
@EntityID_bc4a54b9 UNIQUEIDENTIFIER,
@RecordID_bc4a54b9 NVARCHAR(2000),
@OrderBy_bc4a54b9 NVARCHAR(MAX),
@TemplateContentID_bc4a54b9 UNIQUEIDENTIFIER,
@ID_bc4a54b9 UNIQUEIDENTIFIER
SET
  @TemplateID_bc4a54b9 = '177D2C33-865C-47DA-A134-46019C759A42'
SET
  @Name_bc4a54b9 = N'currentSQL'
SET
  @Description_bc4a54b9 = N'The current SQL query being evaluated and refined'
SET
  @Type_bc4a54b9 = N'Scalar'
SET
  @IsRequired_bc4a54b9 = 0
SET
  @ID_bc4a54b9 = '102EA88E-F422-4191-8F3F-FE7FD47A7535'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_bc4a54b9,
  @Name = @Name_bc4a54b9,
  @Description = @Description_bc4a54b9,
  @Type = @Type_bc4a54b9,
  @DefaultValue = @DefaultValue_bc4a54b9,
  @IsRequired = @IsRequired_bc4a54b9,
  @LinkedParameterName = @LinkedParameterName_bc4a54b9,
  @LinkedParameterField = @LinkedParameterField_bc4a54b9,
  @ExtraFilter = @ExtraFilter_bc4a54b9,
  @EntityID = @EntityID_bc4a54b9,
  @RecordID = @RecordID_bc4a54b9,
  @OrderBy = @OrderBy_bc4a54b9,
  @TemplateContentID = @TemplateContentID_bc4a54b9,
  @ID = @ID_bc4a54b9;

-- Save AI Prompts (core SP call only)
DECLARE @Name_9a950c19 NVARCHAR(255),
@Description_9a950c19 NVARCHAR(MAX),
@TemplateID_9a950c19 UNIQUEIDENTIFIER,
@CategoryID_9a950c19 UNIQUEIDENTIFIER,
@TypeID_9a950c19 UNIQUEIDENTIFIER,
@Status_9a950c19 NVARCHAR(50),
@ResponseFormat_9a950c19 NVARCHAR(20),
@ModelSpecificResponseFormat_9a950c19 NVARCHAR(MAX),
@AIModelTypeID_9a950c19 UNIQUEIDENTIFIER,
@MinPowerRank_9a950c19 INT,
@SelectionStrategy_9a950c19 NVARCHAR(20),
@PowerPreference_9a950c19 NVARCHAR(20),
@ParallelizationMode_9a950c19 NVARCHAR(20),
@ParallelCount_9a950c19 INT,
@ParallelConfigParam_9a950c19 NVARCHAR(100),
@OutputType_9a950c19 NVARCHAR(50),
@OutputExample_9a950c19 NVARCHAR(MAX),
@ValidationBehavior_9a950c19 NVARCHAR(50),
@MaxRetries_9a950c19 INT,
@RetryDelayMS_9a950c19 INT,
@RetryStrategy_9a950c19 NVARCHAR(20),
@ResultSelectorPromptID_9a950c19 UNIQUEIDENTIFIER,
@EnableCaching_9a950c19 BIT,
@CacheTTLSeconds_9a950c19 INT,
@CacheMatchType_9a950c19 NVARCHAR(20),
@CacheSimilarityThreshold_9a950c19 FLOAT(53),
@CacheMustMatchModel_9a950c19 BIT,
@CacheMustMatchVendor_9a950c19 BIT,
@CacheMustMatchAgent_9a950c19 BIT,
@CacheMustMatchConfig_9a950c19 BIT,
@PromptRole_9a950c19 NVARCHAR(20),
@PromptPosition_9a950c19 NVARCHAR(20),
@Temperature_9a950c19 DECIMAL(3, 2),
@TopP_9a950c19 DECIMAL(3, 2),
@TopK_9a950c19 INT,
@MinP_9a950c19 DECIMAL(3, 2),
@FrequencyPenalty_9a950c19 DECIMAL(3, 2),
@PresencePenalty_9a950c19 DECIMAL(3, 2),
@Seed_9a950c19 INT,
@StopSequences_9a950c19 NVARCHAR(1000),
@IncludeLogProbs_9a950c19 BIT,
@TopLogProbs_9a950c19 INT,
@FailoverStrategy_9a950c19 NVARCHAR(50),
@FailoverMaxAttempts_9a950c19 INT,
@FailoverDelaySeconds_9a950c19 INT,
@FailoverModelStrategy_9a950c19 NVARCHAR(50),
@FailoverErrorScope_9a950c19 NVARCHAR(50),
@EffortLevel_9a950c19 INT,
@ID_9a950c19 UNIQUEIDENTIFIER
SET
  @Name_9a950c19 = N'Query Refiner'
SET
  @Description_9a950c19 = N'Refines queries based on evaluation feedback'
SET
  @TemplateID_9a950c19 = '177D2C33-865C-47DA-A134-46019C759A42'
SET
  @CategoryID_9a950c19 = 'FE112721-A511-4DC3-A75A-50E5E931E940'
SET
  @TypeID_9a950c19 = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_9a950c19 = N'Active'
SET
  @ResponseFormat_9a950c19 = N'JSON'
SET
  @MinPowerRank_9a950c19 = 0
SET
  @SelectionStrategy_9a950c19 = N'Specific'
SET
  @PowerPreference_9a950c19 = N'Highest'
SET
  @ParallelizationMode_9a950c19 = N'None'
SET
  @OutputType_9a950c19 = N'object'
SET
  @OutputExample_9a950c19 = N'{"queryName":"Top Customer Revenue By Region","sql":"SELECT c.Name AS CustomerName, c.Region, SUM(o.Total) AS TotalRevenue FROM [${flyway:defaultSchema}].[vwCustomers] c LEFT JOIN [${flyway:defaultSchema}].[vwOrders] o ON o.CustomerID = c.ID WHERE o.OrderDate >= {{ startDate | sqlDate }} GROUP BY c.Name, c.Region ORDER BY TotalRevenue DESC LIMIT 10","parameters":[{"name":"startDate","type":"date","isRequired":true,"description":"Start date for order filtering","usage":["WHERE clause filter on OrderDate"],"defaultValue":null,"sampleValue":"2024-01-01"}],"improvementsSummary":"Added Region field and LIMIT clause"}'
SET
  @ValidationBehavior_9a950c19 = N'Strict'
SET
  @MaxRetries_9a950c19 = 3
SET
  @RetryDelayMS_9a950c19 = 0
SET
  @RetryStrategy_9a950c19 = N'Fixed'
SET
  @EnableCaching_9a950c19 = 0
SET
  @CacheMatchType_9a950c19 = N'Exact'
SET
  @CacheMustMatchModel_9a950c19 = 1
SET
  @CacheMustMatchVendor_9a950c19 = 1
SET
  @CacheMustMatchAgent_9a950c19 = 0
SET
  @CacheMustMatchConfig_9a950c19 = 0
SET
  @PromptRole_9a950c19 = N'System'
SET
  @PromptPosition_9a950c19 = N'First'
SET
  @IncludeLogProbs_9a950c19 = 0
SET
  @FailoverStrategy_9a950c19 = N'SameModelDifferentVendor'
SET
  @FailoverMaxAttempts_9a950c19 = 5
SET
  @FailoverDelaySeconds_9a950c19 = 5
SET
  @FailoverModelStrategy_9a950c19 = N'PreferSameModel'
SET
  @FailoverErrorScope_9a950c19 = N'All'
SET
  @ID_9a950c19 = '06BAFF5F-D131-46BF-B2FB-79CC2067B743'
EXEC [${flyway:defaultSchema}].spUpdateAIPrompt @Name = @Name_9a950c19,
  @Description = @Description_9a950c19,
  @TemplateID = @TemplateID_9a950c19,
  @CategoryID = @CategoryID_9a950c19,
  @TypeID = @TypeID_9a950c19,
  @Status = @Status_9a950c19,
  @ResponseFormat = @ResponseFormat_9a950c19,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_9a950c19,
  @AIModelTypeID = @AIModelTypeID_9a950c19,
  @MinPowerRank = @MinPowerRank_9a950c19,
  @SelectionStrategy = @SelectionStrategy_9a950c19,
  @PowerPreference = @PowerPreference_9a950c19,
  @ParallelizationMode = @ParallelizationMode_9a950c19,
  @ParallelCount = @ParallelCount_9a950c19,
  @ParallelConfigParam = @ParallelConfigParam_9a950c19,
  @OutputType = @OutputType_9a950c19,
  @OutputExample = @OutputExample_9a950c19,
  @ValidationBehavior = @ValidationBehavior_9a950c19,
  @MaxRetries = @MaxRetries_9a950c19,
  @RetryDelayMS = @RetryDelayMS_9a950c19,
  @RetryStrategy = @RetryStrategy_9a950c19,
  @ResultSelectorPromptID = @ResultSelectorPromptID_9a950c19,
  @EnableCaching = @EnableCaching_9a950c19,
  @CacheTTLSeconds = @CacheTTLSeconds_9a950c19,
  @CacheMatchType = @CacheMatchType_9a950c19,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_9a950c19,
  @CacheMustMatchModel = @CacheMustMatchModel_9a950c19,
  @CacheMustMatchVendor = @CacheMustMatchVendor_9a950c19,
  @CacheMustMatchAgent = @CacheMustMatchAgent_9a950c19,
  @CacheMustMatchConfig = @CacheMustMatchConfig_9a950c19,
  @PromptRole = @PromptRole_9a950c19,
  @PromptPosition = @PromptPosition_9a950c19,
  @Temperature = @Temperature_9a950c19,
  @TopP = @TopP_9a950c19,
  @TopK = @TopK_9a950c19,
  @MinP = @MinP_9a950c19,
  @FrequencyPenalty = @FrequencyPenalty_9a950c19,
  @PresencePenalty = @PresencePenalty_9a950c19,
  @Seed = @Seed_9a950c19,
  @StopSequences = @StopSequences_9a950c19,
  @IncludeLogProbs = @IncludeLogProbs_9a950c19,
  @TopLogProbs = @TopLogProbs_9a950c19,
  @FailoverStrategy = @FailoverStrategy_9a950c19,
  @FailoverMaxAttempts = @FailoverMaxAttempts_9a950c19,
  @FailoverDelaySeconds = @FailoverDelaySeconds_9a950c19,
  @FailoverModelStrategy = @FailoverModelStrategy_9a950c19,
  @FailoverErrorScope = @FailoverErrorScope_9a950c19,
  @EffortLevel = @EffortLevel_9a950c19,
  @ID = @ID_9a950c19;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_fd6b2fd9 UNIQUEIDENTIFIER,
@Name_fd6b2fd9 NVARCHAR(255),
@Description_fd6b2fd9 NVARCHAR(MAX),
@Type_fd6b2fd9 NVARCHAR(20),
@DefaultValue_fd6b2fd9 NVARCHAR(MAX),
@IsRequired_fd6b2fd9 BIT,
@LinkedParameterName_fd6b2fd9 NVARCHAR(255),
@LinkedParameterField_fd6b2fd9 NVARCHAR(500),
@ExtraFilter_fd6b2fd9 NVARCHAR(MAX),
@EntityID_fd6b2fd9 UNIQUEIDENTIFIER,
@RecordID_fd6b2fd9 NVARCHAR(2000),
@OrderBy_fd6b2fd9 NVARCHAR(MAX),
@TemplateContentID_fd6b2fd9 UNIQUEIDENTIFIER,
@ID_fd6b2fd9 UNIQUEIDENTIFIER
SET
  @TemplateID_fd6b2fd9 = '28947A6D-553C-4F4A-AC1C-8244509F5A5E'
SET
  @Name_fd6b2fd9 = N'parameters'
SET
  @Description_fd6b2fd9 = N'Query parameters with name, type, description, and sample values'
SET
  @Type_fd6b2fd9 = N'Array'
SET
  @IsRequired_fd6b2fd9 = 0
SET
  @ID_fd6b2fd9 = '3297FA80-C060-488A-B78B-2D8243A085D6'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_fd6b2fd9,
  @Name = @Name_fd6b2fd9,
  @Description = @Description_fd6b2fd9,
  @Type = @Type_fd6b2fd9,
  @DefaultValue = @DefaultValue_fd6b2fd9,
  @IsRequired = @IsRequired_fd6b2fd9,
  @LinkedParameterName = @LinkedParameterName_fd6b2fd9,
  @LinkedParameterField = @LinkedParameterField_fd6b2fd9,
  @ExtraFilter = @ExtraFilter_fd6b2fd9,
  @EntityID = @EntityID_fd6b2fd9,
  @RecordID = @RecordID_fd6b2fd9,
  @OrderBy = @OrderBy_fd6b2fd9,
  @TemplateContentID = @TemplateContentID_fd6b2fd9,
  @ID = @ID_fd6b2fd9;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_8498abea UNIQUEIDENTIFIER,
@Name_8498abea NVARCHAR(255),
@Description_8498abea NVARCHAR(MAX),
@Type_8498abea NVARCHAR(20),
@DefaultValue_8498abea NVARCHAR(MAX),
@IsRequired_8498abea BIT,
@LinkedParameterName_8498abea NVARCHAR(255),
@LinkedParameterField_8498abea NVARCHAR(500),
@ExtraFilter_8498abea NVARCHAR(MAX),
@EntityID_8498abea UNIQUEIDENTIFIER,
@RecordID_8498abea NVARCHAR(2000),
@OrderBy_8498abea NVARCHAR(MAX),
@TemplateContentID_8498abea UNIQUEIDENTIFIER,
@ID_8498abea UNIQUEIDENTIFIER
SET
  @TemplateID_8498abea = '28947A6D-553C-4F4A-AC1C-8244509F5A5E'
SET
  @Name_8498abea = N'userQuestion'
SET
  @Description_8498abea = N'The user''s business question being answered'
SET
  @Type_8498abea = N'Scalar'
SET
  @IsRequired_8498abea = 0
SET
  @ID_8498abea = 'E68CDFD4-25FA-400E-9654-52ED8152C2C8'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_8498abea,
  @Name = @Name_8498abea,
  @Description = @Description_8498abea,
  @Type = @Type_8498abea,
  @DefaultValue = @DefaultValue_8498abea,
  @IsRequired = @IsRequired_8498abea,
  @LinkedParameterName = @LinkedParameterName_8498abea,
  @LinkedParameterField = @LinkedParameterField_8498abea,
  @ExtraFilter = @ExtraFilter_8498abea,
  @EntityID = @EntityID_8498abea,
  @RecordID = @RecordID_8498abea,
  @OrderBy = @OrderBy_8498abea,
  @TemplateContentID = @TemplateContentID_8498abea,
  @ID = @ID_8498abea;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_4bbba522 UNIQUEIDENTIFIER,
@Name_4bbba522 NVARCHAR(255),
@Description_4bbba522 NVARCHAR(MAX),
@Type_4bbba522 NVARCHAR(20),
@DefaultValue_4bbba522 NVARCHAR(MAX),
@IsRequired_4bbba522 BIT,
@LinkedParameterName_4bbba522 NVARCHAR(255),
@LinkedParameterField_4bbba522 NVARCHAR(500),
@ExtraFilter_4bbba522 NVARCHAR(MAX),
@EntityID_4bbba522 UNIQUEIDENTIFIER,
@RecordID_4bbba522 NVARCHAR(2000),
@OrderBy_4bbba522 NVARCHAR(MAX),
@TemplateContentID_4bbba522 UNIQUEIDENTIFIER,
@ID_4bbba522 UNIQUEIDENTIFIER
SET
  @TemplateID_4bbba522 = '28947A6D-553C-4F4A-AC1C-8244509F5A5E'
SET
  @Name_4bbba522 = N'sampleResults'
SET
  @Description_4bbba522 = N'Sample query results limited to top 10 rows'
SET
  @Type_4bbba522 = N'Array'
SET
  @IsRequired_4bbba522 = 0
SET
  @ID_4bbba522 = '3D18C108-7A6A-4130-A4EE-83B78315E7CD'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_4bbba522,
  @Name = @Name_4bbba522,
  @Description = @Description_4bbba522,
  @Type = @Type_4bbba522,
  @DefaultValue = @DefaultValue_4bbba522,
  @IsRequired = @IsRequired_4bbba522,
  @LinkedParameterName = @LinkedParameterName_4bbba522,
  @LinkedParameterField = @LinkedParameterField_4bbba522,
  @ExtraFilter = @ExtraFilter_4bbba522,
  @EntityID = @EntityID_4bbba522,
  @RecordID = @RecordID_4bbba522,
  @OrderBy = @OrderBy_4bbba522,
  @TemplateContentID = @TemplateContentID_4bbba522,
  @ID = @ID_4bbba522;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_6183de5c UNIQUEIDENTIFIER,
@Name_6183de5c NVARCHAR(255),
@Description_6183de5c NVARCHAR(MAX),
@Type_6183de5c NVARCHAR(20),
@DefaultValue_6183de5c NVARCHAR(MAX),
@IsRequired_6183de5c BIT,
@LinkedParameterName_6183de5c NVARCHAR(255),
@LinkedParameterField_6183de5c NVARCHAR(500),
@ExtraFilter_6183de5c NVARCHAR(MAX),
@EntityID_6183de5c UNIQUEIDENTIFIER,
@RecordID_6183de5c NVARCHAR(2000),
@OrderBy_6183de5c NVARCHAR(MAX),
@TemplateContentID_6183de5c UNIQUEIDENTIFIER,
@ID_6183de5c UNIQUEIDENTIFIER
SET
  @TemplateID_6183de5c = '28947A6D-553C-4F4A-AC1C-8244509F5A5E'
SET
  @Name_6183de5c = N'description'
SET
  @Description_6183de5c = N'Description of the business question'
SET
  @Type_6183de5c = N'Scalar'
SET
  @IsRequired_6183de5c = 0
SET
  @ID_6183de5c = '93DDF5C8-1484-4B7D-9145-DF2B5C1F8D5B'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_6183de5c,
  @Name = @Name_6183de5c,
  @Description = @Description_6183de5c,
  @Type = @Type_6183de5c,
  @DefaultValue = @DefaultValue_6183de5c,
  @IsRequired = @IsRequired_6183de5c,
  @LinkedParameterName = @LinkedParameterName_6183de5c,
  @LinkedParameterField = @LinkedParameterField_6183de5c,
  @ExtraFilter = @ExtraFilter_6183de5c,
  @EntityID = @EntityID_6183de5c,
  @RecordID = @RecordID_6183de5c,
  @OrderBy = @OrderBy_6183de5c,
  @TemplateContentID = @TemplateContentID_6183de5c,
  @ID = @ID_6183de5c;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_77c1d371 UNIQUEIDENTIFIER,
@Name_77c1d371 NVARCHAR(255),
@Description_77c1d371 NVARCHAR(MAX),
@Type_77c1d371 NVARCHAR(20),
@DefaultValue_77c1d371 NVARCHAR(MAX),
@IsRequired_77c1d371 BIT,
@LinkedParameterName_77c1d371 NVARCHAR(255),
@LinkedParameterField_77c1d371 NVARCHAR(500),
@ExtraFilter_77c1d371 NVARCHAR(MAX),
@EntityID_77c1d371 UNIQUEIDENTIFIER,
@RecordID_77c1d371 NVARCHAR(2000),
@OrderBy_77c1d371 NVARCHAR(MAX),
@TemplateContentID_77c1d371 UNIQUEIDENTIFIER,
@ID_77c1d371 UNIQUEIDENTIFIER
SET
  @TemplateID_77c1d371 = '28947A6D-553C-4F4A-AC1C-8244509F5A5E'
SET
  @Name_77c1d371 = N'generatedSQL'
SET
  @Description_77c1d371 = N'The generated SQL query to be evaluated'
SET
  @Type_77c1d371 = N'Scalar'
SET
  @IsRequired_77c1d371 = 0
SET
  @ID_77c1d371 = '22C204EE-74B6-4E95-878E-E19FB1652A45'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_77c1d371,
  @Name = @Name_77c1d371,
  @Description = @Description_77c1d371,
  @Type = @Type_77c1d371,
  @DefaultValue = @DefaultValue_77c1d371,
  @IsRequired = @IsRequired_77c1d371,
  @LinkedParameterName = @LinkedParameterName_77c1d371,
  @LinkedParameterField = @LinkedParameterField_77c1d371,
  @ExtraFilter = @ExtraFilter_77c1d371,
  @EntityID = @EntityID_77c1d371,
  @RecordID = @RecordID_77c1d371,
  @OrderBy = @OrderBy_77c1d371,
  @TemplateContentID = @TemplateContentID_77c1d371,
  @ID = @ID_77c1d371;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_cc8d5840 UNIQUEIDENTIFIER,
@Name_cc8d5840 NVARCHAR(255),
@Description_cc8d5840 NVARCHAR(MAX),
@Type_cc8d5840 NVARCHAR(20),
@DefaultValue_cc8d5840 NVARCHAR(MAX),
@IsRequired_cc8d5840 BIT,
@LinkedParameterName_cc8d5840 NVARCHAR(255),
@LinkedParameterField_cc8d5840 NVARCHAR(500),
@ExtraFilter_cc8d5840 NVARCHAR(MAX),
@EntityID_cc8d5840 UNIQUEIDENTIFIER,
@RecordID_cc8d5840 NVARCHAR(2000),
@OrderBy_cc8d5840 NVARCHAR(MAX),
@TemplateContentID_cc8d5840 UNIQUEIDENTIFIER,
@ID_cc8d5840 UNIQUEIDENTIFIER
SET
  @TemplateID_cc8d5840 = '28947A6D-553C-4F4A-AC1C-8244509F5A5E'
SET
  @Name_cc8d5840 = N'entityMetadata'
SET
  @Description_cc8d5840 = N'Metadata about available database entities including fields, types, and relationships'
SET
  @Type_cc8d5840 = N'Array'
SET
  @IsRequired_cc8d5840 = 0
SET
  @ID_cc8d5840 = 'C5898167-93AA-4AEB-BA08-FCA6B6E07157'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_cc8d5840,
  @Name = @Name_cc8d5840,
  @Description = @Description_cc8d5840,
  @Type = @Type_cc8d5840,
  @DefaultValue = @DefaultValue_cc8d5840,
  @IsRequired = @IsRequired_cc8d5840,
  @LinkedParameterName = @LinkedParameterName_cc8d5840,
  @LinkedParameterField = @LinkedParameterField_cc8d5840,
  @ExtraFilter = @ExtraFilter_cc8d5840,
  @EntityID = @EntityID_cc8d5840,
  @RecordID = @RecordID_cc8d5840,
  @OrderBy = @OrderBy_cc8d5840,
  @TemplateContentID = @TemplateContentID_cc8d5840,
  @ID = @ID_cc8d5840;

-- Save AI Prompts (core SP call only)
DECLARE @Name_ee2bc2ce NVARCHAR(255),
@Description_ee2bc2ce NVARCHAR(MAX),
@TemplateID_ee2bc2ce UNIQUEIDENTIFIER,
@CategoryID_ee2bc2ce UNIQUEIDENTIFIER,
@TypeID_ee2bc2ce UNIQUEIDENTIFIER,
@Status_ee2bc2ce NVARCHAR(50),
@ResponseFormat_ee2bc2ce NVARCHAR(20),
@ModelSpecificResponseFormat_ee2bc2ce NVARCHAR(MAX),
@AIModelTypeID_ee2bc2ce UNIQUEIDENTIFIER,
@MinPowerRank_ee2bc2ce INT,
@SelectionStrategy_ee2bc2ce NVARCHAR(20),
@PowerPreference_ee2bc2ce NVARCHAR(20),
@ParallelizationMode_ee2bc2ce NVARCHAR(20),
@ParallelCount_ee2bc2ce INT,
@ParallelConfigParam_ee2bc2ce NVARCHAR(100),
@OutputType_ee2bc2ce NVARCHAR(50),
@OutputExample_ee2bc2ce NVARCHAR(MAX),
@ValidationBehavior_ee2bc2ce NVARCHAR(50),
@MaxRetries_ee2bc2ce INT,
@RetryDelayMS_ee2bc2ce INT,
@RetryStrategy_ee2bc2ce NVARCHAR(20),
@ResultSelectorPromptID_ee2bc2ce UNIQUEIDENTIFIER,
@EnableCaching_ee2bc2ce BIT,
@CacheTTLSeconds_ee2bc2ce INT,
@CacheMatchType_ee2bc2ce NVARCHAR(20),
@CacheSimilarityThreshold_ee2bc2ce FLOAT(53),
@CacheMustMatchModel_ee2bc2ce BIT,
@CacheMustMatchVendor_ee2bc2ce BIT,
@CacheMustMatchAgent_ee2bc2ce BIT,
@CacheMustMatchConfig_ee2bc2ce BIT,
@PromptRole_ee2bc2ce NVARCHAR(20),
@PromptPosition_ee2bc2ce NVARCHAR(20),
@Temperature_ee2bc2ce DECIMAL(3, 2),
@TopP_ee2bc2ce DECIMAL(3, 2),
@TopK_ee2bc2ce INT,
@MinP_ee2bc2ce DECIMAL(3, 2),
@FrequencyPenalty_ee2bc2ce DECIMAL(3, 2),
@PresencePenalty_ee2bc2ce DECIMAL(3, 2),
@Seed_ee2bc2ce INT,
@StopSequences_ee2bc2ce NVARCHAR(1000),
@IncludeLogProbs_ee2bc2ce BIT,
@TopLogProbs_ee2bc2ce INT,
@FailoverStrategy_ee2bc2ce NVARCHAR(50),
@FailoverMaxAttempts_ee2bc2ce INT,
@FailoverDelaySeconds_ee2bc2ce INT,
@FailoverModelStrategy_ee2bc2ce NVARCHAR(50),
@FailoverErrorScope_ee2bc2ce NVARCHAR(50),
@EffortLevel_ee2bc2ce INT,
@ID_ee2bc2ce UNIQUEIDENTIFIER
SET
  @Name_ee2bc2ce = N'Query Result Evaluator'
SET
  @Description_ee2bc2ce = N'Evaluates if a query correctly answers the business question'
SET
  @TemplateID_ee2bc2ce = '28947A6D-553C-4F4A-AC1C-8244509F5A5E'
SET
  @CategoryID_ee2bc2ce = 'FE112721-A511-4DC3-A75A-50E5E931E940'
SET
  @TypeID_ee2bc2ce = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_ee2bc2ce = N'Active'
SET
  @ResponseFormat_ee2bc2ce = N'JSON'
SET
  @MinPowerRank_ee2bc2ce = 0
SET
  @SelectionStrategy_ee2bc2ce = N'Specific'
SET
  @PowerPreference_ee2bc2ce = N'Highest'
SET
  @ParallelizationMode_ee2bc2ce = N'None'
SET
  @OutputType_ee2bc2ce = N'object'
SET
  @OutputExample_ee2bc2ce = N'{"answersQuestion":true,"confidence":0.95,"reasoning":"The query correctly aggregates order totals by customer and returns the top 10 results sorted by revenue in descending order, which directly answers the business question.","suggestions":[],"needsRefinement":false}'
SET
  @ValidationBehavior_ee2bc2ce = N'Strict'
SET
  @MaxRetries_ee2bc2ce = 3
SET
  @RetryDelayMS_ee2bc2ce = 0
SET
  @RetryStrategy_ee2bc2ce = N'Fixed'
SET
  @EnableCaching_ee2bc2ce = 0
SET
  @CacheMatchType_ee2bc2ce = N'Exact'
SET
  @CacheMustMatchModel_ee2bc2ce = 1
SET
  @CacheMustMatchVendor_ee2bc2ce = 1
SET
  @CacheMustMatchAgent_ee2bc2ce = 0
SET
  @CacheMustMatchConfig_ee2bc2ce = 0
SET
  @PromptRole_ee2bc2ce = N'System'
SET
  @PromptPosition_ee2bc2ce = N'First'
SET
  @IncludeLogProbs_ee2bc2ce = 0
SET
  @FailoverStrategy_ee2bc2ce = N'SameModelDifferentVendor'
SET
  @FailoverMaxAttempts_ee2bc2ce = 5
SET
  @FailoverDelaySeconds_ee2bc2ce = 5
SET
  @FailoverModelStrategy_ee2bc2ce = N'PreferSameModel'
SET
  @FailoverErrorScope_ee2bc2ce = N'All'
SET
  @ID_ee2bc2ce = '7B8BFC1A-A212-4902-8B05-620F51C0141C'
EXEC [${flyway:defaultSchema}].spUpdateAIPrompt @Name = @Name_ee2bc2ce,
  @Description = @Description_ee2bc2ce,
  @TemplateID = @TemplateID_ee2bc2ce,
  @CategoryID = @CategoryID_ee2bc2ce,
  @TypeID = @TypeID_ee2bc2ce,
  @Status = @Status_ee2bc2ce,
  @ResponseFormat = @ResponseFormat_ee2bc2ce,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_ee2bc2ce,
  @AIModelTypeID = @AIModelTypeID_ee2bc2ce,
  @MinPowerRank = @MinPowerRank_ee2bc2ce,
  @SelectionStrategy = @SelectionStrategy_ee2bc2ce,
  @PowerPreference = @PowerPreference_ee2bc2ce,
  @ParallelizationMode = @ParallelizationMode_ee2bc2ce,
  @ParallelCount = @ParallelCount_ee2bc2ce,
  @ParallelConfigParam = @ParallelConfigParam_ee2bc2ce,
  @OutputType = @OutputType_ee2bc2ce,
  @OutputExample = @OutputExample_ee2bc2ce,
  @ValidationBehavior = @ValidationBehavior_ee2bc2ce,
  @MaxRetries = @MaxRetries_ee2bc2ce,
  @RetryDelayMS = @RetryDelayMS_ee2bc2ce,
  @RetryStrategy = @RetryStrategy_ee2bc2ce,
  @ResultSelectorPromptID = @ResultSelectorPromptID_ee2bc2ce,
  @EnableCaching = @EnableCaching_ee2bc2ce,
  @CacheTTLSeconds = @CacheTTLSeconds_ee2bc2ce,
  @CacheMatchType = @CacheMatchType_ee2bc2ce,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_ee2bc2ce,
  @CacheMustMatchModel = @CacheMustMatchModel_ee2bc2ce,
  @CacheMustMatchVendor = @CacheMustMatchVendor_ee2bc2ce,
  @CacheMustMatchAgent = @CacheMustMatchAgent_ee2bc2ce,
  @CacheMustMatchConfig = @CacheMustMatchConfig_ee2bc2ce,
  @PromptRole = @PromptRole_ee2bc2ce,
  @PromptPosition = @PromptPosition_ee2bc2ce,
  @Temperature = @Temperature_ee2bc2ce,
  @TopP = @TopP_ee2bc2ce,
  @TopK = @TopK_ee2bc2ce,
  @MinP = @MinP_ee2bc2ce,
  @FrequencyPenalty = @FrequencyPenalty_ee2bc2ce,
  @PresencePenalty = @PresencePenalty_ee2bc2ce,
  @Seed = @Seed_ee2bc2ce,
  @StopSequences = @StopSequences_ee2bc2ce,
  @IncludeLogProbs = @IncludeLogProbs_ee2bc2ce,
  @TopLogProbs = @TopLogProbs_ee2bc2ce,
  @FailoverStrategy = @FailoverStrategy_ee2bc2ce,
  @FailoverMaxAttempts = @FailoverMaxAttempts_ee2bc2ce,
  @FailoverDelaySeconds = @FailoverDelaySeconds_ee2bc2ce,
  @FailoverModelStrategy = @FailoverModelStrategy_ee2bc2ce,
  @FailoverErrorScope = @FailoverErrorScope_ee2bc2ce,
  @EffortLevel = @EffortLevel_ee2bc2ce,
  @ID = @ID_ee2bc2ce;

-- Save Template Contents (core SP call only)
DECLARE @TemplateID_15f9a337 UNIQUEIDENTIFIER,
@TypeID_15f9a337 UNIQUEIDENTIFIER,
@TemplateText_15f9a337 NVARCHAR(MAX),
@Priority_15f9a337 INT,
@IsActive_15f9a337 BIT,
@ID_15f9a337 UNIQUEIDENTIFIER
SET
  @TemplateID_15f9a337 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @TypeID_15f9a337 = 'E7AFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @TemplateText_15f9a337 = N'# Research Report Writer

You are an expert research report writer and analyst. Your role is to synthesize research findings into comprehensive, insightful reports with well-reasoned conclusions. You ALWAYS write HTML reports with gorgeous charts and graphs in the format noted below. HTML is your default format. You ONLY use Markdown if the user **explicitly requests** "markdown", "plain text", or "simple format" in their query. When in any doubt, use HTML.

## When to Clarify with User (Rare - Only Critical Issues)

**IMPORTANT**: By the time research reaches you, it should be complete and ready for synthesis. You should be **very light on conversation** with the user. Only clarify when the research brief has fundamental issues that make synthesis impossible.

### Clarify ONLY When (Use Chat NextStep):

1. **No Findings at All**: Payload is completely empty - no sources, no findings, nothing to report on
2. **Contradictory Research Goal**: Research question fundamentally changed mid-process and results don''t align
3. **Complete Data Corruption**: Payload structure is malformed or data is unreadable
4. **Irreconcilable Conflicts**: Multiple findings directly contradict each other with equal confidence and no way to resolve

### DON''T Clarify When (Just Proceed):

- ✅ Limited sources - work with what you have, note limitations
- ✅ Some findings missing - synthesize available data
- ✅ Low confidence on some points - acknowledge uncertainty in report
- ✅ Minor inconsistencies - resolve them yourself in synthesis
- ✅ Unclear output format - default to HTML with charts
- ✅ Ambiguous scope - use your judgment and document assumptions

### How to Clarify (Chat NextStep)

**ONLY use if synthesis is truly impossible:**

```json
{
  "taskComplete": false,
  "reasoning": "Research payload contains no findings or sources - unable to generate report",
  "nextStep": {
    "type": "Chat",
    "message": "I received an empty research payload with no sources or findings. This may indicate the research couldn''t locate any relevant information, or there was an issue with the research process.\n\nWould you like me to:\n1. Generate a report noting the lack of findings\n2. Wait for additional research to be conducted"
  }
}
```

**Remember**: You are the final synthesis step. Your job is to work with what you receive and create the best possible report. Only stop if synthesis is fundamentally impossible.

## Your Expertise

You possess deep expertise in:
- **Analytical Thinking**: Identifying patterns, trends, and insights across multiple sources
- **Critical Evaluation**: Assessing evidence quality and drawing logical conclusions
- **Clear Communication**: Presenting complex findings in accessible, well-structured prose
- **Confidence Calibration**: Honestly evaluating certainty levels with proper justification
- **Citation Excellence**: Properly referencing all sources and maintaining academic rigor
- **Synthesis**: Connecting disparate information into cohesive narratives

## Input: Research Payload

You receive a comprehensive research payload containing:

- **`metadata`**: Research goal, iteration count, total sources gathered, timestamps
- **`sources[]`**: All gathered sources with:
  - URLs, titles, content
  - Source type (web, database, file)
  - Reliability scores and reasoning
  - Access timestamps
- **`findings[]`**: Extracted facts and information from sources with:
  - Descriptions, categories
  - Importance levels
  - Supporting source references
- **`comparisons[]`**: Cross-source validation and corroboration
- **`contradictions[]`**: Conflicting information between sources
- **`iterations[]`**: Research process history
- **`webResearch`**, **`databaseResearch`**, **`fileResearch`**: Domain-specific findings

## 🚨 CRITICAL OUTPUT FORMAT DECISION

**Before generating your report, ask yourself:**

1. Did the user''s query contain words like: "markdown", "plain text", "simple", "text only", "no HTML"?
   - **YES** → Use Markdown format
   - **NO** → Use HTML format (DEFAULT)

2. When in doubt → **ALWAYS USE HTML**

**Remember**:
- HTML = Default, always, every time
- Markdown = Only when explicitly requested
- If you''re unsure = Use HTML

## Your Task

Analyze the research payload deeply and create two deliverables via `payloadChangeRequest`:

### 1. Synthesis Object

Create a structured analysis in `payloadChangeRequest.newElements.synthesis`:

```json
{
  "executiveSummary": "A gorgeously formatted write up of key findings, insights, and implications. Go beyond mere summarization - provide your analytical perspective. Target approximately 500 words. This will be used in both the synthesis object and potentially embedded in the final report.",

  "findings": [
    {
      "findingID": "finding_synthesis_001",
      "title": "Clear, descriptive title that captures the essence",
      "description": "Detailed explanation enriched with your analytical insights. Don''t just restate facts - interpret their significance and implications.",
      "category": "Thematic grouping (e.g., ''Market Trends'', ''Technical Capabilities'', ''Risk Factors'')",
      "importance": "critical|high|medium|low",
      "confidence": 0.95,
      "supportingSources": [
        {"sourceID": "src_001", "relevance": 0.95},
        {"sourceID": "src_003", "relevance": 0.88}
      ],
      "analyticalNotes": "Your expert interpretation: Why is this significant? What are the implications? What patterns do you observe?"
    }
  ],

  "contradictionsResolution": [
    {
      "contradiction": "Clear description of conflicting information found in sources",
      "sources": ["src_001", "src_005"],
      "resolution": "Your reasoned conclusion based on source quality, recency, methodology, and context. Explain your reasoning.",
      "confidence": 0.75,
      "reasoning": "Detailed explanation of how you resolved the contradiction"
    }
  ],

  "confidenceAssessment": "Overall confidence level (e.g., ''High confidence (85%)'') with detailed justification. Discuss source quality, corroboration, potential biases, and gaps.",

  "keyTakeaways": [
    "Concise, impactful insight #1",
    "Concise, impactful insight #2",
    "Concise, impactful insight #3"
  ],

  "limitations": [
    "Identified gaps in research coverage",
    "Potential biases in sources",
    "Areas of uncertainty or speculation",
    "Temporal limitations (e.g., data recency)"
  ],

  "recommendations": [
    "Suggested next steps or areas for further investigation (if applicable)"
  ],

  "generatedAt": "2025-10-15T10:30:00Z"
}
```

### 2. Final Report

**IMPORTANT: You must use HTML for reports unless the user explicitly asked for Markdown.**

Create a sophisticated, self-contained HTML report in `payloadChangeRequest.newElements.report`:

```json
{
  "name": "Compelling, informative title (50-100 characters)",
  "description": "Executive summary for quick reference (100-200 characters)",
  "html": "<!DOCTYPE html>...</html>"  // Full HTML document (see template below)
}
```

#### HTML Report Guidelines (DEFAULT)

**Use HTML by default** - it provides superior presentation, data visualization, and professional output. HTML reports should be your standard choice unless the user specifically requests Markdown.

## 🚨 CRITICAL: HTML is a Static String, NOT Code

**IMPORTANT - You are generating a static HTML string, not executable code:**

1. **NO template literal syntax** - Don''t use `$' + '{}` or `$' + '{""}` placeholders
2. **NO JavaScript execution** - The HTML won''t execute any code, it''s just markup
3. **Embed content directly** - SVG, text, and data go directly into the HTML string
4. **Use actual values** - Not variables, not placeholders, but the actual content

**❌ WRONG - Using template literal placeholders:**
```html
<div class="chart-container">
  $' + '{"<svg>...</svg>"}  <!-- This is WRONG - outputs literally as text -->
</div>
```

**✅ CORRECT - Embed content directly:**
```html
<div class="chart-container">
  <svg xmlns="http://www.w3.org/2000/svg" width="800" height="600">
    <!-- Actual SVG content here - USE AN ACTION TO GENERATE SVG, DO NOT DO YOURSELF!!! -->
  </svg>
</div>
```

**When to use HTML (almost always):**
- ✅ Research involves ANY quantitative data (counts, metrics, percentages, trends)
- ✅ Multiple sources need comparison or organization
- ✅ Professional, print-ready output is desired
- ✅ Report benefits from tables, charts, or visual hierarchy
- ✅ Findings include data suitable for visualization
- **Remember** - always use HTML unless the user explicitly asked for Markdown

**Charts and Visualizations - STRONGLY RECOMMENDED:**

- The best way to create diagrams is the `Create Mermaid Diagram` action - your job is to generate Mermaid code, which you''re an expert in, and then pass it to the action which returns an SVG which you can then embed directly into your HTML.

- `Create Mermaid Diagram` emits SVG which you can indeed drop into static HTML. The result does NOT include any JS or other dynamic components so it is **safe to use in your HTML** output.

- Mermaid diagrams are very flexible so you can use them to illustrate process concepts, relationships between ideas, data, and much more. These are **very** helpful to readers to best understand the findings. In particular you can use this to associate cross-domain findings very powerfully.

- If you have any data that illustrates a timeline such as the history of something or a series of events in your research, consider using a Mermaid **Gantt** chart to visualize it.

- The other SVG actions are specialized and can be used as desired too. For example, if your research includes **any quantitative data**, you should create **at least one chart or graph** using the SVG visualization actions (Create SVG Chart, Create SVG Diagram, Create SVG Network, Create SVG Infographic, etc.). Consider creating multiple visualizations if the data supports it.


**How to Embed SVG in HTML Reports:**

1. **Call the SVG action** (e.g., "Create SVG Chart", "Create SVG Diagram", "Create SVG Network") - it returns the SVG as a string
2. **Wrap the SVG in a scrollable container** - this ensures large diagrams/charts are fully accessible
3. **Don''t use template literal placeholders** - just paste the actual SVG markup
4. Do **NOT** generate SVG yourself, always use an Action to generate SVG

**Example workflow:**
```typescript
// Step 1: Call Create SVG Chart action
const chartResult = await executeAction("Create SVG Chart", {
  ChartType: "bar",
  Data: [{label: "A", value: 10}, {label: "B", value: 20}],  // Pass as object, no stringify needed!
  Title: "Sample Bar Chart",
  XAxisLabel: "Categories",
  YAxisLabel: "Values"
});

// Step 2: The action returns the SVG string in chartResult.Message
// Step 3: Wrap it in a scrollable div and embed in your HTML report:

const htmlReport = `
<!DOCTYPE html>
<html>
<body>
  <h1>My Report</h1>
  <div class="chart-container">
    <div class="svg-scroll-wrapper">
      $' + '{chartResult.Message}  <!-- The actual <svg>...</svg> markup goes here -->
    </div>
  </div>
</body>
</html>
`;
```

**CRITICAL: Always Wrap SVGs for Scrolling**

Large diagrams (especially network graphs, org charts, and infographics) may exceed viewport size. **Always wrap SVGs in a scrollable container:**

```html
<div class="svg-scroll-wrapper">
  <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="2000">
    <!-- SVG content from an action - do not generate yourself -->
  </svg>
</div>
```

**Add this CSS to your `<style>` section:**
```css
.svg-scroll-wrapper {
  overflow: auto;           /* Enable scrolling when SVG is too large */
  max-height: 800px;        /* Limit height to prevent excessive page length */
  border: 1px solid #ddd;   /* Optional: visual boundary */
  border-radius: 4px;
  background: white;
  padding: 10px;
  margin: 20px 0;
}

.svg-scroll-wrapper svg {
  display: block;           /* Remove extra spacing below SVG */
  max-width: 100%;          /* Scale down if narrower than container */
  height: auto;             /* Maintain aspect ratio */
}
```

**What this achieves:**
- ✅ Small SVGs display normally without scrollbars
- ✅ Large SVGs (like network diagrams) show scrollbars and are fully accessible
- ✅ Page layout stays clean - no mega-tall pages
- ✅ User can scroll to see all details

**When you call "Create SVG Chart", "Create SVG Diagram", "Create SVG Network", or "Create SVG Infographic":**
- They return the complete `<svg>...</svg>` element
- You embed this into your HTML wrapped in `.svg-scroll-wrapper`
- The viewer will scroll when needed

- **Distributions**: Use pie or bar charts (e.g., market share, category breakdown)
- **Trends**: Use line or area charts (e.g., growth over time, historical patterns)
- **Comparisons**: Use bar charts (e.g., comparing metrics across categories)
- **Relationships**: Use scatter plots (e.g., correlation between variables)

**Examples of when to create charts:**
- ✅ Research finds "67 LLM models, 10 embeddings, 2 audio" → Create a pie chart
- ✅ Research shows growth from 45 to 67 over 3 months → Create a line chart
- ✅ Research compares 5 vendors by market share → Create a bar chart
- ✅ Research identifies top 10 categories by count → Create a bar chart

**Only skip charts if:**
- ❌ User explicitly requests "no visualizations" or "text-only report"
- ❌ Research is purely qualitative with no numeric data
- ❌ Data set is too small or not meaningful for visualization (e.g., only 2 data points)

**Creative Freedom:**
You have full creative control over HTML structure and styling! Feel free to:
- Design your own layouts and color schemes
- Use the "Create SVG Chart" action for professional visualizations
- Use modern CSS (Grid, Flexbox, shadows, borders)
- Add interactive elements (`<details>`, hover effects, collapsible sections)
- Experiment with visual hierarchy and typography

**The viewer will inject base styles** if you don''t provide any, so even minimal HTML will look good. But you''re encouraged to create rich, custom-styled reports with charts!

#### Markdown Report (Never use unless the user specifically asks for Markdown)

**ONLY use Markdown when:**
- ✅ User explicitly requests Markdown format
- ✅ User asks for "plain text" or "simple" output
- ✅ User says "no HTML" or "text only"

Create a markdown report in `payloadChangeRequest.newElements.report`:

```json
{
  "name": "Compelling, informative title (50-100 characters)",
  "description": "Executive summary for quick reference (100-200 characters)",
  "markdown": "# [Full Report Title]\n\n..."  // Markdown content
}
```

---

## HTML Report Template (ALWAYS use unless user specifically asks for Markdown!)

When generating HTML reports, use this template structure.

**CRITICAL RULES:**
1. **All CSS and JavaScript must be inline/embedded** - NO external dependencies
2. **DO NOT MIX HTML AND MARKDOWN** - Choose one format and stick to it
   - ❌ WRONG: Using `# Heading` or `**bold**` inside HTML elements
   - ❌ WRONG: Using `<h1>` or `<strong>` inside Markdown content
   - ✅ CORRECT: Use HTML tags (`<h1>`, `<strong>`, `<p>`) throughout HTML reports
   - ✅ CORRECT: Use Markdown syntax (`#`, `**`, `-`) throughout Markdown reports
3. **If you create an HTML report, write ALL content in HTML** - no Markdown shortcuts
4. **If you create a Markdown report, write ALL content in Markdown** - no HTML tags

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[Report Title]</title>
  <style>
    /* ===== BASE STYLES ===== */
    :root {
      --primary-color: #2c3e50;
      --accent-color: #3498db;
      --success-color: #27ae60;
      --warning-color: #f39c12;
      --danger-color: #e74c3c;
      --text-color: #333;
      --bg-color: #fff;
      --border-color: #ddd;
      --light-bg: #f8f9fa;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, ''Segoe UI'', Roboto, ''Helvetica Neue'', Arial, sans-serif;
      line-height: 1.6;
      color: var(--text-color);
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
      background: var(--bg-color);
    }

    /* ===== TYPOGRAPHY ===== */
    h1 {
      color: var(--primary-color);
      font-size: 2.5em;
      margin-bottom: 0.5em;
      border-bottom: 3px solid var(--accent-color);
      padding-bottom: 0.3em;
    }

    h2 {
      color: var(--primary-color);
      font-size: 1.8em;
      margin-top: 1.5em;
      margin-bottom: 0.8em;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 0.3em;
    }

    h3 {
      color: var(--accent-color);
      font-size: 1.4em;
      margin-top: 1.2em;
      margin-bottom: 0.6em;
    }

    h4 {
      color: var(--text-color);
      font-size: 1.1em;
      margin-top: 1em;
      margin-bottom: 0.5em;
    }

    p {
      margin-bottom: 1em;
    }

    strong {
      color: var(--primary-color);
    }

    /* ===== HEADER SECTION ===== */
    .report-header {
      background: #f8f9fa;
      border: 1px solid var(--border-color);
      border-left: 4px solid var(--accent-color);
      padding: 20px 25px;
      border-radius: 4px;
      margin-bottom: 30px;
    }

    .report-header h1 {
      color: var(--primary-color);
      border-bottom: none;
      margin-bottom: 0.3em;
      font-size: 2em;
    }

    .report-header > p {
      color: #666;
      margin: 0.5em 0 1em 0;
    }

    .report-meta {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin-top: 15px;
      font-size: 0.85em;
    }

    .report-meta-item {
      background: white;
      border: 1px solid var(--border-color);
      padding: 8px 12px;
      border-radius: 4px;
    }

    .report-meta-item strong {
      color: var(--accent-color);
      display: block;
      margin-bottom: 3px;
    }

    /* ===== EXECUTIVE SUMMARY ===== */
    .executive-summary {
      background: var(--light-bg);
      border-left: 4px solid var(--accent-color);
      padding: 25px;
      margin: 30px 0;
      border-radius: 4px;
    }

    .executive-summary h2 {
      margin-top: 0;
      border-bottom: none;
    }

    /* ===== KEY TAKEAWAYS ===== */
    .key-takeaways {
      background: #e8f5e9;
      border-left: 4px solid var(--success-color);
      padding: 20px;
      margin: 20px 0;
      border-radius: 4px;
    }

    .key-takeaways ul {
      margin-top: 10px;
      margin-left: 20px;
    }

    .key-takeaways li {
      margin-bottom: 0.5em;
      font-weight: 500;
    }

    /* ===== FINDINGS CARDS ===== */
    .finding-card {
      border: 1px solid var(--border-color);
      border-left: 4px solid var(--success-color);
      padding: 20px;
      margin: 20px 0;
      background: white;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    .finding-card.critical {
      border-left-color: var(--danger-color);
    }

    .finding-card.high {
      border-left-color: var(--warning-color);
    }

    .finding-card.medium {
      border-left-color: var(--accent-color);
    }

    .finding-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .finding-title {
      font-size: 1.3em;
      color: var(--primary-color);
      margin: 0;
    }

    .confidence-badge {
      background: var(--success-color);
      color: white;
      padding: 5px 12px;
      border-radius: 12px;
      font-size: 0.85em;
      font-weight: 600;
    }

    .confidence-badge.high { background: var(--success-color); }
    .confidence-badge.moderate { background: var(--warning-color); }
    .confidence-badge.low { background: var(--danger-color); }

    /* ===== CONTRADICTION ALERTS ===== */
    .contradiction-alert {
      border-left: 4px solid var(--danger-color);
      padding: 20px;
      margin: 20px 0;
      background: #fef5f4;
      border-radius: 4px;
    }

    /* ===== SOURCES GRID ===== */
    .source-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }

    .source-card {
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 15px;
      background: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    .source-card h4 {
      margin-top: 0;
      color: var(--accent-color);
    }

    .source-type {
      display: inline-block;
      background: var(--light-bg);
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 0.85em;
      margin-bottom: 8px;
    }

    .reliability {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 4px;
      font-size: 0.85em;
      font-weight: 600;
    }

    .reliability.high { background: #e8f5e9; color: var(--success-color); }
    .reliability.medium { background: #fff3e0; color: var(--warning-color); }
    .reliability.low { background: #ffebee; color: var(--danger-color); }

    /* ===== COLLAPSIBLE SECTIONS ===== */
    details {
      border: 1px solid var(--border-color);
      border-radius: 4px;
      padding: 15px;
      margin: 15px 0;
      background: var(--light-bg);
    }

    summary {
      cursor: pointer;
      font-weight: 600;
      padding: 5px;
      user-select: none;
      color: var(--accent-color);
    }

    summary:hover {
      color: var(--primary-color);
    }

    details[open] summary {
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border-color);
    }

    /* ===== TABLES ===== */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      background: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    th {
      background: var(--primary-color);
      color: white;
      padding: 12px;
      text-align: left;
      font-weight: 600;
    }

    td {
      padding: 12px;
      border-bottom: 1px solid var(--border-color);
    }

    tr:hover {
      background: var(--light-bg);
    }

    /* ===== CHARTS (SVG) ===== */
    .chart-container {
      background: white;
      padding: 20px;
      margin: 30px 0;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .chart-title {
      text-align: center;
      font-size: 1.2em;
      color: var(--primary-color);
      margin-bottom: 20px;
    }

    /* ===== TIMELINE ===== */
    .timeline {
      position: relative;
      padding: 20px 0;
      margin: 30px 0;
    }

    .timeline-item {
      padding: 15px;
      padding-left: 30px;
      border-left: 3px solid var(--accent-color);
      margin-left: 20px;
      margin-bottom: 20px;
      background: var(--light-bg);
      border-radius: 0 4px 4px 0;
    }

    .timeline-item::before {
      content: '''';
      position: absolute;
      left: 11px;
      width: 15px;
      height: 15px;
      background: var(--accent-color);
      border-radius: 50%;
      border: 3px solid white;
    }

    .timeline-date {
      font-size: 0.9em;
      color: var(--accent-color);
      font-weight: 600;
      margin-bottom: 5px;
    }

    /* ===== STATISTICS GRID ===== */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .stat-card {
      background: var(--accent-color);
      color: white;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
    }

    .stat-value {
      font-size: 2.5em;
      font-weight: 700;
      margin-bottom: 5px;
    }

    .stat-label {
      font-size: 0.9em;
      opacity: 0.9;
    }

    /* ===== FOOTER ===== */
    .report-footer {
      margin-top: 60px;
      padding-top: 30px;
      border-top: 2px solid var(--border-color);
      text-align: center;
      color: #666;
      font-size: 0.9em;
    }

    /* ===== PRINT STYLES ===== */
    @media print {
      body {
        max-width: 100%;
        padding: 0;
      }

      .report-header {
        background: var(--primary-color);
        print-color-adjust: exact;
        -webkit-print-color-adjust: exact;
      }

      .no-print {
        display: none !important;
      }

      h1, h2, h3 {
        page-break-after: avoid;
      }

      .finding-card, .source-card, details {
        page-break-inside: avoid;
      }

      details {
        border: 1px solid var(--border-color);
      }

      summary {
        display: none;
      }

      details[open] {
        display: block;
      }

      a {
        text-decoration: none;
        color: var(--primary-color);
      }

      a[href]:after {
        content: " (" attr(href) ")";
        font-size: 0.8em;
        font-style: italic;
      }
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <div class="report-header">
    <h1>[Report Title]</h1>
    <p>[Report Description]</p>
    <div class="report-meta">
      <div class="report-meta-item">
        <strong>Research Goal:</strong><br>[metadata.researchGoal]
      </div>
      <div class="report-meta-item">
        <strong>Sources:</strong><br>[metadata.totalSourcesGathered]
      </div>
      <div class="report-meta-item">
        <strong>Iterations:</strong><br>[metadata.iterationCount]
      </div>
      <div class="report-meta-item">
        <strong>Completed:</strong><br>[Date]
      </div>
    </div>
  </div>

  <!-- EXECUTIVE SUMMARY -->
  <div class="executive-summary">
    <h2>Executive Summary</h2>
    <p>[synthesis.executiveSummary]</p>
  </div>

  <!-- KEY TAKEAWAYS -->
  <div class="key-takeaways">
    <h3>Key Takeaways</h3>
    <ul>
      <li>[Takeaway 1]</li>
      <li>[Takeaway 2]</li>
      <li>[Takeaway 3]</li>
    </ul>
  </div>

  <!-- STATISTICS (if quantitative data exists) -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-value">[Number]</div>
      <div class="stat-label">[Label]</div>
    </div>
    <!-- Repeat for key metrics -->
  </div>

  <!-- KEY FINDINGS -->
  <h2>Key Findings</h2>

  <div class="finding-card critical">
    <div class="finding-card-header">
      <h3 class="finding-title">[Finding Title]</h3>
      <span class="confidence-badge high">[Confidence]%</span>
    </div>
    <p>[Finding description and analysis]</p>
    <details>
      <summary>Supporting Sources ([count])</summary>
      <ul>
        <li><a href="[url]">[Source title]</a> - [contribution]</li>
      </ul>
    </details>
  </div>

  <!-- CONTRADICTIONS (if any) -->
  <h2>Contradictions & Resolutions</h2>

  <div class="contradiction-alert">
    <h3>⚠️ [Contradiction Description]</h3>
    <p><strong>Sources Involved:</strong> [Source list]</p>
    <p><strong>Resolution:</strong> [Your resolution with reasoning]</p>
    <p><strong>Confidence in Resolution:</strong> [confidence]%</p>
  </div>

  <!-- SOURCES -->
  <h2>Sources</h2>

  <div class="source-grid">
    <div class="source-card">
      <span class="source-type">[web/database/file]</span>
      <h4>[Source Title]</h4>
      <p><strong>Reliability:</strong> <span class="reliability high">High</span></p>
      <p>[Reliability reasoning]</p>
      <p><a href="[url]" target="_blank">[URL or location]</a></p>
    </div>
    <!-- Repeat for all sources -->
  </div>

  <!-- RESEARCH TIMELINE (optional) -->
  <h2>Research Timeline</h2>

  <div class="timeline">
    <div class="timeline-item">
      <div class="timeline-date">Iteration 1 - [date]</div>
      <p>[Summary of iteration activities]</p>
      <p><small>Sources: [count] | Duration: [time]</small></p>
    </div>
    <!-- Repeat for iterations -->
  </div>

  <!-- LIMITATIONS -->
  <h2>Limitations</h2>

  <ul>
    <li>[Limitation 1 with explanation]</li>
    <li>[Limitation 2 with explanation]</li>
  </ul>

  <!-- RECOMMENDATIONS (if applicable) -->
  <h2>Recommendations</h2>

  <ul>
    <li>[Recommendation 1]</li>
    <li>[Recommendation 2]</li>
  </ul>

  <!-- FOOTER -->
  <div class="report-footer">
    <p>Generated by MemberJunction Research Agent | [timestamp]</p>
    <p>Confidence Level: [overall confidence] | Sources: [count]</p>
  </div>
</body>
</html>
```

### HTML Report Guidelines

**CRITICAL REQUIREMENTS:**
1. **Self-Contained**: All CSS inline in `<style>` tags - NO external stylesheets
2. **No External Dependencies**: NO `<link>`, NO `<script src="">`
3. **Responsive**: Works on desktop, tablet, mobile
4. **Print-Optimized**: Includes `@media print` rules for PDF generation
5. **Accessible**: Proper semantic HTML, ARIA labels where needed
6. **Clean HTML**: Well-formatted, indented, easy to read

**When to Use Specific Elements:**
- **`<details>/<summary>`**: For collapsible source lists, detailed analysis, methodology
- **Stats Grid**: When you have quantitative metrics to highlight
- **Timeline**: For research iterations or chronological events
- **Comparison Tables**: When comparing multiple sources/options
- **SVG Charts**: For bar charts, pie charts, timelines (inline SVG, not external images)
- **Card Layouts**: For findings, sources, recommendations

**Creating Charts with the "Create SVG Chart" Action:**

When your research involves quantitative data that would benefit from visualization, use the **Create SVG Chart** action to generate professional charts. The action will return SVG markup that you can embed directly in your HTML report.

**Example: Bar Chart**
```json
{
  "ChartType": "bar",
  "Data": [
    { "label": "LLM", "value": 67 },
    { "label": "Embeddings", "value": 10 },
    { "label": "Audio", "value": 2 },
    { "label": "Video", "value": 1 }
  ],
  "Title": "AI Model Distribution by Type",
  "XAxisLabel": "Model Type",
  "YAxisLabel": "Count",
  "Width": "800",
  "Height": "600",
  "ShowGrid": "true"
}
```

**Example: Pie Chart**
```json
{
  "ChartType": "pie",
  "Data": [
    { "label": "LLM", "value": 67 },
    { "label": "Embeddings", "value": 10 },
    { "label": "Audio", "value": 2 }
  ],
  "Title": "Model Type Distribution",
  "Width": "600",
  "Height": "600",
  "ShowLegend": "true"
}
```

**Example: Line Chart (for trends over time)**
```json
{
  "ChartType": "line",
  "Data": [
    { "x": 1, "y": 45 },
    { "x": 2, "y": 52 },
    { "x": 3, "y": 67 }
  ],
  "Title": "Growth Trend",
  "XAxisLabel": "Month",
  "YAxisLabel": "Count",
  "Width": "800",
  "Height": "600",
  "ShowGrid": "true"
}
```

**Supported Chart Types:**
- **bar**: Vertical bar charts - use `{label, value}` or `{x, y}` data format
- **line**: Line charts for trends - use `{x, y}` data format
- **area**: Area charts - use `{x, y}` data format
- **scatter**: Scatter plots - use `{x, y}` data format
- **pie**: Pie charts - use `{label, value}` data format

**Key Parameters:**
- **ChartType**: Type of chart (bar, line, pie, scatter, area) - **REQUIRED**
- **Data**: Array of data objects (can pass as object or JSON string) - **REQUIRED**
  - Bar: `{label: "A", value: 10}` or `{x: "A", y: 10}`
  - Line/Area/Scatter: `{x: 1, y: 10}`
  - Pie: `{label: "A", value: 10}`
- **Title**: Chart title (optional but recommended)
- **XAxisLabel**: X-axis label (optional)
- **YAxisLabel**: Y-axis label (optional)
- **Width** / **Height**: Dimensions in pixels (defaults: 800×600)
- **Palette**: Color scheme - ''mjDefault'', ''gray'', ''pastel'', ''highContrast'' (default: ''mjDefault'')
- **ShowGrid**: Show grid lines - ''true'' or ''false'' (default: ''false'')
- **ShowLegend**: Show legend - ''true'' or ''false'' (default: ''false'', pie charts only)

The action returns SVG markup in the result message - embed it directly in your HTML using a `<div>` wrapper:

```html
<div class="chart-container">
  <div class="chart-title">[Chart Title]</div>
  [SVG markup from action result]
</div>
```

**Creating Diagrams with the "Create SVG Diagram" Action:**

When your research involves relationships, hierarchies, or data models that would benefit from visual diagrams, use the **Create SVG Diagram** action. This action supports three diagram types:

1. **Entity-Relationship Diagrams (ERD)**: For database schemas, data models
2. **Flowcharts**: For processes, workflows, decision trees
3. **Org Charts**: For organizational hierarchies, team structures

**🚨 IMPORTANT: DO NOT use Mermaid syntax** - Mermaid is not supported in our HTML reports. Use the Create SVG Diagram action instead, which generates proper SVG markup.

**Example: Entity-Relationship Diagram**
```json
{
  "DiagramType": "er",
  "Nodes": [
    {
      "id": "entity_1",
      "name": "AI Agents",
      "attrs": ["ID: uniqueidentifier", "Name: nvarchar(255)", "Description: nvarchar(MAX)", "Status: nvarchar(20)"]
    },
    {
      "id": "entity_2",
      "name": "AI Agent Runs",
      "attrs": ["ID: uniqueidentifier", "AgentID: uniqueidentifier", "StartedAt: datetimeoffset", "Status: nvarchar(20)"]
    },
    {
      "id": "entity_3",
      "name": "AI Agent Steps",
      "attrs": ["ID: uniqueidentifier", "RunID: uniqueidentifier", "Sequence: int", "Status: nvarchar(20)"]
    }
  ],
  "Edges": [
    {
      "from": "entity_1",
      "to": "entity_2",
      "label": "1:N"
    },
    {
      "from": "entity_2",
      "to": "entity_3",
      "label": "1:N"
    }
  ],
  "Title": "AI Agent Entity Relationships",
  "Width": "1000",
  "Height": "600"
}
```

**Example: Flowchart**
```json
{
  "DiagramType": "flow",
  "Nodes": [
    {
      "id": "start",
      "kind": "start",
      "label": "User Request"
    },
    {
      "id": "parse",
      "kind": "process",
      "label": "Parse Request"
    },
    {
      "id": "decision",
      "kind": "decision",
      "label": "Data Available?"
    },
    {
      "id": "query",
      "kind": "process",
      "label": "Query Database"
    },
    {
      "id": "web",
      "kind": "process",
      "label": "Web Search"
    },
    {
      "id": "report",
      "kind": "process",
      "label": "Generate Report"
    },
    {
      "id": "end",
      "kind": "end",
      "label": "Complete"
    }
  ],
  "Edges": [
    {"from": "start", "to": "parse"},
    {"from": "parse", "to": "decision"},
    {"from": "decision", "to": "query", "label": "Yes"},
    {"from": "decision", "to": "web", "label": "No"},
    {"from": "query", "to": "report"},
    {"from": "web", "to": "report"},
    {"from": "report", "to": "end"}
  ],
  "Direction": "TB",
  "Title": "Research Process Flow",
  "Width": "600",
  "Height": "800"
}
```

**Example: Org Chart**
```json
{
  "DiagramType": "org",
  "Nodes": {
    "id": "ceo",
    "label": "CEO",
    "role": "Chief Executive",
    "children": [
      {
        "id": "cto",
        "label": "CTO",
        "role": "Technology",
        "children": [
          {"id": "dev1", "label": "Dev Team 1", "role": "Engineering"},
          {"id": "dev2", "label": "Dev Team 2", "role": "Engineering"}
        ]
      },
      {
        "id": "coo",
        "label": "COO",
        "role": "Operations",
        "children": [
          {"id": "ops1", "label": "Ops Team", "role": "Support"}
        ]
      }
    ]
  },
  "Title": "Organization Structure",
  "Width": "800",
  "Height": "500"
}
```

**Key Parameters for Create SVG Diagram:**
- **DiagramType**: ''er'' (entity-relationship), ''flow'' (flowchart), or ''org'' (org chart) - **REQUIRED**
- **Nodes**: Array of nodes (for flow/er) or nested object (for org) - **REQUIRED**
- **Edges**: Array of relationships/connections (for flow/er) - not used for org charts
- **Direction**: ''TB'' (top-bottom), ''LR'' (left-right), ''RL'', ''BT'' - for flow diagrams
- **Title**: Diagram title (optional but recommended)
- **Width** / **Height**: Dimensions in pixels (defaults: 800×600)
- **Palette**: Color scheme (''mjDefault'', ''gray'', ''pastel'', ''highContrast'')

The action returns SVG markup - wrap it in a scrollable container for large diagrams:

```html
<div class="svg-scroll-wrapper">
  [SVG markup from Create SVG Diagram action]
</div>
```

**Not Allowed**
- External JavaScript libraries (keep it simple, inline if needed)
- External fonts (stick to system fonts: -apple-system, BlinkMacSystemFont, ''Segoe UI'', etc.)

**Allowed**
- Hyperlinks to external content **only** from sources provided - always use `target` in the URI to open in new tab
- External images so long as they are from the sources provided

### Markdown Report Template (use only when user explicitly asks for Markdown, otherwise use HTML!)

**CRITICAL: If using Markdown, write ALL content in Markdown syntax** - do not mix in HTML tags like `<h1>`, `<strong>`, `<div>`, etc.

```markdown
# [Full Report Title]

## Executive Summary

[2-3 paragraphs synthesizing the key findings, their significance, and primary insights. This should enable a decision-maker to grasp the essential points quickly.]

## Research Context

**Research Goal**: [State the original research objective]

**Methodology**: [Brief description of research approach - sources consulted, domains covered]

**Scope**: [What was included and what was not]

## Key Findings

### [Finding Category 1]

[Detailed analysis of findings in this category. Include:
- The facts/information discovered
- Your analytical interpretation
- Supporting evidence with citations
- Implications and significance]

**Sources**: [1], [3], [7]

**Confidence**: High (95%) - [Brief justification]

### [Finding Category 2]

[Continue with additional finding categories...]

## Cross-Source Analysis

### Corroborating Evidence

[Discuss where multiple sources agree and strengthen confidence]

### Contradictions & Resolution

[Address any conflicting information found:
- State the contradiction clearly
- Present competing viewpoints
- Explain your resolution with reasoning
- Note any unresolved conflicts]

## Insights & Implications

[This is where you add the most value. Go beyond the facts:
- Identify patterns or trends
- Discuss broader implications
- Connect findings to larger contexts
- Offer expert perspective]

## Confidence Assessment

**Overall Confidence**: [e.g., High (85%)]

**Justification**: [Detailed discussion of:
- Source quality and diversity
- Degree of corroboration
- Identified uncertainties
- Potential biases or gaps]

## Limitations

- [Limitation 1: Explain what''s missing or uncertain]
- [Limitation 2: Discuss scope boundaries]
- [Limitation 3: Note temporal constraints]

## Sources

1. **[Source Title]** - [Source Type] - [URL or Location]
   - Reliability: [High/Medium/Low]
   - Key Contribution: [What this source provided]

2. **[Source Title]** - ...

[Continue listing all sources with context]

## Conclusions

[Your synthesized conclusions:
- Summary of most significant findings
- Key insights and their implications
- Overall assessment]

## Recommendations (if applicable)

[Suggested actions or areas for further investigation based on findings]

---

*Report generated: [Timestamp]*

*Sources consulted: [Count]*

*Confidence level: [Overall assessment]*
```

## Analytical Guidelines

### Go Beyond Summarization

You are NOT a simple summarizer. You are an expert analyst. For each finding:

1. **State the Facts**: What did the sources say?
2. **Interpret Significance**: Why does this matter? What does it mean?
3. **Identify Patterns**: How does this connect to other findings?
4. **Assess Implications**: What are the consequences or applications?
5. **Provide Context**: How does this fit into the broader picture?

### Evidence-Based Reasoning

- Every conclusion MUST be supported by specific evidence
- Clearly distinguish **facts** from **interpretations**
- Note when evidence is weak, contradictory, or speculative
- Be rigorously honest about confidence levels

### Contradiction Resolution Process

When sources conflict:

1. **Identify the Contradiction**: State it clearly
2. **Evaluate Sources**: Compare reliability, recency, methodology
3. **Consider Context**: Check if sources are addressing slightly different aspects
4. **Make a Judgment**: Provide your reasoned conclusion
5. **Acknowledge Uncertainty**: If unresolvable, say so and explain why

### Report Structure Best Practices

**Executive Summary**:
- Standalone section that captures the essence
- Should enable quick decision-making
- Include key findings, confidence level, and primary insights

**Key Findings**:
- Organize thematically, not chronologically
- Each finding should include: facts, interpretation, evidence, significance
- Use clear headings and subheadings

**Insights & Implications**:
- This is where you add maximum value
- Don''t just report what was found - explain what it means
- Consider multiple perspectives and contexts

**Confidence Assessment**:
- Be specific about what you''re confident about and what remains uncertain
- Explain the basis for your confidence levels
- Acknowledge biases and limitations honestly

**Sources**:
- Provide enough context for each source
- Note reliability and key contributions
- Enable readers to trace back to original information
- **CRITICAL** - if sources have numeric references within them - order your sources the same way so they align logically for the reader.

## Confidence Calibration Guide

Use this framework to assign confidence levels:

- **0.95-1.0 (Very High)**:
  - Multiple independent, high-quality sources
  - Strong mutual corroboration
  - Recent, primary sources
  - Clear, unambiguous information

- **0.80-0.94 (High)**:
  - Good quality sources with corroboration
  - Minor inconsistencies resolved
  - Mostly primary or well-cited secondary sources

- **0.60-0.79 (Moderate)**:
  - Limited sources or partial corroboration
  - Some conflicting information
  - Reliance on secondary sources
  - Temporal or scope limitations

- **0.40-0.59 (Low)**:
  - Significant uncertainty or unresolved conflicts
  - Weak or unreliable sources
  - Speculative elements
  - Large information gaps

- **< 0.40 (Very Low)**:
  - Highly speculative
  - Very limited or poor quality evidence
  - Major contradictions unresolved
  - Should generally avoid making strong claims at this level

## Output Format

Use the LoopAgentResponse format with `payloadChangeRequest`:

**For HTML Reports (ALWAYS USE HTML unless user specifically asked for Markdown):**
```json
{
  "taskComplete": true,
  "message": "Research report and synthesis complete - comprehensive HTML report with [X] key findings across [Y] sources",
  "reasoning": "Analyzed [count] sources from [domains]. Identified [X] primary findings, resolved [Y] contradictions, achieved [confidence level] overall confidence. Generated rich HTML report with visualizations and interactive elements.",
  "payloadChangeRequest": {
    "newElements": {
      "synthesis": {
        "executiveSummary": "...",
        "findings": [...],
        "contradictionsResolution": [...],
        "confidenceAssessment": "...",
        "keyTakeaways": [...],
        "limitations": [...],
        "recommendations": [...],
        "generatedAt": "..."
      },
      "report": {
        "name": "...",
        "description": "...",
        "html": "<!DOCTYPE html>...</html>"
      }
    }
  }
}
```

**For Markdown Reports (ONLY DO MARKDOWN IF USER SPECIFICALLY ASKS FOR IT):**
```json
{
  "taskComplete": true,
  "message": "Research report and synthesis complete - comprehensive analysis with [X] key findings across [Y] sources",
  "reasoning": "Analyzed [count] sources from [domains]. Identified [X] primary findings, resolved [Y] contradictions, achieved [confidence level] overall confidence. Report emphasizes [key themes or insights].",
  "payloadChangeRequest": {
    "newElements": {
      "synthesis": {
        "executiveSummary": "...",
        "findings": [...],
        "contradictionsResolution": [...],
        "confidenceAssessment": "...",
        "keyTakeaways": [...],
        "limitations": [...],
        "recommendations": [...],
        "generatedAt": "..."
      },
      "report": {
        "name": "...",
        "description": "...",
        "markdown": "..."
      }
    }
  }
}
```

## Critical Rules

1. **NO FABRICATION**: Only report what''s supported by sources in the payload
2. **CITE EVERYTHING**: Every significant claim must reference specific sources
3. **BE HONEST**: Acknowledge uncertainty, limitations, and gaps
4. **ADD VALUE**: Don''t just summarize - analyze, interpret, and synthesize
5. **STAY GROUNDED**: Balance insight with evidence; avoid speculation beyond what sources support
6. **WRITE CLEARLY**: Use accessible language; explain complex concepts; maintain logical flow
7. **NO MIXING FORMATS**: If you create HTML, use ONLY HTML tags. If you create Markdown, use ONLY Markdown syntax. Never mix both in the same report
8. **HTML** - Use HTML format unless the user request specifically asks for markdown!

## Your Mandate

- **Take your time to think deeply** about patterns and implications
- **Challenge assumptions** and consider alternative interpretations
- **Synthesize across domains** - connect web findings to database insights to file information
- **Provide nuanced analysis** - the world is complex; your report should reflect that
- **Be intellectually honest** - confidence comes from evidence, not from appearing certain

The research team has gathered the data. Now it''s your job to extract meaning, insight, and actionable understanding from it.

## Advanced Data Analysis with Codesmith

When you have structured data that requires mathematical operations, statistical analysis, or complex transformations, use the **Codesmith Agent** sub-agent for analytical processing.

### When to Use Codesmith

✅ **Use Codesmith When You Have:**
- **Statistical Analysis Needs**: Averages, medians, standard deviations, correlations, regressions
- **Complex Calculations**: Growth rates, percentages, ratios, moving averages, percentiles
- **Data Transformations**: Pivoting, unpivoting, merging, normalizing, deduplication
- **Cross-Source Synthesis**: Combining data from multiple sources or queries
- **Pattern Detection**: Outlier analysis, trend identification, clustering
- **Custom Business Logic**: Domain-specific calculations that are easier in code than LLM reasoning

✅ **Specific Scenarios:**
- Analyzing 50+ data points where LLM might hallucinate numbers
- Calculations requiring precision (financial, scientific, statistical)
- Iterative computations (compound growth, recursive calculations)
- Matrix operations, linear algebra, or advanced mathematics
- Time series analysis with date arithmetic
- Large dataset aggregations and grouping

❌ **Don''t Use Codesmith For:**
- **Simple Extraction**: LLM can extract facts from text perfectly well
- **Single-Item Calculations**: "What''s 10% of $500?" - LLM handles this
- **Qualitative Analysis**: Sentiment analysis, content summarization, interpretation
- **Small Datasets**: 3-5 data points where LLM can reason accurately
- **Text Generation**: Writing summaries, explanations, or narratives

### How to Invoke Codesmith

**CRITICAL RULE**: Always include the actual data in your message to Codesmith. Don''t reference it - include it inline!

```json
{
  "taskComplete": false,
  "reasoning": "Gathered 50 data points - need statistical analysis with confidence LLM won''t hallucinate",
  "nextStep": {
    "type": "Sub-Agent",
    "subAgent": {
      "name": "Codesmith Agent",
      "message": "I have data in CSV format with 50 rows:

[INCLUDE THE ACTUAL DATA HERE - CSV or JSON format]
Item,Category,Value,Date
Product A,Electronics,299.99,2024-01-15
Product B,Electronics,149.99,2024-01-16
...
(paste all 50 rows)

Please write JavaScript code to:
1. [Specific calculation 1]
2. [Specific calculation 2]
3. [Specific analysis task 3]

Return results as a JSON object with clear structure.",
      "terminateAfter": false
    }
  }
}
```

### Available Libraries in Codesmith

Codesmith provides these JavaScript libraries for data processing:

- **lodash** (`_`): Grouping, sorting, filtering, statistical functions (mean, median, etc.)
- **mathjs**: Advanced mathematics, linear regression, correlation, standard deviation, Z-scores
- **date-fns**: Date arithmetic, parsing, formatting, quarter/month calculations
- **papaparse**: CSV parsing and generation
- **validator**: Data validation, URL/email checking, sanitization
- **uuid**: Generate unique identifiers

### General Workflow Pattern

```
Step 1: Gather & Normalize Data
[Your agent gathers data from your domain]
→ Normalize into CSV or JSON format
→ Ensure clean, structured format

Step 2: Invoke Codesmith for Analysis
→ Include ALL data in message (don''t reference it)
→ Specify exact calculations needed
→ Request structured JSON output

Step 3: Receive Analysis Results
→ Codesmith writes code, executes it, returns results
→ Results include both the code and output

Step 4: Add to Findings
→ Create one finding with normalized data
→ Create another finding with calculated insights
→ Reference Codesmith as source method
```

### Example Output Pattern After Using Codesmith

```json
{
  "taskComplete": true,
  "reasoning": "Gathered 50 data points, normalized to CSV, ran statistical analysis via Codesmith",
  "payloadChangeRequest": {
    "newElements": {
      "findings": [
        {
          "description": "Normalized data from [your source type]",
          "data": "[CSV or JSON data here]",
          "source": {
            "type": "[web|database|storage|knowledge_base]",
            "sources": ["src_001", "src_002", ...],
            "searchQueries": ["your query"]
          }
        },
        {
          "description": "Statistical analysis: [summary of key insights with numbers]",
          "analysis": {
            "summary": {
              "average": 42.5,
              "median": 40.0,
              "stdDev": 12.3
            },
            "trends": {
              "slope": 0.05,
              "interpretation": "5% growth per period"
            },
            "outliers": ["Item X", "Item Y"],
            "insights": ["Key insight 1", "Key insight 2"]
          },
          "source": {
            "type": "calculated",
            "method": "codesmith",
            "basedOn": ["finding_001"]
          }
        }
      ]
    }
  }
}
```

### Best Practices for Codesmith Usage

1. **Always Include Data**: Paste the actual data in your message - Codesmith needs to see it
2. **Use Structured Formats**: CSV for tabular data, JSON for hierarchical data
3. **Be Specific**: Don''t ask "analyze this" - specify exact calculations needed
4. **Request JSON Output**: Makes it easy to parse and add to findings
5. **Document Units**: Include units in column names (PriceUSD, WeightKg) or specify in message
6. **Limit Data Size**: If you have thousands of rows, sample or aggregate first
7. **Two Findings Pattern**: One for raw normalized data, one for calculated insights
8. **Source Attribution**: Always mark Codesmith analysis with `"method": "codesmith"`

### Common Calculation Examples

**Statistical Analysis:**
```javascript
// Codesmith can calculate:
- mean, median, mode, standard deviation
- percentiles (25th, 50th, 75th)
- variance, coefficient of variation
- Z-scores for outlier detection
```

**Trend Analysis:**
```javascript
// Linear regression for trends:
- slope and intercept
- R-squared (fit quality)
- predictions based on trend
```

**Comparative Analysis:**
```javascript
// Comparisons across groups:
- Group by category, calculate metrics per group
- Compare growth rates between segments
- Rank items by calculated scores
```

**Time Series:**
```javascript
// Temporal analysis:
- Period-over-period growth rates
- Moving averages (7-day, 30-day)
- Seasonality detection
- Date range aggregations
```

Remember: Codesmith excels at **precision** and **scale**. Use it when you need mathematical accuracy or are processing many data points. For interpretation, narrative, or small datasets, rely on your LLM capabilities.


Go!

# CRITICAL FINAL CHECK

**Before you submit your response:**
1. ✅ Did I check if the user requested Markdown? (Look for words: "markdown", "plain text", "simple")
2. ✅ If NO Markdown request found → Am I using HTML format?
3. ✅ Does my HTML report have at least one chart/graph?

**DEFAULT FORMAT = HTML** - Only use Markdown if explicitly requested!  '
SET
  @Priority_15f9a337 = 1
SET
  @IsActive_15f9a337 = 1
SET
  @ID_15f9a337 = '38C25223-D95D-4C8A-967E-6BE0BF57D980'
EXEC [${flyway:defaultSchema}].spUpdateTemplateContent @TemplateID = @TemplateID_15f9a337,
  @TypeID = @TypeID_15f9a337,
  @TemplateText = @TemplateText_15f9a337,
  @Priority = @Priority_15f9a337,
  @IsActive = @IsActive_15f9a337,
  @ID = @ID_15f9a337;

-- Save Template Params (core SP call only)
DECLARE @ID_166798b0 UNIQUEIDENTIFIER,
@TemplateID_166798b0 UNIQUEIDENTIFIER,
@Name_166798b0 NVARCHAR(255),
@Description_166798b0 NVARCHAR(MAX),
@Type_166798b0 NVARCHAR(20),
@DefaultValue_166798b0 NVARCHAR(MAX),
@IsRequired_166798b0 BIT,
@LinkedParameterName_166798b0 NVARCHAR(255),
@LinkedParameterField_166798b0 NVARCHAR(500),
@ExtraFilter_166798b0 NVARCHAR(MAX),
@EntityID_166798b0 UNIQUEIDENTIFIER,
@RecordID_166798b0 NVARCHAR(2000),
@OrderBy_166798b0 NVARCHAR(MAX),
@TemplateContentID_166798b0 UNIQUEIDENTIFIER
SET
  @ID_166798b0 = '5dae2a88-2b42-47fe-b1f5-67b6f69eb4d9'
SET
  @TemplateID_166798b0 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_166798b0 = N'Takeaway 1'
SET
  @Description_166798b0 = N'First key takeaway from the research'
SET
  @Type_166798b0 = N'Scalar'
SET
  @IsRequired_166798b0 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_166798b0,
  @TemplateID = @TemplateID_166798b0,
  @Name = @Name_166798b0,
  @Description = @Description_166798b0,
  @Type = @Type_166798b0,
  @DefaultValue = @DefaultValue_166798b0,
  @IsRequired = @IsRequired_166798b0,
  @LinkedParameterName = @LinkedParameterName_166798b0,
  @LinkedParameterField = @LinkedParameterField_166798b0,
  @ExtraFilter = @ExtraFilter_166798b0,
  @EntityID = @EntityID_166798b0,
  @RecordID = @RecordID_166798b0,
  @OrderBy = @OrderBy_166798b0,
  @TemplateContentID = @TemplateContentID_166798b0;

-- Save Template Params (core SP call only)
DECLARE @ID_d6a28b17 UNIQUEIDENTIFIER,
@TemplateID_d6a28b17 UNIQUEIDENTIFIER,
@Name_d6a28b17 NVARCHAR(255),
@Description_d6a28b17 NVARCHAR(MAX),
@Type_d6a28b17 NVARCHAR(20),
@DefaultValue_d6a28b17 NVARCHAR(MAX),
@IsRequired_d6a28b17 BIT,
@LinkedParameterName_d6a28b17 NVARCHAR(255),
@LinkedParameterField_d6a28b17 NVARCHAR(500),
@ExtraFilter_d6a28b17 NVARCHAR(MAX),
@EntityID_d6a28b17 UNIQUEIDENTIFIER,
@RecordID_d6a28b17 NVARCHAR(2000),
@OrderBy_d6a28b17 NVARCHAR(MAX),
@TemplateContentID_d6a28b17 UNIQUEIDENTIFIER
SET
  @ID_d6a28b17 = 'd86d1d88-ccde-4d9f-8d18-7ae431b92d66'
SET
  @TemplateID_d6a28b17 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_d6a28b17 = N'Takeaway 2'
SET
  @Description_d6a28b17 = N'Second key takeaway from the research'
SET
  @Type_d6a28b17 = N'Scalar'
SET
  @IsRequired_d6a28b17 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_d6a28b17,
  @TemplateID = @TemplateID_d6a28b17,
  @Name = @Name_d6a28b17,
  @Description = @Description_d6a28b17,
  @Type = @Type_d6a28b17,
  @DefaultValue = @DefaultValue_d6a28b17,
  @IsRequired = @IsRequired_d6a28b17,
  @LinkedParameterName = @LinkedParameterName_d6a28b17,
  @LinkedParameterField = @LinkedParameterField_d6a28b17,
  @ExtraFilter = @ExtraFilter_d6a28b17,
  @EntityID = @EntityID_d6a28b17,
  @RecordID = @RecordID_d6a28b17,
  @OrderBy = @OrderBy_d6a28b17,
  @TemplateContentID = @TemplateContentID_d6a28b17;

-- Save Template Params (core SP call only)
DECLARE @ID_acbfcc87 UNIQUEIDENTIFIER,
@TemplateID_acbfcc87 UNIQUEIDENTIFIER,
@Name_acbfcc87 NVARCHAR(255),
@Description_acbfcc87 NVARCHAR(MAX),
@Type_acbfcc87 NVARCHAR(20),
@DefaultValue_acbfcc87 NVARCHAR(MAX),
@IsRequired_acbfcc87 BIT,
@LinkedParameterName_acbfcc87 NVARCHAR(255),
@LinkedParameterField_acbfcc87 NVARCHAR(500),
@ExtraFilter_acbfcc87 NVARCHAR(MAX),
@EntityID_acbfcc87 UNIQUEIDENTIFIER,
@RecordID_acbfcc87 NVARCHAR(2000),
@OrderBy_acbfcc87 NVARCHAR(MAX),
@TemplateContentID_acbfcc87 UNIQUEIDENTIFIER
SET
  @ID_acbfcc87 = '517759f7-8af5-432f-87b3-2ddf9280cc56'
SET
  @TemplateID_acbfcc87 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_acbfcc87 = N'Takeaway 3'
SET
  @Description_acbfcc87 = N'Third key takeaway from the research'
SET
  @Type_acbfcc87 = N'Scalar'
SET
  @IsRequired_acbfcc87 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_acbfcc87,
  @TemplateID = @TemplateID_acbfcc87,
  @Name = @Name_acbfcc87,
  @Description = @Description_acbfcc87,
  @Type = @Type_acbfcc87,
  @DefaultValue = @DefaultValue_acbfcc87,
  @IsRequired = @IsRequired_acbfcc87,
  @LinkedParameterName = @LinkedParameterName_acbfcc87,
  @LinkedParameterField = @LinkedParameterField_acbfcc87,
  @ExtraFilter = @ExtraFilter_acbfcc87,
  @EntityID = @EntityID_acbfcc87,
  @RecordID = @RecordID_acbfcc87,
  @OrderBy = @OrderBy_acbfcc87,
  @TemplateContentID = @TemplateContentID_acbfcc87;

-- Save Template Params (core SP call only)
DECLARE @ID_3afd013c UNIQUEIDENTIFIER,
@TemplateID_3afd013c UNIQUEIDENTIFIER,
@Name_3afd013c NVARCHAR(255),
@Description_3afd013c NVARCHAR(MAX),
@Type_3afd013c NVARCHAR(20),
@DefaultValue_3afd013c NVARCHAR(MAX),
@IsRequired_3afd013c BIT,
@LinkedParameterName_3afd013c NVARCHAR(255),
@LinkedParameterField_3afd013c NVARCHAR(500),
@ExtraFilter_3afd013c NVARCHAR(MAX),
@EntityID_3afd013c UNIQUEIDENTIFIER,
@RecordID_3afd013c NVARCHAR(2000),
@OrderBy_3afd013c NVARCHAR(MAX),
@TemplateContentID_3afd013c UNIQUEIDENTIFIER
SET
  @ID_3afd013c = 'aee68b79-494d-4a93-bea6-30425b587e85'
SET
  @TemplateID_3afd013c = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_3afd013c = N'Finding Title'
SET
  @Description_3afd013c = N'Title of a specific finding'
SET
  @Type_3afd013c = N'Scalar'
SET
  @IsRequired_3afd013c = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_3afd013c,
  @TemplateID = @TemplateID_3afd013c,
  @Name = @Name_3afd013c,
  @Description = @Description_3afd013c,
  @Type = @Type_3afd013c,
  @DefaultValue = @DefaultValue_3afd013c,
  @IsRequired = @IsRequired_3afd013c,
  @LinkedParameterName = @LinkedParameterName_3afd013c,
  @LinkedParameterField = @LinkedParameterField_3afd013c,
  @ExtraFilter = @ExtraFilter_3afd013c,
  @EntityID = @EntityID_3afd013c,
  @RecordID = @RecordID_3afd013c,
  @OrderBy = @OrderBy_3afd013c,
  @TemplateContentID = @TemplateContentID_3afd013c;

-- Save Template Params (core SP call only)
DECLARE @ID_a35c19f7 UNIQUEIDENTIFIER,
@TemplateID_a35c19f7 UNIQUEIDENTIFIER,
@Name_a35c19f7 NVARCHAR(255),
@Description_a35c19f7 NVARCHAR(MAX),
@Type_a35c19f7 NVARCHAR(20),
@DefaultValue_a35c19f7 NVARCHAR(MAX),
@IsRequired_a35c19f7 BIT,
@LinkedParameterName_a35c19f7 NVARCHAR(255),
@LinkedParameterField_a35c19f7 NVARCHAR(500),
@ExtraFilter_a35c19f7 NVARCHAR(MAX),
@EntityID_a35c19f7 UNIQUEIDENTIFIER,
@RecordID_a35c19f7 NVARCHAR(2000),
@OrderBy_a35c19f7 NVARCHAR(MAX),
@TemplateContentID_a35c19f7 UNIQUEIDENTIFIER
SET
  @ID_a35c19f7 = '905dd368-01c7-4d1a-b828-ec995f0b949b'
SET
  @TemplateID_a35c19f7 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_a35c19f7 = N'Confidence'
SET
  @Description_a35c19f7 = N'Confidence percentage for a finding'
SET
  @Type_a35c19f7 = N'Scalar'
SET
  @IsRequired_a35c19f7 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_a35c19f7,
  @TemplateID = @TemplateID_a35c19f7,
  @Name = @Name_a35c19f7,
  @Description = @Description_a35c19f7,
  @Type = @Type_a35c19f7,
  @DefaultValue = @DefaultValue_a35c19f7,
  @IsRequired = @IsRequired_a35c19f7,
  @LinkedParameterName = @LinkedParameterName_a35c19f7,
  @LinkedParameterField = @LinkedParameterField_a35c19f7,
  @ExtraFilter = @ExtraFilter_a35c19f7,
  @EntityID = @EntityID_a35c19f7,
  @RecordID = @RecordID_a35c19f7,
  @OrderBy = @OrderBy_a35c19f7,
  @TemplateContentID = @TemplateContentID_a35c19f7;

-- Save Template Params (core SP call only)
DECLARE @ID_08beb2c1 UNIQUEIDENTIFIER,
@TemplateID_08beb2c1 UNIQUEIDENTIFIER,
@Name_08beb2c1 NVARCHAR(255),
@Description_08beb2c1 NVARCHAR(MAX),
@Type_08beb2c1 NVARCHAR(20),
@DefaultValue_08beb2c1 NVARCHAR(MAX),
@IsRequired_08beb2c1 BIT,
@LinkedParameterName_08beb2c1 NVARCHAR(255),
@LinkedParameterField_08beb2c1 NVARCHAR(500),
@ExtraFilter_08beb2c1 NVARCHAR(MAX),
@EntityID_08beb2c1 UNIQUEIDENTIFIER,
@RecordID_08beb2c1 NVARCHAR(2000),
@OrderBy_08beb2c1 NVARCHAR(MAX),
@TemplateContentID_08beb2c1 UNIQUEIDENTIFIER
SET
  @ID_08beb2c1 = '07400528-eda8-43cd-a40a-b3fcefd1af12'
SET
  @TemplateID_08beb2c1 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_08beb2c1 = N'Finding description and analysis'
SET
  @Description_08beb2c1 = N'Detailed description and analysis of a finding'
SET
  @Type_08beb2c1 = N'Scalar'
SET
  @IsRequired_08beb2c1 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_08beb2c1,
  @TemplateID = @TemplateID_08beb2c1,
  @Name = @Name_08beb2c1,
  @Description = @Description_08beb2c1,
  @Type = @Type_08beb2c1,
  @DefaultValue = @DefaultValue_08beb2c1,
  @IsRequired = @IsRequired_08beb2c1,
  @LinkedParameterName = @LinkedParameterName_08beb2c1,
  @LinkedParameterField = @LinkedParameterField_08beb2c1,
  @ExtraFilter = @ExtraFilter_08beb2c1,
  @EntityID = @EntityID_08beb2c1,
  @RecordID = @RecordID_08beb2c1,
  @OrderBy = @OrderBy_08beb2c1,
  @TemplateContentID = @TemplateContentID_08beb2c1;

-- Save Template Params (core SP call only)
DECLARE @ID_fee02a15 UNIQUEIDENTIFIER,
@TemplateID_fee02a15 UNIQUEIDENTIFIER,
@Name_fee02a15 NVARCHAR(255),
@Description_fee02a15 NVARCHAR(MAX),
@Type_fee02a15 NVARCHAR(20),
@DefaultValue_fee02a15 NVARCHAR(MAX),
@IsRequired_fee02a15 BIT,
@LinkedParameterName_fee02a15 NVARCHAR(255),
@LinkedParameterField_fee02a15 NVARCHAR(500),
@ExtraFilter_fee02a15 NVARCHAR(MAX),
@EntityID_fee02a15 UNIQUEIDENTIFIER,
@RecordID_fee02a15 NVARCHAR(2000),
@OrderBy_fee02a15 NVARCHAR(MAX),
@TemplateContentID_fee02a15 UNIQUEIDENTIFIER
SET
  @ID_fee02a15 = 'cd5f11a9-92f4-4e3b-901a-9a9735e5354f'
SET
  @TemplateID_fee02a15 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_fee02a15 = N'Source title'
SET
  @Description_fee02a15 = N'Title of a source'
SET
  @Type_fee02a15 = N'Scalar'
SET
  @IsRequired_fee02a15 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_fee02a15,
  @TemplateID = @TemplateID_fee02a15,
  @Name = @Name_fee02a15,
  @Description = @Description_fee02a15,
  @Type = @Type_fee02a15,
  @DefaultValue = @DefaultValue_fee02a15,
  @IsRequired = @IsRequired_fee02a15,
  @LinkedParameterName = @LinkedParameterName_fee02a15,
  @LinkedParameterField = @LinkedParameterField_fee02a15,
  @ExtraFilter = @ExtraFilter_fee02a15,
  @EntityID = @EntityID_fee02a15,
  @RecordID = @RecordID_fee02a15,
  @OrderBy = @OrderBy_fee02a15,
  @TemplateContentID = @TemplateContentID_fee02a15;

-- Save Template Params (core SP call only)
DECLARE @ID_76725f9d UNIQUEIDENTIFIER,
@TemplateID_76725f9d UNIQUEIDENTIFIER,
@Name_76725f9d NVARCHAR(255),
@Description_76725f9d NVARCHAR(MAX),
@Type_76725f9d NVARCHAR(20),
@DefaultValue_76725f9d NVARCHAR(MAX),
@IsRequired_76725f9d BIT,
@LinkedParameterName_76725f9d NVARCHAR(255),
@LinkedParameterField_76725f9d NVARCHAR(500),
@ExtraFilter_76725f9d NVARCHAR(MAX),
@EntityID_76725f9d UNIQUEIDENTIFIER,
@RecordID_76725f9d NVARCHAR(2000),
@OrderBy_76725f9d NVARCHAR(MAX),
@TemplateContentID_76725f9d UNIQUEIDENTIFIER
SET
  @ID_76725f9d = '654d4968-7ce5-46f5-a8ec-4323612842b0'
SET
  @TemplateID_76725f9d = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_76725f9d = N'contribution'
SET
  @Description_76725f9d = N'Contribution description of a source to a finding'
SET
  @Type_76725f9d = N'Scalar'
SET
  @IsRequired_76725f9d = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_76725f9d,
  @TemplateID = @TemplateID_76725f9d,
  @Name = @Name_76725f9d,
  @Description = @Description_76725f9d,
  @Type = @Type_76725f9d,
  @DefaultValue = @DefaultValue_76725f9d,
  @IsRequired = @IsRequired_76725f9d,
  @LinkedParameterName = @LinkedParameterName_76725f9d,
  @LinkedParameterField = @LinkedParameterField_76725f9d,
  @ExtraFilter = @ExtraFilter_76725f9d,
  @EntityID = @EntityID_76725f9d,
  @RecordID = @RecordID_76725f9d,
  @OrderBy = @OrderBy_76725f9d,
  @TemplateContentID = @TemplateContentID_76725f9d;

-- Save Template Params (core SP call only)
DECLARE @ID_0df71fba UNIQUEIDENTIFIER,
@TemplateID_0df71fba UNIQUEIDENTIFIER,
@Name_0df71fba NVARCHAR(255),
@Description_0df71fba NVARCHAR(MAX),
@Type_0df71fba NVARCHAR(20),
@DefaultValue_0df71fba NVARCHAR(MAX),
@IsRequired_0df71fba BIT,
@LinkedParameterName_0df71fba NVARCHAR(255),
@LinkedParameterField_0df71fba NVARCHAR(500),
@ExtraFilter_0df71fba NVARCHAR(MAX),
@EntityID_0df71fba UNIQUEIDENTIFIER,
@RecordID_0df71fba NVARCHAR(2000),
@OrderBy_0df71fba NVARCHAR(MAX),
@TemplateContentID_0df71fba UNIQUEIDENTIFIER
SET
  @ID_0df71fba = '7d074a66-bc10-4f0d-84a3-c17048b82d71'
SET
  @TemplateID_0df71fba = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_0df71fba = N'Contradiction Description'
SET
  @Description_0df71fba = N'Description of a contradiction between sources'
SET
  @Type_0df71fba = N'Scalar'
SET
  @IsRequired_0df71fba = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_0df71fba,
  @TemplateID = @TemplateID_0df71fba,
  @Name = @Name_0df71fba,
  @Description = @Description_0df71fba,
  @Type = @Type_0df71fba,
  @DefaultValue = @DefaultValue_0df71fba,
  @IsRequired = @IsRequired_0df71fba,
  @LinkedParameterName = @LinkedParameterName_0df71fba,
  @LinkedParameterField = @LinkedParameterField_0df71fba,
  @ExtraFilter = @ExtraFilter_0df71fba,
  @EntityID = @EntityID_0df71fba,
  @RecordID = @RecordID_0df71fba,
  @OrderBy = @OrderBy_0df71fba,
  @TemplateContentID = @TemplateContentID_0df71fba;

-- Save Template Params (core SP call only)
DECLARE @ID_483fe480 UNIQUEIDENTIFIER,
@TemplateID_483fe480 UNIQUEIDENTIFIER,
@Name_483fe480 NVARCHAR(255),
@Description_483fe480 NVARCHAR(MAX),
@Type_483fe480 NVARCHAR(20),
@DefaultValue_483fe480 NVARCHAR(MAX),
@IsRequired_483fe480 BIT,
@LinkedParameterName_483fe480 NVARCHAR(255),
@LinkedParameterField_483fe480 NVARCHAR(500),
@ExtraFilter_483fe480 NVARCHAR(MAX),
@EntityID_483fe480 UNIQUEIDENTIFIER,
@RecordID_483fe480 NVARCHAR(2000),
@OrderBy_483fe480 NVARCHAR(MAX),
@TemplateContentID_483fe480 UNIQUEIDENTIFIER
SET
  @ID_483fe480 = '432df850-ba39-4b81-9d05-1a006728ba8e'
SET
  @TemplateID_483fe480 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_483fe480 = N'Source list'
SET
  @Description_483fe480 = N'List of sources involved in a contradiction'
SET
  @Type_483fe480 = N'Scalar'
SET
  @IsRequired_483fe480 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_483fe480,
  @TemplateID = @TemplateID_483fe480,
  @Name = @Name_483fe480,
  @Description = @Description_483fe480,
  @Type = @Type_483fe480,
  @DefaultValue = @DefaultValue_483fe480,
  @IsRequired = @IsRequired_483fe480,
  @LinkedParameterName = @LinkedParameterName_483fe480,
  @LinkedParameterField = @LinkedParameterField_483fe480,
  @ExtraFilter = @ExtraFilter_483fe480,
  @EntityID = @EntityID_483fe480,
  @RecordID = @RecordID_483fe480,
  @OrderBy = @OrderBy_483fe480,
  @TemplateContentID = @TemplateContentID_483fe480;

-- Save Template Params (core SP call only)
DECLARE @ID_580a2f17 UNIQUEIDENTIFIER,
@TemplateID_580a2f17 UNIQUEIDENTIFIER,
@Name_580a2f17 NVARCHAR(255),
@Description_580a2f17 NVARCHAR(MAX),
@Type_580a2f17 NVARCHAR(20),
@DefaultValue_580a2f17 NVARCHAR(MAX),
@IsRequired_580a2f17 BIT,
@LinkedParameterName_580a2f17 NVARCHAR(255),
@LinkedParameterField_580a2f17 NVARCHAR(500),
@ExtraFilter_580a2f17 NVARCHAR(MAX),
@EntityID_580a2f17 UNIQUEIDENTIFIER,
@RecordID_580a2f17 NVARCHAR(2000),
@OrderBy_580a2f17 NVARCHAR(MAX),
@TemplateContentID_580a2f17 UNIQUEIDENTIFIER
SET
  @ID_580a2f17 = '5906c9f5-42e4-48e5-9793-f48a24caaac7'
SET
  @TemplateID_580a2f17 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_580a2f17 = N'Your resolution with reasoning'
SET
  @Description_580a2f17 = N'Resolution of a contradiction with reasoning'
SET
  @Type_580a2f17 = N'Scalar'
SET
  @IsRequired_580a2f17 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_580a2f17,
  @TemplateID = @TemplateID_580a2f17,
  @Name = @Name_580a2f17,
  @Description = @Description_580a2f17,
  @Type = @Type_580a2f17,
  @DefaultValue = @DefaultValue_580a2f17,
  @IsRequired = @IsRequired_580a2f17,
  @LinkedParameterName = @LinkedParameterName_580a2f17,
  @LinkedParameterField = @LinkedParameterField_580a2f17,
  @ExtraFilter = @ExtraFilter_580a2f17,
  @EntityID = @EntityID_580a2f17,
  @RecordID = @RecordID_580a2f17,
  @OrderBy = @OrderBy_580a2f17,
  @TemplateContentID = @TemplateContentID_580a2f17;

-- Save Template Params (core SP call only)
DECLARE @ID_e6504e78 UNIQUEIDENTIFIER,
@TemplateID_e6504e78 UNIQUEIDENTIFIER,
@Name_e6504e78 NVARCHAR(255),
@Description_e6504e78 NVARCHAR(MAX),
@Type_e6504e78 NVARCHAR(20),
@DefaultValue_e6504e78 NVARCHAR(MAX),
@IsRequired_e6504e78 BIT,
@LinkedParameterName_e6504e78 NVARCHAR(255),
@LinkedParameterField_e6504e78 NVARCHAR(500),
@ExtraFilter_e6504e78 NVARCHAR(MAX),
@EntityID_e6504e78 UNIQUEIDENTIFIER,
@RecordID_e6504e78 NVARCHAR(2000),
@OrderBy_e6504e78 NVARCHAR(MAX),
@TemplateContentID_e6504e78 UNIQUEIDENTIFIER
SET
  @ID_e6504e78 = '5fe4663e-515e-4ce4-832e-ab52b3c909e5'
SET
  @TemplateID_e6504e78 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_e6504e78 = N'confidence'
SET
  @Description_e6504e78 = N'Confidence percentage in contradiction resolution'
SET
  @Type_e6504e78 = N'Scalar'
SET
  @IsRequired_e6504e78 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_e6504e78,
  @TemplateID = @TemplateID_e6504e78,
  @Name = @Name_e6504e78,
  @Description = @Description_e6504e78,
  @Type = @Type_e6504e78,
  @DefaultValue = @DefaultValue_e6504e78,
  @IsRequired = @IsRequired_e6504e78,
  @LinkedParameterName = @LinkedParameterName_e6504e78,
  @LinkedParameterField = @LinkedParameterField_e6504e78,
  @ExtraFilter = @ExtraFilter_e6504e78,
  @EntityID = @EntityID_e6504e78,
  @RecordID = @RecordID_e6504e78,
  @OrderBy = @OrderBy_e6504e78,
  @TemplateContentID = @TemplateContentID_e6504e78;

-- Save Template Params (core SP call only)
DECLARE @ID_cdb351bb UNIQUEIDENTIFIER,
@TemplateID_cdb351bb UNIQUEIDENTIFIER,
@Name_cdb351bb NVARCHAR(255),
@Description_cdb351bb NVARCHAR(MAX),
@Type_cdb351bb NVARCHAR(20),
@DefaultValue_cdb351bb NVARCHAR(MAX),
@IsRequired_cdb351bb BIT,
@LinkedParameterName_cdb351bb NVARCHAR(255),
@LinkedParameterField_cdb351bb NVARCHAR(500),
@ExtraFilter_cdb351bb NVARCHAR(MAX),
@EntityID_cdb351bb UNIQUEIDENTIFIER,
@RecordID_cdb351bb NVARCHAR(2000),
@OrderBy_cdb351bb NVARCHAR(MAX),
@TemplateContentID_cdb351bb UNIQUEIDENTIFIER
SET
  @ID_cdb351bb = '8f1f730d-a1e1-496f-acf4-47f8a4da2338'
SET
  @TemplateID_cdb351bb = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_cdb351bb = N'web/database/file'
SET
  @Description_cdb351bb = N'Type of source (web, database, or file)'
SET
  @Type_cdb351bb = N'Scalar'
SET
  @IsRequired_cdb351bb = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_cdb351bb,
  @TemplateID = @TemplateID_cdb351bb,
  @Name = @Name_cdb351bb,
  @Description = @Description_cdb351bb,
  @Type = @Type_cdb351bb,
  @DefaultValue = @DefaultValue_cdb351bb,
  @IsRequired = @IsRequired_cdb351bb,
  @LinkedParameterName = @LinkedParameterName_cdb351bb,
  @LinkedParameterField = @LinkedParameterField_cdb351bb,
  @ExtraFilter = @ExtraFilter_cdb351bb,
  @EntityID = @EntityID_cdb351bb,
  @RecordID = @RecordID_cdb351bb,
  @OrderBy = @OrderBy_cdb351bb,
  @TemplateContentID = @TemplateContentID_cdb351bb;

-- Save Template Params (core SP call only)
DECLARE @ID_20b73d25 UNIQUEIDENTIFIER,
@TemplateID_20b73d25 UNIQUEIDENTIFIER,
@Name_20b73d25 NVARCHAR(255),
@Description_20b73d25 NVARCHAR(MAX),
@Type_20b73d25 NVARCHAR(20),
@DefaultValue_20b73d25 NVARCHAR(MAX),
@IsRequired_20b73d25 BIT,
@LinkedParameterName_20b73d25 NVARCHAR(255),
@LinkedParameterField_20b73d25 NVARCHAR(500),
@ExtraFilter_20b73d25 NVARCHAR(MAX),
@EntityID_20b73d25 UNIQUEIDENTIFIER,
@RecordID_20b73d25 NVARCHAR(2000),
@OrderBy_20b73d25 NVARCHAR(MAX),
@TemplateContentID_20b73d25 UNIQUEIDENTIFIER
SET
  @ID_20b73d25 = '87e1d3cf-8242-47e7-adc2-f1a46a85796b'
SET
  @TemplateID_20b73d25 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_20b73d25 = N'Source Title'
SET
  @Description_20b73d25 = N'Title of a source card'
SET
  @Type_20b73d25 = N'Scalar'
SET
  @IsRequired_20b73d25 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_20b73d25,
  @TemplateID = @TemplateID_20b73d25,
  @Name = @Name_20b73d25,
  @Description = @Description_20b73d25,
  @Type = @Type_20b73d25,
  @DefaultValue = @DefaultValue_20b73d25,
  @IsRequired = @IsRequired_20b73d25,
  @LinkedParameterName = @LinkedParameterName_20b73d25,
  @LinkedParameterField = @LinkedParameterField_20b73d25,
  @ExtraFilter = @ExtraFilter_20b73d25,
  @EntityID = @EntityID_20b73d25,
  @RecordID = @RecordID_20b73d25,
  @OrderBy = @OrderBy_20b73d25,
  @TemplateContentID = @TemplateContentID_20b73d25;

-- Save Template Params (core SP call only)
DECLARE @ID_4c2433a7 UNIQUEIDENTIFIER,
@TemplateID_4c2433a7 UNIQUEIDENTIFIER,
@Name_4c2433a7 NVARCHAR(255),
@Description_4c2433a7 NVARCHAR(MAX),
@Type_4c2433a7 NVARCHAR(20),
@DefaultValue_4c2433a7 NVARCHAR(MAX),
@IsRequired_4c2433a7 BIT,
@LinkedParameterName_4c2433a7 NVARCHAR(255),
@LinkedParameterField_4c2433a7 NVARCHAR(500),
@ExtraFilter_4c2433a7 NVARCHAR(MAX),
@EntityID_4c2433a7 UNIQUEIDENTIFIER,
@RecordID_4c2433a7 NVARCHAR(2000),
@OrderBy_4c2433a7 NVARCHAR(MAX),
@TemplateContentID_4c2433a7 UNIQUEIDENTIFIER
SET
  @ID_4c2433a7 = 'b6258e8e-074d-4160-a4be-7d6ace3336a1'
SET
  @TemplateID_4c2433a7 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_4c2433a7 = N'High/Medium/Low'
SET
  @Description_4c2433a7 = N'Reliability level of a source'
SET
  @Type_4c2433a7 = N'Scalar'
SET
  @IsRequired_4c2433a7 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_4c2433a7,
  @TemplateID = @TemplateID_4c2433a7,
  @Name = @Name_4c2433a7,
  @Description = @Description_4c2433a7,
  @Type = @Type_4c2433a7,
  @DefaultValue = @DefaultValue_4c2433a7,
  @IsRequired = @IsRequired_4c2433a7,
  @LinkedParameterName = @LinkedParameterName_4c2433a7,
  @LinkedParameterField = @LinkedParameterField_4c2433a7,
  @ExtraFilter = @ExtraFilter_4c2433a7,
  @EntityID = @EntityID_4c2433a7,
  @RecordID = @RecordID_4c2433a7,
  @OrderBy = @OrderBy_4c2433a7,
  @TemplateContentID = @TemplateContentID_4c2433a7;

-- Save Template Params (core SP call only)
DECLARE @ID_5b7df93d UNIQUEIDENTIFIER,
@TemplateID_5b7df93d UNIQUEIDENTIFIER,
@Name_5b7df93d NVARCHAR(255),
@Description_5b7df93d NVARCHAR(MAX),
@Type_5b7df93d NVARCHAR(20),
@DefaultValue_5b7df93d NVARCHAR(MAX),
@IsRequired_5b7df93d BIT,
@LinkedParameterName_5b7df93d NVARCHAR(255),
@LinkedParameterField_5b7df93d NVARCHAR(500),
@ExtraFilter_5b7df93d NVARCHAR(MAX),
@EntityID_5b7df93d UNIQUEIDENTIFIER,
@RecordID_5b7df93d NVARCHAR(2000),
@OrderBy_5b7df93d NVARCHAR(MAX),
@TemplateContentID_5b7df93d UNIQUEIDENTIFIER
SET
  @ID_5b7df93d = '3bb85563-ce97-4934-8aa6-a675bf99dfb8'
SET
  @TemplateID_5b7df93d = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_5b7df93d = N'Reliability reasoning'
SET
  @Description_5b7df93d = N'Reasoning for source reliability assessment'
SET
  @Type_5b7df93d = N'Scalar'
SET
  @IsRequired_5b7df93d = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_5b7df93d,
  @TemplateID = @TemplateID_5b7df93d,
  @Name = @Name_5b7df93d,
  @Description = @Description_5b7df93d,
  @Type = @Type_5b7df93d,
  @DefaultValue = @DefaultValue_5b7df93d,
  @IsRequired = @IsRequired_5b7df93d,
  @LinkedParameterName = @LinkedParameterName_5b7df93d,
  @LinkedParameterField = @LinkedParameterField_5b7df93d,
  @ExtraFilter = @ExtraFilter_5b7df93d,
  @EntityID = @EntityID_5b7df93d,
  @RecordID = @RecordID_5b7df93d,
  @OrderBy = @OrderBy_5b7df93d,
  @TemplateContentID = @TemplateContentID_5b7df93d;

-- Save Template Params (core SP call only)
DECLARE @ID_8b3de6c9 UNIQUEIDENTIFIER,
@TemplateID_8b3de6c9 UNIQUEIDENTIFIER,
@Name_8b3de6c9 NVARCHAR(255),
@Description_8b3de6c9 NVARCHAR(MAX),
@Type_8b3de6c9 NVARCHAR(20),
@DefaultValue_8b3de6c9 NVARCHAR(MAX),
@IsRequired_8b3de6c9 BIT,
@LinkedParameterName_8b3de6c9 NVARCHAR(255),
@LinkedParameterField_8b3de6c9 NVARCHAR(500),
@ExtraFilter_8b3de6c9 NVARCHAR(MAX),
@EntityID_8b3de6c9 UNIQUEIDENTIFIER,
@RecordID_8b3de6c9 NVARCHAR(2000),
@OrderBy_8b3de6c9 NVARCHAR(MAX),
@TemplateContentID_8b3de6c9 UNIQUEIDENTIFIER
SET
  @ID_8b3de6c9 = '5e497634-59ec-48de-9076-18eb15877b33'
SET
  @TemplateID_8b3de6c9 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_8b3de6c9 = N'URL or location'
SET
  @Description_8b3de6c9 = N'URL or location of a source'
SET
  @Type_8b3de6c9 = N'Scalar'
SET
  @IsRequired_8b3de6c9 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_8b3de6c9,
  @TemplateID = @TemplateID_8b3de6c9,
  @Name = @Name_8b3de6c9,
  @Description = @Description_8b3de6c9,
  @Type = @Type_8b3de6c9,
  @DefaultValue = @DefaultValue_8b3de6c9,
  @IsRequired = @IsRequired_8b3de6c9,
  @LinkedParameterName = @LinkedParameterName_8b3de6c9,
  @LinkedParameterField = @LinkedParameterField_8b3de6c9,
  @ExtraFilter = @ExtraFilter_8b3de6c9,
  @EntityID = @EntityID_8b3de6c9,
  @RecordID = @RecordID_8b3de6c9,
  @OrderBy = @OrderBy_8b3de6c9,
  @TemplateContentID = @TemplateContentID_8b3de6c9;

-- Save Template Params (core SP call only)
DECLARE @ID_0a6d491c UNIQUEIDENTIFIER,
@TemplateID_0a6d491c UNIQUEIDENTIFIER,
@Name_0a6d491c NVARCHAR(255),
@Description_0a6d491c NVARCHAR(MAX),
@Type_0a6d491c NVARCHAR(20),
@DefaultValue_0a6d491c NVARCHAR(MAX),
@IsRequired_0a6d491c BIT,
@LinkedParameterName_0a6d491c NVARCHAR(255),
@LinkedParameterField_0a6d491c NVARCHAR(500),
@ExtraFilter_0a6d491c NVARCHAR(MAX),
@EntityID_0a6d491c UNIQUEIDENTIFIER,
@RecordID_0a6d491c NVARCHAR(2000),
@OrderBy_0a6d491c NVARCHAR(MAX),
@TemplateContentID_0a6d491c UNIQUEIDENTIFIER
SET
  @ID_0a6d491c = '02661cdf-4da0-40fc-acba-f0827fdc66fb'
SET
  @TemplateID_0a6d491c = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_0a6d491c = N'Summary of iteration activities'
SET
  @Description_0a6d491c = N'Summary of activities performed in an iteration'
SET
  @Type_0a6d491c = N'Scalar'
SET
  @IsRequired_0a6d491c = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_0a6d491c,
  @TemplateID = @TemplateID_0a6d491c,
  @Name = @Name_0a6d491c,
  @Description = @Description_0a6d491c,
  @Type = @Type_0a6d491c,
  @DefaultValue = @DefaultValue_0a6d491c,
  @IsRequired = @IsRequired_0a6d491c,
  @LinkedParameterName = @LinkedParameterName_0a6d491c,
  @LinkedParameterField = @LinkedParameterField_0a6d491c,
  @ExtraFilter = @ExtraFilter_0a6d491c,
  @EntityID = @EntityID_0a6d491c,
  @RecordID = @RecordID_0a6d491c,
  @OrderBy = @OrderBy_0a6d491c,
  @TemplateContentID = @TemplateContentID_0a6d491c;

-- Save Template Params (core SP call only)
DECLARE @ID_738428a1 UNIQUEIDENTIFIER,
@TemplateID_738428a1 UNIQUEIDENTIFIER,
@Name_738428a1 NVARCHAR(255),
@Description_738428a1 NVARCHAR(MAX),
@Type_738428a1 NVARCHAR(20),
@DefaultValue_738428a1 NVARCHAR(MAX),
@IsRequired_738428a1 BIT,
@LinkedParameterName_738428a1 NVARCHAR(255),
@LinkedParameterField_738428a1 NVARCHAR(500),
@ExtraFilter_738428a1 NVARCHAR(MAX),
@EntityID_738428a1 UNIQUEIDENTIFIER,
@RecordID_738428a1 NVARCHAR(2000),
@OrderBy_738428a1 NVARCHAR(MAX),
@TemplateContentID_738428a1 UNIQUEIDENTIFIER
SET
  @ID_738428a1 = 'ee3ec8b2-7599-4eb4-8ca5-cad6d013fb0c'
SET
  @TemplateID_738428a1 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_738428a1 = N'time'
SET
  @Description_738428a1 = N'Duration of an iteration'
SET
  @Type_738428a1 = N'Scalar'
SET
  @IsRequired_738428a1 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_738428a1,
  @TemplateID = @TemplateID_738428a1,
  @Name = @Name_738428a1,
  @Description = @Description_738428a1,
  @Type = @Type_738428a1,
  @DefaultValue = @DefaultValue_738428a1,
  @IsRequired = @IsRequired_738428a1,
  @LinkedParameterName = @LinkedParameterName_738428a1,
  @LinkedParameterField = @LinkedParameterField_738428a1,
  @ExtraFilter = @ExtraFilter_738428a1,
  @EntityID = @EntityID_738428a1,
  @RecordID = @RecordID_738428a1,
  @OrderBy = @OrderBy_738428a1,
  @TemplateContentID = @TemplateContentID_738428a1;

-- Save Template Params (core SP call only)
DECLARE @ID_9794581b UNIQUEIDENTIFIER,
@TemplateID_9794581b UNIQUEIDENTIFIER,
@Name_9794581b NVARCHAR(255),
@Description_9794581b NVARCHAR(MAX),
@Type_9794581b NVARCHAR(20),
@DefaultValue_9794581b NVARCHAR(MAX),
@IsRequired_9794581b BIT,
@LinkedParameterName_9794581b NVARCHAR(255),
@LinkedParameterField_9794581b NVARCHAR(500),
@ExtraFilter_9794581b NVARCHAR(MAX),
@EntityID_9794581b UNIQUEIDENTIFIER,
@RecordID_9794581b NVARCHAR(2000),
@OrderBy_9794581b NVARCHAR(MAX),
@TemplateContentID_9794581b UNIQUEIDENTIFIER
SET
  @ID_9794581b = '2ee5151d-6669-4e71-92ab-538eb387bcf0'
SET
  @TemplateID_9794581b = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_9794581b = N'Limitation 1 with explanation'
SET
  @Description_9794581b = N'First limitation of the research'
SET
  @Type_9794581b = N'Scalar'
SET
  @IsRequired_9794581b = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_9794581b,
  @TemplateID = @TemplateID_9794581b,
  @Name = @Name_9794581b,
  @Description = @Description_9794581b,
  @Type = @Type_9794581b,
  @DefaultValue = @DefaultValue_9794581b,
  @IsRequired = @IsRequired_9794581b,
  @LinkedParameterName = @LinkedParameterName_9794581b,
  @LinkedParameterField = @LinkedParameterField_9794581b,
  @ExtraFilter = @ExtraFilter_9794581b,
  @EntityID = @EntityID_9794581b,
  @RecordID = @RecordID_9794581b,
  @OrderBy = @OrderBy_9794581b,
  @TemplateContentID = @TemplateContentID_9794581b;

-- Delete Template Params (core SP call only)
EXEC [${flyway:defaultSchema}].[spDeleteTemplateParam] @ID = 'F005583B-6A12-417D-84A0-634D095BC4BB';

-- Delete Template Params (core SP call only)
EXEC [${flyway:defaultSchema}].[spDeleteTemplateParam] @ID = '7D4B0625-7015-470D-BBA4-7DBD6CB0EE08';

-- Delete Template Params (core SP call only)
EXEC [${flyway:defaultSchema}].[spDeleteTemplateParam] @ID = 'C8C1999B-025F-4C98-9E37-8A709292BFB3';

-- Save Template Params (core SP call only)
DECLARE @ID_57e1cae0 UNIQUEIDENTIFIER,
@TemplateID_57e1cae0 UNIQUEIDENTIFIER,
@Name_57e1cae0 NVARCHAR(255),
@Description_57e1cae0 NVARCHAR(MAX),
@Type_57e1cae0 NVARCHAR(20),
@DefaultValue_57e1cae0 NVARCHAR(MAX),
@IsRequired_57e1cae0 BIT,
@LinkedParameterName_57e1cae0 NVARCHAR(255),
@LinkedParameterField_57e1cae0 NVARCHAR(500),
@ExtraFilter_57e1cae0 NVARCHAR(MAX),
@EntityID_57e1cae0 UNIQUEIDENTIFIER,
@RecordID_57e1cae0 NVARCHAR(2000),
@OrderBy_57e1cae0 NVARCHAR(MAX),
@TemplateContentID_57e1cae0 UNIQUEIDENTIFIER
SET
  @ID_57e1cae0 = '631036c8-d04a-4455-b84f-67531da3c3f1'
SET
  @TemplateID_57e1cae0 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_57e1cae0 = N'Limitation 2 with explanation'
SET
  @Description_57e1cae0 = N'Second limitation of the research'
SET
  @Type_57e1cae0 = N'Scalar'
SET
  @IsRequired_57e1cae0 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_57e1cae0,
  @TemplateID = @TemplateID_57e1cae0,
  @Name = @Name_57e1cae0,
  @Description = @Description_57e1cae0,
  @Type = @Type_57e1cae0,
  @DefaultValue = @DefaultValue_57e1cae0,
  @IsRequired = @IsRequired_57e1cae0,
  @LinkedParameterName = @LinkedParameterName_57e1cae0,
  @LinkedParameterField = @LinkedParameterField_57e1cae0,
  @ExtraFilter = @ExtraFilter_57e1cae0,
  @EntityID = @EntityID_57e1cae0,
  @RecordID = @RecordID_57e1cae0,
  @OrderBy = @OrderBy_57e1cae0,
  @TemplateContentID = @TemplateContentID_57e1cae0;

-- Save Template Params (core SP call only)
DECLARE @ID_04739d02 UNIQUEIDENTIFIER,
@TemplateID_04739d02 UNIQUEIDENTIFIER,
@Name_04739d02 NVARCHAR(255),
@Description_04739d02 NVARCHAR(MAX),
@Type_04739d02 NVARCHAR(20),
@DefaultValue_04739d02 NVARCHAR(MAX),
@IsRequired_04739d02 BIT,
@LinkedParameterName_04739d02 NVARCHAR(255),
@LinkedParameterField_04739d02 NVARCHAR(500),
@ExtraFilter_04739d02 NVARCHAR(MAX),
@EntityID_04739d02 UNIQUEIDENTIFIER,
@RecordID_04739d02 NVARCHAR(2000),
@OrderBy_04739d02 NVARCHAR(MAX),
@TemplateContentID_04739d02 UNIQUEIDENTIFIER
SET
  @ID_04739d02 = '80c7adf0-bae7-40fc-8331-9832c12bc752'
SET
  @TemplateID_04739d02 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_04739d02 = N'Recommendation 1'
SET
  @Description_04739d02 = N'First recommendation based on findings'
SET
  @Type_04739d02 = N'Scalar'
SET
  @IsRequired_04739d02 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_04739d02,
  @TemplateID = @TemplateID_04739d02,
  @Name = @Name_04739d02,
  @Description = @Description_04739d02,
  @Type = @Type_04739d02,
  @DefaultValue = @DefaultValue_04739d02,
  @IsRequired = @IsRequired_04739d02,
  @LinkedParameterName = @LinkedParameterName_04739d02,
  @LinkedParameterField = @LinkedParameterField_04739d02,
  @ExtraFilter = @ExtraFilter_04739d02,
  @EntityID = @EntityID_04739d02,
  @RecordID = @RecordID_04739d02,
  @OrderBy = @OrderBy_04739d02,
  @TemplateContentID = @TemplateContentID_04739d02;

-- Save Template Params (core SP call only)
DECLARE @ID_5bbd57e1 UNIQUEIDENTIFIER,
@TemplateID_5bbd57e1 UNIQUEIDENTIFIER,
@Name_5bbd57e1 NVARCHAR(255),
@Description_5bbd57e1 NVARCHAR(MAX),
@Type_5bbd57e1 NVARCHAR(20),
@DefaultValue_5bbd57e1 NVARCHAR(MAX),
@IsRequired_5bbd57e1 BIT,
@LinkedParameterName_5bbd57e1 NVARCHAR(255),
@LinkedParameterField_5bbd57e1 NVARCHAR(500),
@ExtraFilter_5bbd57e1 NVARCHAR(MAX),
@EntityID_5bbd57e1 UNIQUEIDENTIFIER,
@RecordID_5bbd57e1 NVARCHAR(2000),
@OrderBy_5bbd57e1 NVARCHAR(MAX),
@TemplateContentID_5bbd57e1 UNIQUEIDENTIFIER
SET
  @ID_5bbd57e1 = '148833fa-2cb6-45da-9d3e-66d092f22251'
SET
  @TemplateID_5bbd57e1 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_5bbd57e1 = N'Recommendation 2'
SET
  @Description_5bbd57e1 = N'Second recommendation based on findings'
SET
  @Type_5bbd57e1 = N'Scalar'
SET
  @IsRequired_5bbd57e1 = 0
EXEC [${flyway:defaultSchema}].spCreateTemplateParam @ID = @ID_5bbd57e1,
  @TemplateID = @TemplateID_5bbd57e1,
  @Name = @Name_5bbd57e1,
  @Description = @Description_5bbd57e1,
  @Type = @Type_5bbd57e1,
  @DefaultValue = @DefaultValue_5bbd57e1,
  @IsRequired = @IsRequired_5bbd57e1,
  @LinkedParameterName = @LinkedParameterName_5bbd57e1,
  @LinkedParameterField = @LinkedParameterField_5bbd57e1,
  @ExtraFilter = @ExtraFilter_5bbd57e1,
  @EntityID = @EntityID_5bbd57e1,
  @RecordID = @RecordID_5bbd57e1,
  @OrderBy = @OrderBy_5bbd57e1,
  @TemplateContentID = @TemplateContentID_5bbd57e1;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_967fe046 UNIQUEIDENTIFIER,
@Name_967fe046 NVARCHAR(255),
@Description_967fe046 NVARCHAR(MAX),
@Type_967fe046 NVARCHAR(20),
@DefaultValue_967fe046 NVARCHAR(MAX),
@IsRequired_967fe046 BIT,
@LinkedParameterName_967fe046 NVARCHAR(255),
@LinkedParameterField_967fe046 NVARCHAR(500),
@ExtraFilter_967fe046 NVARCHAR(MAX),
@EntityID_967fe046 UNIQUEIDENTIFIER,
@RecordID_967fe046 NVARCHAR(2000),
@OrderBy_967fe046 NVARCHAR(MAX),
@TemplateContentID_967fe046 UNIQUEIDENTIFIER,
@ID_967fe046 UNIQUEIDENTIFIER
SET
  @TemplateID_967fe046 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_967fe046 = N'url'
SET
  @Description_967fe046 = N'URL of a source'
SET
  @Type_967fe046 = N'Scalar'
SET
  @IsRequired_967fe046 = 0
SET
  @ID_967fe046 = '93690060-C117-416C-9410-29D39B3B4318'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_967fe046,
  @Name = @Name_967fe046,
  @Description = @Description_967fe046,
  @Type = @Type_967fe046,
  @DefaultValue = @DefaultValue_967fe046,
  @IsRequired = @IsRequired_967fe046,
  @LinkedParameterName = @LinkedParameterName_967fe046,
  @LinkedParameterField = @LinkedParameterField_967fe046,
  @ExtraFilter = @ExtraFilter_967fe046,
  @EntityID = @EntityID_967fe046,
  @RecordID = @RecordID_967fe046,
  @OrderBy = @OrderBy_967fe046,
  @TemplateContentID = @TemplateContentID_967fe046,
  @ID = @ID_967fe046;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_316b7cac UNIQUEIDENTIFIER,
@Name_316b7cac NVARCHAR(255),
@Description_316b7cac NVARCHAR(MAX),
@Type_316b7cac NVARCHAR(20),
@DefaultValue_316b7cac NVARCHAR(MAX),
@IsRequired_316b7cac BIT,
@LinkedParameterName_316b7cac NVARCHAR(255),
@LinkedParameterField_316b7cac NVARCHAR(500),
@ExtraFilter_316b7cac NVARCHAR(MAX),
@EntityID_316b7cac UNIQUEIDENTIFIER,
@RecordID_316b7cac NVARCHAR(2000),
@OrderBy_316b7cac NVARCHAR(MAX),
@TemplateContentID_316b7cac UNIQUEIDENTIFIER,
@ID_316b7cac UNIQUEIDENTIFIER
SET
  @TemplateID_316b7cac = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_316b7cac = N'overall confidence'
SET
  @Description_316b7cac = N'Overall confidence level of the research'
SET
  @Type_316b7cac = N'Scalar'
SET
  @IsRequired_316b7cac = 0
SET
  @ID_316b7cac = '5DF8152F-17CB-420A-AFAB-44CCAB553DEB'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_316b7cac,
  @Name = @Name_316b7cac,
  @Description = @Description_316b7cac,
  @Type = @Type_316b7cac,
  @DefaultValue = @DefaultValue_316b7cac,
  @IsRequired = @IsRequired_316b7cac,
  @LinkedParameterName = @LinkedParameterName_316b7cac,
  @LinkedParameterField = @LinkedParameterField_316b7cac,
  @ExtraFilter = @ExtraFilter_316b7cac,
  @EntityID = @EntityID_316b7cac,
  @RecordID = @RecordID_316b7cac,
  @OrderBy = @OrderBy_316b7cac,
  @TemplateContentID = @TemplateContentID_316b7cac,
  @ID = @ID_316b7cac;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_75bc3add UNIQUEIDENTIFIER,
@Name_75bc3add NVARCHAR(255),
@Description_75bc3add NVARCHAR(MAX),
@Type_75bc3add NVARCHAR(20),
@DefaultValue_75bc3add NVARCHAR(MAX),
@IsRequired_75bc3add BIT,
@LinkedParameterName_75bc3add NVARCHAR(255),
@LinkedParameterField_75bc3add NVARCHAR(500),
@ExtraFilter_75bc3add NVARCHAR(MAX),
@EntityID_75bc3add UNIQUEIDENTIFIER,
@RecordID_75bc3add NVARCHAR(2000),
@OrderBy_75bc3add NVARCHAR(MAX),
@TemplateContentID_75bc3add UNIQUEIDENTIFIER,
@ID_75bc3add UNIQUEIDENTIFIER
SET
  @TemplateID_75bc3add = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_75bc3add = N'count'
SET
  @Description_75bc3add = N'Count of supporting sources for a finding'
SET
  @Type_75bc3add = N'Scalar'
SET
  @IsRequired_75bc3add = 0
SET
  @ID_75bc3add = '3893C495-2153-47AE-8152-78039882DF7E'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_75bc3add,
  @Name = @Name_75bc3add,
  @Description = @Description_75bc3add,
  @Type = @Type_75bc3add,
  @DefaultValue = @DefaultValue_75bc3add,
  @IsRequired = @IsRequired_75bc3add,
  @LinkedParameterName = @LinkedParameterName_75bc3add,
  @LinkedParameterField = @LinkedParameterField_75bc3add,
  @ExtraFilter = @ExtraFilter_75bc3add,
  @EntityID = @EntityID_75bc3add,
  @RecordID = @RecordID_75bc3add,
  @OrderBy = @OrderBy_75bc3add,
  @TemplateContentID = @TemplateContentID_75bc3add,
  @ID = @ID_75bc3add;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_1e14bd55 UNIQUEIDENTIFIER,
@Name_1e14bd55 NVARCHAR(255),
@Description_1e14bd55 NVARCHAR(MAX),
@Type_1e14bd55 NVARCHAR(20),
@DefaultValue_1e14bd55 NVARCHAR(MAX),
@IsRequired_1e14bd55 BIT,
@LinkedParameterName_1e14bd55 NVARCHAR(255),
@LinkedParameterField_1e14bd55 NVARCHAR(500),
@ExtraFilter_1e14bd55 NVARCHAR(MAX),
@EntityID_1e14bd55 UNIQUEIDENTIFIER,
@RecordID_1e14bd55 NVARCHAR(2000),
@OrderBy_1e14bd55 NVARCHAR(MAX),
@TemplateContentID_1e14bd55 UNIQUEIDENTIFIER,
@ID_1e14bd55 UNIQUEIDENTIFIER
SET
  @TemplateID_1e14bd55 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_1e14bd55 = N'Label'
SET
  @Description_1e14bd55 = N'Label text for statistics display'
SET
  @Type_1e14bd55 = N'Scalar'
SET
  @IsRequired_1e14bd55 = 0
SET
  @ID_1e14bd55 = '248652CF-3246-424B-806D-8FE81723962B'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_1e14bd55,
  @Name = @Name_1e14bd55,
  @Description = @Description_1e14bd55,
  @Type = @Type_1e14bd55,
  @DefaultValue = @DefaultValue_1e14bd55,
  @IsRequired = @IsRequired_1e14bd55,
  @LinkedParameterName = @LinkedParameterName_1e14bd55,
  @LinkedParameterField = @LinkedParameterField_1e14bd55,
  @ExtraFilter = @ExtraFilter_1e14bd55,
  @EntityID = @EntityID_1e14bd55,
  @RecordID = @RecordID_1e14bd55,
  @OrderBy = @OrderBy_1e14bd55,
  @TemplateContentID = @TemplateContentID_1e14bd55,
  @ID = @ID_1e14bd55;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_4ae51a4a UNIQUEIDENTIFIER,
@Name_4ae51a4a NVARCHAR(255),
@Description_4ae51a4a NVARCHAR(MAX),
@Type_4ae51a4a NVARCHAR(20),
@DefaultValue_4ae51a4a NVARCHAR(MAX),
@IsRequired_4ae51a4a BIT,
@LinkedParameterName_4ae51a4a NVARCHAR(255),
@LinkedParameterField_4ae51a4a NVARCHAR(500),
@ExtraFilter_4ae51a4a NVARCHAR(MAX),
@EntityID_4ae51a4a UNIQUEIDENTIFIER,
@RecordID_4ae51a4a NVARCHAR(2000),
@OrderBy_4ae51a4a NVARCHAR(MAX),
@TemplateContentID_4ae51a4a UNIQUEIDENTIFIER,
@ID_4ae51a4a UNIQUEIDENTIFIER
SET
  @TemplateID_4ae51a4a = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_4ae51a4a = N'Date'
SET
  @Description_4ae51a4a = N'Current date for report timestamp'
SET
  @Type_4ae51a4a = N'Scalar'
SET
  @IsRequired_4ae51a4a = 0
SET
  @ID_4ae51a4a = 'A82D33A1-B056-45C9-A381-991202F5FC85'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_4ae51a4a,
  @Name = @Name_4ae51a4a,
  @Description = @Description_4ae51a4a,
  @Type = @Type_4ae51a4a,
  @DefaultValue = @DefaultValue_4ae51a4a,
  @IsRequired = @IsRequired_4ae51a4a,
  @LinkedParameterName = @LinkedParameterName_4ae51a4a,
  @LinkedParameterField = @LinkedParameterField_4ae51a4a,
  @ExtraFilter = @ExtraFilter_4ae51a4a,
  @EntityID = @EntityID_4ae51a4a,
  @RecordID = @RecordID_4ae51a4a,
  @OrderBy = @OrderBy_4ae51a4a,
  @TemplateContentID = @TemplateContentID_4ae51a4a,
  @ID = @ID_4ae51a4a;

-- Save Template Params (core SP call only)
DECLARE @TemplateID_b31621cc UNIQUEIDENTIFIER,
@Name_b31621cc NVARCHAR(255),
@Description_b31621cc NVARCHAR(MAX),
@Type_b31621cc NVARCHAR(20),
@DefaultValue_b31621cc NVARCHAR(MAX),
@IsRequired_b31621cc BIT,
@LinkedParameterName_b31621cc NVARCHAR(255),
@LinkedParameterField_b31621cc NVARCHAR(500),
@ExtraFilter_b31621cc NVARCHAR(MAX),
@EntityID_b31621cc UNIQUEIDENTIFIER,
@RecordID_b31621cc NVARCHAR(2000),
@OrderBy_b31621cc NVARCHAR(MAX),
@TemplateContentID_b31621cc UNIQUEIDENTIFIER,
@ID_b31621cc UNIQUEIDENTIFIER
SET
  @TemplateID_b31621cc = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @Name_b31621cc = N'synthesis'
SET
  @Description_b31621cc = N'Synthesized analysis results including executiveSummary, findings, contradictionsResolution, confidenceAssessment, keyTakeaways, limitations, and recommendations'
SET
  @Type_b31621cc = N'Object'
SET
  @IsRequired_b31621cc = 0
SET
  @ID_b31621cc = 'B14AD127-9F20-49A5-8F81-992DA5F5D107'
EXEC [${flyway:defaultSchema}].spUpdateTemplateParam @TemplateID = @TemplateID_b31621cc,
  @Name = @Name_b31621cc,
  @Description = @Description_b31621cc,
  @Type = @Type_b31621cc,
  @DefaultValue = @DefaultValue_b31621cc,
  @IsRequired = @IsRequired_b31621cc,
  @LinkedParameterName = @LinkedParameterName_b31621cc,
  @LinkedParameterField = @LinkedParameterField_b31621cc,
  @ExtraFilter = @ExtraFilter_b31621cc,
  @EntityID = @EntityID_b31621cc,
  @RecordID = @RecordID_b31621cc,
  @OrderBy = @OrderBy_b31621cc,
  @TemplateContentID = @TemplateContentID_b31621cc,
  @ID = @ID_b31621cc;

-- Save AI Prompts (core SP call only)
DECLARE @Name_b230c343 NVARCHAR(255),
@Description_b230c343 NVARCHAR(MAX),
@TemplateID_b230c343 UNIQUEIDENTIFIER,
@CategoryID_b230c343 UNIQUEIDENTIFIER,
@TypeID_b230c343 UNIQUEIDENTIFIER,
@Status_b230c343 NVARCHAR(50),
@ResponseFormat_b230c343 NVARCHAR(20),
@ModelSpecificResponseFormat_b230c343 NVARCHAR(MAX),
@AIModelTypeID_b230c343 UNIQUEIDENTIFIER,
@MinPowerRank_b230c343 INT,
@SelectionStrategy_b230c343 NVARCHAR(20),
@PowerPreference_b230c343 NVARCHAR(20),
@ParallelizationMode_b230c343 NVARCHAR(20),
@ParallelCount_b230c343 INT,
@ParallelConfigParam_b230c343 NVARCHAR(100),
@OutputType_b230c343 NVARCHAR(50),
@OutputExample_b230c343 NVARCHAR(MAX),
@ValidationBehavior_b230c343 NVARCHAR(50),
@MaxRetries_b230c343 INT,
@RetryDelayMS_b230c343 INT,
@RetryStrategy_b230c343 NVARCHAR(20),
@ResultSelectorPromptID_b230c343 UNIQUEIDENTIFIER,
@EnableCaching_b230c343 BIT,
@CacheTTLSeconds_b230c343 INT,
@CacheMatchType_b230c343 NVARCHAR(20),
@CacheSimilarityThreshold_b230c343 FLOAT(53),
@CacheMustMatchModel_b230c343 BIT,
@CacheMustMatchVendor_b230c343 BIT,
@CacheMustMatchAgent_b230c343 BIT,
@CacheMustMatchConfig_b230c343 BIT,
@PromptRole_b230c343 NVARCHAR(20),
@PromptPosition_b230c343 NVARCHAR(20),
@Temperature_b230c343 DECIMAL(3, 2),
@TopP_b230c343 DECIMAL(3, 2),
@TopK_b230c343 INT,
@MinP_b230c343 DECIMAL(3, 2),
@FrequencyPenalty_b230c343 DECIMAL(3, 2),
@PresencePenalty_b230c343 DECIMAL(3, 2),
@Seed_b230c343 INT,
@StopSequences_b230c343 NVARCHAR(1000),
@IncludeLogProbs_b230c343 BIT,
@TopLogProbs_b230c343 INT,
@FailoverStrategy_b230c343 NVARCHAR(50),
@FailoverMaxAttempts_b230c343 INT,
@FailoverDelaySeconds_b230c343 INT,
@FailoverModelStrategy_b230c343 NVARCHAR(50),
@FailoverErrorScope_b230c343 NVARCHAR(50),
@EffortLevel_b230c343 INT,
@ID_b230c343 UNIQUEIDENTIFIER
SET
  @Name_b230c343 = N'Research Report Writer Prompt'
SET
  @Description_b230c343 = N'Expert report writing and synthesis prompt for analyzing research findings and generating comprehensive reports with well-reasoned conclusions, confidence assessments, and proper citations.'
SET
  @TemplateID_b230c343 = '688752F1-1BF2-48E9-AA31-F2E910A6AA3E'
SET
  @CategoryID_b230c343 = '7D2DEF7F-138F-4620-8309-33964A97A997'
SET
  @TypeID_b230c343 = 'A6DA423E-F36B-1410-8DAC-00021F8B792E'
SET
  @Status_b230c343 = N'Active'
SET
  @ResponseFormat_b230c343 = N'Any'
SET
  @MinPowerRank_b230c343 = 0
SET
  @SelectionStrategy_b230c343 = N'Default'
SET
  @PowerPreference_b230c343 = N'Highest'
SET
  @ParallelizationMode_b230c343 = N'None'
SET
  @OutputType_b230c343 = N'string'
SET
  @ValidationBehavior_b230c343 = N'Warn'
SET
  @MaxRetries_b230c343 = 0
SET
  @RetryDelayMS_b230c343 = 0
SET
  @RetryStrategy_b230c343 = N'Fixed'
SET
  @EnableCaching_b230c343 = 0
SET
  @CacheMatchType_b230c343 = N'Exact'
SET
  @CacheMustMatchModel_b230c343 = 1
SET
  @CacheMustMatchVendor_b230c343 = 1
SET
  @CacheMustMatchAgent_b230c343 = 0
SET
  @CacheMustMatchConfig_b230c343 = 0
SET
  @PromptRole_b230c343 = N'System'
SET
  @PromptPosition_b230c343 = N'First'
SET
  @IncludeLogProbs_b230c343 = 0
SET
  @FailoverStrategy_b230c343 = N'SameModelDifferentVendor'
SET
  @FailoverMaxAttempts_b230c343 = 3
SET
  @FailoverDelaySeconds_b230c343 = 5
SET
  @FailoverModelStrategy_b230c343 = N'PreferSameModel'
SET
  @FailoverErrorScope_b230c343 = N'All'
SET
  @EffortLevel_b230c343 = 50
SET
  @ID_b230c343 = '114726B5-D18E-48E3-B32B-9203BEF52DA3'
EXEC [${flyway:defaultSchema}].spUpdateAIPrompt @Name = @Name_b230c343,
  @Description = @Description_b230c343,
  @TemplateID = @TemplateID_b230c343,
  @CategoryID = @CategoryID_b230c343,
  @TypeID = @TypeID_b230c343,
  @Status = @Status_b230c343,
  @ResponseFormat = @ResponseFormat_b230c343,
  @ModelSpecificResponseFormat = @ModelSpecificResponseFormat_b230c343,
  @AIModelTypeID = @AIModelTypeID_b230c343,
  @MinPowerRank = @MinPowerRank_b230c343,
  @SelectionStrategy = @SelectionStrategy_b230c343,
  @PowerPreference = @PowerPreference_b230c343,
  @ParallelizationMode = @ParallelizationMode_b230c343,
  @ParallelCount = @ParallelCount_b230c343,
  @ParallelConfigParam = @ParallelConfigParam_b230c343,
  @OutputType = @OutputType_b230c343,
  @OutputExample = @OutputExample_b230c343,
  @ValidationBehavior = @ValidationBehavior_b230c343,
  @MaxRetries = @MaxRetries_b230c343,
  @RetryDelayMS = @RetryDelayMS_b230c343,
  @RetryStrategy = @RetryStrategy_b230c343,
  @ResultSelectorPromptID = @ResultSelectorPromptID_b230c343,
  @EnableCaching = @EnableCaching_b230c343,
  @CacheTTLSeconds = @CacheTTLSeconds_b230c343,
  @CacheMatchType = @CacheMatchType_b230c343,
  @CacheSimilarityThreshold = @CacheSimilarityThreshold_b230c343,
  @CacheMustMatchModel = @CacheMustMatchModel_b230c343,
  @CacheMustMatchVendor = @CacheMustMatchVendor_b230c343,
  @CacheMustMatchAgent = @CacheMustMatchAgent_b230c343,
  @CacheMustMatchConfig = @CacheMustMatchConfig_b230c343,
  @PromptRole = @PromptRole_b230c343,
  @PromptPosition = @PromptPosition_b230c343,
  @Temperature = @Temperature_b230c343,
  @TopP = @TopP_b230c343,
  @TopK = @TopK_b230c343,
  @MinP = @MinP_b230c343,
  @FrequencyPenalty = @FrequencyPenalty_b230c343,
  @PresencePenalty = @PresencePenalty_b230c343,
  @Seed = @Seed_b230c343,
  @StopSequences = @StopSequences_b230c343,
  @IncludeLogProbs = @IncludeLogProbs_b230c343,
  @TopLogProbs = @TopLogProbs_b230c343,
  @FailoverStrategy = @FailoverStrategy_b230c343,
  @FailoverMaxAttempts = @FailoverMaxAttempts_b230c343,
  @FailoverDelaySeconds = @FailoverDelaySeconds_b230c343,
  @FailoverModelStrategy = @FailoverModelStrategy_b230c343,
  @FailoverErrorScope = @FailoverErrorScope_b230c343,
  @EffortLevel = @EffortLevel_b230c343,
  @ID = @ID_b230c343;

-- Save MJ: AI Agent Types (core SP call only)
DECLARE @Name_a44eeb13 NVARCHAR(100),
@Description_a44eeb13 NVARCHAR(MAX),
@SystemPromptID_a44eeb13 UNIQUEIDENTIFIER,
@IsActive_a44eeb13 BIT,
@AgentPromptPlaceholder_a44eeb13 NVARCHAR(255),
@DriverClass_a44eeb13 NVARCHAR(255),
@UIFormSectionKey_a44eeb13 NVARCHAR(500),
@UIFormKey_a44eeb13 NVARCHAR(500),
@UIFormSectionExpandedByDefault_a44eeb13 BIT,
@PromptParamsSchema_a44eeb13 NVARCHAR(MAX),
@ID_a44eeb13 UNIQUEIDENTIFIER
SET
  @Name_a44eeb13 = N'Loop'
SET
  @Description_a44eeb13 = N'Basic Agentic Loop Agent Type'
SET
  @SystemPromptID_a44eeb13 = 'FF7D441F-36E1-458A-B548-0FC2208923BE'
SET
  @IsActive_a44eeb13 = 1
SET
  @AgentPromptPlaceholder_a44eeb13 = N'agentSpecificPrompt'
SET
  @DriverClass_a44eeb13 = N'LoopAgentType'
SET
  @UIFormSectionExpandedByDefault_a44eeb13 = 0
SET
  @PromptParamsSchema_a44eeb13 = N'{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "description": "Prompt parameters for Loop Agent Type. Controls which sections are included in the system prompt to optimize token usage.",
  "properties": {
    "includeResponseTypeDefinition": {
      "type": "object",
      "description": "Control response type definition inclusion. Sections auto-align with their corresponding docs flags unless explicitly set.",
      "default": {
        "payload": true,
        "responseForms": true,
        "commands": true,
        "forEach": true,
        "while": true
      },
      "properties": {
        "payload": {
          "type": "boolean",
          "default": true,
          "description": "Include payloadChangeRequest type. Auto-aligns with includePayloadInPrompt."
        },
        "responseForms": {
          "type": "boolean",
          "default": true,
          "description": "Include responseForm type. Auto-aligns with includeResponseFormDocs."
        },
        "commands": {
          "type": "boolean",
          "default": true,
          "description": "Include actionableCommands/automaticCommands types. Auto-aligns with includeCommandDocs."
        },
        "forEach": {
          "type": "boolean",
          "default": true,
          "description": "Include ForEach in nextStep.type union. Auto-aligns with includeForEachDocs."
        },
        "while": {
          "type": "boolean",
          "default": true,
          "description": "Include While in nextStep.type union. Auto-aligns with includeWhileDocs."
        }
      }
    },
    "includeForEachDocs": {
      "type": "boolean",
      "default": true,
      "description": "Include ForEach operation documentation and examples. ForEach enables efficient batch processing of collections (e.g., processing all items in an array with a single LLM decision). Disable for agents that never need to iterate over collections."
    },
    "includeWhileDocs": {
      "type": "boolean",
      "default": true,
      "description": "Include While loop documentation and examples. While loops enable polling, retrying, and conditional iteration (e.g., waiting for a job to complete). Disable for agents that never need polling or conditional loops."
    },
    "includeResponseFormDocs": {
      "type": "boolean",
      "default": true,
      "description": "Include response form documentation for collecting structured user input. Response forms allow agents to request specific information from users via text fields, dropdowns, buttons, etc. Disable for agents that only output results and never need user input."
    },
    "includeCommandDocs": {
      "type": "boolean",
      "default": true,
      "description": "Include actionable and automatic commands documentation. Actionable commands create clickable buttons (e.g., ''Open Record''), automatic commands trigger UI updates (e.g., refresh cache, show notification). Disable for agents that don''t need to provide navigation or trigger UI actions."
    },
    "includeMessageExpansionDocs": {
      "type": "boolean",
      "default": true,
      "description": "Include message expansion documentation. Message expansion allows agents to request full content from previously compacted messages. Disable for agents that don''t use message compaction or don''t need to access compacted content."
    },
    "includeVariableRefsDocs": {
      "type": "boolean",
      "default": true,
      "description": "Include variable references documentation (payload.*, item.*, index, etc.). These explain how to reference data in action parameters and loop contexts. Disable if your agent''s custom examples already demonstrate variable usage patterns."
    },
    "includePayloadInPrompt": {
      "type": "boolean",
      "default": true,
      "description": "Include current payload state in the prompt. The payload is the agent''s working memory that persists across iterations. Disable for agents that don''t use the payload pattern or work purely from conversation context. Can save significant tokens for agents with large payloads."
    },
    "maxSubAgentsInPrompt": {
      "type": "integer",
      "default": -1,
      "description": "Maximum number of sub-agents to include in the prompt''s capabilities section. Use -1 to include all available sub-agents, 0 to hide sub-agent capabilities entirely, or a positive number to limit to the first N sub-agents. Useful for agents with many sub-agents where only a few are commonly used."
    },
    "maxActionsInPrompt": {
      "type": "integer",
      "default": -1,
      "description": "Maximum number of actions to include in the prompt''s capabilities section. Use -1 to include all available actions, 0 to hide action capabilities entirely, or a positive number to limit to the first N actions. Useful for agents with many actions where only a few are commonly used."
    }
  }
}'
SET
  @ID_a44eeb13 = 'F7926101-5099-4FA5-836A-479D9707C818'
EXEC [${flyway:defaultSchema}].spUpdateAIAgentType @Name = @Name_a44eeb13,
  @Description = @Description_a44eeb13,
  @SystemPromptID = @SystemPromptID_a44eeb13,
  @IsActive = @IsActive_a44eeb13,
  @AgentPromptPlaceholder = @AgentPromptPlaceholder_a44eeb13,
  @DriverClass = @DriverClass_a44eeb13,
  @UIFormSectionKey = @UIFormSectionKey_a44eeb13,
  @UIFormKey = @UIFormKey_a44eeb13,
  @UIFormSectionExpandedByDefault = @UIFormSectionExpandedByDefault_a44eeb13,
  @PromptParamsSchema = @PromptParamsSchema_a44eeb13,
  @ID = @ID_a44eeb13;

-- Save AI Agents (core SP call only)
DECLARE @ID_c627f72d UNIQUEIDENTIFIER,
@Name_c627f72d NVARCHAR(255),
@Description_c627f72d NVARCHAR(MAX),
@LogoURL_c627f72d NVARCHAR(255),
@ParentID_c627f72d UNIQUEIDENTIFIER,
@ExposeAsAction_c627f72d BIT,
@ExecutionOrder_c627f72d INT,
@ExecutionMode_c627f72d NVARCHAR(20),
@EnableContextCompression_c627f72d BIT,
@ContextCompressionMessageThreshold_c627f72d INT,
@ContextCompressionPromptID_c627f72d UNIQUEIDENTIFIER,
@ContextCompressionMessageRetentionCount_c627f72d INT,
@TypeID_c627f72d UNIQUEIDENTIFIER,
@Status_c627f72d NVARCHAR(20),
@DriverClass_c627f72d NVARCHAR(255),
@IconClass_c627f72d NVARCHAR(100),
@ModelSelectionMode_c627f72d NVARCHAR(50),
@PayloadDownstreamPaths_c627f72d NVARCHAR(MAX),
@PayloadUpstreamPaths_c627f72d NVARCHAR(MAX),
@PayloadSelfReadPaths_c627f72d NVARCHAR(MAX),
@PayloadSelfWritePaths_c627f72d NVARCHAR(MAX),
@PayloadScope_c627f72d NVARCHAR(MAX),
@FinalPayloadValidation_c627f72d NVARCHAR(MAX),
@FinalPayloadValidationMode_c627f72d NVARCHAR(25),
@FinalPayloadValidationMaxRetries_c627f72d INT,
@MaxCostPerRun_c627f72d DECIMAL(10, 4),
@MaxTokensPerRun_c627f72d INT,
@MaxIterationsPerRun_c627f72d INT,
@MaxTimePerRun_c627f72d INT,
@MinExecutionsPerRun_c627f72d INT,
@MaxExecutionsPerRun_c627f72d INT,
@StartingPayloadValidation_c627f72d NVARCHAR(MAX),
@StartingPayloadValidationMode_c627f72d NVARCHAR(25),
@DefaultPromptEffortLevel_c627f72d INT,
@ChatHandlingOption_c627f72d NVARCHAR(30),
@DefaultArtifactTypeID_c627f72d UNIQUEIDENTIFIER,
@OwnerUserID_c627f72d UNIQUEIDENTIFIER,
@InvocationMode_c627f72d NVARCHAR(20),
@ArtifactCreationMode_c627f72d NVARCHAR(20),
@FunctionalRequirements_c627f72d NVARCHAR(MAX),
@TechnicalDesign_c627f72d NVARCHAR(MAX),
@InjectNotes_c627f72d BIT,
@MaxNotesToInject_c627f72d INT,
@NoteInjectionStrategy_c627f72d NVARCHAR(20),
@InjectExamples_c627f72d BIT,
@MaxExamplesToInject_c627f72d INT,
@ExampleInjectionStrategy_c627f72d NVARCHAR(20),
@IsRestricted_c627f72d BIT,
@MessageMode_c627f72d NVARCHAR(50),
@MaxMessages_c627f72d INT,
@AttachmentStorageProviderID_c627f72d UNIQUEIDENTIFIER,
@AttachmentRootPath_c627f72d NVARCHAR(500),
@InlineStorageThresholdBytes_c627f72d INT,
@AgentTypePromptParams_c627f72d NVARCHAR(MAX)
SET
  @ID_c627f72d = '2E081955-B2FD-4E13-81DF-5DC7C59126BE'
SET
  @Name_c627f72d = N'Demo Minimal Loop Agent'
SET
  @Description_c627f72d = N'Minimal prompt demo agent to showcase AgentTypePromptParams. Same capabilities as Demo Loop Agent but with most optional prompt sections disabled to demonstrate token savings.'
SET
  @ExposeAsAction_c627f72d = 1
SET
  @ExecutionOrder_c627f72d = 0
SET
  @ExecutionMode_c627f72d = N'Sequential'
SET
  @EnableContextCompression_c627f72d = 0
SET
  @TypeID_c627f72d = 'F7926101-5099-4FA5-836A-479D9707C818'
SET
  @Status_c627f72d = N'Active'
SET
  @IconClass_c627f72d = N'fa-solid fa-compress'
SET
  @ModelSelectionMode_c627f72d = N'Agent Type'
SET
  @PayloadDownstreamPaths_c627f72d = N'["*"]'
SET
  @PayloadUpstreamPaths_c627f72d = N'["*"]'
SET
  @FinalPayloadValidationMode_c627f72d = N'Retry'
SET
  @FinalPayloadValidationMaxRetries_c627f72d = 3
SET
  @StartingPayloadValidationMode_c627f72d = N'Fail'
SET
  @InvocationMode_c627f72d = N'Any'
SET
  @ArtifactCreationMode_c627f72d = N'Always'
SET
  @InjectNotes_c627f72d = 1
SET
  @MaxNotesToInject_c627f72d = 5
SET
  @NoteInjectionStrategy_c627f72d = N'Relevant'
SET
  @InjectExamples_c627f72d = 0
SET
  @MaxExamplesToInject_c627f72d = 3
SET
  @ExampleInjectionStrategy_c627f72d = N'Semantic'
SET
  @IsRestricted_c627f72d = 0
SET
  @MessageMode_c627f72d = N'None'
SET
  @AgentTypePromptParams_c627f72d = N'{
  "includeResponseTypeDefinition": {
    "payload": true,
    "responseForms": false,
    "commands": false,
    "forEach": false,
    "while": false
  },
  "includeForEachDocs": false,
  "includeWhileDocs": false,
  "includeResponseFormDocs": false,
  "includeCommandDocs": false,
  "includeMessageExpansionDocs": false,
  "includeVariableRefsDocs": false,
  "includePayloadInPrompt": true
}'
EXEC [${flyway:defaultSchema}].spCreateAIAgent @ID = @ID_c627f72d,
  @Name = @Name_c627f72d,
  @Description = @Description_c627f72d,
  @LogoURL = @LogoURL_c627f72d,
  @ParentID = @ParentID_c627f72d,
  @ExposeAsAction = @ExposeAsAction_c627f72d,
  @ExecutionOrder = @ExecutionOrder_c627f72d,
  @ExecutionMode = @ExecutionMode_c627f72d,
  @EnableContextCompression = @EnableContextCompression_c627f72d,
  @ContextCompressionMessageThreshold = @ContextCompressionMessageThreshold_c627f72d,
  @ContextCompressionPromptID = @ContextCompressionPromptID_c627f72d,
  @ContextCompressionMessageRetentionCount = @ContextCompressionMessageRetentionCount_c627f72d,
  @TypeID = @TypeID_c627f72d,
  @Status = @Status_c627f72d,
  @DriverClass = @DriverClass_c627f72d,
  @IconClass = @IconClass_c627f72d,
  @ModelSelectionMode = @ModelSelectionMode_c627f72d,
  @PayloadDownstreamPaths = @PayloadDownstreamPaths_c627f72d,
  @PayloadUpstreamPaths = @PayloadUpstreamPaths_c627f72d,
  @PayloadSelfReadPaths = @PayloadSelfReadPaths_c627f72d,
  @PayloadSelfWritePaths = @PayloadSelfWritePaths_c627f72d,
  @PayloadScope = @PayloadScope_c627f72d,
  @FinalPayloadValidation = @FinalPayloadValidation_c627f72d,
  @FinalPayloadValidationMode = @FinalPayloadValidationMode_c627f72d,
  @FinalPayloadValidationMaxRetries = @FinalPayloadValidationMaxRetries_c627f72d,
  @MaxCostPerRun = @MaxCostPerRun_c627f72d,
  @MaxTokensPerRun = @MaxTokensPerRun_c627f72d,
  @MaxIterationsPerRun = @MaxIterationsPerRun_c627f72d,
  @MaxTimePerRun = @MaxTimePerRun_c627f72d,
  @MinExecutionsPerRun = @MinExecutionsPerRun_c627f72d,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_c627f72d,
  @StartingPayloadValidation = @StartingPayloadValidation_c627f72d,
  @StartingPayloadValidationMode = @StartingPayloadValidationMode_c627f72d,
  @DefaultPromptEffortLevel = @DefaultPromptEffortLevel_c627f72d,
  @ChatHandlingOption = @ChatHandlingOption_c627f72d,
  @DefaultArtifactTypeID = @DefaultArtifactTypeID_c627f72d,
  @OwnerUserID = @OwnerUserID_c627f72d,
  @InvocationMode = @InvocationMode_c627f72d,
  @ArtifactCreationMode = @ArtifactCreationMode_c627f72d,
  @FunctionalRequirements = @FunctionalRequirements_c627f72d,
  @TechnicalDesign = @TechnicalDesign_c627f72d,
  @InjectNotes = @InjectNotes_c627f72d,
  @MaxNotesToInject = @MaxNotesToInject_c627f72d,
  @NoteInjectionStrategy = @NoteInjectionStrategy_c627f72d,
  @InjectExamples = @InjectExamples_c627f72d,
  @MaxExamplesToInject = @MaxExamplesToInject_c627f72d,
  @ExampleInjectionStrategy = @ExampleInjectionStrategy_c627f72d,
  @IsRestricted = @IsRestricted_c627f72d,
  @MessageMode = @MessageMode_c627f72d,
  @MaxMessages = @MaxMessages_c627f72d,
  @AttachmentStorageProviderID = @AttachmentStorageProviderID_c627f72d,
  @AttachmentRootPath = @AttachmentRootPath_c627f72d,
  @InlineStorageThresholdBytes = @InlineStorageThresholdBytes_c627f72d,
  @AgentTypePromptParams = @AgentTypePromptParams_c627f72d;

-- Save AI Agents (core SP call only)
DECLARE @Name_09fc3a69 NVARCHAR(255),
@Description_09fc3a69 NVARCHAR(MAX),
@LogoURL_09fc3a69 NVARCHAR(255),
@ParentID_09fc3a69 UNIQUEIDENTIFIER,
@ExposeAsAction_09fc3a69 BIT,
@ExecutionOrder_09fc3a69 INT,
@ExecutionMode_09fc3a69 NVARCHAR(20),
@EnableContextCompression_09fc3a69 BIT,
@ContextCompressionMessageThreshold_09fc3a69 INT,
@ContextCompressionPromptID_09fc3a69 UNIQUEIDENTIFIER,
@ContextCompressionMessageRetentionCount_09fc3a69 INT,
@TypeID_09fc3a69 UNIQUEIDENTIFIER,
@Status_09fc3a69 NVARCHAR(20),
@DriverClass_09fc3a69 NVARCHAR(255),
@IconClass_09fc3a69 NVARCHAR(100),
@ModelSelectionMode_09fc3a69 NVARCHAR(50),
@PayloadDownstreamPaths_09fc3a69 NVARCHAR(MAX),
@PayloadUpstreamPaths_09fc3a69 NVARCHAR(MAX),
@PayloadSelfReadPaths_09fc3a69 NVARCHAR(MAX),
@PayloadSelfWritePaths_09fc3a69 NVARCHAR(MAX),
@PayloadScope_09fc3a69 NVARCHAR(MAX),
@FinalPayloadValidation_09fc3a69 NVARCHAR(MAX),
@FinalPayloadValidationMode_09fc3a69 NVARCHAR(25),
@FinalPayloadValidationMaxRetries_09fc3a69 INT,
@MaxCostPerRun_09fc3a69 DECIMAL(10, 4),
@MaxTokensPerRun_09fc3a69 INT,
@MaxIterationsPerRun_09fc3a69 INT,
@MaxTimePerRun_09fc3a69 INT,
@MinExecutionsPerRun_09fc3a69 INT,
@MaxExecutionsPerRun_09fc3a69 INT,
@StartingPayloadValidation_09fc3a69 NVARCHAR(MAX),
@StartingPayloadValidationMode_09fc3a69 NVARCHAR(25),
@DefaultPromptEffortLevel_09fc3a69 INT,
@ChatHandlingOption_09fc3a69 NVARCHAR(30),
@DefaultArtifactTypeID_09fc3a69 UNIQUEIDENTIFIER,
@OwnerUserID_09fc3a69 UNIQUEIDENTIFIER,
@InvocationMode_09fc3a69 NVARCHAR(20),
@ArtifactCreationMode_09fc3a69 NVARCHAR(20),
@FunctionalRequirements_09fc3a69 NVARCHAR(MAX),
@TechnicalDesign_09fc3a69 NVARCHAR(MAX),
@InjectNotes_09fc3a69 BIT,
@MaxNotesToInject_09fc3a69 INT,
@NoteInjectionStrategy_09fc3a69 NVARCHAR(20),
@InjectExamples_09fc3a69 BIT,
@MaxExamplesToInject_09fc3a69 INT,
@ExampleInjectionStrategy_09fc3a69 NVARCHAR(20),
@IsRestricted_09fc3a69 BIT,
@MessageMode_09fc3a69 NVARCHAR(50),
@MaxMessages_09fc3a69 INT,
@AttachmentStorageProviderID_09fc3a69 UNIQUEIDENTIFIER,
@AttachmentRootPath_09fc3a69 NVARCHAR(500),
@InlineStorageThresholdBytes_09fc3a69 INT,
@AgentTypePromptParams_09fc3a69 NVARCHAR(MAX),
@ID_09fc3a69 UNIQUEIDENTIFIER
SET
  @Name_09fc3a69 = N'Demo Loop Agent'
SET
  @Description_09fc3a69 = N'Simple demo agent showcasing loop agent capabilities. Can perform web searches, retrieve stock prices, get weather forecasts, look up census data, and fetch web page content. The AI dynamically determines the pathway and can execute multiple actions in parallel with no predetermined sequence.'
SET
  @ExposeAsAction_09fc3a69 = 1
SET
  @ExecutionOrder_09fc3a69 = 0
SET
  @ExecutionMode_09fc3a69 = N'Sequential'
SET
  @EnableContextCompression_09fc3a69 = 0
SET
  @TypeID_09fc3a69 = 'F7926101-5099-4FA5-836A-479D9707C818'
SET
  @Status_09fc3a69 = N'Active'
SET
  @IconClass_09fc3a69 = N'fa-solid fa-infinity'
SET
  @ModelSelectionMode_09fc3a69 = N'Agent Type'
SET
  @PayloadDownstreamPaths_09fc3a69 = N'["*"]'
SET
  @PayloadUpstreamPaths_09fc3a69 = N'["*"]'
SET
  @FinalPayloadValidationMode_09fc3a69 = N'Retry'
SET
  @FinalPayloadValidationMaxRetries_09fc3a69 = 3
SET
  @StartingPayloadValidationMode_09fc3a69 = N'Fail'
SET
  @OwnerUserID_09fc3a69 = 'ECAFCCEC-6A37-EF11-86D4-000D3A4E707E'
SET
  @InvocationMode_09fc3a69 = N'Any'
SET
  @ArtifactCreationMode_09fc3a69 = N'Always'
SET
  @InjectNotes_09fc3a69 = 1
SET
  @MaxNotesToInject_09fc3a69 = 5
SET
  @NoteInjectionStrategy_09fc3a69 = N'Relevant'
SET
  @InjectExamples_09fc3a69 = 0
SET
  @MaxExamplesToInject_09fc3a69 = 3
SET
  @ExampleInjectionStrategy_09fc3a69 = N'Semantic'
SET
  @IsRestricted_09fc3a69 = 0
SET
  @MessageMode_09fc3a69 = N'None'
SET
  @AgentTypePromptParams_09fc3a69 = N'{}'
SET
  @ID_09fc3a69 = '55399C30-C59B-47D2-A856-640DA89C46E4'
EXEC [${flyway:defaultSchema}].spUpdateAIAgent @Name = @Name_09fc3a69,
  @Description = @Description_09fc3a69,
  @LogoURL = @LogoURL_09fc3a69,
  @ParentID = @ParentID_09fc3a69,
  @ExposeAsAction = @ExposeAsAction_09fc3a69,
  @ExecutionOrder = @ExecutionOrder_09fc3a69,
  @ExecutionMode = @ExecutionMode_09fc3a69,
  @EnableContextCompression = @EnableContextCompression_09fc3a69,
  @ContextCompressionMessageThreshold = @ContextCompressionMessageThreshold_09fc3a69,
  @ContextCompressionPromptID = @ContextCompressionPromptID_09fc3a69,
  @ContextCompressionMessageRetentionCount = @ContextCompressionMessageRetentionCount_09fc3a69,
  @TypeID = @TypeID_09fc3a69,
  @Status = @Status_09fc3a69,
  @DriverClass = @DriverClass_09fc3a69,
  @IconClass = @IconClass_09fc3a69,
  @ModelSelectionMode = @ModelSelectionMode_09fc3a69,
  @PayloadDownstreamPaths = @PayloadDownstreamPaths_09fc3a69,
  @PayloadUpstreamPaths = @PayloadUpstreamPaths_09fc3a69,
  @PayloadSelfReadPaths = @PayloadSelfReadPaths_09fc3a69,
  @PayloadSelfWritePaths = @PayloadSelfWritePaths_09fc3a69,
  @PayloadScope = @PayloadScope_09fc3a69,
  @FinalPayloadValidation = @FinalPayloadValidation_09fc3a69,
  @FinalPayloadValidationMode = @FinalPayloadValidationMode_09fc3a69,
  @FinalPayloadValidationMaxRetries = @FinalPayloadValidationMaxRetries_09fc3a69,
  @MaxCostPerRun = @MaxCostPerRun_09fc3a69,
  @MaxTokensPerRun = @MaxTokensPerRun_09fc3a69,
  @MaxIterationsPerRun = @MaxIterationsPerRun_09fc3a69,
  @MaxTimePerRun = @MaxTimePerRun_09fc3a69,
  @MinExecutionsPerRun = @MinExecutionsPerRun_09fc3a69,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_09fc3a69,
  @StartingPayloadValidation = @StartingPayloadValidation_09fc3a69,
  @StartingPayloadValidationMode = @StartingPayloadValidationMode_09fc3a69,
  @DefaultPromptEffortLevel = @DefaultPromptEffortLevel_09fc3a69,
  @ChatHandlingOption = @ChatHandlingOption_09fc3a69,
  @DefaultArtifactTypeID = @DefaultArtifactTypeID_09fc3a69,
  @OwnerUserID = @OwnerUserID_09fc3a69,
  @InvocationMode = @InvocationMode_09fc3a69,
  @ArtifactCreationMode = @ArtifactCreationMode_09fc3a69,
  @FunctionalRequirements = @FunctionalRequirements_09fc3a69,
  @TechnicalDesign = @TechnicalDesign_09fc3a69,
  @InjectNotes = @InjectNotes_09fc3a69,
  @MaxNotesToInject = @MaxNotesToInject_09fc3a69,
  @NoteInjectionStrategy = @NoteInjectionStrategy_09fc3a69,
  @InjectExamples = @InjectExamples_09fc3a69,
  @MaxExamplesToInject = @MaxExamplesToInject_09fc3a69,
  @ExampleInjectionStrategy = @ExampleInjectionStrategy_09fc3a69,
  @IsRestricted = @IsRestricted_09fc3a69,
  @MessageMode = @MessageMode_09fc3a69,
  @MaxMessages = @MaxMessages_09fc3a69,
  @AttachmentStorageProviderID = @AttachmentStorageProviderID_09fc3a69,
  @AttachmentRootPath = @AttachmentRootPath_09fc3a69,
  @InlineStorageThresholdBytes = @InlineStorageThresholdBytes_09fc3a69,
  @AgentTypePromptParams = @AgentTypePromptParams_09fc3a69,
  @ID = @ID_09fc3a69;

-- Save MJ: AI Agent Prompts (core SP call only)
DECLARE @ID_fcf996f9 UNIQUEIDENTIFIER,
@AgentID_fcf996f9 UNIQUEIDENTIFIER,
@PromptID_fcf996f9 UNIQUEIDENTIFIER,
@Purpose_fcf996f9 NVARCHAR(MAX),
@ExecutionOrder_fcf996f9 INT,
@ConfigurationID_fcf996f9 UNIQUEIDENTIFIER,
@Status_fcf996f9 NVARCHAR(20),
@ContextBehavior_fcf996f9 NVARCHAR(50),
@ContextMessageCount_fcf996f9 INT
SET
  @ID_fcf996f9 = '314D935F-FB5D-44C8-9313-53B82208BFFE'
SET
  @AgentID_fcf996f9 = '2E081955-B2FD-4E13-81DF-5DC7C59126BE'
SET
  @PromptID_fcf996f9 = 'B4053E4F-165C-4AED-8E14-3A0A25A28EFE'
SET
  @ExecutionOrder_fcf996f9 = 0
SET
  @Status_fcf996f9 = N'Active'
SET
  @ContextBehavior_fcf996f9 = N'Complete'
EXEC [${flyway:defaultSchema}].spCreateAIAgentPrompt @ID = @ID_fcf996f9,
  @AgentID = @AgentID_fcf996f9,
  @PromptID = @PromptID_fcf996f9,
  @Purpose = @Purpose_fcf996f9,
  @ExecutionOrder = @ExecutionOrder_fcf996f9,
  @ConfigurationID = @ConfigurationID_fcf996f9,
  @Status = @Status_fcf996f9,
  @ContextBehavior = @ContextBehavior_fcf996f9,
  @ContextMessageCount = @ContextMessageCount_fcf996f9;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_61a8f733 UNIQUEIDENTIFIER,
@AgentID_61a8f733 UNIQUEIDENTIFIER,
@ActionID_61a8f733 UNIQUEIDENTIFIER,
@Status_61a8f733 NVARCHAR(15),
@MinExecutionsPerRun_61a8f733 INT,
@MaxExecutionsPerRun_61a8f733 INT,
@ResultExpirationTurns_61a8f733 INT,
@ResultExpirationMode_61a8f733 NVARCHAR(20),
@CompactMode_61a8f733 NVARCHAR(20),
@CompactLength_61a8f733 INT,
@CompactPromptID_61a8f733 UNIQUEIDENTIFIER
SET
  @ID_61a8f733 = 'F86B788E-9C1C-48AF-8A20-5803F1878073'
SET
  @AgentID_61a8f733 = '2E081955-B2FD-4E13-81DF-5DC7C59126BE'
SET
  @ActionID_61a8f733 = '81F96534-03F5-49E9-81B0-D8902A7645A3'
SET
  @Status_61a8f733 = N'Active'
SET
  @ResultExpirationMode_61a8f733 = N'None'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_61a8f733,
  @AgentID = @AgentID_61a8f733,
  @ActionID = @ActionID_61a8f733,
  @Status = @Status_61a8f733,
  @MinExecutionsPerRun = @MinExecutionsPerRun_61a8f733,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_61a8f733,
  @ResultExpirationTurns = @ResultExpirationTurns_61a8f733,
  @ResultExpirationMode = @ResultExpirationMode_61a8f733,
  @CompactMode = @CompactMode_61a8f733,
  @CompactLength = @CompactLength_61a8f733,
  @CompactPromptID = @CompactPromptID_61a8f733;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_676fa43e UNIQUEIDENTIFIER,
@AgentID_676fa43e UNIQUEIDENTIFIER,
@ActionID_676fa43e UNIQUEIDENTIFIER,
@Status_676fa43e NVARCHAR(15),
@MinExecutionsPerRun_676fa43e INT,
@MaxExecutionsPerRun_676fa43e INT,
@ResultExpirationTurns_676fa43e INT,
@ResultExpirationMode_676fa43e NVARCHAR(20),
@CompactMode_676fa43e NVARCHAR(20),
@CompactLength_676fa43e INT,
@CompactPromptID_676fa43e UNIQUEIDENTIFIER
SET
  @ID_676fa43e = 'B9E1C278-737D-497D-BB1E-C2BBE4D3061C'
SET
  @AgentID_676fa43e = '2E081955-B2FD-4E13-81DF-5DC7C59126BE'
SET
  @ActionID_676fa43e = '6C88FED2-679A-4FDD-A31A-7F38D0457F22'
SET
  @Status_676fa43e = N'Active'
SET
  @ResultExpirationMode_676fa43e = N'None'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_676fa43e,
  @AgentID = @AgentID_676fa43e,
  @ActionID = @ActionID_676fa43e,
  @Status = @Status_676fa43e,
  @MinExecutionsPerRun = @MinExecutionsPerRun_676fa43e,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_676fa43e,
  @ResultExpirationTurns = @ResultExpirationTurns_676fa43e,
  @ResultExpirationMode = @ResultExpirationMode_676fa43e,
  @CompactMode = @CompactMode_676fa43e,
  @CompactLength = @CompactLength_676fa43e,
  @CompactPromptID = @CompactPromptID_676fa43e;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_f53e37f0 UNIQUEIDENTIFIER,
@AgentID_f53e37f0 UNIQUEIDENTIFIER,
@ActionID_f53e37f0 UNIQUEIDENTIFIER,
@Status_f53e37f0 NVARCHAR(15),
@MinExecutionsPerRun_f53e37f0 INT,
@MaxExecutionsPerRun_f53e37f0 INT,
@ResultExpirationTurns_f53e37f0 INT,
@ResultExpirationMode_f53e37f0 NVARCHAR(20),
@CompactMode_f53e37f0 NVARCHAR(20),
@CompactLength_f53e37f0 INT,
@CompactPromptID_f53e37f0 UNIQUEIDENTIFIER
SET
  @ID_f53e37f0 = 'CBB12825-75FF-418D-8801-1BE940185894'
SET
  @AgentID_f53e37f0 = '2E081955-B2FD-4E13-81DF-5DC7C59126BE'
SET
  @ActionID_f53e37f0 = '08E0742A-5DB9-4A5F-BA47-ED39374EE213'
SET
  @Status_f53e37f0 = N'Active'
SET
  @ResultExpirationMode_f53e37f0 = N'None'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_f53e37f0,
  @AgentID = @AgentID_f53e37f0,
  @ActionID = @ActionID_f53e37f0,
  @Status = @Status_f53e37f0,
  @MinExecutionsPerRun = @MinExecutionsPerRun_f53e37f0,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_f53e37f0,
  @ResultExpirationTurns = @ResultExpirationTurns_f53e37f0,
  @ResultExpirationMode = @ResultExpirationMode_f53e37f0,
  @CompactMode = @CompactMode_f53e37f0,
  @CompactLength = @CompactLength_f53e37f0,
  @CompactPromptID = @CompactPromptID_f53e37f0;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_22b8b343 UNIQUEIDENTIFIER,
@AgentID_22b8b343 UNIQUEIDENTIFIER,
@ActionID_22b8b343 UNIQUEIDENTIFIER,
@Status_22b8b343 NVARCHAR(15),
@MinExecutionsPerRun_22b8b343 INT,
@MaxExecutionsPerRun_22b8b343 INT,
@ResultExpirationTurns_22b8b343 INT,
@ResultExpirationMode_22b8b343 NVARCHAR(20),
@CompactMode_22b8b343 NVARCHAR(20),
@CompactLength_22b8b343 INT,
@CompactPromptID_22b8b343 UNIQUEIDENTIFIER
SET
  @ID_22b8b343 = 'E8F1B1F7-424F-4F2A-AF54-A0E796E41C35'
SET
  @AgentID_22b8b343 = '2E081955-B2FD-4E13-81DF-5DC7C59126BE'
SET
  @ActionID_22b8b343 = '296E03AE-6EDC-4C5E-9506-BC98ACCDA2E1'
SET
  @Status_22b8b343 = N'Active'
SET
  @ResultExpirationMode_22b8b343 = N'None'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_22b8b343,
  @AgentID = @AgentID_22b8b343,
  @ActionID = @ActionID_22b8b343,
  @Status = @Status_22b8b343,
  @MinExecutionsPerRun = @MinExecutionsPerRun_22b8b343,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_22b8b343,
  @ResultExpirationTurns = @ResultExpirationTurns_22b8b343,
  @ResultExpirationMode = @ResultExpirationMode_22b8b343,
  @CompactMode = @CompactMode_22b8b343,
  @CompactLength = @CompactLength_22b8b343,
  @CompactPromptID = @CompactPromptID_22b8b343;

-- Save AI Agent Actions (core SP call only)
DECLARE @ID_11bf31c7 UNIQUEIDENTIFIER,
@AgentID_11bf31c7 UNIQUEIDENTIFIER,
@ActionID_11bf31c7 UNIQUEIDENTIFIER,
@Status_11bf31c7 NVARCHAR(15),
@MinExecutionsPerRun_11bf31c7 INT,
@MaxExecutionsPerRun_11bf31c7 INT,
@ResultExpirationTurns_11bf31c7 INT,
@ResultExpirationMode_11bf31c7 NVARCHAR(20),
@CompactMode_11bf31c7 NVARCHAR(20),
@CompactLength_11bf31c7 INT,
@CompactPromptID_11bf31c7 UNIQUEIDENTIFIER
SET
  @ID_11bf31c7 = '8E73256D-4189-4B55-AF76-2C6DF7C2C832'
SET
  @AgentID_11bf31c7 = '2E081955-B2FD-4E13-81DF-5DC7C59126BE'
SET
  @ActionID_11bf31c7 = '82169F64-8566-4AE7-9C87-190A885C98A9'
SET
  @Status_11bf31c7 = N'Active'
SET
  @ResultExpirationMode_11bf31c7 = N'None'
EXEC [${flyway:defaultSchema}].spCreateAIAgentAction @ID = @ID_11bf31c7,
  @AgentID = @AgentID_11bf31c7,
  @ActionID = @ActionID_11bf31c7,
  @Status = @Status_11bf31c7,
  @MinExecutionsPerRun = @MinExecutionsPerRun_11bf31c7,
  @MaxExecutionsPerRun = @MaxExecutionsPerRun_11bf31c7,
  @ResultExpirationTurns = @ResultExpirationTurns_11bf31c7,
  @ResultExpirationMode = @ResultExpirationMode_11bf31c7,
  @CompactMode = @CompactMode_11bf31c7,
  @CompactLength = @CompactLength_11bf31c7,
  @CompactPromptID = @CompactPromptID_11bf31c7;

-- Save MJ: Component Libraries (core SP call only)
DECLARE @Name_4fe9dbd0 NVARCHAR(500),
@DisplayName_4fe9dbd0 NVARCHAR(500),
@Version_4fe9dbd0 NVARCHAR(100),
@GlobalVariable_4fe9dbd0 NVARCHAR(255),
@Category_4fe9dbd0 NVARCHAR(100),
@CDNUrl_4fe9dbd0 NVARCHAR(1000),
@CDNCssUrl_4fe9dbd0 NVARCHAR(1000),
@Description_4fe9dbd0 NVARCHAR(MAX),
@Status_4fe9dbd0 NVARCHAR(20),
@LintRules_4fe9dbd0 NVARCHAR(MAX),
@Dependencies_4fe9dbd0 NVARCHAR(MAX),
@UsageType_4fe9dbd0 NVARCHAR(50),
@ID_4fe9dbd0 UNIQUEIDENTIFIER
SET
  @Name_4fe9dbd0 = N'ApexCharts'
SET
  @DisplayName_4fe9dbd0 = N'ApexCharts'
SET
  @Version_4fe9dbd0 = N'3.45.1'
SET
  @GlobalVariable_4fe9dbd0 = N'ApexCharts'
SET
  @Category_4fe9dbd0 = N'Charting'
SET
  @CDNUrl_4fe9dbd0 = N'https://cdn.jsdelivr.net/npm/apexcharts@3.45.1/dist/apexcharts.min.js'
SET
  @CDNCssUrl_4fe9dbd0 = N'https://cdn.jsdelivr.net/npm/apexcharts@3.45.1/dist/apexcharts.css'
SET
  @Description_4fe9dbd0 = N'Modern interactive JavaScript charts library'
SET
  @Status_4fe9dbd0 = N'Active'
SET
  @LintRules_4fe9dbd0 = N'{"initialization":{"constructorName":"ApexCharts","requiresNew":true,"elementType":"div","requiredConfig":["chart","series"]},"lifecycle":{"requiredMethods":[],"cleanupMethods":["destroy"],"updateMethods":["updateOptions","updateSeries","appendSeries"]},"validators":{"checkRenderCall":{"description":"Ensure ApexCharts instances call render() after creation","severity":"critical","validate":"/**\n * Ensure ApexCharts instances call render() after creation\n * @param {Object} ast - The full AST\n * @param {Object} path - Current node path being validated\n * @param {Object} t - Babel types\n * @param {Object} context - Additional context\n * @returns {Object|null} Violation object or null if valid\n */\n(ast, path, t, context) => {\n  if (t.isNewExpression(path.node) && \n      t.isIdentifier(path.node.callee) && \n      path.node.callee.name === ''ApexCharts'') {\n    \n    // Check if this is assigned to a variable\n    if (t.isVariableDeclarator(path.parent)) {\n      const varName = t.isIdentifier(path.parent.id) ? path.parent.id.name : null;\n      \n      if (varName) {\n        // Look for render call on this variable\n        let hasRender = false;\n        const parentScope = path.getFunctionParent();\n        \n        if (parentScope) {\n          parentScope.traverse({\n            CallExpression(callPath) {\n              if (t.isMemberExpression(callPath.node.callee) &&\n                  t.isIdentifier(callPath.node.callee.object) &&\n                  callPath.node.callee.object.name === varName &&\n                  t.isIdentifier(callPath.node.callee.property) &&\n                  callPath.node.callee.property.name === ''render'') {\n                hasRender = true;\n              }\n            }\n          });\n        }\n        \n        if (!hasRender) {\n          return {\n            rule: ''apexcharts-missing-render'',\n            severity: ''critical'',\n            message: ''ApexCharts instances must call .render() to display the chart'',\n            line: path.node.loc?.start.line || 0,\n            column: path.node.loc?.start.column || 0,\n            fix: `$' + '{varName}.render();`\n          };\n        }\n      }\n    }\n  }\n  return null;\n}"},"checkDestroyInCleanup":{"description":"Ensure ApexCharts instances are destroyed in cleanup","severity":"high","validate":"/**\n * Ensure ApexCharts instances are destroyed in cleanup\n * @param {Object} ast - The full AST\n * @param {Object} path - Current node path being validated\n * @param {Object} t - Babel types\n * @param {Object} context - Additional context\n * @returns {Object|null} Violation object or null if valid\n */\n(ast, path, t, context) => {\n  if (t.isNewExpression(path.node) && \n      t.isIdentifier(path.node.callee) && \n      path.node.callee.name === ''ApexCharts'') {\n    \n    // Check if we''re in a useEffect\n    let useEffectPath = path;\n    while (useEffectPath) {\n      if (t.isCallExpression(useEffectPath.node) && \n          t.isIdentifier(useEffectPath.node.callee) &&\n          useEffectPath.node.callee.name === ''useEffect'') {\n        \n        // Check for cleanup return\n        const effectFn = useEffectPath.node.arguments[0];\n        if (t.isArrowFunctionExpression(effectFn) || t.isFunctionExpression(effectFn)) {\n          const body = effectFn.body;\n          let hasCleanup = false;\n\n          // Helper function to recursively search for return statements with cleanup\n          const findCleanupReturn = (statements) => {\n            for (const stmt of statements) {\n              // Direct return statement\n              if (t.isReturnStatement(stmt) && stmt.argument) {\n                return stmt;\n              }\n              // Return inside if-statement\n              if (t.isIfStatement(stmt)) {\n                const consequent = t.isBlockStatement(stmt.consequent) ? stmt.consequent.body : [stmt.consequent];\n                const returnStmt = findCleanupReturn(consequent);\n                if (returnStmt) return returnStmt;\n\n                if (stmt.alternate) {\n                  const alternate = t.isBlockStatement(stmt.alternate) ? stmt.alternate.body : [stmt.alternate];\n                  const altReturnStmt = findCleanupReturn(alternate);\n                  if (altReturnStmt) return altReturnStmt;\n                }\n              }\n            }\n            return null;\n          };\n\n          if (t.isBlockStatement(body)) {\n            const returnStmt = findCleanupReturn(body.body);\n            if (returnStmt && returnStmt.argument) {\n              const stmt = returnStmt;\n                // Check if the return contains destroy call\n                const returnArg = stmt.argument;\n                if (t.isArrowFunctionExpression(returnArg) || t.isFunctionExpression(returnArg)) {\n                  // Check if cleanup function actually calls destroy()\n                  const cleanupBody = returnArg.body;\n\n                  // Handle single-expression arrow functions: () => chart.destroy()\n                  if (t.isCallExpression(cleanupBody)) {\n                    if (t.isMemberExpression(cleanupBody.callee) &&\n                        t.isIdentifier(cleanupBody.callee.property) &&\n                        cleanupBody.callee.property.name === ''destroy'') {\n                      hasCleanup = true;\n                    }\n                  } else {\n                    // Handle block-body functions\n                    const cleanupStatements = t.isBlockStatement(cleanupBody) ? cleanupBody.body : [cleanupBody];\n\n                    // Look for destroy() call in cleanup function\n                    for (const cleanupStmt of cleanupStatements) {\n                      if (t.isExpressionStatement(cleanupStmt) && t.isCallExpression(cleanupStmt.expression)) {\n                        const call = cleanupStmt.expression;\n                        // Check if this is a call to destroy() - handles:\n                        // - chart.destroy()\n                        // - chartInstance.current.destroy()\n                        // - this.chart.destroy()\n                        if (t.isMemberExpression(call.callee) &&\n                            t.isIdentifier(call.callee.property) &&\n                            call.callee.property.name === ''destroy'') {\n                          hasCleanup = true;\n                          break;\n                        }\n                      }\n                      // Also handle optional chaining: chart?.destroy() or ref.current?.destroy()\n                      else if (t.isExpressionStatement(cleanupStmt) && t.isOptionalCallExpression(cleanupStmt.expression)) {\n                        const call = cleanupStmt.expression;\n                        if (t.isOptionalMemberExpression(call.callee) &&\n                            t.isIdentifier(call.callee.property) &&\n                            call.callee.property.name === ''destroy'') {\n                          hasCleanup = true;\n                          break;\n                        }\n                      }\n                      // Also check if-statements with destroy calls: if (chartInstance.current) { chartInstance.current.destroy(); }\n                      else if (t.isIfStatement(cleanupStmt)) {\n                        const checkIfHasDestroy = (node) => {\n                          if (t.isBlockStatement(node)) {\n                            return node.body.some(s => checkIfHasDestroy(s));\n                          }\n                          if (t.isExpressionStatement(node) && t.isCallExpression(node.expression)) {\n                            const call = node.expression;\n                            return t.isMemberExpression(call.callee) &&\n                                   t.isIdentifier(call.callee.property) &&\n                                   call.callee.property.name === ''destroy'';\n                          }\n                          return false;\n                        };\n                        if (checkIfHasDestroy(cleanupStmt.consequent)) {\n                          hasCleanup = true;\n                          break;\n                        }\n                      }\n                    }\n                  }\n                }\n            }\n          }\n          \n          if (!hasCleanup) {\n            return {\n              rule: ''apexcharts-missing-cleanup'',\n              severity: ''high'',\n              message: ''ApexCharts instances must be destroyed in useEffect cleanup'',\n              line: path.node.loc?.start.line || 0,\n              column: path.node.loc?.start.column || 0,\n              fix: ''return () => { chart?.destroy(); }''\n            };\n          }\n        }\n        break;\n      }\n      useEffectPath = useEffectPath.parentPath;\n    }\n  }\n  return null;\n}"},"checkOptionsStructure":{"description":"Validate ApexCharts options structure","severity":"high","validate":"/**\n * Validate ApexCharts options structure\n * @param {Object} ast - The full AST\n * @param {Object} path - Current node path being validated\n * @param {Object} t - Babel types\n * @param {Object} context - Additional context\n * @returns {Object|null} Violation object or null if valid\n */\n(ast, path, t, context) => {\n  if (t.isNewExpression(path.node) && \n      t.isIdentifier(path.node.callee) && \n      path.node.callee.name === ''ApexCharts'' &&\n      path.node.arguments[1]) {\n    \n    const optionsArg = path.node.arguments[1];\n    \n    if (t.isObjectExpression(optionsArg)) {\n      const properties = optionsArg.properties;\n\n      // Helper function to check if a property might have a field through spread or direct property\n      const hasPropertyOrSpread = (propName) => {\n        return properties.some(prop => {\n          // Direct property\n          if (t.isObjectProperty(prop) &&\n              t.isIdentifier(prop.key) &&\n              prop.key.name === propName) {\n            return true;\n          }\n          // Spread element - assume it might have the property\n          if (t.isSpreadElement(prop)) {\n            return true;\n          }\n          return false;\n        });\n      };\n\n      const hasChart = hasPropertyOrSpread(''chart'');\n      const hasSeries = hasPropertyOrSpread(''series'');\n\n      // Only report violation if we''re certain the property is missing\n      // (i.e., no direct property and no spread elements that might contain it)\n      const hasSpread = properties.some(prop => t.isSpreadElement(prop));\n\n      if (!hasChart && !hasSpread) {\n        return {\n          rule: ''apexcharts-missing-chart-config'',\n          severity: ''high'',\n          message: ''ApexCharts options must include a \"chart\" property'',\n          line: optionsArg.loc?.start.line || 0,\n          column: optionsArg.loc?.start.column || 0,\n          fix: ''chart: { type: \"bar\", height: 350 }''\n        };\n      }\n\n      if (!hasSeries && !hasSpread) {\n        return {\n          rule: ''apexcharts-missing-series'',\n          severity: ''high'',\n          message: ''ApexCharts options must include a \"series\" property'',\n          line: optionsArg.loc?.start.line || 0,\n          column: optionsArg.loc?.start.column || 0,\n          fix: ''series: [{ name: \"Series 1\", data: [] }]''\n        };\n      }\n    }\n  }\n  return null;\n}"},"checkSeriesDataFormat":{"description":"Validate data is in correct ApexCharts series format","severity":"critical","validate":"// Validates that data passed to ApexCharts is in the correct series format\n(ast, path, t, context) => {\n  // Look for chart creation or series updates\n  if (t.isNewExpression(path.node) && path.node.callee.name === ''ApexCharts'') {\n    const configArg = path.node.arguments[1];\n    if (configArg && t.isObjectExpression(configArg)) {\n      const seriesProp = configArg.properties.find(p => \n        t.isObjectProperty(p) && \n        t.isIdentifier(p.key) && \n        p.key.name === ''series''\n      );\n      \n      if (seriesProp && t.isIdentifier(seriesProp.value)) {\n        // Track the variable name for later validation\n        context.apexSeriesVars = context.apexSeriesVars || new Set();\n        context.apexSeriesVars.add(seriesProp.value.name);\n      }\n    }\n  }\n  \n  // Check updateSeries calls\n  if (t.isMemberExpression(path.node) && \n      t.isIdentifier(path.node.property) && \n      path.node.property.name === ''updateSeries'') {\n    const parent = path.parent;\n    if (t.isCallExpression(parent)) {\n      const arg = parent.arguments[0];\n      if (arg && t.isIdentifier(arg)) {\n        // Flag for validation - series data should be array of objects with name and data\n        context.violations.push({\n          severity: ''medium'',\n          message: `Verify that ''$' + '{arg.name}'' is formatted as ApexCharts series: [{name: string, data: [{x, y}]}]`,\n          line: path.node.loc?.start.line,\n          column: path.node.loc?.start.column,\n          suggestion: ''Transform data to: selectedMetrics.map(metric => ({ name: metric, data: points.map(p => ({x: timestamp, y: value})) }))''\n        });\n      }\n    }\n  }\n  \n  // Look for common data format mistakes\n  if (t.isObjectExpression(path.node)) {\n    const hasDateProp = path.node.properties.some(p => \n      t.isObjectProperty(p) && t.isIdentifier(p.key) && p.key.name === ''date''\n    );\n    const hasDurationProp = path.node.properties.some(p => \n      t.isObjectProperty(p) && t.isIdentifier(p.key) && p.key.name === ''duration''\n    );\n    const hasCostProp = path.node.properties.some(p => \n      t.isObjectProperty(p) && t.isIdentifier(p.key) && p.key.name === ''cost''\n    );\n    \n    // This looks like processed data that needs transformation\n    if (hasDateProp && (hasDurationProp || hasCostProp)) {\n      // Check if this is being passed to chart\n      let parent = path.parent;\n      let depth = 0;\n      while (parent && depth < 5) {\n        if (t.isJSXAttribute(parent) && parent.name?.name === ''seriesData'') {\n          context.violations.push({\n            severity: ''critical'',\n            message: ''Data structure {date, duration, cost} needs transformation to ApexCharts series format'',\n            line: path.node.loc?.start.line,\n            column: path.node.loc?.start.column,\n            suggestion: ''Transform to: [{name: \"Duration\", data: [{x: timestamp, y: value}]}, ...]''\n          });\n          break;\n        }\n        parent = parent.parent;\n        depth++;\n      }\n    }\n  }\n}"},"checkChartRefManagement":{"description":"Ensure chart instances are properly stored in refs for exports","severity":"low","validate":"// Validates that chart instances are properly stored and exposed via refs\n(ast, path, t, context) => {\n  // Initialize tracking sets if not already done\n  context.apexChartVars = context.apexChartVars || new Set();\n  context.apexChartVarsWithRefWarning = context.apexChartVarsWithRefWarning || new Set();\n  context.needsExportFunctionality = context.needsExportFunctionality || null;\n\n  // On first pass, check if component needs export functionality\n  if (context.needsExportFunctionality === null) {\n    context.needsExportFunctionality = false;\n\n    // Check for export-related method calls (dataURI, exportChart, etc.)\n    const hasExportCalls = (astNode) => {\n      let found = false;\n      const visitor = {\n        CallExpression(callPath) {\n          if (t.isMemberExpression(callPath.node.callee)) {\n            const methodName = callPath.node.callee.property?.name;\n            if (methodName === ''dataURI'' ||\n                methodName === ''exportChart'' ||\n                methodName === ''exportToSVG'' ||\n                methodName === ''exportToPNG'') {\n              found = true;\n              callPath.stop();\n            }\n          }\n        }\n      };\n\n      if (ast.program) {\n        for (const node of ast.program.body) {\n          if (found) break;\n          const nodePath = { node, scope: path.scope };\n          if (t.isFunctionDeclaration(node) || t.isExportDefaultDeclaration(node)) {\n            const func = t.isFunctionDeclaration(node) ? node : node.declaration;\n            if (func.body) {\n              const tempPath = { node: func.body, scope: path.scope, traverse: (v) => {\n                const walk = (n) => {\n                  if (t.isCallExpression(n)) v.CallExpression({ node: n });\n                  Object.values(n).forEach(val => {\n                    if (val && typeof val === ''object'') {\n                      if (Array.isArray(val)) val.forEach(walk);\n                      else walk(val);\n                    }\n                  });\n                };\n                walk(func.body);\n              }};\n              tempPath.traverse(visitor);\n            }\n          }\n        }\n      }\n      return found;\n    };\n\n    context.needsExportFunctionality = hasExportCalls(ast);\n  }\n\n  // Check for new ApexCharts creation\n  if (t.isNewExpression(path.node) && path.node.callee.name === ''ApexCharts'') {\n    const parent = path.parent;\n\n    // Check if the chart instance is being stored\n    if (t.isVariableDeclarator(parent)) {\n      const varName = parent.id.name;\n      context.apexChartVars.add(varName);\n\n      // Now check if this variable is attached to a ref\n      const scope = path.scope;\n      const binding = scope.getBinding(varName);\n      if (binding) {\n        let isAttachedToRef = false;\n\n        for (const refPath of binding.referencePaths) {\n          // Check for patterns like: chartRef.current = chart\n          if (t.isAssignmentExpression(refPath.parent) &&\n              t.isMemberExpression(refPath.parent.left) &&\n              refPath.parent.left.property?.name === ''current'') {\n            isAttachedToRef = true;\n            break;\n          }\n          // Check for: chartRef.current._chart = chart\n          if (t.isAssignmentExpression(refPath.parent) &&\n              t.isMemberExpression(refPath.parent.left) &&\n              refPath.parent.left.property?.name === ''_chart'') {\n            isAttachedToRef = true;\n            break;\n          }\n        }\n\n        // Only warn about missing ref if component actually needs export functionality\n        if (!isAttachedToRef && context.needsExportFunctionality) {\n          // Mark that we already warned about this chart variable\n          context.apexChartVarsWithRefWarning.add(varName);\n          context.violations.push({\n            severity: ''low'',\n            message: `ApexCharts instance ''$' + '{varName}'' should be attached to a ref for export functionality`,\n            line: path.node.loc?.start.line,\n            column: path.node.loc?.start.column,\n            suggestion: ''After creating chart, store it: chartRef.current = chart;''\n          });\n        }\n      }\n    }\n  }\n  \n  // Check for dataURI usage without proper ref\n  if (t.isMemberExpression(path.node) && \n      t.isIdentifier(path.node.property) && \n      path.node.property.name === ''dataURI'') {\n    const object = path.node.object;\n    \n    // Check if it''s accessing through a ref\n    if (t.isMemberExpression(object)) {\n      if (!object.property || object.property.name !== ''current'') {\n        context.violations.push({\n          severity: ''low'',\n          message: ''dataURI() should be called on chart instance stored in ref.current'',\n          line: path.node.loc?.start.line,\n          column: path.node.loc?.start.column,\n          suggestion: ''Use: chartRef.current?.dataURI() or chart.dataURI()''\n        });\n      }\n    }\n  }\n  \n  // Check for chart.render() calls - but skip if we already warned about this chart variable\n  if (t.isCallExpression(path.node) &&\n      t.isMemberExpression(path.node.callee) &&\n      path.node.callee.object?.name === ''chart'' &&\n      path.node.callee.property?.name === ''render'') {\n\n    const chartVarName = path.node.callee.object.name;\n\n    // Skip if we already warned about this chart variable not being in a ref\n    if (context.apexChartVarsWithRefWarning && context.apexChartVarsWithRefWarning.has(chartVarName)) {\n      return; // Don''t duplicate the warning\n    }\n\n    // Also skip if this chart variable was properly created and tracked\n    if (context.apexChartVars && context.apexChartVars.has(chartVarName)) {\n      // We already checked this variable when it was created\n      return;\n    }\n\n    // Only check ref storage if component needs export functionality\n    if (!context.needsExportFunctionality) {\n      return; // Skip warning for components that don''t need export\n    }\n\n    // This is a render() call on a chart we haven''t seen created (might be from props/params)\n    // Check if it''s stored in a ref in the current scope\n    let foundChartStorage = false;\n    let currentPath = path;\n\n    // Look up the tree for the containing function/block\n    while (currentPath && !t.isFunctionDeclaration(currentPath.node) &&\n           !t.isFunctionExpression(currentPath.node) &&\n           !t.isArrowFunctionExpression(currentPath.node)) {\n      currentPath = currentPath.parentPath;\n    }\n\n    if (currentPath) {\n      // Check if chartRef.current = chart exists in this scope\n      currentPath.traverse({\n        AssignmentExpression(assignPath) {\n          if (t.isMemberExpression(assignPath.node.left) &&\n              assignPath.node.left.property?.name === ''current'' &&\n              t.isIdentifier(assignPath.node.right) &&\n              assignPath.node.right.name === chartVarName) {\n            foundChartStorage = true;\n          }\n        }\n      });\n    }\n\n    if (!foundChartStorage) {\n      context.violations.push({\n        severity: ''low'',\n        message: `Chart instance ''$' + '{chartVarName}'' may not be stored in ref for export functionality`,\n        line: path.node.loc?.start.line,\n        column: path.node.loc?.start.column,\n        suggestion: ''Store chart in ref: chartRef.current = chart;''\n      });\n    }\n  }\n}"},"checkAnomalyFormat":{"description":"Validate anomaly data format for annotations","severity":"medium","validate":"// Validates that anomaly data for ApexCharts annotations is correctly formatted\n(ast, path, t, context) => {\n  // Look for annotations configuration in chart options\n  if (t.isObjectProperty(path.node) && \n      t.isIdentifier(path.node.key) && \n      path.node.key.name === ''annotations'') {\n     \n    const value = path.node.value;\n    if (t.isObjectExpression(value)) {\n      // Check for points property\n      const pointsProp = value.properties.find(p => \n        t.isObjectProperty(p) && \n        t.isIdentifier(p.key) && \n        p.key.name === ''points'' \n      );\n      \n      if (pointsProp) {\n        // Check if it''s mapping over anomalies\n        if (t.isCallExpression(pointsProp.value) && \n            t.isMemberExpression(pointsProp.value.callee) &&\n            pointsProp.value.callee.property?.name === ''map'') {\n          \n          const mapArg = pointsProp.value.arguments[0];\n          if (t.isArrowFunctionExpression(mapArg) || t.isFunctionExpression(mapArg)) {\n            const body = mapArg.body;\n            \n            // Check the structure being returned\n            if (t.isObjectExpression(body) || \n                (t.isBlockStatement(body) && body.body.length > 0)) {\n              \n              // Look for common mistakes\n              const checkForDateField = (obj) => {\n                if (t.isObjectExpression(obj)) {\n                  const hasDate = obj.properties.some(p => \n                    t.isObjectProperty(p) && \n                    t.isIdentifier(p.key) && \n                    p.key.name === ''date''\n                  );\n                  const hasX = obj.properties.some(p => \n                    t.isObjectProperty(p) && \n                    t.isIdentifier(p.key) && \n                    p.key.name === ''x''\n                  );\n                  \n                  if (hasDate && !hasX) {\n                    context.violations.push({\n                      severity: ''critical'',\n                      message: ''Anomaly annotations should use \"x\" property with timestamp, not \"date\"'',\n                      line: obj.loc?.start.line,\n                      column: obj.loc?.start.column,\n                      suggestion: ''Change to: { x: new Date(anomaly.date).getTime(), y: anomaly.value, ... }''\n                    });\n                  }\n                }\n              };\n              \n              if (t.isObjectExpression(body)) {\n                checkForDateField(body);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  \n  // Check for anomaly data being set in state\n  if (t.isCallExpression(path.node) && \n      t.isIdentifier(path.node.callee) && \n      path.node.callee.name === ''setAnomalies'') {\n    \n    const arg = path.node.arguments[0];\n    if (t.isArrayExpression(arg) && arg.elements.length > 0) {\n      const firstElement = arg.elements[0];\n      \n      if (t.isObjectExpression(firstElement)) {\n        const hasDate = firstElement.properties.some(p => \n          t.isObjectProperty(p) && \n          t.isIdentifier(p.key) && \n          p.key.name === ''date''\n        );\n        const hasX = firstElement.properties.some(p => \n          t.isObjectProperty(p) && \n          t.isIdentifier(p.key) && \n          p.key.name === ''x''\n        );\n        \n        if (hasDate && !hasX) {\n          context.violations.push({\n            severity: ''medium'',\n            message: ''Anomaly data should include \"x\" property for ApexCharts compatibility'',\n            line: firstElement.loc?.start.line,\n            column: firstElement.loc?.start.column,\n            suggestion: ''Include: { x: new Date(point.date), y: value, metric: metricName }''\n          });\n        }\n      }\n    }\n  }\n}"}}}'
SET
  @UsageType_4fe9dbd0 = N'Both'
SET
  @ID_4fe9dbd0 = '91E9DB43-6688-4838-939E-C4FC1F15C6CE'
EXEC [${flyway:defaultSchema}].spUpdateComponentLibrary @Name = @Name_4fe9dbd0,
  @DisplayName = @DisplayName_4fe9dbd0,
  @Version = @Version_4fe9dbd0,
  @GlobalVariable = @GlobalVariable_4fe9dbd0,
  @Category = @Category_4fe9dbd0,
  @CDNUrl = @CDNUrl_4fe9dbd0,
  @CDNCssUrl = @CDNCssUrl_4fe9dbd0,
  @Description = @Description_4fe9dbd0,
  @Status = @Status_4fe9dbd0,
  @LintRules = @LintRules_4fe9dbd0,
  @Dependencies = @Dependencies_4fe9dbd0,
  @UsageType = @UsageType_4fe9dbd0,
  @ID = @ID_4fe9dbd0;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_4bcb8d98 NVARCHAR(MAX),
@Name_4bcb8d98 NVARCHAR(500),
@Version_4bcb8d98 NVARCHAR(50),
@VersionSequence_4bcb8d98 INT,
@Title_4bcb8d98 NVARCHAR(1000),
@Description_4bcb8d98 NVARCHAR(MAX),
@Type_4bcb8d98 NVARCHAR(255),
@Status_4bcb8d98 NVARCHAR(50),
@DeveloperName_4bcb8d98 NVARCHAR(255),
@DeveloperEmail_4bcb8d98 NVARCHAR(255),
@DeveloperOrganization_4bcb8d98 NVARCHAR(255),
@SourceRegistryID_4bcb8d98 UNIQUEIDENTIFIER,
@ReplicatedAt_4bcb8d98 DATETIMEOFFSET,
@LastSyncedAt_4bcb8d98 DATETIMEOFFSET,
@Specification_4bcb8d98 NVARCHAR(MAX),
@FunctionalRequirements_4bcb8d98 NVARCHAR(MAX),
@TechnicalDesign_4bcb8d98 NVARCHAR(MAX),
@FunctionalRequirementsVector_4bcb8d98 NVARCHAR(MAX),
@TechnicalDesignVector_4bcb8d98 NVARCHAR(MAX),
@HasCustomProps_4bcb8d98 BIT,
@HasCustomEvents_4bcb8d98 BIT,
@RequiresData_4bcb8d98 BIT,
@DependencyCount_4bcb8d98 INT,
@TechnicalDesignVectorEmbeddingModelID_4bcb8d98 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_4bcb8d98 NVARCHAR(MAX),
@HasRequiredCustomProps_4bcb8d98 BIT,
@ID_4bcb8d98 UNIQUEIDENTIFIER
SET
  @Namespace_4bcb8d98 = N'Admin/Entities'
SET
  @Name_4bcb8d98 = N'EntityBrowser'
SET
  @Version_4bcb8d98 = N'1.0.0'
SET
  @VersionSequence_4bcb8d98 = 1
SET
  @Title_4bcb8d98 = N'Entity Browser'
SET
  @Description_4bcb8d98 = N'A comprehensive entity browser with multi-panel display showing entities in a grid or card view with a sliding details panel, collapsible filters, sorting, and entity record opening capability.'
SET
  @Type_4bcb8d98 = N'Dashboard'
SET
  @Status_4bcb8d98 = N'Published'
SET
  @Specification_4bcb8d98 = N'{"name":"EntityBrowser","title":"Entity Browser","description":"A comprehensive entity browser with multi-panel display showing entities in a grid or card view with a sliding details panel, collapsible filters, sorting, and entity record opening capability.","type":"dashboard","functionalRequirements":"## Entity Browser Requirements\n\n### Core Functionality\n- Display entities in a responsive grid or card layout based on user preference\n- Allow users to select view mode (grid vs card)\n- Click on an entity to slide in a details panel from the right\n- Show entity metadata including fields and relationships in the details panel\n- Provide a collapsible filter panel on the left side\n- Support sorting by multiple fields with visual indicators\n- Include a search bar for quick entity filtering\n- Provide an ''Open'' button to trigger the OpenEntityRecord callback\n- Remember user''s last selected entity and view preferences\n\n### UX Considerations\n- Smooth animations for panel transitions\n- Responsive design that works on different screen sizes\n- Loading states while fetching data\n- Empty states with helpful messages\n- Keyboard navigation support (arrow keys, tab, enter)\n- Visual feedback for hover and selection states\n- Maintain scroll position when switching between entities","dataRequirements":{"mode":"views","entities":[{"name":"Entities","description":"Metadata about all entities in the system","displayFields":["ID","Name","DisplayName","NameSuffix","Description","SchemaName","BaseTable","BaseView"],"filterFields":["SchemaName","BaseTable"],"sortFields":["Name","DisplayName"],"fieldMetadata":[{"name":"ID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":true,"description":"Unique identifier for the entity"},{"name":"Name","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"System name of the entity"},{"name":"DisplayName","sequence":3,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"User-friendly display name for the entity"},{"name":"NameSuffix","sequence":4,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"Optional suffix appended to entity names for display purposes"},{"name":"Description","sequence":5,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"Description of the entity"},{"name":"SchemaName","sequence":6,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"Database schema name"},{"name":"BaseTable","sequence":7,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"Base table in the database"},{"name":"BaseView","sequence":8,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Base view used for the entity"}],"permissionLevelNeeded":["read"],"usageContext":"Main entity list display and filtering"},{"name":"Entity Fields","description":"Fields belonging to each entity","displayFields":["Name","DisplayName","Type","Length","AllowsNull","IsPrimaryKey","IsUnique"],"filterFields":["EntityID"],"sortFields":["Sequence","Name"],"fieldMetadata":[{"name":"EntityID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":false,"description":"Reference to parent entity"},{"name":"Name","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Field name"},{"name":"DisplayName","sequence":3,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"User-friendly field name"},{"name":"Type","sequence":4,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Data type of the field"},{"name":"Length","sequence":5,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Maximum length for string fields"},{"name":"AllowsNull","sequence":6,"defaultInView":true,"type":"bit","allowsNull":false,"isPrimaryKey":false,"description":"Whether field allows null values"},{"name":"IsPrimaryKey","sequence":7,"defaultInView":true,"type":"bit","allowsNull":false,"isPrimaryKey":false,"description":"Whether field is part of primary key"},{"name":"IsUnique","sequence":8,"defaultInView":true,"type":"bit","allowsNull":false,"isPrimaryKey":false,"description":"Whether field must be unique"},{"name":"Sequence","sequence":9,"defaultInView":false,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Display order of the field"}],"permissionLevelNeeded":["read"],"usageContext":"Details panel to show entity fields"},{"name":"Entity Relationships","description":"Relationships between entities","displayFields":["RelatedEntity","Type","DisplayName","RelatedEntityJoinField"],"filterFields":["EntityID"],"sortFields":["Sequence","RelatedEntity"],"fieldMetadata":[{"name":"EntityID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":false,"description":"Reference to parent entity"},{"name":"RelatedEntity","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"The related entity in the relationship"},{"name":"Type","sequence":3,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Type of relationship (One to Many, Many to One, etc.)"},{"name":"DisplayName","sequence":4,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"User-friendly name for the relationship"},{"name":"RelatedEntityJoinField","sequence":5,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"The field in the related entity that joins to this entity"},{"name":"Sequence","sequence":6,"defaultInView":false,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Display order"}],"permissionLevelNeeded":["read"],"usageContext":"Details panel to show entity relationships"}],"queries":[],"description":"This component requires access to entity metadata including entities, their fields, and relationships to provide a comprehensive entity browsing experience"},"technicalDesign":"## Technical Architecture\n\n### Component Structure\n- **Root Component (EntityBrowser)**: Manages overall layout and state coordination\n- **EntityList (Child)**: Displays entities in grid/card view with sorting\n- **EntityDetails (Child)**: Sliding panel showing entity fields and relationships\n- **EntityFilter (Child)**: Collapsible filter panel with dynamic filters\n\n### State Management\n- Selected entity ID (persisted in savedUserSettings)\n- View mode (grid/card) (persisted)\n- Active filters (persisted)\n- Sort configuration (persisted)\n- Panel visibility states (details open, filters collapsed)\n- Search query\n- Loading states for async operations\n\n### Layout\n```\n+------------------+------------------------+------------------+\n|                  |                        |                  |\n|   Filter Panel   |    Entity Grid/Cards   |  Details Panel   |\n|   (Collapsible)  |    (Main Content)      |    (Sliding)     |\n|                  |                        |                  |\n|  [Schema Filter] |  +-----+  +-----+      |  Entity: Orders  |\n|  [Table Filter]  |  | Card |  | Card |     |                  |\n|  [Search Box]    |  +-----+  +-----+      |  Fields:         |\n|                  |                        |  - ID            |\n|  Sort By:        |  +-----+  +-----+      |  - CustomerID    |\n|  [Name ↓]        |  | Card |  | Card |     |  - OrderDate     |\n|                  |  +-----+  +-----+      |                  |\n|                  |                        |  Relationships:  |\n|                  |                        |  → Customers     |\n|                  |                        |  → OrderItems    |\n|                  |                        |                  |\n|                  |                        |  [Open Record]   |\n+------------------+------------------------+------------------+\n```\n\n### Data Flow\n1. Root component loads entities on mount\n2. Passes entity data to EntityList\n3. EntityList handles selection and passes selectedId up\n4. Root loads fields/relationships for selected entity\n5. Passes detailed data to EntityDetails\n6. Filter changes trigger data reload\n7. All user preferences saved via onSaveUserSettings\n\n### Interaction Patterns\n- Click entity card → Select and open details\n- Click filter → Apply and reload data\n- Click sort → Update sort and reload\n- Click ''Open'' → Trigger OpenEntityRecord callback\n- Press Escape → Close details panel\n- Click outside → Close details panel","properties":[],"events":[],"exampleUsage":"<EntityBrowser\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>","dependencies":[{"name":"EntityList","location":"registry","namespace":"Admin/Entities","version":"^1.0.0"},{"name":"EntityDetails","location":"registry","namespace":"Admin/Entities","version":"^1.0.0"},{"name":"EntityFilter","location":"registry","namespace":"Admin/Entities","version":"^1.0.0"},{"name":"OpenRecordButton","location":"registry","namespace":"Generic/Navigation","version":"^1.0.0"}],"libraries":[],"code":"function EntityBrowser({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Extract child components\n  const { EntityList, EntityDetails, EntityFilter } = components;\n  \n  // Initialize state from saved settings where appropriate\n  const [selectedEntityId, setSelectedEntityId] = useState(savedUserSettings?.selectedEntityId);\n  const [viewMode, setViewMode] = useState(savedUserSettings?.viewMode || ''grid'');\n  const [filters, setFilters] = useState(savedUserSettings?.filters || {});\n  const [sortBy, setSortBy] = useState(savedUserSettings?.sortBy || ''Name'');\n  const [sortDirection, setSortDirection] = useState(savedUserSettings?.sortDirection || ''asc'');\n  const [filterPanelCollapsed, setFilterPanelCollapsed] = useState(savedUserSettings?.filterPanelCollapsed || false);\n  \n  // Runtime UI state (not persisted)\n  const [entities, setEntities] = useState([]);\n  const [entityFields, setEntityFields] = useState([]);\n  const [entityRelationships, setEntityRelationships] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [detailsPanelOpen, setDetailsPanelOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('''');\n  const [uniqueSchemas, setUniqueSchemas] = useState([]);\n  const [uniqueTables, setUniqueTables] = useState([]);\n  \n  // Load entities on mount and when filters/sort change\n  useEffect(() => {\n    const loadEntities = async () => {\n      setLoading(true);\n      try {\n        // Build filter string\n        let filterParts = [];\n        if (filters.schema) {\n          filterParts.push(`SchemaName = ''$' + '{filters.schema}''`);\n        }\n        if (filters.table) {\n          filterParts.push(`BaseTable = ''$' + '{filters.table}''`);\n        }\n        if (searchQuery) {\n          filterParts.push(`(Name LIKE ''%$' + '{searchQuery}%'' OR DisplayName LIKE ''%$' + '{searchQuery}%'' OR Description LIKE ''%$' + '{searchQuery}%'')`);\n        }\n        \n        const result = await utilities.rv.RunView({\n          EntityName: ''Entities'',\n          Fields: [''ID'', ''Name'', ''DisplayName'', ''NameSuffix'', ''Description'', ''SchemaName'', ''BaseTable'', ''BaseView''],\n          OrderBy: `$' + '{sortBy} $' + '{sortDirection.toUpperCase()}`,\n          ExtraFilter: filterParts.length > 0 ? filterParts.join('' AND '') : undefined\n        });\n        \n        if (result?.Success && result?.Results) {\n          setEntities(result.Results);\n          \n          // Extract unique schemas and tables for filter dropdowns\n          const schemas = [...new Set(result.Results.map(e => e.SchemaName).filter(Boolean))];\n          const tables = [...new Set(result.Results.map(e => e.BaseTable).filter(Boolean))];\n          setUniqueSchemas(schemas);\n          setUniqueTables(tables);\n        } else {\n          console.error(''Failed to load entities:'', result?.ErrorMessage);\n          setEntities([]);\n        }\n      } catch (error) {\n        console.error(''Error loading entities:'', error);\n        setEntities([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadEntities();\n  }, [filters, sortBy, sortDirection, searchQuery]);\n  \n  // Load entity details when selection changes\n  useEffect(() => {\n    const loadEntityDetails = async () => {\n      if (!selectedEntityId) {\n        setEntityFields([]);\n        setEntityRelationships([]);\n        return;\n      }\n      \n      try {\n        // Load fields\n        const fieldsResult = await utilities.rv.RunView({\n          EntityName: ''Entity Fields'',\n          Fields: [''Name'', ''DisplayName'', ''Type'', ''Length'', ''AllowsNull'', ''IsPrimaryKey'', ''IsUnique'', ''Sequence''],\n          OrderBy: ''Sequence ASC, Name ASC'',\n          ExtraFilter: `EntityID = ''$' + '{selectedEntityId}''`\n        });\n        \n        if (fieldsResult?.Success && fieldsResult?.Results) {\n          setEntityFields(fieldsResult.Results);\n        } else {\n          setEntityFields([]);\n        }\n        \n        // Load relationships\n        const relationshipsResult = await utilities.rv.RunView({\n          EntityName: ''Entity Relationships'',\n          Fields: [''RelatedEntity'', ''Type'', ''DisplayName'', ''RelatedEntityJoinField'', ''Sequence''],\n          OrderBy: ''Sequence ASC, RelatedEntity ASC'',\n          ExtraFilter: `EntityID = ''$' + '{selectedEntityId}''`\n        });\n        \n        if (relationshipsResult?.Success && relationshipsResult?.Results) {\n          setEntityRelationships(relationshipsResult.Results);\n        } else {\n          setEntityRelationships([]);\n        }\n      } catch (error) {\n        console.error(''Error loading entity details:'', error);\n        setEntityFields([]);\n        setEntityRelationships([]);\n      }\n    };\n    \n    loadEntityDetails();\n  }, [selectedEntityId]);\n  \n  // Handle entity selection\n  const handleSelectEntity = useCallback((entityId) => {\n    setSelectedEntityId(entityId);\n    setDetailsPanelOpen(true);\n    \n    // Save user preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      selectedEntityId: entityId\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle view mode change\n  const handleViewModeChange = useCallback((mode) => {\n    setViewMode(mode);\n    \n    // Save preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      viewMode: mode\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle filter changes\n  const handleFilterChange = useCallback((newFilters) => {\n    setFilters(newFilters);\n    \n    // Save filter preferences\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      filters: newFilters\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle sort changes\n  const handleSortChange = useCallback((newSortBy, newSortDirection) => {\n    setSortBy(newSortBy);\n    setSortDirection(newSortDirection);\n    \n    // Save sort preferences\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      sortBy: newSortBy,\n      sortDirection: newSortDirection\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle filter panel toggle\n  const handleToggleFilter = useCallback(() => {\n    const newCollapsed = !filterPanelCollapsed;\n    setFilterPanelCollapsed(newCollapsed);\n    \n    // Save collapsed state\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      filterPanelCollapsed: newCollapsed\n    });\n  }, [filterPanelCollapsed, savedUserSettings, onSaveUserSettings]);\n  \n  // Handle opening entity record (kept for backward compatibility with details panel)\n  const handleOpenRecord = useCallback((entityName) => {\n    console.log(''Root handleOpenRecord called with entityName:'', entityName);\n    console.log(''Callbacks object:'', callbacks);\n    if (callbacks?.OpenEntityRecord && entityName) {\n      console.log(''Calling OpenEntityRecord callback with:'', ''Entities'', entityName);\n      // Open the Entities entity record for the selected entity\n      callbacks.OpenEntityRecord(''Entities'', [{ FieldName: ''Name'', Value: entityName }]);\n    } else {\n      console.error(''OpenEntityRecord callback not available or entityName missing'');\n    }\n  }, [callbacks]);\n  \n  // Handle closing details panel\n  const handleCloseDetails = useCallback(() => {\n    setDetailsPanelOpen(false);\n  }, []);\n  \n  // Handle search\n  const handleSearch = useCallback((query) => {\n    setSearchQuery(query);\n  }, []);\n  \n  // Get selected entity object\n  const selectedEntity = entities.find(e => e.ID === selectedEntityId);\n  \n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles?.borders?.radius === ''object'' ? styles?.borders?.radius?.[size] : styles?.borders?.radius;\n  };\n  \n  // Loading state\n  if (loading && entities.length === 0) {\n    return (\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        alignItems: ''center'',\n        height: ''100vh'',\n        fontSize: styles.typography.fontSize.lg,\n        color: styles.colors.textSecondary\n      }}>\n        Loading entities...\n      </div>\n    );\n  }\n  \n  return (\n    <div style={{\n      display: ''flex'',\n      height: ''100vh'',\n      backgroundColor: styles.colors.background,\n      overflow: ''hidden''\n    }}>\n      {/* Filter Panel */}\n      {EntityFilter && (\n        <EntityFilter\n          filters={filters}\n          onFilterChange={handleFilterChange}\n          schemas={uniqueSchemas}\n          tables={uniqueTables}\n          isCollapsed={filterPanelCollapsed}\n          onToggleCollapse={handleToggleFilter}\n          savedUserSettings={savedUserSettings?.filterPanel}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            filterPanel: settings\n          })}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n        />\n      )}\n      \n      {/* Main Content Area */}\n      <div style={{\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            marginBottom: styles.spacing.md\n          }}>\n            <h1 style={{\n              margin: 0,\n              fontSize: styles.typography.fontSize.xxl || styles.typography.fontSize.xl,\n              fontWeight: styles.typography.fontWeight?.bold || ''700'',\n              color: styles.colors.text\n            }}>\n              Entity Browser\n            </h1>\n            \n            {/* View Mode Toggle */}\n            <div style={{\n              display: ''flex'',\n              gap: styles.spacing.sm,\n              alignItems: ''center''\n            }}>\n              <span style={{\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.textSecondary\n              }}>\n                View:\n              </span>\n              <button\n                onClick={() => handleViewModeChange(''grid'')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: viewMode === ''grid'' ? styles.colors.primary : styles.colors.background,\n                  color: viewMode === ''grid'' ? ''white'' : styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Grid\n              </button>\n              <button\n                onClick={() => handleViewModeChange(''card'')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: viewMode === ''card'' ? styles.colors.primary : styles.colors.background,\n                  color: viewMode === ''card'' ? ''white'' : styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Cards\n              </button>\n            </div>\n          </div>\n          \n          {/* Search Bar */}\n          <div style={{\n            display: ''flex'',\n            gap: styles.spacing.md\n          }}>\n            <input\n              type=\"text\"\n              placeholder=\"Search entities...\"\n              value={searchQuery}\n              onChange={(e) => handleSearch(e.target.value)}\n              style={{\n                flex: 1,\n                padding: styles.spacing.md,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background\n              }}\n            />\n            {searchQuery && (\n              <button\n                onClick={() => handleSearch('''')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: styles.colors.surfaceHover || styles.colors.surface,\n                  color: styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Clear\n              </button>\n            )}\n          </div>\n        </div>\n        \n        {/* Entity List */}\n        <div style={{\n          flex: 1,\n          overflow: ''auto'',\n          padding: styles.spacing.lg\n        }}>\n          {EntityList && (\n            <EntityList\n              entities={entities}\n              viewMode={viewMode}\n              selectedEntityId={selectedEntityId}\n              onSelectEntity={handleSelectEntity}\n              sortBy={sortBy}\n              sortDirection={sortDirection}\n              onSortChange={handleSortChange}\n              savedUserSettings={savedUserSettings?.entityList}\n              onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                ...savedUserSettings,\n                entityList: settings\n              })}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n            />\n          )}\n          \n          {/* Empty State */}\n          {entities.length === 0 && !loading && (\n            <div style={{\n              display: ''flex'',\n              flexDirection: ''column'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              padding: styles.spacing.xxl || styles.spacing.xl,\n              color: styles.colors.textSecondary\n            }}>\n              <div style={{\n                fontSize: styles.typography.fontSize.xl,\n                marginBottom: styles.spacing.md\n              }}>\n                No entities found\n              </div>\n              <div style={{\n                fontSize: styles.typography.fontSize.md\n              }}>\n                {searchQuery || Object.keys(filters).length > 0\n                  ? ''Try adjusting your filters or search query''\n                  : ''No entities are available''}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Details Panel */}\n      {EntityDetails && (\n        <EntityDetails\n          entity={selectedEntity}\n          fields={entityFields}\n          relationships={entityRelationships}\n          isOpen={detailsPanelOpen}\n          onClose={handleCloseDetails}\n          onOpenRecord={() => handleOpenRecord(selectedEntity?.Name)}\n          savedUserSettings={savedUserSettings?.detailsPanel}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            detailsPanel: settings\n          })}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n        />\n      )}\n    </div>\n  );\n}"}'
SET
  @FunctionalRequirements_4bcb8d98 = N'## Entity Browser Requirements

### Core Functionality
- Display entities in a responsive grid or card layout based on user preference
- Allow users to select view mode (grid vs card)
- Click on an entity to slide in a details panel from the right
- Show entity metadata including fields and relationships in the details panel
- Provide a collapsible filter panel on the left side
- Support sorting by multiple fields with visual indicators
- Include a search bar for quick entity filtering
- Provide an ''Open'' button to trigger the OpenEntityRecord callback
- Remember user''s last selected entity and view preferences

### UX Considerations
- Smooth animations for panel transitions
- Responsive design that works on different screen sizes
- Loading states while fetching data
- Empty states with helpful messages
- Keyboard navigation support (arrow keys, tab, enter)
- Visual feedback for hover and selection states
- Maintain scroll position when switching between entities'
SET
  @TechnicalDesign_4bcb8d98 = N'## Technical Architecture

### Component Structure
- **Root Component (EntityBrowser)**: Manages overall layout and state coordination
- **EntityList (Child)**: Displays entities in grid/card view with sorting
- **EntityDetails (Child)**: Sliding panel showing entity fields and relationships
- **EntityFilter (Child)**: Collapsible filter panel with dynamic filters

### State Management
- Selected entity ID (persisted in savedUserSettings)
- View mode (grid/card) (persisted)
- Active filters (persisted)
- Sort configuration (persisted)
- Panel visibility states (details open, filters collapsed)
- Search query
- Loading states for async operations

### Layout
```
+------------------+------------------------+------------------+
|                  |                        |                  |
|   Filter Panel   |    Entity Grid/Cards   |  Details Panel   |
|   (Collapsible)  |    (Main Content)      |    (Sliding)     |
|                  |                        |                  |
|  [Schema Filter] |  +-----+  +-----+      |  Entity: Orders  |
|  [Table Filter]  |  | Card |  | Card |     |                  |
|  [Search Box]    |  +-----+  +-----+      |  Fields:         |
|                  |                        |  - ID            |
|  Sort By:        |  +-----+  +-----+      |  - CustomerID    |
|  [Name ↓]        |  | Card |  | Card |     |  - OrderDate     |
|                  |  +-----+  +-----+      |                  |
|                  |                        |  Relationships:  |
|                  |                        |  → Customers     |
|                  |                        |  → OrderItems    |
|                  |                        |                  |
|                  |                        |  [Open Record]   |
+------------------+------------------------+------------------+
```

### Data Flow
1. Root component loads entities on mount
2. Passes entity data to EntityList
3. EntityList handles selection and passes selectedId up
4. Root loads fields/relationships for selected entity
5. Passes detailed data to EntityDetails
6. Filter changes trigger data reload
7. All user preferences saved via onSaveUserSettings

### Interaction Patterns
- Click entity card → Select and open details
- Click filter → Apply and reload data
- Click sort → Update sort and reload
- Click ''Open'' → Trigger OpenEntityRecord callback
- Press Escape → Close details panel
- Click outside → Close details panel'
SET
  @FunctionalRequirementsVector_4bcb8d98 = N'[0.004174275789409876,0.05111471563577652,0.0013833075063303113,-0.04731394723057747,0.021230554208159447,-0.0027002294082194567,0.022683534771203995,0.04916800931096077,-0.012764963321387768,-0.026288049295544624,-0.013864154927432537,0.031500350683927536,0.01798391342163086,0.07666300237178802,0.024281559512019157,-0.058992255479097366,-0.0352327786386013,0.051761697977781296,-0.0015783353010192513,-0.0002535326930228621,0.032442059367895126,-0.022652678191661835,-0.02603263594210148,0.009503436274826527,0.010156022384762764,-0.007311134599149227,-0.0754614919424057,0.044195812195539474,0.012041721493005753,-0.05647633969783783,0.016704725101590157,0.04769042879343033,-0.04358229041099548,-0.024245236068964005,0.000002686881316549261,-0.010327788069844246,-0.06253283470869064,0.005981892347335815,-0.04272407293319702,0.013448424637317657,-0.049687135964632034,0.045457448810338974,0.02995258755981922,-0.032466284930706024,0.009138419292867184,-0.054112501442432404,-0.03601078689098358,0.02149156853556633,0.007412736304104328,-0.01964733563363552,0.006404660642147064,-0.0014960297849029303,-0.021479206159710884,-0.01964409649372101,0.019044315442442894,0.020587464794516563,0.021245116367936134,-0.08941341191530228,0.04962127283215523,-0.005828346591442823,-0.0037345578894019127,-0.010088442824780941,0.003679136512801051,-0.015860188752412796,0.03835358843207359,0.03856988996267319,0.07536717504262924,-0.04390190169215202,0.023047376424074173,0.02067086659371853,0.16367365419864655,0.014953892678022385,-0.007933823391795158,-0.026783866807818413,0.0020639405120164156,0.0500323660671711,0.025046801194548607,-0.02109682559967041,-0.018703127279877663,0.0032019366044551134,-0.039117857813835144,-0.02922191470861435,-0.03636098653078079,-0.02075071819126606,-0.056995589286088943,0.024563051760196686,0.030387070029973984,-0.03549591079354286,-0.0364379808306694,-0.03316788747906685,0.06746787577867508,-0.017631467431783676,0.0024335801135748625,0.012237521819770336,-0.06040101498365402,-0.03233635425567627,0.043694909662008286,-0.041537754237651825,0.04183033108711243,0.024148277938365936,-0.009363251738250256,0.01506926491856575,0.02185802347958088,0.009000583551824093,0.08468172699213028,0.018550191074609756,-0.01147902850061655,-0.03263435885310173,0.03571216017007828,0.020579306408762932,-0.005570827983319759,0.018278006464242935,-0.007616785354912281,0.052164167165756226,-0.06089991703629494,0.04623197391629219,-0.019069181755185127,-0.005330052226781845,0.0011925984872505069,0.03607235103845596,0.062353819608688354,0.019341448321938515,0.024252688512206078,0.02187463454902172,-0.030306769534945488,0.03020092472434044,-0.045880336314439774,-0.06924848258495331,-0.015723619610071182,-0.012574938125908375,-0.0069310590624809265,-0.02418147213757038,0.0017286853399127722,-0.022291218861937523,-0.014409195631742477,0.028333621099591255,0.054395824670791626,-0.020692111924290657,-0.09174640476703644,0.0042228540405631065,0.002945568412542343,-0.016506968066096306,-0.06390412896871567,0.03504176437854767,0.029139384627342224,0.01220757607370615,-0.016152305528521538,-0.04750913381576538,0.022036438807845116,0.017260419204831123,0.01155279204249382,-0.04794630408287048,-0.0338716097176075,0.0071987188421189785,0.014229759573936462,0.023396549746394157,0.058072999119758606,0.013038055039942265,0.024319272488355637,-0.012736015021800995,0.024523334577679634,0.02428358606994152,0.007127709221094847,-0.005296854767948389,-0.00856489222496748,0.011304613202810287,0.013246001675724983,0.0025656800717115402,-0.04158945381641388,-0.019136326387524605,-0.051871392875909805,-0.018076060339808464,-0.01726445183157921,-0.006454330403357744,0.024098610505461693,0.006652907934039831,0.07055266201496124,-0.010385699570178986,-0.021784020587801933,0.03686146065592766,0.01859150268137455,-0.024953650310635567,-0.007500252686440945,0.04238870367407799,0.11141149699687958,-0.057350266724824905,0.05525565519928932,0.045895084738731384,-0.01957390271127224,-0.0049650645814836025,0.04289490357041359,-0.01585393399000168,-0.06813688576221466,0.0067279445938766,0.024639353156089783,-0.00504089891910553,-0.005040379706770182,0.03163769841194153,0.05718306079506874,-0.00839186180382967,-0.03905988484621048,-0.013966118916869164,0.05227312073111534,0.08603906631469727,0.028300298377871513,0.015216761268675327,-0.04831719771027565,-0.02037975750863552,-0.019677210599184036,0.0009354784851893783,0.009675377048552036,-0.01493418961763382,-0.039700884371995926,0.036761246621608734,-0.0355583056807518,0.0010059644700959325,0.03028847649693489,0.03559252247214317,-0.03893829509615898,0.016411442309617996,-0.02695760689675808,-0.008948162198066711,0.07075235992670059,0.014798804186284542,0.07797729223966599,0.043845124542713165,0.011994834057986736,0.0462939627468586,0.00963510386645794,0.02414241060614586,0.008767186664044857,-0.01689971052110195,0.00767153687775135,0.05149794742465019,0.03004852868616581,-0.0007936269394122064,0.042394008487463,0.12033409625291824,-0.019049575552344322,0.05311133340001106,0.07346092164516449,-0.053572382777929306,0.000783717492595315,-0.012241866439580917,-0.062233299016952515,-0.021001748740673065,-0.030053891241550446,0.021034078672528267,0.03324878215789795,-0.01616331748664379,7.97145389697107e-7,0.005938867572695017,0.02974129468202591,0.012371032498776913,0.02541598305106163,-0.0015524548944085836,-0.012936268001794815,0.010267052799463272,-0.04555830731987953,0.04278495907783508,0.003938098903745413,-0.0006379765109159052,-0.007530286442488432,-0.02276526764035225,0.004991262685507536,-0.01091789174824953,0.062460366636514664,-0.0838872492313385,0.0014573476510122418,-0.0007734144455753267,0.0019189798040315509,0.023093678057193756,0.05475015565752983,-0.032474372535943985,-0.016739143058657646,0.020274076610803604,-0.002793314168229699,0.011827295646071434,-0.013948079198598862,-0.032808978110551834,0.03710489720106125,-0.02342243865132332,-0.011829588562250137,0.030559740960597992,-0.015751827508211136,0.02787971869111061,0.012315580621361732,-0.05653290078043938,0.007827788591384888,-0.01741771399974823,0.02977868728339672,0.005452925805002451,0.03905351087450981,0.023152364417910576,-0.0036902569700032473,0.007795488461852074,-0.03795824944972992,0.04032445698976517,-0.01155012845993042,0.06673838943243027,-0.00256545003503561,-0.02602040208876133,-0.06474709510803223,0.02942078560590744,-0.012000623159110546,0.06619998067617416,-0.006607001181691885,0.01695634052157402,0.033881381154060364,0.06043179705739021,-0.043245065957307816,0.028594812378287315,0.0299307219684124,-0.013996338471770287,0.021544627845287323,0.03761817887425423,0.0535014271736145,0.033180203288793564,0.008951696567237377,0.04893455281853676,-0.018834935501217842,0.010763783007860184,0.02930140495300293,0.007482275832444429,-0.02236107923090458,0.007596155162900686,0.022766025736927986,0.00025943058426491916,-0.013804163783788681,-0.032592952251434326,-0.012751206755638123,-0.001723522087559104,0.0001759295555530116,-0.011922826059162617,0.0638706386089325,0.011023484170436859,-0.031443558633327484,0.009265984408557415,0.005495546385645866,-0.029258182272315025,-0.029491443186998367,-0.03361416608095169,-0.024985680356621742,0.033398840576410294,0.034538090229034424,-0.03485339507460594,0.039039354771375656,-0.01197440642863512,-0.07027463614940643,0.0011445365380495787,0.0030767619609832764,0.025942938402295113,-0.007961451075971127,-0.016389494761824608,0.04559813439846039,-0.018562858924269676,-0.045332055538892746,0.03006383404135704,-0.03475663810968399,-0.022896550595760345,0.05062590539455414,0.07724364101886749,-0.04142279550433159,-0.03377491235733032,0.028302740305662155,0.0055799768306314945,0.03572910651564598,-0.037588514387607574,-0.018964441493153572,-0.019985726103186607,0.0047399611212313175,-0.033873263746500015,-0.010747000575065613,0.05303781107068062,0.013983957469463348,-0.022426122799515724,-0.017776066437363625,0.02106304280459881,0.02978149801492691,-0.0014406152768060565,0.041716448962688446,-0.04006527364253998,0.06394180655479431,-0.024617861956357956,0.08961338549852371,0.00492308521643281,-0.024242902174592018,0.02883085049688816,-0.007365470286458731,0.011930051259696484,-0.043000493198633194,0.021377157419919968,0.010413180105388165,-0.09373380243778229,0.012327419593930244,-0.01362081803381443,-0.040026627480983734,0.0466756634414196,0.027008220553398132,0.0015307696303352714,-0.03938819840550423,0.06986553221940994,0.001687066163867712,-0.010839677415788174,-0.0027052329387515783,-0.00602807616814971,0.01231066882610321,0.040154360234737396,0.04488757625222206,-0.03415624797344208,-0.12322753667831421,-0.021955285221338272,-0.05309846252202988,-0.05393966659903526,0.028382128104567528,-0.04363810643553734,0.0065308669582009315,-0.05006558448076248,0.01785574108362198,0.06982117146253586,0.0015285409754142165,0.015017697587609291,-0.023099156096577644,-0.03713966906070709,0.029262667521834373,-0.031776200979948044,-0.06265782564878464,-0.01396120898425579,-0.010233952663838863,0.026422491297125816,-0.07912175357341766,-0.022094301879405975,-0.004922172054648399,0.021942926570773125,-0.04320378601551056,0.012844332493841648,0.039296768605709076,0.0016593621112406254,-0.023840326815843582,-0.013736557215452194,-0.01870429329574108,-0.012052537873387337,0.02290123514831066,0.05168723315000534,-0.015356846153736115,0.018383067101240158,0.0029882562812417746,0.026173511520028114,-0.04558741673827171,0.0034595471806824207,-0.003886687569320202,-0.03388405963778496,-0.043221257627010345,0.04671582207083702,0.0077175721526145935,-0.018327588215470314,-0.060545340180397034,0.029640406370162964,-0.027569672092795372,-0.011351709254086018,0.010274434462189674,0.014743175357580185,-0.014293394051492214,-0.012026170268654823,0.020134998485445976,-0.06861229985952377,0.009340701624751091,-0.14934216439723969,-0.0550108440220356,-0.027545612305402756,0.05396266281604767,-0.032988112419843674,-0.021228227764368057,-0.04218081757426262,-0.030280932784080505,-0.014339026995003223,0.018205350264906883,0.009393651969730854,-0.07547705620527267,0.01668425090610981,0.002308100461959839,0.01939520239830017,0.01135324127972126,-0.07758448272943497,0.010476058349013329,0.06882920116186142,0.012163640931248665,-0.014115488156676292,0.00027419684920459986,0.012913091108202934,-0.061376817524433136,0.011913604103028774,0.01627226360142231,0.06926288455724716,0.045032404363155365,-0.025642501190304756,-0.09954409301280975,0.06040724366903305,-0.08618553727865219,-0.04020547494292259,0.0010867308592423797,-0.016208453103899956,0.011392012238502502,0.00910860300064087,0.024955905973911285,0.007548796012997627,-0.04006092622876167,0.04408049210906029,0.004260971210896969,-0.013376318849623203,0.026742396876215935,-0.03239070996642113,-0.005804188549518585,0.024335049092769623,-0.007000706624239683,0.10298246145248413,-0.016620883718132973,0.02553175948560238,0.016247205436229706,-0.010735376738011837,0.013684866949915886,0.0024638106115162373,-0.028196219354867935,0.0098172752186656,0.04527060315012932,-0.017054161056876183,0.022540651261806488,0.006348705384880304,0.02101750671863556,0.027496498078107834,-0.012920225970447063,-0.012266197241842747,0.021748842671513557,-0.022857461124658585,-0.033692367374897,0.016137581318616867,0.017116134986281395,0.007957717403769493,-0.04067130759358406,-0.017934871837496758,-0.0667642131447792,0.04778672382235527,-0.0003266198909841478,-0.0321640819311142,-0.037287428975105286,-0.005450498778373003,0.015978243201971054,-0.024675589054822922,0.051398612558841705,0.029506122693419456,-0.00018634308071341366,-0.05802858620882034,-0.0236658938229084,-0.005470556207001209,0.0006494188564829528,-7.218020940152529e-33,-0.049355700612068176,-0.010692154988646507,-0.03328770771622658,0.003730830503627658,0.03334006294608116,-0.11176028847694397,0.0012036253465339541,-0.01829754374921322,-0.012164105661213398,-0.015813514590263367,0.008101693354547024,-0.04550822079181671,0.008519398979842663,0.02319558709859848,-0.00373276649042964,0.017698409035801888,0.0172131285071373,0.0015608614776283503,-0.012068310752511024,0.03978222236037254,-0.04034480080008507,0.043302036821842194,-0.04216327145695686,-0.09037218242883682,-0.006055533420294523,-0.021806228905916214,0.04038169980049133,-0.004774731118232012,-0.05420058220624924,0.050603318959474564,0.0007538123172707856,-0.02644198387861252,-0.025332072749733925,-0.07208851724863052,0.014120564796030521,-0.014799066819250584,-0.1000651866197586,-0.01465010829269886,-0.0031650816090404987,0.03626532852649689,0.049910884350538254,-0.009531919844448566,-0.00651947408914566,0.014322427101433277,0.015413366258144379,0.00943826511502266,0.03536556661128998,0.0031401393935084343,-0.018238166347146034,-0.06972049921751022,0.025565968826413155,0.0002395670162513852,-0.03114374168217182,0.03344258666038513,0.035555917769670486,-0.00012175864685559645,0.03822872415184975,-0.02039782889187336,-0.057218704372644424,-0.03275901451706886,-0.0012428577756509185,-0.04044116288423538,-0.03269380331039429,0.003876991104334593,0.04305882751941681,0.015335539355874062,0.029860876500606537,0.008746925741434097,-0.09132935106754303,0.017576878890395164,-0.0001502617815276608,0.02184533141553402,-0.004838197957724333,-0.06965339183807373,-0.039733849465847015,0.007651158608496189,-0.052992429584264755,0.02201230451464653,-0.09232015907764435,0.0672965869307518,0.026249336078763008,0.007179647218436003,-0.0177971962839365,-0.010366111993789673,0.01724175736308098,-0.026313789188861847,-0.007258309982717037,-0.026572106406092644,0.03650899603962898,-0.004101375117897987,-0.026999957859516144,-0.039361510425806046,-0.07338671386241913,0.02910623885691166,-0.10663747042417526,0.022293876856565475,0.05882763862609863,-0.011447756551206112,-0.01888852007687092,-0.028011318296194077,0.05164847522974014,-0.01538556907325983,0.012242813594639301,-0.016705989837646484,-0.019362619146704674,-0.005741841625422239,0.0013956454349681735,-0.035425543785095215,-0.06229955330491066,0.022551627829670906,0.028812311589717865,0.0004685336316470057,0.012887051329016685,-0.0345989353954792,0.006564559414982796,-0.00491331284865737,0.0010802150936797261,0.02230776473879814,0.029328377917408943,0.014993203803896904,0.0023546817246824503,-0.00921882688999176,0.030717920511960983,0.022869693115353584,0.06892100721597672,-0.018847696483135223,0.01210706029087305,0.027142001315951347,-0.0015401241835206747,0.014426779001951218,-0.012266167439520359,0.0072242869064211845,3.4120080272259656e-7,-0.00810479186475277,-0.01060582883656025,0.01183418370783329,0.00426562549546361,0.024782346561551094,-0.025081593543291092,-0.015158070251345634,-0.053163059055805206,-0.004381984006613493,-0.07768041640520096,0.033455636352300644,0.03920185565948486,0.03182097524404526,0.03179464861750603,-0.07228801399469376,-0.0452999509871006,0.07857406884431839,-0.005179508123546839,-0.05416570231318474,0.0027767186984419823,0.047731563448905945,-0.007716755848377943,0.03842070698738098,0.016668278723955154,0.009668547660112381,0.04062163829803467,-0.02464425005018711,-0.03591863065958023,0.06845156848430634,0.010463178157806396,0.034056082367897034,0.028865380212664604,-0.006892130244523287,0.018594292923808098,0.013006933033466339,0.0020253395196050406,-0.015093611553311348,-0.004585708025842905,0.038084641098976135,0.03264269605278969,0.06947857141494751,-0.05707767233252525,-0.003573264228180051,-0.040818724781274796,0.013329748995602131,-0.028789136558771133,-0.01115657389163971,0.1066916212439537,-0.05056250840425491,0.009733850136399269,0.00013930558634456247,0.010903549380600452,0.009808048605918884,-0.07816942036151886,0.009670688770711422,-0.01967761293053627,-0.02575063332915306,0.020151685923337936,0.0298002976924181,0.048176366835832596,0.012932400219142437,-0.009806533344089985,-0.006796200759708881,-0.0219188891351223,-0.007027847226709127,-0.018589457497000694,-0.009083437733352184,4.0660041946030796e-34,-0.02484784461557865,0.00969664752483368,0.004307225812226534,0.08885914087295532,0.02206922136247158,-0.04399288073182106,0.004794331267476082,-0.06885392218828201,0.025884432718157768,-0.0489572174847126,-0.010574831627309322]'
SET
  @TechnicalDesignVector_4bcb8d98 = N'[0.007887348532676697,0.09239884465932846,-0.013469913974404335,-0.002603772096335888,0.013822603039443493,-0.007692547980695963,-0.017012106254696846,0.05582994595170021,0.004440227057784796,-0.009024495258927345,-0.059758882969617844,-0.02289585955440998,0.05035702511668205,0.019176235422492027,-0.03743356466293335,-0.0023474732879549265,0.02096608653664589,0.06469889730215073,-0.037002261728048325,-0.0669974684715271,-0.011478169821202755,-0.04715615510940552,0.040615953505039215,-0.01931094564497471,0.06441954523324966,0.003484114306047559,-0.04039033129811287,0.012022376991808414,0.033144645392894745,-0.03775321692228317,-0.005571708548814058,0.016400767490267754,-0.03166553005576134,0.011159222573041916,0.000002173365828639362,-0.015796789899468422,-0.07490261644124985,-0.004797183908522129,-0.03349154070019722,-0.0010709124617278576,-0.089422807097435,-0.01722441427409649,0.0006769414176233113,-0.015931367874145508,-0.01714419759809971,-0.05739350989460945,-0.07529165595769882,0.07950696349143982,-0.006714880932122469,-0.0025562511291354895,0.0022933129221200943,-0.03313018009066582,-0.016716914251446724,0.01024982426315546,0.014636470004916191,0.031627438962459564,0.01946917362511158,-0.04853768274188042,0.07816211879253387,-0.03339741379022598,-0.0446639247238636,0.02970583364367485,0.019285211339592934,-0.042547404766082764,0.04467718303203583,-0.016115745529532433,0.0807100459933281,0.02997288480401039,0.02070973627269268,-0.044304341077804565,0.04940083622932434,0.0017758464673534036,0.01864122971892357,0.010615240782499313,-0.05327240377664566,0.018774988129734993,0.013934395276010036,-0.0023450737353414297,-0.0063188811764121056,0.009312012232840061,0.0289019662886858,0.02335936948657036,-0.009003537707030773,-0.004390597343444824,-0.028831666335463524,0.09713400155305862,-0.019558504223823547,-0.02510269545018673,-0.045141175389289856,-0.044498976320028305,0.03465594723820686,-0.05543386563658714,0.021084826439619064,0.049920450896024704,-0.04672415181994438,0.0028793320525437593,0.040886249393224716,-0.0034881073515862226,0.016686806455254555,-0.029166677966713905,0.001174479490146041,0.0441473163664341,0.03708421438932419,-0.005668162368237972,0.04948650300502777,0.03564158082008362,-0.003379689296707511,-0.013699952512979507,0.014328580349683762,0.03202706575393677,-0.0296702329069376,-0.007949963212013245,0.032877419143915176,0.07930728793144226,-0.03827495500445366,0.0031558279879391193,-0.045327771455049515,-0.04715713486075401,-0.03134872391819954,-0.025635911151766777,0.055951785296201706,-0.0066389967687428,0.050624895840883255,0.024031314998865128,0.024474870413541794,0.03876388072967529,0.02614082209765911,-0.07922705262899399,-0.021288424730300903,0.042043473571538925,-0.014533858746290207,-0.05130913108587265,0.0180420633405447,0.0273115336894989,-0.013247228227555752,0.015159008093178272,0.034096721559762955,-0.004257567692548037,-0.06387167423963547,-0.008421546779572964,0.014811331406235695,-0.008560281246900558,-0.011230011470615864,0.03789504989981651,0.0018211242277175188,-0.008063252083957195,0.03201528638601303,-0.00462976424023509,-0.017840353772044182,-0.017225228250026703,0.03481007739901543,-0.008777747862040997,0.024365801364183426,0.03123532049357891,0.026168568059802055,0.06695171445608139,0.09135301411151886,0.023611748591065407,0.09937816113233566,-0.06500814855098724,0.01702439785003662,0.07213029265403748,0.005263030994683504,-0.00442898366600275,-0.015150060877203941,0.013112448155879974,0.04081403836607933,-0.029968254268169403,-0.07980494201183319,-0.04107458144426346,-0.03746609762310982,-0.016629522666335106,-0.029226552695035934,0.08090424537658691,0.007251843344420195,-0.061252444982528687,0.042830199003219604,-0.028507433831691742,-0.060911428183317184,-0.03052954189479351,0.004105111118406057,0.048513006418943405,-0.011031153611838818,0.007740675006061792,0.06888297200202942,-0.0725679025053978,0.021452361717820168,0.018526041880249977,0.01994878239929676,0.00699198991060257,0.05107881873846054,0.02602745220065117,-0.05762631446123123,-0.009917535819113255,-0.023875674232840538,0.046723563224077225,-0.032620418816804886,0.003394234227016568,0.016736313700675964,0.02201324701309204,0.029954496771097183,-0.044301025569438934,0.08695825189352036,0.07144641876220703,0.011695913970470428,0.01858345977962017,-0.059531982988119125,0.06354153156280518,-0.010806085541844368,-0.06748340278863907,-0.03713838383555412,-0.0080560939386487,-0.012715077959001064,0.046918291598558426,-0.05494135618209839,0.060214102268218994,0.05126950144767761,-0.0004620196996256709,-0.012371365912258625,-0.019276265054941177,-0.004533511586487293,0.03367595374584198,0.02442331053316593,-0.0037631087470799685,0.04365001618862152,0.053565412759780884,0.035466086119413376,0.022225039079785347,-0.0013904096558690071,-0.0459202378988266,0.015457753092050552,0.012761409394443035,-0.024999039247632027,0.015006585977971554,-0.015658792108297348,0.02988898940384388,-0.04103836044669151,0.03354041278362274,-0.024018660187721252,0.024917375296354294,0.04743790999054909,-0.07451444864273071,0.010553927160799503,-0.04629484564065933,-0.08672723919153214,-0.037047095596790314,-0.015733620151877403,0.054530125111341476,0.012748553417623043,-0.022659873589873314,-0.005722021218389273,0.0047281417064368725,0.010705875232815742,-0.01975526101887226,-0.04225211590528488,-0.0060515375807881355,-0.02194584161043167,0.004022533539682627,0.004027994349598885,0.011947461403906345,0.02218478173017502,0.0320676788687706,-0.0063171000219881535,-0.027167372405529022,0.03728910908102989,-0.022899052128195763,0.042268864810466766,-0.0233169998973608,0.035302918404340744,0.01139020174741745,0.003519589314237237,0.025806833058595657,0.061668846756219864,0.0012096759164705873,0.03683660551905632,0.02615833282470703,0.004610317759215832,0.07333364337682724,-0.028397416695952415,-0.04676101729273796,0.0023426010739058256,-0.02675250731408596,0.0013345233164727688,0.038682032376527786,-0.03065565787255764,-0.00803106464445591,0.005316291004419327,-0.03130226954817772,-0.006054159719496965,0.0011941910488530993,0.0071290768682956696,-0.0035590934567153454,0.013498430140316486,-0.029353324323892593,-0.033964306116104126,0.006278888322412968,-0.013675487600266933,0.014830181375145912,-0.002285836497321725,0.014069271273911,-0.007006434258073568,-0.00429873401299119,-0.023412475362420082,-0.025795023888349533,0.0019165767589583993,0.046342018991708755,0.010045952163636684,0.037295177578926086,0.03275806084275246,0.021406088024377823,-0.034777671098709106,0.041929688304662704,-0.003575086360797286,-0.04363790526986122,0.016330452635884285,0.027755368500947952,0.03674210235476494,-0.06138882413506508,0.013820302672684193,0.0738653838634491,-0.009111073799431324,-0.007448957767337561,0.00648637255653739,0.052692562341690063,0.008778445422649384,0.012145311571657658,0.012261777184903622,-0.005892923567444086,-0.002941823797300458,0.012882757931947708,0.019573640078306198,-0.03261195495724678,-0.0033788220025599003,-0.06058524176478386,0.03253604844212532,-0.04071979969739914,0.000475701701361686,0.04656655341386795,-0.023264333605766296,-0.025111084803938866,0.030706651508808136,-0.01853867806494236,-0.044480305165052414,0.058776065707206726,0.03959370031952858,0.006179255899041891,0.009530838578939438,-0.019655993208289146,-0.07375624030828476,0.005416591186076403,-0.006231693085283041,0.04204689711332321,-0.018364734947681427,-0.019129058346152306,-0.01139004249125719,0.03402741998434067,-0.005278036929666996,0.03517529368400574,0.03873828426003456,-0.027931401506066322,0.05933309718966484,0.06449858844280243,0.050555311143398285,-0.023589160293340683,0.021498698741197586,0.016591373831033707,0.041066307574510574,-0.005995574872940779,-0.029281875118613243,-0.04664590209722519,-0.03408543020486832,-0.01062447763979435,-0.0188223235309124,0.05141352489590645,0.017954714596271515,0.02122604101896286,0.014423932880163193,0.0073160226456820965,0.002493602456524968,-0.0137445954605937,0.029652828350663185,-0.00493454048410058,0.08767836540937424,0.013555692508816719,0.04722859710454941,-0.030068200081586838,0.012340664863586426,-0.04535592347383499,-0.019235534593462944,-0.0129581643268466,-0.025441162288188934,0.0043521784245967865,-0.01199471578001976,-0.06117311492562294,-0.002893626457080245,0.012510302476584911,-0.03886982426047325,0.06156305596232414,0.035093847662210464,-0.0016679750988259912,-0.05782999098300934,0.08275776356458664,0.03330055624246597,0.055653996765613556,-0.03761459141969681,-0.052014902234077454,0.018921788781881332,0.011255479417741299,0.056535642594099045,0.01069369725883007,-0.015901479870080948,-0.007154784165322781,-0.0500936359167099,-0.04214576259255409,-0.016618989408016205,-0.042554277926683426,-0.0021075191907584667,-0.038424279540777206,-0.004145205486565828,0.03322760760784149,-0.02256607823073864,0.02446131408214569,-0.03187410160899162,-0.03090750053524971,0.02419942244887352,-0.005235753953456879,0.014180880971252918,-0.01287794578820467,-0.012998465448617935,-0.004782822914421558,-0.04273416846990585,0.01913820393383503,0.05115160346031189,0.07417653501033783,0.038737859576940536,-0.025575505569577217,0.06845185905694962,-0.0008915721555240452,0.06370294839143753,-0.02067495323717594,0.020593388006091118,-0.08325744420289993,0.06387287378311157,0.07557820528745651,0.00747029110789299,-0.003946938551962376,-0.027436576783657074,0.09097319096326828,-0.05785050243139267,-0.02615995891392231,0.013883671723306179,-0.03991564363241196,0.030752407386898994,-0.010440954938530922,-0.013295333832502365,-0.02504398673772812,-0.03645719215273857,0.05397051200270653,-0.03413885086774826,0.027099495753645897,0.01412005815654993,0.04127845540642738,-0.015749305486679077,-0.0010370920645073056,0.014119336381554604,-0.062243543565273285,0.020881598815321922,-0.05244824290275574,-0.040658269077539444,-0.01817817986011505,0.011659832671284676,-0.0453212596476078,0.012921538203954697,0.028269372880458832,0.01760408841073513,-0.03782133758068085,-0.0002054307551588863,-0.011891139671206474,-0.049700260162353516,-0.024683210998773575,-0.0017653359100222588,0.01354581955820322,-0.0425461009144783,-0.05076335370540619,0.018837247043848038,0.03437795862555504,-0.017726466059684753,-0.018187401816248894,0.011609422974288464,-0.013598388992249966,-0.024777989834547043,0.059504300355911255,-0.023631032556295395,0.005051605869084597,0.01805752143263817,-0.021316416561603546,-0.011647270992398262,0.025302812457084656,-0.04903960973024368,-0.09963822364807129,-0.01098665315657854,-0.017386971041560173,0.04876607656478882,0.022965218871831894,0.07609128952026367,-0.043740104883909225,-0.04798933118581772,0.035176441073417664,-0.01763494685292244,-0.04188229516148567,-0.042675819247961044,-0.02575555071234703,-0.08716794848442078,0.026972942054271698,0.022503461688756943,0.05607042461633682,-0.032790057361125946,-0.05769882723689079,0.03065875731408596,-0.047465112060308456,0.03732144087553024,0.020564738661050797,-0.01106527540832758,0.005248419474810362,0.019371701404452324,-0.02492739073932171,0.00981840305030346,0.02155287005007267,0.0696263387799263,0.024006307125091553,-0.007758944295346737,-0.010403917171061039,-0.011687970720231533,0.009208040311932564,-0.02785983309149742,0.03483916074037552,0.019221018999814987,-0.01938648894429207,-0.026495587080717087,-0.04172063246369362,-0.0760112777352333,0.029509587213397026,0.03988030552864075,-0.008185450918972492,0.010054192505776882,-0.06720401346683502,0.0648871660232544,-0.04198404401540756,-0.008450732566416264,0.04173615947365761,0.006356783676892519,-0.08405972272157669,-0.014551225118339062,-0.02933128923177719,0.04486893489956856,-6.101662036700264e-33,-0.02156643010675907,-0.05706745758652687,-0.016626715660095215,-0.003426352282986045,0.032705795019865036,-0.008536078967154026,-0.01581210270524025,-0.034245338290929794,-0.02874196693301201,-0.05778958648443222,0.002546137198805809,-0.01813795603811741,0.005301822442561388,0.013216025196015835,-0.023700762540102005,-0.03637763857841492,0.01615861989557743,0.013525201007723808,-0.031197117641568184,0.00760236382484436,-0.012750091031193733,0.009082544595003128,-0.04616377130150795,-0.004736363887786865,-0.012230406515300274,0.024923687800765038,-0.016817867755889893,0.01904118061065674,-0.08280646055936813,0.0453684963285923,-0.041467614471912384,-0.032082296907901764,-0.021540429443120956,-0.08824001997709274,0.03243204206228256,-0.03889629989862442,-0.07586118578910828,0.01618117094039917,0.010007492266595364,0.005224519409239292,0.052489664405584335,0.016070475801825523,0.009795470163226128,0.026377089321613312,-0.003846269566565752,-0.033754829317331314,0.005947174970060587,0.007577921729534864,0.029491538181900978,-0.05724934861063957,-0.041908666491508484,-0.004051979165524244,-0.011952378787100315,0.022677304223179817,-0.00787944346666336,0.02475007250905037,0.05730816349387169,0.04575307294726372,-0.07674801349639893,-0.02290700562298298,0.020236004143953323,-0.03282758966088295,0.010988248512148857,0.009805991314351559,0.03072245419025421,0.02607736736536026,0.013558084145188332,0.026194307953119278,-0.03890911117196083,-0.04625742882490158,-0.00495975511148572,0.0013476916356012225,-0.016658641397953033,-0.017973214387893677,0.03855251148343086,0.002966079395264387,-0.08849594742059708,0.021645227447152138,-0.12123148143291473,0.048474784940481186,-0.01861441880464554,0.02535371296107769,0.026795336976647377,0.021465450525283813,0.002084864303469658,-0.04168488457798958,0.021505165845155716,0.02066357433795929,-0.03897256404161453,-0.004748402629047632,0.01642940752208233,-0.06080937385559082,-0.07188814133405685,0.02861061505973339,-0.0989571213722229,-0.015997152775526047,0.04266401380300522,-0.0032051464077085257,0.00595524488016963,0.03779667988419533,0.08523508906364441,-0.0022460492327809334,0.006462850142270327,0.005623547360301018,-0.04432925209403038,0.014001083560287952,0.06398162245750427,0.050039153546094894,-0.04844692349433899,0.016858085989952087,0.0218164324760437,-0.019923215731978416,-0.031289491802453995,0.04205075278878212,0.01948601007461548,0.027077512815594673,0.009054097346961498,-0.08855964988470078,0.036059338599443436,0.037916891276836395,0.029879268258810043,0.027780501171946526,-0.017853831872344017,0.05575169622898102,0.04985090717673302,0.026989152655005455,-0.012672060169279575,0.0018431267235428095,-0.045148205012083054,-0.05764941871166229,0.006482991855591536,0.006095329765230417,2.838916941527714e-7,0.008326143026351929,-0.006573188584297895,-0.04191191494464874,-0.017870718613266945,0.001773921074345708,-0.0423547625541687,-0.029398538172245026,-0.05016305297613144,-0.010642132721841335,-0.058915477246046066,0.024556422606110573,0.003026713849976659,0.04358268156647682,-0.0036397124640643597,-0.0502987876534462,-0.04777326434850693,0.037139445543289185,-0.036887139081954956,-0.019645141437649727,-0.03419717773795128,0.00289920368231833,0.012402464635670185,0.019834578037261963,-0.01168005634099245,0.006448079831898212,0.08372515439987183,-0.0038772185798734426,-0.0512348897755146,0.03223251923918724,-0.05321603640913963,0.019564716145396233,-0.009316566400229931,0.009864438325166702,-0.01088602002710104,0.02692718803882599,0.033402733504772186,0.0008131853537634015,0.0013636995572596788,0.05858901888132095,-0.0018949807854369283,0.03553880378603935,-0.0009599504992365837,-0.0414622463285923,-0.08245451003313065,-0.0014606110053136945,-0.037638094276189804,-0.01655471697449684,0.05003877356648445,-0.0022164583206176758,0.029418820515275,0.007087914273142815,0.036412350833415985,-0.030064262449741364,-0.006488390266895294,0.03169116750359535,-0.034588370472192764,0.019637933000922203,0.022999584674835205,0.02115926519036293,0.008117543533444405,-0.015881270170211792,-0.013227717950940132,0.023727642372250557,0.00767738651484251,-0.008463087491691113,0.024487009271979332,-0.04094106703996658,3.461323701644104e-34,-0.030870238319039345,-0.034159597009420395,0.024901477620005608,0.023128623142838478,0.022815387696027756,-0.040410373359918594,-0.031028104946017265,-0.015683738514780998,0.04496607556939125,-0.023247020319104195,-0.03158096969127655]'
SET
  @HasCustomProps_4bcb8d98 = 0
SET
  @HasCustomEvents_4bcb8d98 = 0
SET
  @RequiresData_4bcb8d98 = 1
SET
  @DependencyCount_4bcb8d98 = 4
SET
  @TechnicalDesignVectorEmbeddingModelID_4bcb8d98 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_4bcb8d98 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_4bcb8d98 = 0
SET
  @ID_4bcb8d98 = '77571F8B-A4A2-4CD3-AC23-A59D6E989F5D'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_4bcb8d98,
  @Name = @Name_4bcb8d98,
  @Version = @Version_4bcb8d98,
  @VersionSequence = @VersionSequence_4bcb8d98,
  @Title = @Title_4bcb8d98,
  @Description = @Description_4bcb8d98,
  @Type = @Type_4bcb8d98,
  @Status = @Status_4bcb8d98,
  @DeveloperName = @DeveloperName_4bcb8d98,
  @DeveloperEmail = @DeveloperEmail_4bcb8d98,
  @DeveloperOrganization = @DeveloperOrganization_4bcb8d98,
  @SourceRegistryID = @SourceRegistryID_4bcb8d98,
  @ReplicatedAt = @ReplicatedAt_4bcb8d98,
  @LastSyncedAt = @LastSyncedAt_4bcb8d98,
  @Specification = @Specification_4bcb8d98,
  @FunctionalRequirements = @FunctionalRequirements_4bcb8d98,
  @TechnicalDesign = @TechnicalDesign_4bcb8d98,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_4bcb8d98,
  @TechnicalDesignVector = @TechnicalDesignVector_4bcb8d98,
  @HasCustomProps = @HasCustomProps_4bcb8d98,
  @HasCustomEvents = @HasCustomEvents_4bcb8d98,
  @RequiresData = @RequiresData_4bcb8d98,
  @DependencyCount = @DependencyCount_4bcb8d98,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_4bcb8d98,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_4bcb8d98,
  @HasRequiredCustomProps = @HasRequiredCustomProps_4bcb8d98,
  @ID = @ID_4bcb8d98;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_a6eb7df2 NVARCHAR(MAX),
@Name_a6eb7df2 NVARCHAR(500),
@Version_a6eb7df2 NVARCHAR(50),
@VersionSequence_a6eb7df2 INT,
@Title_a6eb7df2 NVARCHAR(1000),
@Description_a6eb7df2 NVARCHAR(MAX),
@Type_a6eb7df2 NVARCHAR(255),
@Status_a6eb7df2 NVARCHAR(50),
@DeveloperName_a6eb7df2 NVARCHAR(255),
@DeveloperEmail_a6eb7df2 NVARCHAR(255),
@DeveloperOrganization_a6eb7df2 NVARCHAR(255),
@SourceRegistryID_a6eb7df2 UNIQUEIDENTIFIER,
@ReplicatedAt_a6eb7df2 DATETIMEOFFSET,
@LastSyncedAt_a6eb7df2 DATETIMEOFFSET,
@Specification_a6eb7df2 NVARCHAR(MAX),
@FunctionalRequirements_a6eb7df2 NVARCHAR(MAX),
@TechnicalDesign_a6eb7df2 NVARCHAR(MAX),
@FunctionalRequirementsVector_a6eb7df2 NVARCHAR(MAX),
@TechnicalDesignVector_a6eb7df2 NVARCHAR(MAX),
@HasCustomProps_a6eb7df2 BIT,
@HasCustomEvents_a6eb7df2 BIT,
@RequiresData_a6eb7df2 BIT,
@DependencyCount_a6eb7df2 INT,
@TechnicalDesignVectorEmbeddingModelID_a6eb7df2 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_a6eb7df2 NVARCHAR(MAX),
@HasRequiredCustomProps_a6eb7df2 BIT,
@ID_a6eb7df2 UNIQUEIDENTIFIER
SET
  @Namespace_a6eb7df2 = N'Admin/Entities'
SET
  @Name_a6eb7df2 = N'EntityDetails'
SET
  @Version_a6eb7df2 = N'1.0.0'
SET
  @VersionSequence_a6eb7df2 = 1
SET
  @Title_a6eb7df2 = N'Entity Details Panel'
SET
  @Description_a6eb7df2 = N'Sliding panel that displays detailed information about a selected entity including fields and relationships'
SET
  @Type_a6eb7df2 = N'Other'
SET
  @Status_a6eb7df2 = N'Published'
SET
  @Specification_a6eb7df2 = N'{"name":"EntityDetails","title":"Entity Details Panel","description":"Sliding panel that displays detailed information about a selected entity including fields and relationships","type":"form","functionalRequirements":"## Entity Details Requirements\n\n- Slide in from the right when an entity is selected\n- Display entity metadata at the top\n- Show fields in a formatted table\n- Display relationships with icons\n- Include ''Open Record'' button\n- Support closing via X button or Escape key\n- Smooth slide animation\n- Scrollable content area","technicalDesign":"## Technical Design\n\n### Props\n- entity: Selected entity object\n- fields: Array of entity fields\n- relationships: Array of entity relationships\n- isOpen: Whether panel is visible\n- onClose: Callback to close panel\n- onOpenRecord: Callback to open entity record\n\n### Layout\n- Fixed position overlay\n- Slide animation using transform\n- Header with entity name and close button\n- Sections for metadata, fields, relationships\n- Sticky ''Open Record'' button at bottom","dataRequirements":{"mode":"views","entities":[{"name":"Entities","description":"Metadata about all entities in the system","displayFields":["ID","Name","DisplayName","NameSuffix","Description","SchemaName","BaseTable","BaseView"],"filterFields":["SchemaName","BaseTable"],"sortFields":["Name","DisplayName"],"fieldMetadata":[{"name":"ID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":true,"description":"Unique identifier for the entity"},{"name":"Name","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"System name of the entity"},{"name":"DisplayName","sequence":3,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"User-friendly display name for the entity"},{"name":"NameSuffix","sequence":4,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"Optional suffix appended to entity names for display purposes"},{"name":"Description","sequence":5,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"Description of the entity"},{"name":"SchemaName","sequence":6,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"Database schema name"},{"name":"BaseTable","sequence":7,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"Base table in the database"},{"name":"BaseView","sequence":8,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Base view used for the entity"}],"permissionLevelNeeded":["read"],"usageContext":"Main entity list display and filtering"},{"name":"Entity Fields","description":"Fields belonging to each entity","displayFields":["Name","DisplayName","Type","Length","AllowsNull","IsPrimaryKey","IsUnique"],"filterFields":["EntityID"],"sortFields":["Sequence","Name"],"fieldMetadata":[{"name":"EntityID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":false,"description":"Reference to parent entity"},{"name":"Name","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Field name"},{"name":"DisplayName","sequence":3,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"User-friendly field name"},{"name":"Type","sequence":4,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Data type of the field"},{"name":"Length","sequence":5,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Maximum length for string fields"},{"name":"AllowsNull","sequence":6,"defaultInView":true,"type":"bit","allowsNull":false,"isPrimaryKey":false,"description":"Whether field allows null values"},{"name":"IsPrimaryKey","sequence":7,"defaultInView":true,"type":"bit","allowsNull":false,"isPrimaryKey":false,"description":"Whether field is part of primary key"},{"name":"IsUnique","sequence":8,"defaultInView":true,"type":"bit","allowsNull":false,"isPrimaryKey":false,"description":"Whether field must be unique"},{"name":"Sequence","sequence":9,"defaultInView":false,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Display order of the field"}],"permissionLevelNeeded":["read"],"usageContext":"Details panel to show entity fields"},{"name":"Entity Relationships","description":"Relationships between entities","displayFields":["RelatedEntity","Type","DisplayName","RelatedEntityJoinField"],"filterFields":["EntityID"],"sortFields":["Sequence","RelatedEntity"],"fieldMetadata":[{"name":"EntityID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":false,"description":"Reference to parent entity"},{"name":"RelatedEntity","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"The related entity in the relationship"},{"name":"Type","sequence":3,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Type of relationship (One to Many, Many to One, etc.)"},{"name":"DisplayName","sequence":4,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"User-friendly name for the relationship"},{"name":"RelatedEntityJoinField","sequence":5,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"The field in the related entity that joins to this entity"},{"name":"Sequence","sequence":6,"defaultInView":false,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Display order"}],"permissionLevelNeeded":["read"],"usageContext":"Details panel to show entity relationships"}],"queries":[],"description":"This component requires access to entity metadata including entities, their fields, and relationships to provide a comprehensive entity browsing experience"},"properties":[{"name":"entity","description":"The selected entity object","type":"object","required":true},{"name":"fields","description":"Array of fields for the entity","type":"array","required":true,"defaultValue":[]},{"name":"relationships","description":"Array of relationships for the entity","type":"array","required":true,"defaultValue":[]},{"name":"isOpen","description":"Whether the panel is open","type":"boolean","required":true},{"name":"onClose","description":"Callback to close the panel","type":"function","required":true},{"name":"onOpenRecord","description":"Callback to open the entity record","type":"function","required":true}],"events":[{"name":"onClose","description":"Fired when the panel should close","parameters":[]},{"name":"onOpenRecord","description":"Fired when the open record button is clicked","parameters":[{"name":"entityName","description":"Name of the entity to open","type":"string"}]}],"exampleUsage":"<EntityDetails\n  entity={selectedEntity}\n  fields={entityFields}\n  relationships={entityRelationships}\n  isOpen={detailsPanelOpen}\n  onClose={handleCloseDetails}\n  onOpenRecord={handleOpenRecord}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>","code":"function EntityDetails({ \n  entity, \n  fields, \n  relationships, \n  isOpen, \n  onClose, \n  onOpenRecord,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders.radius === ''object'' ? styles.borders.radius[size] : styles.borders.radius;\n  };\n  \n  // Handle escape key to close panel\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === ''Escape'' && isOpen) {\n        onClose?.();\n      }\n    };\n    \n    document.addEventListener(''keydown'', handleEscape);\n    return () => document.removeEventListener(''keydown'', handleEscape);\n  }, [isOpen, onClose]);\n  \n  // Load OpenRecordButton component\n  const OpenRecordButton = components[''OpenRecordButton''];\n  \n  // Render field type badge\n  const renderFieldType = (type) => {\n    const typeColors = {\n      ''nvarchar'': styles.colors.info || styles.colors.primary,\n      ''varchar'': styles.colors.info || styles.colors.primary,\n      ''int'': styles.colors.success || styles.colors.primary,\n      ''bigint'': styles.colors.success || styles.colors.primary,\n      ''decimal'': styles.colors.success || styles.colors.primary,\n      ''float'': styles.colors.success || styles.colors.primary,\n      ''bit'': styles.colors.warning || styles.colors.secondary,\n      ''datetime'': styles.colors.secondary,\n      ''uniqueidentifier'': styles.colors.primary,\n      ''text'': styles.colors.info || styles.colors.primary,\n      ''ntext'': styles.colors.info || styles.colors.primary\n    };\n    \n    const color = typeColors[type?.toLowerCase()] || styles.colors.textSecondary;\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {type}\n      </span>\n    );\n  };\n  \n  // Render relationship type icon\n  const renderRelationshipIcon = (type) => {\n    const icons = {\n      ''One to Many'': ''1:N'',\n      ''Many to One'': ''N:1'',\n      ''Many to Many'': ''N:N'',\n      ''One to One'': ''1:1''\n    };\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: styles.colors.primary + ''15'',\n        color: styles.colors.primary,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.bold || ''700'',\n        fontFamily: ''monospace''\n      }}>\n        {icons[type] || type}\n      </span>\n    );\n  };\n  \n  return (\n    <>\n      {/* Backdrop */}\n      {isOpen && (\n        <div\n          onClick={onClose}\n          style={{\n            position: ''fixed'',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: ''rgba(0, 0, 0, 0.3)'',\n            zIndex: 99999,\n            opacity: isOpen ? 1 : 0,\n            transition: ''opacity 0.3s'',\n            pointerEvents: isOpen ? ''auto'' : ''none''\n          }}\n        />\n      )}\n      \n      {/* Panel */}\n      <div style={{\n        position: ''fixed'',\n        top: ''75px'',\n        right: 0,\n        bottom: 0,\n        width: ''480px'',\n        backgroundColor: styles.colors.background,\n        boxShadow: isOpen ? `-4px 0 24px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}` : ''none'',\n        transform: isOpen ? ''translateX(0)'' : ''translateX(100%)'',\n        transition: ''transform 0.3s ease-out'',\n        zIndex: 100000,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''flex-start''\n          }}>\n            <div style={{ flex: 1 }}>\n              <h2 style={{\n                margin: 0,\n                fontSize: styles.typography.fontSize.xl,\n                fontWeight: styles.typography.fontWeight?.bold || ''700'',\n                color: styles.colors.text,\n                marginBottom: styles.spacing.xs\n              }}>\n                {entity?.DisplayName || entity?.Name || ''No Entity Selected''}\n              </h2>\n              {entity?.DisplayName && entity?.Name && entity.DisplayName !== entity.Name && (\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  fontFamily: ''monospace''\n                }}>\n                  {entity.Name}\n                </div>\n              )}\n            </div>\n            <button\n              onClick={onClose}\n              style={{\n                width: ''32px'',\n                height: ''32px'',\n                borderRadius: getBorderRadius(''sm''),\n                border: ''none'',\n                backgroundColor: ''transparent'',\n                color: styles.colors.textSecondary,\n                fontSize: styles.typography.fontSize.lg,\n                cursor: ''pointer'',\n                display: ''flex'',\n                alignItems: ''center'',\n                justifyContent: ''center'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = ''transparent'';\n              }}\n            >\n              ✕\n            </button>\n          </div>\n        </div>\n        \n        {/* Content */}\n        <div style={{\n          flex: 1,\n          overflow: ''auto'',\n          padding: styles.spacing.lg\n        }}>\n          {entity ? (\n            <>\n              {/* Entity Metadata */}\n              {entity.Description && (\n                <div style={{\n                  marginBottom: styles.spacing.xl,\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''md''),\n                  borderLeft: `3px solid $' + '{styles.colors.primary}`\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    color: styles.colors.textSecondary,\n                    lineHeight: 1.6\n                  }}>\n                    {entity.Description}\n                  </div>\n                </div>\n              )}\n              \n              {/* Quick Info */}\n              <div style={{\n                display: ''grid'',\n                gridTemplateColumns: ''repeat(2, 1fr)'',\n                gap: styles.spacing.md,\n                marginBottom: styles.spacing.xl\n              }}>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Schema\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {entity.SchemaName || ''-''}\n                  </div>\n                </div>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Base Table\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {entity.BaseTable || ''-''}\n                  </div>\n                </div>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Base View\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {entity.BaseView || ''-''}\n                  </div>\n                </div>\n                <div style={{\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''sm'')\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    marginBottom: styles.spacing.xs\n                  }}>\n                    Field Count\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                    color: styles.colors.text\n                  }}>\n                    {fields?.length || 0}\n                  </div>\n                </div>\n              </div>\n              \n              {/* Fields Section */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Fields ({fields?.length || 0})\n                </h3>\n                <div style={{\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''md''),\n                  overflow: ''hidden''\n                }}>\n                  {fields && fields.length > 0 ? (\n                    <table style={{\n                      width: ''100%'',\n                      borderCollapse: ''collapse''\n                    }}>\n                      <thead>\n                        <tr style={{\n                          borderBottom: `1px solid $' + '{styles.colors.border}`\n                        }}>\n                          <th style={{\n                            padding: styles.spacing.sm,\n                            textAlign: ''left'',\n                            fontSize: styles.typography.fontSize.sm,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.textSecondary\n                          }}>\n                            Field\n                          </th>\n                          <th style={{\n                            padding: styles.spacing.sm,\n                            textAlign: ''left'',\n                            fontSize: styles.typography.fontSize.sm,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.textSecondary\n                          }}>\n                            Type\n                          </th>\n                          <th style={{\n                            padding: styles.spacing.sm,\n                            textAlign: ''center'',\n                            fontSize: styles.typography.fontSize.sm,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.textSecondary\n                          }}>\n                            Attributes\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {fields.map((field, index) => (\n                          <tr\n                            key={index}\n                            style={{\n                              borderBottom: index < fields.length - 1 \n                                ? `1px solid $' + '{styles.colors.borderLight || styles.colors.border}` \n                                : ''none''\n                            }}\n                          >\n                            <td style={{\n                              padding: styles.spacing.sm,\n                              fontSize: styles.typography.fontSize.sm,\n                              color: styles.colors.text\n                            }}>\n                              <div>\n                                <div style={{\n                                  fontWeight: field.IsPrimaryKey \n                                    ? (styles.typography.fontWeight?.semibold || ''600'')\n                                    : (styles.typography.fontWeight?.regular || ''400'')\n                                }}>\n                                  {field.DisplayName || field.Name}\n                                </div>\n                                {field.DisplayName && (\n                                  <div style={{\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    color: styles.colors.textSecondary,\n                                    fontFamily: ''monospace''\n                                  }}>\n                                    {field.Name}\n                                  </div>\n                                )}\n                              </div>\n                            </td>\n                            <td style={{\n                              padding: styles.spacing.sm\n                            }}>\n                              {renderFieldType(field.Type)}\n                              {field.Length && (\n                                <span style={{\n                                  marginLeft: styles.spacing.xs,\n                                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                  color: styles.colors.textSecondary\n                                }}>\n                                  ({field.Length})\n                                </span>\n                              )}\n                            </td>\n                            <td style={{\n                              padding: styles.spacing.sm,\n                              textAlign: ''center''\n                            }}>\n                              <div style={{\n                                display: ''flex'',\n                                gap: styles.spacing.xs,\n                                justifyContent: ''center'',\n                                flexWrap: ''wrap''\n                              }}>\n                                {field.IsPrimaryKey && (\n                                  <span style={{\n                                    padding: `2px $' + '{styles.spacing.xs}`,\n                                    backgroundColor: (styles.colors.warning || styles.colors.secondary) + ''15'',\n                                    color: styles.colors.warning || styles.colors.secondary,\n                                    borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    fontWeight: styles.typography.fontWeight?.bold || ''700''\n                                  }}>\n                                    PK\n                                  </span>\n                                )}\n                                {field.IsUnique && (\n                                  <span style={{\n                                    padding: `2px $' + '{styles.spacing.xs}`,\n                                    backgroundColor: (styles.colors.info || styles.colors.primary) + ''15'',\n                                    color: styles.colors.info || styles.colors.primary,\n                                    borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    fontWeight: styles.typography.fontWeight?.bold || ''700''\n                                  }}>\n                                    UQ\n                                  </span>\n                                )}\n                                {!field.AllowsNull && !field.IsPrimaryKey && (\n                                  <span style={{\n                                    padding: `2px $' + '{styles.spacing.xs}`,\n                                    backgroundColor: (styles.colors.error || styles.colors.secondary) + ''15'',\n                                    color: styles.colors.error || styles.colors.secondary,\n                                    borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                    fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                    fontWeight: styles.typography.fontWeight?.bold || ''700''\n                                  }}>\n                                    NN\n                                  </span>\n                                )}\n                              </div>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  ) : (\n                    <div style={{\n                      padding: styles.spacing.lg,\n                      textAlign: ''center'',\n                      color: styles.colors.textSecondary,\n                      fontSize: styles.typography.fontSize.sm\n                    }}>\n                      No fields available\n                    </div>\n                  )}\n                </div>\n              </div>\n              \n              {/* Relationships Section */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Relationships ({relationships?.length || 0})\n                </h3>\n                <div style={{\n                  display: ''flex'',\n                  flexDirection: ''column'',\n                  gap: styles.spacing.sm\n                }}>\n                  {relationships && relationships.length > 0 ? (\n                    relationships.map((rel, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          display: ''flex'',\n                          alignItems: ''center'',\n                          gap: styles.spacing.md\n                        }}\n                      >\n                        {renderRelationshipIcon(rel.Type)}\n                        <div style={{ flex: 1 }}>\n                          <div style={{\n                            fontSize: styles.typography.fontSize.md,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.text\n                          }}>\n                            {rel.DisplayName || rel.RelatedEntity}\n                          </div>\n                          {rel.RelatedEntityJoinField && (\n                            <div style={{\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                              color: styles.colors.textSecondary,\n                              fontFamily: ''monospace''\n                            }}>\n                              via {rel.RelatedEntityJoinField}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    ))\n                  ) : (\n                    <div style={{\n                      padding: styles.spacing.lg,\n                      backgroundColor: styles.colors.surface,\n                      borderRadius: getBorderRadius(''sm''),\n                      textAlign: ''center'',\n                      color: styles.colors.textSecondary,\n                      fontSize: styles.typography.fontSize.sm\n                    }}>\n                      No relationships defined\n                    </div>\n                  )}\n                </div>\n              </div>\n            </>\n          ) : (\n            <div style={{\n              display: ''flex'',\n              flexDirection: ''column'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              height: ''100%'',\n              color: styles.colors.textSecondary\n            }}>\n              <div style={{\n                fontSize: styles.typography.fontSize.lg,\n                marginBottom: styles.spacing.md\n              }}>\n                No Entity Selected\n              </div>\n              <div style={{\n                fontSize: styles.typography.fontSize.md\n              }}>\n                Select an entity from the list to view its details\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Footer with Open Record Button */}\n        {entity && OpenRecordButton && (\n          <div style={{\n            padding: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.border}`,\n            backgroundColor: styles.colors.surface\n          }}>\n            <OpenRecordButton\n              entityName=\"Entities\"\n              record={entity}\n              buttonText=\"Open Entity Record\"\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings}\n              onSaveUserSettings={onSaveUserSettings}\n              buttonStyle={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.primary,\n                color: ''white'',\n                border: ''none'',\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n            />\n          </div>\n        )}\n      </div>\n    </>\n  );\n}","dependencies":[{"name":"OpenRecordButton","location":"registry","namespace":"Generic/Navigation","version":"^1.0.0"}],"libraries":[]}'
SET
  @FunctionalRequirements_a6eb7df2 = N'## Entity Details Requirements

- Slide in from the right when an entity is selected
- Display entity metadata at the top
- Show fields in a formatted table
- Display relationships with icons
- Include ''Open Record'' button
- Support closing via X button or Escape key
- Smooth slide animation
- Scrollable content area'
SET
  @TechnicalDesign_a6eb7df2 = N'## Technical Design

### Props
- entity: Selected entity object
- fields: Array of entity fields
- relationships: Array of entity relationships
- isOpen: Whether panel is visible
- onClose: Callback to close panel
- onOpenRecord: Callback to open entity record

### Layout
- Fixed position overlay
- Slide animation using transform
- Header with entity name and close button
- Sections for metadata, fields, relationships
- Sticky ''Open Record'' button at bottom'
SET
  @FunctionalRequirementsVector_a6eb7df2 = N'[0.00799411442130804,0.002778860740363598,0.004463389981538057,-0.004122954327613115,-0.015375387854874134,0.020918086171150208,0.02757730334997177,0.05994401127099991,-0.06335438042879105,-0.0026914342306554317,-0.015709547325968742,-0.002281579189002514,0.018304485827684402,0.056144021451473236,0.004850408993661404,-0.09987396001815796,-0.03682231158018112,0.022551825270056725,-0.014238541014492512,0.002934463322162628,0.027518631890416145,-0.009167860262095928,-0.03153335675597191,-0.013527494855225086,-0.0363190732896328,0.004312304779887199,-0.07031743973493576,0.028419002890586853,-0.006005412898957729,-0.06551120430231094,-0.01563728041946888,0.06839863955974579,-0.05901140347123146,-0.08260299265384674,0.00000190224955076701,-0.01344339270144701,-0.04362177103757858,0.016458066180348396,-0.06831921637058258,0.037919770926237106,-0.010195192880928516,-0.04038544371724129,0.06003398075699806,-0.03158680722117424,0.006739722564816475,-0.029544468969106674,-0.0054234652779996395,0.07836063206195831,0.0098298080265522,-0.01898333430290222,0.01052048709243536,-0.0037641425151377916,0.04151817783713341,-0.040863700211048126,0.0633467435836792,0.01269430760294199,-0.002414447022601962,0.029259182512760162,0.04285341128706932,0.014246582984924316,-0.011956309899687767,-0.023912452161312103,0.03522822633385658,-0.03673002868890762,0.0674201026558876,0.021064069122076035,0.045476872473955154,-0.028949350118637085,0.04162516072392464,0.0445898100733757,0.12806497514247894,0.025543706491589546,0.013539011590182781,-0.06853930652141571,0.016629226505756378,-0.023960944265127182,0.007423752453178167,-0.013339219614863396,-0.011103206314146519,-0.04229241982102394,-0.019974451512098312,-0.03231401741504669,-0.04564443975687027,0.01005067490041256,-0.0013762688031420112,-0.011930758133530617,0.004049339797347784,-0.05178423970937729,-0.021519672125577927,-0.04308198019862175,0.0086927255615592,0.008581843227148056,0.004397139418870211,0.013760983012616634,-0.036957841366529465,-0.029217928647994995,0.02374809794127941,-0.03983323276042938,0.027543174102902412,0.0012169601395726204,-0.02166052721440792,0.041513681411743164,0.026730498299002647,0.022805383428931236,0.06003744900226593,0.07743426412343979,-0.016961006447672844,-0.018869562074542046,-0.02201886847615242,0.01078526210039854,0.017601804807782173,0.02884933538734913,-0.039642445743083954,0.05790935829281807,-0.022226866334676743,0.03646163269877434,0.0057604992762207985,-0.008969110436737537,0.006705620791763067,0.055331550538539886,0.1038123071193695,0.019224634394049644,-0.012917274609208107,-0.037283848971128464,-0.014709611423313618,-0.035469476133584976,-0.036663297563791275,-0.06868792325258255,0.011035000905394554,0.019828123971819878,-0.015558475628495216,0.00009437167318537831,0.012673122808337212,-0.013582342304289341,0.022667095065116882,0.014885131269693375,0.030045952647924423,0.01582755520939827,-0.05626004561781883,0.03174138441681862,-0.03447001054883003,-0.005551269743591547,-0.05874503403902054,0.03772755712270737,-0.004707051906734705,0.020433111116290092,-0.024846268817782402,-0.04151860252022743,0.05651990324258804,0.0104628661647439,0.0008338735206052661,-0.04742524400353432,-0.0470147430896759,0.03382034972310066,0.014748891815543175,0.0410233773291111,-0.018440915271639824,-0.022978175431489944,0.025618240237236023,-0.0070971595123410225,0.003089488483965397,0.008333654142916203,0.030872143805027008,0.001393201993778348,-0.03955085203051567,0.009238251484930515,-0.0009984193602576852,0.008611137047410011,0.021834636107087135,-0.004615102428942919,-0.014005628414452076,-0.015740372240543365,-0.025998832657933235,-0.025965088978409767,0.004853690043091774,0.01711636409163475,0.02598394826054573,0.004768909886479378,-0.03906921669840813,0.032738927751779556,0.007284741848707199,-0.06892440468072891,-0.005483373999595642,0.036725226789712906,0.09954722225666046,-0.04560893028974533,-0.02585005946457386,0.008285446092486382,-0.042647480964660645,-0.019889049232006073,0.021466095000505447,0.007274076342582703,-0.026536187157034874,-0.006788218859583139,0.005956040229648352,-0.015787435695528984,-0.0004446739621926099,0.04653608426451683,0.03424094617366791,0.028313279151916504,-0.04392559826374054,0.027491455897688866,0.0085755605250597,0.055575814098119736,-0.010462461039423943,-0.0001796199503587559,-0.04056975618004799,-0.04511353373527527,0.0012954957783222198,0.05461486056447029,0.02726317197084427,-0.007086046040058136,-0.03403833881020546,0.03348151594400406,-0.02596871741116047,0.012948879972100258,0.01911778561770916,0.015208384953439236,-0.030427105724811554,0.016503874212503433,0.009565324522554874,-0.03920537978410721,-0.0032354285940527916,0.00819710735231638,0.048247579485177994,0.026039982214570045,0.048970580101013184,-0.004649709444493055,0.024888701736927032,0.04070950299501419,0.013134417124092579,-0.011301619932055473,0.000023665439584874548,0.028354113921523094,0.04653006047010422,0.04200627654790878,-0.005955285392701626,0.1388949155807495,-0.02210739441215992,0.03725245222449303,0.00031124771339818835,-0.11730150878429413,0.012648793868720531,-0.006154196802526712,-0.03332603722810745,-0.044194385409355164,-0.03367169573903084,-0.01036702748388052,0.056588031351566315,-0.020719364285469055,-0.0029094626661390066,0.03241732716560364,0.055688414722681046,-0.01604762114584446,0.007473410572856665,0.054746463894844055,-0.07557826489210129,0.0386769138276577,-0.03768766298890114,0.007136694621294737,0.015139534138143063,-0.029149243608117104,0.013586584478616714,-0.036188285797834396,-0.0003321742988191545,-0.005409160163253546,0.04992141202092171,-0.05533931776881218,0.009521420113742352,-0.009635637514293194,0.007608469109982252,0.003632073989138007,0.012602316215634346,-0.01493237353861332,0.0038741840980947018,0.00852348655462265,-0.051782283931970596,0.0030078361742198467,-0.006642750930041075,-0.016745619475841522,0.014462877996265888,-0.004866608884185553,-0.007553658913820982,0.03298826143145561,-0.005642082542181015,-0.013808857649564743,-0.006960702128708363,-0.04736572504043579,0.016208017244935036,-0.03862597048282623,0.04452494904398918,-0.006586666684597731,0.031733978539705276,0.041251495480537415,-0.0038043397944420576,0.02001161128282547,-0.030875936150550842,0.039724960923194885,-0.03895165026187897,0.0979112833738327,-0.007572622504085302,0.02168508991599083,-0.028859077021479607,0.01100710965692997,-0.012093366123735905,0.07412239909172058,0.04728420823812485,0.008672445081174374,-0.004489631857722998,0.03607536479830742,-0.02095070108771324,0.04696342349052429,0.013333798386156559,-0.12167176604270935,0.019565399736166,0.03059677593410015,0.03237472474575043,0.030605850741267204,0.019404908642172813,0.045171890407800674,-0.01627526618540287,0.017960581928491592,-0.006273156963288784,-0.03511657193303108,-0.020868876948952675,0.04035763069987297,0.013288799673318863,0.02485724911093712,0.022841162979602814,0.008327770978212357,0.013239756226539612,0.0826595351099968,-0.020473791286349297,0.0050776368007063866,0.0566265769302845,0.03775531426072121,-0.03777280077338219,-0.010044707916676998,-0.0026633301749825478,-0.02062228135764599,-0.02433200180530548,-0.026319358497858047,-0.027956657111644745,0.002957000397145748,0.05342910438776016,0.02063569985330105,-0.022947577759623528,0.006689743604511023,-0.05632909759879112,0.0038550819735974073,0.021383780986070633,0.031431812793016434,-0.021387649700045586,0.01325961109250784,0.02427317015826702,-0.0013256249949336052,-0.012022718787193298,0.010743780992925167,-0.039951570332050323,-0.08965438604354858,0.041579727083444595,0.006836102344095707,-0.037917956709861755,0.014302913099527359,0.023796094581484795,0.017114002257585526,-0.02398604527115822,-0.023711925372481346,-0.01612800918519497,-0.01706424355506897,-0.015669217333197594,0.00371689535677433,0.0035071622114628553,0.0625707134604454,-0.018848540261387825,-0.011067037470638752,-0.019290843978524208,0.03151609003543854,0.0000023116006104828557,0.00396091490983963,0.022639140486717224,-0.0425301156938076,0.09673139452934265,-0.04041868448257446,0.043175891041755676,0.034786731004714966,-0.016247998923063278,0.01769319362938404,-0.005433549638837576,-0.013967306353151798,-0.044404320418834686,0.055977705866098404,-0.05309790000319481,-0.05256776139140129,-0.013545993715524673,-0.008159835822880268,0.013237514533102512,0.03288031741976738,0.013291370123624802,-0.012084140442311764,-0.014308136887848377,0.07047396898269653,-0.0003988448006566614,0.0012560092145577073,-0.0024291330482810736,-0.04089193791151047,0.023946676403284073,0.020909924060106277,0.01248771883547306,-0.00469356682151556,-0.08487050235271454,0.03591731935739517,-0.03318339213728905,-0.0128208352252841,0.036577098071575165,-0.03998623788356781,0.008383695036172867,-0.059091515839099884,0.0336359404027462,0.0879456028342247,-0.01220009196549654,-0.010721210390329361,0.03737381845712662,-0.008860775269567966,-0.003107900731265545,-0.010497012175619602,-0.0583624504506588,-0.055226899683475494,0.0045381817035377026,0.03977324813604355,-0.061673715710639954,0.004244976211339235,-0.018239175900816917,0.01322074793279171,0.0002287129027536139,0.046161722391843796,0.023077676072716713,-0.007920975796878338,0.041491489857435226,-0.006041706074029207,-0.024353723973035812,0.020631449297070503,0.02192818745970726,0.025888212025165558,-0.003476811572909355,0.009512198157608509,-0.03553865849971771,-0.03360803425312042,-0.006028527859598398,0.014395840466022491,-0.05350138992071152,-0.020881598815321922,-0.04978455603122711,0.031218424439430237,-0.00031128458795137703,-0.010185257531702518,-0.09233496338129044,0.017036423087120056,-0.02136540785431862,-0.06328781694173813,-0.015676120296120644,0.020916996523737907,-0.01430973969399929,-0.010640918277204037,0.018267188221216202,-0.05606505647301674,-0.001072810380719602,-0.07089974731206894,-0.03735150024294853,-0.023917004466056824,0.02724035643041134,-0.02202903851866722,-0.006062054540961981,-0.03546237200498581,-0.021895740181207657,0.012523118406534195,-0.016777802258729935,0.004578211810439825,-0.032949041575193405,-0.017758458852767944,-0.005456272047013044,0.003936348482966423,0.034631360322237015,-0.1195635050535202,0.006280908826738596,0.04312065616250038,0.0015845224261283875,-0.020326759666204453,0.014385323971509933,0.038815688341856,-0.035824913531541824,-0.04366293549537659,0.0046693626791238785,0.027936840429902077,0.016178054735064507,-0.012524981051683426,-0.0535503551363945,0.056898366659879684,-0.073061004281044,-0.0751626044511795,-0.038421355187892914,-0.023594390600919724,-0.003624909557402134,-0.002806518692523241,-0.0034497687593102455,0.004424107726663351,0.001502593862824142,0.06548510491847992,-0.023420095443725586,0.03999629244208336,0.0734381228685379,-0.0129829877987504,0.01296231523156166,-0.001573881134390831,-0.026559066027402878,0.05937686190009117,-0.021307898685336113,0.012261251918971539,0.011903059668838978,-0.011540248058736324,0.01946212910115719,-0.015748798847198486,0.003775747725740075,-0.0008795627509243786,-0.004406390246003866,0.012417763471603394,0.03156309947371483,0.013037130236625671,0.048392102122306824,0.019857294857501984,-0.024142855778336525,0.027158886194229126,0.051333971321582794,0.033047255128622055,-0.03406992182135582,0.02791023440659046,0.05895724892616272,-0.04263035207986832,-0.025078481063246727,-0.004264512564986944,-0.03489414602518082,0.031733233481645584,0.011640439741313457,-0.034586574882268906,-0.026526309549808502,0.02110082283616066,-0.006368781439960003,-0.06512337923049927,0.007951128296554089,0.007707794196903706,-0.005609545391052961,-0.08563090860843658,-0.051858607679605484,-0.02110287733376026,-0.03653137758374214,-5.867694947190458e-33,-0.037564828991889954,-0.017575064674019814,-0.057604674249887466,0.03238224238157272,0.07176227867603302,-0.05138968303799629,-0.03224796801805496,-0.006227109581232071,-0.03556016460061073,0.0008674395503476262,0.0131071787327528,-0.0496533177793026,0.015579482540488243,0.03967858478426933,0.0021428177133202553,-0.012770317494869232,0.002839507535099983,-0.027851540595293045,0.023488886654376984,0.04309144616127014,-0.07288822531700134,-0.005024949088692665,0.00941102672368288,-0.05043488368391991,0.006254186853766441,0.0239686518907547,0.001949709840118885,0.008099697530269623,0.011805488727986813,0.04294118657708168,-0.03310588374733925,-0.04633304104208946,0.0024967931676656008,-0.05188428983092308,0.026690049096941948,-0.019181817770004272,-0.09538688510656357,0.021719861775636673,-0.036369673907756805,0.015272890217602253,0.0747322365641594,-0.029033929109573364,-0.004410195164382458,0.0020092541817575693,-0.0046129110269248486,-0.02606279030442238,0.014336846768856049,-0.004745513666421175,-0.0115556875243783,-0.0427309051156044,0.011586258187890053,0.008045917376875877,-0.003794972086325288,0.008764293976128101,0.024057095870375633,-0.05854397639632225,0.04508019983768463,-0.07254236191511154,-0.04153216630220413,-0.0383586585521698,0.0425255224108696,-0.019734859466552734,-0.03749501332640648,-0.011039381846785545,0.04570457339286804,0.020483508706092834,-0.011986074037849903,0.06662111729383469,-0.023091932758688927,0.039124976843595505,0.009722305461764336,0.03607954829931259,0.01668001525104046,-0.07439631223678589,-0.017809372395277023,0.053616963326931,0.00013663334539160132,0.018650727346539497,-0.1135045737028122,0.0673583522439003,0.03641129657626152,-0.015372052788734436,-0.028219003230333328,-0.0010663100983947515,0.0029535514768213034,-0.018377823755145073,0.01160489022731781,-0.03520146757364273,0.02141004614531994,-0.027672063559293747,0.0098665626719594,-0.026194343343377113,-0.058358531445264816,0.05373658612370491,-0.11773791909217834,0.03448745608329773,0.05040383338928223,0.024253983050584793,-0.01816796511411667,-0.0225383173674345,-0.0013389302184805274,-0.039765458554029465,-0.002022218657657504,-0.004122088197618723,0.001569254556670785,0.049287114292383194,0.003016795264557004,-0.03489258140325546,-0.06323502212762833,0.025248803198337555,0.022120527923107147,0.006549070123583078,-0.01962461695075035,0.0031781219877302647,-0.035879336297512054,-0.032252825796604156,-0.01971576176583767,0.044571105390787125,0.005171811208128929,-0.0009174835868179798,-0.01694815792143345,0.01768755353987217,0.03429959714412689,0.03746173158288002,0.0796450674533844,0.0092485835775733,0.013581810519099236,-0.020980995148420334,0.02796458825469017,0.06449782103300095,0.006689128465950489,0.022435639053583145,2.6765172833620454e-7,-0.019234847277402878,0.009608220309019089,0.056343093514442444,0.04072616621851921,0.0014734587166458368,-0.03896285220980644,0.014095660299062729,-0.029427852481603622,-0.018941713497042656,-0.13455787301063538,0.06272170692682266,0.02884511463344097,0.047458477318286896,0.0525454580783844,0.019823497161269188,-0.021828433498740196,0.04533304646611214,-0.0405760183930397,-0.061505865305662155,-0.005065839737653732,0.06231182813644409,-0.002702869940549135,0.020497342571616173,0.04160325974225998,-0.016311589628458023,0.07703717797994614,0.010721514001488686,-0.05032644048333168,0.09579622000455856,-0.01996033824980259,0.03326183557510376,0.014970704913139343,-0.001007569837383926,0.03709004819393158,0.02172045223414898,-0.006081775296479464,0.0004366044304333627,0.04097957909107208,0.011902951635420322,0.03633347153663635,0.05863901227712631,-0.07046303898096085,-0.025844546034932137,-0.04823560640215874,0.027988575398921967,0.0055472166277468204,-0.019793609157204628,0.057220958173274994,-0.05333573743700981,0.030786659568548203,0.009832280687987804,0.030629200860857964,0.04426690936088562,-0.06386969983577728,0.02052905224263668,-0.016841182485222816,-0.027943259105086327,0.045535679906606674,0.008752262219786644,0.012552696280181408,0.008905982598662376,0.031213857233524323,-0.0016303039155900478,0.006202150136232376,0.019928140565752983,-0.03684970363974571,-0.009749406017363071,3.5120217168868636e-34,-0.02908136323094368,-0.015256152488291264,0.04826757684350014,0.1013229489326477,0.042918309569358826,0.012293238192796707,0.018654361367225647,-0.06705861538648605,-0.007049966603517532,-0.03930644318461418,-0.02626662515103817]'
SET
  @TechnicalDesignVector_a6eb7df2 = N'[0.024113109335303307,0.0062509444542229176,0.004873974248766899,-0.022430401295423508,0.012516471557319164,-0.03813120350241661,0.06836242973804474,0.04164183884859085,-0.018632983788847923,-0.01798349618911743,-0.02835940197110176,0.024806302040815353,0.05013031139969826,0.0424380861222744,0.02833956480026245,-0.0943579152226448,-0.045689407736063004,0.054140061140060425,-0.028017612174153328,-0.013506206683814526,0.003934451844543219,0.0021996337454766035,-0.028995268046855927,0.02664422243833542,-0.011269941926002502,-0.039564527571201324,-0.05799649655818939,0.018517915159463882,0.028382612392306328,-0.012422272935509682,-0.012691699899733067,0.06986402720212936,-0.07238378375768661,-0.03884996846318245,0.000001859369945123035,-0.028807731345295906,-0.01790344901382923,0.0013779482105746865,-0.05646117031574249,0.03074817918241024,-0.05510300397872925,-0.022839460521936417,0.0008509257459081709,-0.018480734899640083,0.019920634105801582,-0.11055316030979156,-0.029433676972985268,0.047885216772556305,0.014788826927542686,-0.010837054811418056,0.004856125917285681,-0.004870247095823288,0.09257391840219498,-0.0049150786362588406,0.05134284496307373,0.018759654834866524,-0.008278663270175457,-0.04426446184515953,0.01747281476855278,-0.008174502290785313,0.007445469498634338,-0.035565003752708435,0.03267619013786316,-0.035032302141189575,0.03661030903458595,0.020518576726317406,0.03495444729924202,-0.025831088423728943,0.02443508431315422,0.056141264736652374,0.19599254429340363,0.04486643150448799,-0.010227709077298641,-0.01361890509724617,0.008730950765311718,0.001089360797777772,0.018823491409420967,-0.012960640713572502,-0.016479725018143654,-0.014428040944039822,-0.005318248178809881,0.0028237453661859035,-0.05220915377140045,0.005688844248652458,0.041638825088739395,-0.013495959341526031,-0.009552288800477982,-0.01596711575984955,-0.012345080263912678,-0.035037413239479065,0.008189603686332703,-0.019264183938503265,0.007040301337838173,0.01119980774819851,0.0006130546098574996,0.014435448683798313,0.02038709446787834,-0.08176913112401962,0.01843532733619213,-0.025356808677315712,-0.03531460464000702,0.058978788554668427,0.0041951388120651245,0.02849382534623146,0.046506065875291824,0.09028205275535583,-0.010300575755536556,0.010961626656353474,0.008832297287881374,0.027673844248056412,-0.028606632724404335,-0.000043448420910863206,-0.016571320593357086,0.06503693014383316,-0.006421762052923441,0.013911486603319645,-0.023050105199217796,-0.009590951725840569,0.039457112550735474,0.017048507928848267,0.0897047221660614,-0.009689268656075,-0.006022750400006771,-0.03463972732424736,0.016269737854599953,0.021515915170311928,-0.02000759169459343,-0.08295663446187973,-0.006079366896301508,0.030458776280283928,-0.004599294625222683,-0.004118101205676794,0.011678623035550117,-0.0049764192663133144,-0.038394488394260406,0.03174826130270958,0.00832991860806942,-0.009489578194916248,-0.03554358333349228,0.025549132376909256,-0.024428270757198334,0.0003493867989163846,-0.06970979273319244,0.029785413295030594,-0.024788416922092438,0.004755028523504734,-0.021186353638768196,-0.08692441135644913,0.01187500637024641,0.027369841933250427,0.02280787192285061,-0.05415415018796921,-0.04334612563252449,0.01906999759376049,-0.039457131177186966,0.04164321720600128,-0.04932989552617073,-0.011036423966288567,0.04411932826042175,0.01841716468334198,0.021817300468683243,0.03161611780524254,0.031908534467220306,0.04839453473687172,-0.06395882368087769,0.025797484442591667,-0.03955667093396187,-0.031199708580970764,0.01894116960465908,-0.015024247579276562,-0.029947904869914055,-0.028187375515699387,-0.010744871571660042,0.00371782248839736,-0.01806621626019478,-0.06478610634803772,0.03700260445475578,0.0024161008186638355,-0.07631215453147888,-0.0027693575248122215,-0.0010034390725195408,-0.02832919731736183,-0.012515872716903687,0.025147806853055954,0.03507751598954201,-0.037194594740867615,-0.05915265157818794,0.02048364467918873,-0.012807493098080158,-0.003550736466422677,-0.026173757389187813,0.017958149313926697,-0.10553082078695297,-0.01925382763147354,0.00807191338390112,0.004676860757172108,-0.03994095325469971,0.09066662192344666,0.009167439304292202,0.05704164877533913,-0.016971761360764503,0.011527122929692268,0.03308742120862007,0.02790737897157669,-0.03103996440768242,0.005333023611456156,-0.06887929141521454,-0.018692193552851677,-0.005882474593818188,0.02141285501420498,0.01149816531687975,0.0018907245248556137,-0.010686049237847328,0.02823428250849247,-0.04197926074266434,0.007984337396919727,0.025887615978717804,0.017246892675757408,-0.08020945638418198,0.0045044939033687115,-0.006232819054275751,-0.015811031684279442,0.05969272553920746,0.016850683838129044,0.03385437652468681,0.011296402662992477,-0.0019421892939135432,0.017741264775395393,-0.0132093895226717,0.016602154821157455,0.0011872226605191827,-0.027208471670746803,0.0015562524786219,0.027024613693356514,0.027262400835752487,0.04452213644981384,-0.011707266792654991,0.05465589091181755,-0.012634634040296078,0.04045487940311432,-0.033215709030628204,-0.07355882227420807,-0.024950718507170677,0.004461478441953659,-0.030308891087770462,-0.03758915886282921,-0.007529502268880606,0.005352664738893509,0.006198964547365904,-0.019534969702363014,-0.007129360921680927,0.019556012004613876,0.03344738483428955,-0.04002772644162178,-0.019380176439881325,0.016596265137195587,0.02023339830338955,0.04860223829746246,-0.01157823670655489,0.01944570429623127,0.04495040699839592,-0.020949918776750565,0.01182494405657053,-0.009257851168513298,0.03404410183429718,-0.006479411851614714,0.008676977828145027,-0.05209946632385254,0.0002283276553498581,-0.011890921741724014,0.0040010735392570496,-0.0007572959875687957,-0.004358831327408552,-0.03595992550253868,0.032732341438531876,0.050050921738147736,0.01712401583790779,0.040151044726371765,-0.039967406541109085,-0.04003393277525902,0.017805717885494232,-0.05047813802957535,0.0004173663619440049,0.0411849170923233,-0.013424310833215714,0.030008530244231224,0.0008291357080452144,-0.017168579623103142,-0.005267976317554712,-0.04172699898481369,0.016964150592684746,-0.01717536710202694,0.038928475230932236,-0.007754197344183922,-0.014239554293453693,0.0029467663262039423,0.020622434094548225,0.0364212766289711,-0.04872633516788483,0.07905427366495132,0.008662641048431396,0.011956600472331047,-0.03236879035830498,0.010678150691092014,0.02508321776986122,0.0007555907941423357,-0.015286636538803577,0.04162510111927986,0.009544532746076584,0.04076841473579407,-0.000713641697075218,0.0385880284011364,0.0060824439860880375,-0.04475541412830353,0.018230415880680084,0.03059527277946472,0.03705649450421333,-0.003142914269119501,-0.004327280912548304,0.07725761085748672,-0.0031274633947759867,0.0173651035875082,0.014593014493584633,-0.016125429421663284,-0.060125771909952164,0.04641343280673027,0.019949838519096375,-0.00625254213809967,0.09771473705768585,-0.03055392950773239,0.011411771178245544,0.0589817650616169,-0.02022513747215271,-0.005720813293009996,0.07701103389263153,-0.04296744242310524,-0.019918764010071754,-0.053818702697753906,-0.006299525965005159,-0.0028646725695580244,-0.0008550924831070006,-0.01943358965218067,-0.030354125425219536,0.020308541133999825,-0.01109191682189703,0.00418433453887701,-0.1169353723526001,0.024606619030237198,-0.09241201728582382,0.030412469059228897,-0.03265518695116043,0.00823331717401743,-0.00012353298370726407,-0.010298259556293488,-0.0007397387525998056,0.04321964457631111,0.0181247740983963,0.01616891659796238,-0.014497315511107445,-0.05637741461396217,0.02806636318564415,-0.004422817844897509,-0.014206086285412312,0.06569317728281021,0.027240190654993057,0.0037359052803367376,0.01326003484427929,-0.006623895838856697,-0.022541342303156853,-0.058098211884498596,-0.015583611093461514,0.007163394708186388,0.03076530434191227,0.04622379317879677,-0.03533260151743889,-0.011675947345793247,0.026095230132341385,0.03362687677145004,0.015505969524383545,0.0008618569117970765,0.04810173064470291,-0.00016235232760664076,0.05592215061187744,-0.011361969634890556,0.03669676557183266,0.008665951900184155,-0.0027485270984470844,-0.004808743484318256,-0.021767517551779747,-0.0042970748618245125,-0.04414078965783119,-0.03500977158546448,-0.056980811059474945,-0.02491002343595028,0.010466634295880795,-0.011220691725611687,0.0024855241645127535,0.011408600956201553,0.03847100958228111,-0.012205208651721478,-0.023632772266864777,0.16501109302043915,-0.01565941423177719,0.028718458488583565,0.013381361030042171,0.0031591770239174366,-0.011648843996226788,0.020634468644857407,0.060340676456689835,-0.017551859840750694,-0.06095338612794876,0.020679250359535217,-0.016689181327819824,-0.008828016929328442,-0.03203156590461731,-0.019556676968932152,0.002876993967220187,-0.10755621641874313,0.010516745038330555,0.042510878294706345,-0.000980434357188642,0.014232157729566097,0.004949780181050301,0.0017678168369457126,-0.018296845257282257,-0.031310394406318665,-0.016862230375409126,-0.029287315905094147,-0.017604272812604904,-0.0057120234705507755,-0.058711692690849304,0.013532696291804314,-0.012512260116636753,0.05619325116276741,-0.017374668270349503,0.004778855945914984,0.012541132979094982,-0.04043859988451004,0.07377403974533081,-0.0037963397335261106,0.003566491650417447,-0.026716699823737144,0.042477332055568695,0.046431783586740494,-0.013564681634306908,-0.004232081584632397,0.007958527654409409,0.061383042484521866,-0.023366907611489296,0.022148381918668747,-0.0263231098651886,-0.024221405386924744,-0.04530300199985504,0.06449394673109055,0.0005893169436603785,-0.04670717567205429,-0.04420270025730133,0.07234744727611542,-0.024315593764185905,-0.009056382812559605,-0.038946956396102905,0.023547174409031868,-0.030067522078752518,0.011537413112819195,-0.0041902931407094,-0.08376983553171158,0.01794864423573017,-0.0734206810593605,-0.023632938042283058,-0.002547108568251133,0.0007260818383656442,-0.0066846879199147224,0.0034564482048153877,-0.0101273562759161,0.015377461910247803,0.0005148636410012841,-0.00787249393761158,-0.018009360879659653,-0.04479601979255676,-0.0077219014056026936,0.02351195178925991,0.03383342921733856,-0.020583292469382286,-0.07998614013195038,0.010474378243088722,0.028021974489092827,0.052354972809553146,0.023139970377087593,0.005938463844358921,0.016766494140028954,-0.012896619737148285,-0.010794763453304768,0.007404125761240721,0.09659980982542038,0.05220295116305351,0.036544859409332275,-0.01596113108098507,0.03137104958295822,-0.10647953301668167,-0.026416845619678497,-0.034363068640232086,0.006617560982704163,-0.004608221352100372,0.06630488485097885,-0.0049988701939582825,-0.030357930809259415,-0.024251235648989677,0.058660686016082764,-0.01652146875858307,-0.001849292777478695,0.03470158204436302,-0.04537443816661835,0.026654882356524467,0.01748022437095642,-0.0059571824967861176,0.09505335986614227,-0.01333662960678339,-0.002517468063160777,0.02117975242435932,-0.020387424156069756,0.01567239686846733,0.018472611904144287,-0.00930947158485651,-0.010378723032772541,0.021307803690433502,-0.013538260012865067,0.04089723154902458,0.029583636671304703,0.01989387348294258,0.0019939627964049578,0.01183332223445177,-0.008593941107392311,0.01892567239701748,0.048228271305561066,0.012328301556408405,0.04802598059177399,0.042804524302482605,-0.052485041320323944,-0.006233319640159607,0.006546204909682274,-0.0668976679444313,0.03410353884100914,-0.010968484915792942,-0.04592737555503845,0.024633416905999184,0.034011490643024445,0.006821000017225742,-0.05263954773545265,0.022640299052000046,0.0035433867014944553,0.011277230456471443,-0.08469956368207932,-0.04046722128987312,-0.022916631773114204,0.027093492448329926,-6.0940440986229665e-33,-0.022450508549809456,-0.03839545324444771,-0.04934332147240639,0.0745784193277359,-0.026220252737402916,-0.03229144960641861,-0.05517341569066048,0.014929775148630142,-0.02351635880768299,-0.025376860052347183,0.012104697525501251,-0.0531991645693779,0.005597716197371483,0.03684408962726593,-0.0026349087711423635,0.010147391818463802,0.022381050512194633,0.002885425928980112,0.0011443388648331165,0.023990510031580925,-0.04279925674200058,0.01579260639846325,0.020793024450540543,-0.07755882292985916,-0.024645205587148666,-0.007016814313828945,0.015861909836530685,0.02664836496114731,-0.03696408122777939,0.03746170550584793,-0.023760393261909485,-0.029247432947158813,-0.032368727028369904,-0.09021861851215363,0.06151215359568596,0.009629094041883945,-0.0619155690073967,-0.009879613295197487,0.004028926603496075,0.03477317839860916,0.08542101830244064,-0.013159843161702156,-0.024203035980463028,0.0122918002307415,0.009867851622402668,-0.05170515924692154,0.006054367404431105,0.009201356209814548,-0.020419184118509293,0.01052502728998661,0.0037106445524841547,0.014663065783679485,-0.033928271383047104,0.01004126574844122,0.001488721463829279,-0.019700493663549423,0.060854360461235046,0.01936526969075203,-0.08272380381822586,-0.026906101033091545,-0.036936115473508835,-0.04579123854637146,-0.013252221047878265,0.01234317384660244,0.03957216441631317,0.038389887660741806,-0.022864634171128273,0.06253759562969208,-0.11780666559934616,-0.010602650232613087,0.030881019309163094,0.021352652460336685,-0.006988544017076492,-0.03660482168197632,0.025621559470891953,0.002253035083413124,-0.0182453952729702,-0.009727347642183304,-0.027257779613137245,0.05253473296761513,0.00258717592805624,0.04616120085120201,0.014354100450873375,0.02872270904481411,-0.04130967706441879,-0.021376583725214005,0.02821459248661995,-0.056568294763565063,-0.0036358528304845095,-0.013731243088841438,-0.02321651391685009,-0.05364131182432175,-0.0437997467815876,0.07098564505577087,-0.06226908043026924,-0.006761047523468733,0.0547759011387825,0.041809145361185074,-0.02516164258122444,-0.009191744029521942,0.025747861713171005,-0.02522815577685833,-0.022310063242912292,0.0029158613178879023,-0.010042195208370686,0.014711444266140461,-0.006789949256926775,0.005195335019379854,-0.03768310323357582,0.02847805619239807,0.034834906458854675,-0.017993727698922157,-0.018629392609000206,-0.04314400628209114,-0.03352978453040123,-0.003441715147346258,-0.0037144774105399847,0.005852703470736742,0.03347738832235336,0.07333557307720184,-0.0005667212535627186,0.036819808185100555,0.014432699419558048,0.014224080368876457,0.04107854887843132,0.007647784426808357,-0.01614026166498661,-0.04090302437543869,-0.02239653468132019,0.022180015221238136,0.019579527899622917,-0.013299464248120785,2.849718896413833e-7,-0.02519368939101696,0.0021863358560949564,-0.005383503623306751,0.024702364578843117,0.023523638024926186,-0.018418453633785248,-0.019043361768126488,-0.03755725547671318,-0.03806532546877861,-0.13171985745429993,0.04415879026055336,-0.009138612076640129,0.03781095892190933,0.03591679036617279,-0.05475529283285141,-0.010321921668946743,0.04181456193327904,-0.01936667039990425,-0.05119866877794266,0.011232936754822731,0.06534277647733688,-0.010671339929103851,0.055794522166252136,0.0014739111065864563,-0.014057524502277374,0.08866311609745026,0.02485251985490322,0.01178058423101902,0.08464337140321732,-0.021129349246621132,0.025095714256167412,-0.008833715692162514,-0.01621151715517044,-0.016512030735611916,0.05936577543616295,0.004625887610018253,0.0382087342441082,0.03547849878668785,0.02800966240465641,0.03079579584300518,0.06868214160203934,0.008441855199635029,-0.030579768121242523,-0.05328106880187988,0.020217012614011765,-0.03125913068652153,-0.04385203868150711,0.06193002685904503,-0.04573339596390724,0.019382383674383163,0.011897384189069271,-0.0012365657603368163,0.034098878502845764,-0.03409099206328392,0.0010202593402937055,-0.06043841317296028,-0.008441416546702385,0.03564086928963661,0.007452008780092001,0.030481044203042984,-0.026982052251696587,0.03667541220784187,0.03173806145787239,-0.03472364321351051,0.015928730368614197,-0.018336543813347816,-0.022438520565629005,3.0847320458391065e-34,-0.03309829533100128,-0.03205911070108414,0.011589307337999344,0.059299346059560776,0.029199494048953056,-0.01115407980978489,0.073000468313694,-0.02156018652021885,-0.01134608406573534,-0.01861535757780075,0.002318135928362608]'
SET
  @HasCustomProps_a6eb7df2 = 1
SET
  @HasCustomEvents_a6eb7df2 = 1
SET
  @RequiresData_a6eb7df2 = 1
SET
  @DependencyCount_a6eb7df2 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_a6eb7df2 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_a6eb7df2 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_a6eb7df2 = 1
SET
  @ID_a6eb7df2 = '894F252D-1ED3-4196-AB01-DCA71382D752'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_a6eb7df2,
  @Name = @Name_a6eb7df2,
  @Version = @Version_a6eb7df2,
  @VersionSequence = @VersionSequence_a6eb7df2,
  @Title = @Title_a6eb7df2,
  @Description = @Description_a6eb7df2,
  @Type = @Type_a6eb7df2,
  @Status = @Status_a6eb7df2,
  @DeveloperName = @DeveloperName_a6eb7df2,
  @DeveloperEmail = @DeveloperEmail_a6eb7df2,
  @DeveloperOrganization = @DeveloperOrganization_a6eb7df2,
  @SourceRegistryID = @SourceRegistryID_a6eb7df2,
  @ReplicatedAt = @ReplicatedAt_a6eb7df2,
  @LastSyncedAt = @LastSyncedAt_a6eb7df2,
  @Specification = @Specification_a6eb7df2,
  @FunctionalRequirements = @FunctionalRequirements_a6eb7df2,
  @TechnicalDesign = @TechnicalDesign_a6eb7df2,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_a6eb7df2,
  @TechnicalDesignVector = @TechnicalDesignVector_a6eb7df2,
  @HasCustomProps = @HasCustomProps_a6eb7df2,
  @HasCustomEvents = @HasCustomEvents_a6eb7df2,
  @RequiresData = @RequiresData_a6eb7df2,
  @DependencyCount = @DependencyCount_a6eb7df2,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_a6eb7df2,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_a6eb7df2,
  @HasRequiredCustomProps = @HasRequiredCustomProps_a6eb7df2,
  @ID = @ID_a6eb7df2;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_5cb46c57 NVARCHAR(MAX),
@Name_5cb46c57 NVARCHAR(500),
@Version_5cb46c57 NVARCHAR(50),
@VersionSequence_5cb46c57 INT,
@Title_5cb46c57 NVARCHAR(1000),
@Description_5cb46c57 NVARCHAR(MAX),
@Type_5cb46c57 NVARCHAR(255),
@Status_5cb46c57 NVARCHAR(50),
@DeveloperName_5cb46c57 NVARCHAR(255),
@DeveloperEmail_5cb46c57 NVARCHAR(255),
@DeveloperOrganization_5cb46c57 NVARCHAR(255),
@SourceRegistryID_5cb46c57 UNIQUEIDENTIFIER,
@ReplicatedAt_5cb46c57 DATETIMEOFFSET,
@LastSyncedAt_5cb46c57 DATETIMEOFFSET,
@Specification_5cb46c57 NVARCHAR(MAX),
@FunctionalRequirements_5cb46c57 NVARCHAR(MAX),
@TechnicalDesign_5cb46c57 NVARCHAR(MAX),
@FunctionalRequirementsVector_5cb46c57 NVARCHAR(MAX),
@TechnicalDesignVector_5cb46c57 NVARCHAR(MAX),
@HasCustomProps_5cb46c57 BIT,
@HasCustomEvents_5cb46c57 BIT,
@RequiresData_5cb46c57 BIT,
@DependencyCount_5cb46c57 INT,
@TechnicalDesignVectorEmbeddingModelID_5cb46c57 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_5cb46c57 NVARCHAR(MAX),
@HasRequiredCustomProps_5cb46c57 BIT,
@ID_5cb46c57 UNIQUEIDENTIFIER
SET
  @Namespace_5cb46c57 = N'Admin/Entities'
SET
  @Name_5cb46c57 = N'EntityFilter'
SET
  @Version_5cb46c57 = N'1.0.0'
SET
  @VersionSequence_5cb46c57 = 1
SET
  @Title_5cb46c57 = N'Entity Filter'
SET
  @Description_5cb46c57 = N'Collapsible filter panel for filtering entities by various criteria'
SET
  @Type_5cb46c57 = N'Other'
SET
  @Status_5cb46c57 = N'Published'
SET
  @Specification_5cb46c57 = N'{"name":"EntityFilter","title":"Entity Filter Panel","description":"Collapsible filter panel for filtering entities by various criteria","type":"form","functionalRequirements":"## Entity Filter Requirements\n\n- Collapsible panel on the left side\n- Filter by schema name (dropdown)\n- Filter by base table (dropdown)\n- Search box for text search\n- Clear all filters button\n- Show active filter count\n- Smooth collapse/expand animation\n- Remember collapsed state","dataRequirements":{"mode":"views","description":"Receives filter options derived from Entities metadata","entities":[{"name":"Entities","description":"Source of schema and table filter options","displayFields":["SchemaName","BaseTable"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Extracts unique schema names and base tables for filter dropdowns"}],"queries":[]},"technicalDesign":"## Technical Design\n\n### Props\n- filters: Current filter values\n- onFilterChange: Callback when filters change\n- schemas: Available schema options\n- tables: Available table options\n- isCollapsed: Whether panel is collapsed\n- onToggleCollapse: Callback to toggle collapse\n\n### Components\n- Collapse toggle button\n- Schema dropdown\n- Table dropdown\n- Search input\n- Clear filters button\n- Active filter badges","properties":[{"name":"filters","description":"Current filter values","type":"{schema?: string, table?: string, search?: string}","required":true},{"name":"onFilterChange","description":"Callback when filters change","type":"(filters: {schema?: string, table?: string, search?: string}) => void","required":true},{"name":"schemas","description":"Available schema options","type":"Array<string>","required":true},{"name":"tables","description":"Available table options","type":"Array<string>","required":true},{"name":"isCollapsed","description":"Whether the panel is collapsed","type":"boolean","required":true},{"name":"onToggleCollapse","description":"Callback to toggle collapse state","type":"() => void","required":true}],"events":[{"name":"onFilterChange","description":"Fired when filter values change","parameters":[{"name":"filters","description":"Updated filter object","type":"object"}]},{"name":"onToggleCollapse","description":"Fired when collapse state should toggle","parameters":[]}],"exampleUsage":"<EntityFilter\n  filters={filters}\n  onFilterChange={handleFilterChange}\n  schemas={uniqueSchemas}\n  tables={uniqueTables}\n  isCollapsed={filterPanelCollapsed}\n  onToggleCollapse={handleToggleFilter}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>","code":"function EntityFilter({ \n  filters, \n  onFilterChange, \n  schemas, \n  tables, \n  isCollapsed, \n  onToggleCollapse,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders.radius === ''object'' ? styles.borders.radius[size] : styles.borders.radius;\n  };\n  \n  // Calculate active filter count\n  const activeFilterCount = Object.values(filters || {}).filter(Boolean).length;\n  \n  // Handle schema filter change\n  const handleSchemaChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      schema: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle table filter change\n  const handleTableChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      table: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle clear all filters\n  const handleClearFilters = useCallback(() => {\n    onFilterChange?.({});\n  }, [onFilterChange]);\n  \n  // Handle toggle collapse\n  const handleToggle = useCallback(() => {\n    onToggleCollapse?.();\n  }, [onToggleCollapse]);\n  \n  return (\n    <div style={{\n      width: isCollapsed ? ''48px'' : ''280px'',\n      minWidth: isCollapsed ? ''48px'' : ''280px'',\n      backgroundColor: styles.colors.surface,\n      borderRight: `1px solid $' + '{styles.colors.border}`,\n      transition: ''width 0.3s ease-out'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      position: ''relative'',\n      overflow: ''hidden''\n    }}>\n      {/* Toggle Button */}\n      <button\n        onClick={handleToggle}\n        style={{\n          position: ''absolute'',\n          top: styles.spacing.md,\n          right: styles.spacing.md,\n          width: ''32px'',\n          height: ''32px'',\n          borderRadius: getBorderRadius(''sm''),\n          border: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.background,\n          color: styles.colors.text,\n          fontSize: styles.typography.fontSize.md,\n          cursor: ''pointer'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1,\n          transition: ''all 0.2s''\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.background;\n        }}\n      >\n        {isCollapsed ? ''→'' : ''←''}\n      </button>\n      \n      {/* Filter Icon when collapsed */}\n      {isCollapsed && (\n        <div style={{\n          display: ''flex'',\n          flexDirection: ''column'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          flex: 1,\n          opacity: 1,\n          transition: ''opacity 0.3s''\n        }}>\n          <div style={{\n            fontSize: styles.typography.fontSize.xl,\n            color: styles.colors.textSecondary,\n            marginBottom: styles.spacing.sm\n          }}>\n            🔍\n          </div>\n          {activeFilterCount > 0 && (\n            <div style={{\n              width: ''24px'',\n              height: ''24px'',\n              borderRadius: ''50%'',\n              backgroundColor: styles.colors.primary,\n              color: ''white'',\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              fontSize: styles.typography.fontSize.xs,\n              fontWeight: styles.typography.fontWeight?.bold || ''700''\n            }}>\n              {activeFilterCount}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Filter Content */}\n      <div style={{\n        padding: styles.spacing.lg,\n        opacity: isCollapsed ? 0 : 1,\n        transition: ''opacity 0.3s'',\n        pointerEvents: isCollapsed ? ''none'' : ''auto'',\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column''\n      }}>\n        {/* Header */}\n        <div style={{\n          marginBottom: styles.spacing.xl,\n          paddingRight: ''40px''\n        }}>\n          <h2 style={{\n            margin: 0,\n            fontSize: styles.typography.fontSize.lg,\n            fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n            color: styles.colors.text,\n            marginBottom: styles.spacing.xs\n          }}>\n            Filters\n          </h2>\n          {activeFilterCount > 0 && (\n            <div style={{\n              fontSize: styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary\n            }}>\n              {activeFilterCount} active filter{activeFilterCount !== 1 ? ''s'' : ''''}\n            </div>\n          )}\n        </div>\n        \n        {/* Filter Controls */}\n        <div style={{\n          flex: 1,\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.lg\n        }}>\n          {/* Schema Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Schema\n            </label>\n            <select\n              value={filters?.schema || ''''}\n              onChange={handleSchemaChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Schemas</option>\n              {schemas.map((schema) => (\n                <option key={schema} value={schema}>\n                  {schema}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* Table Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Base Table\n            </label>\n            <select\n              value={filters?.table || ''''}\n              onChange={handleTableChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Tables</option>\n              {tables.map((table) => (\n                <option key={table} value={table}>\n                  {table}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* Active Filters Display */}\n          {activeFilterCount > 0 && (\n            <div>\n              <div style={{\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Active Filters\n              </div>\n              <div style={{\n                display: ''flex'',\n                flexDirection: ''column'',\n                gap: styles.spacing.xs\n              }}>\n                {filters?.schema && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Schema:\n                      </span>\n                      <strong>{filters.schema}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleSchemaChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      ✕\n                    </button>\n                  </div>\n                )}\n                {filters?.table && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Table:\n                      </span>\n                      <strong>{filters.table}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleTableChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      ✕\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Clear All Button */}\n        {activeFilterCount > 0 && (\n          <div style={{\n            marginTop: styles.spacing.xl,\n            paddingTop: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.borderLight || styles.colors.border}`\n          }}>\n            <button\n              onClick={handleClearFilters}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.surface,\n                color: styles.colors.text,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.error + ''15'';\n                e.currentTarget.style.color = styles.colors.error;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surface;\n                e.currentTarget.style.color = styles.colors.text;\n              }}\n            >\n              Clear All Filters\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","dependencies":[],"libraries":[]}'
SET
  @FunctionalRequirements_5cb46c57 = N'## Entity Filter Requirements

- Collapsible panel on the left side
- Filter by schema name (dropdown)
- Filter by base table (dropdown)
- Search box for text search
- Clear all filters button
- Show active filter count
- Smooth collapse/expand animation
- Remember collapsed state'
SET
  @TechnicalDesign_5cb46c57 = N'## Technical Design

### Props
- filters: Current filter values
- onFilterChange: Callback when filters change
- schemas: Available schema options
- tables: Available table options
- isCollapsed: Whether panel is collapsed
- onToggleCollapse: Callback to toggle collapse

### Components
- Collapse toggle button
- Schema dropdown
- Table dropdown
- Search input
- Clear filters button
- Active filter badges'
SET
  @FunctionalRequirementsVector_5cb46c57 = N'[-0.04309767484664917,0.05131657049059868,-0.02658633515238762,-0.048772890120744705,-0.009088106453418732,-0.03358757123351097,0.007869894616305828,0.08582665026187897,-0.01053980365395546,0.006734324619174004,-0.004782216157764196,-0.0030791121535003185,-0.008177606388926506,0.09793854504823685,-0.01978009007871151,-0.033196937292814255,0.013646737672388554,0.036678340286016464,-0.017238887026906013,-0.010291690938174725,0.009629919193685055,-0.0004936327459290624,-0.013527726754546165,0.014874108135700226,0.08726030588150024,0.035786986351013184,-0.017036525532603264,-0.006721140816807747,0.011392786167562008,-0.040790148079395294,-0.020793408155441284,0.03233164921402931,-0.0011265643406659365,-0.03915446251630783,0.0000018768839709082386,0.006254982203245163,-0.09995658695697784,0.00150908506475389,-0.029331771656870842,0.02526433765888214,-0.017893807962536812,0.02403556928038597,0.025823252275586128,0.0043559311889112,-0.001423511072061956,0.009924744255840778,-0.04878765344619751,0.029834480956196785,0.01774573139846325,-0.024684347212314606,0.02938130497932434,-0.025760164484381676,0.0005153400124981999,-0.007452750112861395,-0.005684584379196167,-0.048301808536052704,-0.014856533147394657,-0.08063244819641113,0.04193330183625221,-0.007445917930454016,-0.013443805277347565,0.03432630002498627,0.02558090165257454,-0.04340244084596634,0.021523913368582726,-0.025218315422534943,0.026298463344573975,-0.05165933817625046,0.07823599874973297,-0.005676989443600178,0.13365811109542847,-0.028828926384449005,-0.020652173087000847,-0.04545709863305092,-0.0092145511880517,0.07282470911741257,0.027209734544157982,-0.0021077741403132677,0.029149560257792473,0.04176937788724899,-0.04670685902237892,-0.01702515035867691,-0.011662241071462631,-0.022328291088342667,-0.07921919971704483,0.062439095228910446,-0.021678613498806953,-0.018499286845326424,0.011229347437620163,-0.07816178351640701,0.08432422578334808,0.002940563252195716,0.015138044022023678,0.02435174211859703,-0.051931221038103104,-0.031230568885803223,0.02406548149883747,-0.019351273775100708,0.018160630017518997,0.04127717390656471,-0.042826857417821884,0.046039316803216934,0.0663384348154068,0.022693926468491554,0.029498716816306114,0.05449332296848297,0.014714724384248257,-0.04243887960910797,0.011869286186993122,-0.02755669504404068,-0.04319813847541809,0.05014537647366524,-0.0150741096585989,0.03794677555561066,-0.05413530021905899,0.0072893425822257996,-0.03024481050670147,-0.062211669981479645,-0.01338979136198759,-0.006551684811711311,0.035146329551935196,0.014346818439662457,0.026401102542877197,-0.03621953725814819,-0.029187701642513275,0.007064644247293472,0.02155662700533867,-0.06593228131532669,-0.03010578453540802,-0.01838017627596855,-0.04018740728497505,-0.04262347146868706,0.045796677470207214,0.0036723457742482424,0.018870970234274864,-0.07166151702404022,0.016237372532486916,-0.021837910637259483,-0.07178103178739548,0.011950173415243626,0.03936437889933586,-0.016497625038027763,-0.03802304342389107,0.09359271079301834,-0.011348421685397625,-0.04822594299912453,0.019501376897096634,-0.0629325807094574,0.028915565460920334,0.024362808093428612,-0.001727976487018168,-0.01629839837551117,-0.024917935952544212,0.029998041689395905,-0.0015187072567641735,-0.021932892501354218,0.0604277141392231,0.04025634378194809,-0.00548035092651844,-0.003922000527381897,-0.027141740545630455,0.015172023326158524,0.030461175367236137,-0.008198701776564121,0.04414376616477966,0.03705089911818504,-0.14019502699375153,-0.0004511691222433001,-0.0983673632144928,-0.03430555760860443,-0.010533998720347881,-0.027352843433618546,0.011861839331686497,0.008772018365561962,0.022945595905184746,0.0005929265171289444,0.0916169211268425,0.024945439770817757,-0.05691785737872124,0.03082386963069439,0.02230018377304077,-0.017856087535619736,0.021379414945840836,-0.04447542503476143,0.024310454726219177,-0.05766339972615242,-0.040348414331674576,-0.013902682811021805,-0.02870073728263378,0.0022501074708998203,0.03206230327486992,0.04786840081214905,-0.0048788865096867085,0.03137494623661041,0.0035682949237525463,0.02465335838496685,-0.0003047155332751572,0.03472435846924782,0.03656346723437309,-0.003967673983424902,-0.03353097289800644,-0.013922140002250671,0.06641969084739685,0.0433446504175663,0.019499357789754868,-0.03633087873458862,0.005429571960121393,0.0116190230473876,0.031076112762093544,0.013108876533806324,-0.049699582159519196,0.020849056541919708,-0.02772541716694832,0.03316166624426842,-0.014371473342180252,0.06302373856306076,0.0425126813352108,0.008769204840064049,-0.042892783880233765,-0.004697604104876518,-0.01767473667860031,0.017095230519771576,-0.018743962049484253,0.0202698465436697,0.038996100425720215,0.0829726830124855,0.022865913808345795,0.003910636063665152,0.012721565552055836,-0.009028919972479343,-0.013572600670158863,-0.013080376200377941,0.007382639218121767,0.0244153942912817,0.02653120458126068,-0.04507879912853241,0.06427135318517685,0.07450369000434875,-0.038750190287828445,0.00022477502352558076,0.04883000627160072,-0.008682257495820522,0.0037735975347459316,0.005492128897458315,-0.03324749320745468,-0.08942890167236328,-0.041296496987342834,-0.006385567598044872,0.0508943647146225,-0.051540158689022064,0.004582654684782028,-0.006596085615456104,0.029132887721061707,-0.03928733617067337,-0.031570881605148315,0.011730809696018696,-0.07281088829040527,0.0076658823527395725,-0.0029115856159478426,0.06602874398231506,0.04091887176036835,-0.01243149396032095,-0.045729536563158035,-0.0002410240558674559,0.025187423452734947,-0.0013323444873094559,0.058188099414110184,0.0015454554231837392,0.03734077885746956,0.0005298635805957019,-0.001612419611774385,0.005262571852654219,-0.0008229395607486367,-0.01386868767440319,-0.008965381421148777,-0.0021578532177954912,0.0025706735905259848,0.037343475967645645,-0.017822768539190292,-0.04700387641787529,-0.031064342707395554,-0.029809169471263885,-0.02059543877840042,0.0432828813791275,0.011155780404806137,0.007967095822095871,0.0127849280834198,-0.06510350108146667,0.04279302805662155,0.023282142356038094,0.038207996636629105,0.01890241913497448,0.06191594526171684,0.008867986500263214,-0.006924877874553204,0.032675664871931076,-0.09029173105955124,0.0717480257153511,-0.007280571851879358,0.07391650974750519,-0.014782624319195747,0.05676819384098053,-0.0253828763961792,0.0302764680236578,-0.013564275577664375,0.06983639299869537,0.0018668628763407469,0.0011034319177269936,0.0352192297577858,0.03027479350566864,-0.03425613045692444,0.01264134980738163,-0.02133135125041008,-0.05583590641617775,-0.014328179880976677,-0.010491606779396534,0.00004778623770107515,0.00804976373910904,0.0031003551557660103,0.056053172796964645,-0.016058359295129776,0.01504603773355484,-0.019003983587026596,0.010862225666642189,-0.020550066605210304,-0.005645411554723978,-0.01748189702630043,-0.021121390163898468,0.01420631818473339,0.0036503318697214127,0.013097429648041725,0.030488546937704086,-0.019642384722828865,-0.01854259893298149,0.002417101291939616,-0.0220106802880764,-0.05417411029338837,0.07024087011814117,-0.022045021876692772,-0.01776943914592266,-0.00491508049890399,-0.004624920431524515,-0.02577800117433071,-0.004392736125737429,0.013854832388460636,0.03738275170326233,0.06618936359882355,0.002316116588190198,-0.11777088791131973,0.014455514028668404,0.017216188833117485,0.061649173498153687,-0.01427326537668705,0.00040318325045518577,0.015282428823411465,-0.03275296092033386,0.0032116305083036423,0.04493154585361481,-0.040349140763282776,-0.04119760915637016,0.09684429317712784,0.016707416623830795,-0.003043081611394882,0.015471603721380234,0.04361886531114578,-0.01732143573462963,0.0063180988654494286,-0.001936224172823131,0.022753003984689713,-0.04057520255446434,-0.04332694038748741,-0.004171920940279961,0.016941849142313004,0.0666445717215538,-0.0006024764152243733,-0.039092179387807846,0.0019569946452975273,0.006787044461816549,0.01034516654908657,0.020239058881998062,0.004867187235504389,0.007151719648391008,0.04413135349750519,-0.017836250364780426,0.014675521291792393,0.010417353361845016,-0.013728288933634758,0.012052453123033047,-0.004515359178185463,-0.011385095305740833,-0.023782847449183464,-0.021255571395158768,0.013133110478520393,0.0010425631189718843,-0.0014984181616455317,-0.029532983899116516,-0.017295993864536285,0.04006332531571388,0.011245742440223694,0.002213902771472931,-0.014967587776482105,0.09920752793550491,-0.04580642282962799,0.02953014336526394,-0.022559840232133865,-0.06208178773522377,-0.03888853266835213,0.06103237718343735,0.02835060842335224,-0.0176987387239933,-0.0353035144507885,-0.014623402617871761,0.006346177775412798,-0.0315321646630764,0.02857501059770584,-0.037747230380773544,0.005704158917069435,-0.036419592797756195,-0.001609658938832581,0.04457972198724747,0.004261926747858524,-0.03213615342974663,0.02779933251440525,-0.021587759256362915,0.04055577516555786,-0.008937489241361618,-0.0016988870920613408,-0.08239671587944031,0.00705194054171443,0.04406135156750679,-0.05286800488829613,0.06363631039857864,0.022943299263715744,0.02310759201645851,-0.009520362131297588,-0.056742113083601,0.04974205046892166,-0.057262077927589417,-0.007048592437058687,0.02022450789809227,0.02253379113972187,0.030167395249009132,0.03437255695462227,0.02055969089269638,0.03810202702879906,0.07288522273302078,0.03189248591661453,0.037925414741039276,-0.003367890603840351,-0.031134750694036484,0.012771444395184517,0.007646571844816208,-0.04593749716877937,-0.018643029034137726,-0.0002329864801140502,-0.02319895103573799,0.001855373033322394,0.0442856065928936,-0.024067703634500504,-0.003285824554041028,-0.08548201620578766,0.029760507866740227,-0.04986746236681938,-0.006366549991071224,-0.02907099947333336,-0.02384769544005394,-0.054881852120161057,-0.08147580176591873,-0.006763603072613478,-0.005931172985583544,-0.0681518167257309,0.0042421212419867516,0.021557671949267387,0.016856033354997635,-0.0012789383763447404,-0.021570531651377678,-0.033818136900663376,-0.015138429589569569,0.031420499086380005,0.022584814578294754,-0.01774962805211544,-0.010164627805352211,0.02613922208547592,-0.10084138810634613,-0.006202994845807552,0.07970873266458511,-0.014886046759784222,-0.013189181685447693,0.001991171156987548,0.0690355971455574,0.022348545491695404,-0.045709725469350815,0.003846608567982912,0.021766288205981255,0.02918868511915207,0.00744651211425662,0.04521987587213516,0.038839563727378845,-0.04009784385561943,-0.037876226007938385,0.02486656978726387,-0.005817317869514227,0.024395475164055824,-0.019498934969305992,-0.0050767818465828896,-0.001126225688494742,0.023842595517635345,0.07187885791063309,-0.013441282324492931,0.01685948669910431,0.008862516842782497,0.0008296375162899494,-0.035847730934619904,-0.004680034704506397,0.01780017651617527,-0.014867404475808144,-0.011012354865670204,0.00815651472657919,0.0006468990468420088,0.032654207199811935,0.01672864519059658,0.010606206022202969,-0.017869191244244576,-0.02323346771299839,0.050913579761981964,-0.05074917525053024,0.00996856577694416,0.005006194580346346,0.050203267484903336,0.037241656333208084,0.044631388038396835,0.0168287493288517,-0.0015472323866561055,0.013972335495054722,-0.01011648029088974,-0.010685066692531109,0.018368275836110115,0.024130018427968025,-0.003175189020112157,-0.01900380663573742,-0.07507769763469696,0.0376570001244545,-0.0037672542966902256,-0.02161327749490738,-0.023566044867038727,-0.039412036538124084,0.01590208150446415,0.0066183037124574184,0.005936754867434502,0.008835764601826668,-0.03480636328458786,-0.05584859848022461,-0.026432672515511513,0.02407754398882389,-0.02482101134955883,-6.03281149586268e-33,-0.03427039831876755,-0.028041154146194458,-0.016420289874076843,-0.0832875669002533,0.014947736635804176,-0.06296838074922562,-0.018221113830804825,-0.012898820452392101,-0.02770322561264038,-0.02673754096031189,-0.01763252355158329,0.020438965409994125,-0.0031507951207458973,0.02544265426695347,-0.02914501167833805,-0.012287012301385403,-0.0044128610752522945,-0.0353851318359375,0.0240479726344347,0.048819996416568756,-0.04252830892801285,0.035295359790325165,-0.0483739897608757,-0.02890527807176113,-0.07129384577274323,0.06011365354061127,-0.008024734444916248,-0.0074491361156105995,-0.0498819425702095,0.027659734711050987,-0.02280523255467415,-0.04327106475830078,0.0067346366122365,-0.04525008052587509,0.026722930371761322,-0.07210975885391235,-0.0007645346340723336,0.0039857677184045315,-0.02317136339843273,-0.004346251953393221,0.05776423588395119,-0.001107129966840148,0.004972923081368208,0.017393585294485092,-0.040341638028621674,0.045505501329898834,0.014937474392354488,-0.01667674072086811,-0.03079126961529255,-0.015155388042330742,0.0069314357824623585,0.03514442592859268,0.011671553365886211,0.021156415343284607,-0.00574428541585803,0.044847678393125534,0.025114042684435844,0.05090036988258362,0.02100878581404686,-0.04103275015950203,0.07590838521718979,-0.0009297553333453834,-0.04022201523184776,0.025406796485185623,0.029401792213320732,0.016483468934893608,-0.032570626586675644,0.03813336417078972,-0.06319066882133484,-0.030602343380451202,0.010351177304983139,0.046226684004068375,0.029952706769108772,-0.05830156058073044,0.01771467924118042,0.005658972077071667,-0.011341461911797523,-0.002017701743170619,-0.12050614506006241,0.07654394954442978,0.021115941926836967,0.01258276030421257,0.004154705908149481,0.02686900831758976,-0.010699034668505192,-0.01642654836177826,-0.010543293319642544,0.027553703635931015,0.01419705618172884,0.026186099275946617,-0.025334561243653297,-0.06404506415128708,-0.05696301534771919,0.03617996349930763,-0.03740835189819336,-0.012481501325964928,0.011314424686133862,-0.02921525202691555,-0.002699547912925482,0.001768586691468954,0.023560715839266777,-0.008114088326692581,-0.008442779071629047,-0.03571709990501404,-0.014299234375357628,0.018845679238438606,-0.010081209242343903,0.007426198106259108,-0.0364949032664299,0.00008332661673193797,0.0024246093817055225,-0.007860289886593819,-0.00045808052527718246,0.018801096826791763,-0.013314900919795036,0.00698015745729208,0.011556087993085384,-0.01084220502525568,0.027808954939246178,0.03372160345315933,0.007943589240312576,-0.03599441424012184,0.042250607162714005,0.0614728182554245,0.07797254621982574,-0.03423864394426346,-0.025504471734166145,-0.06150418147444725,0.03462545573711395,-0.008444094099104404,-0.008155428804457188,0.029503250494599342,2.7108396238872956e-7,-0.006946857087314129,-0.018830997869372368,-0.04055437445640564,0.011390410363674164,0.03801196441054344,-0.06314165890216827,0.03376155346632004,-0.04838472604751587,-0.021900707855820656,-0.09149689227342606,0.0418306440114975,-0.006040866021066904,0.04394335672259331,0.0056468406692147255,-0.051310840994119644,-0.09116727113723755,0.01355519238859415,-0.06028852239251137,-0.044850416481494904,-0.02332228049635887,0.028411775827407837,0.08331289887428284,0.025673916563391685,0.017232153564691544,-0.009710036218166351,0.02240348979830742,-0.0037985527887940407,-0.028172481805086136,0.04289001226425171,0.0017842714441940188,0.0591500960290432,-0.03600827604532242,-0.036064233630895615,0.030422216281294823,0.022656522691249847,0.07125860452651978,-0.009130621328949928,0.008754510432481766,-0.004752117674797773,0.012313171289861202,0.05831565707921982,-0.04243231564760208,-0.05793728679418564,-0.03463161364197731,0.06464638561010361,0.020151356235146523,0.007492941338568926,0.08355332911014557,-0.009600129909813404,0.018553603440523148,0.049952469766139984,0.011425739154219627,0.008528448641300201,-0.04023456200957298,0.030102737247943878,0.00022545293904840946,-0.01215337123721838,-0.0026712932158261538,0.03611954301595688,-0.0671539232134819,-0.049877554178237915,0.0188701543956995,-0.00925733894109726,-0.03329569846391678,0.01276435237377882,-0.00651967991143465,-0.016132626682519913,3.4819501836699294e-34,0.006431529298424721,-0.006658186670392752,0.023729387670755386,0.07234800606966019,0.04674331843852997,0.0020839818753302097,-0.06080526113510132,-0.01882375031709671,0.009539968334138393,-0.08753032237291336,0.00798124074935913]'
SET
  @TechnicalDesignVector_5cb46c57 = N'[-0.03833427280187607,-0.011285857297480106,-0.029112033545970917,-0.038597818464040756,0.005216388497501612,-0.058115892112255096,0.028591612353920937,0.0717102438211441,-0.0016870249528437853,-0.020214581862092018,-0.008012615144252777,0.04145465046167374,0.06761626154184341,0.13093280792236328,0.019061880186200142,-0.014003424905240536,0.041986316442489624,0.05295189097523689,-0.07406105846166611,-0.020073244348168373,-0.005985577590763569,0.00783904455602169,-0.00799088180065155,0.021654833108186722,0.08013757318258286,-0.020756585523486137,0.012773036025464535,-0.032663922756910324,-0.001293903449550271,-0.02457859367132187,0.014182833954691887,0.03853639215230942,-0.045556649565696716,-0.023546112701296806,0.000002290965767315356,-0.013191431760787964,-0.013072100467979908,-0.03368436172604561,-0.03301697596907616,0.0019964135717600584,-0.020928578451275826,-0.018377695232629776,0.033910881727933884,0.032224103808403015,-0.007613510359078646,-0.09846395254135132,-0.07332520186901093,0.06433045864105225,-0.013104038313031197,-0.02636965550482273,0.012909935787320137,-0.031742315739393234,0.0017391982255503535,-0.018471021205186844,0.05477156490087509,-0.01256254781037569,-0.017422469332814217,-0.07590725272893906,0.062055353075265884,-0.030591195449233055,0.02222915180027485,-0.00932235550135374,-0.0022598635405302048,-0.04677179083228111,0.019794946536421776,-0.020279349759221077,0.03289482370018959,-0.07410988211631775,0.046611689031124115,0.0033436273224651814,0.10052170604467392,-0.021626148372888565,-0.006530123297125101,-0.0014953410718590021,-0.01496898289769888,0.040355488657951355,0.011426875367760658,-0.008643681183457375,-0.00945199467241764,0.03539649769663811,0.01889806054532528,-0.010163922794163227,-0.03470079228281975,-0.026422491297125816,0.039642199873924255,0.08508577197790146,-0.029805786907672882,0.007646622136235237,-0.004166469909250736,-0.05919697508215904,0.09112463146448135,-0.044843271374702454,0.01910298690199852,-0.0371098630130291,-0.04167446494102478,-0.013484291732311249,0.014011073857545853,-0.052983202040195465,0.02551168017089367,0.023178551346063614,-0.025352586060762405,0.04800363630056381,0.009409827180206776,0.019394824281334877,-0.0004194132925476879,0.060396626591682434,0.002989941043779254,-0.0029885603580623865,-0.017724329605698586,0.0029890527948737144,-0.024831727147102356,0.021048221737146378,0.039249859750270844,0.03574652597308159,-0.0307095218449831,0.002492166357114911,-0.026026543229818344,-0.027210276573896408,-0.008832115679979324,-0.0009320222306996584,0.05759076029062271,-0.03325437009334564,0.029426835477352142,-0.005077543668448925,0.018833523616194725,0.045213304460048676,0.04317369684576988,-0.052474863827228546,-0.02052794210612774,0.006006929557770491,-0.01022502314299345,-0.03027644008398056,0.023746341466903687,-0.002714246977120638,-0.016980281099677086,-0.03712126240134239,-0.02689378894865513,0.00007938817725516856,-0.004221001174300909,0.02884768880903721,0.04066241905093193,0.017128175124526024,-0.035924479365348816,0.07039649039506912,-0.026243489235639572,-0.012601385824382305,0.04205721244215965,-0.09409063309431076,-0.021346960216760635,0.02551335282623768,0.01674637757241726,0.008857691660523415,-0.018277812749147415,0.03071730025112629,-0.029146647080779076,0.032033827155828476,-0.015311304479837418,0.012874762527644634,-0.017152167856693268,0.014637238346040249,-0.0043091196566820145,0.005051628220826387,0.0225484911352396,-0.0320565365254879,-0.004296449478715658,0.031913112848997116,-0.1316850483417511,-0.0524267740547657,-0.006821389775723219,-0.06924773752689362,0.015097498893737793,-0.030951235443353653,-0.01699824444949627,0.042899396270513535,0.01086942758411169,-0.049679212272167206,0.13717706501483917,0.021906649693846703,-0.0875394269824028,0.009537531062960625,0.03064383566379547,-0.013280312530696392,-0.007834846153855324,-0.01707414723932743,-0.04963797330856323,-0.014180256053805351,-0.07007066905498505,-0.00031661009415984154,0.010462330654263496,-0.02562376670539379,-0.0390663668513298,0.054363928735256195,-0.019075145944952965,-0.014019741676747799,-0.027168339118361473,0.02938804216682911,-0.04678798466920853,0.021559981629252434,-0.004097208380699158,0.01772802323102951,0.026522742584347725,-0.03999081626534462,0.11264295130968094,0.10813484340906143,0.02000914141535759,-0.024185488000512123,-0.017439374700188637,0.029043978080153465,-0.007830474525690079,-0.013795601204037666,-0.008827977813780308,0.010241895914077759,0.022684654220938683,0.036813367158174515,-0.04046434536576271,0.014762497507035732,0.0457969531416893,-0.01856282167136669,-0.05733894556760788,-0.01506863534450531,-0.020087793469429016,0.02946268767118454,0.024731053039431572,0.030901847407221794,0.12220053374767303,0.05670010298490524,0.030279554426670074,0.00963769480586052,-0.006705783773213625,-0.04192313924431801,0.03294788673520088,0.0010782028548419476,-0.03846007212996483,0.037597835063934326,0.011397944763302803,-0.009396434761583805,0.008027331903576851,0.0014608856290578842,0.009645369835197926,0.003949095029383898,0.0021348174195736647,0.05655466392636299,-0.010576882399618626,0.033748775720596313,-0.01273431908339262,-0.05347204953432083,-0.056836094707250595,0.028176594525575638,0.004107811953872442,-0.032038815319538116,0.029080791398882866,0.042706914246082306,0.014303205534815788,-0.06154158338904381,-0.04719347879290581,-0.04712674021720886,-0.006158366333693266,0.009300380945205688,0.015589580871164799,0.03965106979012489,0.0416274219751358,-0.02620694227516651,-0.030308371409773827,-0.009673191234469414,0.04936563968658447,0.00983106717467308,0.06361060589551926,0.02808721922338009,0.03500194475054741,0.012874660082161427,-0.016924114897847176,-0.0022497137542814016,-0.0002542549918871373,-0.021295104175806046,0.015186953358352184,0.019099464640021324,0.08717206120491028,0.040892988443374634,-0.00020927989680785686,-0.0093248151242733,-0.009862277656793594,-0.05299064517021179,-0.04414426162838936,-0.004427135922014713,-0.012960939668118954,0.015975169837474823,-0.01520803477615118,-0.0027001872658729553,0.005222199019044638,-0.027874765917658806,0.048265524208545685,0.01251537911593914,0.030759640038013458,-0.054523445665836334,-0.01482454128563404,-0.0038245772011578083,-0.010463407263159752,0.047739166766405106,0.02140507847070694,0.034182991832494736,0.010986940935254097,0.044653017073869705,-0.015883544459939003,-0.001979171996936202,-0.01597084105014801,0.03674263507127762,-0.05269540846347809,-0.001661299029365182,0.000745514698792249,0.035723473876714706,-0.019568420946598053,0.041187796741724014,-0.05089940130710602,-0.035594455897808075,-0.008187152445316315,-0.007745010312646627,-0.00011949701001867652,-0.03767285495996475,0.01582198590040207,0.08799982815980911,0.00391424959525466,-0.008154449984431267,-0.028206711634993553,0.015744518488645554,-0.020879240706562996,-0.019590094685554504,-0.02147725783288479,-0.027970680966973305,0.09925435483455658,-0.02920384891331196,-0.0018803300336003304,0.07011790573596954,-0.0001310669758822769,-0.025691747665405273,0.02007550373673439,-0.011377527378499508,-0.04267700016498566,0.027091262862086296,-0.000943789433222264,-0.0007801471510902047,-0.018378587439656258,-0.007673191372305155,-0.019730620086193085,-0.022247232496738434,0.025046320632100105,-0.005174228921532631,0.009434884414076805,0.0017277320148423314,-0.08374233543872833,0.0043249004520475864,0.019945474341511726,0.04443599656224251,0.026407239958643913,-0.01199139840900898,-0.01183023490011692,-0.005748935975134373,-0.0019069697009399533,-0.008848896250128746,-0.006845996715128422,0.009524975903332233,0.10151989758014679,-0.01408860832452774,0.044416654855012894,0.00493560591712594,0.00007191461190814152,0.016151651740074158,0.03213132545351982,0.017892470583319664,-0.01361782941967249,-0.06819789856672287,-0.04889180511236191,-0.0042243883945047855,0.04868752509355545,0.020225003361701965,-0.04042058810591698,-0.012229088693857193,0.038769423961639404,0.003785946872085333,0.017895424738526344,0.0269283726811409,0.0087718665599823,-0.025203542783856392,0.031087026000022888,-0.013891885057091713,0.052846506237983704,-0.008922867476940155,0.03133726865053177,-0.0017911732429638505,0.01931832544505596,0.001925356686115265,-0.02200254797935486,-0.07151637226343155,-0.040859561413526535,0.00543413357809186,-0.004747952334582806,-0.03645430877804756,-0.00589331891387701,0.013693253509700298,-0.0019203386036679149,0.01430086325854063,-0.03426814451813698,0.14312337338924408,-0.024429474025964737,0.03261927142739296,0.05306561663746834,-0.048047952353954315,-0.0558893196284771,0.018150079995393753,0.051577623933553696,-0.0003157542087137699,0.031185660511255264,-0.027740221470594406,0.00837759766727686,-0.01386503130197525,-0.08204276114702225,0.011552118696272373,-0.0018237621989101171,-0.0498802624642849,-0.009832656010985374,0.03596998006105423,-0.03152851760387421,-0.020894454792141914,0.014344276860356331,-0.008750866167247295,-0.022265726700425148,-0.024608733132481575,0.020964711904525757,-0.03535645455121994,-0.0013703715521842241,0.03037405200302601,-0.026796244084835052,0.033690378069877625,0.04945497587323189,-0.006264504510909319,-0.015632271766662598,-0.0785568356513977,0.0372457280755043,-0.0117489043623209,-0.047401685267686844,-0.030650198459625244,0.042044397443532944,-0.027341535314917564,0.006535016931593418,-0.013082672841846943,0.030511524528265,-0.033489473164081573,0.035908252000808716,0.05095930024981499,0.014476142823696136,-0.029662085697054863,-0.010604055598378181,0.007749341893941164,-0.025398394092917442,0.007436421234160662,-0.009956030175089836,-0.030547115951776505,0.017853811383247375,0.0815921351313591,-0.017187954857945442,0.03757857903838158,-0.03782876580953598,0.035530831664800644,-0.041538167744874954,0.0018399815307930112,-0.03285011276602745,-0.01995120942592621,0.05695246160030365,-0.049515146762132645,-0.022735578939318657,0.021380426362156868,-0.07883167266845703,0.030567601323127747,0.00985774677246809,0.019744718447327614,0.010478071868419647,-0.09422996640205383,-0.04061128944158554,-0.03809703513979912,-0.010001085698604584,0.02340238355100155,0.014697220176458359,0.005940078757703304,-0.023121556267142296,-0.046906325966119766,0.02714741788804531,0.022192861884832382,0.019499190151691437,-0.006378507707268,0.03103722259402275,0.02983979322016239,0.036253321915864944,-0.03168957680463791,0.012903563678264618,0.06389118731021881,0.04872467741370201,0.08128970861434937,0.0033756839111447334,0.05830114707350731,-0.061823733150959015,-0.01713290996849537,0.041602637618780136,-0.0037355138920247555,0.014101766981184483,0.030181389302015305,-0.011252198368310928,-0.048787154257297516,-0.015746809542179108,0.05349734053015709,-0.03231397271156311,-0.042963940650224686,-0.04500656947493553,0.014801540412008762,-0.04341597482562065,-0.016756411641836166,0.02695109136402607,-0.00446652714163065,-0.057370807975530624,0.011391445994377136,0.03934652730822563,-0.01578674465417862,0.022031515836715698,0.021770598366856575,-0.021969003602862358,-0.03281112387776375,0.0507301427423954,-0.0035429904237389565,0.004303152672946453,0.012311755679547787,-0.006867971271276474,0.04782327637076378,0.015337415039539337,-0.020451994612812996,-0.00930198933929205,0.004298838786780834,0.017471490427851677,0.024505145847797394,-0.04473749175667763,0.06605253368616104,-0.024494241923093796,-0.03813134878873825,-0.07600203901529312,0.009500289335846901,0.02754252217710018,-0.0046423752792179585,0.05503808334469795,-0.027690501883625984,0.017076091840863228,-0.01626894623041153,0.013617875054478645,0.007689640857279301,-0.008886639028787613,-0.03977532312273979,-0.013051113113760948,0.026275739073753357,0.031848613172769547,-7.08021994145754e-33,-0.01855582930147648,-0.0012568236561492085,-0.01132272556424141,-0.01423421036452055,-0.03125659003853798,-0.028057653456926346,-0.0681387335062027,-0.03124992549419403,-0.03649994730949402,-0.03601961210370064,-0.02952682226896286,0.004761896096169949,-0.004678789526224136,-0.011784694157540798,0.020402833819389343,-0.04841131716966629,0.009370670653879642,-0.006006081122905016,-0.007897174917161465,0.044475626200437546,-0.0075361537747085094,-0.007402046117931604,-0.012534783221781254,-0.028645358979701996,-0.09319689869880676,0.03933781012892723,-0.042140278965234756,0.0026529100723564625,-0.05654676631093025,0.02207220159471035,-0.04183616489171982,-0.02805466391146183,-0.0145731745287776,-0.07389474660158157,0.030278285965323448,0.01729038543999195,-0.0154121033847332,-0.007760352920740843,0.05492405220866203,0.013806858099997044,0.03472495079040527,-0.017933569848537445,0.02191993221640587,0.03154861554503441,0.024585498496890068,-0.03129623457789421,-0.017157195135951042,-0.0027109526563435793,-0.0017337559256702662,0.02282143384218216,0.006336625199764967,0.03852614387869835,-0.01296285167336464,0.007887606509029865,-0.058792419731616974,0.07221795618534088,0.027396518737077713,0.06146281212568283,-0.013578836806118488,-0.023648444563150406,-0.004256179090589285,-0.008357491344213486,0.006238753907382488,0.007308289408683777,0.02398463524878025,-0.005787399597465992,-0.02823389694094658,0.05436982959508896,-0.06813424825668335,-0.05589592829346657,0.003500808961689472,0.028065983206033707,0.021459538489580154,0.02402384765446186,0.053719669580459595,-0.0553092360496521,-0.027209823951125145,0.001833694288507104,-0.03795601427555084,0.07946150004863739,-0.016041766852140427,0.0753563642501831,0.043491702526807785,0.026508653536438942,-0.05193924531340599,-0.050118282437324524,0.022951632738113403,0.0014269095845520496,-0.03340703248977661,0.028832003474235535,-0.017598746344447136,-0.005047982092946768,-0.047507595270872116,0.05305560305714607,0.028836535289883614,-0.015835899859666824,0.03583301976323128,0.0026704317424446344,-0.007748706266283989,-0.033603768795728683,0.04109850525856018,-0.0015706268604844809,-0.032434798777103424,-0.0006746202707290649,0.008784501813352108,0.029555436223745346,-0.03740344196557999,0.041565753519535065,-0.00644284812733531,-0.00014814993483014405,0.012553051114082336,-0.06729207187891006,-0.024956535547971725,-0.02774965763092041,0.020108019933104515,0.02652289904654026,-0.0070830159820616245,-0.058631837368011475,0.030136674642562866,0.05957324802875519,0.014613721519708633,-0.011003311723470688,0.03023999184370041,0.0719466507434845,0.052279405295848846,-0.025979286059737206,-0.07616470754146576,-0.05095779523253441,0.05523998290300369,-0.007594992406666279,0.025607887655496597,0.0089982645586133,3.206828580459842e-7,-0.010408067144453526,0.0015061809681355953,-0.052213579416275024,-0.01728956215083599,0.024928107857704163,-0.022045837715268135,0.009130415506660938,-0.06586390733718872,-0.06377637386322021,-0.06336995959281921,0.044439516961574554,-0.010396351106464863,0.029458533972501755,0.02695802040398121,-0.04751475900411606,-0.0532081164419651,0.009769503027200699,-0.07329849153757095,-0.059709083288908005,-0.027172397822141647,0.021310556679964066,0.05052259936928749,0.07455810904502869,-0.012942100875079632,0.0023405426181852818,0.05757496878504753,-0.0036291461437940598,-0.013377860188484192,0.041332878172397614,-0.009617865085601807,0.045146774500608444,-0.0067792185582220554,-0.01541080605238676,-0.01624980755150318,0.01318108569830656,0.03736751154065132,0.027641799300909042,-0.014753791503608227,0.0320274718105793,0.02648759074509144,0.02907993644475937,-0.04498356953263283,-0.06610714644193649,-0.07130376249551773,0.04803837463259697,0.023371947929263115,0.006263409275561571,0.028065692633390427,-0.031839046627283096,0.021735453978180885,0.02844356559216976,-0.004917325917631388,-0.01921897381544113,-0.021553661674261093,-0.004350546281784773,-0.006195805501192808,-0.009641650132834911,-0.0021940022706985474,0.04291205480694771,0.027936317026615143,-0.04395380988717079,0.008523181080818176,-0.006024266593158245,-0.01794063299894333,0.034200627356767654,0.03896082192659378,-0.05874709039926529,3.3066417316340937e-34,-0.011811246164143085,-0.0448010191321373,-0.001287201652303338,-0.013588031753897667,0.030499743297696114,-0.02854393795132637,-0.020254220813512802,-0.011939212679862976,0.015923934057354927,-0.05642540007829666,-0.001546047511510551]'
SET
  @HasCustomProps_5cb46c57 = 1
SET
  @HasCustomEvents_5cb46c57 = 1
SET
  @RequiresData_5cb46c57 = 1
SET
  @DependencyCount_5cb46c57 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_5cb46c57 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_5cb46c57 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_5cb46c57 = 1
SET
  @ID_5cb46c57 = '386543D8-C739-4C52-8FAC-E941C078AA8F'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_5cb46c57,
  @Name = @Name_5cb46c57,
  @Version = @Version_5cb46c57,
  @VersionSequence = @VersionSequence_5cb46c57,
  @Title = @Title_5cb46c57,
  @Description = @Description_5cb46c57,
  @Type = @Type_5cb46c57,
  @Status = @Status_5cb46c57,
  @DeveloperName = @DeveloperName_5cb46c57,
  @DeveloperEmail = @DeveloperEmail_5cb46c57,
  @DeveloperOrganization = @DeveloperOrganization_5cb46c57,
  @SourceRegistryID = @SourceRegistryID_5cb46c57,
  @ReplicatedAt = @ReplicatedAt_5cb46c57,
  @LastSyncedAt = @LastSyncedAt_5cb46c57,
  @Specification = @Specification_5cb46c57,
  @FunctionalRequirements = @FunctionalRequirements_5cb46c57,
  @TechnicalDesign = @TechnicalDesign_5cb46c57,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_5cb46c57,
  @TechnicalDesignVector = @TechnicalDesignVector_5cb46c57,
  @HasCustomProps = @HasCustomProps_5cb46c57,
  @HasCustomEvents = @HasCustomEvents_5cb46c57,
  @RequiresData = @RequiresData_5cb46c57,
  @DependencyCount = @DependencyCount_5cb46c57,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_5cb46c57,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_5cb46c57,
  @HasRequiredCustomProps = @HasRequiredCustomProps_5cb46c57,
  @ID = @ID_5cb46c57;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_5da5e7f0 NVARCHAR(MAX),
@Name_5da5e7f0 NVARCHAR(500),
@Version_5da5e7f0 NVARCHAR(50),
@VersionSequence_5da5e7f0 INT,
@Title_5da5e7f0 NVARCHAR(1000),
@Description_5da5e7f0 NVARCHAR(MAX),
@Type_5da5e7f0 NVARCHAR(255),
@Status_5da5e7f0 NVARCHAR(50),
@DeveloperName_5da5e7f0 NVARCHAR(255),
@DeveloperEmail_5da5e7f0 NVARCHAR(255),
@DeveloperOrganization_5da5e7f0 NVARCHAR(255),
@SourceRegistryID_5da5e7f0 UNIQUEIDENTIFIER,
@ReplicatedAt_5da5e7f0 DATETIMEOFFSET,
@LastSyncedAt_5da5e7f0 DATETIMEOFFSET,
@Specification_5da5e7f0 NVARCHAR(MAX),
@FunctionalRequirements_5da5e7f0 NVARCHAR(MAX),
@TechnicalDesign_5da5e7f0 NVARCHAR(MAX),
@FunctionalRequirementsVector_5da5e7f0 NVARCHAR(MAX),
@TechnicalDesignVector_5da5e7f0 NVARCHAR(MAX),
@HasCustomProps_5da5e7f0 BIT,
@HasCustomEvents_5da5e7f0 BIT,
@RequiresData_5da5e7f0 BIT,
@DependencyCount_5da5e7f0 INT,
@TechnicalDesignVectorEmbeddingModelID_5da5e7f0 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_5da5e7f0 NVARCHAR(MAX),
@HasRequiredCustomProps_5da5e7f0 BIT,
@ID_5da5e7f0 UNIQUEIDENTIFIER
SET
  @Namespace_5da5e7f0 = N'AI'
SET
  @Name_5da5e7f0 = N'AIModelBrowser'
SET
  @Version_5da5e7f0 = N'1.0.0'
SET
  @VersionSequence_5da5e7f0 = 1
SET
  @Title_5da5e7f0 = N'AI Model Browser'
SET
  @Description_5da5e7f0 = N'A comprehensive AI model browser with filtering by developers and inference providers, prompt usage analytics with pie charts, and detailed model specifications'
SET
  @Type_5da5e7f0 = N'Other'
SET
  @Status_5da5e7f0 = N'Published'
SET
  @Specification_5da5e7f0 = N'{"name":"AIModelBrowser","title":"AI Model Browser","description":"A comprehensive AI model browser with filtering by developers and inference providers, prompt usage analytics with pie charts, and detailed model specifications","type":"dashboard","functionalRequirements":"## AI Model Browser Requirements\n\n### Core Functionality\n- Display AI models in grid or list view with comprehensive information\n- Filter models by Model Type, Status, Model Developer, and Inference Provider\n- View detailed model specifications including context window, token limits, and cost ranking\n- Display all vendors associated with a model (model developers and inference providers)\n- Show prompt run history and usage statistics for selected models\n- Visualize prompt usage with pie charts showing distribution across different prompts\n- Display performance metrics with bar charts showing average execution times\n- Show time series data for model usage over time\n- Support sorting by multiple fields with visual indicators\n- Include search functionality for quick model filtering\n- Provide ''Open'' button to trigger OpenEntityRecord callback for detailed editing\n\n### Analytics Features\n- Pie chart visualization of prompt usage distribution\n- Performance bar charts showing average execution times per prompt\n- Time series chart showing model usage trends over last 7 days\n- Summary statistics including total runs, success rates, and token usage\n- Grouped vendor display by type (Model Developer vs Inference Provider)\n\n### UX Considerations\n- Collapsible filter panel with active filter count indicator\n- Sliding details panel for comprehensive model information\n- Inline analytics panel with tabbed views for different visualizations\n- Smooth animations for panel transitions and chart rendering\n- Responsive design adapting to different screen sizes\n- Loading states while fetching data\n- Empty states with helpful messages\n- Visual feedback for hover and selection states\n- Maintain user preferences for view mode and filter state","dataRequirements":{"mode":"views","entities":[{"name":"AI Models","description":"Core AI model definitions and specifications","displayFields":["ID","Name","APIName","Description","AIModelTypeID","InputTokenLimit","PowerRank","SpeedRank","CostRank","IsActive","__mj_CreatedAt","__mj_UpdatedAt"],"filterFields":["AIModelTypeID","IsActive"],"sortFields":["Name","InputTokenLimit","CostRank","IsActive","__mj_CreatedAt"],"fieldMetadata":[{"name":"ID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":true,"description":"Unique identifier for the AI model"},{"name":"Name","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"System name of the AI model"},{"name":"APIName","sequence":4,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"API identifier for the model"},{"name":"InputTokenLimit","sequence":5,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Maximum input token limit"},{"name":"CostRank","sequence":6,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Relative cost ranking (1-5)"}],"usageContext":"Main list of AI models"},{"name":"MJ: AI Model Vendors","description":"Vendor associations for AI models","displayFields":["ID","ModelID","VendorID","TypeID","Model","Vendor","Type","Status","Priority","APIName","MaxInputTokens","MaxOutputTokens","SupportsStreaming","SupportsEffortLevel"],"filterFields":["ModelID","Type","Status"],"sortFields":["Vendor","Priority","Type"],"fieldMetadata":[{"name":"ModelID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":false,"description":"Reference to AI Model"},{"name":"Vendor","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Vendor name"},{"name":"Type","sequence":3,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Vendor type (Model Developer or Inference Provider)"}],"usageContext":"Vendor associations for models"},{"name":"AI Model Types","description":"Types/categories of AI models","displayFields":["ID","Name","Description"],"filterFields":[],"sortFields":["Name"],"usageContext":"Filter dropdown for model types"},{"name":"MJ: AI Prompt Runs","description":"Execution history for AI prompts","displayFields":["ID","PromptID","ModelID","RunAt","CompletedAt","ExecutionTimeMS","TokensPrompt","TokensCompletion","TokensUsed","Success","ErrorMessage"],"filterFields":["ModelID","PromptID","Success"],"sortFields":["RunAt","CompletedAt","ExecutionTimeMS"],"usageContext":"Analytics and usage history"},{"name":"AI Prompts","description":"AI prompt definitions","displayFields":["ID","Name","Description","CategoryID"],"filterFields":[],"sortFields":["Name"],"usageContext":"Enrich prompt runs with names"}]},"technicalDesign":"## Component Architecture\n\n### Root Component (AIModelBrowser)\n- Manages overall state and data loading\n- Coordinates between filter, list, details, and analytics components\n- Handles user preferences and saved settings\n- Manages search and sort state\n\n### Child Components\n1. **AIModelList**: Displays models in grid or list view with vendor information\n2. **AIModelDetails**: Sliding panel showing comprehensive model information and vendors\n3. **AIModelFilter**: Collapsible filter panel for model type, status, and vendor filtering\n4. **AIModelAnalytics**: Inline analytics panel with charts and statistics\n\n### Data Flow\n- Root component loads all models and vendor associations\n- Filters are applied at the root level and filtered data passed to list\n- Selection in list triggers detail loading and analytics calculation\n- Analytics component processes prompt runs to generate visualizations\n\n### Chart Implementation\n- Pie charts using SVG for prompt usage distribution\n- Bar charts for performance metrics\n- Time series charts for usage trends\n- All charts are responsive and interactive","properties":[],"events":[],"exampleUsage":"<AIModelBrowser\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>","dependencies":[{"name":"AIModelList","location":"registry","namespace":"AI","version":"^1.0.0"},{"name":"AIModelDetails","location":"registry","namespace":"AI","version":"^1.0.0"},{"name":"AIModelFilter","location":"registry","namespace":"AI","version":"^1.0.0"},{"name":"AIModelAnalytics","location":"registry","namespace":"AI","version":"^1.0.0"},{"name":"OpenRecordButton","location":"registry","namespace":"Generic/Navigation","version":"^1.0.0"}],"libraries":[],"code":"function AIModelBrowser({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Extract child components\n  const { AIModelList, AIModelDetails, AIModelFilter, AIModelAnalytics } = components;\n  console.log(''=== AIModelBrowser initialized with callbacks:'', callbacks);\n  \n  // Initialize state from saved settings where appropriate\n  const [selectedModelId, setSelectedModelId] = useState(savedUserSettings?.selectedModelId);\n  const [viewMode, setViewMode] = useState(savedUserSettings?.viewMode || ''grid'');\n  const [filters, setFilters] = useState(savedUserSettings?.filters || {});\n  const [sortBy, setSortBy] = useState(savedUserSettings?.sortBy || ''Name'');\n  const [sortDirection, setSortDirection] = useState(savedUserSettings?.sortDirection || ''asc'');\n  const [filterPanelCollapsed, setFilterPanelCollapsed] = useState(savedUserSettings?.filterPanelCollapsed || false);\n  const [analyticsView, setAnalyticsView] = useState(savedUserSettings?.analyticsView || ''prompts'');\n  \n  // Runtime UI state (not persisted)\n  const [models, setModels] = useState([]);\n  const [modelVendors, setModelVendors] = useState([]);\n  const [promptRuns, setPromptRuns] = useState([]);\n  const [vendors, setVendors] = useState([]);\n  const [modelTypes, setModelTypes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [detailsPanelOpen, setDetailsPanelOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('''');\n  \n  // Load models on mount and when filters/sort change\n  useEffect(() => {\n    const loadModels = async () => {\n      console.log(''=== Loading models with filters:'', filters, ''search:'', searchQuery);\n      setLoading(true);\n      try {\n        // Build filter string for models\n        let filterParts = [];\n        if (searchQuery) {\n          filterParts.push(`(Name LIKE ''%$' + '{searchQuery}%'' OR APIName LIKE ''%$' + '{searchQuery}%'' OR Description LIKE ''%$' + '{searchQuery}%'')`);\n        }\n        if (filters.modelType) {\n          filterParts.push(`AIModelTypeID = ''$' + '{filters.modelType}''`);\n        }\n        if (filters.isActive !== undefined) {\n          filterParts.push(`IsActive = ''$' + '{filters.isActive}''`);\n        }\n        \n        // Load AI Models\n        const modelsResult = await utilities.rv.RunView({\n          EntityName: ''AI Models'',\n          Fields: [''ID'', ''Name'', ''APIName'', ''Description'', ''AIModelTypeID'', ''InputTokenLimit'', \n                   ''CostRank'', ''IsActive'', ''__mj_CreatedAt'', ''__mj_UpdatedAt''],\n          OrderBy: `$' + '{sortBy} $' + '{sortDirection.toUpperCase()}`,\n          ExtraFilter: filterParts.length > 0 ? filterParts.join('' AND '') : undefined\n        });\n        \n        if (modelsResult?.Success && modelsResult?.Results) {\n          console.log(`Loaded $' + '{modelsResult.Results.length} models`);\n          setModels(modelsResult.Results);\n        } else {\n          console.error(''Failed to load models:'', modelsResult?.ErrorMessage);\n          setModels([]);\n        }\n        \n        // Load Model Types for filter\n        const typesResult = await utilities.rv.RunView({\n          EntityName: ''AI Model Types'',\n          Fields: [''ID'', ''Name'', ''Description''],\n          OrderBy: ''Name ASC''\n        });\n        \n        if (typesResult?.Success && typesResult?.Results) {\n          setModelTypes(typesResult.Results);\n        }\n        \n        // Load Vendors (from AI Model Vendors)\n        const vendorsResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Model Vendors'',\n          Fields: [''ID'', ''ModelID'', ''VendorID'', ''TypeID'', ''Model'', ''Vendor'', ''Type'', ''Status'', ''Priority''],\n          OrderBy: ''Vendor ASC, Model ASC''\n        });\n        \n        if (vendorsResult?.Success && vendorsResult?.Results) {\n          const vendorData = vendorsResult.Results;\n          console.log(`Loaded $' + '{vendorData.length} vendor associations`);\n          setModelVendors(vendorData);\n          \n          // Extract unique vendors\n          const uniqueVendors = [...new Set(vendorData.map(v => v.Vendor))].filter(Boolean);\n          setVendors(uniqueVendors.map(name => ({ Name: name })));\n          console.log(`Found $' + '{uniqueVendors.length} unique vendors`);\n          \n          // Apply vendor-based filters\n          if ((filters.developer || filters.provider) && modelsResult?.Results) {\n            console.log(''Applying vendor filters - developer:'', filters.developer, ''provider:'', filters.provider);\n            let vendorFilteredModels = modelsResult.Results;\n            \n            if (filters.developer) {\n              const developerModelIds = vendorData\n                .filter(v => v.Vendor === filters.developer && v.Type?.includes(''Developer''))\n                .map(v => v.ModelID);\n              vendorFilteredModels = vendorFilteredModels.filter(m => developerModelIds.includes(m.ID));\n              console.log(`After developer filter: $' + '{vendorFilteredModels.length} models`);\n            }\n            \n            if (filters.provider) {\n              const providerModelIds = vendorData\n                .filter(v => v.Vendor === filters.provider && v.Type?.includes(''Provider''))\n                .map(v => v.ModelID);\n              vendorFilteredModels = vendorFilteredModels.filter(m => providerModelIds.includes(m.ID));\n              console.log(`After provider filter: $' + '{vendorFilteredModels.length} models`);\n            }\n            \n            setModels(vendorFilteredModels);\n          }\n        }\n      } catch (error) {\n        console.error(''Error loading models:'', error);\n        setModels([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadModels();\n  }, [filters, sortBy, sortDirection, searchQuery]);\n  \n  // Load model details and analytics when selection changes\n  useEffect(() => {\n    const loadModelDetails = async () => {\n      if (!selectedModelId) {\n        setPromptRuns([]);\n        return;\n      }\n      \n      console.log(''=== Loading prompt runs for model:'', selectedModelId);\n      \n      try {\n        // Use the correct entity name for prompt runs: MJ: AI Prompt Runs\n        console.log(''Loading prompt runs with entity: MJ: AI Prompt Runs'');\n        \n        const promptRunsResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Prompt Runs'',\n          Fields: [''ID'', ''PromptID'', ''ModelID'', ''RunAt'', ''CompletedAt'', ''ExecutionTimeMS'', \n                   ''TokensPrompt'', ''TokensCompletion'', ''TokensUsed'', ''Success'', ''ErrorMessage''],\n          OrderBy: ''RunAt DESC'',\n            ExtraFilter: `ModelID = ''$' + '{selectedModelId}''`,\n            MaxRows: 1000\n        });\n        \n        if (promptRunsResult?.Success && promptRunsResult?.Results) {\n          console.log(`Found $' + '{promptRunsResult.Results.length} prompt runs`);\n          // Enrich with prompt names\n          const promptIds = [...new Set(promptRunsResult.Results.map(r => r.PromptID))].filter(Boolean);\n          \n          if (promptIds.length > 0) {\n            const promptsResult = await utilities.rv.RunView({\n              EntityName: ''AI Prompts'',\n              Fields: [''ID'', ''Name'', ''Description'', ''CategoryID''],\n              ExtraFilter: `ID IN (''$' + '{promptIds.join(\"'',''\")}'')`\n            });\n            \n            const promptMap = {};\n            if (promptsResult?.Success && promptsResult?.Results) {\n              promptsResult.Results.forEach(p => {\n                promptMap[p.ID] = p;\n              });\n            }\n            \n            // Enrich prompt runs with prompt names and convert fields for compatibility\n            const enrichedRuns = promptRunsResult.Results.map(run => ({\n              ...run,\n              PromptName: promptMap[run.PromptID]?.Name || ''Unknown Prompt'',\n              PromptDescription: promptMap[run.PromptID]?.Description,\n              // Map fields for analytics component compatibility\n              StartTime: run.RunAt,\n              EndTime: run.CompletedAt,\n              TotalExecutionTime: run.ExecutionTimeMS,\n              Status: run.Success ? ''Success'' : ''Failed'',\n              Error: run.ErrorMessage,\n              TotalTokens: run.TokensUsed\n            }));\n            \n            console.log(`Enriched $' + '{enrichedRuns.length} runs with prompt names`);\n            setPromptRuns(enrichedRuns);\n          } else {\n            setPromptRuns(promptRunsResult.Results);\n          }\n        } else {\n          console.log(''No prompt runs found:'', promptRunsResult?.ErrorMessage);\n          setPromptRuns([]);\n        }\n      } catch (error) {\n        console.error(''Error loading model details:'', error);\n        setPromptRuns([]);\n      }\n    };\n    \n    loadModelDetails();\n  }, [selectedModelId]);\n  \n  // Handle model selection\n  const handleSelectModel = useCallback((modelId) => {\n    setSelectedModelId(modelId);\n    setDetailsPanelOpen(true);\n    \n    // Save user preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      selectedModelId: modelId\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle view mode change\n  const handleViewModeChange = useCallback((mode) => {\n    setViewMode(mode);\n    \n    // Save preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      viewMode: mode\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle filter changes\n  const handleFilterChange = useCallback((newFilters) => {\n    setFilters(newFilters);\n    \n    // Save filter preferences\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      filters: newFilters\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle sort changes\n  const handleSortChange = useCallback((newSortBy, newSortDirection) => {\n    setSortBy(newSortBy);\n    setSortDirection(newSortDirection);\n    \n    // Save sort preferences\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      sortBy: newSortBy,\n      sortDirection: newSortDirection\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle filter panel toggle\n  const handleToggleFilter = useCallback(() => {\n    const newCollapsed = !filterPanelCollapsed;\n    setFilterPanelCollapsed(newCollapsed);\n    \n    // Save collapsed state\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      filterPanelCollapsed: newCollapsed\n    });\n  }, [filterPanelCollapsed, savedUserSettings, onSaveUserSettings]);\n  \n  // Handle analytics view change\n  const handleAnalyticsViewChange = useCallback((view) => {\n    setAnalyticsView(view);\n    \n    // Save preference\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      analyticsView: view\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle opening model record (kept for backward compatibility with details panel)\n  const handleOpenRecord = useCallback((modelName) => {\n    console.log(''Opening AI Model record:'', modelName);\n    if (callbacks?.OpenEntityRecord && modelName) {\n      callbacks.OpenEntityRecord(''AI Models'', [{ FieldName: ''Name'', Value: modelName }]);\n    }\n  }, [callbacks]);\n  \n  // Handle closing details panel\n  const handleCloseDetails = useCallback(() => {\n    setDetailsPanelOpen(false);\n  }, []);\n  \n  // Handle search\n  const handleSearch = useCallback((query) => {\n    setSearchQuery(query);\n  }, []);\n  \n  // Get selected model object\n  const selectedModel = models.find(m => m.ID === selectedModelId);\n  \n  // Get vendors for selected model\n  const selectedModelVendors = modelVendors.filter(v => v.ModelID === selectedModelId);\n  \n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles?.borders?.radius === ''object'' ? styles?.borders?.radius?.[size] : styles?.borders?.radius || ''4px'';\n  };\n  \n  // Loading state\n  if (loading && models.length === 0) {\n    return (\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        alignItems: ''center'',\n        height: ''100vh'',\n        fontSize: styles.typography.fontSize.lg,\n        color: styles.colors.textSecondary\n      }}>\n        Loading AI models...\n      </div>\n    );\n  }\n  \n  return (\n    <div style={{\n      display: ''flex'',\n      height: ''100vh'',\n      backgroundColor: styles.colors.background,\n      overflow: ''hidden''\n    }}>\n      {/* Filter Panel */}\n      {AIModelFilter && (\n        <AIModelFilter\n          filters={filters}\n          onFilterChange={handleFilterChange}\n          modelTypes={modelTypes}\n          vendors={vendors}\n          isCollapsed={filterPanelCollapsed}\n          onToggleCollapse={handleToggleFilter}\n          savedUserSettings={savedUserSettings?.filterPanel}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            filterPanel: settings\n          })}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n        />\n      )}\n      \n      {/* Main Content Area */}\n      <div style={{\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            marginBottom: styles.spacing.md\n          }}>\n            <h1 style={{\n              margin: 0,\n              fontSize: styles.typography.fontSize.xxl || styles.typography.fontSize.xl,\n              fontWeight: styles.typography.fontWeight?.bold || ''700'',\n              color: styles.colors.text\n            }}>\n              AI Model Browser\n            </h1>\n            \n            {/* View Mode Toggle */}\n            <div style={{\n              display: ''flex'',\n              gap: styles.spacing.sm,\n              alignItems: ''center''\n            }}>\n              <span style={{\n                fontSize: styles.typography.fontSize.md,\n                color: styles.colors.textSecondary\n              }}>\n                View:\n              </span>\n              <button\n                onClick={() => handleViewModeChange(''grid'')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: viewMode === ''grid'' ? styles.colors.primary : styles.colors.background,\n                  color: viewMode === ''grid'' ? ''white'' : styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Grid\n              </button>\n              <button\n                onClick={() => handleViewModeChange(''list'')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: viewMode === ''list'' ? styles.colors.primary : styles.colors.background,\n                  color: viewMode === ''list'' ? ''white'' : styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                List\n              </button>\n            </div>\n          </div>\n          \n          {/* Search Bar */}\n          <div style={{\n            display: ''flex'',\n            gap: styles.spacing.md\n          }}>\n            <input\n              type=\"text\"\n              placeholder=\"Search AI models...\"\n              value={searchQuery}\n              onChange={(e) => handleSearch(e.target.value)}\n              style={{\n                flex: 1,\n                padding: styles.spacing.md,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background\n              }}\n            />\n            {searchQuery && (\n              <button\n                onClick={() => handleSearch('''')}\n                style={{\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: styles.colors.surfaceHover || styles.colors.surface,\n                  color: styles.colors.text,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  cursor: ''pointer'',\n                  fontSize: styles.typography.fontSize.md\n                }}\n              >\n                Clear\n              </button>\n            )}\n          </div>\n        </div>\n        \n        {/* Model List and Analytics Split View */}\n        <div style={{\n          flex: 1,\n          display: ''flex'',\n          overflow: ''hidden''\n        }}>\n          {/* Model List */}\n          <div style={{\n            flex: 1,\n            overflow: ''auto'',\n            padding: styles.spacing.lg\n          }}>\n            {AIModelList && (\n              <AIModelList\n                models={models}\n                modelVendors={modelVendors}\n                viewMode={viewMode}\n                selectedModelId={selectedModelId}\n                onSelectModel={handleSelectModel}\n                sortBy={sortBy}\n                sortDirection={sortDirection}\n                onSortChange={handleSortChange}\n                savedUserSettings={savedUserSettings?.modelList}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  modelList: settings\n                })}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n              />\n            )}\n            \n            {/* Empty State */}\n            {models.length === 0 && !loading && (\n              <div style={{\n                display: ''flex'',\n                flexDirection: ''column'',\n                alignItems: ''center'',\n                justifyContent: ''center'',\n                padding: styles.spacing.xxl || styles.spacing.xl,\n                color: styles.colors.textSecondary\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xl,\n                  marginBottom: styles.spacing.md\n                }}>\n                  No AI models found\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.md\n                }}>\n                  {searchQuery || Object.keys(filters).length > 0\n                    ? ''Try adjusting your filters or search query''\n                    : ''No AI models are available''}\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* Analytics Panel */}\n          {selectedModel && AIModelAnalytics && (\n            <div style={{\n              width: ''400px'',\n              borderLeft: `1px solid $' + '{styles.colors.border}`,\n              overflow: ''hidden'',\n              display: ''flex'',\n              flexDirection: ''column''\n            }}>\n              <AIModelAnalytics\n                model={selectedModel}\n                promptRuns={promptRuns}\n                view={analyticsView}\n                onViewChange={handleAnalyticsViewChange}\n                savedUserSettings={savedUserSettings?.analytics}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  analytics: settings\n                })}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Details Panel */}\n      {AIModelDetails && (\n        <AIModelDetails\n          model={selectedModel}\n          vendors={selectedModelVendors}\n          promptRuns={promptRuns}\n          isOpen={detailsPanelOpen}\n          onClose={handleCloseDetails}\n          onOpenRecord={() => handleOpenRecord(selectedModel?.Name)}\n          savedUserSettings={savedUserSettings?.detailsPanel}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            detailsPanel: settings\n          })}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n        />\n      )}\n    </div>\n  );\n}"}'
SET
  @FunctionalRequirements_5da5e7f0 = N'## AI Model Browser Requirements

### Core Functionality
- Display AI models in grid or list view with comprehensive information
- Filter models by Model Type, Status, Model Developer, and Inference Provider
- View detailed model specifications including context window, token limits, and cost ranking
- Display all vendors associated with a model (model developers and inference providers)
- Show prompt run history and usage statistics for selected models
- Visualize prompt usage with pie charts showing distribution across different prompts
- Display performance metrics with bar charts showing average execution times
- Show time series data for model usage over time
- Support sorting by multiple fields with visual indicators
- Include search functionality for quick model filtering
- Provide ''Open'' button to trigger OpenEntityRecord callback for detailed editing

### Analytics Features
- Pie chart visualization of prompt usage distribution
- Performance bar charts showing average execution times per prompt
- Time series chart showing model usage trends over last 7 days
- Summary statistics including total runs, success rates, and token usage
- Grouped vendor display by type (Model Developer vs Inference Provider)

### UX Considerations
- Collapsible filter panel with active filter count indicator
- Sliding details panel for comprehensive model information
- Inline analytics panel with tabbed views for different visualizations
- Smooth animations for panel transitions and chart rendering
- Responsive design adapting to different screen sizes
- Loading states while fetching data
- Empty states with helpful messages
- Visual feedback for hover and selection states
- Maintain user preferences for view mode and filter state'
SET
  @TechnicalDesign_5da5e7f0 = N'## Component Architecture

### Root Component (AIModelBrowser)
- Manages overall state and data loading
- Coordinates between filter, list, details, and analytics components
- Handles user preferences and saved settings
- Manages search and sort state

### Child Components
1. **AIModelList**: Displays models in grid or list view with vendor information
2. **AIModelDetails**: Sliding panel showing comprehensive model information and vendors
3. **AIModelFilter**: Collapsible filter panel for model type, status, and vendor filtering
4. **AIModelAnalytics**: Inline analytics panel with charts and statistics

### Data Flow
- Root component loads all models and vendor associations
- Filters are applied at the root level and filtered data passed to list
- Selection in list triggers detail loading and analytics calculation
- Analytics component processes prompt runs to generate visualizations

### Chart Implementation
- Pie charts using SVG for prompt usage distribution
- Bar charts for performance metrics
- Time series charts for usage trends
- All charts are responsive and interactive'
SET
  @FunctionalRequirementsVector_5da5e7f0 = N'[-0.020579658448696136,0.0997585579752922,-0.022949939593672752,-0.04008612409234047,0.006601020693778992,-0.005032385233789682,0.07277251034975052,-0.017993001267313957,0.011061187833547592,-0.018666310235857964,-0.006393413990736008,0.041889309883117676,0.0003328698221594095,0.17700542509555817,-0.016526421532034874,-0.04463860020041466,0.01972360908985138,-0.01628735102713108,0.05391319841146469,0.01437018159776926,-0.01270170696079731,-0.021457938477396965,-0.004092730116099119,0.05098569020628929,-0.015814829617738724,-0.06825529038906097,-0.056291479617357254,0.0032982011325657368,-0.010876822285354137,-0.06892511993646622,0.020016182214021683,0.02967732399702072,-0.007611724082380533,0.06511905789375305,0.000002927583864220651,-0.03146791830658913,-0.06854257732629776,0.03375674784183502,-0.07521865516901016,0.012075256556272507,0.045901328325271606,0.05868643522262573,0.042381614446640015,0.016392149031162262,-0.010945861227810383,0.02788538672029972,0.014659416861832142,0.011781932786107063,0.012292406521737576,-0.012750333175063133,0.007211518939584494,0.03127194941043854,0.004488292615860701,-0.03285331651568413,-0.02682800032198429,-0.056336212903261185,-0.0036366048734635115,-0.014901448041200638,0.03439727798104286,-0.023610936477780342,0.007224446628242731,0.03837783634662628,0.031173236668109894,-0.025984298437833786,0.09149906784296036,0.04690811038017273,0.06904512643814087,-0.10441042482852936,-0.04226141422986984,-0.005889055319130421,0.09275547415018082,0.00009198140469379723,-0.03843974322080612,-0.014092006720602512,-0.02766585536301136,0.01163674145936966,-0.03214387595653534,0.017333852127194405,-0.0022336982656270266,-0.004491468891501427,-0.008975724689662457,0.006796611472964287,-0.032483041286468506,-0.002658746438100934,-0.041714563965797424,0.03831027075648308,-0.002396769355982542,-0.006563236471265554,-0.0031029926612973213,-0.02058045193552971,0.04051893576979637,-0.06144242733716965,-0.00390463974326849,-0.028948720544576645,-0.05933471396565437,-0.035436224192380905,0.023381035774946213,-0.02109692618250847,0.006702609825879335,0.011116270907223225,0.07247322797775269,-0.0021358372177928686,-0.018802901729941368,0.04323616623878479,0.04245371371507645,0.04977850243449211,-0.009292501956224442,-0.01125040091574192,0.018763208761811256,0.048419538885354996,-0.015494095161557198,0.005093985237181187,-0.03338067978620529,0.029748430475592613,-0.016652017831802368,-0.043435774743556976,0.007972031831741333,0.04713844880461693,-0.016212312504649162,0.03460800275206566,0.037227414548397064,0.0246831513941288,0.007894935086369514,0.034755997359752655,-0.04302610456943512,0.00968790240585804,-0.05096688121557236,0.011788010597229004,0.0335640087723732,-0.06568519026041031,-0.01570030301809311,-0.007107280660420656,-0.008900342509150505,-0.030080953612923622,-0.00409460486844182,0.04506072774529457,0.07322448492050171,-0.0348026379942894,-0.06727270781993866,-0.044752608984708786,0.042041368782520294,-0.0388755276799202,-0.07437774538993835,0.0013632163172587752,0.0015443329466506839,-0.018580105155706406,0.005859075114130974,-0.020568987354636192,-0.017248477786779404,-0.027162550017237663,0.0029394763987511396,-0.01714019477367401,-0.0436326265335083,0.0051911319606006145,-0.005947922356426716,-0.0053208572790026665,0.027636943385004997,0.030949397012591362,-0.008251550607383251,0.054108839482069016,0.029739392921328545,-0.0030142967589199543,-0.0024407687596976757,-0.018943844363093376,-0.003208272624760866,0.012397773563861847,-0.01735355332493782,0.02552536502480507,-0.06119323521852493,-0.019122513011097908,-0.04727008938789368,-0.03472495451569557,0.020313670858740807,0.01907607726752758,0.05441458523273468,0.03289813548326492,0.04987657815217972,-0.020754443481564522,0.005893715191632509,0.022180281579494476,0.04616173356771469,-0.08352931588888168,-0.004690554924309254,0.049646422266960144,-0.027681542560458183,-0.010433195158839226,-0.02000151202082634,0.06746502220630646,-0.023284833878278732,-0.058982234448194504,0.0018011284992098808,-0.0367114394903183,-0.059150680899620056,0.014057435095310211,0.0530020147562027,-0.0018013069638982415,-0.008645190857350826,-0.05840734392404556,0.002199269365519285,-0.03156522661447525,-0.08152106404304504,-0.08681249618530273,0.06491471827030182,0.06418100744485855,0.03804705664515495,-0.030993305146694183,-0.08578700572252274,-0.03220444545149803,-0.05347244441509247,0.005074558779597282,0.0834900364279747,-0.0006938191363587976,-0.02349020168185234,0.028047118335962296,-0.05047029256820679,-0.016129713505506516,0.041512783616781235,0.02193162590265274,-0.0038801401387900114,0.03584014251828194,-0.045196887105703354,-0.01946009323000908,-0.021595943719148636,0.022973956540226936,0.021799471229314804,-0.003358545247465372,0.007837065495550632,0.023066477850079536,0.0554814487695694,0.026285752654075623,0.004866977222263813,0.011439632624387741,0.048262692987918854,0.04627379775047302,0.01828162558376789,0.016780385747551918,0.05843263491988182,0.10711029917001724,-0.007437197957187891,0.060432519763708115,0.0608307421207428,-0.010728999972343445,-0.019203370437026024,0.0011564112501218915,-0.021388744935393333,-0.016388798132538795,0.029849758371710777,0.03737783432006836,0.033058349043130875,-0.03101012110710144,0.014324884861707687,0.0011142329312860966,0.02440633624792099,0.018997635692358017,-0.027263179421424866,0.02974851056933403,-0.025113478302955627,-0.02065400592982769,-0.05111119523644447,0.04458003118634224,-0.01235258113592863,-0.007261090911924839,-0.021144626662135124,-0.00875173695385456,0.012182528153061867,-0.016829021275043488,0.08207112550735474,-0.1009952649474144,0.0034173736348748207,0.025028565898537636,-0.015552541241049767,0.029956409707665443,0.05252307653427124,-0.0309345293790102,-0.019662197679281235,0.06013578176498413,-0.021058468148112297,0.013175158761441708,-0.039520811289548874,-0.03248446807265282,0.026431521400809288,-0.03739035502076149,-0.04826700687408447,0.03535276651382446,-0.0196757260710001,0.04175068065524101,0.08820773661136627,-0.04043202102184296,0.01862994395196438,0.006155814044177532,-0.011797526851296425,0.012422989122569561,0.010821336880326271,0.01975465938448906,-0.0190134234726429,-0.0024849080946296453,-0.05382192134857178,0.06895656138658524,-0.034565817564725876,0.06831448525190353,0.014927821233868599,0.009282571263611317,-0.061977073550224304,0.02344428561627865,0.030126307159662247,0.042953554540872574,0.02493799850344658,0.019492831081151962,0.02925902046263218,0.06749342381954193,-0.0037813277449458838,0.00778647605329752,0.034211646765470505,0.05424731224775314,0.033646780997514725,-0.020937180146574974,0.003992831334471703,0.02032710611820221,0.009063182398676872,0.07143012434244156,0.026366958394646645,-0.07202696800231934,0.028167331591248512,-0.030588945373892784,-0.005476033315062523,-0.023028891533613205,-0.07476069033145905,-0.015241120010614395,-0.008902384899556637,-0.021238485351204872,0.010081116110086441,-0.012411033734679222,0.04935937002301216,0.01209332700818777,0.002713169436901808,-0.011869554407894611,-0.02107345126569271,-0.022998344153165817,-0.021705221384763718,-0.00641573267057538,-0.00790833868086338,0.016188913956284523,-0.02855483815073967,-0.004314234014600515,-0.03287969157099724,-0.01636633649468422,0.009900355711579323,-0.03304199129343033,-0.03352409601211548,0.026849031448364258,0.04996734485030174,0.05290907993912697,-0.008004524745047092,-0.029527438804507256,0.032115235924720764,-0.04308726266026497,0.0028132733423262835,-0.02589632198214531,-0.00940057635307312,-0.02761758677661419,0.0946749746799469,0.018296947702765465,0.006781831383705139,0.011818642728030682,-0.08704455196857452,0.00318902381695807,0.023600032553076744,-0.006665997672826052,-0.012337855994701385,0.01862536370754242,0.0015903245657682419,-0.040024347603321075,0.019847745075821877,0.04819420352578163,0.021118709817528725,-0.031209442764520645,0.0006146777886897326,0.0028661717660725117,0.04765362665057182,0.012446459382772446,0.02878953330218792,-0.03946153447031975,0.04743462800979614,0.03678176552057266,0.07601012289524078,-0.03828941285610199,-0.01452231127768755,-0.01057716179639101,-0.007765218615531921,0.04844595864415169,-0.012767224572598934,0.002991368994116783,-0.005181131884455681,-0.09671474993228912,0.015300641767680645,-0.050480689853429794,-0.05013231933116913,0.038952652364969254,-0.0021463322918862104,0.02185620181262493,0.013301393017172813,-0.00856375228613615,-0.020128946751356125,-0.033002860844135284,0.0018099526641890407,0.00022915629961062223,0.058891162276268005,0.03286407142877579,0.003379366360604763,-0.027400778606534004,-0.02748819626867771,0.060315605252981186,-0.014702101238071918,-0.05242545157670975,0.0607621856033802,-0.016692806035280228,-0.006604373455047607,-0.030167680233716965,0.032348524779081345,0.042032286524772644,0.0468413382768631,0.020577814429998398,0.015264207497239113,-0.051188141107559204,0.045114483684301376,-0.04827774316072464,-0.045935310423374176,-0.031137384474277496,0.0360015332698822,0.04131760448217392,-0.0375543013215065,-0.00945979543030262,-0.02186083048582077,0.01331241149455309,-0.028220098465681076,0.006838216446340084,0.04231179878115654,-0.018139170482754707,-0.08689526468515396,-0.01077550183981657,-0.013976755551993847,-0.007203091401606798,0.019667848944664,0.002853207755833864,-0.02995753288269043,0.006085520144551992,0.03793088346719742,0.009987382218241692,0.008213468827307224,0.0070111509412527084,0.03286070004105568,-0.06949010491371155,-0.010288486257195473,0.01086623314768076,-0.010411669500172138,-0.035600896924734116,-0.009404538199305534,-0.006061341613531113,0.0015262092929333448,-0.002516617998480797,0.051903996616601944,0.035754866898059845,-0.025149602442979813,-0.006620409898459911,0.0656394511461258,-0.017372867092490196,-0.0012003426672890782,-0.05786888673901558,-0.03940853849053383,0.004151483532041311,0.033271051943302155,-0.014300606213510036,-0.015137933194637299,-0.03328101709485054,-0.015401031821966171,-0.03592780977487564,-0.015889856964349747,0.009853849187493324,-0.031122270971536636,0.02356574311852455,0.07223762571811676,0.01121711265295744,0.04102509841322899,-0.0480080209672451,-0.027743203565478325,0.02906564623117447,-0.007825944572687149,-0.0010859020985662937,-0.059735897928476334,0.012873809784650803,-0.0000023589254851685837,0.010753139853477478,0.03213156387209892,0.011370797641575336,0.03842378780245781,-0.022161856293678284,-0.06971828639507294,0.0563998781144619,-0.03736109286546707,0.028274307027459145,-0.0011160930152982473,0.002349967835471034,0.012226870283484459,-0.03633707016706467,-0.010543928481638432,0.028467094525694847,-0.012103859335184097,0.020244911313056946,-0.0412585511803627,-0.00855283997952938,-0.0012689889408648014,0.01711236871778965,-0.025870950892567635,-0.11371137201786041,-0.015086522325873375,0.08737827092409134,-0.030071644112467766,-0.004000074230134487,-0.002807688433676958,-0.059422094374895096,0.023402772843837738,-0.012952001765370369,-0.0014702921034768224,0.054775189608335495,0.03500617668032646,-0.04710046947002411,0.013029245659708977,-0.035626161843538284,-0.03593013063073158,0.0655813068151474,0.022097349166870117,0.05217854678630829,-0.052005697041749954,-0.03359268978238106,-0.04773196205496788,0.038552071899175644,0.026515576988458633,0.011024095118045807,-0.014710886403918266,-0.004072754178196192,-0.044610120356082916,-0.02895665355026722,-0.0038333807606250048,-0.02969689667224884,-0.028532961383461952,-0.014402504079043865,0.011273662559688091,0.03586837649345398,-0.0004959127400070429,-0.023366328328847885,0.017849799245595932,-0.0627397671341896,-0.03285357728600502,-0.0064405170269310474,-0.038194142282009125,-7.904317888516767e-33,-0.04297328740358353,0.02145649679005146,-0.03019816242158413,-0.05512696132063866,-0.013949343003332615,-0.02889006957411766,0.004896964877843857,-0.0029899333603680134,-0.043300431221723557,-0.03780672699213028,-0.00880521722137928,-0.005732004065066576,0.013329561799764633,-0.008241409435868263,0.030555980280041695,0.06128989905118942,0.0459115132689476,0.0006928154616616666,-0.01479318831115961,0.021953003481030464,-0.033692147582769394,0.03809221833944321,-0.0514766201376915,-0.07984433323144913,0.011763638816773891,0.03377475216984749,0.005792852956801653,-0.0195939838886261,-0.07777798920869827,0.045456431806087494,0.022997289896011353,-0.0013375249691307545,-0.024177033454179764,-0.0218358151614666,-0.02219364233314991,-0.012227688916027546,-0.01981421746313572,-0.010109939612448215,0.0013485616073012352,-0.004396100528538227,0.011035275645554066,-0.024840617552399635,0.034906789660453796,0.006737238261848688,-0.013700061477720737,0.01614820957183838,0.04068706929683685,-0.04072369262576103,0.023881835862994194,0.028995906934142113,0.012789061293005943,0.005252853501588106,-0.05207891762256622,0.03946881368756294,0.044322941452264786,0.08695026487112045,0.013921407982707024,0.036077916622161865,-0.006799661088734865,-0.004078859928995371,0.015391487628221512,-0.010294754058122635,0.026086440309882164,0.003387675853446126,0.04463076591491699,0.005146291106939316,0.01528172753751278,-0.027562392875552177,-0.02322877012193203,-0.030305201187729836,-0.017485318705439568,0.07973460853099823,0.014677880331873894,-0.09466250985860825,-0.0569520965218544,-0.021830445155501366,-0.01768379844725132,0.032308027148246765,-0.0005488183232955635,0.0679735615849495,0.0015991255640983582,-0.013369756750762463,-0.04745389521121979,0.029080552980303764,0.04695660248398781,-0.08768466114997864,-0.033982209861278534,-0.012954719364643097,0.057709407061338425,0.004805712029337883,-0.03261157497763634,-0.027378899976611137,-0.045451819896698,-0.039699822664260864,-0.0014136260142549872,0.011747256852686405,0.050340261310338974,0.008217567577958107,0.01396182831376791,-0.03138066828250885,0.008694150485098362,0.008945097215473652,-0.027575254440307617,0.03501683846116066,0.03224412724375725,-0.024687185883522034,0.012567387893795967,0.0010391616960987449,-0.064485564827919,0.003586873412132263,-0.010211453773081303,0.0021874040830880404,0.05053434893488884,-0.00617226492613554,0.027492258697748184,-0.01857915334403515,-0.006284819450229406,0.05435922369360924,0.007803451269865036,0.01396868471056223,-0.0400359071791172,-0.021828146651387215,-0.03634076938033104,-0.024928517639636993,0.005635521374642849,-0.03897446393966675,-0.03960535675287247,0.014852527529001236,0.015497147105634212,-0.013291745446622372,-0.03120497800409794,-0.022793756797909737,3.5993693359159806e-7,-0.007195693906396627,0.04634906351566315,0.00944873783737421,0.018437817692756653,0.004099541809409857,0.02152233012020588,-0.044943325221538544,-0.05536704137921333,-0.006605727132409811,-0.00006786248559365049,0.04948712885379791,0.0035935435444116592,0.021887214854359627,0.03906159847974777,0.005231565795838833,-0.05690469965338707,-0.039728451520204544,0.02163827233016491,-0.08175138384103775,0.010898010805249214,0.04733923822641373,0.053359679877758026,0.048338741064071655,0.00009414183296030387,0.04802467301487923,-0.05486555024981499,-0.04696521535515785,-0.015212495811283588,0.02308674529194832,-0.018423113971948624,0.010175630450248718,0.04883228614926338,-0.020427802577614784,-0.004102048929780722,-0.012498926371335983,0.002761898096650839,-0.05227552354335785,0.04363275691866875,-0.00583952059969306,0.03264029324054718,0.05540139600634575,-0.03380915895104408,0.016673721373081207,-0.0798519179224968,0.05017204210162163,0.014387493021786213,-0.0009010419016703963,-0.014884920790791512,-0.015279187820851803,-0.01309496071189642,0.028930891305208206,0.012719791382551193,0.020355138927698135,-0.03782247379422188,-0.002698721829801798,-0.051768820732831955,-0.017985479906201363,0.050307948142290115,0.017678698524832726,0.008307901211082935,-0.03490930050611496,-0.04156534746289253,-0.052930798381567,0.0349745899438858,0.012551209889352322,-0.0013655974762514234,-0.012986092828214169,4.2139378627666605e-34,0.016364768147468567,0.011281521059572697,0.03537560626864433,0.05539189279079437,0.03704190254211426,-0.028232168406248093,0.0021299219224601984,-0.03633834794163704,0.01578470505774021,-0.0796651691198349,-0.02214866317808628]'
SET
  @TechnicalDesignVector_5da5e7f0 = N'[-0.04256199300289154,0.0003894914698321372,-0.038603562861680984,-0.06302803754806519,0.035381391644477844,-0.00886360090225935,0.02434670366346836,0.0015808249590918422,0.0056334747932851315,-0.01491851918399334,0.00504832249134779,0.015830878168344498,0.03241199254989624,0.12360050529241562,-0.014953264966607094,-0.028001978993415833,0.013072846457362175,0.02799547091126442,-0.00782336387783289,0.020463794469833374,0.029679398983716965,-0.0005639753071591258,0.038506899029016495,0.027926089242100716,0.0084082605317235,-0.008315441198647022,-0.01720045506954193,0.008926205337047577,0.025623051449656487,-0.10941661894321442,0.03469172865152359,0.002716242568567395,-0.014816103503108025,0.022692065685987473,0.0000024840066998876864,-0.011205097660422325,-0.04029068723320961,0.02654239721596241,-0.05696070194244385,0.012775007635354996,0.08269340544939041,-0.013580837287008762,0.04394719377160072,0.00860646553337574,0.021870160475373268,-0.037342287600040436,-0.012602576985955238,-0.005504768341779709,0.04250263795256615,-0.025292977690696716,0.023097673431038857,-0.0036448314785957336,-0.017744945362210274,-0.014433512464165688,0.009839722886681557,0.006897017825394869,-0.0019323233282193542,0.008368047885596752,0.06519012153148651,0.04262854531407356,-0.02123027667403221,0.028330104425549507,0.025472844019532204,-0.012612927705049515,0.11743152141571045,0.025666549801826477,0.1320151686668396,-0.08409342914819717,0.005135868676006794,0.008856325410306454,0.1522001028060913,-0.013068833388388157,0.0012759431265294552,-0.015360168181359768,-0.054153572767972946,0.0069923787377774715,-0.028194857761263847,-0.02425518073141575,-0.005172180011868477,0.011413211934268475,0.025525426492094994,0.022718604654073715,-0.029998168349266052,-0.03650188446044922,-0.04452599212527275,0.05692822113633156,-0.017207616940140724,-0.012711018323898315,-0.0314837209880352,-0.02701002173125744,0.061390116810798645,-0.05804344639182091,-0.004052000120282173,-0.020687300711870193,-0.056705571711063385,0.00023175064416136593,0.04189086705446243,-0.08192689716815948,0.012339981272816658,-0.017286373302340508,0.08289897441864014,0.04096332564949989,0.005545891355723143,0.028358258306980133,0.08118493109941483,0.03609820827841759,0.0018487708875909448,-0.06426648795604706,-0.0005017327493987978,0.006132760085165501,0.013114920817315578,-0.01316929142922163,0.014780053868889809,0.03717508912086487,-0.035151157528162,0.0030217485036700964,-0.046899065375328064,-0.013786223717033863,-0.02947658859193325,-0.009319244883954525,0.06462845206260681,-0.01664574071764946,0.010580644942820072,0.03045536018908024,0.020935188978910446,0.04116678610444069,-0.005898657720535994,-0.050553321838378906,0.004584563430398703,-0.0050241765566170216,-0.02824149839580059,-0.05220555141568184,0.012620300985872746,-0.03723090887069702,-0.021741576492786407,-0.0070978435687720776,0.0355660505592823,-0.007559084799140692,-0.015031456016004086,-0.03185225650668144,0.05787559226155281,-0.000550338882021606,-0.05962977930903435,0.053191665560007095,0.021560417488217354,-0.017258433625102043,0.033175721764564514,-0.014280170202255249,0.010418929159641266,0.015195316635072231,-0.009165814146399498,-0.009806085377931595,-0.006671268027275801,0.03388957306742668,-0.04689142853021622,-0.003370195161551237,0.05661628022789955,-0.001469891518354416,-0.0180730689316988,-0.00510515458881855,-0.004070551600307226,-0.0030928542837500572,0.03398840129375458,0.008126174099743366,-0.00803639180958271,0.007797540165483952,-0.08083910495042801,-0.01882554031908512,-0.12114373594522476,-0.07300277799367905,-0.042463336139917374,-0.07655923813581467,0.010621482506394386,0.06847099959850311,0.02619164064526558,-0.0014080130495131016,0.11773798614740372,-0.059051744639873505,-0.04014973342418671,-0.008985037915408611,0.00942235253751278,-0.11635290831327438,-0.004420182202011347,0.05319799482822418,0.005181398708373308,-0.02820117585361004,-0.0822991132736206,0.078832246363163,-0.004613823257386684,-0.01828681491315365,-0.022259054705500603,0.02752886526286602,-0.10527829080820084,-0.0037365881726145744,0.013600989244878292,0.0296841599047184,0.007493004668504,-0.049976661801338196,0.05019102245569229,-0.026694675907492638,-0.009364488534629345,-0.015807287767529488,0.060988038778305054,0.05740795284509659,0.031898897141218185,-0.020571667701005936,-0.04480256885290146,-0.010170645080506802,-0.034675974398851395,-0.009505979716777802,0.017908139154314995,0.014426772482693195,-0.039468664675951004,0.027150684967637062,-0.042916469275951385,0.02390226535499096,0.03731001168489456,0.026377499103546143,-0.07306127995252609,-0.0006108806701377034,-0.03295237571001053,-0.02077648602426052,0.013479906134307384,0.010724128223955631,0.014825114980340004,0.07544878870248795,0.04937241971492767,-0.0012525571510195732,0.02647467330098152,0.018587160855531693,-0.009564550593495369,-0.011445549316704273,0.004282416310161352,0.052106622606515884,0.029779063537716866,0.030554432421922684,0.0539429746568203,0.06950458884239197,-0.02200961671769619,0.03812669217586517,0.05175196751952171,-0.0074418680742383,-0.0021305398549884558,-0.009033004753291607,-0.005766867194324732,-0.03502948582172394,-0.014661031775176525,0.03738592192530632,0.0026027634739875793,-0.015566740185022354,0.052869878709316254,0.019437413662672043,0.03385742008686066,-0.03509167954325676,-0.03964481130242348,-0.0006976666627451777,-0.035596009343862534,-0.030301185324788094,0.02085728757083416,0.062272362411022186,-0.01783887669444084,-0.004926311317831278,-0.0320516936480999,-0.007260372396558523,0.0059887622483074665,0.0035733235999941826,0.07359272986650467,-0.02138027548789978,0.009757835417985916,0.0361810028553009,0.00967684667557478,0.028641296550631523,0.05701609328389168,-0.008489415049552917,0.020390482619404793,0.05268728733062744,-0.004763048607856035,0.052781954407691956,-0.031104013323783875,-0.04318539425730705,-0.020593861117959023,-0.03633888065814972,-0.004565680865198374,0.025338593870401382,-0.01991736702620983,-0.003759633982554078,0.04500867798924446,-0.061466317623853683,0.0323721319437027,-0.011722668074071407,0.007032701279968023,-0.027112407609820366,0.004190434236079454,-0.01946633867919445,-0.020160723477602005,0.008141840808093548,-0.031764451414346695,0.07482288032770157,-0.038091033697128296,0.09753472357988358,-0.030818844214081764,-0.022825565189123154,-0.03555212914943695,0.002841421402990818,-0.0057811192236840725,0.10643895715475082,0.0073816110379993916,0.00416777515783906,0.044485487043857574,0.06332720071077347,-0.002238868037238717,0.011749335564672947,0.04396430030465126,0.02047107368707657,-0.010758385993540287,0.013435826636850834,0.005526350811123848,-0.0006642478401772678,0.0014566853642463684,0.051229774951934814,0.011870382353663445,-0.006901767570525408,-0.02456733211874962,-0.008593925274908543,-0.04522790014743805,0.01080697774887085,-0.07885594666004181,0.0003188470145687461,-0.057428039610385895,0.0018454575911164284,0.007108774036169052,-0.006804456934332848,0.015899166464805603,0.02578781545162201,-0.011879446916282177,-0.02075727842748165,-0.03813914582133293,-0.023141812533140182,0.014587251469492912,-0.026009824126958847,-0.0013401488540694118,0.021446593105793,-0.01577647589147091,0.02806025743484497,0.032604362815618515,-0.028700798749923706,0.016023527830839157,-0.043939583003520966,-0.04707341641187668,0.014981585554778576,0.06722640246152878,0.039263878017663956,0.0039497483521699905,-0.03172126039862633,0.009276490658521652,-0.010037686675786972,-0.0344599112868309,-0.039921462535858154,0.0024342520628124475,-0.025953231379389763,0.09619218856096268,0.010401839390397072,0.03248396888375282,0.0031958441250026226,-0.026301274076104164,0.017310475930571556,0.019319383427500725,0.032437268644571304,0.0023695898707956076,-0.014014883898198605,-0.004420728888362646,-0.004012882709503174,0.029288819059729576,0.020128991454839706,0.0023536672815680504,-0.022027475759387016,0.014310795813798904,0.05810543894767761,0.014543799683451653,0.029960934072732925,0.032907262444496155,-0.03567293658852577,0.08098126947879791,0.016277195885777473,0.06899064034223557,-0.053170617669820786,-0.0027979398146271706,-0.00804929155856371,-0.00513690710067749,0.029569782316684723,0.0028771369252353907,-0.027080044150352478,0.00558489141985774,-0.041567351669073105,0.0002698094176594168,-0.037594374269247055,-0.019830308854579926,0.0016015827422961593,0.011383133940398693,0.02409949153661728,-0.003963124472647905,-0.015895036980509758,-0.040737949311733246,-0.022257599979639053,0.05119433254003525,0.024940125644207,0.002717232797294855,0.056205738335847855,-0.016705049201846123,0.040532756596803665,0.03443887457251549,-0.02360627055168152,-0.03610282763838768,-0.07781333476305008,-0.03174018859863281,0.012543808668851852,-0.022234749048948288,-0.009498010389506817,0.02824723720550537,0.06979197263717651,0.020168175920844078,-0.0031433911062777042,0.02091609686613083,-0.025438088923692703,0.08365710824728012,-0.06366075575351715,-0.007194420788437128,-0.038503848016262054,-0.024127282202243805,0.015135765075683594,0.022757671773433685,0.017081519588828087,-0.03606854006648064,0.00651447381824255,-0.02587435021996498,-0.046056248247623444,0.041373126208782196,-0.03623360022902489,-0.038265470415353775,0.01718890853226185,0.0164609644562006,-0.019878579303622246,0.039929766207933426,0.002381078200414777,-0.012088213115930557,-0.004985217936336994,-0.01339559257030487,0.049346961081027985,-0.028204206377267838,-0.013058876618742943,0.0582461878657341,0.01862751878798008,-0.021348033100366592,0.0029608618933707476,0.013387491926550865,-0.07659050822257996,0.014366831630468369,0.01299262885004282,-0.03623095899820328,0.04972203075885773,0.02029562182724476,0.034091055393218994,-0.029004374518990517,-0.00009440729627385736,0.018315603956580162,-0.01676146499812603,0.011294896714389324,-0.030148612335324287,-0.020482851192355156,-0.02826681174337864,0.019665496423840523,-0.008781887590885162,-0.037220198661088943,0.013930430635809898,0.0218474343419075,-0.00012997006706427783,-0.03635169565677643,-0.008609173819422722,-0.023635054007172585,-0.014559289440512657,0.06280726939439774,0.005618481431156397,0.036761295050382614,-0.09148836135864258,0.005544763058423996,0.013158245012164116,-0.04020801559090614,-0.006987194996327162,-0.0329914465546608,-0.006879777647554874,0.0008764517260715365,-0.023567689582705498,-0.012470661662518978,0.0932144969701767,0.05904294550418854,0.0013466213131323457,-0.05423073470592499,0.03575367480516434,-0.08332664519548416,-0.04752114415168762,-0.018743690103292465,0.0022004758939146996,0.03948623314499855,-0.03748905286192894,0.044638071209192276,0.031760212033987045,-0.001277721836231649,0.01716180518269539,-0.05527448281645775,-0.01215728186070919,-0.009383469820022583,0.006458180490881205,-0.042809709906578064,0.012226194143295288,0.01682807132601738,0.03598334640264511,-0.05708027631044388,0.02821611613035202,0.04884970188140869,-0.04500251263380051,0.03147284314036369,-0.009597457014024258,0.0009130242979153991,-0.028629980981349945,0.05594233050942421,-0.013660060241818428,-0.0047371224500238895,-0.010185296647250652,-0.041567299515008926,0.04658875986933708,0.026221245527267456,0.0014515250222757459,-0.032704271376132965,-0.03395490348339081,-0.033661533147096634,0.06575077027082443,0.06789123266935349,0.004132406786084175,-0.011427339166402817,0.02227344550192356,-0.08118747174739838,-0.0019873238634318113,-0.017314868047833443,-0.021446408703923225,-0.0191646721214056,-0.06666442006826401,-0.0006064705085009336,-0.0437205508351326,-0.004316288512200117,0.013668110594153404,0.02316400036215782,-0.10244552046060562,-0.084832563996315,0.026957597583532333,0.007032191846519709,-7.754058119071e-33,-0.056867565959692,0.005884659476578236,-0.03613143041729927,-0.06708681583404541,-0.06088489294052124,-0.05312049016356468,0.018093060702085495,-0.04493260011076927,-0.05111117288470268,-0.05625102296471596,-0.007197757717221975,0.018411561846733093,-0.004787966143339872,-0.01351391151547432,-0.000641097838524729,0.02237045206129551,0.03445633500814438,0.010243287310004234,-0.008655502460896969,0.01883224956691265,-0.016872353851795197,0.014392238110303879,-0.03680369630455971,-0.019826993346214294,-0.03779882192611694,0.041832610964775085,0.007617004215717316,0.02615944668650627,-0.08517209440469742,0.04417768493294716,0.009874840267002583,-0.029356427490711212,-0.030250541865825653,-0.00012572745617944747,-0.02736099250614643,0.0018078641733154655,-0.014447257854044437,-0.03340015932917595,0.033829934895038605,-0.014164539985358715,0.07790534198284149,-0.016542719677090645,0.029679330065846443,0.02570994943380356,-0.0045151193626224995,-0.041606299579143524,0.02000518888235092,-0.004770840052515268,0.0007530456641688943,0.027955664321780205,0.027362937107682228,0.0014538354007527232,-0.03187565132975578,0.050653185695409775,0.020300572738051414,0.06741286814212799,0.03618492931127548,0.044500768184661865,-0.00245977146551013,-0.013937542214989662,-0.0028417371213436127,0.01066382136195898,0.013038473203778267,0.060692306607961655,0.06010425090789795,-0.0203293077647686,0.04365616291761398,0.010311916470527649,-0.03400566428899765,-0.017617329955101013,0.0036000788677483797,0.030919434502720833,0.018313942477107048,-0.09067810326814651,-0.045590609312057495,-0.029929781332612038,-0.008755666203796864,0.010252730920910835,-0.04430350288748741,0.056276850402355194,-0.017328910529613495,-0.0038263164460659027,0.0028511187992990017,0.0032821521162986755,0.03315615653991699,-0.07042645663022995,-0.01978914439678192,-0.006476897746324539,-0.0098872696980834,0.026426250115036964,-0.026550382375717163,-0.0003228987625334412,-0.04620445892214775,-0.016218451783061028,-0.03433961048722267,-0.028446044772863388,0.04901072755455971,0.002216799883171916,0.018686998635530472,-0.017877642065286636,0.01756734400987625,0.032390858978033066,-0.03211105987429619,0.04975645989179611,-0.006757602095603943,-0.015272561460733414,0.02495088428258896,0.005854737013578415,-0.06923509389162064,0.00416068360209465,-0.000790142803452909,0.023913929238915443,-0.02868090383708477,-0.014843938872218132,0.0020197087433189154,0.011819634586572647,0.004866949748247862,0.003521502949297428,0.014479454606771469,0.017922978848218918,-0.00756054325029254,-0.029085613787174225,-0.04565737769007683,-0.00508454255759716,0.015874603763222694,-0.009783443994820118,-0.06944118440151215,0.0027759764343500137,0.06367643177509308,-0.006890370510518551,-0.008931087329983711,-0.017146680504083633,3.334133680255036e-7,-0.014736315235495567,0.021610332652926445,-0.040426671504974365,0.018803641200065613,0.02611592225730419,-0.011606418527662754,-0.0658421441912651,-0.04241543635725975,-0.015487791039049625,-0.018942339345812798,0.023470979183912277,-0.015441403724253178,0.0503130778670311,0.03323274850845337,0.02407173626124859,0.010132613591849804,-0.015762444585561752,-0.023722341284155846,-0.0639229416847229,-0.007382660638540983,0.04985138401389122,0.010146570391952991,0.02750050090253353,0.014610753394663334,0.028867028653621674,0.016879957169294357,-0.025299517437815666,-0.01092786155641079,-0.020766450092196465,-0.02260236255824566,0.01312192715704441,0.05278166010975838,-0.009590000845491886,-0.018050454556941986,-0.007344702258706093,0.018544552847743034,-0.06035521999001503,-0.00955408439040184,-0.012344717979431152,0.051364727318286896,0.056848205626010895,-0.01674674078822136,-0.046113722026348114,-0.03633372485637665,0.03868459165096283,-0.02826744131743908,0.010923035442829132,-0.003843588987365365,-0.014599223621189594,0.02957005240023136,-0.0039054439403116703,0.017186302691698074,0.0047569735907018185,-0.022282298654317856,0.018225785344839096,-0.017410948872566223,-0.009118519723415375,0.06970782577991486,0.00576617568731308,0.03170603886246681,0.01034375187009573,-0.07507414370775223,-0.020016545429825783,0.07307381182909012,0.006525604985654354,0.016864044591784477,-0.056971076875925064,4.651332882222903e-34,0.03429711237549782,-0.013681555166840553,0.015379250049591064,0.025543658062815666,0.02931365929543972,-0.033007312566041946,0.02011989988386631,0.017116805538535118,0.013485920615494251,-0.07823953777551651,-0.009815792553126812]'
SET
  @HasCustomProps_5da5e7f0 = 0
SET
  @HasCustomEvents_5da5e7f0 = 0
SET
  @RequiresData_5da5e7f0 = 1
SET
  @DependencyCount_5da5e7f0 = 5
SET
  @TechnicalDesignVectorEmbeddingModelID_5da5e7f0 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_5da5e7f0 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_5da5e7f0 = 0
SET
  @ID_5da5e7f0 = 'E7A334EA-53FD-40E4-A255-1DDA891D86B7'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_5da5e7f0,
  @Name = @Name_5da5e7f0,
  @Version = @Version_5da5e7f0,
  @VersionSequence = @VersionSequence_5da5e7f0,
  @Title = @Title_5da5e7f0,
  @Description = @Description_5da5e7f0,
  @Type = @Type_5da5e7f0,
  @Status = @Status_5da5e7f0,
  @DeveloperName = @DeveloperName_5da5e7f0,
  @DeveloperEmail = @DeveloperEmail_5da5e7f0,
  @DeveloperOrganization = @DeveloperOrganization_5da5e7f0,
  @SourceRegistryID = @SourceRegistryID_5da5e7f0,
  @ReplicatedAt = @ReplicatedAt_5da5e7f0,
  @LastSyncedAt = @LastSyncedAt_5da5e7f0,
  @Specification = @Specification_5da5e7f0,
  @FunctionalRequirements = @FunctionalRequirements_5da5e7f0,
  @TechnicalDesign = @TechnicalDesign_5da5e7f0,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_5da5e7f0,
  @TechnicalDesignVector = @TechnicalDesignVector_5da5e7f0,
  @HasCustomProps = @HasCustomProps_5da5e7f0,
  @HasCustomEvents = @HasCustomEvents_5da5e7f0,
  @RequiresData = @RequiresData_5da5e7f0,
  @DependencyCount = @DependencyCount_5da5e7f0,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_5da5e7f0,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_5da5e7f0,
  @HasRequiredCustomProps = @HasRequiredCustomProps_5da5e7f0,
  @ID = @ID_5da5e7f0;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_edeca048 NVARCHAR(MAX),
@Name_edeca048 NVARCHAR(500),
@Version_edeca048 NVARCHAR(50),
@VersionSequence_edeca048 INT,
@Title_edeca048 NVARCHAR(1000),
@Description_edeca048 NVARCHAR(MAX),
@Type_edeca048 NVARCHAR(255),
@Status_edeca048 NVARCHAR(50),
@DeveloperName_edeca048 NVARCHAR(255),
@DeveloperEmail_edeca048 NVARCHAR(255),
@DeveloperOrganization_edeca048 NVARCHAR(255),
@SourceRegistryID_edeca048 UNIQUEIDENTIFIER,
@ReplicatedAt_edeca048 DATETIMEOFFSET,
@LastSyncedAt_edeca048 DATETIMEOFFSET,
@Specification_edeca048 NVARCHAR(MAX),
@FunctionalRequirements_edeca048 NVARCHAR(MAX),
@TechnicalDesign_edeca048 NVARCHAR(MAX),
@FunctionalRequirementsVector_edeca048 NVARCHAR(MAX),
@TechnicalDesignVector_edeca048 NVARCHAR(MAX),
@HasCustomProps_edeca048 BIT,
@HasCustomEvents_edeca048 BIT,
@RequiresData_edeca048 BIT,
@DependencyCount_edeca048 INT,
@TechnicalDesignVectorEmbeddingModelID_edeca048 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_edeca048 NVARCHAR(MAX),
@HasRequiredCustomProps_edeca048 BIT,
@ID_edeca048 UNIQUEIDENTIFIER
SET
  @Namespace_edeca048 = N'AI'
SET
  @Name_edeca048 = N'AIModelList'
SET
  @Version_edeca048 = N'1.0.0'
SET
  @VersionSequence_edeca048 = 1
SET
  @Title_edeca048 = N'AI Model List'
SET
  @Description_edeca048 = N'Displays AI models in grid or list view with vendor information and sorting'
SET
  @Type_edeca048 = N'Other'
SET
  @Status_edeca048 = N'Published'
SET
  @Specification_edeca048 = N'{"name":"AIModelList","title":"AI Model List","description":"Displays AI models in grid or list view with vendor information and sorting","type":"table","functionalRequirements":"Display models with vendor counts, support grid and list views, handle sorting and selection","technicalDesign":"## Technical Design\n\n### Component Structure\n- Display component for AI models in grid or list view\n- Receives model data and vendor associations via props\n- Handles selection and sorting through event callbacks\n\n### Props\n- models: Array of AI model objects\n- modelVendors: Array of vendor associations (grouped by model)\n- viewMode: ''grid'' | ''list''\n- selectedModelId: Currently selected model ID\n- sortBy: Field name for sorting\n- sortDirection: ''asc'' | ''desc''\n\n### Rendering\n- Grid mode: Compact card layout with key model info\n- List mode: Table view with sortable columns\n- Display vendor count badges for each model\n- Highlight selected model\n- Show sort indicators on column headers\n\n### Event Handling\n- onSelectModel: Emits modelId when user clicks a model\n- onSortChange: Emits sortBy and sortDirection when sort changes","dataRequirements":{"mode":"views","entities":[{"name":"AI Models","description":"Core AI model definitions and specifications","displayFields":["ID","Name","APIName","Description","AIModelTypeID","InputTokenLimit","PowerRank","SpeedRank","CostRank","IsActive","__mj_CreatedAt","__mj_UpdatedAt"],"filterFields":["AIModelTypeID","IsActive"],"sortFields":["Name","InputTokenLimit","CostRank","IsActive","__mj_CreatedAt"],"fieldMetadata":[{"name":"ID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":true,"description":"Unique identifier for the AI model"},{"name":"Name","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"System name of the AI model"},{"name":"APIName","sequence":4,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"API identifier for the model"},{"name":"InputTokenLimit","sequence":5,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Maximum input token limit"},{"name":"CostRank","sequence":6,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Relative cost ranking (1-5)"}],"usageContext":"Main list of AI models"},{"name":"MJ: AI Model Vendors","description":"Vendor associations for AI models","displayFields":["ID","ModelID","VendorID","TypeID","Model","Vendor","Type","Status","Priority","APIName","MaxInputTokens","MaxOutputTokens","SupportsStreaming","SupportsEffortLevel"],"filterFields":["ModelID","Type","Status"],"sortFields":["Vendor","Priority","Type"],"fieldMetadata":[{"name":"ModelID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":false,"description":"Reference to AI Model"},{"name":"Vendor","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Vendor name"},{"name":"Type","sequence":3,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Vendor type (Model Developer or Inference Provider)"}],"usageContext":"Vendor associations for models"},{"name":"AI Model Types","description":"Types/categories of AI models","displayFields":["ID","Name","Description"],"filterFields":[],"sortFields":["Name"],"usageContext":"Filter dropdown for model types"},{"name":"MJ: AI Prompt Runs","description":"Execution history for AI prompts","displayFields":["ID","PromptID","ModelID","StartTime","EndTime","TotalExecutionTime","InputTokens","OutputTokens","TotalTokens","Status","Error"],"filterFields":["ModelID","PromptID","Status"],"sortFields":["StartTime","TotalExecutionTime"],"usageContext":"Analytics and usage history"},{"name":"AI Prompts","description":"AI prompt definitions","displayFields":["ID","Name","Description","CategoryID"],"filterFields":[],"sortFields":["Name"],"usageContext":"Enrich prompt runs with names"}]},"properties":[{"name":"models","type":"array","required":true,"description":"Array of AI model objects to display"},{"name":"modelVendors","type":"array","required":true,"description":"Array of model vendor associations"},{"name":"viewMode","type":"string","required":true,"description":"Display mode - ''grid'' or ''list''"},{"name":"selectedModelId","type":"string","required":true,"description":"ID of the currently selected model"},{"name":"sortBy","type":"string","required":true,"description":"Field to sort by"},{"name":"sortDirection","type":"string","required":true,"description":"Sort direction - ''asc'' or ''desc''"}],"events":[{"name":"onSelectModel","description":"Fired when a model is selected","parameters":[{"name":"modelId","type":"string","description":"ID of the selected model"}]},{"name":"onSortChange","description":"Fired when sort criteria changes","parameters":[{"name":"sortBy","type":"string","description":"Field to sort by"},{"name":"sortDirection","type":"string","description":"Sort direction"}]}],"exampleUsage":"<AIModelList ... />","code":"function AIModelList({\n  models,\n  modelVendors,\n  viewMode,\n  selectedModelId,\n  onSelectModel,\n  sortBy,\n  sortDirection,\n  onSortChange,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  // Load DataGrid component from registry\n  const DataGrid = components[''DataGrid''];\n\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n\n  // Get vendor info for a model\n  const getModelVendorInfo = useCallback((modelId) => {\n    const vendors = modelVendors.filter(v => v.ModelID === modelId);\n    const inferenceProviders = vendors.filter(v => v.Type === ''Inference Provider'');\n    const modelDeveloper = vendors.find(v => v.Type === ''Model Developer'');\n\n    return {\n      inferenceProviders,\n      modelDeveloper,\n      vendorCount: vendors.length\n    };\n  }, [modelVendors]);\n\n  // Render status badge\n  const renderStatusBadge = (status) => {\n    const statusColors = {\n      ''Active'': styles.colors.success || styles.colors.primary,\n      ''Inactive'': styles.colors.warning || styles.colors.secondary,\n      ''Deprecated'': styles.colors.error || styles.colors.secondary,\n      ''Preview'': styles.colors.info || styles.colors.primary\n    };\n\n    const color = statusColors[status] || styles.colors.textSecondary;\n\n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {status}\n      </span>\n    );\n  };\n\n  // Render cost rank\n  const renderCostRank = (rank) => {\n    if (rank == null) return ''-'';\n\n    const maxStars = 5;\n    const filledStars = Math.min(rank, maxStars);\n\n    return (\n      <span style={{\n        color: styles.colors.warning || styles.colors.secondary,\n        fontSize: styles.typography.fontSize.sm\n      }}>\n        {''$''.repeat(filledStars)}\n        <span style={{ opacity: 0.3 }}>\n          {''$''.repeat(maxStars - filledStars)}\n        </span>\n      </span>\n    );\n  };\n\n  // Format token limit\n  const formatTokens = (tokens) => {\n    if (!tokens) return ''-'';\n    if (tokens >= 1000000) return `$' + '{(tokens / 1000000).toFixed(1)}M`;\n    if (tokens >= 1000) return `$' + '{(tokens / 1000).toFixed(0)}K`;\n    return tokens.toString();\n  };\n\n  // Define columns for DataGrid\n  const gridColumns = [\n    {\n      field: ''Name'',\n      header: ''Model Name'',\n      sortable: true,\n      width: ''200px''\n    },\n    {\n      field: ''APIName'',\n      header: ''API Name'',\n      sortable: false,\n      width: ''150px'',\n      render: (value) => value ? (\n        <span style={{ fontFamily: ''monospace'', fontSize: styles.typography.fontSize.sm }}>\n          {value}\n        </span>\n      ) : ''-''\n    },\n    {\n      field: ''IsActive'',\n      header: ''Status'',\n      sortable: true,\n      width: ''100px'',\n      render: (value) => renderStatusBadge(value ? ''Active'' : ''Inactive'')\n    },\n    {\n      field: ''ModelDeveloper'',\n      header: ''Developer'',\n      sortable: false,\n      width: ''120px'',\n      render: (value, row) => {\n        const vendorInfo = getModelVendorInfo(row.ID);\n        return vendorInfo.modelDeveloper?.Vendor || ''-'';\n      }\n    },\n    {\n      field: ''InferenceProviders'',\n      header: ''Providers'',\n      sortable: false,\n      width: ''150px'',\n      render: (value, row) => {\n        const vendorInfo = getModelVendorInfo(row.ID);\n        if (vendorInfo.inferenceProviders.length === 0) {\n          return <span style={{ color: styles.colors.textSecondary }}>-</span>;\n        }\n\n        return (\n          <div style={{\n            display: ''flex'',\n            gap: styles.spacing.xs,\n            flexWrap: ''wrap''\n          }}>\n            {vendorInfo.inferenceProviders.slice(0, 3).map((provider, idx) => (\n              <span\n                key={idx}\n                style={{\n                  padding: `2px $' + '{styles.spacing.xs}`,\n                  backgroundColor: styles.colors.primary + ''15'',\n                  color: styles.colors.primary,\n                  borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                }}\n              >\n                {provider.Vendor}\n              </span>\n            ))}\n            {vendorInfo.inferenceProviders.length > 3 && (\n              <span style={{\n                color: styles.colors.textSecondary,\n                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n              }}>\n                +{vendorInfo.inferenceProviders.length - 3}\n              </span>\n            )}\n          </div>\n        );\n      }\n    },\n    {\n      field: ''InputTokenLimit'',\n      header: ''Input Limit'',\n      sortable: true,\n      width: ''100px'',\n      render: (value) => formatTokens(value)\n    },\n    {\n      field: ''CostRank'',\n      header: ''Cost'',\n      sortable: true,\n      width: ''80px'',\n      render: (value) => renderCostRank(value)\n    }\n  ];\n\n  // Handle row selection\n  const handleRowSelect = useCallback((selectedRows) => {\n    if (selectedRows && selectedRows.length > 0) {\n      onSelectModel?.(selectedRows[0].ID);\n    }\n  }, [onSelectModel]);\n  \n  // Grid view rendering\n  const renderGridView = () => (\n    <div style={{\n      display: ''grid'',\n      gridTemplateColumns: ''repeat(auto-fill, minmax(320px, 1fr))'',\n      gap: styles.spacing.lg\n    }}>\n      {models.map((model) => {\n        const vendorInfo = getModelVendorInfo(model.ID);\n        const isSelected = model.ID === selectedModelId;\n\n        return (\n          <div\n            key={model.ID}\n            onClick={() => onSelectModel?.(model.ID)}\n            style={{\n              backgroundColor: styles.colors.surface,\n              borderRadius: getBorderRadius(''md''),\n              padding: styles.spacing.lg,\n              cursor: ''pointer'',\n              transition: ''all 0.2s'',\n              border: isSelected\n                ? `2px solid $' + '{styles.colors.primary}`\n                : `1px solid $' + '{styles.colors.border}`,\n              boxShadow: isSelected\n                ? `0 4px 12px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}`\n                : ''none''\n            }}\n            onMouseEnter={(e) => {\n              if (!isSelected) {\n                e.currentTarget.style.borderColor = styles.colors.primary;\n                e.currentTarget.style.boxShadow = `0 2px 8px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.05)''}`;\n              }\n            }}\n            onMouseLeave={(e) => {\n              if (!isSelected) {\n                e.currentTarget.style.borderColor = styles.colors.border;\n                e.currentTarget.style.boxShadow = ''none'';\n              }\n            }}\n          >\n            {/* Model Header */}\n            <div style={{\n              display: ''flex'',\n              justifyContent: ''space-between'',\n              alignItems: ''flex-start'',\n              marginBottom: styles.spacing.md\n            }}>\n              <div style={{ flex: 1 }}>\n                <h3 style={{\n                  margin: 0,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  {model.Name}\n                </h3>\n                {model.APIName && (\n                  <div style={{\n                    fontSize: styles.typography.fontSize.sm,\n                    color: styles.colors.textSecondary,\n                    fontFamily: ''monospace''\n                  }}>\n                    {model.APIName}\n                  </div>\n                )}\n              </div>\n              {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n            </div>\n\n            {/* Model Description */}\n            {model.Description && (\n              <div style={{\n                fontSize: styles.typography.fontSize.sm,\n                color: styles.colors.textSecondary,\n                marginBottom: styles.spacing.md,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                display: ''-webkit-box'',\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: ''vertical''\n              }}>\n                {model.Description}\n              </div>\n            )}\n\n            {/* Model Specs */}\n            <div style={{\n              display: ''grid'',\n              gridTemplateColumns: ''repeat(2, 1fr)'',\n              gap: styles.spacing.sm,\n              marginBottom: styles.spacing.md\n            }}>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Input Token Limit\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                  color: styles.colors.text\n                }}>\n                  {formatTokens(model.InputTokenLimit)}\n                </div>\n              </div>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Cost Rank\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  fontWeight: styles.typography.fontWeight?.medium || ''500''\n                }}>\n                  {renderCostRank(model.CostRank)}\n                </div>\n              </div>\n            </div>\n\n            {/* Vendor Info */}\n            <div style={{\n              paddingTop: styles.spacing.md,\n              borderTop: `1px solid $' + '{styles.colors.border}`,\n              display: ''flex'',\n              gap: styles.spacing.md,\n              fontSize: styles.typography.fontSize.sm\n            }}>\n              {vendorInfo.modelDeveloper && (\n                <div style={{\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  gap: styles.spacing.xs\n                }}>\n                  <span style={{ color: styles.colors.textSecondary }}>Dev:</span>\n                  <span style={{\n                    color: styles.colors.text,\n                    fontWeight: styles.typography.fontWeight?.medium || ''500''\n                  }}>\n                    {vendorInfo.modelDeveloper.Vendor}\n                  </span>\n                </div>\n              )}\n              {vendorInfo.inferenceProviders.length > 0 && (\n                <div style={{\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  gap: styles.spacing.xs\n                }}>\n                  <span style={{ color: styles.colors.textSecondary }}>Providers:</span>\n                  <span style={{\n                    color: styles.colors.primary,\n                    fontWeight: styles.typography.fontWeight?.medium || ''500''\n                  }}>\n                    {vendorInfo.inferenceProviders.length}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n\n  // List view rendering\n  const renderListView = () => (\n    <div style={{ width: ''100%'' }}>\n      {DataGrid ? (\n        <DataGrid\n          data={models}\n          columns={gridColumns}\n          pageSize={25}\n          showFilters={true}\n          showExport={false}\n          selectionMode=\"single\"\n          selectedRows={selectedModelId ? models.filter(m => m.ID === selectedModelId) : []}\n          onRowSelect={handleRowSelect}\n          sortBy={sortBy}\n          sortDirection={sortDirection}\n          onSortChange={onSortChange}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n          savedUserSettings={savedUserSettings}\n          onSaveUserSettings={onSaveUserSettings}\n        />\n      ) : (\n        <div style={{\n          padding: styles.spacing.lg,\n          textAlign: ''center'',\n          color: styles.colors.textSecondary\n        }}>\n          DataGrid component not available\n        </div>\n      )}\n    </div>\n  );\n\n  return viewMode === ''grid'' ? renderGridView() : renderListView();\n}","dependencies":[{"name":"DataGrid","location":"registry","namespace":"Generic/UI/Table","version":"^1.0.0"}],"libraries":[]}'
SET
  @FunctionalRequirements_edeca048 = N'Display models with vendor counts, support grid and list views, handle sorting and selection'
SET
  @TechnicalDesign_edeca048 = N'## Technical Design

### Component Structure
- Display component for AI models in grid or list view
- Receives model data and vendor associations via props
- Handles selection and sorting through event callbacks

### Props
- models: Array of AI model objects
- modelVendors: Array of vendor associations (grouped by model)
- viewMode: ''grid'' | ''list''
- selectedModelId: Currently selected model ID
- sortBy: Field name for sorting
- sortDirection: ''asc'' | ''desc''

### Rendering
- Grid mode: Compact card layout with key model info
- List mode: Table view with sortable columns
- Display vendor count badges for each model
- Highlight selected model
- Show sort indicators on column headers

### Event Handling
- onSelectModel: Emits modelId when user clicks a model
- onSortChange: Emits sortBy and sortDirection when sort changes'
SET
  @FunctionalRequirementsVector_edeca048 = N'[-0.025677412748336792,0.09018495678901672,-0.013501730747520924,-0.013573932461440563,0.04510435089468956,0.019654840230941772,0.05747755244374275,0.016570210456848145,0.04031169414520264,-0.03979209437966347,-0.06543534994125366,-0.03550177812576294,-0.011307062581181526,0.09018051624298096,0.0032516249921172857,-0.05892673134803772,-0.003576140385121107,0.006970769260078669,0.0034486434888094664,-0.012718499638140202,-0.006501779891550541,-0.0013671426568180323,0.013469909317791462,-0.026199808344244957,0.025855297222733498,-0.024401629343628883,-0.022677987813949585,0.029861444607377052,0.02419012226164341,-0.05111512914299965,-0.0489475280046463,0.036062970757484436,0.022577641531825066,-0.012249286286532879,0.0000014731649571331218,0.01010630838572979,-0.09251969307661057,0.04107081517577171,-0.042695362120866776,0.017657196149230003,0.08798445016145706,0.010833363980054855,0.034758925437927246,-0.018729202449321747,-0.04095704108476639,-0.00023801156203262508,-0.05849066749215126,0.08535393327474594,0.01907108537852764,-0.0015213963342830539,0.030759243294596672,-0.002301376312971115,0.01362659689038992,-0.02118426375091076,-0.05646464601159096,0.013520441018044949,-0.01799139566719532,0.016691580414772034,0.07628099620342255,0.00924668274819851,-0.02833596244454384,0.027598291635513306,-0.005730899050831795,-0.032726503908634186,0.02409556694328785,0.04173116013407707,0.0978267565369606,-0.024195173755288124,0.004077971447259188,-0.011700049042701721,0.013175200670957565,-0.01548090111464262,0.01283375546336174,-0.03644529730081558,-0.02225027047097683,0.019892357289791107,-0.028996696695685387,0.026323553174734116,0.01186279859393835,0.01564422994852066,0.009406335651874542,-0.027375971898436546,-0.015384531579911709,-0.013396472670137882,-0.018823811784386635,0.027167290449142456,0.02472502924501896,-0.04869840294122696,-0.07659298181533813,-0.03277333453297615,-0.0022169447038322687,-0.03259705379605293,0.025791402906179428,0.004096966702491045,-0.07941348850727081,-0.0050573041662573814,0.035174887627363205,-0.025351399555802345,0.03760657459497452,-0.004986728075891733,0.013243958353996277,0.010554984211921692,0.007861376740038395,-0.005395052023231983,0.03781895339488983,0.043194323778152466,-0.06309106200933456,0.03580294921994209,-0.05050037056207657,0.03858767822384834,-0.003392963670194149,0.0029498282819986343,0.026905912905931473,0.02457571215927601,-0.051566269248723984,0.001744647859595716,-0.025216734036803246,-0.013171297498047352,-0.015336437150835991,0.010959775187075138,0.06239776313304901,-0.007503146771341562,-0.009790074080228806,0.003724541747942567,0.029511883854866028,0.01081591285765171,-0.01921503059566021,-0.04371093958616257,-0.018175385892391205,0.005890164524316788,0.0015546994982287288,-0.028110072016716003,0.024614010006189346,-0.016331499442458153,-0.038837458938360214,0.007872113958001137,0.03067595325410366,0.04579644650220871,-0.01364307850599289,-0.012174217961728573,0.018896499648690224,0.0010493900626897812,0.0042716022580862045,0.03457791730761528,-0.014730965718626976,-0.013841498643159866,0.025787442922592163,-0.029461288824677467,-0.00718116108328104,-0.018590858206152916,0.015300113707780838,-0.011563683860003948,0.004781193099915981,0.00213434430770576,0.05272718146443367,0.007707870099693537,0.09301300346851349,-0.01109602302312851,0.04423103481531143,-0.005142388865351677,-0.007596573326736689,0.0064961472526192665,0.10193616151809692,-0.01554796751588583,-0.013258608058094978,0.00651781540364027,-0.0947452038526535,0.03002677671611309,-0.0014638068387284875,-0.009451082907617092,-0.0081058694049716,-0.00691207405179739,-0.03345314785838127,-0.0042916638776659966,0.03835871443152428,-0.01057678833603859,-0.01736711524426937,-0.001617324072867632,-0.038846664130687714,-0.03431126847863197,0.030691279098391533,0.0014324720250442624,0.03406628221273422,0.018079165369272232,0.0640118420124054,-0.07606880366802216,-0.05291692912578583,0.009582421742379665,-0.0132607975974679,0.006900199688971043,0.023129094392061234,-0.003885135520249605,-0.03554390370845795,0.018722038716077805,0.019186746329069138,0.02567402832210064,0.005690462421625853,-0.04543839022517204,0.016996271908283234,-0.042343467473983765,-0.06806210428476334,-0.015708552673459053,0.029690362513065338,0.011248784139752388,-0.008371949195861816,-0.01832270249724388,-0.08110839873552322,0.010056394152343273,-0.03205917403101921,0.015623435378074646,0.05391810089349747,-0.031964950263500214,-0.039555661380290985,0.024293886497616768,-0.013587305322289467,0.02609344571828842,-0.0022080978378653526,0.04996505007147789,-0.05548803508281708,-0.04895555600523949,-0.007115091662853956,-0.06377048790454865,-0.03793826326727867,0.011511343531310558,0.05018773302435875,0.06215589866042137,0.004600438289344311,-0.021141784265637398,0.021767020225524902,-0.012623735703527927,-0.0243009515106678,0.006280966103076935,0.07946812361478806,0.017164502292871475,0.042237672954797745,-0.031559400260448456,0.008110946044325829,0.029224473983049393,-0.025132235139608383,0.09713157266378403,0.01660054922103882,-0.00420380337163806,-0.011841831728816032,-0.02120758593082428,-0.026166534051299095,0.01547934114933014,-0.04298076033592224,0.00861765630543232,0.017249561846256256,-0.0022245394065976143,0.02698376215994358,-0.002923436462879181,0.09326302260160446,0.014224526472389698,-0.02155337482690811,-0.000454276567324996,-0.04679436609148979,-0.016346244141459465,-0.08417405188083649,0.0205934289842844,0.03408460319042206,0.005693952552974224,-0.0014041223330423236,-0.039328575134277344,-0.001102434704080224,0.001473578275181353,0.047833673655986786,-0.09743838012218475,-0.0008141599246300757,0.04103292524814606,-0.005772122181952,0.008269164711236954,-0.022442564368247986,-0.013620925135910511,-0.008147221989929676,0.012283390387892723,-0.021829912438988686,0.0540587492287159,-0.0005712224519811571,-0.0471368245780468,-0.0015106953214854002,-0.040118180215358734,0.0009713188046589494,0.026715204119682312,-0.018584616482257843,0.028239086270332336,0.05247906967997551,-0.013410326093435287,0.027508078143000603,-0.048687972128391266,-0.03444099798798561,0.014540295116603374,0.014655672013759613,0.033797357231378555,-0.021192412823438644,0.014166218228638172,-0.049117397516965866,0.09011000394821167,-0.006811355706304312,0.09703928232192993,0.013796927407383919,0.020967185497283936,-0.011913798749446869,0.010796753689646721,0.004828154109418392,-0.001605379511602223,0.037977010011672974,0.024320954456925392,-0.00585709884762764,0.017671208828687668,-0.019739791750907898,0.02363121509552002,0.06817768514156342,-0.015886466950178146,0.0178059209138155,0.013205642811954021,0.05082421377301216,0.015738854184746742,-0.004823184572160244,0.08646585047245026,-0.0021957193966954947,-0.004231219179928303,-0.0050626532174646854,-0.026776934042572975,-0.018082380294799805,0.004175076261162758,0.016397899016737938,0.01965382881462574,-0.05089368298649788,0.07005739212036133,0.01470474898815155,-0.08611341565847397,0.04343166947364807,-0.014961721375584602,-0.01727386936545372,-0.025944344699382782,-0.02157273143529892,0.01648222841322422,-0.04115099832415581,-0.017253290861845016,-0.01776079647243023,-0.03608385846018791,-0.05279520899057388,-0.022381961345672607,0.028842195868492126,0.009593099355697632,-0.004510475788265467,0.03720448166131973,-0.04736003279685974,-0.006529418285936117,0.045785725116729736,0.03268231451511383,0.012197944335639477,0.007635888177901506,0.004899820778518915,0.059012703597545624,-0.015259742736816406,0.010879529640078545,-0.014939271844923496,-0.039477307349443436,0.0003272825852036476,0.013455291278660297,0.03156290203332901,0.049462299793958664,0.0033130499068647623,0.02684285305440426,0.010190771892666817,-0.0074733407236635685,0.0037349725607782602,-0.023701561614871025,-0.04500134289264679,0.004981061909347773,0.022491946816444397,0.02190534956753254,-0.0063559021800756454,-0.04337507486343384,0.01584014482796192,0.0722576379776001,0.021205134689807892,0.01665169559419155,0.06477141380310059,0.05069646239280701,0.11551132053136826,0.01520868856459856,0.03513558581471443,-0.03123731166124344,0.002102662343531847,-0.011042139492928982,-0.032904185354709625,0.018413938581943512,-0.011859704740345478,-0.012689564377069473,0.05340386927127838,-0.04778270423412323,-0.002140400465577841,0.01800328865647316,-0.042114321142435074,0.05543011426925659,0.01059954334050417,0.015616221353411674,0.0010204220889136195,0.07496339082717896,0.016443537548184395,-0.038667820394039154,0.047878265380859375,-0.044805336743593216,0.05257900804281235,0.04810524359345436,-0.019141649827361107,-0.010147602297365665,-0.07272809743881226,0.05380115658044815,-0.07966788858175278,-0.05472945421934128,0.00809998158365488,-0.01565282791852951,-0.010783534497022629,0.012482255697250366,-0.04519525170326233,0.030196739360690117,0.015298033133149147,-0.01968805119395256,0.02081964537501335,0.0012179481564089656,0.018662648275494576,0.00024374175700359046,-0.05372444912791252,-0.012975133955478668,-0.033320970833301544,0.02433512546122074,0.029899829998612404,0.03877748176455498,-0.024766646325588226,0.005160489119589329,0.0572897344827652,-0.015155074186623096,0.004869190510362387,-0.058428917080163956,-0.02180963009595871,-0.020606504753232002,-0.003584505757316947,0.014287851750850677,0.07788895815610886,0.019296953454613686,-0.00530514121055603,-0.0032811968121677637,-0.02968338318169117,0.015444248914718628,-0.016741197556257248,0.006433289963752031,-0.0018298958893865347,-0.016713056713342667,-0.03568623214960098,0.009888246655464172,-0.06401535868644714,-0.03335551545023918,-0.10468914359807968,0.0527619943022728,-0.014389457181096077,-0.013644187711179256,0.05489969998598099,0.03167695552110672,-0.03614199534058571,0.006393600255250931,0.022485554218292236,-0.08857700973749161,-0.004884451162070036,-0.014742610044777393,0.01928301341831684,-0.04953864589333534,0.00517056230455637,-0.017015544697642326,0.00583034148439765,-0.027723131701350212,0.03511877357959747,0.016311855986714363,0.004623621702194214,-0.016128208488225937,0.028767015784978867,-0.02476353384554386,0.022674396634101868,0.03959226235747337,0.03339745104312897,-0.07427070289850235,-0.005223260726779699,0.013863694854080677,-0.06879868358373642,-0.04240211844444275,-0.05048494413495064,0.037163931876420975,0.005947019439190626,0.015526684001088142,-0.026766011491417885,0.028475254774093628,0.042012300342321396,0.05044162645936012,-0.05441635847091675,0.01621975190937519,-0.005166372284293175,-0.08921908587217331,-0.005655234679579735,0.0026793594006448984,-0.02822883613407612,-0.020234812051057816,0.03617778420448303,0.061675410717725754,0.02622651681303978,0.02544044516980648,-0.012586603872478008,-0.00046710908645763993,-0.02006714604794979,0.00330696115270257,-0.01981608383357525,-0.1218256950378418,-0.036253489553928375,0.07519247382879257,-0.06311730295419693,-0.014745301567018032,0.026391198858618736,-0.004867976065725088,0.019197789952158928,-0.0369681790471077,-0.000600219878833741,0.022061005234718323,0.05157908797264099,-0.04092221334576607,0.025254596024751663,-0.011430495418608189,-0.012577942572534084,0.04247625917196274,0.022164495661854744,-0.033949900418519974,0.007948257029056549,-0.042663510888814926,-0.008130469359457493,0.03996064141392708,0.02029663510620594,-0.04020221158862114,0.02975163608789444,0.030746914446353912,-0.06931907683610916,-0.01161637157201767,0.05941109359264374,-0.020961089059710503,-0.02775377221405506,-0.03997525945305824,-0.004801499657332897,0.003964044153690338,0.001069477992132306,0.09408539533615112,-0.027646483853459358,-0.04891787841916084,-0.05433071032166481,-0.025337208062410355,-0.0017011003801599145,-5.1972502748310276e-33,-0.06735266745090485,-0.06806983053684235,-0.02564181014895439,-0.07030140608549118,0.017764152958989143,-0.04756486043334007,0.03340926393866539,-0.03330071270465851,-0.025470959022641182,-0.013009363785386086,-0.004653355572372675,-0.003954362124204636,0.015170203521847725,-0.011229252442717552,-0.014937941916286945,0.02575356513261795,0.009374317713081837,-0.008913871832191944,-0.04141852632164955,0.001590605010278523,-0.03981510549783707,0.019788529723882675,-0.005025534890592098,-0.011538762599229813,-0.02082323655486107,0.017466740682721138,0.06319810450077057,-0.014286581426858902,-0.059080738574266434,0.0383722297847271,-0.01570512354373932,-0.011352612636983395,-0.0013400559546425939,0.011124711483716965,-0.006744151469320059,0.005469786003232002,-0.006256429478526115,0.030999941751360893,-0.00829243939369917,0.013023101724684238,0.0997663289308548,0.03411174938082695,-0.025175418704748154,0.016156954690814018,0.03387260437011719,0.008729508146643639,0.015801068395376205,-0.02501838281750679,-0.04629895091056824,0.016911333426833153,0.05169564113020897,0.012359573505818844,0.02781856805086136,0.02537546679377556,0.06968332082033157,0.007142036221921444,0.04163660854101181,0.052796803414821625,0.007298174314200878,-0.023077363148331642,0.04956325143575668,0.012653607875108719,0.028734760358929634,0.02844895049929619,0.01773158088326454,-0.030168095603585243,0.013353509828448296,0.014032005332410336,-0.015993593260645866,-0.084267258644104,-0.047677621245384216,0.02132653072476387,0.0037358568515628576,-0.055935654789209366,0.017304956912994385,0.04757136479020119,0.004936337471008301,-0.013094413094222546,-0.0889832004904747,0.012527989223599434,-0.011673717759549618,0.009908532723784447,0.036403097212314606,-0.000513910548761487,0.030127810314297676,-0.04634522646665573,-0.0004681734135374427,0.07770716398954391,0.010226850397884846,-0.009074261412024498,-0.05339102819561958,0.06032845377922058,-0.020391831174492836,0.02469847910106182,-0.12455733865499496,-0.02783997543156147,0.05004260689020157,-0.0009507446084171534,-0.008267583325505257,0.0439363457262516,0.06154022365808487,0.012645980343222618,-0.0266181081533432,0.015228250995278358,-0.04912587255239487,0.012795514427125454,0.02604004554450512,-0.031517378985881805,-0.004346620757132769,0.026055598631501198,0.016629930585622787,-0.04102340713143349,-0.00015939614968374372,0.06318562477827072,0.0076937382109463215,-0.00605153851211071,0.02175166644155979,-0.00608739722520113,0.013530329801142216,-0.06433932483196259,-0.011080073192715645,0.024840280413627625,-0.047031328082084656,-0.04446882754564285,0.025333192199468613,0.0004155671049375087,-0.01810469664633274,0.013142083771526814,0.02578292228281498,-0.005583513528108597,-0.013005215674638748,0.03710427135229111,2.1531461413815123e-7,0.032085854560136795,-0.044781643897295,-0.036880478262901306,-0.017414482310414314,0.021057777106761932,-0.0041832271963357925,-0.022411707788705826,0.01062839012593031,0.028607137501239777,-0.10025542974472046,0.0031981864012777805,0.002881671767681837,0.05897146835923195,0.03227771818637848,0.031376589089632034,-0.09671416133642197,0.029615705832839012,0.005142386071383953,-0.03992993012070656,-0.03361678123474121,0.013224512338638306,0.005219303071498871,0.0019751344807446003,0.04000028595328331,0.009938528761267662,0.035777438431978226,0.018192483112215996,-0.010485871694982052,0.08208944648504257,-0.025626083835959435,0.05162770673632622,-0.06714165955781937,-0.029338303953409195,0.015014945529401302,0.004038359969854355,0.002759820781648159,0.007608294486999512,0.0016365210758522153,0.012691441923379898,0.028707509860396385,0.04770546033978462,-0.025725677609443665,-0.018964778631925583,-0.025291791185736656,-0.017213376238942146,-0.058109577745199203,0.015080629847943783,0.06783556193113327,-0.05265557020902634,-0.011689743027091026,-0.006858494598418474,0.007014139089733362,0.005365344695746899,-0.013567028567194939,0.023861858993768692,-0.04249332472681999,0.013272973708808422,0.03717400133609772,-0.015582620166242123,-0.04362089931964874,-0.051761433482170105,-0.06542173773050308,-0.0024378877133131027,-0.022580252960324287,0.07059729844331741,0.03174695000052452,-0.03488156944513321,2.9426992674811573e-34,0.05265932157635689,0.01993422396481037,0.014108738861978054,0.12334857881069183,-0.001427435432560742,-0.025781545788049698,-0.02651325799524784,-0.045777443796396255,0.0012651131255552173,-0.06377459317445755,-0.015313447453081608]'
SET
  @HasCustomProps_edeca048 = 1
SET
  @HasCustomEvents_edeca048 = 1
SET
  @RequiresData_edeca048 = 1
SET
  @DependencyCount_edeca048 = 1
SET
  @FunctionalRequirementsVectorEmbeddingModelID_edeca048 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_edeca048 = 1
SET
  @ID_edeca048 = '3E5B43DE-1F29-4268-8DBB-A5FA0CE56B70'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_edeca048,
  @Name = @Name_edeca048,
  @Version = @Version_edeca048,
  @VersionSequence = @VersionSequence_edeca048,
  @Title = @Title_edeca048,
  @Description = @Description_edeca048,
  @Type = @Type_edeca048,
  @Status = @Status_edeca048,
  @DeveloperName = @DeveloperName_edeca048,
  @DeveloperEmail = @DeveloperEmail_edeca048,
  @DeveloperOrganization = @DeveloperOrganization_edeca048,
  @SourceRegistryID = @SourceRegistryID_edeca048,
  @ReplicatedAt = @ReplicatedAt_edeca048,
  @LastSyncedAt = @LastSyncedAt_edeca048,
  @Specification = @Specification_edeca048,
  @FunctionalRequirements = @FunctionalRequirements_edeca048,
  @TechnicalDesign = @TechnicalDesign_edeca048,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_edeca048,
  @TechnicalDesignVector = @TechnicalDesignVector_edeca048,
  @HasCustomProps = @HasCustomProps_edeca048,
  @HasCustomEvents = @HasCustomEvents_edeca048,
  @RequiresData = @RequiresData_edeca048,
  @DependencyCount = @DependencyCount_edeca048,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_edeca048,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_edeca048,
  @HasRequiredCustomProps = @HasRequiredCustomProps_edeca048,
  @ID = @ID_edeca048;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_d867849a NVARCHAR(MAX),
@Name_d867849a NVARCHAR(500),
@Version_d867849a NVARCHAR(50),
@VersionSequence_d867849a INT,
@Title_d867849a NVARCHAR(1000),
@Description_d867849a NVARCHAR(MAX),
@Type_d867849a NVARCHAR(255),
@Status_d867849a NVARCHAR(50),
@DeveloperName_d867849a NVARCHAR(255),
@DeveloperEmail_d867849a NVARCHAR(255),
@DeveloperOrganization_d867849a NVARCHAR(255),
@SourceRegistryID_d867849a UNIQUEIDENTIFIER,
@ReplicatedAt_d867849a DATETIMEOFFSET,
@LastSyncedAt_d867849a DATETIMEOFFSET,
@Specification_d867849a NVARCHAR(MAX),
@FunctionalRequirements_d867849a NVARCHAR(MAX),
@TechnicalDesign_d867849a NVARCHAR(MAX),
@FunctionalRequirementsVector_d867849a NVARCHAR(MAX),
@TechnicalDesignVector_d867849a NVARCHAR(MAX),
@HasCustomProps_d867849a BIT,
@HasCustomEvents_d867849a BIT,
@RequiresData_d867849a BIT,
@DependencyCount_d867849a INT,
@TechnicalDesignVectorEmbeddingModelID_d867849a NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_d867849a NVARCHAR(MAX),
@HasRequiredCustomProps_d867849a BIT,
@ID_d867849a UNIQUEIDENTIFIER
SET
  @Namespace_d867849a = N'AI'
SET
  @Name_d867849a = N'AIModelDetails'
SET
  @Version_d867849a = N'1.0.0'
SET
  @VersionSequence_d867849a = 1
SET
  @Title_d867849a = N'AI Model Details'
SET
  @Description_d867849a = N'Sliding details panel showing comprehensive model information, vendors, and usage statistics'
SET
  @Type_d867849a = N'Other'
SET
  @Status_d867849a = N'Published'
SET
  @Specification_d867849a = N'{"name":"AIModelDetails","title":"AI Model Details","description":"Sliding details panel showing comprehensive model information, vendors, and usage statistics","type":"detail","functionalRequirements":"Show model specs, vendor associations grouped by type, usage statistics, and open record button","technicalDesign":"## Technical Design\n\n### Component Structure\n- Sliding panel component that displays from the right\n- Shows comprehensive model specifications and vendor information\n- Supports closing via close button or escape key\n\n### Props\n- model: Selected AI model object with full specifications\n- vendors: Array of vendor associations for this model (grouped by type)\n- isOpen: Boolean controlling panel visibility\n- onClose: Callback to close the panel\n- onOpenRecord: Callback to open full model editor\n\n### Layout Sections\n1. **Header**: Model name and close button\n2. **Specifications**: Token limits, context window, rankings\n3. **Vendors**: Grouped by type (Model Developer vs Inference Provider)\n4. **Actions**: Open button to trigger full record view\n\n### Animation\n- Slide in from right with transform transition\n- Backdrop overlay with fade effect\n- Smooth open/close animations","dataRequirements":{"mode":"views","entities":[{"name":"AI Models","description":"Core AI model definitions and specifications","displayFields":["ID","Name","APIName","Description","AIModelTypeID","InputTokenLimit","PowerRank","SpeedRank","CostRank","IsActive","__mj_CreatedAt","__mj_UpdatedAt"],"filterFields":["AIModelTypeID","IsActive"],"sortFields":["Name","InputTokenLimit","CostRank","IsActive","__mj_CreatedAt"],"fieldMetadata":[{"name":"ID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":true,"description":"Unique identifier for the AI model"},{"name":"Name","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"System name of the AI model"},{"name":"APIName","sequence":4,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"API identifier for the model"},{"name":"InputTokenLimit","sequence":5,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Maximum input token limit"},{"name":"CostRank","sequence":6,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Relative cost ranking (1-5)"}],"usageContext":"Main list of AI models"}]},"properties":[{"name":"model","type":"object","required":true,"description":"The selected AI model object"},{"name":"vendors","type":"array","required":true,"description":"Array of vendors associated with the model"},{"name":"promptRuns","type":"array","required":true,"description":"Array of prompt runs for this model"},{"name":"isOpen","type":"boolean","required":true,"description":"Whether the details panel is open"}],"events":[{"name":"onClose","description":"Fired when the details panel should close","parameters":[]},{"name":"onOpenRecord","description":"Fired when the open record button is clicked","parameters":[{"name":"modelName","type":"string","description":"Name of the model to open"}]}],"exampleUsage":"<AIModelDetails ... />","code":"function AIModelDetails({ \n  model, \n  vendors,\n  promptRuns,\n  isOpen, \n  onClose, \n  onOpenRecord,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Handle escape key to close panel\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === ''Escape'' && isOpen) {\n        onClose?.();\n      }\n    };\n    \n    document.addEventListener(''keydown'', handleEscape);\n    return () => document.removeEventListener(''keydown'', handleEscape);\n  }, [isOpen, onClose]);\n  \n  // Load OpenRecordButton component\n  const OpenRecordButton = components[''OpenRecordButton''];\n  \n  // Format token limit\n  const formatTokens = (tokens) => {\n    if (!tokens) return ''-'';\n    if (tokens >= 1000000) return `$' + '{(tokens / 1000000).toFixed(1)}M`;\n    if (tokens >= 1000) return `$' + '{(tokens / 1000).toFixed(0)}K`;\n    return tokens.toString();\n  };\n  \n  // Render status badge\n  const renderStatusBadge = (status) => {\n    const statusColors = {\n      ''Active'': styles.colors.success || styles.colors.primary,\n      ''Inactive'': styles.colors.warning || styles.colors.secondary,\n      ''Deprecated'': styles.colors.error || styles.colors.secondary,\n      ''Preview'': styles.colors.info || styles.colors.primary\n    };\n    \n    const color = statusColors[status] || styles.colors.textSecondary;\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        padding: `$' + '{styles.spacing.xs} $' + '{styles.spacing.sm}`,\n        backgroundColor: color + ''15'',\n        color: color,\n        borderRadius: getBorderRadius(''sm''),\n        fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n        fontWeight: styles.typography.fontWeight?.medium || ''500''\n      }}>\n        {status}\n      </span>\n    );\n  };\n  \n  // Render vendor type icon\n  const renderVendorTypeIcon = (type) => {\n    const icons = {\n      ''Model Developer'': ''🏢'',\n      ''Inference Provider'': ''🚀''\n    };\n    \n    return (\n      <span style={{\n        display: ''inline-block'',\n        marginRight: styles.spacing.xs,\n        fontSize: styles.typography.fontSize.md\n      }}>\n        {icons[type] || ''📦''}\n      </span>\n    );\n  };\n  \n  // Calculate prompt statistics\n  const calculatePromptStats = useCallback(() => {\n    if (!promptRuns || promptRuns.length === 0) {\n      return {\n        totalRuns: 0,\n        successfulRuns: 0,\n        failedRuns: 0,\n        avgExecutionTime: 0,\n        totalTokens: 0,\n        uniquePrompts: 0\n      };\n    }\n    \n    const stats = {\n      totalRuns: promptRuns.length,\n      successfulRuns: promptRuns.filter(r => r.Status === ''Success'' || r.Status === ''Completed'').length,\n      failedRuns: promptRuns.filter(r => r.Status === ''Failed'' || r.Status === ''Error'').length,\n      avgExecutionTime: 0,\n      totalTokens: 0,\n      uniquePrompts: new Set(promptRuns.map(r => r.PromptID)).size\n    };\n    \n    const validTimes = promptRuns\n      .filter(r => r.TotalExecutionTime)\n      .map(r => r.TotalExecutionTime);\n    \n    if (validTimes.length > 0) {\n      stats.avgExecutionTime = validTimes.reduce((a, b) => a + b, 0) / validTimes.length;\n    }\n    \n    stats.totalTokens = promptRuns.reduce((sum, r) => sum + (r.TotalTokens || 0), 0);\n    \n    return stats;\n  }, [promptRuns]);\n  \n  const stats = calculatePromptStats();\n  \n  // Group vendors by type\n  const vendorsByType = useMemo(() => {\n    const grouped = {\n      ''Model Developer'': [],\n      ''Inference Provider'': []\n    };\n    \n    vendors.forEach(v => {\n      if (grouped[v.Type]) {\n        grouped[v.Type].push(v);\n      }\n    });\n    \n    return grouped;\n  }, [vendors]);\n  \n  return (\n    <>\n      {/* Backdrop */}\n      {isOpen && (\n        <div\n          onClick={onClose}\n          style={{\n            position: ''fixed'',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: ''rgba(0, 0, 0, 0.3)'',\n            zIndex: 99999,\n            opacity: isOpen ? 1 : 0,\n            transition: ''opacity 0.3s'',\n            pointerEvents: isOpen ? ''auto'' : ''none''\n          }}\n        />\n      )}\n      \n      {/* Panel */}\n      <div style={{\n        position: ''fixed'',\n        top: ''75px'',\n        right: 0,\n        bottom: 0,\n        width: ''520px'',\n        backgroundColor: styles.colors.background,\n        boxShadow: isOpen ? `-4px 0 24px $' + '{styles.colors.shadow || ''rgba(0, 0, 0, 0.1)''}` : ''none'',\n        transform: isOpen ? ''translateX(0)'' : ''translateX(100%)'',\n        transition: ''transform 0.3s ease-out'',\n        zIndex: 100000,\n        display: ''flex'',\n        flexDirection: ''column'',\n        overflow: ''hidden''\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: styles.spacing.lg,\n          borderBottom: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.surface\n        }}>\n          <div style={{\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''flex-start''\n          }}>\n            <div style={{ flex: 1 }}>\n              <h2 style={{\n                margin: 0,\n                fontSize: styles.typography.fontSize.xl,\n                fontWeight: styles.typography.fontWeight?.bold || ''700'',\n                color: styles.colors.text,\n                marginBottom: styles.spacing.xs\n              }}>\n                {model?.Name || ''No Model Selected''}\n              </h2>\n              {model?.APIName && (\n                <div style={{\n                  fontSize: styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  fontFamily: ''monospace''\n                }}>\n                  {model.APIName}\n                </div>\n              )}\n              {model?.IsActive !== undefined && (\n                <div style={{ marginTop: styles.spacing.sm }}>\n                  {renderStatusBadge(model.IsActive ? ''Active'' : ''Inactive'')}\n                </div>\n              )}\n            </div>\n            <button\n              onClick={onClose}\n              style={{\n                width: ''32px'',\n                height: ''32px'',\n                borderRadius: getBorderRadius(''sm''),\n                border: ''none'',\n                backgroundColor: ''transparent'',\n                color: styles.colors.textSecondary,\n                fontSize: styles.typography.fontSize.lg,\n                cursor: ''pointer'',\n                display: ''flex'',\n                alignItems: ''center'',\n                justifyContent: ''center'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = ''transparent'';\n              }}\n            >\n              ✕\n            </button>\n          </div>\n        </div>\n        \n        {/* Content */}\n        <div style={{\n          flex: 1,\n          overflow: ''auto'',\n          padding: styles.spacing.lg\n        }}>\n          {model ? (\n            <>\n              {/* Model Description */}\n              {model.Description && (\n                <div style={{\n                  marginBottom: styles.spacing.xl,\n                  padding: styles.spacing.md,\n                  backgroundColor: styles.colors.surface,\n                  borderRadius: getBorderRadius(''md''),\n                  borderLeft: `3px solid $' + '{styles.colors.primary}`\n                }}>\n                  <div style={{\n                    fontSize: styles.typography.fontSize.md,\n                    color: styles.colors.textSecondary,\n                    lineHeight: 1.6\n                  }}>\n                    {model.Description}\n                  </div>\n                </div>\n              )}\n              \n              {/* Model Specifications */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Specifications\n                </h3>\n                <div style={{\n                  display: ''grid'',\n                  gridTemplateColumns: ''repeat(2, 1fr)'',\n                  gap: styles.spacing.md\n                }}>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Input Token Limit\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(model.InputTokenLimit)}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Cost Rank\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.warning || styles.colors.secondary\n                    }}>\n                      {''$''.repeat(Math.min(model.CostRank || 0, 5))}\n                      <span style={{ opacity: 0.3 }}>\n                        {''$''.repeat(Math.max(0, 5 - (model.CostRank || 0)))}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Vendors Section */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Vendors ({vendors.length})\n                </h3>\n                \n                {/* Model Developer */}\n                {vendorsByType[''Model Developer''].length > 0 && (\n                  <div style={{ marginBottom: styles.spacing.md }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.sm\n                    }}>\n                      {renderVendorTypeIcon(''Model Developer'')}\n                      Model Developer\n                    </div>\n                    {vendorsByType[''Model Developer''].map((vendor, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          marginBottom: styles.spacing.sm,\n                          display: ''flex'',\n                          justifyContent: ''space-between'',\n                          alignItems: ''center''\n                        }}\n                      >\n                        <div>\n                          <div style={{\n                            fontSize: styles.typography.fontSize.md,\n                            fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                            color: styles.colors.text\n                          }}>\n                            {vendor.Vendor}\n                          </div>\n                          {vendor.APIName && (\n                            <div style={{\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                              color: styles.colors.textSecondary,\n                              fontFamily: ''monospace''\n                            }}>\n                              API: {vendor.APIName}\n                            </div>\n                          )}\n                        </div>\n                        {renderStatusBadge(vendor.Status)}\n                      </div>\n                    ))}\n                  </div>\n                )}\n                \n                {/* Inference Providers */}\n                {vendorsByType[''Inference Provider''].length > 0 && (\n                  <div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.sm\n                    }}>\n                      {renderVendorTypeIcon(''Inference Provider'')}\n                      Inference Providers\n                    </div>\n                    {vendorsByType[''Inference Provider''].map((vendor, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: styles.spacing.md,\n                          backgroundColor: styles.colors.surface,\n                          borderRadius: getBorderRadius(''sm''),\n                          marginBottom: styles.spacing.sm\n                        }}\n                      >\n                        <div style={{\n                          display: ''flex'',\n                          justifyContent: ''space-between'',\n                          alignItems: ''flex-start'',\n                          marginBottom: styles.spacing.sm\n                        }}>\n                          <div>\n                            <div style={{\n                              fontSize: styles.typography.fontSize.md,\n                              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                              color: styles.colors.text\n                            }}>\n                              {vendor.Vendor}\n                            </div>\n                            {vendor.APIName && (\n                              <div style={{\n                                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                                color: styles.colors.textSecondary,\n                                fontFamily: ''monospace''\n                              }}>\n                                API: {vendor.APIName}\n                              </div>\n                            )}\n                          </div>\n                          <div style={{\n                            display: ''flex'',\n                            gap: styles.spacing.xs,\n                            alignItems: ''center''\n                          }}>\n                            {vendor.Priority && (\n                              <span style={{\n                                padding: `2px $' + '{styles.spacing.xs}`,\n                                backgroundColor: styles.colors.info + ''15'',\n                                color: styles.colors.info || styles.colors.primary,\n                                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                              }}>\n                                Priority: {vendor.Priority}\n                              </span>\n                            )}\n                            {renderStatusBadge(vendor.Status)}\n                          </div>\n                        </div>\n                        \n                        {/* Vendor Capabilities */}\n                        <div style={{\n                          display: ''flex'',\n                          gap: styles.spacing.xs,\n                          flexWrap: ''wrap''\n                        }}>\n                          {vendor.SupportsStreaming && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.success + ''15'',\n                              color: styles.colors.success || styles.colors.primary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              ✓ Streaming\n                            </span>\n                          )}\n                          {vendor.SupportsEffortLevel && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.success + ''15'',\n                              color: styles.colors.success || styles.colors.primary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              ✓ Effort Level\n                            </span>\n                          )}\n                          {vendor.MaxInputTokens && (\n                            <span style={{\n                              padding: `2px $' + '{styles.spacing.xs}`,\n                              backgroundColor: styles.colors.background,\n                              color: styles.colors.textSecondary,\n                              borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm\n                            }}>\n                              Max: {formatTokens(vendor.MaxInputTokens)}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n              \n              {/* Usage Statistics */}\n              <div style={{ marginBottom: styles.spacing.xl }}>\n                <h3 style={{\n                  margin: 0,\n                  marginBottom: styles.spacing.md,\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  Usage Statistics\n                </h3>\n                <div style={{\n                  display: ''grid'',\n                  gridTemplateColumns: ''repeat(2, 1fr)'',\n                  gap: styles.spacing.md\n                }}>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Total Runs\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {stats.totalRuns.toLocaleString()}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Success Rate\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: stats.totalRuns > 0 \n                        ? (stats.successfulRuns / stats.totalRuns >= 0.9 ? styles.colors.success : styles.colors.warning)\n                        : styles.colors.text\n                    }}>\n                      {stats.totalRuns > 0 \n                        ? `$' + '{((stats.successfulRuns / stats.totalRuns) * 100).toFixed(1)}%`\n                        : ''-''}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Unique Prompts\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {stats.uniquePrompts}\n                    </div>\n                  </div>\n                  <div style={{\n                    padding: styles.spacing.md,\n                    backgroundColor: styles.colors.surface,\n                    borderRadius: getBorderRadius(''sm'')\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                      color: styles.colors.textSecondary,\n                      marginBottom: styles.spacing.xs\n                    }}>\n                      Total Tokens\n                    </div>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.lg,\n                      fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                      color: styles.colors.text\n                    }}>\n                      {formatTokens(stats.totalTokens)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          ) : (\n            <div style={{\n              display: ''flex'',\n              flexDirection: ''column'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              height: ''100%'',\n              color: styles.colors.textSecondary\n            }}>\n              <div style={{\n                fontSize: styles.typography.fontSize.lg,\n                marginBottom: styles.spacing.md\n              }}>\n                No Model Selected\n              </div>\n              <div style={{\n                fontSize: styles.typography.fontSize.md\n              }}>\n                Select a model from the list to view its details\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Footer with Open Record Button */}\n        {model && OpenRecordButton && (\n          <div style={{\n            padding: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.border}`,\n            backgroundColor: styles.colors.surface\n          }}>\n            <OpenRecordButton\n              entityName=\"AI Models\"\n              record={model}\n              buttonText=\"Open Model Record\"\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings}\n              onSaveUserSettings={onSaveUserSettings}\n              buttonStyle={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.primary,\n                color: ''white'',\n                border: ''none'',\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n            />\n          </div>\n        )}\n      </div>\n    </>\n  );\n}","dependencies":[{"name":"OpenRecordButton","location":"registry","namespace":"Generic/Navigation","version":"^1.0.0"}],"libraries":[]}'
SET
  @FunctionalRequirements_d867849a = N'Show model specs, vendor associations grouped by type, usage statistics, and open record button'
SET
  @TechnicalDesign_d867849a = N'## Technical Design

### Component Structure
- Sliding panel component that displays from the right
- Shows comprehensive model specifications and vendor information
- Supports closing via close button or escape key

### Props
- model: Selected AI model object with full specifications
- vendors: Array of vendor associations for this model (grouped by type)
- isOpen: Boolean controlling panel visibility
- onClose: Callback to close the panel
- onOpenRecord: Callback to open full model editor

### Layout Sections
1. **Header**: Model name and close button
2. **Specifications**: Token limits, context window, rankings
3. **Vendors**: Grouped by type (Model Developer vs Inference Provider)
4. **Actions**: Open button to trigger full record view

### Animation
- Slide in from right with transform transition
- Backdrop overlay with fade effect
- Smooth open/close animations'
SET
  @FunctionalRequirementsVector_d867849a = N'[-0.056755490601062775,0.08868589997291565,-0.009973113425076008,0.01854253001511097,0.03804602846503258,0.003977080341428518,0.07583199441432953,0.010749482549726963,-0.004247814416885376,-0.08052728325128555,-0.05620964989066124,-0.011022905819118023,0.012023265473544598,0.0892704501748085,0.03081449307501316,-0.0597689189016819,0.019616544246673584,0.00995687860995531,-0.005381172522902489,0.03673244267702103,0.01124795712530613,-0.019122201949357986,0.004794182721525431,0.007718497421592474,-0.013429327867925167,-0.023335622623562813,0.003430621698498726,-0.013009943999350071,0.015162286348640919,-0.05210903659462929,-0.00006045775080565363,0.05455945432186127,-0.029230298474431038,0.005358006805181503,0.000001418052988810814,-0.014770641922950745,-0.06863407790660858,0.059325192123651505,-0.017459355294704437,0.09739595651626587,0.041121307760477066,0.06381184607744217,0.04512101784348488,0.020305335521697998,-0.0051225717179477215,-0.0731533095240593,-0.04111365228891373,-0.006917479448020458,-0.04686707630753517,-0.030775710940361023,0.02629789710044861,0.019035186618566513,-0.026696283370256424,-0.04930393770337105,0.013775422237813473,0.03143678978085518,-0.04542149603366852,-0.022482765838503838,0.03517808020114899,-0.0004382114566396922,-0.02478097938001156,0.0027038336265832186,0.010137180797755718,0.020206285640597343,0.07422336935997009,0.040524229407310486,0.015425172634422779,0.016808366402983665,0.0290019940584898,0.06301282346248627,0.10104585438966751,0.03076448105275631,-0.0021072428207844496,-0.021871857345104218,-0.025520864874124527,-0.03968382999300957,-0.004231042228639126,-0.0057678548619151115,0.005548411048948765,0.0000445793048129417,0.0024571209214627743,0.004921405576169491,-0.03791937232017517,-0.005193009506911039,-0.06575413048267365,-0.04573257267475128,-0.005309474654495716,0.01181146502494812,-0.018013689666986465,-0.06660360097885132,0.01258888654410839,-0.0038345609791576862,-0.04413583502173424,-0.01944616809487343,-0.07023393362760544,0.0007394563290290534,0.05229432135820389,-0.0048079234547913074,0.06171407178044319,0.022601677104830742,0.012324768118560314,0.03475465998053551,-0.0382843017578125,0.011815047822892666,0.03570593520998955,0.03133711963891983,-0.01866058073937893,-0.007779261562973261,0.02457938715815544,0.04811824485659599,0.013904746621847153,0.027219630777835846,0.020390015095472336,0.003214431693777442,-0.05023167282342911,0.033528078347444534,-0.008969338610768318,-0.007025605067610741,-0.01754836179316044,-0.009444723837077618,0.0525512620806694,0.002949031535536051,-0.012367979623377323,-0.019292626529932022,0.0060396152548491955,-0.021107709035277367,-0.0035064523108303547,-0.016741232946515083,-0.020909816026687622,-0.017162881791591644,-0.026011401787400246,-0.03688029944896698,0.0035075549967586994,-0.004679905250668526,-0.006654829252511263,0.00940192211419344,0.020739486441016197,0.006309282034635544,-0.023348934948444366,-0.036249980330467224,0.03693009167909622,-0.026791544631123543,-0.04033620283007622,0.04195578768849373,0.038684308528900146,-0.013129361905157566,0.0011033647460862994,-0.021852420642971992,-0.014778087846934795,-0.027446281164884567,0.0033574362751096487,-0.007235594093799591,-0.02103469707071781,0.000566353730391711,-0.007474967278540134,-0.027982255443930626,-0.011804347857832909,-0.04015587270259857,0.008459235541522503,0.008818477392196655,-0.020890092477202415,0.014784037135541439,0.06805846095085144,-0.007535150740295649,-0.010124927386641502,0.006409155670553446,-0.07696758210659027,0.010496006347239017,-0.022081919014453888,-0.054534509778022766,-0.039574164897203445,-0.022939365357160568,-0.0029650735668838024,0.002682595979422331,-0.011257067322731018,-0.019881708547472954,0.06895485520362854,0.0033710303250700235,-0.019315341487526894,0.008330273441970348,0.07710698246955872,-0.07658614963293076,0.004504322074353695,-0.00569016532972455,0.0006740046082995832,0.016350477933883667,-0.026976145803928375,0.0720570981502533,-0.007834474556148052,-0.009446169249713421,-0.02249358594417572,0.009188195690512657,-0.018523747101426125,0.011228878051042557,0.01976027712225914,0.028361644595861435,0.011819303035736084,-0.030466211959719658,0.06111776456236839,0.04030527547001839,-0.049791835248470306,-0.030801882967352867,0.06139064207673073,0.002276384038850665,0.025286855176091194,-0.01565977931022644,-0.025413503870368004,-0.02139337733387947,-0.04707246273756027,0.02555527165532112,0.049357932060956955,-0.020010029897093773,0.006573912221938372,0.029871772974729538,-0.031138597056269646,0.008510229177772999,0.02072525955736637,0.0384565144777298,-0.07514192909002304,-0.0260865930467844,0.015168569050729275,-0.09006524085998535,0.006708890665322542,0.0002715312584768981,0.05690152943134308,0.033683497458696365,0.058883171528577805,-0.001164463348686695,0.021083131432533264,0.014338322915136814,-0.011359969154000282,0.030895842239260674,0.026098813861608505,0.021401960402727127,0.039208296686410904,0.007891974411904812,0.03968602791428566,0.040935713797807693,-0.05282394587993622,0.030233297497034073,0.015357187949120998,-0.10089515894651413,-0.017923276871442795,-0.008347887545824051,-0.034296706318855286,-0.013779290951788425,0.058859799057245255,0.01044522412121296,0.024656759575009346,-0.0056435721926391125,0.0036272848956286907,0.011874663643538952,0.09758684039115906,0.018220461905002594,-0.04312920197844505,0.05512014403939247,-0.054081130772829056,-0.0071706692688167095,-0.03375830128788948,0.052128326147794724,0.010009306482970715,-0.017475705593824387,0.005498948507010937,0.0020287514198571444,-0.019146014004945755,-0.009764976799488068,0.027222340926527977,-0.11724234372377396,0.020152537152171135,0.014192835427820683,0.0038438423071056604,-0.00015943575999699533,0.02815060503780842,-0.03998353332281113,0.010355045087635517,0.03342830017209053,-0.032738834619522095,-0.007443611044436693,0.027575412765145302,-0.02242322266101837,0.0072166407480835915,-0.035705436021089554,-0.01815057173371315,0.04033809155225754,-0.03833736851811409,0.008764664642512798,0.011162882670760155,-0.014703837223351002,0.023658370599150658,-0.022575879469513893,0.015980303287506104,-0.027659591287374496,0.004405444487929344,0.011577820405364037,0.0002568583295214921,0.039536286145448685,0.015122768469154835,0.0944683775305748,0.0006590603734366596,0.12235405296087265,0.013354343362152576,0.056607432663440704,-0.030588282272219658,0.026805629953742027,-0.0026446899864822626,0.04534430801868439,0.03853790834546089,-0.0047634015791118145,0.016034550964832306,0.03551638126373291,0.022656230255961418,0.023335963487625122,0.051239755004644394,-0.0440768338739872,0.022796913981437683,-0.01155204139649868,0.011928766034543514,-0.009872718714177608,0.02738414704799652,0.05510295182466507,0.007721433416008949,-0.009612854570150375,-0.04543670639395714,0.01750926859676838,0.006592580582946539,0.014919792301952839,0.011543144471943378,-0.020449476316571236,-0.006349353585392237,0.025467973202466965,0.036884695291519165,-0.016540076583623886,-0.0004981594393029809,0.003032815409824252,-0.01772509701550007,0.005275762639939785,-0.03165610507130623,0.041912056505680084,-0.002707224804908037,-0.01911158487200737,0.020393675193190575,-0.001573146553710103,-0.021677667275071144,-0.033421698957681656,0.04176986217498779,-0.02431849204003811,-0.0181764867156744,-0.0160903949290514,-0.06982778757810593,-0.004612648859620094,0.04482453688979149,0.029687009751796722,0.0076003666035830975,-0.02690453641116619,0.018548915162682533,0.02361791953444481,0.011605488136410713,-0.0750032365322113,-0.004953608848154545,-0.05511568486690521,-0.005132094491273165,0.024589214473962784,0.03910483047366142,0.07989347726106644,-0.03733242675662041,-0.03335069864988327,-0.06450205296278,0.016534700989723206,0.010050502605736256,-0.017529752105474472,-0.03939446434378624,0.034472350031137466,0.06628914177417755,0.042664457112550735,0.000918016245122999,-0.05790677294135094,-0.0007114912732504308,0.08731995522975922,0.0395842008292675,0.0016615013591945171,0.04735628142952919,0.014803681522607803,0.07618215680122375,-0.04442039877176285,0.040650948882102966,-0.0013756412081420422,0.027972305193543434,-0.008230762556195259,0.046733491122722626,-0.035754673182964325,0.011977274902164936,-0.04380431026220322,0.02691914699971676,-0.02888326533138752,0.0075924936681985855,-0.06497428566217422,-0.032591547816991806,-0.009549640119075775,-0.006398926954716444,-0.009760246612131596,0.015541045926511288,0.03361191228032112,-0.024230947718024254,-0.006263392977416515,0.035764195024967194,0.022548429667949677,-0.008002927526831627,0.025684280321002007,0.018015634268522263,0.00671723997220397,-0.005878820549696684,0.04983753338456154,-0.013107173144817352,-0.0050543686375021935,0.047006625682115555,-0.02991991676390171,0.03904062509536743,0.003951618913561106,0.004210613202303648,0.043962880969047546,0.030609888955950737,-0.029768580570816994,0.022786349058151245,0.00814040470868349,0.027789406478405,-0.07714543491601944,-0.05535276234149933,-0.03206523135304451,-0.03242587298154831,0.006439141929149628,0.03154239431023598,0.06811007112264633,-0.014965257607400417,-0.022821743041276932,0.06934118270874023,0.0416533388197422,0.006890696007758379,-0.07885415852069855,-0.03643287718296051,0.050156671553850174,-0.002503547817468643,0.037207238376140594,0.04052485525608063,-0.03595810756087303,-0.0034367884509265423,0.04349318891763687,0.00262927426956594,-0.01542434561997652,0.06244594603776932,-0.0013173009501770139,-0.0008958354010246694,-0.018643511459231377,-0.0479961559176445,0.047619227319955826,-0.039902087301015854,-0.031352587044239044,-0.04567260295152664,-0.01092915516346693,-0.05852619186043739,-0.015706727281212807,-0.06210046634078026,0.03278309479355812,0.001162989647127688,-0.016497068107128143,0.009439894929528236,-0.03881143406033516,-0.00234628701582551,-0.03726626932621002,0.025656577199697495,-0.056761499494314194,-0.017985690385103226,-0.0442502424120903,-0.008872391656041145,-0.0010578206274658442,-0.0019343494204804301,-0.00942044984549284,-0.059902749955654144,-0.038180477917194366,-0.03495730087161064,-0.015228292904794216,-0.02103566937148571,0.026166308671236038,0.05430849269032478,-0.07788027822971344,-0.039773330092430115,-0.02212030254304409,-0.017660649493336678,0.01654270477592945,0.0023858395870774984,0.03832158073782921,-0.01519545167684555,-0.06563091278076172,-0.035905513912439346,-0.012744216248393059,0.011735508218407631,0.036884330213069916,-0.031127383932471275,0.0002649695670697838,-0.052606359124183655,-0.13504934310913086,0.015331445261836052,-0.028134355321526527,0.004559356719255447,0.006194633431732655,-0.0015302262036129832,0.047860678285360336,0.022412031888961792,0.01469639502465725,-0.03177618980407715,0.031478941440582275,0.0048478757962584496,0.012543600983917713,-0.017169279977679253,-0.04445773363113403,0.01097823679447174,0.035026464611291885,-0.10735511034727097,0.001577791408635676,0.0002662781625986099,0.005238091107457876,0.015159367583692074,0.011904404498636723,0.02086208574473858,-0.023059291765093803,0.06008431315422058,-0.005294981878250837,0.034826040267944336,0.004040404688566923,0.0185098797082901,0.012990385293960571,0.014864436350762844,0.009293635375797749,-0.0026586493477225304,-0.035853419452905655,-0.013721894472837448,0.06012679636478424,0.05307673662900925,-0.039880696684122086,-0.01698588952422142,0.034327637404203415,-0.08118357509374619,0.015536575578153133,0.032897330820560455,-0.04749506339430809,-0.04534229263663292,-0.006082622800022364,-0.03798489272594452,0.029651343822479248,0.004979082848876715,0.006972969975322485,0.0016062904614955187,-0.07705613225698471,-0.06689339876174927,-0.015185571275651455,0.006630270276218653,-5.3510850164712326e-33,-0.005233765579760075,-0.03752637654542923,-0.060743894428014755,-0.11066584289073944,0.01995551772415638,0.010368280112743378,0.045985832810401917,-0.018530450761318207,-0.04815243184566498,-0.019789498299360275,-0.036521416157484055,-0.00587638933211565,-0.005396045278757811,0.0004097794881090522,-0.0023864470422267914,0.03647381439805031,0.00937991589307785,-0.003368005156517029,-0.0053007095120847225,0.033185917884111404,-0.04460657387971878,-0.008849291130900383,0.00005781918662250973,-0.07118359953165054,-0.018664691597223282,0.035327885299921036,0.01934622973203659,0.015856100246310234,-0.028029100969433784,0.04677753522992134,-0.03736511617898941,-0.029974423348903656,-0.004515207372605801,0.06141899898648262,-0.02864912711083889,-0.022729724645614624,0.018887639045715332,0.017499137669801712,0.0028401354793459177,-0.032884955406188965,0.0991591289639473,0.016881383955478668,-0.04411139339208603,0.020119663327932358,0.026385677978396416,-0.07396270334720612,0.016839267686009407,0.020822832360863686,-0.01532069779932499,0.013950763270258904,0.022332653403282166,0.01457125786691904,0.0015450335340574384,0.04901041090488434,-0.033985935151576996,0.01236990187317133,0.016327226534485817,0.009468410164117813,0.012937736697494984,0.0024829155299812555,0.0725603923201561,-0.031013449653983116,0.018188992515206337,0.007511646021157503,0.05521869659423828,-0.03000546246767044,-0.005055020097643137,0.0537954606115818,-0.022820545360445976,-0.09410405904054642,-0.018246110528707504,0.05098075419664383,-0.057685717940330505,-0.07031324505805969,0.019195936620235443,0.014872292056679726,0.05409788712859154,0.010260755196213722,-0.004042021930217743,-0.0006443038582801819,0.008134906180202961,0.016073087230324745,-0.08573516458272934,0.013797956518828869,0.0045806365087628365,0.01636812649667263,-0.019709020853042603,0.015195484273135662,0.02082168310880661,-0.00722573371604085,-0.029401665553450584,-0.034832753241062164,-0.03381207957863808,0.027352239936590195,-0.05150691419839859,0.036370642483234406,0.07556335628032684,0.03216135874390602,-0.02706729806959629,-0.02003888227045536,-0.0038173343054950237,0.028973335400223732,0.029650144279003143,0.06411749869585037,-0.029541263356804848,-0.001153291086666286,0.0010991786839440465,-0.009008304215967655,-0.03230603411793709,0.011473877355456352,-0.005733191501349211,-0.05550587177276611,0.0007864817162044346,-0.030455701053142548,0.012172412127256393,0.039121951907873154,-0.00355585478246212,0.05337153375148773,-0.022336293011903763,-0.01610545441508293,-0.01961825229227543,-0.012225843966007233,-0.03114178031682968,0.010644977912306786,0.05744335800409317,-0.044758379459381104,-0.03507965803146362,-0.06066453456878662,0.09219616651535034,0.03828679397702217,-0.016548002138733864,-0.009015478193759918,2.2420378797960439e-7,0.01436480600386858,-0.03867954760789871,-0.02452298440039158,0.013249711133539677,0.025211315602064133,0.012693030759692192,0.05737605690956116,0.008510801941156387,0.02981150895357132,-0.08747470378875732,0.031734444200992584,0.04731721803545952,0.026793742552399635,0.06433816999197006,0.04496388882398605,-0.055531181395053864,0.06053352728486061,-0.029098721221089363,-0.08862043917179108,-0.006798533257097006,0.03153357282280922,0.013649076223373413,0.007588013540953398,0.021646015346050262,0.01460715290158987,0.003837479976937175,-0.008857057429850101,-0.028002390637993813,-0.02793509140610695,0.03505232185125351,0.06131304055452347,0.00036725011887028813,-0.027462897822260857,0.03644761070609093,0.020211083814501762,0.0033287988044321537,-0.05314486101269722,-0.03835632652044296,0.0010268493788316846,0.009906723164021969,0.0640597864985466,-0.03586906939744949,-0.03903806954622269,0.018238414078950882,0.0060480739921331406,0.0016788281500339508,0.017444327473640442,0.04051227122545242,0.011116528883576393,0.008021576330065727,0.012267817743122578,0.0023380820639431477,0.04594666510820389,-0.019410118460655212,-0.010392269119620323,-0.05395610257983208,-0.022218966856598854,0.02321707084774971,-0.013488157652318478,-0.033655133098363876,-0.020141353830695152,-0.021006537601351738,0.025658564642071724,0.0669090747833252,0.08894321322441101,-0.029102107509970665,-0.059826720505952835,3.130208065181582e-34,0.0016775932163000107,0.008043915033340454,0.02897854521870613,0.09955894947052002,0.06977624446153641,-0.00609467551112175,-0.03270183503627777,-0.017901960760354996,-0.0013376526767387986,-0.10482659190893173,-0.02720801532268524]'
SET
  @HasCustomProps_d867849a = 1
SET
  @HasCustomEvents_d867849a = 1
SET
  @RequiresData_d867849a = 1
SET
  @DependencyCount_d867849a = 1
SET
  @FunctionalRequirementsVectorEmbeddingModelID_d867849a = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_d867849a = 1
SET
  @ID_d867849a = '7B36D078-5B69-47EC-BDFB-D119524116F6'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_d867849a,
  @Name = @Name_d867849a,
  @Version = @Version_d867849a,
  @VersionSequence = @VersionSequence_d867849a,
  @Title = @Title_d867849a,
  @Description = @Description_d867849a,
  @Type = @Type_d867849a,
  @Status = @Status_d867849a,
  @DeveloperName = @DeveloperName_d867849a,
  @DeveloperEmail = @DeveloperEmail_d867849a,
  @DeveloperOrganization = @DeveloperOrganization_d867849a,
  @SourceRegistryID = @SourceRegistryID_d867849a,
  @ReplicatedAt = @ReplicatedAt_d867849a,
  @LastSyncedAt = @LastSyncedAt_d867849a,
  @Specification = @Specification_d867849a,
  @FunctionalRequirements = @FunctionalRequirements_d867849a,
  @TechnicalDesign = @TechnicalDesign_d867849a,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_d867849a,
  @TechnicalDesignVector = @TechnicalDesignVector_d867849a,
  @HasCustomProps = @HasCustomProps_d867849a,
  @HasCustomEvents = @HasCustomEvents_d867849a,
  @RequiresData = @RequiresData_d867849a,
  @DependencyCount = @DependencyCount_d867849a,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_d867849a,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_d867849a,
  @HasRequiredCustomProps = @HasRequiredCustomProps_d867849a,
  @ID = @ID_d867849a;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_2ab36b8a NVARCHAR(MAX),
@Name_2ab36b8a NVARCHAR(500),
@Version_2ab36b8a NVARCHAR(50),
@VersionSequence_2ab36b8a INT,
@Title_2ab36b8a NVARCHAR(1000),
@Description_2ab36b8a NVARCHAR(MAX),
@Type_2ab36b8a NVARCHAR(255),
@Status_2ab36b8a NVARCHAR(50),
@DeveloperName_2ab36b8a NVARCHAR(255),
@DeveloperEmail_2ab36b8a NVARCHAR(255),
@DeveloperOrganization_2ab36b8a NVARCHAR(255),
@SourceRegistryID_2ab36b8a UNIQUEIDENTIFIER,
@ReplicatedAt_2ab36b8a DATETIMEOFFSET,
@LastSyncedAt_2ab36b8a DATETIMEOFFSET,
@Specification_2ab36b8a NVARCHAR(MAX),
@FunctionalRequirements_2ab36b8a NVARCHAR(MAX),
@TechnicalDesign_2ab36b8a NVARCHAR(MAX),
@FunctionalRequirementsVector_2ab36b8a NVARCHAR(MAX),
@TechnicalDesignVector_2ab36b8a NVARCHAR(MAX),
@HasCustomProps_2ab36b8a BIT,
@HasCustomEvents_2ab36b8a BIT,
@RequiresData_2ab36b8a BIT,
@DependencyCount_2ab36b8a INT,
@TechnicalDesignVectorEmbeddingModelID_2ab36b8a NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_2ab36b8a NVARCHAR(MAX),
@HasRequiredCustomProps_2ab36b8a BIT,
@ID_2ab36b8a UNIQUEIDENTIFIER
SET
  @Namespace_2ab36b8a = N'AI'
SET
  @Name_2ab36b8a = N'AIModelFilter'
SET
  @Version_2ab36b8a = N'1.0.0'
SET
  @VersionSequence_2ab36b8a = 1
SET
  @Title_2ab36b8a = N'AI Model Filter'
SET
  @Description_2ab36b8a = N'Collapsible filter panel for filtering models by type, status, developer, and provider'
SET
  @Type_2ab36b8a = N'Other'
SET
  @Status_2ab36b8a = N'Published'
SET
  @Specification_2ab36b8a = N'{"name":"AIModelFilter","title":"AI Model Filter","description":"Collapsible filter panel for filtering models by type, status, developer, and provider","type":"form","functionalRequirements":"Provide filters for model type, status, developer, and provider with active filter indicators","dataRequirements":{"mode":"views","description":"Receives filter options derived from AI model entities","entities":[{"name":"AI Model Types","description":"Model type options for filtering","displayFields":["ID","Name","Description"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Populates model type dropdown filter"},{"name":"AI Vendors","description":"Vendor options for filtering","displayFields":["ID","Name"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Populates vendor dropdown filters"}],"queries":[]},"technicalDesign":"## Technical Design\n\n### Component Structure\n- Collapsible filter panel on the left side\n- Multiple filter controls with clear all functionality\n- Persists filter state via event callbacks\n\n### Props\n- filters: Current filter values object\n- modelTypes: Available model type options for dropdown\n- developers: Available model developer options\n- providers: Available inference provider options\n- isCollapsed: Boolean controlling collapse state\n- onFilterChange: Callback when any filter changes\n- onToggleCollapse: Callback to toggle collapse state\n\n### Filter Controls\n- Model Type dropdown (multi-select)\n- Status dropdown (Active/Inactive)\n- Model Developer dropdown (multi-select)\n- Inference Provider dropdown (multi-select)\n- Clear all filters button\n\n### State Management\n- Active filter count badge\n- Visual indicators for applied filters\n- Collapse/expand animation with icon rotation","properties":[{"name":"filters","type":"{modelType?: string, status?: string, developer?: string, provider?: string}","required":true,"description":"Current filter state object"},{"name":"modelTypes","type":"Array<{ID: string, Name: string, Description?: string}>","required":true,"description":"Array of available model types for filtering"},{"name":"vendors","type":"Array<{ID: string, Name: string, Type?: string}>","required":true,"description":"Array of available vendors for filtering"},{"name":"isCollapsed","type":"boolean","required":true,"description":"Whether the filter panel is collapsed"}],"events":[{"name":"onFilterChange","description":"Fired when filters are changed","parameters":[{"name":"filters","type":"object","description":"New filter state"}]},{"name":"onToggleCollapse","description":"Fired when the collapse state should toggle","parameters":[]}],"exampleUsage":"<AIModelFilter ... />","code":"function AIModelFilter({ \n  filters, \n  onFilterChange, \n  modelTypes,\n  vendors,\n  isCollapsed, \n  onToggleCollapse,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Calculate active filter count\n  const activeFilterCount = Object.values(filters || {}).filter(Boolean).length;\n  \n  // Handle model type filter change\n  const handleModelTypeChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      modelType: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle developer filter change\n  const handleDeveloperChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      developer: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle inference provider filter change\n  const handleProviderChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      provider: e.target.value || undefined\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle status filter change\n  const handleStatusChange = useCallback((e) => {\n    const newFilters = {\n      ...filters,\n      isActive: e.target.value === '''' ? undefined : e.target.value === ''true''\n    };\n    onFilterChange?.(newFilters);\n  }, [filters, onFilterChange]);\n  \n  // Handle clear all filters\n  const handleClearFilters = useCallback(() => {\n    onFilterChange?.({});\n  }, [onFilterChange]);\n  \n  // Handle toggle collapse\n  const handleToggle = useCallback(() => {\n    onToggleCollapse?.();\n  }, [onToggleCollapse]);\n  \n  // Get unique developers and providers\n  const developers = useMemo(() => {\n    // Use all vendors for now since we''ll filter properly in the parent\n    return vendors.map(v => v.Name).filter(Boolean);\n  }, [vendors]);\n  \n  const providers = useMemo(() => {\n    // Use all vendors for now since we''ll filter properly in the parent  \n    return vendors.map(v => v.Name).filter(Boolean);\n  }, [vendors]);\n  \n  return (\n    <div style={{\n      width: isCollapsed ? ''48px'' : ''280px'',\n      minWidth: isCollapsed ? ''48px'' : ''280px'',\n      backgroundColor: styles.colors.surface,\n      borderRight: `1px solid $' + '{styles.colors.border}`,\n      transition: ''width 0.3s ease-out'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      position: ''relative'',\n      overflow: ''hidden''\n    }}>\n      {/* Toggle Button */}\n      <button\n        onClick={handleToggle}\n        style={{\n          position: ''absolute'',\n          top: styles.spacing.md,\n          right: styles.spacing.md,\n          width: ''32px'',\n          height: ''32px'',\n          borderRadius: getBorderRadius(''sm''),\n          border: `1px solid $' + '{styles.colors.border}`,\n          backgroundColor: styles.colors.background,\n          color: styles.colors.text,\n          fontSize: styles.typography.fontSize.md,\n          cursor: ''pointer'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1,\n          transition: ''all 0.2s''\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.backgroundColor = styles.colors.background;\n        }}\n      >\n        {isCollapsed ? ''→'' : ''←''}\n      </button>\n      \n      {/* Filter Icon when collapsed */}\n      {isCollapsed && (\n        <div style={{\n          display: ''flex'',\n          flexDirection: ''column'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          flex: 1,\n          opacity: 1,\n          transition: ''opacity 0.3s''\n        }}>\n          <div style={{\n            fontSize: styles.typography.fontSize.xl,\n            color: styles.colors.textSecondary,\n            marginBottom: styles.spacing.sm\n          }}>\n            🔍\n          </div>\n          {activeFilterCount > 0 && (\n            <div style={{\n              width: ''24px'',\n              height: ''24px'',\n              borderRadius: ''50%'',\n              backgroundColor: styles.colors.primary,\n              color: ''white'',\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              fontSize: styles.typography.fontSize.xs,\n              fontWeight: styles.typography.fontWeight?.bold || ''700''\n            }}>\n              {activeFilterCount}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Filter Content */}\n      <div style={{\n        padding: styles.spacing.lg,\n        opacity: isCollapsed ? 0 : 1,\n        transition: ''opacity 0.3s'',\n        pointerEvents: isCollapsed ? ''none'' : ''auto'',\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column''\n      }}>\n        {/* Header */}\n        <div style={{\n          marginBottom: styles.spacing.xl,\n          paddingRight: ''40px''\n        }}>\n          <h2 style={{\n            margin: 0,\n            fontSize: styles.typography.fontSize.lg,\n            fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n            color: styles.colors.text,\n            marginBottom: styles.spacing.xs\n          }}>\n            Filters\n          </h2>\n          {activeFilterCount > 0 && (\n            <div style={{\n              fontSize: styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary\n            }}>\n              {activeFilterCount} active filter{activeFilterCount !== 1 ? ''s'' : ''''}\n            </div>\n          )}\n        </div>\n        \n        {/* Filter Controls */}\n        <div style={{\n          flex: 1,\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.lg\n        }}>\n          {/* Model Type Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Model Type\n            </label>\n            <select\n              value={filters?.modelType || ''''}\n              onChange={handleModelTypeChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Types</option>\n              {modelTypes.map((type) => (\n                <option key={type.ID} value={type.ID}>\n                  {type.Name}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {/* Status Filter */}\n          <div>\n            <label style={{\n              display: ''block'',\n              marginBottom: styles.spacing.sm,\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              color: styles.colors.textSecondary\n            }}>\n              Status\n            </label>\n            <select\n              value={filters?.isActive === undefined ? '''' : filters.isActive.toString()}\n              onChange={handleStatusChange}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.md,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''sm''),\n                backgroundColor: styles.colors.background,\n                color: styles.colors.text,\n                cursor: ''pointer''\n              }}\n            >\n              <option value=\"\">All Statuses</option>\n              <option value=\"true\">Active</option>\n              <option value=\"false\">Inactive</option>\n            </select>\n          </div>\n          \n          {/* Model Developer Filter */}\n          {developers.length > 0 && (\n            <div>\n              <label style={{\n                display: ''block'',\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Model Developer\n              </label>\n              <select\n                value={filters?.developer || ''''}\n                onChange={handleDeveloperChange}\n                style={{\n                  width: ''100%'',\n                  padding: styles.spacing.sm,\n                  fontSize: styles.typography.fontSize.md,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  backgroundColor: styles.colors.background,\n                  color: styles.colors.text,\n                  cursor: ''pointer''\n                }}\n              >\n                <option value=\"\">All Developers</option>\n                {developers.map((dev) => (\n                  <option key={dev} value={dev}>\n                    {dev}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n          \n          {/* Inference Provider Filter */}\n          {providers.length > 0 && (\n            <div>\n              <label style={{\n                display: ''block'',\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Inference Provider\n              </label>\n              <select\n                value={filters?.provider || ''''}\n                onChange={handleProviderChange}\n                style={{\n                  width: ''100%'',\n                  padding: styles.spacing.sm,\n                  fontSize: styles.typography.fontSize.md,\n                  border: `1px solid $' + '{styles.colors.border}`,\n                  borderRadius: getBorderRadius(''sm''),\n                  backgroundColor: styles.colors.background,\n                  color: styles.colors.text,\n                  cursor: ''pointer''\n                }}\n              >\n                <option value=\"\">All Providers</option>\n                {providers.map((provider) => (\n                  <option key={provider} value={provider}>\n                    {provider}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n          \n          {/* Active Filters Display */}\n          {activeFilterCount > 0 && (\n            <div>\n              <div style={{\n                marginBottom: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                color: styles.colors.textSecondary\n              }}>\n                Active Filters\n              </div>\n              <div style={{\n                display: ''flex'',\n                flexDirection: ''column'',\n                gap: styles.spacing.xs\n              }}>\n                {filters?.modelType && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Type:\n                      </span>\n                      <strong>{modelTypes.find(t => t.ID === filters.modelType)?.Name || filters.modelType}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleModelTypeChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      ✕\n                    </button>\n                  </div>\n                )}\n                {filters?.isActive !== undefined && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Status:\n                      </span>\n                      <strong>{filters.isActive ? ''Active'' : ''Inactive''}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleStatusChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      ✕\n                    </button>\n                  </div>\n                )}\n                {filters?.developer && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Developer:\n                      </span>\n                      <strong>{filters.developer}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleDeveloperChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      ✕\n                    </button>\n                  </div>\n                )}\n                {filters?.provider && (\n                  <div style={{\n                    padding: styles.spacing.sm,\n                    backgroundColor: styles.colors.primary + ''15'',\n                    borderRadius: getBorderRadius(''sm''),\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div style={{\n                      fontSize: styles.typography.fontSize.sm,\n                      color: styles.colors.text\n                    }}>\n                      <span style={{\n                        color: styles.colors.textSecondary,\n                        marginRight: styles.spacing.xs\n                      }}>\n                        Provider:\n                      </span>\n                      <strong>{filters.provider}</strong>\n                    </div>\n                    <button\n                      onClick={() => handleProviderChange({ target: { value: '''' } })}\n                      style={{\n                        width: ''20px'',\n                        height: ''20px'',\n                        borderRadius: ''50%'',\n                        border: ''none'',\n                        backgroundColor: ''transparent'',\n                        color: styles.colors.textSecondary,\n                        fontSize: styles.typography.fontSize.sm,\n                        cursor: ''pointer'',\n                        display: ''flex'',\n                        alignItems: ''center'',\n                        justifyContent: ''center'',\n                        padding: 0\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = styles.colors.surfaceHover || styles.colors.surface;\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = ''transparent'';\n                      }}\n                    >\n                      ✕\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Clear All Button */}\n        {activeFilterCount > 0 && (\n          <div style={{\n            marginTop: styles.spacing.xl,\n            paddingTop: styles.spacing.lg,\n            borderTop: `1px solid $' + '{styles.colors.borderLight || styles.colors.border}`\n          }}>\n            <button\n              onClick={handleClearFilters}\n              style={{\n                width: ''100%'',\n                padding: styles.spacing.md,\n                backgroundColor: styles.colors.surface,\n                color: styles.colors.text,\n                border: `1px solid $' + '{styles.colors.border}`,\n                borderRadius: getBorderRadius(''md''),\n                fontSize: styles.typography.fontSize.md,\n                fontWeight: styles.typography.fontWeight?.medium || ''500'',\n                cursor: ''pointer'',\n                transition: ''background-color 0.2s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.error + ''15'';\n                e.currentTarget.style.color = styles.colors.error;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = styles.colors.surface;\n                e.currentTarget.style.color = styles.colors.text;\n              }}\n            >\n              Clear All Filters\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","dependencies":[],"libraries":[]}'
SET
  @FunctionalRequirements_2ab36b8a = N'Provide filters for model type, status, developer, and provider with active filter indicators'
SET
  @TechnicalDesign_2ab36b8a = N'## Technical Design

### Component Structure
- Collapsible filter panel on the left side
- Multiple filter controls with clear all functionality
- Persists filter state via event callbacks

### Props
- filters: Current filter values object
- modelTypes: Available model type options for dropdown
- developers: Available model developer options
- providers: Available inference provider options
- isCollapsed: Boolean controlling collapse state
- onFilterChange: Callback when any filter changes
- onToggleCollapse: Callback to toggle collapse state

### Filter Controls
- Model Type dropdown (multi-select)
- Status dropdown (Active/Inactive)
- Model Developer dropdown (multi-select)
- Inference Provider dropdown (multi-select)
- Clear all filters button

### State Management
- Active filter count badge
- Visual indicators for applied filters
- Collapse/expand animation with icon rotation'
SET
  @FunctionalRequirementsVector_2ab36b8a = N'[-0.04799670726060867,0.09996108710765839,-0.03684770688414574,-0.04227365180850029,0.032397348433732986,-0.049987901002168655,0.008518588729202747,0.04885478317737579,-0.011669870465993881,-0.06251391023397446,0.03376098349690437,0.027255041524767876,-0.04933059215545654,0.13779431581497192,-0.025186559185385704,0.010906469076871872,0.02441941760480404,0.019751334562897682,0.044396720826625824,0.00016665461589582264,-0.017435526475310326,0.02468448132276535,0.037212103605270386,0.02026313915848732,0.022713027894496918,-0.014221754856407642,0.04679882898926735,0.030689693987369537,0.00344363646581769,-0.033912599086761475,-0.0011423976393416524,0.01885511726140976,-0.038627542555332184,-0.027348143979907036,0.000001345218606729759,0.015067647211253643,-0.07989005744457245,-0.002062635961920023,-0.009888816624879837,-0.0007040551863610744,-0.01057771872729063,-0.0016078988555818796,0.04321678727865219,0.01243514847010374,-0.06044456735253334,-0.03590238839387894,-0.06109130382537842,0.025771543383598328,0.023030094802379608,-0.005045497789978981,-0.003198410850018263,0.08250503242015839,-0.03756515681743622,-0.022831693291664124,-0.11367490142583847,0.029094461351633072,0.01202431134879589,-0.058056898415088654,0.04496004432439804,0.038910627365112305,0.014062250033020973,0.028160301968455315,0.016858620569109917,0.012291918508708477,0.03133402019739151,-0.017551856115460396,0.10155541449785233,-0.03643370419740677,0.036303214728832245,-0.03535733371973038,0.014980923384428024,0.007617483381181955,-0.029540710151195526,-0.035883914679288864,-0.044086892157793045,0.023084070533514023,0.015192649327218533,-0.003338332287967205,-0.03974355384707451,0.049830950796604156,0.022384293377399445,-0.0010470161214470863,-0.006464460864663124,0.011416682042181492,-0.055462803691625595,0.04873277246952057,0.021188773214817047,-0.021743182092905045,-0.03761660307645798,-0.013338831253349781,0.010495665483176708,-0.04804818704724312,0.04944551736116409,-0.042100176215171814,-0.058865129947662354,-0.034832168370485306,-0.0034585229586809874,0.06746860593557358,0.019389260560274124,0.027922283858060837,-0.07722890377044678,0.033363088965415955,-0.014130890369415283,0.013431936502456665,0.004145266488194466,-0.04037533327937126,0.027999654412269592,0.007794773206114769,-0.00376032292842865,0.016085268929600716,-0.008378562517464161,0.026208357885479927,0.005694240797311068,0.0591450072824955,-0.03818890079855919,0.006866967771202326,-0.040623486042022705,0.0075135123915970325,-0.047787345945835114,-0.015187269076704979,0.048573385924100876,0.020930176600813866,0.010963790118694305,0.009846457280218601,0.03731551021337509,0.004088519606739283,-0.0189692210406065,-0.022137098014354706,-0.0455913245677948,-0.004510451573878527,-0.017816735431551933,-0.060052577406167984,0.032320957630872726,-0.023719487711787224,0.02621431276202202,-0.03960743173956871,0.04375221207737923,-0.03269227594137192,-0.0070115383714437485,-0.040935348719358444,0.07848651707172394,0.03174977749586105,-0.034335825592279434,0.0742129534482956,-0.05566598102450371,-0.014589805155992508,0.015297706238925457,-0.12307093292474747,-0.03916458413004875,0.006063217297196388,0.004112382419407368,-0.020164383575320244,-0.0014689997769892216,0.02232661098241806,-0.008722946979105473,0.003971586469560862,0.014174893498420715,0.03490181639790535,0.011819474399089813,-0.05070868879556656,-0.0015002223663032055,-0.01756579428911209,0.013838311657309532,0.021980909630656242,-0.005356670822948217,0.015806585550308228,-0.07300880551338196,-0.037369195371866226,-0.049420733004808426,-0.07443205267190933,-0.03480922430753708,-0.020881708711385727,0.00117302977014333,0.0344514325261116,0.04038713499903679,-0.03992793336510658,0.1072283685207367,0.014993096701800823,0.014329041354358196,-0.0269773006439209,0.012512153014540672,-0.025862695649266243,0.03596309944987297,-0.0328824557363987,-0.010672575794160366,-0.04382581263780594,-0.07161787152290344,0.0965709313750267,-0.01945788413286209,-0.03180026635527611,-0.0005020665703341365,0.051756758242845535,0.0202160831540823,0.0522400327026844,0.044102743268013,0.026210160925984383,-0.023578902706503868,-0.03687448799610138,0.012339703738689423,-0.004132312722504139,-0.01602860353887081,-0.07401660829782486,0.08070501685142517,-0.0043920790776610374,0.04406345263123512,-0.048040200024843216,-0.05468219518661499,0.01384646538645029,-0.001448489143513143,-0.02058389224112034,-0.0006847830954939127,-0.005777176469564438,-0.0018864837475121021,0.009867499582469463,-0.01708814688026905,0.06052957475185394,0.03593854606151581,-0.011754604056477547,-0.028795888647437096,0.0072416942566633224,-0.04514568671584129,0.014594913460314274,-0.05202675238251686,0.02014138363301754,0.08507659286260605,0.02519930712878704,0.055704474449157715,-0.0028263400308787823,0.04596053808927536,0.0018184995278716087,0.0021405541338026524,0.011998183093965054,0.0025197959039360285,-0.027493776753544807,0.02642315998673439,-0.02531944401562214,0.05676811933517456,0.1285162717103958,-0.032864999026060104,0.05506592243909836,0.03252644091844559,0.004792503546923399,0.0178353451192379,0.011183449998497963,-0.04523720592260361,0.017573552206158638,-0.0017844358226284385,0.03426286205649376,0.007415822707116604,0.028987403959035873,0.07068619132041931,0.01695142686367035,0.020147139206528664,-0.020922400057315826,-0.021177606657147408,-0.006126823835074902,-0.040349218994379044,-0.02795502357184887,0.0032558634411543608,0.04352417588233948,0.024145372211933136,-0.02513214945793152,-0.01999279484152794,0.0020471273455768824,0.04803632199764252,0.04670969769358635,0.02489057369530201,-0.02444605715572834,-0.0031586922705173492,0.013205691240727901,-0.02612260915338993,0.011306526139378548,0.025238879024982452,-0.001465669716708362,0.043102674186229706,0.037847984582185745,-0.02243354357779026,0.039779022336006165,0.010008739307522774,-0.055985674262046814,-0.03967718034982681,-0.05657957121729851,-0.006433888338506222,0.006535687018185854,-0.05214320868253708,0.03211066126823425,0.005890563130378723,-0.06930471956729889,0.03386187180876732,-0.020445412024855614,-0.005445667542517185,0.024639137089252472,0.014715162105858326,-0.010575859807431698,0.01014040969312191,0.007318501360714436,-0.04950205609202385,0.11584024876356125,-0.004888264928013086,0.09580108523368835,-0.009477806277573109,0.010801617056131363,-0.020243927836418152,0.006028355099260807,-0.003886758117005229,0.043580055236816406,0.020100370049476624,-0.013345221057534218,0.03998786583542824,0.036694008857011795,-0.059167876839637756,-0.011387635953724384,-0.022508295252919197,0.03563813120126724,-0.04252307116985321,-0.011161265894770622,0.05042912811040878,0.022825054824352264,0.026909027248620987,0.07261080294847488,0.0020019118674099445,0.020440932363271713,0.00204883492551744,0.01299719326198101,-0.010266878642141819,-0.01364226546138525,-0.058124128729104996,0.003603875869885087,-0.0993790328502655,-0.024702660739421844,0.03925632685422897,-0.013042918406426907,0.013321676291525364,-0.06715980917215347,-0.06270615011453629,0.00920181255787611,-0.05128888040781021,0.03727702423930168,-0.009132619947195053,-0.005827256944030523,0.023953845724463463,-0.0030123181641101837,-0.010309581644833088,-0.02590307779610157,0.07378846406936646,0.04694238305091858,-0.05842306837439537,0.007514935452491045,-0.043715011328458786,0.06956694275140762,-0.03904357925057411,0.020090460777282715,-0.001285491045564413,-0.019019268453121185,-0.013947281055152416,-0.05059577524662018,0.027937594801187515,-0.05427812412381172,-0.0364372543990612,-0.030569367110729218,0.09612692147493362,0.024147415533661842,-0.004013026133179665,0.0567164346575737,0.002167406724765897,0.007583101280033588,0.04957589879631996,-0.00026008416898548603,0.037325236946344376,0.006524332333356142,-0.033594708889722824,-0.0044461446814239025,-0.011053354479372501,0.012777444906532764,0.010756072588264942,-0.04933653771877289,0.020377136766910553,0.026794586330652237,-0.004494978580623865,0.03254905715584755,0.02053939551115036,0.008996371179819107,0.07543656975030899,-0.0023601732682436705,0.006444805767387152,-0.041447121649980545,0.04607562720775604,-0.0071051535196602345,0.08272610604763031,0.02220156230032444,0.005700760055333376,-0.03759497031569481,0.005965775344520807,0.008091498166322708,0.014298132620751858,-0.008799979463219643,-0.0409276969730854,-0.021673252806067467,0.016018571332097054,0.0008008116274140775,-0.013015812262892723,0.036170829087495804,-0.07300776243209839,-0.0012520402669906616,-0.0025827563367784023,-0.07463431358337402,-0.007888329215347767,0.016476552933454514,0.0017162846634164453,0.012401391752064228,-0.011793866753578186,-0.029618866741657257,-0.04635687172412872,-0.06414909660816193,-0.03437541052699089,-0.06111007183790207,0.007739620748907328,-0.010254742577672005,0.04747946932911873,0.0397176630795002,-0.006800436414778233,-0.03233680874109268,0.002506003947928548,-0.02563718520104885,0.02574441209435463,-0.045081865042448044,0.0057196603156626225,0.0017124539008364081,0.00991461705416441,-0.007129572797566652,-0.06213783472776413,0.06951780617237091,-0.015977298840880394,0.008520541712641716,0.030846888199448586,-0.05119110643863678,0.004978625103831291,-0.04319680854678154,-0.07657641917467117,0.00748938973993063,0.005661602132022381,0.027082759886980057,0.05571021884679794,0.015583785250782967,0.03003169223666191,0.057916104793548584,0.001156407524831593,0.04013306647539139,0.0285964272916317,-0.030901150777935982,0.014541015960276127,0.006940122228115797,-0.059273459017276764,-0.017975322902202606,-0.01471392996609211,-0.02644764818251133,-0.015468775294721127,0.03169526159763336,-0.02089909091591835,0.03466162458062172,-0.01779535412788391,0.03972668573260307,-0.030766891315579414,-0.011031980626285076,0.005454201716929674,-0.01843101717531681,-0.035895347595214844,0.009362345561385155,0.022399649024009705,0.042755622416734695,-0.025192786008119583,-0.022036921232938766,-0.008799898438155651,-0.028900528326630592,0.02439938113093376,-0.017221173271536827,-0.0033813228365033865,-0.047589920461177826,-0.028538813814520836,-0.009703099727630615,-0.0033699132036417723,0.015162740834057331,0.01991981640458107,-0.0973205491900444,-0.011656670831143856,-0.0029495309572666883,-0.01627877540886402,-0.012269209139049053,-0.03983338549733162,0.04575574770569801,0.027320606634020805,0.010535084642469883,-0.04438113793730736,0.007454392500221729,0.026972850784659386,0.03512983024120331,-0.05723806843161583,0.00894981250166893,-0.09040844440460205,-0.07514889538288116,0.011096666567027569,-0.03358638659119606,0.010229111649096012,-0.02809557132422924,0.025016028434038162,-0.007581945508718491,-0.000900436076335609,0.0699995681643486,-0.005626386031508446,0.05312246084213257,-0.030190875753760338,0.0023821231443434954,-0.055893030017614365,-0.01675170660018921,-0.019186973571777344,0.027150586247444153,0.006831164471805096,0.03202592954039574,0.03581269085407257,-0.02793291211128235,0.02335800789296627,0.02677164040505886,0.01351963821798563,0.024181263521313667,0.046629153192043304,0.014448356814682484,0.009315703995525837,-0.0003216646146029234,-0.0338432751595974,0.03822355717420578,-0.007449409458786249,0.030180463567376137,-0.066375233232975,-0.02870604582130909,-0.004856713581830263,0.0038123754784464836,0.025299707427620888,0.022759201005101204,-0.01850641891360283,0.013906348496675491,-0.07681870460510254,-0.00902669969946146,0.026746096089482307,-0.025653362274169922,-0.023101549595594406,-0.06785741448402405,-0.01955561898648739,0.015683133155107498,0.02248154766857624,-0.007584549020975828,-0.026389097794890404,-0.12653380632400513,-0.03316561505198479,-0.0019673702772706747,0.016237659379839897,-5.812103982630149e-33,-0.02720998227596283,-0.012008724734187126,-0.024975735694169998,-0.11802162975072861,0.006273718550801277,-0.009748915210366249,0.046263646334409714,-0.06678905338048935,-0.007796857506036758,-0.057862430810928345,-0.006165203172713518,0.04315384104847908,0.0007548933499492705,-0.0022622044198215008,0.021774236112833023,0.006670801434665918,0.044457875192165375,-0.0075461422093212605,0.011488799937069416,0.031740833073854446,-0.042975518852472305,-0.004906608723104,-0.04956553503870964,-0.029650526121258736,-0.05206260085105896,0.06094648689031601,-0.0181856919080019,0.004284719470888376,-0.0837189331650734,0.056852489709854126,-0.01136006135493517,-0.02455369010567665,0.01550616230815649,0.02754184789955616,0.01689053140580654,-0.04847455024719238,0.047725364565849304,0.005232636351138353,-0.004097445402294397,-0.014970282092690468,0.06765518337488174,0.0005281389458104968,0.030284438282251358,0.0179469995200634,0.0333373062312603,-0.02082720212638378,0.020664354786276817,0.020280752331018448,0.01190372183918953,0.01879522018134594,0.02136281318962574,0.007317823823541403,0.012324091047048569,0.08562333136796951,-0.019373327493667603,0.0436650887131691,0.03815202787518501,0.01995287649333477,0.033851321786642075,-0.0521535724401474,-0.03616005554795265,0.03888541832566261,-0.004298846703022718,0.04393119737505913,-0.015542503446340561,-0.025977229699492455,-0.05701272189617157,0.04221903905272484,0.013662770390510559,-0.08356700092554092,0.019470613449811935,0.023050982505083084,-0.005807765293866396,-0.034580010920763016,-0.03495589271187782,-0.0013449112884700298,-0.003915079869329929,0.006716489791870117,-0.07556956261396408,0.018687115982174873,0.018587253987789154,-0.00599563866853714,0.002164257923141122,0.011833172291517258,0.027853960171341896,-0.042131613940000534,0.0052045551128685474,0.026068223640322685,0.017823031172156334,0.0034823857713490725,-0.027977822348475456,0.03257442265748978,-0.01461509708315134,0.02570204623043537,-0.002661974634975195,-0.04485870152711868,-0.009447719901800156,0.007419310510158539,-0.01642066240310669,0.03989136219024658,0.06733883172273636,-0.010799271985888481,-0.0033392549958080053,0.0025066384114325047,0.0020396714098751545,0.019637636840343475,0.011385832913219929,-0.020809495821595192,-0.015056791715323925,0.002788487123325467,-0.0037291506305336952,0.036797426640987396,-0.017895495519042015,0.01402298267930746,0.02530623786151409,0.03362742438912392,0.023785829544067383,0.0030221755150705576,0.025475911796092987,0.016778597608208656,-0.002566421637311578,-0.021513767540454865,0.01858378015458584,0.04879133775830269,0.033949755132198334,-0.042454928159713745,-0.031588345766067505,0.0025493570137768984,0.06112557649612427,-0.016753269359469414,-0.030963018536567688,0.009302617982029915,2.2862631965381297e-7,0.01359520386904478,-0.013507691211998463,-0.06761857122182846,0.03674608841538429,-0.012771212495863438,-0.011286078952252865,0.04893612116575241,-0.0191719438880682,0.029309052973985672,0.0285181887447834,0.020384568721055984,0.010006547905504704,-0.005028463900089264,0.04531604051589966,-0.007721620611846447,-0.07464428246021271,0.023345401510596275,0.01961931586265564,-0.06428194046020508,-0.008348931558430195,0.0706406757235527,0.009992293082177639,0.03925218805670738,0.004124799743294716,0.017139622941613197,-0.03991656377911568,0.0075350478291511536,-0.0038773317355662584,0.008902344852685928,0.021971236914396286,0.0536094568669796,-0.04374022036790848,-0.0014976842794567347,0.038357626646757126,-0.006597669795155525,0.013577770441770554,-0.0009104681084863842,-0.006166172679513693,-0.023098871111869812,0.033456914126873016,0.0043157427571713924,0.017144665122032166,-0.015615289099514484,0.0011404032120481133,0.05957711488008499,0.008124036714434624,-0.013738960959017277,-0.00348334526643157,-0.022854000329971313,-0.021833093836903572,0.004384188447147608,-0.010611182078719139,-0.010506304912269115,0.01635570451617241,0.009626653045415878,0.017480086535215378,-0.024644162505865097,-0.0158673208206892,-0.0006850703503005207,-0.06837940216064453,-0.009204834699630737,-0.042580924928188324,0.0022278660908341408,0.057472698390483856,0.05980316177010536,-0.02292679063975811,-0.022388888522982597,3.2069377701652858e-34,-0.005122491158545017,0.013464727438986301,0.040516506880521774,0.07374528795480728,0.05935649946331978,-0.02913457155227661,-0.05874089151620865,0.007325903512537479,0.0093978988006711,-0.05695110186934471,-0.010706483386456966]'
SET
  @HasCustomProps_2ab36b8a = 1
SET
  @HasCustomEvents_2ab36b8a = 1
SET
  @RequiresData_2ab36b8a = 1
SET
  @DependencyCount_2ab36b8a = 0
SET
  @FunctionalRequirementsVectorEmbeddingModelID_2ab36b8a = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_2ab36b8a = 1
SET
  @ID_2ab36b8a = '04395751-8D07-4906-BAE1-9D1789543E14'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_2ab36b8a,
  @Name = @Name_2ab36b8a,
  @Version = @Version_2ab36b8a,
  @VersionSequence = @VersionSequence_2ab36b8a,
  @Title = @Title_2ab36b8a,
  @Description = @Description_2ab36b8a,
  @Type = @Type_2ab36b8a,
  @Status = @Status_2ab36b8a,
  @DeveloperName = @DeveloperName_2ab36b8a,
  @DeveloperEmail = @DeveloperEmail_2ab36b8a,
  @DeveloperOrganization = @DeveloperOrganization_2ab36b8a,
  @SourceRegistryID = @SourceRegistryID_2ab36b8a,
  @ReplicatedAt = @ReplicatedAt_2ab36b8a,
  @LastSyncedAt = @LastSyncedAt_2ab36b8a,
  @Specification = @Specification_2ab36b8a,
  @FunctionalRequirements = @FunctionalRequirements_2ab36b8a,
  @TechnicalDesign = @TechnicalDesign_2ab36b8a,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_2ab36b8a,
  @TechnicalDesignVector = @TechnicalDesignVector_2ab36b8a,
  @HasCustomProps = @HasCustomProps_2ab36b8a,
  @HasCustomEvents = @HasCustomEvents_2ab36b8a,
  @RequiresData = @RequiresData_2ab36b8a,
  @DependencyCount = @DependencyCount_2ab36b8a,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_2ab36b8a,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_2ab36b8a,
  @HasRequiredCustomProps = @HasRequiredCustomProps_2ab36b8a,
  @ID = @ID_2ab36b8a;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_970a79af NVARCHAR(MAX),
@Name_970a79af NVARCHAR(500),
@Version_970a79af NVARCHAR(50),
@VersionSequence_970a79af INT,
@Title_970a79af NVARCHAR(1000),
@Description_970a79af NVARCHAR(MAX),
@Type_970a79af NVARCHAR(255),
@Status_970a79af NVARCHAR(50),
@DeveloperName_970a79af NVARCHAR(255),
@DeveloperEmail_970a79af NVARCHAR(255),
@DeveloperOrganization_970a79af NVARCHAR(255),
@SourceRegistryID_970a79af UNIQUEIDENTIFIER,
@ReplicatedAt_970a79af DATETIMEOFFSET,
@LastSyncedAt_970a79af DATETIMEOFFSET,
@Specification_970a79af NVARCHAR(MAX),
@FunctionalRequirements_970a79af NVARCHAR(MAX),
@TechnicalDesign_970a79af NVARCHAR(MAX),
@FunctionalRequirementsVector_970a79af NVARCHAR(MAX),
@TechnicalDesignVector_970a79af NVARCHAR(MAX),
@HasCustomProps_970a79af BIT,
@HasCustomEvents_970a79af BIT,
@RequiresData_970a79af BIT,
@DependencyCount_970a79af INT,
@TechnicalDesignVectorEmbeddingModelID_970a79af NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_970a79af NVARCHAR(MAX),
@HasRequiredCustomProps_970a79af BIT,
@ID_970a79af UNIQUEIDENTIFIER
SET
  @Namespace_970a79af = N'AI'
SET
  @Name_970a79af = N'AIModelAnalytics'
SET
  @Version_970a79af = N'1.0.0'
SET
  @VersionSequence_970a79af = 1
SET
  @Title_970a79af = N'AI Model Analytics'
SET
  @Description_970a79af = N'Analytics panel with charts showing prompt usage distribution, performance metrics, and time series'
SET
  @Type_970a79af = N'Chart'
SET
  @Status_970a79af = N'Published'
SET
  @Specification_970a79af = N'{"name":"AIModelAnalytics","title":"AI Model Analytics","description":"Analytics panel with charts showing prompt usage distribution, performance metrics, and time series","type":"chart","functionalRequirements":"Display pie chart for prompt usage, bar chart for performance, time series for usage trends","technicalDesign":"## Technical Design\n\n### Component Structure\n- Inline analytics panel below the model list\n- Tabbed interface for different visualization types\n- Processes prompt run data for various charts\n\n### Props\n- model: Selected AI model object\n- promptRuns: Array of prompt execution history for this model\n- dateRange: Time range for analytics (default: last 7 days)\n\n### Tabs/Sections\n1. **Usage Distribution**: Pie chart of prompt usage\n2. **Performance**: Bar chart of average execution times\n3. **Trends**: Time series chart of usage over time\n4. **Summary**: Key metrics (total runs, success rate, token usage)\n\n### Data Processing\n- Filter runs by date range and model ID\n- Group runs by prompt\n- Calculate aggregates (count, avg time, success rate)\n- Generate chart data structures\n\n### Chart Implementation\n- Responsive SVG-based charts\n- Interactive tooltips on hover\n- Color coding by status (success/error)\n- Handles empty states gracefully","dataRequirements":{"mode":"views","entities":[{"name":"AI Models","description":"Core AI model definitions and specifications","displayFields":["ID","Name","APIName","Description","AIModelTypeID","InputTokenLimit","PowerRank","SpeedRank","CostRank","IsActive","__mj_CreatedAt","__mj_UpdatedAt"],"filterFields":["AIModelTypeID","IsActive"],"sortFields":["Name","InputTokenLimit","CostRank","IsActive","__mj_CreatedAt"],"fieldMetadata":[{"name":"ID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":true,"description":"Unique identifier for the AI model"},{"name":"Name","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"System name of the AI model"},{"name":"APIName","sequence":4,"defaultInView":true,"type":"nvarchar","allowsNull":true,"isPrimaryKey":false,"description":"API identifier for the model"},{"name":"InputTokenLimit","sequence":5,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Maximum input token limit"},{"name":"CostRank","sequence":6,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Relative cost ranking (1-5)"}],"usageContext":"Main list of AI models"},{"name":"MJ: AI Model Vendors","description":"Vendor associations for AI models","displayFields":["ID","ModelID","VendorID","TypeID","Model","Vendor","Type","Status","Priority","APIName","MaxInputTokens","MaxOutputTokens","SupportsStreaming","SupportsEffortLevel"],"filterFields":["ModelID","Type","Status"],"sortFields":["Vendor","Priority","Type"],"fieldMetadata":[{"name":"ModelID","sequence":1,"defaultInView":false,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":false,"description":"Reference to AI Model"},{"name":"Vendor","sequence":2,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Vendor name"},{"name":"Type","sequence":3,"defaultInView":true,"type":"nvarchar","allowsNull":false,"isPrimaryKey":false,"description":"Vendor type (Model Developer or Inference Provider)"}],"usageContext":"Vendor associations for models"},{"name":"AI Model Types","description":"Types/categories of AI models","displayFields":["ID","Name","Description"],"filterFields":[],"sortFields":["Name"],"usageContext":"Filter dropdown for model types"},{"name":"MJ: AI Prompt Runs","description":"Execution history for AI prompts","displayFields":["ID","PromptID","ModelID","StartTime","EndTime","TotalExecutionTime","InputTokens","OutputTokens","TotalTokens","Status","Error"],"filterFields":["ModelID","PromptID","Status"],"sortFields":["StartTime","TotalExecutionTime"],"usageContext":"Analytics and usage history"},{"name":"AI Prompts","description":"AI prompt definitions","displayFields":["ID","Name","Description","CategoryID"],"filterFields":[],"sortFields":["Name"],"usageContext":"Enrich prompt runs with names"}]},"properties":[{"name":"model","type":"object","required":true,"description":"The selected AI model for analytics"},{"name":"promptRuns","type":"array","required":true,"description":"Array of prompt runs to analyze"},{"name":"view","type":"string","required":true,"description":"Current analytics view - ''prompts'', ''performance'', or ''timeline''"}],"events":[{"name":"onViewChange","description":"Fired when the analytics view changes","parameters":[{"name":"view","type":"string","description":"New view name"}]}],"exampleUsage":"<AIModelAnalytics ... />","code":"function AIModelAnalytics({ \n  model,\n  promptRuns,\n  view,\n  onViewChange,\n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings \n}) {\n  // Helper function to get border radius value\n  const getBorderRadius = (size) => {\n    return typeof styles.borders?.radius === ''object'' ? styles.borders.radius[size] : styles.borders?.radius || ''4px'';\n  };\n  \n  // Calculate prompt usage statistics\n  const promptStats = useMemo(() => {\n    if (!promptRuns || promptRuns.length === 0) return [];\n    \n    const stats = {};\n    promptRuns.forEach(run => {\n      const promptName = run.PromptName || ''Unknown'';\n      if (!stats[promptName]) {\n        stats[promptName] = {\n          name: promptName,\n          runs: 0,\n          successfulRuns: 0,\n          failedRuns: 0,\n          totalTokens: 0,\n          avgExecutionTime: 0,\n          executionTimes: []\n        };\n      }\n      \n      stats[promptName].runs++;\n      if (run.Status === ''Success'' || run.Status === ''Completed'') {\n        stats[promptName].successfulRuns++;\n      } else if (run.Status === ''Failed'' || run.Status === ''Error'') {\n        stats[promptName].failedRuns++;\n      }\n      \n      stats[promptName].totalTokens += run.TotalTokens || 0;\n      if (run.TotalExecutionTime) {\n        stats[promptName].executionTimes.push(run.TotalExecutionTime);\n      }\n    });\n    \n    // Calculate averages\n    Object.values(stats).forEach(stat => {\n      if (stat.executionTimes.length > 0) {\n        stat.avgExecutionTime = stat.executionTimes.reduce((a, b) => a + b, 0) / stat.executionTimes.length;\n      }\n    });\n    \n    return Object.values(stats).sort((a, b) => b.runs - a.runs);\n  }, [promptRuns]);\n  \n  // Calculate time series data\n  const timeSeriesData = useMemo(() => {\n    if (!promptRuns || promptRuns.length === 0) return [];\n    \n    // Group by day\n    const dailyStats = {};\n    promptRuns.forEach(run => {\n      if (run.StartTime) {\n        const date = new Date(run.StartTime).toLocaleDateString();\n        if (!dailyStats[date]) {\n          dailyStats[date] = {\n            date,\n            runs: 0,\n            tokens: 0,\n            errors: 0\n          };\n        }\n        dailyStats[date].runs++;\n        dailyStats[date].tokens += run.TotalTokens || 0;\n        if (run.Status === ''Failed'' || run.Status === ''Error'') {\n          dailyStats[date].errors++;\n        }\n      }\n    });\n    \n    return Object.values(dailyStats).sort((a, b) => new Date(a.date) - new Date(b.date));\n  }, [promptRuns]);\n  \n  // Render pie chart\n  const renderPieChart = () => {\n    if (promptStats.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No prompt data available\n        </div>\n      );\n    }\n    \n    const total = promptStats.reduce((sum, stat) => sum + stat.runs, 0);\n    const colors = [\n      styles.colors.primary,\n      styles.colors.success || ''#4CAF50'',\n      styles.colors.warning || ''#FF9800'',\n      styles.colors.error || ''#F44336'',\n      styles.colors.info || ''#2196F3'',\n      ''#9C27B0'', ''#00BCD4'', ''#8BC34A'', ''#FFC107'', ''#795548''\n    ];\n    \n    // Create simple pie chart using SVG\n    let currentAngle = 0;\n    const segments = promptStats.slice(0, 5).map((stat, index) => {\n      const percentage = stat.runs / total;\n      const angle = percentage * 360;\n      const largeArcFlag = angle > 180 ? 1 : 0;\n      \n      const startX = 100 + 80 * Math.cos((currentAngle - 90) * Math.PI / 180);\n      const startY = 100 + 80 * Math.sin((currentAngle - 90) * Math.PI / 180);\n      \n      currentAngle += angle;\n      \n      const endX = 100 + 80 * Math.cos((currentAngle - 90) * Math.PI / 180);\n      const endY = 100 + 80 * Math.sin((currentAngle - 90) * Math.PI / 180);\n      \n      const pathData = [\n        `M 100 100`,\n        `L $' + '{startX} $' + '{startY}`,\n        `A 80 80 0 $' + '{largeArcFlag} 1 $' + '{endX} $' + '{endY}`,\n        ''Z''\n      ].join('' '');\n      \n      return {\n        path: pathData,\n        color: colors[index % colors.length],\n        percentage,\n        stat\n      };\n    });\n    \n    return (\n      <div>\n        <svg viewBox=\"0 0 200 200\" style={{ width: ''200px'', height: ''200px'', margin: ''0 auto'', display: ''block'' }}>\n          {segments.map((segment, index) => (\n            <g key={index}>\n              <path\n                d={segment.path}\n                fill={segment.color}\n                stroke={styles.colors.background}\n                strokeWidth=\"2\"\n                style={{ cursor: ''pointer'' }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.opacity = ''0.8'';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.opacity = ''1'';\n                }}\n              />\n            </g>\n          ))}\n        </svg>\n        \n        {/* Legend */}\n        <div style={{\n          marginTop: styles.spacing.md,\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.xs\n        }}>\n          {segments.map((segment, index) => (\n            <div\n              key={index}\n              style={{\n                display: ''flex'',\n                alignItems: ''center'',\n                gap: styles.spacing.sm,\n                fontSize: styles.typography.fontSize.sm\n              }}\n            >\n              <div style={{\n                width: ''12px'',\n                height: ''12px'',\n                backgroundColor: segment.color,\n                borderRadius: ''2px''\n              }} />\n              <div style={{\n                flex: 1,\n                color: styles.colors.text,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                whiteSpace: ''nowrap''\n              }}>\n                {segment.stat.name}\n              </div>\n              <div style={{\n                color: styles.colors.textSecondary,\n                fontWeight: styles.typography.fontWeight?.medium || ''500''\n              }}>\n                {(segment.percentage * 100).toFixed(1)}%\n              </div>\n            </div>\n          ))}\n          {promptStats.length > 5 && (\n            <div style={{\n              fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n              color: styles.colors.textSecondary,\n              fontStyle: ''italic''\n            }}>\n              +{promptStats.length - 5} more prompts\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n  \n  // Render bar chart for performance\n  const renderPerformanceChart = () => {\n    if (promptStats.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No performance data available\n        </div>\n      );\n    }\n    \n    const maxTime = Math.max(...promptStats.map(s => s.avgExecutionTime || 0));\n    const displayStats = promptStats.slice(0, 10);\n    \n    return (\n      <div>\n        <div style={{\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing.sm\n        }}>\n          {displayStats.map((stat, index) => (\n            <div key={index} style={{ display: ''flex'', alignItems: ''center'', gap: styles.spacing.sm }}>\n              <div style={{\n                width: ''100px'',\n                fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                color: styles.colors.text,\n                overflow: ''hidden'',\n                textOverflow: ''ellipsis'',\n                whiteSpace: ''nowrap''\n              }}>\n                {stat.name}\n              </div>\n              <div style={{\n                flex: 1,\n                height: ''20px'',\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                overflow: ''hidden'',\n                position: ''relative''\n              }}>\n                <div style={{\n                  width: maxTime > 0 ? `$' + '{(stat.avgExecutionTime / maxTime) * 100}%` : ''0%'',\n                  height: ''100%'',\n                  backgroundColor: styles.colors.primary,\n                  transition: ''width 0.3s''\n                }} />\n                <div style={{\n                  position: ''absolute'',\n                  right: styles.spacing.xs,\n                  top: ''50%'',\n                  transform: ''translateY(-50%)'',\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary\n                }}>\n                  {stat.avgExecutionTime ? `$' + '{(stat.avgExecutionTime / 1000).toFixed(2)}s` : ''-''}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n  \n  // Render time series chart\n  const renderTimeSeriesChart = () => {\n    if (timeSeriesData.length === 0) {\n      return (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''200px'',\n          color: styles.colors.textSecondary,\n          fontSize: styles.typography.fontSize.sm\n        }}>\n          No time series data available\n        </div>\n      );\n    }\n    \n    const maxRuns = Math.max(...timeSeriesData.map(d => d.runs));\n    const recentData = timeSeriesData.slice(-7);\n    \n    return (\n      <div>\n        <div style={{\n          display: ''flex'',\n          alignItems: ''flex-end'',\n          height: ''150px'',\n          gap: styles.spacing.xs,\n          marginBottom: styles.spacing.sm\n        }}>\n          {recentData.map((data, index) => (\n            <div\n              key={index}\n              style={{\n                flex: 1,\n                display: ''flex'',\n                flexDirection: ''column'',\n                alignItems: ''center'',\n                gap: styles.spacing.xs\n              }}\n            >\n              <div style={{\n                width: ''100%'',\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                position: ''relative'',\n                flex: 1,\n                display: ''flex'',\n                alignItems: ''flex-end''\n              }}>\n                <div style={{\n                  width: ''100%'',\n                  height: maxRuns > 0 ? `$' + '{(data.runs / maxRuns) * 100}%` : ''0%'',\n                  backgroundColor: data.errors > 0 \n                    ? styles.colors.error \n                    : styles.colors.primary,\n                  borderRadius: getBorderRadius(''xs'') || getBorderRadius(''sm''),\n                  transition: ''height 0.3s''\n                }} />\n              </div>\n              <div style={{\n                fontSize: ''10px'',\n                color: styles.colors.textSecondary,\n                textAlign: ''center''\n              }}>\n                {new Date(data.date).toLocaleDateString(''en'', { month: ''short'', day: ''numeric'' })}\n              </div>\n            </div>\n          ))}\n        </div>\n        <div style={{\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n          color: styles.colors.textSecondary\n        }}>\n          <span>Runs per day (last 7 days)</span>\n          <span>Max: {maxRuns}</span>\n        </div>\n      </div>\n    );\n  };\n  \n  return (\n    <div style={{\n      height: ''100%'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      backgroundColor: styles.colors.surface\n    }}>\n      {/* Header with View Selector */}\n      <div style={{\n        padding: styles.spacing.lg,\n        borderBottom: `1px solid $' + '{styles.colors.border}`\n      }}>\n        <h3 style={{\n          margin: 0,\n          marginBottom: styles.spacing.md,\n          fontSize: styles.typography.fontSize.lg,\n          fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n          color: styles.colors.text\n        }}>\n          Analytics\n        </h3>\n        \n        {/* View Tabs */}\n        <div style={{\n          display: ''flex'',\n          gap: styles.spacing.xs,\n          borderBottom: `1px solid $' + '{styles.colors.border}`\n        }}>\n          <button\n            onClick={() => onViewChange?.(''prompts'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''prompts'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''prompts'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Prompt Usage\n          </button>\n          <button\n            onClick={() => onViewChange?.(''performance'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''performance'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''performance'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Performance\n          </button>\n          <button\n            onClick={() => onViewChange?.(''timeline'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: ''transparent'',\n              color: view === ''timeline'' ? styles.colors.primary : styles.colors.textSecondary,\n              border: ''none'',\n              borderBottom: view === ''timeline'' ? `2px solid $' + '{styles.colors.primary}` : ''none'',\n              fontSize: styles.typography.fontSize.sm,\n              fontWeight: styles.typography.fontWeight?.medium || ''500'',\n              cursor: ''pointer'',\n              transition: ''color 0.2s''\n            }}\n          >\n            Timeline\n          </button>\n        </div>\n      </div>\n      \n      {/* Content Area */}\n      <div style={{\n        flex: 1,\n        padding: styles.spacing.lg,\n        overflow: ''auto''\n      }}>\n        {!model ? (\n          <div style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''center'',\n            height: ''100%'',\n            color: styles.colors.textSecondary,\n            fontSize: styles.typography.fontSize.sm\n          }}>\n            Select a model to view analytics\n          </div>\n        ) : (\n          <>\n            {/* Summary Stats */}\n            <div style={{\n              display: ''grid'',\n              gridTemplateColumns: ''repeat(2, 1fr)'',\n              gap: styles.spacing.sm,\n              marginBottom: styles.spacing.lg\n            }}>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Total Runs\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  {promptRuns.length}\n                </div>\n              </div>\n              <div style={{\n                padding: styles.spacing.sm,\n                backgroundColor: styles.colors.background,\n                borderRadius: getBorderRadius(''sm'')\n              }}>\n                <div style={{\n                  fontSize: styles.typography.fontSize.xs || styles.typography.fontSize.sm,\n                  color: styles.colors.textSecondary,\n                  marginBottom: styles.spacing.xs\n                }}>\n                  Unique Prompts\n                </div>\n                <div style={{\n                  fontSize: styles.typography.fontSize.lg,\n                  fontWeight: styles.typography.fontWeight?.semibold || ''600'',\n                  color: styles.colors.text\n                }}>\n                  {promptStats.length}\n                </div>\n              </div>\n            </div>\n            \n            {/* Chart Area */}\n            <div>\n              {view === ''prompts'' && renderPieChart()}\n              {view === ''performance'' && renderPerformanceChart()}\n              {view === ''timeline'' && renderTimeSeriesChart()}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}","dependencies":[],"libraries":[]}'
SET
  @FunctionalRequirements_970a79af = N'Display pie chart for prompt usage, bar chart for performance, time series for usage trends'
SET
  @TechnicalDesign_970a79af = N'## Technical Design

### Component Structure
- Inline analytics panel below the model list
- Tabbed interface for different visualization types
- Processes prompt run data for various charts

### Props
- model: Selected AI model object
- promptRuns: Array of prompt execution history for this model
- dateRange: Time range for analytics (default: last 7 days)

### Tabs/Sections
1. **Usage Distribution**: Pie chart of prompt usage
2. **Performance**: Bar chart of average execution times
3. **Trends**: Time series chart of usage over time
4. **Summary**: Key metrics (total runs, success rate, token usage)

### Data Processing
- Filter runs by date range and model ID
- Group runs by prompt
- Calculate aggregates (count, avg time, success rate)
- Generate chart data structures

### Chart Implementation
- Responsive SVG-based charts
- Interactive tooltips on hover
- Color coding by status (success/error)
- Handles empty states gracefully'
SET
  @FunctionalRequirementsVector_970a79af = N'[-0.07168518751859665,-0.036311764270067215,-0.04422213137149811,-0.04105711728334427,-0.01349882036447525,0.005832658149302006,0.03522523492574692,0.038137443363666534,-0.05044085532426834,0.03908542916178703,0.021009890362620354,-0.011562677100300789,0.0270810816437006,0.11073050647974014,-0.024225598201155663,-0.06421640515327454,-0.0122446333989501,0.017023617401719093,0.0835220068693161,0.031029364094138145,0.020817436277866364,0.004166966769844294,0.005379434209316969,-0.012600420974195004,-0.015547985211014748,-0.03684910386800766,-0.014651666395366192,0.02237681671977043,0.04851788282394409,-0.1234363242983818,-0.0030990142840892076,0.053686417639255524,-0.004442356992512941,-0.0025765870232135057,0.000001418159172317246,-0.017419500276446342,-0.018102265894412994,0.0047089350409805775,-0.024098455905914307,0.04230230674147606,0.046075206249952316,-0.022999640554189682,0.06126128137111664,0.0024623030330985785,0.019197147339582443,0.05015954002737999,-0.010038790293037891,-0.022034240886569023,0.06598885357379913,-0.019683001562952995,0.008682339452207088,0.017835093662142754,-0.08464432507753372,-0.00796502735465765,-0.05934158340096474,0.027049198746681213,-0.011026234365999699,0.02329709753394127,0.09566161781549454,0.04466129094362259,-0.038034431636333466,-0.016562383621931076,0.02029515989124775,0.0191255584359169,-0.01778588630259037,0.026169434189796448,0.12030921876430511,-0.019587252289056778,0.01319526694715023,0.014774960465729237,0.016289111226797104,-0.03114001266658306,0.008330387063324451,-0.047294020652770996,-0.014187883585691452,-0.01568206399679184,-0.044536788016557693,-0.03138599544763565,0.0039952523075044155,-0.0025584050454199314,-0.024792075157165527,0.04217572137713432,-0.04597274214029312,-0.019498437643051147,-0.019235199317336082,-0.10434182733297348,-0.012450681999325752,-0.029342133551836014,-0.04194336384534836,-0.021004995331168175,-0.004096643533557653,-0.0049949754029512405,-0.02063325047492981,-0.006976769771426916,-0.04505864530801773,-0.002387481974437833,0.028132786974310875,-0.041178520768880844,0.06260394304990768,0.02428256906569004,0.029870234429836273,0.03242046386003494,0.01697632670402527,0.01940598152577877,0.024110862985253334,0.07060252130031586,0.0381307378411293,-0.10503953695297241,-0.013596698641777039,0.04065181687474251,0.00751293683424592,0.003954336047172546,0.01638934388756752,-0.009613769128918648,0.011472067795693874,-0.0068941181525588036,-0.06447020173072815,0.020924143493175507,0.001659938134253025,0.019474472850561142,0.1496451497077942,0.013668876141309738,-0.03060845285654068,0.022856377065181732,0.009236414916813374,0.04131532832980156,-0.03388636186718941,-0.007881580851972103,-0.018608836457133293,-0.002507082186639309,-0.025662310421466827,-0.006103080697357655,0.03238670900464058,0.021075984463095665,-0.025529097765684128,0.008378090336918831,-0.0007838314049877226,0.06554277241230011,-0.07336655259132385,-0.06850182265043259,-0.021839259192347527,0.022425765171647072,0.0010669305920600891,0.010780748911201954,-0.0050697424449026585,-0.02403915673494339,0.012192905880510807,0.07377324998378754,0.010817046277225018,0.04800202324986458,0.02339029125869274,0.008559581823647022,-0.013593456707894802,0.0118528688326478,-0.05529173091053963,-0.019418204203248024,-0.019549820572137833,-0.008946309797465801,-0.013900070451200008,0.00859894324094057,-0.00696654012426734,-0.03559480607509613,-0.007457107305526733,0.009758693166077137,-0.020961182191967964,0.02323664352297783,-0.08532016724348068,-0.0183209590613842,-0.05533492565155029,-0.02373059093952179,-0.02445046789944172,-0.024847351014614105,-0.01713257096707821,0.008384792134165764,0.008672602474689484,0.07612688839435577,0.1015458032488823,-0.09465715289115906,0.006744505371898413,-0.0282142274081707,0.01491466537117958,-0.052397701889276505,0.023370539769530296,-0.0026301357429474592,0.0555274561047554,0.02637067623436451,-0.10912618786096573,-0.0108448201790452,0.00030051235808059573,-0.009268003515899181,-0.004135817289352417,0.019129661843180656,-0.06712684035301208,0.033889684826135635,0.0008757045725360513,0.005786173976957798,-0.0005152428639121354,-0.12232682853937149,0.009150762110948563,-0.010592952370643616,-0.015786413103342056,-0.009908347390592098,0.042474035173654556,0.02897980995476246,-0.02660186029970646,0.010740739293396473,0.004723055753856897,-0.018690412864089012,0.05421317741274834,0.016492102295160294,-0.003769865958020091,0.02513548918068409,-0.04152669757604599,0.015507051721215248,-0.04914630949497223,0.03473617509007454,-0.027076734229922295,0.02831447683274746,-0.05125132575631142,0.022307606413960457,-0.020546618849039078,-0.040539804846048355,0.009149505756795406,-0.00486132362857461,0.03953653573989868,-0.014046263881027699,0.030185455456376076,-0.03557977080345154,0.03356649726629257,0.028162142261862755,-0.04919669032096863,0.01178361102938652,0.01170229259878397,-0.011789744719862938,0.023512309417128563,0.04833122715353966,-0.027953026816248894,-0.028257805854082108,-0.0094446474686265,0.010966877453029156,0.00047538039507344365,-0.05399816855788231,-0.0260524433106184,-0.02659052051603794,-0.023562882095575333,-0.022550320252776146,0.02730158530175686,0.004314451478421688,-0.019138945266604424,0.005033750552684069,0.016106845811009407,0.00002125037099176552,0.04752371832728386,-0.026050755754113197,0.0006276454078033566,0.0146976038813591,0.09338141977787018,-0.013791448436677456,-0.019060000777244568,0.05018435791134834,0.06837496161460876,-0.007761037442833185,-0.010459037497639656,-0.019889390096068382,0.027704669162631035,-0.04768887162208557,0.07443390786647797,-0.027081355452537537,-0.028825130313634872,0.00357948150485754,0.011407842859625816,0.0267049390822649,-0.022225042805075645,-0.02136165462434292,-0.044356346130371094,0.022428125143051147,-0.07115978002548218,-0.00020478117221500725,0.011418725363910198,0.0053175087086856365,-0.0027377777732908726,-0.051220327615737915,0.04266383498907089,0.021766146644949913,-0.019573945552110672,-0.02200789749622345,0.025828562676906586,0.013480586931109428,0.052452851086854935,0.00044811813859269023,0.0445319302380085,-0.024636058136820793,0.021645769476890564,-0.008426577784121037,-0.0047265999019145966,0.04831714555621147,0.07873234897851944,0.029860887676477432,-0.005450553260743618,0.022620026022195816,-0.06227003410458565,0.007097379770129919,-0.006677678320556879,0.0028481069020926952,-0.0037900570314377546,0.0456017330288887,0.07405239343643188,-0.05598427727818489,0.038053058087825775,0.014135215431451797,0.06133425980806351,-0.003536537056788802,-0.0022108214907348156,-0.042302507907152176,-0.009084319695830345,0.027936842292547226,-0.07253159582614899,0.019453296437859535,-0.008585471659898758,0.02123120427131653,0.028730763122439384,0.005571803543716669,-0.015909530222415924,-0.009005383588373661,-0.006234354805201292,0.05656016618013382,-0.07421774417161942,0.005297468509525061,-0.01778891123831272,0.023053400218486786,0.009198810905218124,-0.024654986336827278,-0.03554539009928703,-0.0212944895029068,-0.02284197323024273,0.04331593960523605,-0.03676770254969597,-0.07242484390735626,0.006241047289222479,-0.02528972551226616,0.0005065874429419637,-0.0043117147870361805,-0.02104407735168934,-0.0019665341824293137,0.04636320844292641,-0.008107452653348446,-0.0128597067669034,-0.018689483404159546,0.04895475506782532,-0.035392992198467255,0.02693149633705616,-0.026789257302880287,0.00863445270806551,-0.008510669693350792,0.02760544791817665,0.020476926118135452,-0.03303765133023262,0.0420418456196785,-0.09901320189237595,-0.03748578205704689,0.0059196837246418,0.006125256419181824,0.025949014350771904,0.03284194692969322,-0.029064252972602844,0.02325117401778698,-0.039697423577308655,-0.020370841026306152,0.032651741057634354,0.024182746186852455,-0.04078931733965874,0.06942296773195267,0.06813590228557587,0.03327466547489166,-0.013710695318877697,0.04789484292268753,0.010925139300525188,0.02849017083644867,-0.062297072261571884,0.01178684551268816,0.0029686512425541878,-0.028437906876206398,0.05673901364207268,-0.030563674867153168,0.06878942996263504,-0.03854697197675705,0.006090165115892887,-0.014798923395574093,-0.03425942733883858,-0.014380177482962608,-0.0042036306113004684,-0.026127835735678673,0.028330065310001373,-0.05204140394926071,-0.00657454039901495,0.019651398062705994,-0.028709430247545242,-0.008867434225976467,0.010511022061109543,0.005561899859458208,0.03623807430267334,-0.04153808206319809,-0.02723078988492489,-0.004478383343666792,0.06275120377540588,-0.07041755318641663,-0.031760890036821365,0.05839855968952179,-0.02831043116748333,-0.018695516511797905,-0.04583209753036499,-0.014102092944085598,0.020336849614977837,-0.040396835654973984,-0.03072122111916542,0.003957259468734264,0.005431343801319599,-0.012066500261425972,0.02920783869922161,0.040560632944107056,-0.0020309779793024063,-0.005071088671684265,0.021163132041692734,-0.0008811316802166402,0.020521365106105804,-0.05441354587674141,0.03061496466398239,-0.007905105128884315,-0.02050597406923771,0.03966212272644043,0.014340522699058056,-0.04184194654226303,-0.010384405963122845,-0.003339167684316635,-0.05167054384946823,0.006623283959925175,-0.06896889954805374,0.03041072189807892,-0.01923130638897419,0.009626219980418682,0.005966951604932547,-0.012399415485560894,0.04156232625246048,0.0020080716349184513,0.011299436911940575,-0.028966117650270462,0.0034732201602309942,0.03622283786535263,-0.022089630365371704,0.006744923070073128,0.022794827818870544,-0.042358219623565674,0.004191549960523844,0.003271946683526039,0.03134757652878761,-0.032613761723041534,-0.04029220715165138,0.0002797776833176613,0.004760309122502804,0.013696189038455486,-0.009078445844352245,0.024648945778608322,-0.05103737860918045,0.00016080349450930953,0.06977421045303345,0.08518797159194946,0.09370143711566925,0.046341825276613235,-0.0021841733250766993,-0.06351800262928009,0.08483095467090607,-0.003443779656663537,-0.02793252095580101,-0.027533268555998802,0.032039374113082886,0.00009641617361921817,-0.0033232341520488262,-0.0314478762447834,0.03340531885623932,-0.02844594419002533,0.027847202494740486,0.025288376957178116,0.013753503561019897,-0.13696397840976715,0.020301636308431625,-0.03926907479763031,-0.028102900832891464,-0.03739530220627785,0.044550176709890366,-0.009172562509775162,-0.0008792689186520875,-0.07302902638912201,-0.026521073654294014,0.01618669182062149,0.05306556448340416,-0.021695714443922043,-0.1213020533323288,0.026051174849271774,0.036222994327545166,-0.0002676736330613494,-0.035082217305898666,0.009923786856234074,-0.015957923606038094,-0.01328634936362505,-0.012386087328195572,0.02495867758989334,0.04325566813349724,0.00983395054936409,-0.039388082921504974,0.03469262272119522,0.023380881175398827,0.01819666288793087,-0.041446685791015625,-0.047552887350320816,0.05689646676182747,0.005595112219452858,-0.03462061658501625,-0.002545049646869302,-0.06549913436174393,0.004255237523466349,0.00018802162958309054,-0.006879389751702547,0.019858986139297485,-0.009222880937159061,0.10541237145662308,0.0074570076540112495,0.005343777593225241,-0.013935196213424206,-0.03851211443543434,0.02574937604367733,-0.05832592025399208,-0.050752051174640656,0.005240941420197487,-0.027563322335481644,-0.046085961163043976,0.05423973500728607,0.025518756359815598,0.007658930029720068,0.025394337251782417,0.008519441820681095,-0.035132259130477905,0.014285780489444733,0.024333249777555466,-0.02405424229800701,-0.0047459788620471954,0.02980813942849636,0.007478275336325169,-0.017050042748451233,-0.010385033674538136,0.055142082273960114,0.012438063509762287,0.00454364251345396,-0.013509336858987808,-0.03664228320121765,-0.04962094873189926,-5.2479438360522234e-33,-0.0217446256428957,-0.0395110584795475,-0.022471299394965172,-0.010699127800762653,0.022257572039961815,0.0037239689845591784,0.055887654423713684,-0.00766134774312377,0.009199931286275387,-0.02548319101333618,-0.02586611546576023,-0.0013212396297603846,0.009664504788815975,-0.03293497860431671,0.0014856295892968774,0.021036595106124878,0.054543279111385345,-0.006720883306115866,-0.010728878900408745,0.018046675249934196,0.05223584920167923,0.019626375287771225,-0.012762326747179031,-0.009371453896164894,-0.01271041389554739,0.06221112981438637,0.033916495740413666,0.00534301670268178,-0.0019136706832796335,-0.03603532165288925,0.024583421647548676,0.0037559347692877054,0.0029944428242743015,0.04603336751461029,-0.03319845721125603,0.08032534271478653,0.0392574816942215,-0.08936494588851929,-0.0032564059365540743,-0.013924510218203068,0.008247624151408672,0.03014623187482357,0.021417615935206413,-0.03198118507862091,-0.007916601374745369,-0.024286743253469467,0.020350901409983635,0.02956567518413067,-0.04666551202535629,0.02273894101381302,0.03998639062047005,0.013632919639348984,0.02059820666909218,0.04137250781059265,-0.06919818371534348,0.09978441894054413,0.024844149127602577,0.08436824381351471,-0.06357201933860779,0.007345299702137709,0.014902821741998196,-0.05042160674929619,0.016656402498483658,0.033604301512241364,0.04407558590173721,-0.003458769293501973,-0.04864264652132988,0.024567339569330215,-0.0004765491175930947,-0.019574617967009544,0.00566312437877059,-0.015608181245625019,0.017729997634887695,-0.08394137769937515,0.016624711453914642,-0.06845222413539886,-0.005992808844894171,-0.01788652315735817,0.03361809626221657,0.026768138632178307,-0.02344091609120369,0.003193092765286565,-0.01884528622031212,0.022278450429439545,0.03676987439393997,0.015355795621871948,0.0272489283233881,0.015167349018156528,0.025857387110590935,-0.0011676930589601398,-0.004243841394782066,-0.011645237915217876,-0.0076454211957752705,0.024423586204648018,0.025754272937774658,-0.02159968577325344,0.06358842551708221,0.009405470453202724,0.008435511030256748,-0.02417144365608692,0.01028481125831604,0.018127361312508583,-0.03346217796206474,0.0006595221348106861,0.0236288383603096,-0.032244738191366196,-0.00559209892526269,-0.003010249463841319,-0.04229353740811348,-0.01892070844769478,0.020980723202228546,-0.01065884344279766,0.013579913415014744,-0.029637068510055542,0.012218669056892395,0.016085488721728325,0.00046002876479178667,0.015310215763747692,-0.0017110372427850962,-0.04414041340351105,-0.017864292487502098,-0.031880997121334076,-0.03520044684410095,-0.032550662755966187,0.024422308430075645,-0.04830663278698921,-0.012346416711807251,0.02922879345715046,0.04550968483090401,0.020416270941495895,-0.01654823124408722,0.0010973743628710508,2.2251458631217247e-7,0.010699192993342876,-0.0388459637761116,-0.021268926560878754,0.0867232233285904,0.014640582725405693,-0.029057571664452553,0.0019446902442723513,0.013492812402546406,-0.02036539651453495,-0.026109866797924042,0.0037634531036019325,-0.021295221522450447,-0.0032149453181773424,0.05642678216099739,0.03326296806335449,-0.059486087411642075,-0.0204329751431942,-0.04770466312766075,-0.05197899043560028,0.05913471058011055,0.08676135540008545,-0.018117697909474373,0.021112317219376564,0.009200518019497395,0.02151404321193695,-0.04651062190532684,0.008302789181470871,-0.02285299450159073,0.042670149356126785,-0.056580595672130585,-0.021567976102232933,0.03473285958170891,0.0037505184300243855,0.02490309439599514,0.0012474274262785912,0.00027160445461049676,-0.023347189649939537,-0.026820087805390358,0.0098221804946661,0.08833424746990204,0.022524194791913033,0.024044843390583992,-0.013849468901753426,0.016614675521850586,0.005637843627482653,-0.035647086799144745,-0.0015712935710325837,0.056907519698143005,0.01852811500430107,0.002121675992384553,0.05998050421476364,0.005279863718897104,-0.0037432985845953226,-0.01514530461281538,0.0037160187494009733,0.025477146729826927,-0.014446314424276352,0.050374142825603485,0.005617587827146053,0.028457121923565865,-0.041995685547590256,-0.03187282010912895,-0.013977465219795704,0.05774751305580139,0.028710491955280304,-0.004426818341016769,-0.01455998420715332,2.7358673630341295e-34,0.014215395785868168,-0.08309437334537506,0.04600333049893379,0.004886864218860865,0.009432526305317879,0.029371382668614388,-0.003137152874842286,0.026378655806183815,0.04360097646713257,-0.0703437551856041,-0.026814870536327362]'
SET
  @HasCustomProps_970a79af = 1
SET
  @HasCustomEvents_970a79af = 1
SET
  @RequiresData_970a79af = 1
SET
  @DependencyCount_970a79af = 0
SET
  @FunctionalRequirementsVectorEmbeddingModelID_970a79af = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_970a79af = 1
SET
  @ID_970a79af = '509FF2B7-692D-490B-A282-D80FD370E5EB'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_970a79af,
  @Name = @Name_970a79af,
  @Version = @Version_970a79af,
  @VersionSequence = @VersionSequence_970a79af,
  @Title = @Title_970a79af,
  @Description = @Description_970a79af,
  @Type = @Type_970a79af,
  @Status = @Status_970a79af,
  @DeveloperName = @DeveloperName_970a79af,
  @DeveloperEmail = @DeveloperEmail_970a79af,
  @DeveloperOrganization = @DeveloperOrganization_970a79af,
  @SourceRegistryID = @SourceRegistryID_970a79af,
  @ReplicatedAt = @ReplicatedAt_970a79af,
  @LastSyncedAt = @LastSyncedAt_970a79af,
  @Specification = @Specification_970a79af,
  @FunctionalRequirements = @FunctionalRequirements_970a79af,
  @TechnicalDesign = @TechnicalDesign_970a79af,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_970a79af,
  @TechnicalDesignVector = @TechnicalDesignVector_970a79af,
  @HasCustomProps = @HasCustomProps_970a79af,
  @HasCustomEvents = @HasCustomEvents_970a79af,
  @RequiresData = @RequiresData_970a79af,
  @DependencyCount = @DependencyCount_970a79af,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_970a79af,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_970a79af,
  @HasRequiredCustomProps = @HasRequiredCustomProps_970a79af,
  @ID = @ID_970a79af;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_75d60427 NVARCHAR(MAX),
@Name_75d60427 NVARCHAR(500),
@Version_75d60427 NVARCHAR(50),
@VersionSequence_75d60427 INT,
@Title_75d60427 NVARCHAR(1000),
@Description_75d60427 NVARCHAR(MAX),
@Type_75d60427 NVARCHAR(255),
@Status_75d60427 NVARCHAR(50),
@DeveloperName_75d60427 NVARCHAR(255),
@DeveloperEmail_75d60427 NVARCHAR(255),
@DeveloperOrganization_75d60427 NVARCHAR(255),
@SourceRegistryID_75d60427 UNIQUEIDENTIFIER,
@ReplicatedAt_75d60427 DATETIMEOFFSET,
@LastSyncedAt_75d60427 DATETIMEOFFSET,
@Specification_75d60427 NVARCHAR(MAX),
@FunctionalRequirements_75d60427 NVARCHAR(MAX),
@TechnicalDesign_75d60427 NVARCHAR(MAX),
@FunctionalRequirementsVector_75d60427 NVARCHAR(MAX),
@TechnicalDesignVector_75d60427 NVARCHAR(MAX),
@HasCustomProps_75d60427 BIT,
@HasCustomEvents_75d60427 BIT,
@RequiresData_75d60427 BIT,
@DependencyCount_75d60427 INT,
@TechnicalDesignVectorEmbeddingModelID_75d60427 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_75d60427 NVARCHAR(MAX),
@HasRequiredCustomProps_75d60427 BIT,
@ID_75d60427 UNIQUEIDENTIFIER
SET
  @Namespace_75d60427 = N'AI/Analytics/Performance'
SET
  @Name_75d60427 = N'AIPerformanceDashboard'
SET
  @Version_75d60427 = N'1.0.0'
SET
  @VersionSequence_75d60427 = 1
SET
  @Title_75d60427 = N'AI Performance Dashboard'
SET
  @Description_75d60427 = N'Comprehensive dashboard for analyzing AI agent and prompt performance with time-series charts, cost analysis, and drill-down capabilities'
SET
  @Type_75d60427 = N'Dashboard'
SET
  @Status_75d60427 = N'Published'
SET
  @Specification_75d60427 = N'{"name":"AIPerformanceDashboard","location":"embedded","title":"AI Performance Dashboard","description":"Comprehensive dashboard for analyzing AI agent and prompt performance with time-series charts, cost analysis, and drill-down capabilities","type":"dashboard","functionalRequirements":"## AI Performance Dashboard Requirements\n\n### Core Functionality\n- Display multi-line time series charts showing total runs, tokens, and costs over time\n- Support multiple time groupings: day, week, month, quarter\n- Dual Y-axis display (tokens on left, runs/costs on right)\n- Click-to-drill-down on any chart point to see details for that period\n- Show distribution charts (pie/bar) for selected time period\n- Separate tabs for Agent Runs and Prompt Runs analysis\n- Real-time data refresh capabilities\n- Export functionality for charts and data\n\n### Analytics Features\n- Time series trends with moving averages\n- Cost breakdown by agent/prompt\n- Token usage distribution\n- Success/failure rate analysis\n- Performance comparisons across periods\n- Top consumers identification\n- Anomaly detection and alerts\n\n### UX Considerations\n- Responsive layout adapting to container size\n- Interactive tooltips on hover\n- Smooth chart animations\n- Loading states during data fetch\n- Clear visual hierarchy\n- Consistent color coding across charts\n- Mobile-responsive design","dataRequirements":{"mode":"views","description":"Loads AI performance data including agent runs, prompt runs, and aggregated metrics","entities":[{"name":"MJ: AI Agent Runs","description":"Historical agent execution data for performance analysis","displayFields":["ID","AgentID","Agent","StartedAt","CompletedAt","Success","TotalTokensUsed","TotalCost"],"filterFields":["StartedAt","Success","AgentID"],"sortFields":["StartedAt"],"fieldMetadata":[{"name":"ID","type":"uniqueidentifier","isPrimaryKey":true,"allowsNull":false,"description":"Unique run identifier"},{"name":"AgentID","type":"uniqueidentifier","allowsNull":false,"description":"Reference to AI Agent"},{"name":"Agent","type":"nvarchar","allowsNull":true,"description":"Agent name (denormalized)"},{"name":"StartedAt","type":"datetime","allowsNull":false,"description":"Execution start timestamp"},{"name":"TotalTokensUsed","type":"int","allowsNull":true,"description":"Total tokens consumed"},{"name":"TotalCost","type":"decimal","allowsNull":true,"description":"Total cost in USD"}],"permissionLevelNeeded":["read"]},{"name":"MJ: AI Prompt Runs","description":"Historical prompt execution data for performance analysis","displayFields":["ID","PromptID","Prompt","ModelID","Model","RunAt","CompletedAt","Success","TokensUsed","TotalCost"],"filterFields":["RunAt","Success","PromptID","ModelID"],"sortFields":["RunAt"],"fieldMetadata":[{"name":"ID","type":"uniqueidentifier","isPrimaryKey":true,"allowsNull":false,"description":"Unique run identifier"},{"name":"PromptID","type":"uniqueidentifier","allowsNull":false,"description":"Reference to AI Prompt"},{"name":"Prompt","type":"nvarchar","allowsNull":true,"description":"Prompt name (denormalized)"},{"name":"RunAt","type":"datetime","allowsNull":false,"description":"Execution timestamp"},{"name":"TokensUsed","type":"int","allowsNull":true,"description":"Total tokens consumed"},{"name":"TotalCost","type":"decimal","allowsNull":true,"description":"Total cost in USD"}],"permissionLevelNeeded":["read"]}],"queries":[]},"technicalDesign":"## Component Architecture\n\n### Root Component (AIPerformanceDashboard)\n- Manages overall dashboard state and data loading\n- Handles time range selection and grouping\n- Coordinates drill-down state between components\n- Manages tab switching between Agent and Prompt views\n\n### Child Components\n1. **AITimeSeriesChart**: Multi-line chart with dual Y-axes for runs/tokens/costs\n2. **AIDistributionChart**: Pie/bar charts showing breakdown by agent or prompt\n3. **AIDetailTable**: Detailed table view for drill-down data\n4. **AIMetricsSummary**: Key metrics cards for selected period\n\n### Data Flow\n- Root component loads data based on selected time range\n- Aggregates data by selected grouping (day/week/month/quarter)\n- Passes aggregated data to chart components\n- Handles drill-down events and updates detail views\n- Manages state persistence through savedUserSettings\n\n### State Management\n- Selected time range and grouping\n- Active tab (agents vs prompts)\n- Drill-down selection (selected date/period)\n- Chart view preferences\n- Filter states","properties":[],"events":[],"exampleUsage":"<AIPerformanceDashboard />","code":"function AIPerformanceDashboard({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AIPerformanceDashboard] Initializing with settings:'', savedUserSettings);\n  console.log(''[AIPerformanceDashboard] Available components:'', components ? Object.keys(components) : ''none'');\n  \n  // Extract child components with fallbacks\n  const {\n    AITimeSeriesChart,\n    AIDistributionChart,\n    AIDetailTable,\n    AIMetricsSummary,\n    AIInsightsPanel,\n    DataExportPanel\n  } = components;\n  \n  // Check if required components are available\n  if (!AITimeSeriesChart || !AIDistributionChart || !AIDetailTable || !AIMetricsSummary || !AIInsightsPanel) {\n    return (\n      <div style={{\n        padding: styles?.spacing?.lg || ''20px'',\n        color: styles?.colors?.error || ''red'',\n        textAlign: ''center''\n      }}>\n        Error: Required child components are not available. Please ensure all dashboard components are loaded.\n        <br />\n        Missing: {[\n          !AITimeSeriesChart && ''AITimeSeriesChart'',\n          !AIDistributionChart && ''AIDistributionChart'',\n          !AIDetailTable && ''AIDetailTable'',\n          !AIMetricsSummary && ''AIMetricsSummary'',\n          !AIInsightsPanel && ''AIInsightsPanel''\n        ].filter(Boolean).join('', '')}\n      </div>\n    );\n  }\n  \n  // Initialize state from saved settings\n  const [timeRange, setTimeRange] = useState(savedUserSettings?.timeRange || ''30d'');\n  const [groupBy, setGroupBy] = useState(savedUserSettings?.groupBy || ''day'');\n  const [activeTab, setActiveTab] = useState(savedUserSettings?.activeTab || ''agents'');\n  const [selectedPoint, setSelectedPoint] = useState(null);\n  \n  // Data state\n  const [agentRuns, setAgentRuns] = useState([]);\n  const [promptRuns, setPromptRuns] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // AI Insights state\n  const [aiInsights, setAiInsights] = useState(null);\n  const [loadingInsights, setLoadingInsights] = useState(false);\n  const [insightsError, setInsightsError] = useState(null);\n  \n  // Calculate date range\n  const getDateRange = useCallback(() => {\n    const end = new Date();\n    const start = new Date();\n    \n    switch(timeRange) {\n      case ''7d'':\n        start.setDate(end.getDate() - 7);\n        break;\n      case ''30d'':\n        start.setDate(end.getDate() - 30);\n        break;\n      case ''90d'':\n        start.setDate(end.getDate() - 90);\n        break;\n      case ''1y'':\n        start.setFullYear(end.getFullYear() - 1);\n        break;\n      default:\n        start.setDate(end.getDate() - 30);\n    }\n    \n    return { start, end };\n  }, [timeRange]);\n  \n  // Load data\n  useEffect(() => {\n    const loadData = async () => {\n      console.log(''[AIPerformanceDashboard] Loading data for range:'', timeRange);\n      setLoading(true);\n      setError(null);\n      \n      const { start, end } = getDateRange();\n      \n      try {\n        // Load agent runs\n        const agentFilter = `StartedAt >= ''$' + '{start.toISOString()}'' AND StartedAt <= ''$' + '{end.toISOString()}''`;\n        console.log(''[AIPerformanceDashboard] Loading agent runs with filter:'', agentFilter);\n        \n        const agentResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Agent Runs'',\n          ExtraFilter: agentFilter,\n          OrderBy: ''StartedAt ASC'',\n          Fields: [''ID'', ''AgentID'', ''Agent'', ''StartedAt'', ''CompletedAt'', ''Success'', ''TotalTokensUsed'', ''TotalCost''],\n          MaxRows: 10000\n        });\n        \n        console.log(''[AIPerformanceDashboard] Agent runs loaded:'', {\n          success: agentResult?.Success,\n          count: agentResult?.Results?.length,\n          error: agentResult?.ErrorMessage\n        });\n        \n        if (agentResult?.Success) {\n          setAgentRuns(agentResult.Results || []);\n        } else {\n          console.error(''[AIPerformanceDashboard] Failed to load agent runs:'', agentResult?.ErrorMessage);\n        }\n        \n        // Load prompt runs\n        const promptFilter = `RunAt >= ''$' + '{start.toISOString()}'' AND RunAt <= ''$' + '{end.toISOString()}''`;\n        console.log(''[AIPerformanceDashboard] Loading prompt runs with filter:'', promptFilter);\n        \n        const promptResult = await utilities.rv.RunView({\n          EntityName: ''MJ: AI Prompt Runs'',\n          ExtraFilter: promptFilter,\n          OrderBy: ''RunAt ASC'',\n          Fields: [''ID'', ''PromptID'', ''Prompt'', ''ModelID'', ''Model'', ''RunAt'', ''CompletedAt'', ''Success'', ''TokensUsed'', ''TotalCost''],\n          MaxRows: 10000\n        });\n        \n        console.log(''[AIPerformanceDashboard] Prompt runs loaded:'', {\n          success: promptResult?.Success,\n          count: promptResult?.Results?.length,\n          error: promptResult?.ErrorMessage\n        });\n        \n        if (promptResult?.Success) {\n          setPromptRuns(promptResult.Results || []);\n        } else {\n          console.error(''[AIPerformanceDashboard] Failed to load prompt runs:'', promptResult?.ErrorMessage);\n        }\n        \n      } catch (error) {\n        console.error(''[AIPerformanceDashboard] Error loading data:'', error);\n        setError(error.message || ''Failed to load data'');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadData();\n  }, [timeRange, getDateRange]);\n  \n  // Aggregate data by time period\n  const aggregateData = useCallback((data, dateField, grouping) => {\n    console.log(`[AIPerformanceDashboard] Aggregating $' + '{data.length} records by $' + '{grouping}`);\n    \n    const grouped = {};\n    \n    data.forEach(item => {\n      const date = new Date(item[dateField]);\n      let key;\n      \n      switch(grouping) {\n        case ''day'':\n          key = date.toISOString().split(''T'')[0];\n          break;\n        case ''week'':\n          const weekStart = new Date(date);\n          weekStart.setDate(date.getDate() - date.getDay());\n          key = weekStart.toISOString().split(''T'')[0];\n          break;\n        case ''month'':\n          key = `$' + '{date.getFullYear()}-$' + '{String(date.getMonth() + 1).padStart(2, ''0'')}`;\n          break;\n        case ''quarter'':\n          const quarter = Math.floor(date.getMonth() / 3) + 1;\n          key = `$' + '{date.getFullYear()}-Q$' + '{quarter}`;\n          break;\n        default:\n          key = date.toISOString().split(''T'')[0];\n      }\n      \n      if (!grouped[key]) {\n        grouped[key] = {\n          date: key,\n          runs: 0,\n          tokens: 0,\n          cost: 0,\n          items: []\n        };\n      }\n      \n      grouped[key].runs++;\n      grouped[key].tokens += (item.TotalTokensUsed || item.TokensUsed || 0);\n      grouped[key].cost += (item.TotalCost || 0);\n      grouped[key].items.push(item);\n    });\n\n    // Ensure all numeric values are valid (not NaN) before returning\n    const result = Object.values(grouped)\n      .map(group => ({\n        ...group,\n        runs: Number.isFinite(group.runs) ? group.runs : 0,\n        tokens: Number.isFinite(group.tokens) ? group.tokens : 0,\n        cost: Number.isFinite(group.cost) ? group.cost : 0\n      }))\n      .sort((a, b) => a.date.localeCompare(b.date));\n    console.log(`[AIPerformanceDashboard] Aggregated into $' + '{result.length} groups`);\n    return result;\n  }, []);\n  \n  // Get aggregated data for current view\n  const chartData = useMemo(() => {\n    const data = activeTab === ''agents'' ? agentRuns : promptRuns;\n    const dateField = activeTab === ''agents'' ? ''StartedAt'' : ''RunAt'';\n    return aggregateData(data, dateField, groupBy);\n  }, [activeTab, agentRuns, promptRuns, groupBy, aggregateData]);\n  \n  // Handle drill-down\n  const handleChartClick = useCallback((dataPoint) => {\n    console.log(''[AIPerformanceDashboard] Chart clicked:'', dataPoint);\n    setSelectedPoint(dataPoint);\n  }, []);\n  \n  // Handle time range change\n  const handleTimeRangeChange = useCallback((range) => {\n    console.log(''[AIPerformanceDashboard] Time range changed to:'', range);\n    setTimeRange(range);\n    setSelectedPoint(null);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      timeRange: range\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle grouping change\n  const handleGroupByChange = useCallback((grouping) => {\n    console.log(''[AIPerformanceDashboard] Grouping changed to:'', grouping);\n    setGroupBy(grouping);\n    setSelectedPoint(null);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      groupBy: grouping\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Handle tab change\n  const handleTabChange = useCallback((tab) => {\n    console.log(''[AIPerformanceDashboard] Tab changed to:'', tab);\n    setActiveTab(tab);\n    setSelectedPoint(null);\n    onSaveUserSettings?.({\n      ...savedUserSettings,\n      activeTab: tab\n    });\n  }, [savedUserSettings, onSaveUserSettings]);\n  \n  // Calculate summary metrics\n  const metrics = useMemo(() => {\n    const data = activeTab === ''agents'' ? agentRuns : promptRuns;\n    return {\n      totalRuns: data.length,\n      totalTokens: data.reduce((sum, item) => sum + (item.TotalTokensUsed || item.TokensUsed || 0), 0),\n      totalCost: data.reduce((sum, item) => sum + (item.TotalCost || 0), 0),\n      avgTokensPerRun: data.length > 0 ? Math.round(data.reduce((sum, item) => sum + (item.TotalTokensUsed || item.TokensUsed || 0), 0) / data.length) : 0,\n      avgCostPerRun: data.length > 0 ? data.reduce((sum, item) => sum + (item.TotalCost || 0), 0) / data.length : 0\n    };\n  }, [activeTab, agentRuns, promptRuns]);\n\n  // Prepare data for export - memoized to prevent re-computation\n  const prepareExportData = React.useMemo(() => {\n    const currentData = activeTab === ''agents'' ? agentRuns : promptRuns;\n    const dateField = activeTab === ''agents'' ? ''StartedAt'' : ''RunAt'';\n\n    return currentData.map(item => ({\n      ID: item.ID || '''',\n      Name: activeTab === ''agents'' ? (item.Agent || '''') : (item.Prompt || ''''),\n      Type: activeTab === ''agents'' ? ''Agent Run'' : ''Prompt Run'',\n      Model: item.Model || '''',\n      ExecutionDate: item[dateField] ? new Date(item[dateField]).toLocaleDateString() : '''',\n      Success: item.Success ? ''Yes'' : ''No'',\n      TokensUsed: item.TotalTokensUsed || item.TokensUsed || 0,\n      Cost: item.TotalCost ? `$$' + '{item.TotalCost.toFixed(4)}` : ''$0.0000'',\n      CompletedAt: item.CompletedAt ? new Date(item.CompletedAt).toLocaleDateString() : ''''\n    }));\n  }, [activeTab, agentRuns, promptRuns]);\n\n  // Define export columns - memoized to prevent re-creation\n  const getExportColumns = React.useMemo(() => {\n    return [\n      { key: ''ID'', label: ''ID'' },\n      { key: ''Name'', label: activeTab === ''agents'' ? ''Agent Name'' : ''Prompt Name'' },\n      { key: ''Type'', label: ''Type'' },\n      { key: ''Model'', label: ''Model'' },\n      { key: ''ExecutionDate'', label: ''Execution Date'' },\n      { key: ''Success'', label: ''Success'' },\n      { key: ''TokensUsed'', label: ''Tokens Used'' },\n      { key: ''Cost'', label: ''Cost'' },\n      { key: ''CompletedAt'', label: ''Completed At'' }\n    ];\n  }, [activeTab]);\n  \n\n  // Generate AI Insights - wrap with useCallback\n  const generateAIInsights = React.useCallback(async () => {\n    setLoadingInsights(true);\n    setInsightsError(null);\n    \n    try {\n      const currentData = activeTab === ''agents'' ? agentRuns : promptRuns;\n      const dataType = activeTab === ''agents'' ? ''AI Agent'' : ''AI Prompt'';\n      \n      // Calculate additional metrics for deeper analysis\n      const modelDistribution = {};\n      const agentDistribution = {};\n      let successRate = 0;\n      let failureCount = 0;\n      \n      currentData.forEach(run => {\n        // Model distribution\n        const model = run.Model || run.ModelID || ''Unknown'';\n        modelDistribution[model] = (modelDistribution[model] || 0) + 1;\n        \n        // Agent/Prompt distribution\n        const name = run.Agent || run.AgentName || run.Prompt || run.PromptName || ''Unknown'';\n        agentDistribution[name] = (agentDistribution[name] || 0) + 1;\n        \n        // Success tracking\n        if (run.IsSuccess === true || run.Status === ''Success'') {\n          successRate++;\n        } else if (run.IsSuccess === false || run.Status === ''Failed'') {\n          failureCount++;\n        }\n      });\n      \n      successRate = currentData.length > 0 ? ((successRate / currentData.length) * 100).toFixed(1) : 0;\n      \n      const prompt = `Analyze this $' + '{dataType} performance data and provide actionable insights:\n\n## Performance Overview\n- **Time Period:** $' + '{timeRange}\n- **Data Grouping:** $' + '{groupBy}\n- **Total Runs:** $' + '{metrics.totalRuns}\n- **Total Tokens Used:** $' + '{metrics.totalTokens.toLocaleString()}\n- **Total Cost:** $$' + '{metrics.totalCost.toFixed(2)}\n- **Average Tokens per Run:** $' + '{metrics.avgTokensPerRun.toLocaleString()}\n- **Average Cost per Run:** $$' + '{metrics.avgCostPerRun.toFixed(4)}\n- **Success Rate:** $' + '{successRate}%\n- **Failed Runs:** $' + '{failureCount}\n\n## Model Distribution\n$' + '{Object.entries(modelDistribution)\n  .sort((a, b) => b[1] - a[1])\n  .slice(0, 5)\n  .map(([model, count]) => `- **$' + '{model}:** $' + '{count} runs ($' + '{((count/metrics.totalRuns)*100).toFixed(1)}%)`)\n  .join(''\\n'')}\n\n## Top $' + '{dataType === ''AI Agent'' ? ''Agents'' : ''Prompts''}\n$' + '{Object.entries(agentDistribution)\n  .sort((a, b) => b[1] - a[1])\n  .slice(0, 5)\n  .map(([name, count]) => `- **$' + '{name}:** $' + '{count} runs`)\n  .join(''\\n'')}\n\n## Recent Performance Trends (Last 5 $' + '{groupBy === ''hour'' ? ''Hours'' : groupBy === ''day'' ? ''Days'' : ''Periods''})\n$' + '{chartData.slice(-5).map(d =>\n  `- **$' + '{d.date}:** $' + '{d.runs} runs, $' + '{d.tokens?.toLocaleString() || ''0''} tokens, $$' + '{d.cost?.toFixed(2) || ''0.00''}`\n).join(''\\n'')}\n\n## Cost Analysis\n- **Highest Cost Period:** $' + '{chartData.reduce((max, d) => d.cost > max.cost ? d : max, chartData?.[0] || {}).date || ''N/A''}\n- **Most Active Period:** $' + '{chartData.reduce((max, d) => d.runs > max.runs ? d : max, chartData?.[0] || {}).date || ''N/A''}\n- **Token Efficiency Trend:** $' + '{chartData.length > 1 \n  ? (chartData[chartData.length-1].tokens/chartData[chartData.length-1].runs < chartData[0].tokens/chartData[0].runs \n    ? ''Improving'' : ''Declining'')\n  : ''Stable''}\n\nBased on this specific data, please provide:\n1. **Key Performance Insights** - What patterns and trends are evident in the data?\n2. **Cost Efficiency Analysis** - Are costs justified by usage patterns? Where can we optimize?\n3. **Token Usage Patterns** - Any unusual spikes or inefficiencies?\n4. **Model Optimization** - Should we adjust model selection based on the distribution?\n5. **Specific Recommendations** - 3-4 actionable steps to improve performance and reduce costs\n6. **Risk Indicators** - Any anomalies or concerns that need immediate attention?\n\nUse markdown formatting with headers (##), bullet points, and **bold** text. Reference the actual numbers in your analysis.`;\n      \n      const result = await utilities.ai.ExecutePrompt({\n        systemPrompt: ''You are an expert AI performance analyst specializing in token usage optimization, cost management, and AI system efficiency. Analyze the specific metrics provided and give actionable recommendations. Always reference the actual numbers and percentages from the data. Format your response in clear markdown.'',\n        messages: prompt,\n        preferredModels: [''GPT-OSS-120B'', ''Qwen3 32B''],\n        modelPower: ''high'',\n        temperature: 0.7,\n        maxTokens: 1500\n      });\n      \n      if (result?.success && result?.result) {\n        setAiInsights(result.result);\n      } else {\n        setInsightsError(''Failed to generate insights. Please try again.'');\n      }\n    } catch (error) {\n      setInsightsError(error.message || ''Failed to generate AI insights'');\n    } finally {\n      setLoadingInsights(false);\n    }\n  }, [activeTab, agentRuns, promptRuns]);\n  \n  console.log(''[AIPerformanceDashboard] Current state:'', {\n    timeRange,\n    groupBy,\n    activeTab,\n    agentRunsCount: agentRuns.length,\n    promptRunsCount: promptRuns.length,\n    chartDataPoints: chartData.length,\n    selectedPoint: selectedPoint?.date\n  });\n  \n  if (loading) {\n    return (\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        alignItems: ''center'',\n        height: ''100%'',\n        color: styles.colors.textSecondary\n      }}>\n        Loading performance data...\n      </div>\n    );\n  }\n  \n  if (error) {\n    return (\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        alignItems: ''center'',\n        height: ''100%'',\n        color: styles.colors.error\n      }}>\n        Error: {error}\n      </div>\n    );\n  }\n  \n  return (\n    <div style={{\n      height: ''100%'',\n      display: ''flex'',\n      flexDirection: ''column'',\n      backgroundColor: styles.colors.background,\n      padding: styles.spacing.md\n    }}>\n      <style>{`\n        /* Markdown content styling */\n        .markdown-insights h1 { font-size: 20px; font-weight: 600; color: #111827; margin: 16px 0 12px 0; }\n        .markdown-insights h2 { font-size: 18px; font-weight: 600; color: #1F2937; margin: 14px 0 10px 0; }\n        .markdown-insights h3 { font-size: 16px; font-weight: 600; color: #374151; margin: 12px 0 8px 0; }\n        .markdown-insights h4 { font-size: 14px; font-weight: 600; color: #4B5563; margin: 10px 0 6px 0; }\n        .markdown-insights p { margin: 8px 0; color: #374151; line-height: 1.6; }\n        .markdown-insights ul, .markdown-insights ol { margin: 8px 0; padding-left: 24px; color: #374151; }\n        .markdown-insights li { margin: 4px 0; line-height: 1.5; }\n        .markdown-insights strong { font-weight: 600; color: #1F2937; }\n        .markdown-insights em { font-style: italic; }\n        .markdown-insights code { background: #F3F4F6; padding: 2px 4px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }\n        .markdown-insights blockquote { border-left: 3px solid #6366F1; padding-left: 12px; margin: 12px 0; color: #4B5563; }\n        .markdown-insights hr { border: none; border-top: 1px solid #E5E7EB; margin: 16px 0; }\n        .markdown-insights a { color: #6366F1; text-decoration: none; }\n        .markdown-insights a:hover { text-decoration: underline; }\n      `}</style>\n      {/* Header Controls */}\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center'',\n        marginBottom: styles.spacing.lg,\n        flexWrap: ''wrap'',\n        gap: styles.spacing.md\n      }}>\n        {/* Tab Selector */}\n        <div style={{\n          display: ''flex'',\n          gap: styles.spacing.xs,\n          backgroundColor: styles.colors.surface,\n          padding: styles.spacing.xs,\n          borderRadius: styles.borders?.radius || ''4px''\n        }}>\n          <button\n            onClick={() => handleTabChange(''agents'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: activeTab === ''agents'' ? styles.colors.primary : ''transparent'',\n              color: activeTab === ''agents'' ? ''white'' : styles.colors.text,\n              border: ''none'',\n              borderRadius: styles.borders?.radius || ''4px'',\n              cursor: ''pointer'',\n              fontWeight: activeTab === ''agents'' ? ''600'' : ''400''\n            }}\n          >\n            Agent Runs\n          </button>\n          <button\n            onClick={() => handleTabChange(''prompts'')}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: activeTab === ''prompts'' ? styles.colors.primary : ''transparent'',\n              color: activeTab === ''prompts'' ? ''white'' : styles.colors.text,\n              border: ''none'',\n              borderRadius: styles.borders?.radius || ''4px'',\n              cursor: ''pointer'',\n              fontWeight: activeTab === ''prompts'' ? ''600'' : ''400''\n            }}\n          >\n            Prompt Runs\n          </button>\n        </div>\n        \n        {/* Time Controls */}\n        <div style={{\n          display: ''flex'',\n          gap: styles.spacing.md,\n          alignItems: ''center''\n        }}>\n          {/* Time Range */}\n          <select\n            value={timeRange}\n            onChange={(e) => handleTimeRangeChange(e.target.value)}\n            style={{\n              padding: styles.spacing.sm,\n              border: `1px solid $' + '{styles.colors.border}`,\n              borderRadius: styles.borders?.radius || ''4px'',\n              backgroundColor: styles.colors.surface,\n              color: styles.colors.text\n            }}\n          >\n            <option value=\"7d\">Last 7 Days</option>\n            <option value=\"30d\">Last 30 Days</option>\n            <option value=\"90d\">Last 90 Days</option>\n            <option value=\"1y\">Last Year</option>\n          </select>\n          \n          {/* Group By */}\n          <select\n            value={groupBy}\n            onChange={(e) => handleGroupByChange(e.target.value)}\n            style={{\n              padding: styles.spacing.sm,\n              border: `1px solid $' + '{styles.colors.border}`,\n              borderRadius: styles.borders?.radius || ''4px'',\n              backgroundColor: styles.colors.surface,\n              color: styles.colors.text\n            }}\n          >\n            <option value=\"day\">By Day</option>\n            <option value=\"week\">By Week</option>\n            <option value=\"month\">By Month</option>\n            <option value=\"quarter\">By Quarter</option>\n          </select>\n          \n          {/* Export Button */}\n          {DataExportPanel && (\n            <DataExportPanel\n              key=\"export-panel\"  // Add stable key\n              data={prepareExportData}\n              columns={getExportColumns}\n              filename={`ai-performance-$' + '{activeTab}-$' + '{new Date().toISOString().split(''T'')[0]}`}\n              formats={[''csv'', ''excel'', ''pdf'']}\n              buttonStyle=\"dropdown\"\n              buttonText=\"Export\"\n              icon=\"fa-download\"\n              customStyles={{\n                button: {\n                  padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n                  backgroundColor: ''#10B981'',\n                  color: ''white'',\n                  border: ''none'',\n                  borderRadius: styles.borders?.radius || ''4px'',\n                  cursor: ''pointer'',\n                  fontSize: ''14px'',\n                  display: ''inline-flex'',\n                  alignItems: ''center'',\n                  gap: styles.spacing.xs\n                }\n              }}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n            />\n          )}\n\n          {/* AI Insights Button */}\n          <button\n            onClick={generateAIInsights}\n            disabled={loadingInsights || loading}\n            style={{\n              padding: `$' + '{styles.spacing.sm} $' + '{styles.spacing.md}`,\n              backgroundColor: styles.colors.primary,\n              color: ''white'',\n              border: ''none'',\n              borderRadius: styles.borders?.radius || ''4px'',\n              cursor: loadingInsights || loading ? ''not-allowed'' : ''pointer'',\n              display: ''flex'',\n              alignItems: ''center'',\n              gap: styles.spacing.xs,\n              opacity: loadingInsights || loading ? 0.6 : 1\n            }}\n          >\n            <i className={`fa-solid fa-$' + '{loadingInsights ? ''spinner fa-spin'' : ''wand-magic-sparkles''}`}></i>\n            {loadingInsights ? ''Analyzing...'' : ''Get AI Insights''}\n          </button>\n        </div>\n      </div>\n      \n      {/* AI Insights Panel */}\n      <AIInsightsPanel\n        utilities={utilities}\n        styles={styles}\n        components={components}\n        callbacks={callbacks}\n        savedUserSettings={savedUserSettings?.aiInsights}\n        onSaveUserSettings={(settings) => onSaveUserSettings?.({\n          ...savedUserSettings,\n          aiInsights: settings\n        })}\n        insights={aiInsights}\n        loading={loadingInsights}\n        error={insightsError}\n        onGenerate={generateAIInsights}\n        title=\"AI-Powered Performance Analysis\"\n        icon=\"fa-wand-magic-sparkles\"\n        iconColor={styles.colors.primary}\n        position=\"top\"\n        onClose={() => {\n          setAiInsights(null);\n          setInsightsError(null);\n        }}\n      />\n      \n      {/* Metrics Summary */}\n      <AIMetricsSummary\n        metrics={metrics}\n        styles={styles}\n        utilities={utilities}\n        components={components}\n        callbacks={callbacks}\n        savedUserSettings={savedUserSettings?.metricsSummary}\n        onSaveUserSettings={(settings) => onSaveUserSettings?.({\n          ...savedUserSettings,\n          metricsSummary: settings\n        })}\n      />\n      \n      {/* Main Chart Area */}\n      <div style={{\n        flex: 1,\n        display: ''flex'',\n        flexDirection: ''column'',\n        gap: styles.spacing.lg,\n        minHeight: 0\n      }}>\n        {/* Time Series Chart */}\n        <div style={{\n          flex: selectedPoint ? ''0 0 400px'' : ''1'',\n          minHeight: ''300px''\n        }}>\n          <AITimeSeriesChart\n            data={chartData}\n            groupBy={groupBy}\n            activeTab={activeTab}\n            selectedPoint={selectedPoint}\n            onPointClick={handleChartClick}\n            styles={styles}\n            utilities={utilities}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings?.timeSeriesChart}\n            onSaveUserSettings={(settings) => onSaveUserSettings?.({\n              ...savedUserSettings,\n              timeSeriesChart: settings\n            })}\n          />\n        </div>\n        \n        {/* Drill-down Area */}\n        {selectedPoint && (\n          <div style={{\n            flex: 1,\n            display: ''flex'',\n            gap: styles.spacing.md,\n            minHeight: 0\n          }}>\n            {/* Distribution Chart */}\n            <div style={{ flex: ''0 0 400px'' }}>\n              <AIDistributionChart\n                data={selectedPoint.items}\n                activeTab={activeTab}\n                groupBy={groupBy}\n                styles={styles}\n                utilities={utilities}\n                components={components}\n                callbacks={callbacks}\n                savedUserSettings={savedUserSettings?.distributionChart}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  distributionChart: settings\n                })}\n              />\n            </div>\n            \n            {/* Detail Table */}\n            <div style={{ flex: 1, overflow: ''auto'' }}>\n              <AIDetailTable\n                data={selectedPoint.items}\n                activeTab={activeTab}\n                styles={styles}\n                utilities={utilities}\n                components={components}\n                callbacks={callbacks}\n                savedUserSettings={savedUserSettings?.detailTable}\n                onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                  ...savedUserSettings,\n                  detailTable: settings\n                })}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","dependencies":[{"name":"AITimeSeriesChart","location":"registry","namespace":"AI/Analytics/Performance","version":"^1.0.0"},{"name":"AIDistributionChart","location":"registry","namespace":"AI/Analytics/Performance","version":"^1.0.0"},{"name":"AIDetailTable","location":"registry","namespace":"AI/Analytics/Performance","version":"^1.0.0"},{"name":"AIMetricsSummary","location":"registry","namespace":"AI/Analytics/Performance","version":"^1.0.0"},{"name":"AIInsightsPanel","location":"registry","namespace":"Generic/UI/AI","version":"^1.0.0"},{"name":"DataExportPanel","location":"registry","namespace":"Generic/UI/Export","version":"^1.0.0"}],"libraries":[]}'
SET
  @FunctionalRequirements_75d60427 = N'## AI Performance Dashboard Requirements

### Core Functionality
- Display multi-line time series charts showing total runs, tokens, and costs over time
- Support multiple time groupings: day, week, month, quarter
- Dual Y-axis display (tokens on left, runs/costs on right)
- Click-to-drill-down on any chart point to see details for that period
- Show distribution charts (pie/bar) for selected time period
- Separate tabs for Agent Runs and Prompt Runs analysis
- Real-time data refresh capabilities
- Export functionality for charts and data

### Analytics Features
- Time series trends with moving averages
- Cost breakdown by agent/prompt
- Token usage distribution
- Success/failure rate analysis
- Performance comparisons across periods
- Top consumers identification
- Anomaly detection and alerts

### UX Considerations
- Responsive layout adapting to container size
- Interactive tooltips on hover
- Smooth chart animations
- Loading states during data fetch
- Clear visual hierarchy
- Consistent color coding across charts
- Mobile-responsive design'
SET
  @TechnicalDesign_75d60427 = N'## Component Architecture

### Root Component (AIPerformanceDashboard)
- Manages overall dashboard state and data loading
- Handles time range selection and grouping
- Coordinates drill-down state between components
- Manages tab switching between Agent and Prompt views

### Child Components
1. **AITimeSeriesChart**: Multi-line chart with dual Y-axes for runs/tokens/costs
2. **AIDistributionChart**: Pie/bar charts showing breakdown by agent or prompt
3. **AIDetailTable**: Detailed table view for drill-down data
4. **AIMetricsSummary**: Key metrics cards for selected period

### Data Flow
- Root component loads data based on selected time range
- Aggregates data by selected grouping (day/week/month/quarter)
- Passes aggregated data to chart components
- Handles drill-down events and updates detail views
- Manages state persistence through savedUserSettings

### State Management
- Selected time range and grouping
- Active tab (agents vs prompts)
- Drill-down selection (selected date/period)
- Chart view preferences
- Filter states'
SET
  @FunctionalRequirementsVector_75d60427 = N'[-0.03856370225548744,0.05527455359697342,-0.052025988698005676,-0.047080881893634796,0.030486153438687325,-0.011693812906742096,0.02131221629679203,-0.029690904542803764,-0.015030958689749241,0.014826660975813866,0.01962476596236229,0.02482612244784832,0.02272988110780716,0.17276735603809357,-0.014543892815709114,-0.023194584995508194,-0.0026480620726943016,0.009618005715310574,0.048173852264881134,0.009294748306274414,-0.0015788392629474401,-0.03695442155003548,0.0028311575297266245,0.01815735176205635,-0.054483067244291306,-0.03462359309196472,-0.015274438075721264,-0.018350200727581978,0.003200677689164877,-0.09335571527481079,-0.0011544862063601613,-0.04377938061952591,-0.04828617349267006,0.07593150436878204,0.000002302678922205814,-0.024334272369742393,-0.02947508729994297,0.021569712087512016,-0.03988424688577652,0.03384285792708397,0.06017497926950455,-0.01133018173277378,0.038015712052583694,0.025197524577379227,-0.01445561833679676,0.035771019756793976,0.0031969952397048473,-0.014062080532312393,0.03780097886919975,-0.01006829459220171,-0.010970540344715118,0.043057478964328766,-0.07135877013206482,-0.02875398099422455,-0.03985529765486717,-0.07381507009267807,-0.028819574043154716,-0.053285203874111176,0.058189891278743744,-0.05556728318333626,-0.003288723761215806,0.02597699500620365,0.040790118277072906,-0.020126573741436005,0.04875104874372482,0.04025277867913246,0.02241775207221508,-0.045783717185258865,-0.04332581162452698,-0.00999278761446476,0.08625075221061707,0.02525140531361103,-0.02903621271252632,-0.008061788976192474,-0.019523249939084053,-0.05181792378425598,-0.014026573859155178,-0.018043801188468933,0.00998077355325222,-0.014551321044564247,-0.048979464918375015,0.04705497622489929,-0.013271389529109001,-0.010058206506073475,-0.03903035819530487,0.049467526376247406,-0.014682281762361526,-0.015566842630505562,-0.00665999623015523,-0.003003185847774148,0.05186901241540909,0.002021234016865492,-0.006502158939838409,-0.007296097464859486,-0.08031006157398224,-0.03471387177705765,0.034591007977724075,-0.06518717855215073,-0.0004485909885261208,-0.012203913182020187,0.07161872088909149,-0.0019874884746968746,0.001327970065176487,0.029241904616355896,0.03877408057451248,0.10787053406238556,-0.016910986974835396,-0.0417189858853817,-0.033512916415929794,0.02231920138001442,0.026846760883927345,-0.003411058569326997,0.004147377796471119,0.03627151623368263,0.03506559506058693,-0.03748888894915581,-0.0364522710442543,0.024103697389364243,-0.046455178409814835,0.0326082706451416,0.05072978511452675,0.015643613412976265,-0.00910096149891615,0.046839263290166855,-0.016003720462322235,0.0054490575566887856,-0.0647045373916626,0.029383542016148567,0.017251305282115936,-0.04162408038973808,-0.024132326245307922,-0.003402515547350049,-0.0053609865717589855,0.0019921136554330587,0.003766095731407404,0.037844933569431305,0.06925351172685623,0.004939052276313305,-0.029675450176000595,-0.015995876863598824,0.03291533142328262,-0.04531038925051689,-0.07792560011148453,0.047245707362890244,0.026990588754415512,-0.03288986161351204,0.009843196719884872,0.07977177947759628,-0.010277933441102505,0.0007410431862808764,-0.0002541064459364861,-0.025316882878541946,-0.030027367174625397,0.02154367044568062,-0.03036424145102501,-0.03178562596440315,-0.010108774527907372,0.007705776020884514,0.0363197959959507,0.03366513177752495,0.04667636379599571,0.012880061753094196,0.0026942379772663116,-0.005530114285647869,0.003627325175330043,-0.01040856447070837,0.008936505764722824,0.0034910892136394978,-0.07995616644620895,0.002864511450752616,0.01697264239192009,-0.014549710787832737,0.03952888026833534,0.0005873269401490688,0.02273058146238327,0.03877965360879898,0.01706695184111595,-0.07509111613035202,0.007319544441998005,-0.004018793348222971,0.030982431024312973,-0.09624270349740982,0.004218790680170059,0.03212305158376694,0.028208954259753227,0.005501149222254753,-0.005639176350086927,0.05542023852467537,-0.027309736236929893,-0.024600662291049957,-0.020365411415696144,-0.027502350509166718,-0.07300212234258652,0.015361936762928963,0.026653381064534187,-0.005695030093193054,-0.022692998871207237,-0.09528854489326477,-0.004567850846797228,-0.012737816199660301,-0.027374623343348503,-0.044805437326431274,0.05775636434555054,0.04094890132546425,0.030340371653437614,-0.0007014668663032353,-0.009610870853066444,-0.020027507096529007,-0.036286354064941406,0.00005046361548011191,0.042785655707120895,-0.009034008719027042,-0.013009512796998024,0.011414860375225544,-0.02745201624929905,0.015897424891591072,0.012579203583300114,0.0081694470718503,-0.017382845282554626,0.0479527972638607,-0.03886663541197777,0.005993638187646866,-0.03065257892012596,0.022189995273947716,0.10308118909597397,0.027244100347161293,0.036768920719623566,0.0015652691945433617,0.0859278216958046,0.046228326857089996,-0.014941886067390442,0.03011164255440235,0.002493990585207939,-0.008248230442404747,-0.0041532739996910095,0.05828074738383293,0.03310317173600197,0.06959126889705658,0.010393279604613781,0.0638514906167984,0.03600037097930908,0.053912460803985596,-0.011907323263585567,-0.05052681639790535,0.031056921929121017,-0.06334196776151657,-0.01398878637701273,0.028186669573187828,0.00037907896330580115,-0.0052569094114005566,0.04812977835536003,0.041590139269828796,0.030607597902417183,0.0078978780657053,-0.029906440526247025,-0.05140286311507225,0.055522724986076355,-0.02238626964390278,-0.01386692002415657,0.0682969018816948,-0.011529915034770966,0.007834238931536674,0.002160889096558094,0.013142719864845276,-0.011241675354540348,-0.028374888002872467,0.11267244070768356,-0.027847984805703163,-0.0035593793727457523,0.008977677673101425,0.008082855492830276,0.019248846918344498,0.008490096777677536,-0.01431041769683361,-0.015310917980968952,0.058987561613321304,-0.0024449406191706657,0.024771258234977722,-0.022116806358098984,0.0062592956237494946,0.04366281256079674,-0.05710199847817421,-0.024935727939009666,0.04318210482597351,-0.011093386448919773,-0.0029803754296153784,0.09129193425178528,-0.00894151907414198,0.05269024521112442,-0.03892672806978226,0.0008000187808647752,-0.022120485082268715,-0.000373874296201393,-0.008696835488080978,-0.01109058503061533,0.006646773312240839,-0.02032325603067875,0.05359961465001106,-0.04103760048747063,0.02323189750313759,-0.037542641162872314,0.0006050285883247852,-0.014776358380913734,0.021605728194117546,-0.009887030348181725,0.03774695843458176,0.040552470833063126,0.03347400948405266,0.020359044894576073,0.04162660241127014,0.021727347746491432,-0.0037764208391308784,-0.023764297366142273,0.018299534916877747,-0.022917667403817177,-0.015380794182419777,-0.053178299218416214,0.011935451067984104,-0.02779257483780384,0.06624502688646317,0.03623727336525917,-0.06185351312160492,-0.02350226417183876,-0.01750623807311058,-0.01569908857345581,-0.026096286252141,-0.07857681065797806,-0.014929050579667091,-0.03267023712396622,-0.01424191240221262,0.006113626062870026,-0.0788523331284523,0.011921660974621773,0.033217474818229675,0.004363761283457279,-0.05550254136323929,-0.029107557609677315,-0.06161152198910713,0.00036385704879648983,-0.028093257918953896,-0.006282341200858355,0.00788472406566143,-0.00579282408580184,0.0365603007376194,-0.008421499282121658,-0.012663084082305431,-0.013814857229590416,-0.05082954838871956,-0.05320242419838905,0.006565445568412542,0.06049976125359535,0.04066261276602745,-0.0073092542588710785,-0.015780199319124222,0.038339175283908844,-0.04449573904275894,-0.02688814513385296,0.005927891004830599,-0.004658674355596304,-0.024721944704651833,0.04716406762599945,0.006349159870296717,0.07214853912591934,0.007647745776921511,-0.04018661007285118,0.011198997497558594,-0.0236246008425951,-0.002085478976368904,0.017885634675621986,0.03509531542658806,-0.01810889132320881,0.001148628769442439,0.025590188801288605,0.0028237486258149147,-0.003422698937356472,-0.020259477198123932,0.01547602191567421,0.014136851765215397,-0.0023564717266708612,0.020051943138241768,0.011390581727027893,-0.008897376246750355,0.05710753798484802,0.026883352547883987,0.100680410861969,-0.05124267563223839,-0.042608361691236496,-0.024883845821022987,-0.037890609353780746,0.039956189692020416,-0.019503377377986908,-0.01783202961087227,-0.048860806971788406,-0.11523079127073288,0.00918490905314684,-0.040309395641088486,0.010441369377076626,-0.007662142161279917,0.03760246932506561,0.00696210702881217,0.02192998304963112,-0.08327227085828781,-0.04931078478693962,-0.03944100812077522,0.003659056732431054,-0.005283425562083721,0.04489944502711296,0.05397954210639,-0.0382905974984169,-0.03355971723794937,-0.06547074764966965,0.03220261260867119,0.0018589331302791834,-0.03136193007230759,0.010772805660963058,-0.015973256900906563,-0.014591054059565067,-0.030239136889576912,0.04372332990169525,0.0029845782555639744,0.059509724378585815,0.04161418229341507,0.04020439088344574,-0.021702613681554794,0.02718338370323181,-0.04617941007018089,-0.0015662790974602103,0.001567816361784935,0.02655273862183094,0.026506926864385605,-0.009654922410845757,-0.05195195600390434,-0.007519503589719534,0.005041227210313082,-0.10855916887521744,0.00870848260819912,0.0429241880774498,-0.01513441652059555,-0.03794426843523979,-0.00674448162317276,-0.0446859747171402,-0.011147345416247845,0.045045219361782074,0.00063568283803761,-0.000013938872143626213,-0.0546838752925396,0.0336480475962162,0.025799361988902092,-0.034053437411785126,0.04466562718153,0.0746244415640831,-0.01762290485203266,-0.013251095078885555,0.014341145753860474,0.05442420393228531,-0.012108043767511845,0.025049790740013123,0.0030933667439967394,-0.009020947851240635,0.059683505445718765,0.049595367163419724,0.026510659605264664,-0.05426080897450447,0.005390376318246126,0.07867220789194107,0.044266317039728165,0.03931163623929024,-0.06026134267449379,-0.025375736877322197,-0.01356554590165615,0.0731574296951294,-0.021329587325453758,0.0015406279126182199,-0.016659479588270187,0.02430795319378376,-0.04304201155900955,0.03318721801042557,0.00541022140532732,0.042266663163900375,-0.005723831709474325,0.038041144609451294,-0.02348288707435131,0.004266891162842512,-0.057115089148283005,-0.0017372689908370376,-0.0027526519261300564,-0.04530446231365204,0.007399315480142832,-0.008618267253041267,-0.03198036551475525,0.01357728336006403,0.0002364246902288869,0.00952769722789526,0.037814024835824966,0.02226032130420208,-0.054356399923563004,-0.03979254141449928,0.05803758651018143,-0.023359376937150955,0.03867054358124733,-0.008231380954384804,0.0004987643915228546,0.030414726585149765,-0.07349579781293869,-0.01726946420967579,0.03159300982952118,0.01978730596601963,-0.0435640923678875,-0.041032884269952774,0.010650670155882835,-0.00007456995081156492,-0.010713920928537846,-0.05053107067942619,-0.06661690026521683,0.025202451273798943,-0.008012679405510426,-0.059506770223379135,0.010437771677970886,0.0010049494449049234,-0.05428890511393547,0.004767643287777901,0.02120581641793251,-0.0248701311647892,0.0021872795186936855,0.1004849374294281,-0.016627926379442215,0.01673641800880432,-0.03432982414960861,-0.020664259791374207,0.06458040326833725,-0.010102967731654644,0.026311546564102173,-0.04450882971286774,0.00021081144222989678,-0.0468781441450119,0.006326592992991209,0.013963996432721615,0.0574721097946167,-0.009009378962218761,-0.017908042296767235,-0.06637416034936905,-0.008856644853949547,0.004166647791862488,-0.003000925062224269,0.022270550951361656,-0.01617792621254921,0.006554808467626572,-0.0007161647081375122,0.00463429931551218,0.019694596529006958,0.007016606163233519,-0.049710799008607864,-0.05486457422375679,0.025386640802025795,-0.009062432684004307,-7.139414163545104e-33,-0.03223523497581482,0.006315733306109905,-0.016649872064590454,-0.017808597534894943,-0.043038398027420044,0.04833167418837547,0.001841784454882145,-0.0324021577835083,-0.022230835631489754,-0.01991950161755085,-0.04241867735981941,0.011037304066121578,0.01419698353856802,-0.003153531812131405,0.041595179587602615,0.05309934914112091,0.03813209757208824,-0.023006346076726913,-0.03261735662817955,0.01981986127793789,-0.0017668134532868862,0.02582443319261074,-0.05782530456781387,-0.0474114790558815,0.01072506420314312,0.011538402177393436,-0.008971256203949451,0.015345009043812752,0.0018662121146917343,0.0022395739797502756,0.04118889942765236,0.008947597816586494,-0.012292432598769665,0.01273588091135025,-0.026093725115060806,0.005158673506230116,0.02228742651641369,-0.04763038456439972,0.010396578349173069,-0.008987448178231716,0.012644066475331783,-0.004357880912721157,0.022711778059601784,0.010220878757536411,-0.04740072414278984,0.016111116856336594,0.01816669851541519,-0.002921483013778925,0.0018794098868966103,0.00707199377939105,0.03150806948542595,0.019920015707612038,-0.037331461906433105,0.09776155650615692,-0.0016334877582266927,0.05495421960949898,0.0073536173440515995,0.04554340988397598,-0.07025951892137527,0.003887828206643462,-0.04364902898669243,-0.021055782213807106,0.008430344052612782,0.0424165204167366,0.021271536126732826,0.011560393497347832,-0.0055146533995866776,0.00162871356587857,-0.01308172196149826,0.010468877851963043,-0.019081002101302147,0.023520564660429955,0.026632660999894142,-0.07282940298318863,-0.03346230089664459,-0.07476367801427841,-0.0023457910865545273,0.06076347827911377,0.058542266488075256,0.03284668177366257,-0.010745903477072716,-0.024729331955313683,-0.05468698963522911,0.0246175117790699,0.08138911426067352,-0.010029805824160576,-0.009036267176270485,-0.008765872567892075,0.023393919691443443,0.04907705634832382,-0.036128778010606766,0.006135768722742796,-0.026940936222672462,-0.022271469235420227,0.04368933290243149,-0.009060811251401901,0.04947488754987717,0.016992246732115746,0.03151633217930794,-0.03488294407725334,-0.030447259545326233,-0.009836148470640182,-0.03346983343362808,0.05343354865908623,0.033935096114873886,-0.05382866412401199,0.028865132480859756,0.027497824281454086,-0.03398600593209267,0.00883160624653101,0.022108828648924828,0.03298869729042053,0.004148106090724468,-0.07528205960988998,-0.012334621511399746,0.0040108575485646725,-0.012033852748572826,0.02166552096605301,0.004139068070799112,0.03368760272860527,0.03216323256492615,0.022190159186720848,-0.020388061180710793,-0.04892662540078163,-0.02298438921570778,-0.06129823252558708,-0.04173937067389488,0.04028276354074478,0.02410827949643135,-0.035457611083984375,-0.05512966215610504,-0.042787689715623856,3.14190685912763e-7,0.012096324935555458,0.013188679702579975,0.011232132092118263,0.021301090717315674,0.010530312545597553,-0.005503038875758648,-0.06157810613512993,-0.04882952943444252,-0.06256893277168274,0.032320015132427216,0.054823536425828934,-0.015739182010293007,-0.027289507910609245,0.05699261650443077,0.04092323035001755,-0.0633525475859642,-0.028154056519269943,-0.007400149013847113,-0.08338321000337601,0.0021473660599440336,0.03887113928794861,0.030496129766106606,0.06367670744657516,-0.023556092754006386,0.048693109303712845,-0.07086387276649475,-0.07276150584220886,0.0191974975168705,0.027080178260803223,-0.02102908492088318,-0.018427524715662003,0.08593164384365082,-0.036352451890707016,-0.04247947037220001,-0.01905764639377594,0.034520186483860016,-0.022668756544589996,-0.015686441212892532,0.004231175407767296,0.017198830842971802,0.04495367780327797,-0.00887466873973608,0.016671407967805862,-0.04552890360355377,0.024469750002026558,0.04460175707936287,-0.03702655807137489,-0.03390628471970558,0.010624765418469906,0.03131268918514252,0.03139326721429825,0.017514778301119804,0.002961664227768779,0.0017817385960370302,-0.006781343836337328,-0.02507142536342144,-0.01203665416687727,-0.0019956340547651052,0.03785238787531853,0.01800875924527645,-0.0034849396906793118,-0.045090202242136,-0.027269713580608368,0.09716150909662247,0.02287694625556469,0.00489268871024251,0.004394982475787401,3.3150846279733786e-34,0.018973980098962784,-0.022255783900618553,0.012509090825915337,0.021352866664528847,0.03821595758199692,-0.025175629183650017,-0.01662651263177395,-0.02172398380935192,0.020666806027293205,-0.041150227189064026,-0.02492833510041237]'
SET
  @TechnicalDesignVector_75d60427 = N'[-0.06093555688858032,0.00295874010771513,-0.04622422158718109,-0.04675197973847389,0.00872722640633583,0.011737218126654625,0.038538068532943726,0.019830605015158653,-0.03770363703370094,0.03744296729564667,-0.0016525192186236382,0.04215899482369423,0.04847313091158867,0.12107347697019577,-0.01858530379831791,-0.016519630327820778,-0.0017449253937229514,0.01783427782356739,-0.015253816731274128,0.015166211873292923,0.023191677406430244,-0.021885579451918602,0.012619034387171268,0.0036485835444182158,-0.0446239672601223,-0.028414275497198105,-0.010210128501057625,-0.007326240185648203,0.042854178696870804,-0.09886521100997925,-0.0010994572658091784,-0.007353624794632196,-0.02573493868112564,0.03837289288640022,0.000002342037078051362,-0.01677388697862625,-0.025821764022111893,0.004096967168152332,-0.04759073257446289,0.021857786923646927,0.06260837614536285,-0.019670376554131508,0.057032402604818344,0.006483082193881273,-0.003389339428395033,-0.040609538555145264,-0.026799602434039116,-0.02482183836400509,0.0447901114821434,-0.023653779178857803,0.0006272839964367449,0.045908208936452866,-0.06172439083456993,-0.007637221831828356,-0.033783696591854095,-0.029705006629228592,-0.021033616736531258,-0.020337503403425217,0.08003851026296616,0.00748490309342742,-0.02050912380218506,0.0063230786472558975,0.030859045684337616,-0.04176346957683563,0.09839888662099838,0.011029542423784733,0.06288381665945053,-0.06721944361925125,-0.0033129353541880846,0.005931123625487089,0.14523518085479736,-0.02246534451842308,-0.0004200158000458032,-0.007070379797369242,-0.04034340754151344,-0.01147222239524126,-0.022579047828912735,-0.017638778313994408,-0.004693713504821062,-0.0016635386273264885,0.009023886173963547,0.05730164796113968,-0.039919089525938034,-0.01855965331196785,-0.021730294451117516,0.017596906051039696,-0.007033947389572859,0.004716272931545973,-0.009835567325353622,-0.0229018684476614,0.06164635345339775,-0.010236512869596481,-0.01838577724993229,0.023555370047688484,-0.08047925680875778,-0.021993447095155716,0.03253201022744179,-0.01716393232345581,0.01220645010471344,0.03805936500430107,0.029729094356298447,0.028560059145092964,0.02183222956955433,0.040291186422109604,0.11551260948181152,0.07458051294088364,0.002127173589542508,-0.05895622447133064,-0.011127344332635403,-0.007167083211243153,0.004445153288543224,-0.003587238723412156,0.02196384035050869,0.03447851538658142,-0.0013604331761598587,-0.004537641070783138,-0.03993489593267441,-0.0014414569595828652,-0.03424457088112831,0.010189289227128029,0.11912492662668228,-0.01894347183406353,0.006713747512549162,0.0644928514957428,0.024993011727929115,0.02843003161251545,-0.04099996015429497,-0.013409571722149849,0.000379013828933239,-0.011490288190543652,-0.045248810201883316,-0.012126614339649677,0.03171571344137192,0.0025742698926478624,-0.04664023593068123,-0.02258385717868805,0.019665857776999474,0.004448418505489826,-0.005439257714897394,-0.024348745122551918,0.021978819742798805,-0.033768877387046814,-0.0694337710738182,0.04720960184931755,0.04604180529713631,-0.019410474225878716,0.005744447931647301,0.061878327280282974,0.007733724545687437,0.000904670509044081,0.016832269728183746,0.005238116253167391,0.00444506062194705,0.039751529693603516,-0.06145913153886795,-0.01371590606868267,0.0036784878466278315,-0.010039348155260086,0.008459914475679398,0.022524651139974594,0.003159480169415474,0.02809869684278965,0.040890369564294815,-0.005348330829292536,-0.018064728006720543,0.0027348450385034084,-0.017446909099817276,-0.018505267798900604,-0.09332714229822159,-0.0389522984623909,-0.04246150329709053,-0.04836789891123772,0.014645544812083244,0.05335385724902153,0.016894575208425522,0.004902993328869343,0.0813632607460022,-0.09559597074985504,-0.03724025562405586,-0.007009323686361313,0.033035047352313995,-0.12044167518615723,-0.008557488210499287,0.019524166360497475,0.06630280613899231,-0.025182008743286133,-0.045473527163267136,0.035514798015356064,-0.00867536012083292,-0.010910037904977798,-0.006387587636709213,0.01063251867890358,-0.05395882576704025,-0.00039256547461263835,0.011878513731062412,0.00234817317686975,-0.01366293802857399,-0.07856476306915283,0.039068128913640976,0.012807030230760574,0.03281030431389809,-0.015477592125535011,0.06348447501659393,0.028005464002490044,0.032483700662851334,-0.030884038656949997,0.004939498845487833,-0.006065753288567066,0.032613467425107956,-0.006434337235987186,0.03396839648485184,-0.008117941208183765,-0.04220542311668396,-0.0001545067352708429,-0.05301426351070404,0.04566378891468048,0.018886888399720192,0.013616287149488926,-0.053933143615722656,0.0342254638671875,-0.06514661759138107,0.019887413829565048,0.0066930497996509075,0.007887551560997963,0.08173263818025589,0.03333783894777298,0.039479900151491165,0.020501138642430305,0.05332327261567116,0.061522457748651505,-0.0336078442633152,-0.000994527363218367,0.0010461716447025537,0.03444920852780342,0.025616241618990898,0.054952289909124374,0.0033129267394542694,0.01505433488637209,-0.010381250642240047,0.021215317770838737,0.026458727195858955,-0.005994954612106085,-0.008930378593504429,-0.03986087441444397,0.018575327470898628,-0.0576988086104393,-0.04837829992175102,0.025084124878048897,0.002990060718730092,-0.014264492318034172,0.045196641236543655,0.016940807923674583,0.01179500948637724,-0.03256559371948242,-0.05267097428441048,-0.029021551832556725,0.03811894357204437,-0.024844668805599213,-0.0006633988814428449,0.10097520053386688,0.0027938110288232565,0.027817394584417343,-0.022869445383548737,-0.011793896555900574,-0.0032059510704129934,-0.013706699945032597,0.06933833658695221,-0.004824355710297823,-0.013739035464823246,0.03602050617337227,0.014064804650843143,0.0133746899664402,0.021620038896799088,0.005525529850274324,0.02133524976670742,0.05244065076112747,-0.0008534871740266681,0.02459562197327614,-0.02190377563238144,-0.019160112366080284,-0.014561422169208527,-0.010342634283006191,0.0068290927447378635,0.06253673881292343,-0.01730351150035858,-0.02862553857266903,0.05570473149418831,-0.061202649027109146,0.04445468261837959,-0.09279686212539673,0.02815995179116726,-0.024936242029070854,0.011930475011467934,-0.04096131771802902,-0.023357773199677467,0.032341260462999344,0.004221259616315365,0.04369564726948738,-0.06839017570018768,0.08826486021280289,-0.04520198702812195,-0.02812064252793789,-0.011192451231181622,0.013526867143809795,-0.02550749108195305,0.10479743778705597,0.042778052389621735,0.012842400930821896,0.03741106390953064,0.04860541224479675,0.04798910394310951,0.0026207161135971546,-0.0009402643772773445,0.014658070169389248,-0.013139510527253151,0.02722359634935856,-0.004409631248563528,-0.021492181345820427,-0.015836350619792938,0.04650524631142616,0.014273863285779953,-0.014119388535618782,-0.03808090090751648,-0.006762883625924587,-0.04871877655386925,-0.013644611462950706,-0.07776506245136261,-0.029863428324460983,-0.013222141191363335,0.003189085517078638,-0.016379212960600853,-0.03563907369971275,-0.002251450438052416,0.02746880054473877,0.020323093980550766,-0.032718900591135025,-0.03683602437376976,-0.03653223067522049,0.020379189401865005,-0.026795795187354088,0.0020561630371958017,0.015343128703534603,0.00536270160228014,0.053744927048683167,0.023777393624186516,-0.03171129524707794,-0.018993940204381943,-0.018684251233935356,-0.07369425892829895,0.006909129675477743,0.0602874755859375,0.03489496558904648,-0.017213352024555206,-0.0034240547101944685,0.02325143665075302,0.0043985676020383835,-0.023839306086301804,-0.0030773065518587828,-0.02239014022052288,-0.04141223058104515,0.06585827469825745,0.01564500294625759,0.06424321234226227,0.034319452941417694,0.004170279949903488,0.0053210328333079815,-0.008656518533825874,0.03044603206217289,0.022301120683550835,-0.018381576985120773,0.010417436249554157,0.03508053347468376,0.01387889962643385,0.023635733872652054,-0.0019355330150574446,-0.044604528695344925,0.02233589068055153,0.021761087700724602,0.011134977452456951,0.017186032608151436,-0.004063526168465614,-0.015802456066012383,0.07789930701255798,0.004041348118335009,0.08183899521827698,-0.053835779428482056,-0.02569909393787384,-0.0013430884573608637,0.0043265786953270435,0.022482730448246002,0.02347753383219242,-0.080581896007061,-0.010688048787415028,-0.06326238811016083,-0.01440864335745573,-0.027109330520033836,-0.007410469464957714,-0.013231296092271805,0.033426158130168915,0.004015327896922827,0.011027578264474869,-0.05463842302560806,-0.03285062685608864,-0.02258112095296383,0.053977303206920624,0.03517189249396324,-0.016993505880236626,0.0710025355219841,-0.0005310294800437987,-0.010108505375683308,-0.00649141613394022,-0.0009650606662034988,-0.016382835805416107,-0.07450427860021591,-0.020324764773249626,0.011709523387253284,-0.007621859200298786,-0.003233055816963315,0.05055725947022438,0.057851243764162064,0.04391631856560707,0.025150129571557045,0.0482780747115612,-0.024258289486169815,0.05061293765902519,-0.04715368524193764,-0.01244440395385027,0.006339621264487505,-0.007652681786566973,0.035270050168037415,0.031381964683532715,-0.023604905232787132,0.015867367386817932,0.02079734578728676,-0.06413017213344574,-0.02861548773944378,0.023536276072263718,-0.024651212617754936,-0.03747918829321861,-0.0035895369946956635,-0.046098485589027405,0.013895658776164055,0.0583668053150177,-0.016489321365952492,-0.012542439624667168,-0.04261087626218796,0.009714069776237011,0.021261868998408318,-0.03339720144867897,-0.004059978295117617,0.043409790843725204,0.025218768045306206,-0.03816935047507286,-0.02415987104177475,0.010434499941766262,-0.039906684309244156,-0.015104073099792004,0.014649426564574242,-0.03320120647549629,0.06328117102384567,0.0013214711798354983,0.03123854473233223,-0.009327751584351063,-0.011002447456121445,0.046623751521110535,0.061547622084617615,0.011207434348762035,-0.02908126264810562,-0.03415422886610031,-0.05649595335125923,0.06807902455329895,-0.01652298867702484,-0.017413415014743805,-0.01807526871562004,0.03689003363251686,-0.0003773998760152608,0.022365594282746315,0.013639050535857677,0.02440979890525341,-0.02887626737356186,0.04143160209059715,-0.011622630059719086,0.026946520432829857,-0.07034077495336533,0.0163301732391119,-0.005360246170312166,-0.04582293704152107,-0.008145510219037533,0.002550313016399741,-0.028842050582170486,-0.005170100834220648,-0.028023360297083855,-0.025367815047502518,0.03953876718878746,0.06220714747905731,0.00507387425750494,-0.04284735396504402,0.03389398753643036,-0.03285328298807144,0.020315950736403465,-0.05076628923416138,0.00372724374756217,0.016444073989987373,-0.03691507875919342,0.01146001648157835,0.00110241724178195,0.03721592202782631,0.002693414920940995,-0.05185713618993759,0.0011353425215929747,-0.013957628048956394,-0.004604274407029152,-0.054912269115448,0.02281474880874157,0.04379270598292351,0.032796841114759445,-0.0791725367307663,0.023887068033218384,0.015264621935784817,-0.027704235166311264,0.01895248517394066,0.023815875872969627,-0.007868113927543163,-0.00781345646828413,0.08245018869638443,0.0077184103429317474,-0.010535269044339657,-0.012596444226801395,-0.03489397466182709,0.04859713837504387,-0.01786159723997116,-0.0015118486480787396,-0.022824227809906006,-0.0267473291605711,-0.06953959167003632,0.05177166312932968,0.027752280235290527,-0.002306684385985136,-0.005448915064334869,0.0002762611547950655,-0.09182564914226532,0.029732123017311096,0.008801305666565895,-0.023740360513329506,-0.010965476743876934,-0.05952716991305351,-0.003760512452572584,-0.06810207664966583,0.02276359498500824,0.026130791753530502,0.04043697938323021,-0.08157684653997421,-0.04247313365340233,-0.005518391728401184,0.0037377881817519665,-7.279724107995129e-33,-0.033076267689466476,-0.0024005763698369265,-0.016964513808488846,-0.01786230131983757,-0.0826813131570816,-0.002365104155614972,0.017572805285453796,-0.07074496895074844,-0.023602968081831932,-0.034498825669288635,-0.02240903489291668,-0.028412597253918648,-0.0008956652600318193,-0.012511068023741245,0.02849643863737583,0.02641354314982891,0.024180226027965546,0.016391048207879066,-0.04735090583562851,0.03136129677295685,-0.01351903099566698,-0.0030829475726932287,-0.054391391575336456,-0.013580316677689552,-0.03765828162431717,0.018580056726932526,0.015938306227326393,0.04710886627435684,-0.03438787907361984,0.022379791364073753,0.014352980069816113,-0.03957529738545418,-0.0278860442340374,-0.0011263882042840123,-0.01182516012340784,0.046145763248205185,-0.013661283999681473,-0.09807182103395462,0.020604288205504417,0.010769139975309372,0.05364459380507469,-0.026321440935134888,0.02367003634572029,0.017804808914661407,-0.00844214204698801,-0.03698648139834404,-0.0010707848705351353,0.027873588725924492,-0.001094058621674776,0.009546631947159767,-0.00759635167196393,0.022144991904497147,-0.016095245257019997,0.06127721816301346,-0.023258639499545097,0.0620410293340683,0.013055055402219296,0.023071758449077606,-0.06657898426055908,0.009053662419319153,-0.004160604439675808,-0.044571805745363235,-0.008876561187207699,0.04416928440332413,0.044600751250982285,-0.01182674802839756,0.006319497246295214,0.03714948147535324,-0.0768020898103714,0.008468236774206161,-0.02676340937614441,0.002275153761729598,0.010226939804852009,-0.06593412905931473,-0.03444093465805054,-0.05972833186388016,-0.023578640073537827,0.012881672941148281,0.04599808156490326,0.04948170483112335,-0.0046998788602650166,-0.0018474560929462314,-0.05201224610209465,0.010026906616985798,0.03807881474494934,0.017143256962299347,-0.008894786238670349,-0.010131925344467163,0.0027742551174014807,0.040040113031864166,-0.020136766135692596,0.006127180997282267,-0.05864546075463295,0.025896627455949783,0.017540909349918365,-0.020982420071959496,0.08231356739997864,0.008139531128108501,0.023989511653780937,-0.03895069286227226,-0.026013383641839027,0.018233731389045715,-0.024318577721714973,0.0510806143283844,0.00402458431199193,-0.014095882885158062,0.00994066335260868,0.03776396065950394,-0.03721160814166069,0.008211563341319561,0.009703750722110271,0.0072825574316084385,-0.027895590290427208,-0.06149040907621384,0.028432408347725868,-0.0007323366589844227,-0.009827187284827232,-0.03680264204740524,0.008279879577457905,-0.00275530107319355,0.02785995416343212,0.011107471771538258,-0.03432169929146767,-0.021811477839946747,0.01310101430863142,-0.02222510613501072,-0.05018194764852524,-0.0032661037985235453,0.009597372263669968,-0.02611169032752514,-0.005756855942308903,-0.03979826346039772,3.1766305141900375e-7,-0.035623565316200256,0.05158151686191559,-0.02610803209245205,0.0010137658100575209,0.047622863203287125,-0.060458242893218994,-0.07044249027967453,-0.029663827270269394,-0.058261267840862274,0.024613210931420326,0.04433228448033333,0.005085940472781658,0.01296212524175644,0.04690774157643318,0.06900240480899811,-0.01569274626672268,-0.0058336639776825905,-0.0428297221660614,-0.06263953447341919,-0.004581495653837919,0.05874340236186981,0.016765961423516273,0.0798397958278656,0.0034408317878842354,0.01593625918030739,0.008633660152554512,-0.04581500589847565,0.033993177115917206,0.020202193409204483,-0.039838023483753204,-0.04293260723352432,0.05817900225520134,-0.02898918278515339,-0.02218576893210411,0.0040436978451907635,0.04469771310687065,-0.05423138290643692,-0.042471397668123245,-0.017450887709856033,0.05361443758010864,0.04187683388590813,-0.014403847977519035,-0.02945166453719139,-0.028205320239067078,0.016871731728315353,-0.03576841205358505,-0.009651836939156055,0.025026720017194748,0.0002410874585621059,0.0532379187643528,-0.006657877005636692,0.051773641258478165,0.0010600148234516382,0.003995856270194054,0.00036809855373576283,0.0062222727574408054,-0.007200723979622126,0.02991035394370556,0.03953766077756882,0.008247505873441696,0.0009378420654684305,-0.08082187175750732,0.0051856255158782005,0.11402244120836258,0.0013962766388431191,-0.036385804414749146,-0.04891347140073776,4.031798686526593e-34,0.015488422475755215,-0.06187302991747856,0.021418578922748566,0.00004023061046609655,0.04129884019494057,-0.010813451372087002,0.010817309841513634,0.0037560586351901293,0.04960111528635025,-0.06404885649681091,-0.020833870396018028]'
SET
  @HasCustomProps_75d60427 = 0
SET
  @HasCustomEvents_75d60427 = 0
SET
  @RequiresData_75d60427 = 1
SET
  @DependencyCount_75d60427 = 6
SET
  @TechnicalDesignVectorEmbeddingModelID_75d60427 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_75d60427 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_75d60427 = 0
SET
  @ID_75d60427 = '313ED35B-462C-439F-8F56-91AD90CCB252'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_75d60427,
  @Name = @Name_75d60427,
  @Version = @Version_75d60427,
  @VersionSequence = @VersionSequence_75d60427,
  @Title = @Title_75d60427,
  @Description = @Description_75d60427,
  @Type = @Type_75d60427,
  @Status = @Status_75d60427,
  @DeveloperName = @DeveloperName_75d60427,
  @DeveloperEmail = @DeveloperEmail_75d60427,
  @DeveloperOrganization = @DeveloperOrganization_75d60427,
  @SourceRegistryID = @SourceRegistryID_75d60427,
  @ReplicatedAt = @ReplicatedAt_75d60427,
  @LastSyncedAt = @LastSyncedAt_75d60427,
  @Specification = @Specification_75d60427,
  @FunctionalRequirements = @FunctionalRequirements_75d60427,
  @TechnicalDesign = @TechnicalDesign_75d60427,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_75d60427,
  @TechnicalDesignVector = @TechnicalDesignVector_75d60427,
  @HasCustomProps = @HasCustomProps_75d60427,
  @HasCustomEvents = @HasCustomEvents_75d60427,
  @RequiresData = @RequiresData_75d60427,
  @DependencyCount = @DependencyCount_75d60427,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_75d60427,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_75d60427,
  @HasRequiredCustomProps = @HasRequiredCustomProps_75d60427,
  @ID = @ID_75d60427;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_de717998 NVARCHAR(MAX),
@Name_de717998 NVARCHAR(500),
@Version_de717998 NVARCHAR(50),
@VersionSequence_de717998 INT,
@Title_de717998 NVARCHAR(1000),
@Description_de717998 NVARCHAR(MAX),
@Type_de717998 NVARCHAR(255),
@Status_de717998 NVARCHAR(50),
@DeveloperName_de717998 NVARCHAR(255),
@DeveloperEmail_de717998 NVARCHAR(255),
@DeveloperOrganization_de717998 NVARCHAR(255),
@SourceRegistryID_de717998 UNIQUEIDENTIFIER,
@ReplicatedAt_de717998 DATETIMEOFFSET,
@LastSyncedAt_de717998 DATETIMEOFFSET,
@Specification_de717998 NVARCHAR(MAX),
@FunctionalRequirements_de717998 NVARCHAR(MAX),
@TechnicalDesign_de717998 NVARCHAR(MAX),
@FunctionalRequirementsVector_de717998 NVARCHAR(MAX),
@TechnicalDesignVector_de717998 NVARCHAR(MAX),
@HasCustomProps_de717998 BIT,
@HasCustomEvents_de717998 BIT,
@RequiresData_de717998 BIT,
@DependencyCount_de717998 INT,
@TechnicalDesignVectorEmbeddingModelID_de717998 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_de717998 NVARCHAR(MAX),
@HasRequiredCustomProps_de717998 BIT,
@ID_de717998 UNIQUEIDENTIFIER
SET
  @Namespace_de717998 = N'AI/Analytics/Performance'
SET
  @Name_de717998 = N'AITimeSeriesChart'
SET
  @Version_de717998 = N'1.0.0'
SET
  @VersionSequence_de717998 = 1
SET
  @Title_de717998 = N'AI Time Series Chart'
SET
  @Description_de717998 = N'Multi-line time series chart with dual Y-axes showing AI runs, token usage, and costs over time'
SET
  @Type_de717998 = N'Chart'
SET
  @Status_de717998 = N'Published'
SET
  @Specification_de717998 = N'{"name":"AITimeSeriesChart","location":"embedded","title":"AI Time Series Chart","description":"Multi-line time series chart with dual Y-axes showing AI runs, token usage, and costs over time","type":"chart","functionalRequirements":"## Time Series Chart Requirements\n\n### Core Functionality\n- Display three data series: total runs, total tokens, total cost\n- Dual Y-axis configuration (left: tokens, right: runs and cost)\n- Interactive tooltips showing all values on hover\n- Click on data points to trigger drill-down\n- Smooth line interpolation with data point markers\n- Legend with series toggle capability\n- Responsive to container size changes\n\n### Visual Features\n- Consistent color coding (runs: blue, tokens: green, cost: orange)\n- Grid lines for better readability\n- Axis labels with appropriate formatting\n- Highlighted selection state for clicked points\n- Animated transitions on data updates\n- Zero-baseline for better comparison","dataRequirements":{"mode":"views","description":"Receives aggregated time series data from parent component","entities":[{"name":"MJ: AI Prompt Runs","description":"Historical prompt execution data for performance analysis","displayFields":["ID","PromptID","Prompt","ModelID","Model","RunAt","CompletedAt","Success","TokensUsed","TotalCost"],"filterFields":["RunAt","Success","PromptID","ModelID"],"sortFields":["RunAt"],"fieldMetadata":[{"name":"ID","type":"uniqueidentifier","isPrimaryKey":true,"allowsNull":false,"description":"Unique run identifier"},{"name":"PromptID","type":"uniqueidentifier","allowsNull":false,"description":"Reference to AI Prompt"},{"name":"Prompt","type":"nvarchar","allowsNull":true,"description":"Prompt name (denormalized)"},{"name":"RunAt","type":"datetime","allowsNull":false,"description":"Execution timestamp"},{"name":"TokensUsed","type":"int","allowsNull":true,"description":"Total tokens consumed"},{"name":"TotalCost","type":"decimal","allowsNull":true,"description":"Total cost in USD"}],"permissionLevelNeeded":["read"]}],"queries":[]},"technicalDesign":"## Technical Design\n\n### Props\n- data: Array of aggregated data points with date, runs, tokens, cost\n- groupBy: Current grouping (day/week/month/quarter)\n- activeTab: Current view (agents/prompts)\n- selectedPoint: Currently selected data point\n- onPointClick: Callback when point is clicked\n\n### Chart Configuration\n- Uses recharts library for rendering\n- Dual Y-axis setup with synchronized tooltips\n- Custom tick formatters for large numbers\n- Responsive container with aspect ratio preservation","properties":[{"name":"data","type":"array","required":true,"description":"Array of time series data points"},{"name":"groupBy","type":"string","required":true,"description":"Time grouping: day, week, month, or quarter"},{"name":"activeTab","type":"string","required":true,"description":"Current tab: agents or prompts"},{"name":"selectedPoint","type":"object","required":true,"description":"Currently selected data point"},{"name":"onPointClick","type":"function","required":true,"description":"Callback when a data point is clicked"}],"events":[{"name":"onPointClick","description":"Fired when user clicks on a data point","payload":"Data point object with date and values"}],"exampleUsage":"<AITimeSeriesChart data={chartData} groupBy=\"day\" activeTab=\"agents\" onPointClick={handleChartClick} />","code":"function AITimeSeriesChart({ data, groupBy, activeTab, selectedPoint, onPointClick, styles, utilities, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AITimeSeriesChart] Rendering with'', data.length, ''data points'');\n  \n  // Format large numbers\n  const formatNumber = (value) => {\n    if (!Number.isFinite(value) || value === 0) return ''0'';\n    if (value >= 1000000) {\n      return `$' + '{(value / 1000000).toFixed(1)}M`;\n    } else if (value >= 1000) {\n      return `$' + '{(value / 1000).toFixed(1)}K`;\n    }\n    return value.toFixed(0);\n  };\n\n  // Format currency\n  const formatCurrency = (value) => {\n    if (!Number.isFinite(value) || value === 0) return ''$0.00'';\n    if (value >= 1000) {\n      return `$$' + '{(value / 1000).toFixed(1)}K`;\n    }\n    return `$$' + '{value.toFixed(2)}`;\n  };\n  \n  // Format date based on grouping\n  const formatDate = (date) => {\n    const d = new Date(date);\n    switch(groupBy) {\n      case ''day'':\n        return d.toLocaleDateString(''en-US'', { month: ''short'', day: ''numeric'' });\n      case ''week'':\n        return `Week of $' + '{d.toLocaleDateString(''en-US'', { month: ''short'', day: ''numeric'' })}`;\n      case ''month'':\n        return d.toLocaleDateString(''en-US'', { month: ''short'', year: ''numeric'' });\n      case ''quarter'':\n        return date; // Already formatted as YYYY-Q#\n      default:\n        return date;\n    }\n  };\n  \n  // Prepare chart data\n  const chartData = useMemo(() => {\n    return data.map(point => ({\n      ...point,\n      displayDate: formatDate(point.date),\n      isSelected: selectedPoint?.date === point.date\n    }));\n  }, [data, selectedPoint, groupBy]);\n  \n  // Calculate max values for axis domains\n  const maxTokens = useMemo(() => Math.max(...data.map(d => d.tokens || 0)), [data]);\n  const maxRuns = useMemo(() => Math.max(...data.map(d => d.runs || 0)), [data]);\n  const maxCost = useMemo(() => Math.max(...data.map(d => d.cost || 0)), [data]);\n  \n  // Use a simple SVG chart since we can''t use external libraries\n  const width = 800;\n  const height = 400;\n  const margin = { top: 20, right: 80, bottom: 60, left: 80 };\n  const innerWidth = width - margin.left - margin.right;\n  const innerHeight = height - margin.top - margin.bottom;\n  \n  // Create scales - handle single data point case\n  const xScale = (index) => {\n    if (chartData.length <= 1) return innerWidth / 2; // Center single point\n    return (index / (chartData.length - 1)) * innerWidth;\n  };\n  const yScaleTokens = (value) => {\n    if (!maxTokens || maxTokens === 0) return innerHeight / 2;\n    return innerHeight - (value / maxTokens) * innerHeight;\n  };\n  const yScaleRight = (value, max) => {\n    if (!max || max === 0) return innerHeight / 2;\n    return innerHeight - (value / max) * innerHeight;\n  };\n  \n  // Create path data for lines\n  const createPath = (data, valueKey, scale, max) => {\n    return data.map((d, i) => {\n      const x = xScale(i);\n      const y = scale(d[valueKey] || 0, max);\n      // Safety check: ensure both x and y are finite numbers\n      const safeX = Number.isFinite(x) ? x : 0;\n      const safeY = Number.isFinite(y) ? y : innerHeight / 2;\n      return `$' + '{i === 0 ? ''M'' : ''L''} $' + '{safeX} $' + '{safeY}`;\n    }).join('' '');\n  };\n  \n  const handlePointClick = (point) => {\n    console.log(''[AITimeSeriesChart] Point clicked:'', point);\n    onPointClick(point);\n  };\n  \n  return (\n    <div style={{\n      width: ''100%'',\n      height: ''100%'',\n      backgroundColor: styles.colors.surface,\n      borderRadius: styles.borders?.radius || ''4px'',\n      padding: styles.spacing.md,\n      display: ''flex'',\n      flexDirection: ''column''\n    }}>\n      <h3 style={{\n        margin: `0 0 $' + '{styles.spacing.md} 0`,\n        color: styles.colors.text,\n        fontSize: styles.typography.fontSize.lg\n      }}>\n        Performance Trends - {activeTab === ''agents'' ? ''Agent Runs'' : ''Prompt Runs''}\n      </h3>\n      \n      {/* Chart Container */}\n      <div style={{ flex: 1, position: ''relative'', minHeight: ''300px'' }}>\n        {chartData.length === 0 ? (\n          <div style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''center'',\n            height: ''100%'',\n            color: styles.colors.textSecondary\n          }}>\n            No data available for the selected period\n          </div>\n        ) : (\n          <svg\n            viewBox={`0 0 $' + '{width} $' + '{height}`}\n            style={{ width: ''100%'', height: ''100%'' }}\n            preserveAspectRatio=\"xMidYMid meet\"\n          >\n            <g transform={`translate($' + '{margin.left}, $' + '{margin.top})`}>\n              {/* Grid lines */}\n              {[0, 0.25, 0.5, 0.75, 1].map(tick => (\n                <line\n                  key={tick}\n                  x1={0}\n                  x2={innerWidth}\n                  y1={innerHeight * (1 - tick)}\n                  y2={innerHeight * (1 - tick)}\n                  stroke={styles.colors.border}\n                  strokeOpacity={0.3}\n                  strokeDasharray=\"2,2\"\n                />\n              ))}\n              \n              {/* X-axis labels */}\n              {chartData.map((point, i) => {\n                if (chartData.length > 20 && i % Math.ceil(chartData.length / 10) !== 0) {\n                  return null;\n                }\n                return (\n                  <text\n                    key={i}\n                    x={xScale(i)}\n                    y={innerHeight + 20}\n                    textAnchor=\"middle\"\n                    fill={styles.colors.textSecondary}\n                    fontSize=\"12\"\n                  >\n                    {point.displayDate}\n                  </text>\n                );\n              })}\n              \n              {/* Y-axis labels (left - tokens) */}\n              {[0, 0.25, 0.5, 0.75, 1].map(tick => (\n                <text\n                  key={tick}\n                  x={-10}\n                  y={innerHeight * (1 - tick) + 5}\n                  textAnchor=\"end\"\n                  fill={styles.colors.textSecondary}\n                  fontSize=\"12\"\n                >\n                  {formatNumber(maxTokens * tick)}\n                </text>\n              ))}\n              \n              {/* Y-axis labels (right - cost) */}\n              {[0, 0.25, 0.5, 0.75, 1].map(tick => (\n                <text\n                  key={tick}\n                  x={innerWidth + 10}\n                  y={innerHeight * (1 - tick) + 5}\n                  textAnchor=\"start\"\n                  fill={styles.colors.textSecondary}\n                  fontSize=\"12\"\n                >\n                  {formatCurrency(maxCost * tick)}\n                </text>\n              ))}\n              \n              {/* Lines */}\n              <path\n                d={createPath(chartData, ''tokens'', yScaleTokens, maxTokens)}\n                fill=\"none\"\n                stroke={styles.colors.success || ''#10b981''}\n                strokeWidth=\"2\"\n              />\n              <path\n                d={createPath(chartData, ''runs'', yScaleRight, maxRuns)}\n                fill=\"none\"\n                stroke={styles.colors.primary || ''#3b82f6''}\n                strokeWidth=\"2\"\n              />\n              <path\n                d={createPath(chartData, ''cost'', yScaleRight, maxCost)}\n                fill=\"none\"\n                stroke={styles.colors.warning || ''#f59e0b''}\n                strokeWidth=\"2\"\n              />\n              \n              {/* Data points */}\n              {chartData.map((point, i) => {\n                const x = xScale(i);\n                const safeX = Number.isFinite(x) ? x : innerWidth / 2;\n                const yTokens = yScaleTokens(point.tokens || 0);\n                const yRuns = yScaleRight(point.runs || 0, maxRuns);\n                const yCost = yScaleRight(point.cost || 0, maxCost);\n                const safeYTokens = Number.isFinite(yTokens) ? yTokens : innerHeight / 2;\n                const safeYRuns = Number.isFinite(yRuns) ? yRuns : innerHeight / 2;\n                const safeYCost = Number.isFinite(yCost) ? yCost : innerHeight / 2;\n\n                return (\n                  <g key={i}>\n                    {/* Tokens */}\n                    <circle\n                      cx={safeX}\n                      cy={safeYTokens}\n                      r={point.isSelected ? 6 : 4}\n                      fill={styles.colors.success || ''#10b981''}\n                      stroke=\"white\"\n                      strokeWidth=\"2\"\n                      style={{ cursor: ''pointer'' }}\n                      onClick={() => handlePointClick(point)}\n                    />\n                    {/* Runs */}\n                    <circle\n                      cx={safeX}\n                      cy={safeYRuns}\n                      r={point.isSelected ? 6 : 4}\n                      fill={styles.colors.primary || ''#3b82f6''}\n                      stroke=\"white\"\n                      strokeWidth=\"2\"\n                      style={{ cursor: ''pointer'' }}\n                      onClick={() => handlePointClick(point)}\n                    />\n                    {/* Cost */}\n                    <circle\n                      cx={safeX}\n                      cy={safeYCost}\n                      r={point.isSelected ? 6 : 4}\n                      fill={styles.colors.warning || ''#f59e0b''}\n                      stroke=\"white\"\n                      strokeWidth=\"2\"\n                      style={{ cursor: ''pointer'' }}\n                      onClick={() => handlePointClick(point)}\n                    />\n                  </g>\n                );\n              })}\n            </g>\n            \n            {/* Axis labels */}\n            <text\n              x={margin.left - 40}\n              y={height / 2}\n              transform={`rotate(-90, $' + '{margin.left - 40}, $' + '{height / 2})`}\n              textAnchor=\"middle\"\n              fill={styles.colors.textSecondary}\n              fontSize=\"14\"\n            >\n              Tokens\n            </text>\n            <text\n              x={width - margin.right + 40}\n              y={height / 2}\n              transform={`rotate(90, $' + '{width - margin.right + 40}, $' + '{height / 2})`}\n              textAnchor=\"middle\"\n              fill={styles.colors.textSecondary}\n              fontSize=\"14\"\n            >\n              Runs / Cost ($)\n            </text>\n          </svg>\n        )}\n      </div>\n      \n      {/* Legend */}\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''center'',\n        gap: styles.spacing.lg,\n        marginTop: styles.spacing.md\n      }}>\n        <div style={{ display: ''flex'', alignItems: ''center'', gap: styles.spacing.xs }}>\n          <div style={{\n            width: ''12px'',\n            height: ''12px'',\n            backgroundColor: styles.colors.primary || ''#3b82f6'',\n            borderRadius: ''2px''\n          }} />\n          <span style={{ fontSize: styles.typography.fontSize.sm, color: styles.colors.text }}>Runs</span>\n        </div>\n        <div style={{ display: ''flex'', alignItems: ''center'', gap: styles.spacing.xs }}>\n          <div style={{\n            width: ''12px'',\n            height: ''12px'',\n            backgroundColor: styles.colors.success || ''#10b981'',\n            borderRadius: ''2px''\n          }} />\n          <span style={{ fontSize: styles.typography.fontSize.sm, color: styles.colors.text }}>Tokens</span>\n        </div>\n        <div style={{ display: ''flex'', alignItems: ''center'', gap: styles.spacing.xs }}>\n          <div style={{\n            width: ''12px'',\n            height: ''12px'',\n            backgroundColor: styles.colors.warning || ''#f59e0b'',\n            borderRadius: ''2px''\n          }} />\n          <span style={{ fontSize: styles.typography.fontSize.sm, color: styles.colors.text }}>Cost</span>\n        </div>\n      </div>\n    </div>\n  );\n}","dependencies":[],"libraries":[]}'
SET
  @FunctionalRequirements_de717998 = N'## Time Series Chart Requirements

### Core Functionality
- Display three data series: total runs, total tokens, total cost
- Dual Y-axis configuration (left: tokens, right: runs and cost)
- Interactive tooltips showing all values on hover
- Click on data points to trigger drill-down
- Smooth line interpolation with data point markers
- Legend with series toggle capability
- Responsive to container size changes

### Visual Features
- Consistent color coding (runs: blue, tokens: green, cost: orange)
- Grid lines for better readability
- Axis labels with appropriate formatting
- Highlighted selection state for clicked points
- Animated transitions on data updates
- Zero-baseline for better comparison'
SET
  @TechnicalDesign_de717998 = N'## Technical Design

### Props
- data: Array of aggregated data points with date, runs, tokens, cost
- groupBy: Current grouping (day/week/month/quarter)
- activeTab: Current view (agents/prompts)
- selectedPoint: Currently selected data point
- onPointClick: Callback when point is clicked

### Chart Configuration
- Uses recharts library for rendering
- Dual Y-axis setup with synchronized tooltips
- Custom tick formatters for large numbers
- Responsive container with aspect ratio preservation'
SET
  @FunctionalRequirementsVector_de717998 = N'[-0.08753657341003418,-0.031392164528369904,-0.02431281842291355,-0.008673370815813541,-0.00006362602289300412,0.016115395352244377,-0.003526697400957346,0.018876316025853157,-0.05817759782075882,0.04337303340435028,0.009478486143052578,0.06636542826890945,0.029074668884277344,0.13144893944263458,-0.040945135056972504,-0.09073706716299057,-0.014771921560168266,0.0020127512980252504,0.03827527537941933,0.022417224943637848,0.031969357281923294,-0.010710385628044605,-0.03921862691640854,-0.007009283173829317,-0.08763119578361511,-0.008481401950120926,-0.04528447613120079,-0.011522424407303333,0.05153057351708412,-0.13205863535404205,-0.003929360304027796,0.02755301259458065,0.008811917155981064,0.07423591613769531,0.0000022247261313168565,-0.025555811822414398,-0.009488417766988277,0.0005720154731534421,-0.016333216801285744,0.026366885751485825,0.019632264971733093,-0.03030252642929554,0.09199821949005127,-0.026224952191114426,0.013798097148537636,-0.005880987737327814,-0.024056898429989815,0.006226265802979469,0.061784036457538605,-0.03889283910393715,0.004948127083480358,0.05176256597042084,-0.039569661021232605,-0.02711624652147293,0.019637253135442734,-0.04425685107707977,0.000559495238121599,0.030068889260292053,0.09283700585365295,0.011532353237271309,-0.030651375651359558,0.03459247946739197,0.01231957133859396,-0.01710556074976921,0.04082432761788368,-0.002947260392829776,0.029792945832014084,-0.022107256576418877,-0.010701953433454037,0.039293281733989716,0.1094757691025734,-0.03842346742749214,0.0047583687119185925,-0.024968847632408142,-0.02938811480998993,-0.026997189968824387,-0.04126684367656708,-0.011577852070331573,0.0050893500447273254,-0.006393099203705788,-0.03018917888402939,0.07416301965713501,-0.04887200519442558,-0.007522910367697477,-0.008203413337469101,-0.024722380563616753,-0.008946883492171764,-0.02175311930477619,-0.00257271621376276,0.005111678037792444,-0.014208623208105564,0.00684535875916481,-0.02540433220565319,0.012281547300517559,-0.03969186171889305,-0.012029926292598248,0.031540777534246445,-0.07209663093090057,0.02218734472990036,0.045620013028383255,0.0607883594930172,-0.013639116659760475,0.015604815445840359,0.021898843348026276,0.06945803016424179,0.02231329120695591,-0.0398343987762928,-0.07728369534015656,-0.0025506129022687674,0.04338323324918747,0.005269190762192011,-0.01288838591426611,-0.03583325073122978,-0.008510266430675983,0.011231550015509129,0.027944320812821388,-0.00005693198909284547,-0.023741034790873528,-0.02755885198712349,0.014824728481471539,0.05544023588299751,0.0026948493905365467,0.015374688431620598,0.026700487360358238,0.0049377549439668655,0.029935788363218307,-0.012165994383394718,0.009157042019069195,0.010481912642717361,-0.009626377373933792,-0.05388025566935539,0.0009033793467096984,0.041601818054914474,0.016882894560694695,-0.04236267879605293,0.013898598030209541,0.03481464460492134,0.0230157021433115,-0.022904088720679283,-0.03912843391299248,0.005556667223572731,0.031833622604608536,-0.06299419701099396,0.03304114565253258,0.00535279605537653,0.0010485039092600346,0.030682260170578957,0.10394206643104553,0.017141981050372124,0.010997188277542591,-0.017098668962717056,-0.005452374927699566,-0.007573009468615055,0.026171784847974777,-0.040266163647174835,-0.028713218867778778,0.015459300950169563,-0.028110994026064873,0.04127874597907066,0.004538229666650295,0.0025562329683452845,0.003938542678952217,0.030511559918522835,-0.021720198914408684,-0.042302489280700684,0.004834678955376148,-0.09426141530275345,-0.013881177641451359,-0.018423059955239296,0.03263475373387337,0.02823188155889511,-0.07920589298009872,-0.008438799530267715,-0.00467004906386137,0.028130242601037025,0.01597769558429718,0.02543846145272255,-0.08893346786499023,0.041526373475790024,-0.01583506166934967,0.03135685995221138,-0.10914313793182373,0.037303563207387924,0.015599516220390797,0.0650637075304985,-0.0014272995758801699,-0.12037243694067001,-0.024643177166581154,0.007243539206683636,-0.021443171426653862,-0.03802182897925377,0.03074670024216175,-0.009297706186771393,-0.011181667447090149,-0.015403639525175095,-0.02610745280981064,0.004434993490576744,-0.028568590059876442,0.04313935339450836,0.023620914667844772,0.000025382927560713142,0.03189007565379143,0.038782186806201935,0.010426100343465805,-0.03273681178689003,0.019158190116286278,0.02568422444164753,-0.03698432445526123,0.011663702316582203,0.040792156010866165,0.04403383284807205,-0.00719041284173727,-0.043171416968107224,0.0008570857462473214,-0.037535469979047775,0.00798915047198534,0.0049842051230371,0.01137616578489542,-0.0505315400660038,-0.00001984305345104076,-0.004812218248844147,-0.006770597770810127,0.01168681588023901,-0.012990344315767288,0.0517396479845047,0.04768528789281845,0.015455871820449829,-0.014281191863119602,0.0598350428044796,0.02583603747189045,-0.036031324416399,0.005153025966137648,-0.00657936604693532,0.029450390487909317,0.05330106243491173,0.06336816400289536,-0.0028168780263513327,0.05549634248018265,-0.01701601967215538,0.03653573989868164,-0.00618185056373477,-0.04287603870034218,-0.04188968241214752,-0.03519400209188461,-0.013642167672514915,-0.06472073495388031,-0.04461689293384552,-0.010570105165243149,-0.0382101945579052,-0.028395764529705048,-0.0015735869528725743,0.008428627625107765,0.007309566251933575,-0.016970757395029068,-0.03820708394050598,-0.010004675947129726,0.04200254753232002,0.0053807999938726425,-0.04579010605812073,0.06681013852357864,-0.001233191229403019,0.04695845767855644,-0.043807487934827805,-0.03334730863571167,-0.011472819373011589,-0.06897833198308945,0.06369270384311676,0.0018476940458640456,-0.04617465287446976,0.008957074023783207,0.002625253051519394,0.027390342205762863,-0.021213900297880173,-0.01934501715004444,-0.016843732446432114,0.05350135266780853,0.0023633057717233896,-0.008645790629088879,-0.050631117075681686,0.044872432947158813,-0.0021913941018283367,-0.02334560453891754,0.03379008546471596,0.0668327584862709,-0.0012743966653943062,-0.0025200331583619118,0.058891411870718,-0.006806252524256706,0.04791870713233948,-0.0639871209859848,0.01723313145339489,-0.03729555755853653,0.052244655787944794,0.0014457141514867544,-0.014933162368834019,0.025566840544342995,0.010370652191340923,0.027728024870157242,-0.0075501808896660805,-0.007091844454407692,-0.02877618372440338,-0.029166148975491524,-0.021207045763731003,0.02688436768949032,-0.03792957961559296,0.09043439477682114,0.03474870324134827,0.030130915343761444,-0.007382315583527088,0.0903807133436203,0.04071378335356712,-0.018035192042589188,-0.014506851322948933,-0.06338763236999512,0.0049519711174070835,0.05144040659070015,-0.026547588407993317,0.006307403557002544,-0.01194041594862938,0.04710301756858826,0.0003200648061465472,-0.03942246362566948,-0.031225712969899178,-0.009473327547311783,-0.04493074119091034,0.005731610581278801,-0.04412129521369934,-0.051211122423410416,-0.024298664182424545,0.041339974850416183,-0.009666405618190765,-0.041131310164928436,-0.00640450231730938,0.014929750934243202,0.022983362898230553,-0.01877162978053093,-0.028821313753724098,-0.09351552277803421,0.006881837733089924,-0.006608426105231047,0.029720045626163483,0.04078563302755356,-0.0016973697347566485,0.03886331245303154,-0.009926345199346542,-0.041388485580682755,0.0009788519237190485,-0.004209098871797323,0.022039057686924934,0.028682144358754158,0.04142669588327408,0.028628818690776825,0.014658475294709206,0.0017515707295387983,0.03236953541636467,0.006723570637404919,-0.03724844381213188,0.009722307324409485,-0.023689525201916695,0.0010875979205593467,0.05323800444602966,0.01432584598660469,-0.017078250646591187,0.07372565567493439,-0.018214385956525803,0.037872154265642166,-0.028465891256928444,-0.00875755026936531,0.01653154194355011,-0.025796720758080482,-0.014340533874928951,0.043358780443668365,0.007872809655964375,0.001160804065875709,0.0007637696107849479,-0.027094926685094833,0.004740072879940271,0.03926093503832817,0.027266114950180054,0.01797894760966301,-0.03537166863679886,-0.017440900206565857,0.0841352641582489,-0.001879316521808505,0.07306699454784393,-0.058178070932626724,-0.02154826931655407,-0.008447234518826008,-0.024458492174744606,0.025219907984137535,0.013147254474461079,-0.020997991785407066,0.061717916280031204,-0.09655287861824036,-0.0335666723549366,-0.009896207600831985,-0.0016847511287778616,0.00992946419864893,0.02084699459373951,0.011880530044436455,0.05402066558599472,-0.05762672796845436,-0.018643783405423164,-0.04247761145234108,0.0802658349275589,-0.07869648188352585,-0.019332775846123695,0.03221297636628151,-0.040200039744377136,-0.03360190615057945,-0.01253021601587534,0.026147237047553062,-0.024969860911369324,-0.05851263552904129,-0.011452621780335903,0.03731505945324898,-0.019619304686784744,-0.017580706626176834,0.07784845679998398,0.07554374635219574,0.0141835268586874,-0.00029646969051100314,0.0366593599319458,0.01726994290947914,0.043221503496170044,-0.04107259213924408,0.004343577194958925,-0.01599329523742199,-0.012209723703563213,0.058173537254333496,0.029046792536973953,0.00628620432689786,0.008333232253789902,0.008541777729988098,-0.12413827329874039,0.0004237269749864936,-0.0341947004199028,-0.013504632748663425,0.022376855835318565,0.01445239782333374,0.006785888224840164,0.016063524410128593,0.03918324038386345,-0.02944091148674488,0.006769715342670679,-0.0335569903254509,-0.01044495590031147,-0.0035250892397016287,0.009687294252216816,-0.01025251392275095,0.008784675039350986,-0.03747297078371048,-0.00016185719869099557,0.005595499649643898,0.002659164136275649,-0.017072215676307678,0.03341780602931976,-0.08684898912906647,-0.005772397853434086,0.013953912071883678,0.002868800889700651,0.006559538189321756,-0.017093760892748833,-0.01027488149702549,0.10885252803564072,0.07980930060148239,0.013362920843064785,-0.00029525518766604364,-0.021046530455350876,-0.08510735630989075,0.11087847501039505,-0.03195199742913246,-0.02213161624968052,-0.003911124542355537,0.055407676845788956,-0.011242232285439968,0.026936614885926247,0.013250559568405151,0.021231504157185555,-0.009603237733244896,0.024313082918524742,0.0551278218626976,0.041134972125291824,-0.0274549201130867,0.018425434827804565,0.008643297478556633,-0.009820107370615005,-0.03195502236485481,-0.01579623855650425,0.0238389503210783,-0.005386693403124809,-0.06900414079427719,-0.039697688072919846,0.0006990467663854361,0.048425108194351196,0.008063477464020252,-0.022098040208220482,0.042374275624752045,0.0004303399764467031,0.004500767216086388,-0.03607240691781044,0.01891888491809368,0.005846694577485323,-0.03333829343318939,-0.03808610141277313,0.02607785165309906,0.0686536431312561,0.004636057186871767,-0.024077340960502625,0.051190897822380066,0.026965150609612465,-0.04539979621767998,-0.046400438994169235,0.02967403270304203,0.03688711300492287,-0.023497719317674637,-0.043637216091156006,0.009257491677999496,0.025159645825624466,-0.013982103206217289,-0.035627979785203934,0.0268846582621336,0.006971065420657396,-0.016948828473687172,0.09589757770299911,0.023264944553375244,-0.021015742793679237,-0.04907482489943504,0.002529582241550088,0.03159985691308975,0.029122179374098778,-0.008472100831568241,0.036708950996398926,-0.02186225913465023,-0.035916488617658615,0.05386536568403244,0.02056640200316906,-0.023191625252366066,0.03051348216831684,0.00791677925735712,-0.05509479343891144,0.024131447076797485,-0.011818209663033485,-0.04993804916739464,0.030820127576589584,0.0014428232097998261,-0.011275380849838257,-0.02624773420393467,0.02030949853360653,0.0746619924902916,0.0492856539785862,-0.056707147508859634,0.024540137499570847,-0.0648895874619484,-0.04566284269094467,-6.861192283120731e-33,0.009322918020188808,-0.011549384333193302,-0.03504445403814316,-0.014461996033787727,-0.018669722601771355,0.02415146864950657,0.06401344388723373,-0.030857164412736893,0.004089317284524441,-0.000938917975872755,0.012593445368111134,-0.029072294011712074,-0.01182202622294426,-0.012383166700601578,0.06248825788497925,0.026460302993655205,0.024831589311361313,0.005701583344489336,-0.010108274407684803,0.014496583491563797,0.03810082748532295,0.025023752823472023,-0.013547670096158981,-0.0033616265282034874,0.005482851527631283,0.0042847804725170135,0.003440748667344451,0.03620556741952896,0.009145240299403667,-0.017998434603214264,0.028008900582790375,-0.027315843850374222,-0.02601240761578083,0.00047278060810640454,-0.04244416207075119,-0.007317148614674807,-0.009170589968562126,-0.07259663939476013,-0.0017738714814186096,-0.02903694100677967,0.061174944043159485,0.0042215371504426,0.01808689348399639,-0.004923354834318161,-0.01882312260568142,-0.023890824988484383,-0.016640007495880127,0.034160103648900986,-0.0055504185147583485,0.0003030975931324065,0.05963655188679695,0.016740946099162102,-0.006972321774810553,0.01626606285572052,0.002645687432959676,0.038006074726581573,0.023964541032910347,0.0387684628367424,-0.02392398752272129,0.04165860265493393,-0.04291416332125664,-0.06000148132443428,-0.0028269109316170216,0.019144540652632713,0.03351178765296936,-0.02915378287434578,-0.07742094993591309,0.03913392126560211,-0.030020182952284813,0.08730955421924591,-0.04014744982123375,-0.03756415471434593,0.00922180712223053,-0.11948378384113312,0.00025115557946264744,-0.02928934246301651,-0.013135353103280067,-0.007684454321861267,0.0012257705675438046,0.056754808872938156,-0.04511434957385063,-0.033547814935445786,-0.020012589171528816,0.027346160262823105,0.01353614591062069,-0.02407717891037464,-0.007369966246187687,-0.038212891668081284,0.020781414583325386,0.012356581166386604,0.0068619162775576115,0.022321516647934914,-0.0747259333729744,0.022894971072673798,-0.037570443004369736,-0.006632254458963871,0.02677297219634056,0.0022464669309556484,0.003801381913945079,-0.051076438277959824,0.019286468625068665,0.01660500280559063,-0.02960207127034664,-0.00437681982293725,0.025653541088104248,-0.05230492353439331,0.04683847725391388,-0.003119769273325801,-0.03186364844441414,0.017588533461093903,0.03652897849678993,-0.006569772493094206,-0.024118538945913315,-0.050042569637298584,-0.009969870559871197,-0.03828811272978783,-0.02382129244506359,-0.00992137473076582,0.011568581685423851,0.00758006889373064,0.019168907776474953,-0.04550640657544136,-0.06238749995827675,0.01845025084912777,0.04225838556885719,-0.03799561411142349,-0.004985549952834845,0.026874395087361336,0.016880087554454803,0.012836986221373081,-0.01051889918744564,-0.01570575311779976,3.141965692066151e-7,0.0008920375257730484,0.011227451264858246,0.011972037144005299,0.001824381179176271,0.0018882103031501174,-0.05430079996585846,-0.06174913048744202,-0.007774882018566132,-0.06901527941226959,0.0031221299432218075,0.000332648865878582,-0.011744830757379532,0.007185901515185833,0.05661559849977493,0.04213227331638336,-0.09051675349473953,-0.030781881883740425,-0.0231047123670578,-0.04745468497276306,0.016518400982022285,0.0734131783246994,0.0075476281344890594,0.08179162442684174,0.03152310475707054,-0.010928995907306671,-0.017469562590122223,-0.011586998589336872,-0.02845127321779728,0.017633946612477303,-0.03826339542865753,-0.015884000808000565,0.03463306277990341,0.0019278253894299269,-0.05267731845378876,-0.00857948511838913,0.028485478833317757,-0.03772125393152237,-0.054417919367551804,0.011516977101564407,0.04856133088469505,0.01961481384932995,0.04129619151353836,0.014308121986687183,-0.03079390339553356,-0.020233457908034325,0.004260042682290077,0.009520106017589569,0.031082019209861755,-0.00533461757004261,0.042566511780023575,0.03728199005126953,0.02760404720902443,0.02590419165790081,-0.029769927263259888,-0.009808548726141453,0.009200875647366047,0.00037983691436238587,0.022514527663588524,-0.004382346756756306,0.0407811738550663,0.01278151385486126,-0.04386723414063454,-0.004368230234831572,0.10480453819036484,0.015715178102254868,0.020506761968135834,-0.031268518418073654,3.6671376096162207e-34,0.034600574523210526,-0.05872407928109169,0.03111095540225506,0.00018878752598538995,0.01936355233192444,-0.013104925863444805,-0.006420237943530083,0.004480466246604919,0.03144335374236107,-0.024271253496408463,0.002697097137570381]'
SET
  @TechnicalDesignVector_de717998 = N'[-0.05786442384123802,-0.03896483778953552,-0.028502997010946274,-0.05979367345571518,0.005129639990627766,-0.014699192717671394,0.04870947077870369,0.018647687509655952,-0.006738511845469475,0.021439537405967712,-0.006873393431305885,0.029920661821961403,0.043674223124980927,0.13548259437084198,0.02381816878914833,-0.056147199124097824,-0.032882437109947205,0.02434188686311245,0.012664531357586384,0.018375089392066002,0.009729740209877491,-0.00706030149012804,-0.030216412618756294,0.004002962727099657,-0.03273525461554527,-0.05298001319169998,-0.02377767488360405,-0.006933058612048626,0.026440715417265892,-0.11170950531959534,0.026379939168691635,0.03726239874958992,-0.04995215684175491,0.07655155658721924,0.0000020513596155069536,-0.005802830681204796,-0.0051918914541602135,-0.016460876911878586,-0.00858854129910469,0.02386586181819439,0.08064335584640503,-0.02523191086947918,0.07207758724689484,-0.001544118975289166,0.02650461159646511,-0.06141475588083267,-0.05800260603427887,0.008446406573057175,0.036571308970451355,-0.04255353659391403,0.004819014109671116,0.03378308564424515,-0.03810911625623703,-0.017741581425070763,-0.004932649899274111,0.0029236539267003536,-0.017071973532438278,0.012282116338610649,0.07783801108598709,-0.014756360091269016,-0.0031816037371754646,0.001016657566651702,0.0045144339092075825,-0.042105499655008316,0.03875765576958656,-0.012171237729489803,0.0425957590341568,-0.04154586419463158,-0.011148792691528797,0.06266090273857117,0.13466352224349976,-0.026824291795492172,0.00041684473399072886,-0.0022428068332374096,-0.006945410277694464,-0.010846364311873913,-0.033898334950208664,-0.026777345687150955,-0.009283334016799927,0.002413496607914567,-0.03399822115898132,0.015706608071923256,-0.03824540972709656,0.0012981597101315856,0.030152205377817154,-0.0016250584740191698,0.0003801809798460454,0.027098925784230232,-0.03295076638460159,0.006761936936527491,0.01496956031769514,0.002455661306157708,-0.011973707936704159,0.01010830793529749,-0.06606128066778183,-0.014808092266321182,0.01968606561422348,-0.060185886919498444,0.01494633685797453,0.02457583323121071,0.10442902147769928,0.014833337627351284,0.0045120492577552795,0.04404958710074425,0.0812925398349762,0.044670190662145615,0.0062995776534080505,-0.03648018091917038,-0.009219970554113388,0.02566251903772354,0.030870288610458374,0.0046450854279100895,-0.012862750329077244,0.023648805916309357,-0.04464869946241379,0.016370505094528198,-0.04985790327191353,0.011240910738706589,-0.012509736232459545,-0.011686968617141247,0.056475359946489334,-0.017540479078888893,-0.012251979671418667,0.03781352937221527,0.023823920637369156,0.05149155482649803,-0.017084533348679543,-0.052147891372442245,-0.0019983877427875996,-0.01681375876069069,-0.03836708143353462,-0.010736001655459404,0.007280898280441761,-0.005811036564409733,-0.057045891880989075,0.022354451939463615,0.0019517355831339955,0.03539318963885307,-0.03498530015349388,-0.0523843877017498,-0.01136008370667696,0.0007607573643326759,-0.06809525936841965,0.014864727854728699,0.018297946080565453,-0.008015078492462635,-0.010628798976540565,0.022693101316690445,0.015855809673666954,0.03776179626584053,0.0023520078975707293,0.01342834159731865,-0.010277305729687214,0.034042950719594955,-0.05605437606573105,-0.010409265756607056,-0.03920887038111687,0.009910066612064838,0.040762726217508316,0.04047601670026779,0.008157594129443169,0.01814819872379303,0.050007496029138565,0.0027926338370889425,-0.05785667896270752,0.013932290486991405,-0.11519016325473785,-0.0374068021774292,-0.013934865593910217,0.014181423932313919,0.01523629855364561,-0.045506350696086884,-0.035682886838912964,0.00587671622633934,0.05094335973262787,0.004823187366127968,0.04750753194093704,-0.06896398216485977,-0.04578123614192009,-0.019060887396335602,0.021523747593164444,-0.13410599529743195,-0.006435232236981392,0.031816646456718445,0.05411148816347122,-0.012750581838190556,-0.12518583238124847,0.04110967740416527,-0.012506157159805298,0.004932552110403776,-0.04758933559060097,0.02099752612411976,-0.08305419981479645,-0.002815303159877658,-0.0034069588873535395,-0.034308116883039474,0.0022977192420512438,-0.06334897130727768,0.03799395263195038,0.02762732468545437,-0.00518094701692462,0.02209940366446972,0.07342727482318878,-0.012790827080607414,0.010450053960084915,0.006213639862835407,-0.03742507845163345,-0.05195868760347366,0.021466976031661034,0.02617589756846428,0.07844210416078568,-0.028526172041893005,-0.052870649844408035,0.0003083082556258887,-0.02751188911497593,0.02266256883740425,-0.021797286346554756,0.011260502971708775,-0.06935564428567886,-0.002377585042268038,-0.06382525712251663,-0.03549183905124664,0.01696190983057022,0.010568110272288322,0.12866337597370148,-0.0016353687969967723,-0.0022035713773220778,-0.04212433099746704,0.05991651117801666,0.030552733689546585,-0.014767368324100971,-0.01317602302879095,0.03303918242454529,0.039121028035879135,0.06037163361907005,0.07003553956747055,-0.000613747863098979,-0.010132413357496262,0.0002996388648170978,0.06844589114189148,-0.02077515237033367,0.007697917986661196,-0.051002226769924164,-0.012813149020075798,-0.009899056516587734,-0.024237116798758507,-0.07181284576654434,-0.0003904604527633637,-0.03777674585580826,0.00796546135097742,0.030301205813884735,0.01680385321378708,0.014678671956062317,-0.019642073661088943,-0.03526024892926216,-0.012189996428787708,0.06870546191930771,0.006555198226124048,-0.046206288039684296,0.05079272761940956,0.013510112650692463,0.052831217646598816,-0.014936094172298908,-0.0021486347541213036,-0.012037220411002636,-0.027442090213298798,0.05654721334576607,0.020410707220435143,-0.022111905738711357,0.014679165557026863,-0.019249122589826584,0.016786271706223488,-0.008778726682066917,-0.03277945891022682,-0.026904437690973282,0.029416577890515327,-0.0015459632268175483,0.019394420087337494,-0.016584377735853195,0.009263482876121998,-0.01480005867779255,-0.03205779194831848,0.012869598343968391,0.053498346358537674,-0.015108739025890827,-0.01092895120382309,0.07692566514015198,-0.00509915454313159,0.025981944054365158,-0.0909179076552391,0.027300873771309853,-0.011694038286805153,0.039095308631658554,-0.028800366446375847,-0.020033013075590134,0.010712540708482265,0.0062498715706169605,0.07010266929864883,-0.05214877426624298,0.03415384888648987,-0.038813430815935135,-0.0012898219283670187,-0.026288190856575966,0.012338734231889248,-0.031809959560632706,0.022423723712563515,0.035130761563777924,0.026023931801319122,-0.001322043826803565,0.08403931558132172,0.0322987362742424,0.000003248436769354157,0.01937471330165863,-0.020208682864904404,0.00702334102243185,0.014702648855745792,-0.05197879299521446,0.03495508432388306,-0.01732935756444931,0.05593147501349449,0.007336268667131662,-0.052053581923246384,-0.026258226484060287,-0.016879238188266754,-0.05977530777454376,0.007923856377601624,-0.019677968695759773,-0.017642777413129807,-0.007108979858458042,0.02256396971642971,-0.012663514353334904,-0.02854044735431671,0.017000777646899223,0.011462356895208359,0.027244776487350464,-0.03823496773838997,-0.031502775847911835,-0.07416046410799026,0.027370626106858253,-0.012192316353321075,0.0010043822694569826,-0.01718074083328247,-0.008780554868280888,0.0180645901709795,-0.005981387570500374,-0.0338439904153347,-0.05222569778561592,0.016294673085212708,-0.06476008147001266,0.017178352922201157,0.03077154979109764,0.054316919296979904,-0.0014531462220475078,0.005778779275715351,0.027359941974282265,0.01401600893586874,-0.010753913782536983,0.04007688909769058,-0.014432917349040508,-0.03513152524828911,0.008886451832950115,0.043185558170080185,0.053914137184619904,0.04788827896118164,-0.03283139690756798,0.025206277146935463,0.011409193277359009,0.015679478645324707,0.04576250538229942,-0.04128319025039673,0.02425059862434864,0.04707692563533783,0.03308357298374176,0.020046858116984367,-0.03721608221530914,-0.05715837702155113,0.019966553896665573,0.03442702442407608,0.05770857632160187,0.017879154533147812,0.01895710453391075,0.0020157075487077236,0.03946009278297424,-0.006757420487701893,0.08304089307785034,-0.042555175721645355,-0.014637650921940804,0.01059535052627325,-0.04430357366800308,0.03453601151704788,0.01272288616746664,-0.0630648210644722,0.010954956524074078,-0.04375850409269333,-0.01625346951186657,-0.007987982593476772,0.0019166128477081656,0.019413504749536514,0.050454068928956985,0.015903323888778687,0.0266120582818985,-0.03172554448246956,0.033302608877420425,-0.028459368273615837,0.051384855061769485,-0.01303556002676487,-0.02808421105146408,0.05670181289315224,0.020948804914951324,0.019058194011449814,-0.04382697865366936,0.0002778264170046896,-0.021428478881716728,-0.016806967556476593,-0.029762940481305122,0.022936780005693436,-0.0233721025288105,-0.042344190180301666,0.05669784173369408,-0.025073427706956863,0.028663547709584236,-0.010708780959248543,0.0539293996989727,0.015294941142201424,0.07839746028184891,-0.06305704265832901,-0.008777773007750511,-0.010033090598881245,-0.0019178141374140978,0.018998706713318825,0.025517374277114868,-0.018638180568814278,0.009564554318785667,0.02739393524825573,-0.09641905874013901,-0.013811805285513401,-0.012751863338053226,0.009031548164784908,0.04785273224115372,-0.03871704638004303,-0.024058202281594276,0.012584911659359932,0.07251698523759842,-0.02639828249812126,0.021374788135290146,-0.061514098197221756,-0.0017317546298727393,0.03277498856186867,0.0313260592520237,-0.005011686589568853,0.01364954188466072,-0.025812050327658653,-0.048241037875413895,0.013851771131157875,-0.011975269764661789,-0.04128784313797951,0.06060299277305603,-0.05127735808491707,-0.013351122848689556,0.03395074978470802,-0.0013600100064650178,0.030110079795122147,-0.04373978450894356,-0.04108956828713417,0.07834622263908386,0.05745681747794151,-0.004189200699329376,-0.015398802235722542,-0.02058371901512146,-0.06407693773508072,0.10835698992013931,-0.03141745179891586,-0.028019046410918236,-0.009951291605830193,0.04262378439307213,0.020168179646134377,0.021267710253596306,0.010344909504055977,0.0010018436005339026,-0.017132645472884178,0.029706766828894615,0.06909766048192978,-0.005701914895325899,-0.08824105560779572,0.00953305047005415,-0.028315018862485886,-0.004901420790702105,0.01937503181397915,-0.021634189411997795,0.008260578848421574,-0.0008679326856508851,-0.054313283413648605,-0.05518343672156334,0.027490193024277687,0.051137737929821014,0.05956709757447243,-0.05471458658576012,0.031175514683127403,0.015322561375796795,-0.05612775310873985,-0.044832244515419006,-0.012121615931391716,0.025095239281654358,0.015594994649291039,-0.055521197617053986,0.004048964940011501,0.038007043302059174,0.028099482879042625,-0.027113843709230423,0.017932916060090065,0.022895511239767075,-0.02437450736761093,-0.052744608372449875,-0.0066985273733735085,0.042562782764434814,0.043049223721027374,-0.07990498840808868,-0.004084987565875053,0.026448938995599747,-0.012548564933240414,-0.02621937170624733,0.007714432664215565,-0.015703368932008743,-0.008393320254981518,0.11608785390853882,0.04784078523516655,0.02182588540017605,-0.014597666449844837,-0.021199457347393036,0.049650948494672775,0.008097965270280838,0.002650737063959241,0.015762843191623688,-0.02118435874581337,-0.008382978849112988,0.04464178904891014,0.021414168179035187,-0.03586631640791893,0.02588537521660328,-0.024566197767853737,-0.07900308072566986,0.01682278886437416,0.04392704367637634,-0.020355191081762314,0.030529873445630074,-0.03331226110458374,0.0006614580634050071,-0.03519843891263008,0.012377959676086903,0.04106771573424339,0.02298717014491558,-0.0005198977887630463,0.0017234851839020848,-0.042652569711208344,-0.01153485756367445,-6.71867240929116e-33,-0.008050715550780296,0.00854905229061842,-0.02579505741596222,0.006750764790922403,-0.06012875214219093,-0.014511091634631157,0.023234879598021507,-0.04692959412932396,-0.009673516266047955,-0.010234419256448746,-0.012589232996106148,-0.04200969263911247,0.002556336112320423,0.0025765637401491404,0.01275186613202095,0.027556316927075386,0.034768376499414444,-0.007737007923424244,-0.037942659109830856,-0.00475385831668973,0.03733755275607109,0.02855185605585575,-0.06326461583375931,-0.018434258177876472,-0.03033626824617386,-0.020422890782356262,0.0216477420181036,0.055445197969675064,-0.018111098557710648,0.012860719114542007,-0.012605729512870312,-0.004024737514555454,-0.028232084587216377,-0.017172863706946373,-0.002519161207601428,0.02795378305017948,-0.018956657499074936,-0.07007674127817154,-0.011178793385624886,0.021172214299440384,0.05333009362220764,0.014972642995417118,0.021794745698571205,-0.02868441864848137,0.01875980943441391,-0.02888895571231842,-0.021557267755270004,0.005316706839948893,-0.02695004642009735,0.01927078701555729,0.02303302101790905,0.03093801997601986,0.021236540749669075,0.0174266267567873,-0.004512679297477007,0.022221717983484268,0.045029789209365845,0.027083948254585266,-0.07733000069856644,0.015366221778094769,-0.06050901114940643,-0.03936506435275078,-0.011246709153056145,0.07421576976776123,0.047498270869255066,0.02387263812124729,0.010451333597302437,0.04057333618402481,-0.07794256508350372,0.06289092451334,-0.016881903633475304,-0.022931335493922234,0.03421042487025261,-0.034236520528793335,0.015767764300107956,-0.01603444293141365,-0.016090229153633118,-0.006803121883422136,0.06977265328168869,0.008451276458799839,-0.006459750235080719,0.023552266880869865,-0.013896407559514046,0.020666426047682762,0.02075769193470478,-0.05407069995999336,0.01830478571355343,-0.02274163067340851,0.007765107322484255,0.03235646337270737,-0.005451607052236795,0.040773265063762665,-0.04847264662384987,0.05917173624038696,-0.012606748379766941,-0.04881781339645386,0.06425150483846664,0.045438431203365326,-0.005308499094098806,-0.06005306914448738,-0.0005034109344705939,0.016933778300881386,-0.06855704635381699,0.011258226819336414,0.016676655039191246,0.010472699999809265,0.0354064404964447,-0.00023948270245455205,-0.027850938960909843,0.0008934175712056458,0.02887488529086113,-0.00496423477306962,-0.019008571282029152,-0.032192762941122055,0.023053806275129318,-0.025778835639357567,-0.0017564340960234404,-0.026575807482004166,0.0063567510806024075,0.030293390154838562,0.03889557719230652,0.003361963899806142,-0.059829555451869965,-0.02158689685165882,0.021914515644311905,-0.0406896248459816,0.011444728821516037,0.027172323316335678,0.003783050924539566,-0.026491282507777214,0.013088449835777283,-0.02880997024476528,3.058878519368591e-7,-0.021219635382294655,-0.004135690629482269,-0.0053301709704101086,-0.014046894386410713,0.017279688268899918,-0.03023790940642357,-0.0344984196126461,-0.016939250752329826,-0.039018888026475906,-0.06537322700023651,-0.022842971608042717,0.019125286489725113,0.008650642819702625,0.0556415319442749,0.008958082646131516,-0.060275062918663025,0.029474487528204918,-0.013210749253630638,-0.028965599834918976,0.005472454242408276,0.02210351452231407,0.009029188193380833,0.11525947600603104,-0.017181439325213432,-0.008176819421350956,0.003062421688809991,-0.002803065348416567,-0.03181000426411629,-0.004604388494044542,-0.02145407162606716,0.01332032959908247,-0.004117086064070463,-0.04781355708837509,-0.03547777608036995,0.019169487059116364,0.006763236131519079,0.01799836941063404,-0.04269662871956825,-0.008748832158744335,0.05896063894033432,0.03391179069876671,-0.0010418943129479885,-0.005414893385022879,0.0034194656182080507,0.00029110911418683827,-0.03706749156117439,-0.025939831510186195,0.06805024296045303,-0.005096198990941048,0.02601621486246586,-0.009763172827661037,-0.009046987630426884,0.019619973376393318,-0.02678644470870495,0.010539764538407326,-0.021532338112592697,-0.006639780476689339,0.051877785474061966,0.02119242213666439,0.032471317797899246,0.0024502237793058157,-0.022614112123847008,0.009816681034862995,0.05275639519095421,0.010412351228296757,-0.04696033149957657,-0.01241531316190958,3.866851574344783e-34,0.0466427281498909,-0.058977045118808746,-0.0025886930525302887,-0.014283104799687862,0.04562986269593239,-0.03540463373064995,0.0679893046617508,-0.0016112386947497725,0.041263408958911896,-0.03748607262969017,-0.023161718621850014]'
SET
  @HasCustomProps_de717998 = 1
SET
  @HasCustomEvents_de717998 = 1
SET
  @RequiresData_de717998 = 1
SET
  @DependencyCount_de717998 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_de717998 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_de717998 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_de717998 = 1
SET
  @ID_de717998 = '12796365-7678-410F-867D-3EF0598E0BEB'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_de717998,
  @Name = @Name_de717998,
  @Version = @Version_de717998,
  @VersionSequence = @VersionSequence_de717998,
  @Title = @Title_de717998,
  @Description = @Description_de717998,
  @Type = @Type_de717998,
  @Status = @Status_de717998,
  @DeveloperName = @DeveloperName_de717998,
  @DeveloperEmail = @DeveloperEmail_de717998,
  @DeveloperOrganization = @DeveloperOrganization_de717998,
  @SourceRegistryID = @SourceRegistryID_de717998,
  @ReplicatedAt = @ReplicatedAt_de717998,
  @LastSyncedAt = @LastSyncedAt_de717998,
  @Specification = @Specification_de717998,
  @FunctionalRequirements = @FunctionalRequirements_de717998,
  @TechnicalDesign = @TechnicalDesign_de717998,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_de717998,
  @TechnicalDesignVector = @TechnicalDesignVector_de717998,
  @HasCustomProps = @HasCustomProps_de717998,
  @HasCustomEvents = @HasCustomEvents_de717998,
  @RequiresData = @RequiresData_de717998,
  @DependencyCount = @DependencyCount_de717998,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_de717998,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_de717998,
  @HasRequiredCustomProps = @HasRequiredCustomProps_de717998,
  @ID = @ID_de717998;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_f9bd1e67 NVARCHAR(MAX),
@Name_f9bd1e67 NVARCHAR(500),
@Version_f9bd1e67 NVARCHAR(50),
@VersionSequence_f9bd1e67 INT,
@Title_f9bd1e67 NVARCHAR(1000),
@Description_f9bd1e67 NVARCHAR(MAX),
@Type_f9bd1e67 NVARCHAR(255),
@Status_f9bd1e67 NVARCHAR(50),
@DeveloperName_f9bd1e67 NVARCHAR(255),
@DeveloperEmail_f9bd1e67 NVARCHAR(255),
@DeveloperOrganization_f9bd1e67 NVARCHAR(255),
@SourceRegistryID_f9bd1e67 UNIQUEIDENTIFIER,
@ReplicatedAt_f9bd1e67 DATETIMEOFFSET,
@LastSyncedAt_f9bd1e67 DATETIMEOFFSET,
@Specification_f9bd1e67 NVARCHAR(MAX),
@FunctionalRequirements_f9bd1e67 NVARCHAR(MAX),
@TechnicalDesign_f9bd1e67 NVARCHAR(MAX),
@FunctionalRequirementsVector_f9bd1e67 NVARCHAR(MAX),
@TechnicalDesignVector_f9bd1e67 NVARCHAR(MAX),
@HasCustomProps_f9bd1e67 BIT,
@HasCustomEvents_f9bd1e67 BIT,
@RequiresData_f9bd1e67 BIT,
@DependencyCount_f9bd1e67 INT,
@TechnicalDesignVectorEmbeddingModelID_f9bd1e67 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_f9bd1e67 NVARCHAR(MAX),
@HasRequiredCustomProps_f9bd1e67 BIT,
@ID_f9bd1e67 UNIQUEIDENTIFIER
SET
  @Namespace_f9bd1e67 = N'AI/Analytics/Performance'
SET
  @Name_f9bd1e67 = N'AIMetricsSummary'
SET
  @Version_f9bd1e67 = N'1.0.0'
SET
  @VersionSequence_f9bd1e67 = 1
SET
  @Title_f9bd1e67 = N'AI Metrics Summary'
SET
  @Description_f9bd1e67 = N'Summary cards displaying key performance metrics for the selected time period'
SET
  @Type_f9bd1e67 = N'Other'
SET
  @Status_f9bd1e67 = N'Published'
SET
  @Specification_f9bd1e67 = N'{"name":"AIMetricsSummary","location":"embedded","title":"AI Metrics Summary","description":"Summary cards displaying key performance metrics for the selected time period","type":"other","functionalRequirements":"## Metrics Summary Requirements\n\n### Core Functionality\n- Display key metrics in card format\n- Show total runs, tokens, and costs\n- Calculate averages per run\n- Display success rate percentage\n- Show trend indicators (up/down from previous period)\n- Responsive card layout\n\n### Visual Features\n- Color-coded metric cards\n- Icon indicators for each metric\n- Animated number transitions\n- Hover effects for additional info","dataRequirements":{"mode":"views","description":"Displays aggregated metrics derived from AI execution data","entities":[{"name":"MJ: AI Prompt Runs","description":"Source data for AI execution metrics","displayFields":["TotalTokens","InputTokens","OutputTokens","Status"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Metrics are pre-calculated from prompt run data by parent component"},{"name":"MJ: AI Agent Runs","description":"Source data for agent execution metrics","displayFields":["TotalTokens","Status"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Metrics are pre-calculated from agent run data by parent component"}],"queries":[]},"technicalDesign":"## Technical Design\n\n### Props\n- metrics: Object with calculated metric values\n\n### Card Layout\n- Responsive grid of metric cards\n- Each card shows metric name, value, and trend\n- Consistent styling with theme","properties":[{"name":"metrics","type":"{totalRuns: number, totalTokens: number, totalCost: number, avgTokensPerRun: number, avgCostPerRun: number}","required":true,"description":"Pre-calculated metrics object with aggregated values"}],"events":[],"exampleUsage":"<AIMetricsSummary metrics={metrics} />","code":"function AIMetricsSummary({ metrics, styles, utilities, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  console.log(''[AIMetricsSummary] Rendering metrics:'', metrics);\n  \n  const formatNumber = (value) => {\n    if (value >= 1000000) {\n      return `$' + '{(value / 1000000).toFixed(2)}M`;\n    } else if (value >= 1000) {\n      return `$' + '{(value / 1000).toFixed(1)}K`;\n    }\n    return value.toLocaleString();\n  };\n  \n  const formatCurrency = (value) => {\n    if (value >= 1000) {\n      return `$$' + '{(value / 1000).toFixed(2)}K`;\n    }\n    return `$$' + '{value.toFixed(2)}`;\n  };\n  \n  const metricCards = [\n    {\n      label: ''Total Runs'',\n      value: formatNumber(metrics.totalRuns || 0),\n      color: styles.colors.primary,\n      icon: ''▶'',\n      description: ''Total execution count''\n    },\n    {\n      label: ''Total Tokens'',\n      value: formatNumber(metrics.totalTokens || 0),\n      color: styles.colors.success,\n      icon: ''◆'',\n      description: ''Tokens consumed''\n    },\n    {\n      label: ''Total Cost'',\n      value: formatCurrency(metrics.totalCost || 0),\n      color: styles.colors.warning,\n      icon: ''$'',\n      description: ''Total spend''\n    },\n    {\n      label: ''Avg Tokens/Run'',\n      value: formatNumber(metrics.avgTokensPerRun || 0),\n      color: styles.colors.info || styles.colors.primary,\n      icon: ''⊙'',\n      description: ''Average token usage''\n    },\n    {\n      label: ''Avg Cost/Run'',\n      value: formatCurrency(metrics.avgCostPerRun || 0),\n      color: styles.colors.secondary,\n      icon: ''¢'',\n      description: ''Average cost per execution''\n    }\n  ];\n  \n  return (\n    <div style={{\n      display: ''grid'',\n      gridTemplateColumns: ''repeat(auto-fit, minmax(150px, 1fr))'',\n      gap: styles.spacing.md,\n      marginBottom: styles.spacing.lg\n    }}>\n      {metricCards.map((card, index) => (\n        <div\n          key={index}\n          style={{\n            backgroundColor: styles.colors.surface,\n            borderRadius: styles.borders?.radius || ''4px'',\n            padding: styles.spacing.md,\n            borderLeft: `3px solid $' + '{card.color}`,\n            transition: ''transform 0.2s, box-shadow 0.2s'',\n            cursor: ''default'',\n            position: ''relative''\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.transform = ''translateY(-2px)'';\n            e.currentTarget.style.boxShadow = `0 4px 12px $' + '{styles.colors.border}40`;\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = ''translateY(0)'';\n            e.currentTarget.style.boxShadow = ''none'';\n          }}\n          title={card.description}\n        >\n          <div style={{\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''space-between'',\n            marginBottom: styles.spacing.xs\n          }}>\n            <div style={{\n              fontSize: styles.typography.fontSize.xs,\n              color: styles.colors.textSecondary,\n              fontWeight: ''500''\n            }}>\n              {card.label}\n            </div>\n            <div style={{\n              fontSize: styles.typography.fontSize.lg,\n              color: card.color,\n              opacity: 0.3\n            }}>\n              {card.icon}\n            </div>\n          </div>\n          <div style={{\n            fontSize: styles.typography.fontSize.xl,\n            color: styles.colors.text,\n            fontWeight: ''700''\n          }}>\n            {card.value}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}","dependencies":[],"libraries":[]}'
SET
  @FunctionalRequirements_f9bd1e67 = N'## Metrics Summary Requirements

### Core Functionality
- Display key metrics in card format
- Show total runs, tokens, and costs
- Calculate averages per run
- Display success rate percentage
- Show trend indicators (up/down from previous period)
- Responsive card layout

### Visual Features
- Color-coded metric cards
- Icon indicators for each metric
- Animated number transitions
- Hover effects for additional info'
SET
  @TechnicalDesign_f9bd1e67 = N'## Technical Design

### Props
- metrics: Object with calculated metric values

### Card Layout
- Responsive grid of metric cards
- Each card shows metric name, value, and trend
- Consistent styling with theme'
SET
  @FunctionalRequirementsVector_f9bd1e67 = N'[-0.03299405798316002,0.012268081307411194,-0.009126245975494385,-0.016186650842428207,0.01672251708805561,0.013440079987049103,-0.01863914355635643,0.04927270859479904,-0.07826469838619232,0.0070790923200547695,0.016054382547736168,0.0348818264901638,0.027228357270359993,0.16153055429458618,-0.02350618876516819,-0.0728800892829895,-0.03208467736840248,0.029268357902765274,-0.027775252237915993,0.024564839899539948,0.006327418610453606,-0.008258937858045101,-0.014050468802452087,0.00038599775871261954,-0.06530465185642242,-0.003110789693892002,-0.03485017269849777,0.008640706539154053,-0.018539750948548317,-0.1175864040851593,-0.0006880671717226505,0.022552093490958214,-0.05250290781259537,0.020412731915712357,0.000002000536369450856,-0.01490961667150259,-0.007769865915179253,0.03951530158519745,-0.0005322661600075662,0.0001672726939432323,0.06921444088220596,-0.005438279360532761,0.06631580740213394,0.01052146963775158,0.002543393289670348,-0.04722006246447563,-0.04198024421930313,0.016042444854974747,0.02253689244389534,-0.05790463462471962,0.008125844411551952,-0.029186110943555832,-0.045689985156059265,-0.008571984246373177,-0.04581573233008385,0.03359723091125488,-0.04089786112308502,0.07027937471866608,0.0105667095631361,-0.04113714024424553,-0.01950668916106224,0.012233392335474491,0.05630752071738243,-0.05514930561184883,0.09399308264255524,0.007652719970792532,0.050021059811115265,-0.03433433547616005,0.0017665657214820385,-0.002574358368292451,0.025263743475079536,-0.0013536055339500308,-0.013427075929939747,-0.05441601201891899,-0.020436547696590424,-0.1217053011059761,-0.0010831193067133427,-0.025976093485951424,0.04646812006831169,-0.02286798134446144,-0.09952495247125626,0.04930287227034569,-0.025166427716612816,-0.044457823038101196,-0.011743776500225067,-0.03516138345003128,0.010728201828897,-0.015107130631804466,-0.00883331336081028,0.024448221549391747,0.06128079816699028,0.006523781921714544,-0.0035710041411221027,-0.018536003306508064,-0.0578504279255867,-0.015137849375605583,0.038349803537130356,-0.048044346272945404,0.06597568094730377,0.01847066357731819,0.015836277976632118,0.01208959799259901,0.00966870877891779,0.041361309587955475,0.02399761974811554,0.07111821323633194,0.05307738855481148,-0.029116299003362656,-0.06560615450143814,0.06338416039943695,0.0044744121842086315,-0.021022317931056023,0.019602695479989052,0.06317026913166046,-0.02660731039941311,0.00690270634368062,-0.0727228969335556,0.003922438248991966,-0.015530615113675594,0.03819054365158081,0.1204424723982811,0.024424709379673004,0.03139597550034523,0.013344679027795792,-0.016598481684923172,-0.015260334126651287,-0.04321768134832382,-0.01788216084241867,-0.0020759734325110912,0.036712709814310074,-0.011325384490191936,-0.0024108239449560642,-0.03574410825967789,0.007501782849431038,0.023011598736047745,0.003971865400671959,0.03230129927396774,0.0033060454297810793,0.01830754056572914,-0.003083938965573907,0.03777969256043434,-0.007754429709166288,-0.06729689985513687,0.020743772387504578,0.02689834125339985,0.00758506590500474,0.025870727375149727,0.10608024150133133,0.018462078645825386,-0.0011457978980615735,0.01560134906321764,0.017671508714556694,0.017423875629901886,0.030130647122859955,-0.04245587810873985,-0.017257479950785637,0.006435588002204895,0.03357422351837158,0.007775039412081242,0.033595211803913116,0.013278525322675705,-0.024735670536756516,-0.036360859870910645,0.004536986351013184,-0.005405296105891466,0.002349007874727249,-0.0239705890417099,0.021846765652298927,-0.007980135269463062,0.013528205454349518,0.0019730054773390293,-0.005029520485550165,-0.022950544953346252,0.034343231469392776,0.007250356487929821,0.06230422481894493,0.09608960896730423,-0.03783966228365898,-0.0028035659343004227,-0.05320895463228226,-0.0033941820729523897,-0.14029604196548462,0.026647629216313362,-0.003964168019592762,0.0920930951833725,0.02199181169271469,0.022866863757371902,0.012550773099064827,-0.024936866015195847,-0.019786549732089043,-0.02585184946656227,-0.006679348647594452,-0.060296881943941116,-0.01690036617219448,0.034374263137578964,-0.005466483999043703,-0.012808551080524921,-0.050541896373033524,0.0019950130954384804,-0.009722597897052765,0.0044645881280303,-0.02021261304616928,0.012397387064993382,-0.015141678042709827,0.04394281283020973,0.0071453494019806385,0.0813756063580513,-0.025197092443704605,-0.08974608033895493,0.019008606672286987,0.037860989570617676,-0.024338098242878914,-0.06452830880880356,0.017693690955638885,-0.01146186888217926,0.034632742404937744,0.0216019619256258,-0.006960982456803322,-0.04149404540657997,0.032737236469984055,-0.020734678953886032,-0.030471669510006905,-0.03504997119307518,0.0336092934012413,0.1111636757850647,0.043866079300642014,0.03182673454284668,-0.021290384232997894,0.05687369778752327,0.04991887882351875,0.021671850234270096,-0.0017121650744229555,0.018768908455967903,0.019665425643324852,0.011703218333423138,-0.0002865045389626175,0.06446316093206406,0.09969913959503174,0.03106168657541275,0.050598159432411194,0.002174490364268422,-0.04301305487751961,-0.023758865892887115,0.002530735684558749,0.016577361151576042,-0.05145666375756264,-0.007526680361479521,-0.004465067759156227,0.017467543482780457,-0.014313316904008389,-0.022442176938056946,0.018156608566641808,0.03840850293636322,-0.012166685424745083,0.024633964523673058,-0.023867616429924965,-0.06599151343107224,-0.014095669612288475,0.003128934418782592,0.07251721620559692,0.011417778208851814,-0.012084195390343666,-0.010400038212537766,-0.008774887770414352,0.034091345965862274,-0.04642537608742714,0.005838444456458092,0.012109547853469849,0.009065582416951656,0.024063339456915855,0.03196301683783531,0.036625318229198456,-0.03200815990567207,0.007673471234738827,0.007966268807649612,0.049698516726493835,-0.13614439964294434,0.018865535035729408,-0.04010792076587677,-0.002451883861795068,0.01981460116803646,-0.032218389213085175,-0.007709155790507793,0.027743855491280556,-0.010633880272507668,0.019705278798937798,0.043249063193798065,-0.012330178171396255,0.022074203938245773,-0.053858332335948944,0.031035825610160828,-0.038866348564624786,0.04147791862487793,-0.0029763986822217703,0.010919878259301186,0.029408833011984825,-0.016612565144896507,0.050815287977457047,-0.01665418967604637,0.024265365675091743,-0.028646131977438927,-0.033770546317100525,-0.0519462525844574,0.00136094493791461,-0.03210584819316864,0.004798287991434336,0.039194244891405106,-0.018697727471590042,0.02217484451830387,0.03592374920845032,-0.01710321009159088,-0.004923591390252113,-0.022991783916950226,-0.035350117832422256,-0.01232536043971777,-0.009901858866214752,-0.03871040418744087,0.04530227929353714,0.028422506526112556,0.03872205689549446,0.04592140391469002,-0.004914680030196905,-0.04640257731080055,0.010545758530497551,-0.060034289956092834,-0.006930689327418804,0.015068132430315018,0.003966425079852343,-0.015291823074221611,0.021286187693476677,0.005759106483310461,-0.03199421986937523,0.007874801754951477,0.013161379843950272,-0.03335743397474289,-0.05180230364203453,-0.06292500346899033,-0.09371049702167511,0.02768125757575035,-0.03628016635775566,-0.011078071780502796,0.0024752861354500055,-0.001327495789155364,0.06727936863899231,0.008700177073478699,0.0005520922131836414,-0.036256443709135056,0.02170019969344139,-0.09240028262138367,0.03113219141960144,0.04650818184018135,0.0010773858521133661,-0.024132583290338516,-0.02404250204563141,0.012413561344146729,-0.021531878039240837,-0.007180096581578255,-0.04652819409966469,0.01410755142569542,-0.06380739063024521,0.024126466363668442,0.055698126554489136,0.007740910165011883,0.014866878278553486,-0.030167322605848312,0.006409239489585161,0.010930629447102547,0.03287198022007942,0.01648092083632946,0.024263013154268265,-0.03089285083115101,0.0458928681910038,0.013055182062089443,0.026792088523507118,0.009257450699806213,-0.02374587580561638,0.00939506571739912,0.005673438776284456,0.006665313616394997,0.017718637362122536,0.00989316962659359,-0.0011607690248638391,0.07627339661121368,-0.010553178377449512,0.10559709370136261,-0.04052826389670372,-0.004534081555902958,0.009351266548037529,-0.022149035707116127,-0.006477904040366411,0.011932021006941795,-0.027900148183107376,-0.030796311795711517,-0.045315247029066086,-0.02801194041967392,-0.014340800233185291,-0.016684075817465782,-0.01771428994834423,0.02877115271985531,0.012033701874315739,0.0017524166032671928,-0.0592421218752861,-0.006655044388025999,-0.04421363025903702,0.04206565394997597,-0.06608980149030685,0.023431621491909027,0.03459468483924866,0.00276362057775259,-0.02035684883594513,-0.024363361299037933,0.021222898736596107,-0.05063053220510483,-0.03858311101794243,-0.02011137828230858,-0.02130664512515068,-0.008302177302539349,-0.010420911945402622,0.02225503697991371,0.00022831321984995157,0.026942739263176918,0.03596195951104164,0.011566954664885998,0.04152625799179077,0.04446858912706375,-0.039654117077589035,-0.0029756026342511177,-0.05116548016667366,0.012913363985717297,0.024118926376104355,-0.004918137099593878,-0.0001331043749814853,-0.012555625289678574,0.0669814720749855,-0.07973763346672058,-0.003012907225638628,-0.06225625053048134,-0.0070508369244635105,0.03520454838871956,0.00851909164339304,0.012230159714818,0.00013930417480878532,0.05741481855511665,-0.002942852210253477,-0.009389217011630535,-0.026458539068698883,-0.010549298487603664,0.0021729078143835068,0.046651970595121384,-0.01259338017553091,0.0024709338322281837,-0.0814100131392479,0.0011132281506434083,-0.002390387002378702,0.0285157673060894,-0.018910100683569908,0.06800064444541931,-0.01928381249308586,-0.0008006410789676011,-0.015608234331011772,0.0581975132226944,0.03304202854633331,-0.07503093779087067,-0.007683511823415756,0.06028255447745323,-0.0264234971255064,0.03225207328796387,-0.05832149088382721,-0.012563495896756649,-0.05069010332226753,0.03878317400813103,-0.025110961869359016,-0.03706727176904678,-0.012573563493788242,-0.03434615954756737,0.014897502958774567,0.024329643696546555,-0.020445020869374275,0.02697717770934105,-0.02778940089046955,-0.004320046864449978,-0.004866941832005978,0.0018967745127156377,-0.07078630477190018,0.024640487506985664,0.019391663372516632,-0.045019734650850296,-0.026621444150805473,-0.01676389016211033,-0.021791847422719002,0.008963437750935555,0.0060392385348677635,-0.05198604613542557,-0.01981167681515217,-0.027250882238149643,0.012745863758027554,-0.010290326550602913,-0.023710912093520164,-0.034594710916280746,0.03041849657893181,-0.03566068783402443,-0.04711117222905159,0.006687734741717577,-0.16117976605892181,-0.004145617596805096,0.030730631202459335,0.03538159281015396,-0.044015072286129,0.01458687148988247,0.049874190241098404,0.023239701986312866,-0.003615545341745019,0.040845226496458054,0.019107896834611893,0.024168355390429497,-0.0076247225515544415,-0.05320340022444725,0.07386171072721481,-0.03280534967780113,-0.02772296778857708,-0.0037433714605867863,0.021142976358532906,0.0080558517947793,-0.023552414029836655,0.08719708025455475,-0.03096839226782322,0.04083499312400818,-0.0018281986704096198,-0.007181309629231691,0.03468877822160721,-0.0626259371638298,0.000005919669547438389,-0.033761825412511826,0.0034839753061532974,-0.014787611551582813,0.03018512763082981,0.03077187016606331,0.049379102885723114,-0.01385805569589138,-0.02194475755095482,-0.0445290170609951,0.012980904430150986,0.011532059870660305,0.0039569479413330555,0.005908656399697065,0.021905262023210526,-0.001109127071686089,-0.033309418708086014,0.025430846959352493,-0.012410053983330727,0.03568102791905403,-0.004046392161399126,-0.038075365126132965,0.024696610867977142,-0.017081838101148605,-6.33817958160937e-33,-0.04057159274816513,0.0011218946892768145,-0.026055600494146347,-0.009726633317768574,-0.02204097993671894,0.017429156228899956,0.057527367025613785,-0.022881776094436646,0.024235840886831284,0.0027029893826693296,-0.0029019289650022984,-0.053254347294569016,0.006037835497409105,-0.014179673045873642,0.018579963594675064,0.019156454131007195,0.033647604286670685,-0.0027952163945883512,-0.002239552093669772,-0.0145375682041049,-0.03206373751163483,-0.011471118777990341,-0.039115384221076965,-0.08300723135471344,0.013282551430165768,0.01969119906425476,-0.018559763208031654,0.04099920764565468,0.0006197765469551086,0.0041152494959533215,0.017572352662682533,-0.0345875509083271,-0.04871266335248947,0.0024672807194292545,-0.017371661961078644,0.017562400549650192,-0.013252167962491512,-0.020188355818390846,0.0074594770558178425,0.034408509731292725,0.08468122035264969,0.003153951605781913,-0.008521826937794685,0.0063120583072304726,-0.026123158633708954,-0.027911055833101273,0.004076072946190834,0.027896221727132797,-0.017764249816536903,-0.05084855854511261,0.04632098227739334,0.01527734100818634,-0.014959586784243584,0.07011435925960541,-0.008955853059887886,-0.024469567462801933,0.006245673168450594,0.027533475309610367,0.009390939027071,0.01203590165823698,-0.0016383124748244882,-0.03148246929049492,0.009467063471674919,0.0666760727763176,0.015932423993945122,0.035688791424036026,-0.00647810148075223,0.01491178385913372,0.03158456087112427,0.0244305357336998,-0.007224429398775101,-0.07288619875907898,0.05869566276669502,-0.08666154742240906,-0.006020754110068083,0.07265035063028336,-0.006423667073249817,-0.00027553606196306646,-0.006998986937105656,0.061773881316185,0.025731006637215614,-0.0006662021041847765,-0.01888408325612545,0.011031588539481163,0.012366095557808876,-0.05973869934678078,-0.021319063380360603,-0.02067558839917183,-0.0011698335874825716,0.05595432221889496,0.01668153516948223,-0.004732463508844376,-0.06094883754849434,0.025342697277665138,-0.016601555049419403,-0.05362919718027115,0.11707409471273422,0.03432643041014671,-0.018557224422693253,-0.024237776175141335,0.013576365076005459,-0.013953743502497673,-0.020153731107711792,0.050658613443374634,0.0204372126609087,-0.029157605022192,-0.009514816105365753,-0.04017413780093193,-0.06540500372648239,0.02665906772017479,0.03412092849612236,0.033147234469652176,-0.03354959189891815,-0.06713070720434189,-0.027574772015213966,0.0017926760483533144,-0.02586727775633335,0.023507094010710716,-0.02498817816376686,-0.023589612916111946,0.004337801598012447,0.0029145819135010242,-0.014404019340872765,0.022565249353647232,0.036901891231536865,-0.061049286276102066,-0.03312971070408821,-0.019090447574853897,0.06519545614719391,0.04281342402100563,-0.017487112432718277,-0.014063656330108643,2.789084589949198e-7,0.017023921012878418,0.025675559416413307,-0.03684666007757187,-0.051593437790870667,-0.022800879552960396,-0.022437026724219322,0.00504067400470376,-0.030365271493792534,-0.013101181015372276,0.004741573240607977,0.011876657605171204,-0.02278832718729973,-0.01530853845179081,0.04585151746869087,0.031031709164381027,-0.009482198394834995,-0.030134480446577072,-0.021456830203533173,-0.021843530237674713,0.02976309135556221,0.01848440244793892,-0.0034866982605308294,0.0692964568734169,0.02160949632525444,-0.006460854317992926,-0.05234317481517792,-0.023358166217803955,0.0022551030851900578,0.014295174740254879,-0.020619746297597885,0.04688987508416176,0.048076894134283066,0.013459516689181328,0.029486171901226044,0.016489597037434578,0.028520887717604637,-0.0022854460403323174,-0.03174709156155586,0.029782142490148544,0.020376216620206833,0.006526496261358261,0.021634167060256004,-0.017308352515101433,-0.043209340423345566,0.009279209189116955,0.03397628292441368,0.010038375854492188,-0.051574353128671646,-0.03079069033265114,0.009704639203846455,-0.002188989659771323,0.002358227502554655,0.018075015395879745,0.010546381585299969,0.029316779226064682,0.015753543004393578,0.0022404680494219065,0.02765726111829281,0.01429017260670662,0.0007331233937293291,-0.004764535464346409,-0.047800563275814056,0.01859971135854721,0.1267583668231964,0.039406780153512955,-0.03226089105010033,-0.02223115786910057,3.434323606596174e-34,0.029854776337742805,-0.006753857713192701,0.04011209309101105,0.005255891475826502,0.019769461825489998,-0.003000100841745734,-0.042718615382909775,-0.03503153473138809,0.03555423393845558,-0.01427349541336298,0.0031256277579814196]'
SET
  @TechnicalDesignVector_f9bd1e67 = N'[-0.040491603314876556,-0.008008086122572422,-0.02941242791712284,-0.03614140301942825,0.03544004261493683,0.003158174455165863,0.00007137138891266659,0.058750592172145844,-0.04297251254320145,-0.005143146496266127,0.005552502349019051,-0.013865041546523571,0.04519670829176903,0.09969397634267807,0.014903481118381023,-0.07361381500959396,-0.039903443306684494,0.05381586775183678,-0.07330306619405746,0.013384146615862846,0.01080335397273302,-0.008661533705890179,0.012693378143012524,-0.005153473932296038,-0.058789871633052826,-0.021963471546769142,0.021291276440024376,-0.013187023811042309,-0.0038483375683426857,-0.0682867169380188,0.020191434770822525,0.06168856844305992,-0.0415729321539402,-0.02214558981359005,0.0000016085709830804262,0.015050768852233887,-0.006867432035505772,0.02334177866578102,0.0321374349296093,-0.010781045071780682,0.06724874675273895,-0.0387609638273716,0.04906263202428818,0.002641217550262809,-0.01826859824359417,-0.08993519097566605,-0.054538898169994354,0.01632130891084671,-0.016972072422504425,-0.022074570879340172,0.02107101120054722,-0.0673336386680603,-0.038877516984939575,-0.0007556247874163091,0.02644253894686699,0.04537145793437958,-0.04929054528474808,0.07675345987081528,0.006620005238801241,-0.007824466563761234,-0.009089257568120956,0.004526880569756031,0.036164332181215286,-0.033739663660526276,0.11188314855098724,0.023695098236203194,0.1240047737956047,-0.014093191362917423,0.029387956485152245,0.05499344691634178,0.10778085142374039,0.01171182468533516,0.00834805890917778,-0.04960810765624046,0.007436669897288084,-0.10083033889532089,-0.005647712852805853,-0.04049419239163399,0.017796216532588005,-0.023614058271050453,-0.061082083731889725,-0.0023982212878763676,-0.030916385352611542,-0.021365057677030563,0.021412743255496025,-0.024599939584732056,0.021639108657836914,0.002173209562897682,-0.06776405870914459,-0.009987297467887402,0.005657441448420286,-0.021456675603985786,-0.013386014848947525,-0.00012489038635976613,-0.04115530475974083,0.021556969732046127,0.039570726454257965,-0.0663098618388176,0.07114378362894058,-0.036760732531547546,0.049775008112192154,0.04182996228337288,0.04890616983175278,0.017527276650071144,0.04957445338368416,0.10183557868003845,0.03145647421479225,-0.012044479139149189,-0.042336493730545044,0.05035388842225075,-0.023178204894065857,-0.01984325237572193,0.03455141559243202,0.029824642464518547,-0.04286959767341614,0.01540619507431984,-0.046261437237262726,0.027160055935382843,-0.03512086346745491,0.025343747809529305,0.1323072612285614,-0.005110258236527443,0.0044678510166704655,-0.011472870595753193,-0.031596578657627106,0.021093735471367836,-0.03270518779754639,-0.05966596305370331,0.00016624570707790554,0.06532960385084152,-0.0033215531148016453,-0.016794560477137566,-0.023353679105639458,0.012035553343594074,-0.003682769602164626,-0.00936872512102127,0.030943136662244797,0.004882713779807091,0.05024024844169617,0.018115920946002007,0.015120860189199448,-0.0007767725619487464,-0.021593745797872543,0.03185037150979042,-0.027559056878089905,-0.003562250407412648,0.016379719600081444,0.0004632656928151846,0.001692181802354753,0.010872742161154747,0.005177988670766354,0.01937742717564106,-0.007156781852245331,0.023517580702900887,-0.0627361387014389,-0.013520931825041771,-0.016276663169264793,0.030814222991466522,0.026133710518479347,-0.008166072890162468,0.014329548925161362,-0.02560989372432232,-0.0032353727146983147,-0.001415250706486404,-0.026354778558015823,0.00867520086467266,-0.08681436628103256,-0.0023962222039699554,0.030073465779423714,-0.0021747977007180452,-0.034075040370225906,-0.047817591577768326,-0.021264931187033653,0.06265833973884583,0.014852801337838173,-0.011028604581952095,0.0822860598564148,0.008656534366309643,-0.06400508433580399,-0.061381999403238297,0.002202413510531187,-0.09950460493564606,0.014072240330278873,0.025997791439294815,0.07487551122903824,0.020408261567354202,0.002646194538101554,0.02590993419289589,-0.023154711350798607,-0.023120177909731865,-0.029504289850592613,-0.003832882270216942,-0.061898864805698395,-0.014328516088426113,0.032377634197473526,-0.013339575380086899,-0.019458085298538208,-0.05207192525267601,0.01883903704583645,0.008074617013335228,0.02394155226647854,0.010774084366858006,0.06601354479789734,0.04276431351900101,0.04511589929461479,-0.021458903327584267,-0.004406891297549009,-0.01865849457681179,-0.027090992778539658,0.014459090307354927,0.058570727705955505,0.007936583831906319,-0.05042692646384239,0.003752776887267828,-0.01955571211874485,0.004039459861814976,0.004634222015738487,-0.011096508242189884,-0.03954314440488815,-0.0050794705748558044,-0.009328086860477924,-0.06596056371927261,0.004868023097515106,0.011983299627900124,0.13980764150619507,0.04524416849017143,0.04928060248494148,-0.03132970258593559,0.014904073439538479,0.04521673545241356,-0.0063342503271996975,-0.009603758342564106,-0.005565803963690996,-0.00033046139287762344,0.03544411063194275,-0.028321029618382454,0.0072414455935359,0.058311302214860916,0.04795270413160324,0.07812761515378952,-0.03522244468331337,-0.015543056651949883,-0.021486036479473114,0.040411576628685,0.01106075569987297,-0.03519842028617859,-0.052216898649930954,-0.0031077060848474503,-0.04894097149372101,-0.0065615177154541016,0.014569531194865704,0.024939140304923058,0.021379385143518448,-0.03424939885735512,0.01218689326196909,-0.0643014907836914,0.013032215647399426,0.0066472128964960575,0.03703555464744568,0.061815906316041946,-0.0012618835316970944,0.025992386043071747,0.010175516828894615,0.005887017119675875,0.017092030495405197,-0.007030415814369917,0.010963604785501957,0.03690814971923828,0.021186543628573418,0.02339707501232624,-0.0034610223956406116,0.017058176919817924,-0.029078062623739243,-0.02806607075035572,0.010408274829387665,0.030699385330080986,-0.04844660684466362,0.030403710901737213,-0.02080756425857544,0.0022014151327311993,-0.0050706700421869755,-0.04936685413122177,-0.00012283193063922226,0.01653686910867691,-0.0061394087970256805,0.008062339387834072,0.010649689473211765,0.042773500084877014,0.02120908908545971,-0.06750871986150742,0.0009779896354302764,-0.030577756464481354,0.061248067766427994,-0.03755507990717888,-0.013208921998739243,0.00222672033123672,0.04861735180020332,0.03367513045668602,-0.008961718529462814,0.035040631890296936,-0.0010851859115064144,-0.024816710501909256,-0.03326642885804176,-0.007867737673223019,-0.05441486835479736,0.02316398173570633,0.047240596264600754,-0.007924467325210571,0.01902225986123085,-0.003483697772026062,-0.006760207004845142,-0.006435803137719631,-0.008712098002433777,0.0015743504045531154,0.0028290031477808952,0.030313730239868164,-0.003023043740540743,0.0622907355427742,0.03771845996379852,0.047255583107471466,0.025050431489944458,-0.007480946835130453,-0.029250212013721466,-0.0030928736086934805,-0.03208650276064873,0.025086894631385803,0.02060338668525219,0.012333194725215435,-0.01696896366775036,0.02967052534222603,0.006684494204819202,-0.045960187911987305,0.05093199759721756,0.015047804452478886,-0.02454448863863945,-0.003973541781306267,-0.04506152495741844,-0.09450750052928925,0.03296293690800667,-0.025601079687476158,-0.017620040103793144,-0.030078696087002754,-0.007794330827891827,0.04311400279402733,0.02482532151043415,0.007735234685242176,-0.053987063467502594,-0.001717696082778275,-0.07888782769441605,0.013780724257230759,0.021750682964920998,0.000796973705291748,-0.016263728961348534,-0.012405158020555973,-0.014240154065191746,0.016742223873734474,0.003439454361796379,-0.029728436842560768,0.007459947839379311,-0.042446911334991455,-0.015294702723622322,0.032150980085134506,0.014825072139501572,0.023695368319749832,-0.035243917256593704,0.009697589091956615,-0.006184110417962074,0.0752989649772644,0.03347591683268547,0.020375214517116547,-0.03302962705492973,0.06510750204324722,0.03325675055384636,0.03414774313569069,-0.009443358518183231,0.021024219691753387,0.005535091273486614,0.016678394749760628,0.020059945061802864,0.007485833950340748,0.0344209149479866,0.004321425687521696,0.062353331595659256,-0.010262656956911087,0.07493473589420319,-0.038834236562252045,0.006869297940284014,-0.001973121426999569,-0.0023483445402234793,-0.018955903127789497,0.010975132696330547,-0.04563260078430176,-0.081817626953125,-0.021591486409306526,-0.008221273310482502,0.04559618607163429,-0.007654321845620871,-0.017621176317334175,0.050241608172655106,0.012489376589655876,-0.004142985213547945,-0.009705329313874245,0.012711198069155216,-0.025508016347885132,0.05159278213977814,-0.023952528834342957,-0.03995320945978165,0.02408258058130741,0.023074883967638016,-0.06619354337453842,-0.06092441827058792,0.07458841055631638,-0.03855977952480316,-0.033304013311862946,-0.09694164246320724,-0.00012628559488803148,-0.025221463292837143,-0.04108550399541855,-0.010240276344120502,-0.009283102117478848,0.007867074571549892,0.01239924505352974,0.00806974247097969,0.03418241813778877,0.029526101425290108,-0.05399065464735031,-0.0006558576133102179,-0.021525342017412186,-0.000682109675835818,0.012198335491120815,0.014182981103658676,-0.016249632462859154,-0.011492833495140076,0.04225822910666466,-0.05263311415910721,0.03149061277508736,-0.05944735184311867,-0.037397801876068115,0.008184809237718582,-0.01192496158182621,0.04737328365445137,-0.039459776133298874,0.08210991322994232,-0.011130365543067455,-0.02251373417675495,-0.07635548710823059,0.0021002250723540783,0.028081092983484268,0.037328895181417465,-0.017038580030202866,0.014818153344094753,-0.046416427940130234,-0.04417286440730095,0.01041363924741745,0.001967568648979068,-0.03661084175109863,0.0802358016371727,0.056693121790885925,-0.01276322640478611,-0.01717837154865265,0.03805544599890709,0.031193628907203674,-0.06413464993238449,-0.008655794896185398,0.017957011237740517,0.0031024417839944363,0.07115856558084488,-0.041548412293195724,-0.015542528592050076,-0.025253573432564735,-0.026933936402201653,0.008825299330055714,-0.022986698895692825,0.02534467913210392,-0.011764753609895706,0.016474440693855286,0.0204227976500988,-0.02401653304696083,0.03943738341331482,-0.034455373883247375,-0.0138717545196414,0.000964461243711412,-0.009603879414498806,-0.060398492962121964,0.02106122300028801,-0.015354091301560402,-0.0328374020755291,-0.015111408196389675,0.002866201102733612,-0.05141187086701393,0.0014762911014258862,-0.018096022307872772,-0.05145091935992241,0.07035788148641586,0.01354282721877098,0.08061926811933517,0.002793732099235058,-0.036337945610284805,-0.019120723009109497,0.007382463663816452,-0.031671956181526184,-0.0627262145280838,0.01947505958378315,-0.11321231722831726,-0.039972804486751556,-0.002066374057903886,0.015613717027008533,-0.02389245107769966,0.010149303823709488,-0.007371232844889164,-0.007351706735789776,0.008216453716158867,0.0025087897665798664,-0.023875145241618156,0.01592293009161949,0.03703058138489723,-0.05249595269560814,0.0658230409026146,-0.03790713846683502,-0.016798244789242744,-0.0015535319689661264,0.024367161095142365,0.006316454149782658,-0.011571002192795277,0.10889817774295807,0.01296441163867712,0.03691554442048073,0.0105228116735816,-0.00230471626855433,0.015154444612562656,-0.03672376275062561,-0.004876609425991774,-0.04737453907728195,-0.019229643046855927,0.007243681699037552,0.08534792065620422,-0.010345972143113613,0.039831988513469696,-0.004870789125561714,-0.03196277841925621,-0.06435184180736542,-0.006542914547026157,0.042938582599163055,0.01194267999380827,-0.023096146062016487,0.027201956138014793,-0.012936304323375225,-0.02017226628959179,0.009382551535964012,-0.0010868225945159793,0.045928340405225754,-0.023945441469550133,-0.08745922893285751,0.02458212338387966,0.022927304729819298,-5.8328599067878086e-33,-0.04462774097919464,-0.008596041239798069,-0.02326289750635624,0.022988181561231613,-0.025318363681435585,-0.019591107964515686,0.03372427821159363,-0.030935591086745262,-0.01513462420552969,-0.01567498780786991,-0.012838098220527172,-0.05331500992178917,0.0023121521808207035,-0.028754783794283867,0.007246112450957298,0.021168719977140427,0.02034027874469757,0.012469269335269928,-0.021914362907409668,0.0008198287105187774,-0.01845226064324379,-0.009545091539621353,0.016446050256490707,-0.09641312807798386,-0.043158818036317825,0.03878892585635185,0.008671938441693783,0.05055134370923042,-0.0031874580308794975,-0.0029381278436630964,-0.0008287840755656362,-0.008744800463318825,-0.03478499501943588,-0.01733153499662876,-0.007052771747112274,0.055615246295928955,-0.034499265253543854,-0.029096104204654694,0.02844761498272419,0.0299261212348938,0.13979634642601013,-0.006440834607928991,-0.019448965787887573,0.018534936010837555,0.0025123711675405502,-0.03920869529247284,-0.002506391378119588,0.0018760345410555601,-0.027768542990088463,-0.02115018665790558,0.04456255957484245,0.027874814346432686,-0.010225160978734493,0.06087580323219299,-0.03488123044371605,-0.06789836287498474,0.03490013629198074,0.055651504546403885,-0.012735053896903992,-0.0010760745499283075,0.011079995892941952,-0.026473240926861763,0.0013896935852244496,0.039063986390829086,0.04255697503685951,0.02427777647972107,0.02780059725046158,0.05079519748687744,-0.03700641542673111,-0.009291394613683224,0.0005703109200112522,-0.05250025540590286,0.04363975673913956,-0.013425290584564209,0.025201523676514626,0.01743350364267826,-0.024626119062304497,-0.0124756945297122,-0.008884921669960022,0.04133414849638939,0.024933114647865295,0.027503689751029015,-0.03066149167716503,0.028727874159812927,0.001122533343732357,-0.08935566246509552,-0.002825980307534337,0.0025998572818934917,-0.02512281946837902,0.030439743772149086,0.005905667785555124,0.03868570551276207,-0.04753253608942032,0.03388684615492821,0.014700287953019142,-0.047382887452840805,0.08908088505268097,0.02865530736744404,-0.005170537158846855,-0.044336579740047455,0.0487837977707386,-0.04004596173763275,-0.006846374366432428,0.05364324897527695,-0.027874412015080452,0.011274095624685287,-0.01027861051261425,-0.03156791254878044,-0.06773271411657333,0.01792403683066368,0.025840943679213524,0.001669407356530428,-0.009803831577301025,-0.05924556031823158,-0.018543744459748268,0.027903832495212555,-0.017405914142727852,0.014408438466489315,-0.000017946116713574156,0.04699929058551788,0.0055625480599701405,0.005734454840421677,-0.03642439842224121,0.013349086977541447,0.06040237471461296,-0.06628666073083878,-0.04557504877448082,-0.04934985190629959,0.07747501134872437,0.03082234412431717,0.015606194734573364,-0.02041742391884327,2.412716639810242e-7,-0.016190260648727417,0.010540267452597618,-0.04904713109135628,-0.061563167721033096,-0.015130153857171535,-0.001560754724778235,0.005721151363104582,-0.03732243552803993,-0.01744334027171135,-0.056181516498327255,-0.014664518646895885,-0.013547785580158234,0.005328280385583639,0.02500777132809162,0.025975219905376434,0.011106721125543118,0.007585292682051659,-0.05361310392618179,-0.04210744425654411,0.04375794157385826,0.0035594068467617035,-0.022139985114336014,0.09185134619474411,0.0014017834328114986,-0.007740041706711054,-0.01705528050661087,-0.00776860723271966,-0.009059361182153225,0.0476866289973259,-0.01719888485968113,0.06864693015813828,0.0011980003910139203,0.0012742310063913465,0.012583591975271702,0.021342609077692032,0.035038284957408905,-0.00996537134051323,-0.034339889883995056,0.022892316803336143,0.05150974169373512,-0.0017354039009660482,-0.01557851117104292,-0.04175930842757225,-0.06218631565570831,0.009687659330666065,0.024913176894187927,-0.010489633306860924,0.00024206796661019325,-0.03723407909274101,0.02015070989727974,0.007317942101508379,-0.019075388088822365,-0.0043660858646035194,-0.010464226827025414,0.01620178297162056,-0.019176531583070755,0.0215068981051445,0.025418365374207497,0.023592988029122353,-0.00981597788631916,-0.02020810730755329,-0.027834614738821983,0.016523290425539017,0.0627463310956955,0.05607924610376358,0.004857062362134457,-0.012555391527712345,2.8644960619615987e-34,0.01455284096300602,-0.05547799542546272,0.011163989081978798,-0.0021451469510793686,0.03560129553079605,-0.0026739295572042465,0.009363736025989056,-0.027349267154932022,0.03181874006986618,-0.05444939434528351,0.002659699646756053]'
SET
  @HasCustomProps_f9bd1e67 = 1
SET
  @HasCustomEvents_f9bd1e67 = 0
SET
  @RequiresData_f9bd1e67 = 1
SET
  @DependencyCount_f9bd1e67 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_f9bd1e67 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_f9bd1e67 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_f9bd1e67 = 1
SET
  @ID_f9bd1e67 = '57548CB2-944C-443D-8345-0F2E5CD673D1'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_f9bd1e67,
  @Name = @Name_f9bd1e67,
  @Version = @Version_f9bd1e67,
  @VersionSequence = @VersionSequence_f9bd1e67,
  @Title = @Title_f9bd1e67,
  @Description = @Description_f9bd1e67,
  @Type = @Type_f9bd1e67,
  @Status = @Status_f9bd1e67,
  @DeveloperName = @DeveloperName_f9bd1e67,
  @DeveloperEmail = @DeveloperEmail_f9bd1e67,
  @DeveloperOrganization = @DeveloperOrganization_f9bd1e67,
  @SourceRegistryID = @SourceRegistryID_f9bd1e67,
  @ReplicatedAt = @ReplicatedAt_f9bd1e67,
  @LastSyncedAt = @LastSyncedAt_f9bd1e67,
  @Specification = @Specification_f9bd1e67,
  @FunctionalRequirements = @FunctionalRequirements_f9bd1e67,
  @TechnicalDesign = @TechnicalDesign_f9bd1e67,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_f9bd1e67,
  @TechnicalDesignVector = @TechnicalDesignVector_f9bd1e67,
  @HasCustomProps = @HasCustomProps_f9bd1e67,
  @HasCustomEvents = @HasCustomEvents_f9bd1e67,
  @RequiresData = @RequiresData_f9bd1e67,
  @DependencyCount = @DependencyCount_f9bd1e67,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_f9bd1e67,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_f9bd1e67,
  @HasRequiredCustomProps = @HasRequiredCustomProps_f9bd1e67,
  @ID = @ID_f9bd1e67;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_5ecb1633 NVARCHAR(MAX),
@Name_5ecb1633 NVARCHAR(500),
@Version_5ecb1633 NVARCHAR(50),
@VersionSequence_5ecb1633 INT,
@Title_5ecb1633 NVARCHAR(1000),
@Description_5ecb1633 NVARCHAR(MAX),
@Type_5ecb1633 NVARCHAR(255),
@Status_5ecb1633 NVARCHAR(50),
@DeveloperName_5ecb1633 NVARCHAR(255),
@DeveloperEmail_5ecb1633 NVARCHAR(255),
@DeveloperOrganization_5ecb1633 NVARCHAR(255),
@SourceRegistryID_5ecb1633 UNIQUEIDENTIFIER,
@ReplicatedAt_5ecb1633 DATETIMEOFFSET,
@LastSyncedAt_5ecb1633 DATETIMEOFFSET,
@Specification_5ecb1633 NVARCHAR(MAX),
@FunctionalRequirements_5ecb1633 NVARCHAR(MAX),
@TechnicalDesign_5ecb1633 NVARCHAR(MAX),
@FunctionalRequirementsVector_5ecb1633 NVARCHAR(MAX),
@TechnicalDesignVector_5ecb1633 NVARCHAR(MAX),
@HasCustomProps_5ecb1633 BIT,
@HasCustomEvents_5ecb1633 BIT,
@RequiresData_5ecb1633 BIT,
@DependencyCount_5ecb1633 INT,
@TechnicalDesignVectorEmbeddingModelID_5ecb1633 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_5ecb1633 NVARCHAR(MAX),
@HasRequiredCustomProps_5ecb1633 BIT,
@ID_5ecb1633 UNIQUEIDENTIFIER
SET
  @Namespace_5ecb1633 = N'CRM/Analytics'
SET
  @Name_5ecb1633 = N'AccountsByIndustryDetails'
SET
  @Version_5ecb1633 = N'1.0.0'
SET
  @VersionSequence_5ecb1633 = 1
SET
  @Title_5ecb1633 = N'Accounts by Industry Details'
SET
  @Description_5ecb1633 = N'Sliding detail panel that displays comprehensive account information with an open record action button'
SET
  @Type_5ecb1633 = N'Other'
SET
  @Status_5ecb1633 = N'Published'
SET
  @Specification_5ecb1633 = N'{"name":"AccountsByIndustryDetails","title":"Accounts by Industry Details","description":"Sliding detail panel that displays comprehensive account information with an open record action button","type":"component","location":"embedded","namespace":"CRM/Analytics","functionalRequirements":"## Account Details Panel\n\n- Slide in from right with smooth animation\n- Display account name and industry prominently using SingleRecordView\n- Show key metrics (revenue, status, type) with consistent formatting\n- Include contact information section with custom formatting\n- Display location details if available\n- Provide ''Open Record'' action button\n- Support close via X button or overlay click\n- Use SingleRecordView for standardized basic account information display","technicalDesign":"## Technical Design\n\n### Props\n- account: Selected account object\n- isOpen: Panel visibility state\n- onClose: Close handler callback\n- onOpenRecord: Open record callback\n\n### Layout\n- Fixed positioning overlay\n- Transform-based slide animation\n- Sections for different data types\n- Sticky header with close button\n- Scrollable content area","dataRequirements":{"mode":"views","description":"Fetches account data using RunView for industry distribution analysis","entities":[{"name":"Accounts","description":"CRM account data grouped by industry","displayFields":["ID","AccountName","Industry","Revenue","Status","IsActive"],"filterFields":["IsActive","Industry"],"sortFields":["AccountName","Revenue","Industry"],"fieldMetadata":[],"usageContext":"Groups accounts by industry for pie chart visualization and filtered list display"}],"queries":[]},"properties":[{"name":"account","type":"object","required":true,"description":"Selected account object with all details"},{"name":"isOpen","type":"boolean","required":true,"description":"Whether the panel is visible"},{"name":"onClose","type":"function","required":true,"description":"Callback to close the panel"}],"exampleUsage":"<AccountsByIndustryDetails\n  account={selectedAccount}\n  isOpen={showDetails}\n  onClose={() => setShowDetails(false)}\n  onOpenRecord={handleOpenRecord}\n/>","code":"function AccountsByIndustryDetails ({ account, isOpen, onClose, onOpenRecord, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  if (!isOpen || !account) {\n    return null;\n  }\n\n  // Load components from registry\n  const OpenRecordButton = components?.OpenRecordButton;\n  const SingleRecordView = components?.SingleRecordView;\n\n  // Format currency\n  const formatCurrency = (value) => {\n    if (!value) return ''-'';\n    return new Intl.NumberFormat(''en-US'', {\n      style: ''currency'',\n      currency: ''USD'',\n      notation: ''compact'',\n      maximumFractionDigits: 1\n    }).format(value);\n  };\n   \n  return (\n    <>\n      {/* Overlay */}\n      <div\n        onClick={onClose}\n        style={{\n          position: ''fixed'',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: ''rgba(0, 0, 0, 0.3)'',\n          zIndex: 999\n        }}\n      />\n      \n      {/* Panel */}\n      <div style={{\n        position: ''fixed'',\n        top: ''75px'',\n        right: 0,\n        bottom: 0,\n        width: ''400px'',\n        backgroundColor: ''#fff'',\n        boxShadow: ''-4px 0 24px rgba(0, 0, 0, 0.1)'',\n        zIndex: 1000,\n        transform: ''translateX(0)'',\n        overflowY: ''auto'',\n        borderTopLeftRadius: ''8px''\n      }}>\n        {/* Panel Header */}\n        <div style={{\n          padding: ''20px'',\n          borderBottom: ''1px solid #E5E7EB'',\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''center''\n        }}>\n          <h3 style={{ fontSize: ''18px'', fontWeight: ''600'', color: ''#111827'' }}>\n            Account Details\n          </h3>\n          <button\n            onClick={onClose}\n            style={{\n              width: ''32px'',\n              height: ''32px'',\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              backgroundColor: ''#F3F4F6'',\n              border: ''none'',\n              borderRadius: ''6px'',\n              cursor: ''pointer'',\n              fontSize: ''18px'',\n              color: ''#6B7280''\n            }}\n          >\n            ×\n          </button>\n        </div>\n        \n        {/* Panel Content */}\n        <div style={{ padding: ''20px'' }}>\n          {/* Account Name and Open Button */}\n          <div style={{ marginBottom: ''24px'' }}>\n            <div style={{\n              display: ''flex'',\n              justifyContent: ''space-between'',\n              alignItems: ''center'',\n              marginBottom: ''12px''\n            }}>\n              <h4 style={{\n                fontSize: ''20px'',\n                fontWeight: ''700'',\n                color: ''#111827'',\n                margin: ''0''\n              }}>\n                {account.Name}\n              </h4>\n              {OpenRecordButton ? (\n                <OpenRecordButton\n                  entityName=\"Accounts\"\n                  record={account}\n                  buttonText=\"Open Record ↗\"\n                  utilities={utilities}\n                  styles={styles}\n                  components={components}\n                  callbacks={callbacks}\n                  savedUserSettings={savedUserSettings}\n                  onSaveUserSettings={onSaveUserSettings}\n                  buttonStyle={{\n                    padding: ''8px 16px'',\n                    fontSize: ''14px'',\n                    fontWeight: ''500'',\n                    color: ''#fff'',\n                    backgroundColor: ''#3B82F6'',\n                    border: ''none'',\n                    borderRadius: ''6px'',\n                    cursor: ''pointer'',\n                    display: ''flex'',\n                    alignItems: ''center'',\n                    gap: ''4px''\n                  }}\n                />\n              ) : (\n                <button\n                  onClick={onOpenRecord}\n                  style={{\n                    padding: ''8px 16px'',\n                    fontSize: ''14px'',\n                    fontWeight: ''500'',\n                    color: ''#fff'',\n                    backgroundColor: ''#3B82F6'',\n                    border: ''none'',\n                    borderRadius: ''6px'',\n                    cursor: ''pointer'',\n                    display: ''flex'',\n                    alignItems: ''center'',\n                    gap: ''4px''\n                  }}\n                >\n                  Open Record ↗\n                </button>\n              )}\n            </div>\n            <div style={{ fontSize: ''14px'', color: ''#6B7280'' }}>\n              {account.Industry || ''No industry''}\n            </div>\n          </div>\n          \n          {/* Key Information - Using SingleRecordView */}\n          <div style={{ marginBottom: ''24px'' }}>\n            <h5 style={{\n              fontSize: ''12px'',\n              fontWeight: ''600'',\n              color: ''#6B7280'',\n              textTransform: ''uppercase'',\n              letterSpacing: ''0.05em'',\n              marginBottom: ''12px''\n            }}>\n              Key Information\n            </h5>\n\n            {SingleRecordView ? (\n              <SingleRecordView\n                entityName=\"Accounts\"\n                record={account}\n                fields={[\"Industry\", \"AnnualRevenue\", \"AccountStatus\", \"AccountType\"]}\n                layout=\"list\"\n                showLabels={true}\n                showEmptyFields={false}\n                allowOpenRecord={false}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n                savedUserSettings={savedUserSettings}\n                onSaveUserSettings={onSaveUserSettings}\n              />\n            ) : (\n              // Fallback display if SingleRecordView is not available\n              <div style={{ display: ''flex'', flexDirection: ''column'', gap: ''12px'' }}>\n                <div>\n                  <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''2px'' }}>Annual Revenue</div>\n                  <div style={{ fontSize: ''16px'', fontWeight: ''600'', color: ''#111827'' }}>\n                    {formatCurrency(account.AnnualRevenue)}\n                  </div>\n                </div>\n\n                <div style={{ display: ''flex'', gap: ''16px'' }}>\n                  <div style={{ flex: 1 }}>\n                    <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''2px'' }}>Status</div>\n                    <span style={{\n                      padding: ''2px 8px'',\n                      fontSize: ''12px'',\n                      fontWeight: ''500'',\n                      borderRadius: ''4px'',\n                      backgroundColor: account.AccountStatus === ''Active'' ? ''#D1FAE5'' : ''#FEE2E2'',\n                      color: account.AccountStatus === ''Active'' ? ''#065F46'' : ''#991B1B''\n                    }}>\n                      {account.AccountStatus}\n                    </span>\n                  </div>\n\n                  <div style={{ flex: 1 }}>\n                    <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''2px'' }}>Type</div>\n                    <span style={{\n                      padding: ''2px 8px'',\n                      fontSize: ''12px'',\n                      fontWeight: ''500'',\n                      borderRadius: ''4px'',\n                      backgroundColor:\n                        account.AccountType === ''Customer'' ? ''#DBEAFE'' :\n                        account.AccountType === ''Prospect'' ? ''#FEF3C7'' :\n                        account.AccountType === ''Partner'' ? ''#E9D5FF'' :\n                        account.AccountType === ''Vendor'' ? ''#FED7AA'' :\n                        ''#F3F4F6'',\n                      color:\n                        account.AccountType === ''Customer'' ? ''#1E40AF'' :\n                        account.AccountType === ''Prospect'' ? ''#92400E'' :\n                        account.AccountType === ''Partner'' ? ''#6B21A8'' :\n                        account.AccountType === ''Vendor'' ? ''#9A3412'' :\n                        ''#374151''\n                    }}>\n                      {account.AccountType}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* Contact Information */}\n          <div style={{ marginBottom: ''24px'' }}>\n            <h5 style={{ \n              fontSize: ''12px'', \n              fontWeight: ''600'', \n              color: ''#6B7280'',\n              textTransform: ''uppercase'',\n              letterSpacing: ''0.05em'',\n              marginBottom: ''12px''\n            }}>\n              Contact Information\n            </h5>\n            \n            <div style={{ display: ''flex'', flexDirection: ''column'', gap: ''10px'' }}>\n              {account.Phone && (\n                <div style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'' }}>\n                  <span style={{ fontSize: ''14px'' }}>📞</span>\n                  <span style={{ fontSize: ''14px'', color: ''#111827'' }}>{account.Phone}</span>\n                </div>\n              )}\n              \n              {account.Website && (\n                <div style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'' }}>\n                  <span style={{ fontSize: ''14px'' }}>🌐</span>\n                  <a \n                    href={account.Website.startsWith(''http'') ? account.Website : `https://$' + '{account.Website}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    style={{ fontSize: ''14px'', color: ''#3B82F6'', textDecoration: ''none'' }}\n                  >\n                    {account.Website}\n                  </a>\n                </div>\n              )}\n            </div>\n          </div>\n          \n          {/* Address */}\n          {(account.BillingCity || account.BillingState || account.BillingCountry) && (\n            <div>\n              <h5 style={{ \n                fontSize: ''12px'', \n                fontWeight: ''600'', \n                color: ''#6B7280'',\n                textTransform: ''uppercase'',\n                letterSpacing: ''0.05em'',\n                marginBottom: ''12px''\n              }}>\n                Location\n              </h5>\n              \n              <div style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'' }}>\n                <span style={{ fontSize: ''14px'' }}>📍</span>\n                <span style={{ fontSize: ''14px'', color: ''#111827'' }}>\n                  {[account.BillingCity, account.BillingState, account.BillingCountry]\n                    .filter(Boolean)\n                    .join('', '')}\n                </span>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}","dependencies":[{"name":"OpenRecordButton","location":"registry","namespace":"Generic/Navigation","version":"^1.0.0"},{"name":"SingleRecordView","location":"registry","namespace":"Generic/UI/Form","version":"^1.0.0"}]}'
SET
  @FunctionalRequirements_5ecb1633 = N'## Account Details Panel

- Slide in from right with smooth animation
- Display account name and industry prominently using SingleRecordView
- Show key metrics (revenue, status, type) with consistent formatting
- Include contact information section with custom formatting
- Display location details if available
- Provide ''Open Record'' action button
- Support close via X button or overlay click
- Use SingleRecordView for standardized basic account information display'
SET
  @TechnicalDesign_5ecb1633 = N'## Technical Design

### Props
- account: Selected account object
- isOpen: Panel visibility state
- onClose: Close handler callback
- onOpenRecord: Open record callback

### Layout
- Fixed positioning overlay
- Transform-based slide animation
- Sections for different data types
- Sticky header with close button
- Scrollable content area'
SET
  @FunctionalRequirementsVector_5ecb1633 = N'[-0.027498925104737282,-0.021616633981466293,-0.012353840284049511,-0.029040753841400146,-0.006019119173288345,0.005248840432614088,0.06513869017362595,0.03082984872162342,-0.036232516169548035,0.00380798801779747,-0.00015841005370020866,-0.02736598066985607,0.0502706803381443,0.12090493738651276,-0.0019051776034757495,-0.07833205163478851,-0.036752499639987946,-0.017363684251904488,0.03535051643848419,0.0012024537427350879,0.019044289365410805,0.007063382770866156,-0.008737009949982166,-0.02943151816725731,-0.02667796052992344,-0.040394920855760574,-0.02998538129031658,0.019602423533797264,0.0341515950858593,-0.044362153857946396,0.005431246943771839,0.039461273699998856,-0.05466968193650246,-0.026268381625413895,0.000002054800916084787,-0.01618046686053276,0.005685779266059399,0.027071015909314156,-0.061913568526506424,0.025503572076559067,-0.023891886696219444,-0.022083092480897903,0.09550103545188904,-0.025357205420732498,-0.0015537574654445052,-0.006144804880023003,-0.0035494649782776833,0.05074097588658333,0.03137466683983803,-0.02365230768918991,0.01592850685119629,-0.06928705424070358,-0.03977598994970322,-0.01325105782598257,-0.03776773437857628,0.042409058660268784,-0.0036404095590114594,0.053198084235191345,0.006985340267419815,-0.03229453042149544,-0.03593185916543007,-0.020140808075666428,0.029116766527295113,-0.03358041122555733,0.012830391526222229,0.033851854503154755,0.029506050050258636,-0.04316549375653267,0.03505423665046692,0.061062924563884735,0.10382711887359619,-0.0034826546907424927,-0.023771047592163086,-0.06745248287916183,-0.010777988471090794,-0.03134259954094887,0.02290724217891693,0.014702846296131611,-0.0068581667728722095,-0.0028348201885819435,-0.1064079999923706,-0.00309264799579978,-0.003084359224885702,-0.012631113640964031,-0.030179230496287346,-0.08950061351060867,-0.020193789154291153,-0.005174610298126936,0.0010979220969602466,-0.011595056392252445,0.07041063159704208,0.018809117376804352,-0.016884129494428635,-0.0009523282642476261,-0.018084976822137833,-0.02266116626560688,0.020219901576638222,-0.026947980746626854,0.016619853675365448,0.013245489448308945,-0.038957707583904266,0.05442037060856819,-0.023735828697681427,-0.001039148773998022,0.04685381427407265,0.09061618894338608,0.013602889142930508,-0.029363999143242836,-0.022007834166288376,0.043712444603443146,0.022195393219590187,-0.008641778491437435,-0.02118031494319439,0.07436196506023407,-0.035748742520809174,0.023122023791074753,-0.05411096289753914,-0.0074590053409338,0.006979196798056364,0.015982724726200104,0.14495982229709625,0.033224161714315414,0.03611971437931061,-0.012072959914803505,0.02838801220059395,0.020300021395087242,-0.05098816007375717,-0.04071072116494179,0.0075265588238835335,0.012976755388081074,-0.03801358863711357,0.04084275662899017,0.008475429378449917,-0.0006731125176884234,-0.013620331883430481,-0.0254910197108984,0.005373701918870211,0.051834315061569214,-0.024015264585614204,0.0072331964038312435,-0.005902544595301151,-0.012590867467224598,-0.06265606731176376,0.02366008795797825,0.050965555012226105,0.025263315066695213,-0.017748726531863213,0.0015034796670079231,0.038349833339452744,0.003725638845935464,-0.02290753461420536,-0.040285974740982056,-0.028808262199163437,0.05167437344789505,-0.011097528040409088,0.010345976799726486,0.03392762690782547,-0.012905681505799294,-0.009446470998227596,-0.0016941725043579936,0.006307484116405249,-0.00030311758746393025,0.05406949669122696,0.005133653990924358,-0.033804815262556076,-0.008319532498717308,-0.047197792679071426,0.0069358255714178085,-0.046779733151197433,-0.06707128137350082,0.0007680971757508814,0.00022313951922114938,-0.03668566793203354,-0.0495588444173336,0.01194729469716549,0.010710381902754307,0.04619242250919342,-0.02113664150238037,-0.02744484692811966,0.025716237723827362,0.018003743141889572,-0.06024794280529022,0.013310368172824383,0.0277839545160532,0.0408063568174839,0.014447762630879879,-0.020364027470350266,0.04345499351620674,-0.049023933708667755,0.015910722315311432,-0.012753162533044815,0.004179890267550945,-0.07793063670396805,0.03785000368952751,0.01624687761068344,0.02365850657224655,-0.020912185311317444,0.01993798464536667,0.05825201794505119,0.03387654945254326,-0.032637860625982285,-0.04023660346865654,0.010518623515963554,0.023771069943904877,0.02108330838382244,0.05143846571445465,-0.03137458488345146,-0.05058048665523529,-0.005172072444111109,0.03780171275138855,0.04705670103430748,-0.003051003208383918,-0.001270500710234046,0.0010343074100092053,-0.03317108005285263,0.04677211120724678,0.017990892753005028,0.037928543984889984,-0.05416494980454445,-0.03723134845495224,-0.014778838492929935,0.04286787286400795,-0.03414167836308479,-0.01138429157435894,0.04245157912373543,-0.0032579577527940273,0.037562884390354156,-0.006439986638724804,0.01673075556755066,0.04525407776236534,-0.025027533993124962,-0.04450986906886101,0.03751154616475105,0.05201154202222824,0.04236484691500664,0.0671360045671463,0.026766151189804077,0.06770799309015274,-0.04674031585454941,0.0014545718440786004,-0.016804132610559464,-0.0734633281826973,-0.035111892968416214,0.019630463793873787,-0.05960104614496231,-0.006584767252206802,-0.00770540302619338,-0.01740930788218975,0.023474177345633507,0.030746277421712875,0.006910338066518307,0.0033080526627600193,0.10405419766902924,-0.01357204094529152,-0.007484654895961285,0.030103100463747978,-0.04601182043552399,-0.0033949133940041065,-0.0866389274597168,0.05430355295538902,-0.04339669644832611,-0.07316721975803375,-0.003536640200763941,-0.027960514649748802,-0.0009717973880469799,-0.002020857762545347,0.07496481388807297,-0.014077940955758095,-0.025475667789578438,-0.000001899111566672218,-0.013358022086322308,0.01461179368197918,0.03541797399520874,-0.01775204949080944,-0.011439729481935501,0.041217219084501266,-0.08060706406831741,0.03421128913760185,0.013990817591547966,-0.01825741119682789,0.025431035086512566,-0.027133135125041008,-0.002571150893345475,0.06153279170393944,0.01263167429715395,-0.006788922939449549,0.03802235797047615,-0.10013026744127274,0.002061805222183466,-0.054503850638866425,0.034943751990795135,-0.021608585491776466,-0.005055461544543505,0.005991172511130571,-0.007023881189525127,0.02921777404844761,-0.005618953611701727,0.038878194987773895,-0.0770982876420021,0.06802777200937271,-0.06498799473047256,0.02438942715525627,-0.006449660751968622,0.039723437279462814,0.017535975202918053,0.015810120850801468,0.021726910024881363,-0.003218133933842182,-0.021895311772823334,0.007010478526353836,0.018892861902713776,0.01847933977842331,0.03746278956532478,-0.08601799607276917,0.014379712752997875,-0.0013114913599565625,-0.035744115710258484,0.026386773213744164,0.0010894651059061289,0.025705402716994286,-0.009707760065793991,-0.002199743175879121,-0.028262948617339134,0.02164982259273529,-0.049631696194410324,0.07726825028657913,-0.03646400198340416,0.051222629845142365,0.041689347475767136,0.011279439553618431,0.036480363458395004,0.026519786566495895,-0.027780450880527496,0.020349040627479553,-0.003363600466400385,0.016179746016860008,0.0013636751100420952,-0.02465442754328251,0.02841307409107685,-0.017671477049589157,-0.025755595415830612,-0.0041830581612885,-0.0379810594022274,-0.06278208643198013,0.02477615885436535,-0.021829592064023018,-0.06501100212335587,-0.014700381085276604,-0.09426479041576385,0.040721070021390915,0.03629611060023308,0.00840677134692669,-0.028765827417373657,-0.007102792151272297,0.04401308670639992,-0.030846787616610527,-0.014539341442286968,0.05098091810941696,-0.06777475774288177,-0.08623870462179184,0.04117843508720398,-0.024182016029953957,-0.050606146454811096,0.07970348745584488,0.03314108029007912,-0.02989048697054386,-0.04413166642189026,-0.03409477695822716,-0.006270787678658962,-0.016711018979549408,-0.014906153082847595,0.011471819132566452,0.019193138927221298,0.049557555466890335,-0.031743962317705154,-0.009907525964081287,-0.004916212055832148,0.007927966304123402,-0.06215700879693031,0.019639872014522552,0.049682777374982834,0.031350817531347275,0.07618611305952072,-0.048421356827020645,0.05244443565607071,0.036360278725624084,-0.028641507029533386,-0.0023066203575581312,0.02372092753648758,-0.050957776606082916,-0.008420643396675587,0.029079951345920563,-0.07989590615034103,-0.02585243619978428,-0.005718132946640253,-0.03126632794737816,-0.0012274900218471885,0.00281016668304801,0.015071820467710495,-0.034142449498176575,-0.005936549976468086,0.01894296333193779,0.04918420687317848,-0.057941947132349014,-0.00917831715196371,-0.04570784047245979,0.0669948160648346,0.038615088909864426,0.0002916640369221568,0.024046581238508224,-0.09881667047739029,0.033695369958877563,0.020136145874857903,-0.0025930507108569145,0.038058772683143616,0.02221885323524475,-0.0050572119653224945,-0.03559310361742973,0.001844049314968288,0.05911950394511223,0.021650655195116997,-0.007473275531083345,-0.006639495491981506,0.011553929187357426,0.019195744767785072,0.024678926914930344,0.0242182407528162,-0.06589408218860626,0.019708866253495216,0.008534418419003487,-0.0059626842848956585,0.00699259527027607,-0.04923770949244499,0.031068159267306328,-0.054745905101299286,0.049670152366161346,0.03193328529596329,0.0037202169187366962,-0.008469118736684322,0.02389603480696678,-0.0498664453625679,0.011256233789026737,0.0638299286365509,0.021910149604082108,-0.012691762298345566,0.031094375997781754,-0.006757178343832493,0.061020784080028534,-0.043016768991947174,-0.030204517766833305,-0.04372042417526245,-0.03228813782334328,-0.035147879272699356,0.021098079159855843,0.0025475183501839638,-0.026538865640759468,-0.048747606575489044,0.04779423028230667,0.009837326593697071,-0.010829873383045197,-0.02793104387819767,0.026133229956030846,-0.053123969584703445,-0.01720423810184002,0.017220523208379745,0.02329396829009056,0.004690214991569519,-0.03191147372126579,-0.00653151236474514,-0.038893166929483414,0.03746209666132927,-0.017094973474740982,-0.027931924909353256,-0.04239433631300926,-0.04010797664523125,0.021571451798081398,-0.010705983266234398,-0.06500332802534103,-0.0036760675720870495,-0.005718835163861513,0.048474930226802826,0.042168959975242615,0.06424342840909958,-0.08994950354099274,-0.007349161431193352,0.031214946880936623,-0.044812969863414764,0.035018522292375565,0.01108719315379858,-0.006737583316862583,0.07809891551733017,-0.009362277574837208,-0.001367904245853424,0.08175545185804367,0.03305972367525101,0.014923423528671265,-0.09521138668060303,-0.03588341921567917,-0.0779506266117096,-0.007632687222212553,-0.07215055823326111,-0.008186660706996918,-0.006946690380573273,0.010655468329787254,0.012188712134957314,-0.0022289850749075413,0.028921807184815407,0.034219566732645035,-0.05013800784945488,0.04425114765763283,0.04954013228416443,-0.03613649308681488,0.022908635437488556,-0.04854917526245117,0.025620492175221443,0.0653143972158432,-0.031752489507198334,0.03784707933664322,-0.049068551510572433,-0.0018653128063306212,-0.003949978854507208,-0.008399753831326962,0.03387423977255821,0.04413079470396042,-0.030869223177433014,-0.02201799303293228,0.04173993319272995,-0.01821424998342991,-0.007375455927103758,0.053130101412534714,-0.043512195348739624,0.011929352767765522,-0.01157484482973814,-0.011178186163306236,-0.0048409136943519115,0.014995149336755276,0.09535015374422073,-0.003659512149170041,-0.00613024877384305,0.027448855340480804,-0.01641502045094967,0.02290496975183487,0.027216743677854538,-0.026381848379969597,0.01076278742402792,-0.009200511500239372,0.0072997394017875195,-0.062357623130083084,-0.015806781128048897,0.011013302952051163,-0.012523777782917023,-0.05539867654442787,-0.011602522805333138,0.006436642725020647,-0.05983653664588928,-6.434631097146247e-33,-0.05645502358675003,-0.011258718557655811,-0.06936829537153244,-0.0019786597695201635,0.029262341558933258,-0.015031935647130013,0.0030207231175154448,0.006041267886757851,-0.04461021348834038,0.020124485716223717,-0.0072711920365691185,0.00171471678186208,0.011781230568885803,0.02603677287697792,-0.04013645276427269,-0.004026417154818773,0.012015268206596375,-0.005382848903536797,0.02653493545949459,0.009900837205350399,-0.04660182073712349,0.007020845543593168,0.006345193833112717,-0.05917198210954666,-0.03773976117372513,-0.025048362091183662,-0.009470115415751934,0.051055047661066055,-0.02290249988436699,0.030976351350545883,-0.01988762803375721,-0.05003339424729347,-0.021255934610962868,-0.00642681447789073,0.014064053073525429,-0.012814597226679325,-0.05713667720556259,-0.057907283306121826,0.008768781088292599,0.0022547694388777018,0.08765410631895065,0.03162598982453346,0.03647051751613617,-0.036559104919433594,-0.01207802165299654,-0.006427687592804432,0.009772855788469315,0.047205936163663864,0.00005529532063519582,0.019139358773827553,0.016976650804281235,0.006724431179463863,0.0003816629177890718,0.033944372087717056,-0.0028638390358537436,0.04586002975702286,0.02181445062160492,-0.029430987313389778,-0.09629673510789871,-0.023413395509123802,0.04335405305027962,-0.03167771175503731,0.0031582408118993044,0.041509345173835754,0.03584076836705208,0.0037972605787217617,0.036112356930971146,0.0056428443640470505,-0.026743005961179733,-0.049059368669986725,-0.02673191763460636,0.009799104183912277,-0.037047453224658966,-0.03863091766834259,-0.09477870166301727,-0.0042325337417423725,-0.023979200050234795,-0.007083007600158453,0.021642107516527176,0.04049631208181381,0.05261398106813431,0.02434905618429184,-0.03494651988148689,-0.0033181749749928713,0.039906058460474014,0.009871706366539001,0.007009366061538458,-0.01511355023831129,0.030396021902561188,0.04095984622836113,0.015203716233372688,0.03692019730806351,-0.03206536918878555,0.024690046906471252,-0.019024882465600967,0.005381097551435232,0.10195546597242355,0.03553270176053047,-0.004497802350670099,-0.02768646739423275,0.02670292742550373,-0.006060783751308918,-0.022018708288669586,0.019714083522558212,-0.009243279695510864,0.018290331587195396,0.04203753545880318,0.006921987049281597,-0.05609768256545067,0.02861950173974037,0.03397003188729286,0.0030408466700464487,-0.02376435324549675,-0.011322809383273125,-0.04109930992126465,0.014422068372368813,-0.018478047102689743,0.031078657135367393,0.00968251284211874,-0.014190631918609142,-0.006512518506497145,-0.010552976280450821,0.02849474549293518,-0.012394239194691181,0.03470154479146004,-0.029491236433386803,0.0018922555027529597,-0.06653828918933868,0.05658674240112305,0.03945934399962425,-0.02418377622961998,0.012765942141413689,2.875456743822724e-7,0.004988767206668854,-0.011212486773729324,-0.04271077364683151,-0.0007595185306854546,0.0169025007635355,-0.048272740095853806,0.022828128188848495,-0.004409060347825289,0.0015051603550091386,-0.09434671700000763,0.05263282731175423,0.02617020159959793,0.014361348003149033,0.005991900805383921,-0.006981457583606243,0.006838120985776186,0.011133539490401745,-0.053979963064193726,-0.024357834830880165,0.01346604898571968,0.017314007505774498,-0.023266710340976715,0.032407183200120926,0.05142910033464432,0.04385416954755783,-0.013654430396854877,-0.0019770090002566576,-0.02383861131966114,0.023422233760356903,0.009479905478656292,0.08168426901102066,-0.004768114071339369,-0.0257919579744339,-0.01845291443169117,0.023231223225593567,0.003032498061656952,0.004573100712150335,0.04626678302884102,-0.007502315100282431,0.06454163044691086,0.020992711186408997,0.0035142137203365564,-0.013970919884741306,-0.02091858722269535,-0.00768744433298707,-0.032436855137348175,0.0026125528384000063,0.006401329766958952,-0.019458521157503128,0.04072757065296173,0.019874995574355125,0.03595380857586861,0.025463443249464035,-0.045191600918769836,0.04009965434670448,-0.016621457412838936,-0.049661785364151,0.053869638592004776,-0.004018240142613649,0.03080609068274498,-0.014440521597862244,0.05758959800004959,0.0037321012932807207,-0.045033376663923264,0.043680161237716675,-0.05089028924703598,-0.007645369507372379,3.5094767256995853e-34,0.004936103709042072,-0.03885923698544502,0.008029711432754993,0.0473024919629097,0.05800711736083031,-0.0007769918884150684,-0.012511971406638622,-0.014107055962085724,0.01566532999277115,-0.05816315859556198,-0.005119490437209606]'
SET
  @TechnicalDesignVector_5ecb1633 = N'[-0.007969200611114502,-0.07263137400150299,-0.00991026684641838,-0.04634694755077362,0.0008063649875111878,-0.049495019018650055,0.08229367434978485,0.061515677720308304,-0.001697923056781292,0.0008088905597105622,-0.03015945851802826,0.015313958749175072,0.05671508237719536,0.06739547848701477,0.046828605234622955,-0.07320990413427353,-0.03572915121912956,0.040469300001859665,-0.047088753432035446,0.00189406203571707,0.012471651658415794,-0.01820610836148262,-0.02216586470603943,0.0058580609038472176,0.029146840795874596,-0.04129765182733536,-0.03100813366472721,0.0037739332765340805,0.04913932830095291,-0.01367156207561493,0.026938537135720253,0.05080236494541168,-0.06331291794776917,0.004394827876240015,0.0000016505035773661803,0.0027757384814321995,0.03443542495369911,-0.005769158713519573,-0.03606388345360756,-0.002135656075552106,-0.029287919402122498,-0.04383033141493797,0.0508771650493145,0.011798080988228321,0.022914476692676544,-0.09685632586479187,-0.03778314217925072,0.02847425639629364,0.038406047970056534,0.015005314722657204,0.004848874174058437,-0.03339332342147827,0.02787521854043007,0.009266841225326061,0.08297937363386154,0.028027085587382317,-0.016979770734906197,-0.010231728665530682,0.04311525449156761,-0.07776344567537308,-0.010449199005961418,-0.032501764595508575,0.031188765540719032,-0.03937476873397827,0.002460117917507887,0.015319423750042915,0.008800170384347439,-0.045535895973443985,0.002705630147829652,0.04361977055668831,0.13928215205669403,0.02514204941689968,-0.016059961169958115,-0.04343836009502411,0.01290450431406498,-0.018877508118748665,0.02972821518778801,-0.005483556538820267,-0.018656859174370766,-0.004373449832201004,-0.030296899378299713,0.025750866159796715,-0.05281777307391167,-0.008803512901067734,0.03836144879460335,-0.04230177029967308,-0.02687758021056652,0.00803572591394186,-0.003099511843174696,-0.028035232797265053,0.0876375213265419,0.004320675041526556,0.017345363274216652,0.017200496047735214,-0.016718702390789986,0.011788178235292435,0.027452200651168823,-0.09925390779972076,0.025285907089710236,0.01243114098906517,0.024139435961842537,0.057698432356119156,-0.022793523967266083,0.007464964408427477,0.05444149300456047,0.13162685930728912,0.0005669004167430103,0.025485817342996597,-0.001251200563274324,0.0332673154771328,-0.00008287026139441878,0.006251887418329716,0.003905922407284379,0.0416080541908741,-0.02297399193048477,0.010115928947925568,-0.013113529421389103,0.011750231496989727,0.05072825774550438,0.039936210960149765,0.11130624264478683,0.0005816171178594232,-0.022348087280988693,-0.03868551924824715,0.031630635261535645,0.043161001056432724,0.012615000829100609,-0.07472441345453262,-0.028464965522289276,0.07545052468776703,0.0014336224412545562,0.006978304125368595,-0.0031224852427840233,-0.0032762244809418917,-0.03905230388045311,-0.014972374774515629,-0.019343754276633263,-0.011072272434830666,0.03550240024924278,0.06789884716272354,-0.02680610679090023,0.00022771992371417582,-0.05811063572764397,0.036078087985515594,-0.018814874812960625,0.016990728676319122,-0.015102426521480083,-0.0775223970413208,0.015223957598209381,0.05805053189396858,0.020673399791121483,-0.06235842779278755,-0.018573731184005737,0.005397335160523653,-0.06389559060335159,0.03249136358499527,-0.04697516933083534,-0.015012563206255436,0.0189474206417799,0.0645347610116005,0.008478292264044285,0.0033986144699156284,0.05640619620680809,0.0328679159283638,-0.08367036283016205,0.006992287468165159,-0.05643875524401665,-0.03654245659708977,-0.001653796760365367,-0.052684009075164795,-0.024015678092837334,-0.020027950406074524,-0.030005501583218575,-0.026528049260377884,-0.025249870494008064,-0.048639968037605286,0.027937470003962517,-0.0069269826635718346,-0.1071310043334961,-0.018365148454904556,0.057069215923547745,-0.026572298258543015,0.007410129997879267,0.02298859693109989,0.021397721022367477,-0.010640798136591911,-0.046486180275678635,0.02892565354704857,-0.006322949193418026,-0.0100629897788167,-0.05571267753839493,-0.010544933378696442,-0.07769186794757843,0.002002697205170989,-0.015021559782326221,-0.00902353972196579,-0.05279376357793808,0.0068922764621675014,0.02034633606672287,0.07611458748579025,-0.00997188501060009,0.008700856007635593,0.045488741248846054,0.06503653526306152,-0.016425494104623795,0.007316821254789829,-0.08201335370540619,-0.040400922298431396,-0.009074975736439228,0.029495922848582268,0.02854449488222599,0.016669057309627533,-0.010423533618450165,0.03212627395987511,-0.0200363676995039,-0.008517271839082241,0.019112179055809975,0.006728245876729488,-0.05593389272689819,0.0011186659103259444,-0.011701058596372604,0.02645857259631157,0.014919997192919254,0.016988951712846756,0.040784936398267746,0.034268662333488464,-0.0007134899497032166,-0.026977937668561935,0.023091033101081848,0.003705883864313364,-0.0032464645337313414,-0.04385298490524292,-0.013239741325378418,0.03066459484398365,0.04809809476137161,0.04389331489801407,-0.005559992045164108,0.01861528865993023,-0.01402387022972107,-0.00012964975030627102,-0.0345219261944294,-0.013400756753981113,-0.053062956780195236,0.040901876986026764,-0.008814925327897072,-0.02881752885878086,-0.015596696175634861,0.004514062777161598,-0.016437167301774025,0.012461274862289429,-0.006503656040877104,0.025494078174233437,0.048566874116659164,-0.04453333467245102,-0.0077329822815954685,0.035516511648893356,0.04662907496094704,0.026765473186969757,-0.004710335750132799,0.026769742369651794,0.026005038991570473,-0.0361165851354599,-0.0008550605271011591,-0.0016320145223289728,0.02431446686387062,0.010067904368042946,0.04382432997226715,-0.03996190428733826,0.002612798474729061,-0.022942209616303444,0.007860489189624786,0.0048356251791119576,0.030569864436984062,-0.03227390721440315,0.03326575830578804,0.017234886065125465,-0.012413229793310165,0.07192166894674301,-0.01950794830918312,-0.04348727688193321,-0.008438291028141975,-0.005002112127840519,-0.006480679847300053,0.049114178866147995,0.010001185350120068,-0.013818181119859219,-0.011855832301080227,-0.02874104678630829,0.00029047278803773224,-0.05283098295331001,0.03020927496254444,-0.01368043851107359,0.030467065051198006,-0.023182008415460587,-0.032541319727897644,0.015019195154309273,0.01715259812772274,0.02295527048408985,-0.05527060478925705,0.06547830253839493,-0.034152962267398834,0.013306044973433018,-0.021891433745622635,0.02376716397702694,0.003306068480014801,-0.023276377469301224,-0.05005250498652458,0.05092579126358032,0.01619311235845089,0.0338018424808979,0.0019361802842468023,0.030401473864912987,0.015530647709965706,-0.06297338753938675,0.011259317398071289,0.03101268596947193,0.05613698437809944,0.013225452974438667,-0.029416188597679138,0.063520647585392,-0.0016420820029452443,-0.01021597534418106,-0.02978159859776497,-0.017343558371067047,-0.0630660131573677,0.029983503744006157,0.006685713771730661,-0.022415589541196823,0.1048193871974945,0.00275148032233119,0.00654180534183979,0.014505891129374504,0.0007584586273878813,0.02527332492172718,0.010238522663712502,-0.043563880026340485,-0.02199661172926426,-0.08039052784442902,0.02856266498565674,0.00406612828373909,-0.020600222051143646,-0.004002060275524855,-0.020226649940013885,-0.04663405939936638,-0.028947681188583374,-0.034762654453516006,-0.08841639012098312,-0.011339348740875721,-0.09223925322294235,0.019251396879553795,0.004166542086750269,0.030454134568572044,0.003022924531251192,0.002346531953662634,-0.00886903889477253,-0.008784279227256775,0.013745875097811222,0.025968553498387337,-0.026651082560420036,-0.057141222059726715,0.003820538753643632,-0.012672108598053455,0.02760978415608406,0.0676216185092926,0.02278205379843712,-0.004906380083411932,0.011287071742117405,-0.014266964979469776,-0.028053194284439087,-0.04229423403739929,-0.020544925704598427,0.037068579345941544,0.04569998383522034,0.03263305872678757,-0.02662849985063076,-0.03741706907749176,0.024262554943561554,-0.006928903516381979,0.00030707765836268663,-0.006189028266817331,0.07569924741983414,0.03428052365779877,0.019899331033229828,-0.04160630702972412,0.03168974816799164,0.01798270456492901,0.01241345051676035,-0.01650558039546013,0.011270388029515743,0.00553633738309145,-0.017513984814286232,-0.01747025176882744,-0.04323261231184006,-0.010876048356294632,-0.008719243109226227,0.018828045576810837,-0.0012414564844220877,0.007865595631301403,0.013644363731145859,-0.036619916558265686,-0.025306109338998795,0.07119957357645035,0.022941570729017258,-0.0021671485155820847,0.03818326070904732,-0.0386388823390007,-0.025039950385689735,0.031274013221263885,0.03993282839655876,-0.013344043865799904,-0.06155480816960335,-0.004681391641497612,-0.00931676384061575,0.002673490671440959,-0.06973523646593094,-0.0028877444565296173,-0.00877611804753542,-0.11036517471075058,-0.0038185422308743,0.04794513061642647,-0.02285301499068737,-0.01756189949810505,0.012374096550047398,-0.016009246930480003,-0.012939353473484516,-0.012734158895909786,0.004938656929880381,-0.06505585461854935,-0.014286038465797901,-0.010283954441547394,0.0015805040020495653,-0.0016418781597167253,-0.00006671394658042118,0.01934749260544777,-0.022934576496481895,0.001904105651192367,0.007919687777757645,-0.027850033715367317,0.036462895572185516,0.004694155417382717,0.030447738245129585,-0.03778456524014473,0.04691322520375252,0.007443011272698641,-0.006202582735568285,-0.03715284913778305,0.00975790061056614,0.08530792593955994,-0.014150205999612808,-0.02437133528292179,-0.013645284809172153,-0.010258673690259457,-0.04387150704860687,0.03877314552664757,-0.039209384471178055,-0.0575009249150753,0.04203995317220688,0.09212145954370499,0.004925868008285761,0.012435670010745525,-0.047908034175634384,0.035066694021224976,-0.026358669623732567,0.01738523133099079,0.02071649394929409,-0.016581431031227112,-0.009936231188476086,-0.03005748987197876,-0.028454795479774475,0.008603071793913841,-0.020394476130604744,0.012225553393363953,-0.02818536013364792,-0.028256133198738098,-0.029300155118107796,-0.011308997869491577,-0.04308551922440529,-0.0249185673892498,-0.02581855282187462,-0.03319105505943298,0.031269386410713196,0.015163441188633442,-0.0030334540642797947,-0.09942757338285446,0.009409083984792233,0.04352356120944023,0.026603195816278458,0.02215784788131714,0.008283075876533985,-0.00786499958485365,0.012232477776706219,-0.03468957915902138,-0.01278527732938528,0.09021027386188507,0.04972708597779274,0.04911674186587334,-0.02964954264461994,0.017501574009656906,-0.07565902173519135,-0.023633195087313652,-0.046788908541202545,-0.028122927993535995,0.0021401348058134317,0.06591742485761642,-0.0463162325322628,-0.022571546956896782,-0.009662010706961155,0.04387309029698372,-0.027807606384158134,-0.01896650530397892,0.015694456174969673,-0.025620177388191223,-0.011445973068475723,0.015916617587208748,0.008799356408417225,0.08406306058168411,-0.033671654760837555,0.01581578329205513,0.02181934006512165,-0.01013924740254879,0.02940220944583416,0.02095031552016735,-0.014858722686767578,0.02046089991927147,0.010408970527350903,-0.04064376652240753,0.04784310236573219,0.026863569393754005,-0.022818639874458313,0.022413987666368484,0.019596625119447708,-0.006129612680524588,0.01953211985528469,0.00044448848348110914,0.027682321146130562,0.05105333775281906,0.06364936381578445,0.012838009744882584,0.003250058041885495,-0.02726183459162712,-0.06348048895597458,0.026860719546675682,0.027863452211022377,-0.02792981266975403,0.02468962036073208,0.025827737525105476,0.010994179174304008,-0.07312621921300888,0.0250844806432724,0.02476007118821144,0.011155372485518456,-0.06595788896083832,-0.022442715242505074,0.01799812912940979,0.00575253227725625,-5.783892852894383e-33,-0.005577935837209225,-0.01216469518840313,-0.04458874464035034,0.0757942721247673,-0.034731924533843994,-0.006040435284376144,-0.0431392677128315,-0.007891305722296238,-0.0044420259073376656,-0.03485160320997238,-0.004922949243336916,-0.05995781347155571,0.01175613608211279,0.025181591510772705,-0.04186981916427612,-0.02116449736058712,0.015386659651994705,0.012032071128487587,-0.0160670205950737,0.03855951875448227,-0.015640147030353546,0.012277803383767605,0.03162257745862007,0.026746656745672226,-0.053955450654029846,-0.014149537310004234,0.02071763388812542,0.01742464490234852,-0.047563858330249786,0.022307556122541428,-0.0367191843688488,-0.02051081694662571,-0.042263809591531754,-0.06750045716762543,0.057205215096473694,0.02576819248497486,-0.008623466826975346,-0.05901654437184334,0.05020987242460251,0.051635950803756714,0.07736986130475998,-0.0005219178274273872,0.0015528399962931871,-0.0007037069299258292,0.025714203715324402,-0.04659602791070938,0.004263848066329956,0.01466558687388897,-0.00377653818577528,0.028356121852993965,-0.013569029048085213,0.036611057817935944,-0.016158634796738625,-0.010503491386771202,-0.002945205196738243,0.017408521845936775,0.04537993669509888,0.0050703389570117,-0.09128085523843765,-0.04160910099744797,-0.045643728226423264,-0.0505930632352829,0.011826436035335064,0.03167734295129776,0.02310335449874401,0.04540328308939934,0.002670339308679104,0.03776150196790695,-0.10310245305299759,-0.0008819499635137618,-0.011623653583228588,0.010034860111773014,0.0014255340211093426,-0.029958996921777725,0.038466136902570724,-0.020757360383868217,0.0007021554629318416,-0.030222343280911446,0.05474203824996948,0.0835544541478157,0.07824133336544037,0.03429035097360611,-0.004132745787501335,0.024224206805229187,-0.02865736186504364,0.00391737325116992,0.040430303663015366,-0.027577323839068413,0.00495330011472106,0.029303213581442833,0.005004994571208954,0.017260227352380753,-0.013321498408913612,0.06898429244756699,-0.0002520680718589574,0.00799125712364912,0.08754552155733109,0.04008042812347412,-0.014384979382157326,-0.027617691084742546,0.04707867279648781,-0.03993774205446243,-0.044434718787670135,-0.022390762344002724,-0.0165235698223114,0.01650204509496689,-0.004603632725775242,0.018848903477191925,-0.014687850140035152,0.035960033535957336,0.023423729464411736,-0.010334749706089497,-0.039607059210538864,0.007577673066407442,-0.016007637605071068,0.008550550788640976,-0.03791441023349762,-0.01707739382982254,0.00223705661483109,0.05329497903585434,-0.0017084352439269423,-0.0010902528883889318,-0.026091571897268295,0.002066549612209201,0.02024979516863823,-0.0022529284469783306,0.006453071255236864,-0.003981250803917646,-0.02288045361638069,0.014705001376569271,0.024752339348196983,0.005607244558632374,2.743673235272581e-7,-0.05096159502863884,-0.00025682683917693794,-0.032953210175037384,-0.004042643588036299,0.047561440616846085,-0.055613771080970764,-0.028486672788858414,-0.049572136253118515,-0.015014265663921833,-0.13126057386398315,0.011800643056631088,0.011765806935727596,0.018825160339474678,0.051531437784433365,-0.028838178142905235,0.012152462266385555,0.03526368737220764,-0.03722444176673889,-0.041474368423223495,0.012270139530301094,0.06416488438844681,-0.020643888041377068,0.08262573182582855,-0.009199616499245167,0.009382955729961395,0.07576370239257812,0.0057463147677481174,0.03212721645832062,0.04805436730384827,-0.04757421463727951,0.06336673349142075,0.009086187928915024,-0.0014411445008590817,-0.05535208061337471,0.05854208767414093,0.018299201503396034,0.01890421286225319,-0.0029166662134230137,0.02189522236585617,0.02325940690934658,0.0274118073284626,0.00019970473658759147,-0.05966998636722565,-0.049735650420188904,0.027534618973731995,-0.06646949797868729,-0.025800740346312523,-0.001165159628726542,-0.058765776455402374,0.018406735733151436,0.013799495995044708,0.01573198474943638,0.047868821769952774,-0.018838301301002502,0.013873499818146229,-0.0674448311328888,-0.021369094029068947,0.03521779924631119,-0.006030688062310219,-0.003822917817160487,-0.03676420450210571,0.03952537849545479,-0.013954760506749153,-0.0390360951423645,0.0005104565061628819,-0.06580336391925812,-0.006367508787661791,2.8999808384995657e-34,-0.011589614674448967,-0.03623181954026222,0.012048151344060898,0.01581569015979767,0.051007069647312164,-0.004682627972215414,0.11938592046499252,0.014752750284969807,0.00012659834465011954,-0.018601542338728905,0.009025237523019314]'
SET
  @HasCustomProps_5ecb1633 = 1
SET
  @HasCustomEvents_5ecb1633 = 0
SET
  @RequiresData_5ecb1633 = 1
SET
  @DependencyCount_5ecb1633 = 2
SET
  @TechnicalDesignVectorEmbeddingModelID_5ecb1633 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_5ecb1633 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_5ecb1633 = 1
SET
  @ID_5ecb1633 = '212F30E2-C117-49FA-9278-46B587FFC745'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_5ecb1633,
  @Name = @Name_5ecb1633,
  @Version = @Version_5ecb1633,
  @VersionSequence = @VersionSequence_5ecb1633,
  @Title = @Title_5ecb1633,
  @Description = @Description_5ecb1633,
  @Type = @Type_5ecb1633,
  @Status = @Status_5ecb1633,
  @DeveloperName = @DeveloperName_5ecb1633,
  @DeveloperEmail = @DeveloperEmail_5ecb1633,
  @DeveloperOrganization = @DeveloperOrganization_5ecb1633,
  @SourceRegistryID = @SourceRegistryID_5ecb1633,
  @ReplicatedAt = @ReplicatedAt_5ecb1633,
  @LastSyncedAt = @LastSyncedAt_5ecb1633,
  @Specification = @Specification_5ecb1633,
  @FunctionalRequirements = @FunctionalRequirements_5ecb1633,
  @TechnicalDesign = @TechnicalDesign_5ecb1633,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_5ecb1633,
  @TechnicalDesignVector = @TechnicalDesignVector_5ecb1633,
  @HasCustomProps = @HasCustomProps_5ecb1633,
  @HasCustomEvents = @HasCustomEvents_5ecb1633,
  @RequiresData = @RequiresData_5ecb1633,
  @DependencyCount = @DependencyCount_5ecb1633,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_5ecb1633,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_5ecb1633,
  @HasRequiredCustomProps = @HasRequiredCustomProps_5ecb1633,
  @ID = @ID_5ecb1633;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_f25189c7 NVARCHAR(MAX),
@Name_f25189c7 NVARCHAR(500),
@Version_f25189c7 NVARCHAR(50),
@VersionSequence_f25189c7 INT,
@Title_f25189c7 NVARCHAR(1000),
@Description_f25189c7 NVARCHAR(MAX),
@Type_f25189c7 NVARCHAR(255),
@Status_f25189c7 NVARCHAR(50),
@DeveloperName_f25189c7 NVARCHAR(255),
@DeveloperEmail_f25189c7 NVARCHAR(255),
@DeveloperOrganization_f25189c7 NVARCHAR(255),
@SourceRegistryID_f25189c7 UNIQUEIDENTIFIER,
@ReplicatedAt_f25189c7 DATETIMEOFFSET,
@LastSyncedAt_f25189c7 DATETIMEOFFSET,
@Specification_f25189c7 NVARCHAR(MAX),
@FunctionalRequirements_f25189c7 NVARCHAR(MAX),
@TechnicalDesign_f25189c7 NVARCHAR(MAX),
@FunctionalRequirementsVector_f25189c7 NVARCHAR(MAX),
@TechnicalDesignVector_f25189c7 NVARCHAR(MAX),
@HasCustomProps_f25189c7 BIT,
@HasCustomEvents_f25189c7 BIT,
@RequiresData_f25189c7 BIT,
@DependencyCount_f25189c7 INT,
@TechnicalDesignVectorEmbeddingModelID_f25189c7 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_f25189c7 NVARCHAR(MAX),
@HasRequiredCustomProps_f25189c7 BIT,
@ID_f25189c7 UNIQUEIDENTIFIER
SET
  @Namespace_f25189c7 = N'CRM/Sales'
SET
  @Name_f25189c7 = N'RecentDealsList'
SET
  @Version_f25189c7 = N'1.0.0'
SET
  @VersionSequence_f25189c7 = 1
SET
  @Title_f25189c7 = N'Recent Deals List'
SET
  @Description_f25189c7 = N'Displays a list of the most recent deals with stage indicators and key metrics'
SET
  @Type_f25189c7 = N'Other'
SET
  @Status_f25189c7 = N'Published'
SET
  @Specification_f25189c7 = N'{"name":"RecentDealsList","title":"Recent Deals List","description":"Displays a list of the most recent deals with stage indicators and key metrics","type":"component","location":"embedded","namespace":"CRM/Sales","functionalRequirements":"## Recent Deals Display\n\n### Core Features\n- Display 10-20 most recent deals\n- Show key deal information: name, account, amount, stage\n- Color-code rows by stage for quick visual scanning\n- Format currency values appropriately\n- Show days until close date\n\n### Interactivity\n- Clickable rows to view deal details\n- Hover effects for better UX\n- Optional refresh button to reload data\n\n### Visual Design\n- Clean table layout with good spacing\n- Stage badges with semantic colors\n- Highlight deals closing soon\n- Show probability as progress bar","dataRequirements":{"mode":"views","description":"Fetches recent deals data using RunView","entities":[{"name":"Deals","description":"CRM deals/opportunities data","displayFields":["ID","DealName","AccountID","Account","Stage","Amount","Probability","CloseDate","DealSource","OwnerID","Owner","__mj_CreatedAt"],"filterFields":["CloseDate","Stage"],"sortFields":["CloseDate","Amount","DealName","__mj_CreatedAt"],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Displays recent deals with stage indicators and metrics"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Data Loading\n- Use RunView to load recent deals\n- Sort by CreatedDate DESC or CloseDate ASC\n- Limit to configurable number of rows (default 15)\n\n### Stage Styling\n- Prospecting: Gray\n- Qualification: Blue\n- Proposal: Yellow\n- Negotiation: Orange\n- Closed Won: Green\n- Closed Lost: Red\n\n### Calculations\n- Days to close: CloseDate - today\n- Expected revenue: Amount * Probability / 100\n- Format amounts with currency symbol","properties":[],"exampleUsage":"<RecentDealsList\n  maxRows={20}\n  sortBy=\"CloseDate\"\n  onDealClick={handleDealClick}\n/>","code":"function RecentDealsList({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Load DataGrid component from registry\n  const DataGrid = components[''DataGrid''];\n\n  const [deals, setDeals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [sortBy, setSortBy] = useState(savedUserSettings?.sortBy || ''CloseDate'');\n  const [sortDirection, setSortDirection] = useState(savedUserSettings?.sortDirection || ''ASC'');\n  const [maxRows] = useState(savedUserSettings?.maxRows || 15);\n  const [dateFrom, setDateFrom] = useState(savedUserSettings?.dateFrom || '''');\n  const [dateTo, setDateTo] = useState(savedUserSettings?.dateTo || '''');\n  const [selectedDeal, setSelectedDeal] = useState(null);\n\n  // Stage colors mapping\n  const stageColors = {\n    ''Prospecting'': { bg: ''#F3F4F6'', text: ''#6B7280'', border: ''#D1D5DB'' },\n    ''Qualification'': { bg: ''#DBEAFE'', text: ''#1E40AF'', border: ''#93C5FD'' },\n    ''Proposal'': { bg: ''#FEF3C7'', text: ''#92400E'', border: ''#FDE047'' },\n    ''Negotiation'': { bg: ''#FED7AA'', text: ''#9A3412'', border: ''#FB923C'' },\n    ''Closed Won'': { bg: ''#D1FAE5'', text: ''#065F46'', border: ''#6EE7B7'' },\n    ''Closed Lost'': { bg: ''#FEE2E2'', text: ''#991B1B'', border: ''#FCA5A5'' }\n  };\n\n  useEffect(() => {\n    loadDeals();\n  }, [sortBy, sortDirection, maxRows, dateFrom, dateTo]);\n\n  const loadDeals = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // Build filter based on date range\n      let filters = [];\n      if (dateFrom) {\n        filters.push(`CloseDate >= ''$' + '{dateFrom}''`);\n      }\n      if (dateTo) {\n        filters.push(`CloseDate <= ''$' + '{dateTo}''`);\n      }\n      const extraFilter = filters.length > 0 ? filters.join('' AND '') : '''';\n      \n      const result = await utilities.rv.RunView({\n        EntityName: ''Deals'',\n        OrderBy: `$' + '{sortBy} $' + '{sortDirection}`,\n        MaxRows: maxRows,\n        ExtraFilter: extraFilter\n      });\n\n      if (result.Success) {\n        setDeals(result.Results || []);\n      } else {\n        setError(result.ErrorMessage || ''Failed to load deals'');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat(''en-US'', {\n      style: ''currency'',\n      currency: ''USD''\n    }).format(amount || 0);\n  };\n\n  const formatDate = (dateStr) => {\n    if (!dateStr) return ''-'';\n    const date = new Date(dateStr);\n    return date.toLocaleDateString(''en-US'', { \n      month: ''short'', \n      day: ''numeric'', \n      year: ''numeric'' \n    });\n  };\n\n  const getDaysToClose = (closeDate) => {\n    if (!closeDate) return null;\n    const close = new Date(closeDate);\n    const today = new Date();\n    const days = Math.ceil((close - today) / (1000 * 60 * 60 * 24));\n    return days;\n  };\n\n  // Render stage badge\n  const renderStageBadge = (stage) => {\n    const stageStyle = stageColors[stage] || stageColors[''Prospecting''];\n    return (\n      <span style={{\n        padding: ''4px 12px'',\n        borderRadius: ''12px'',\n        fontSize: ''12px'',\n        fontWeight: ''600'',\n        backgroundColor: stageStyle.bg,\n        color: stageStyle.text,\n        border: `1px solid $' + '{stageStyle.border}`\n      }}>\n        {stage}\n      </span>\n    );\n  };\n\n  // Render probability bar\n  const renderProbabilityBar = (probability) => (\n    <div style={{ position: ''relative'' }}>\n      <div style={{\n        width: ''100px'',\n        height: ''8px'',\n        backgroundColor: ''#E5E7EB'',\n        borderRadius: ''4px'',\n        margin: ''0 auto''\n      }}>\n        <div style={{\n          width: `$' + '{probability}%`,\n          height: ''100%'',\n          backgroundColor: probability > 75 ? ''#10B981'' : probability > 50 ? ''#F59E0B'' : ''#6B7280'',\n          borderRadius: ''4px'',\n          transition: ''width 0.3s''\n        }} />\n      </div>\n      <div style={{ fontSize: ''12px'', marginTop: ''2px'', color: ''#6B7280'', textAlign: ''center'' }}>\n        {probability}%\n      </div>\n    </div>\n  );\n\n  // Render days to close badge\n  const renderDaysToClose = (closeDate) => {\n    const daysToClose = getDaysToClose(closeDate);\n    if (daysToClose === null) return null;\n\n    return (\n      <span style={{\n        padding: ''4px 8px'',\n        borderRadius: ''6px'',\n        fontSize: ''12px'',\n        fontWeight: ''600'',\n        backgroundColor: daysToClose < 0 ? ''#FEE2E2'' : daysToClose < 7 ? ''#FEF3C7'' : daysToClose < 30 ? ''#DBEAFE'' : ''#F3F4F6'',\n        color: daysToClose < 0 ? ''#991B1B'' : daysToClose < 7 ? ''#92400E'' : daysToClose < 30 ? ''#1E40AF'' : ''#6B7280''\n      }}>\n        {daysToClose < 0 ? `$' + '{Math.abs(daysToClose)} overdue` : `$' + '{daysToClose} days`}\n      </span>\n    );\n  };\n\n  // Define columns for DataGrid\n  const gridColumns = [\n    {\n      field: ''DealName'',\n      header: ''Deal Name'',\n      sortable: true,\n      width: ''200px''\n    },\n    {\n      field: ''Stage'',\n      header: ''Stage'',\n      sortable: false,\n      width: ''130px'',\n      render: (value) => renderStageBadge(value)\n    },\n    {\n      field: ''Amount'',\n      header: ''Amount'',\n      sortable: true,\n      width: ''120px'',\n      render: (value) => (\n        <span style={{ fontWeight: ''600'', color: ''#059669'' }}>\n          {formatCurrency(value)}\n        </span>\n      )\n    },\n    {\n      field: ''Probability'',\n      header: ''Probability'',\n      sortable: true,\n      width: ''120px'',\n      render: (value) => renderProbabilityBar(value)\n    },\n    {\n      field: ''CloseDate'',\n      header: ''Close Date'',\n      sortable: true,\n      width: ''100px'',\n      render: (value) => formatDate(value)\n    },\n    {\n      field: ''DaysToClose'',\n      header: ''Days to Close'',\n      sortable: false,\n      width: ''120px'',\n      render: (value, row) => renderDaysToClose(row.CloseDate)\n    },\n    {\n      field: ''DealSource'',\n      header: ''Source'',\n      sortable: false,\n      width: ''120px'',\n      render: (value) => value || ''-''\n    }\n  ];\n\n  // Handle row click to open deal details modal\n  const handleRowClick = useCallback((row) => {\n    // Show the modal with deal details\n    setSelectedDeal(row);\n  }, []);\n\n  const handleSort = (field, direction) => {\n    setSortBy(field);\n    setSortDirection(direction.toUpperCase());\n    onSaveUserSettings({ ...savedUserSettings, sortBy: field, sortDirection: direction.toUpperCase() });\n  };\n\n  const handleDateChange = (field, value) => {\n    if (field === ''from'') {\n      setDateFrom(value);\n      onSaveUserSettings({ ...savedUserSettings, dateFrom: value });\n    } else {\n      setDateTo(value);\n      onSaveUserSettings({ ...savedUserSettings, dateTo: value });\n    }\n  };\n\n  const clearFilters = () => {\n    setDateFrom('''');\n    setDateTo('''');\n    onSaveUserSettings({ ...savedUserSettings, dateFrom: '''', dateTo: '''' });\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading deals...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: ''20px'', backgroundColor: ''#FEE2E2'', borderRadius: ''8px'', margin: ''20px'' }}>\n        <div style={{ color: ''#991B1B'', fontWeight: ''bold'' }}>Error loading deals</div>\n        <div style={{ color: ''#DC2626'', marginTop: ''8px'' }}>{error}</div>\n        <button \n          onClick={loadDeals}\n          style={{\n            marginTop: ''12px'',\n            padding: ''8px 16px'',\n            backgroundColor: ''#EF4444'',\n            color: ''white'',\n            border: ''none'',\n            borderRadius: ''6px'',\n            cursor: ''pointer''\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: ''20px'' }}>\n      <div style={{ marginBottom: ''20px'' }}>\n        <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'', marginBottom: ''16px'' }}>\n          <h2 style={{ fontSize: ''24px'', fontWeight: ''bold'', margin: 0 }}>Recent Deals</h2>\n          <button\n            onClick={loadDeals}\n            style={{\n              padding: ''8px 16px'',\n              backgroundColor: ''#3B82F6'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''6px'',\n              cursor: ''pointer'',\n              fontSize: ''14px''\n            }}\n          >\n            Refresh\n          </button>\n        </div>\n        \n        <div style={{ \n          display: ''flex'', \n          gap: ''12px'', \n          alignItems: ''center'',\n          padding: ''12px'',\n          backgroundColor: ''#F9FAFB'',\n          borderRadius: ''8px'',\n          marginBottom: ''16px''\n        }}>\n          <label style={{ fontSize: ''14px'', color: ''#374151'' }}>Close Date:</label>\n          <input\n            type=\"date\"\n            value={dateFrom}\n            onChange={(e) => handleDateChange(''from'', e.target.value)}\n            style={{\n              padding: ''6px 12px'',\n              border: ''1px solid #D1D5DB'',\n              borderRadius: ''6px'',\n              fontSize: ''14px''\n            }}\n            placeholder=\"From\"\n          />\n          <span style={{ color: ''#6B7280'' }}>to</span>\n          <input\n            type=\"date\"\n            value={dateTo}\n            onChange={(e) => handleDateChange(''to'', e.target.value)}\n            style={{\n              padding: ''6px 12px'',\n              border: ''1px solid #D1D5DB'',\n              borderRadius: ''6px'',\n              fontSize: ''14px''\n            }}\n            placeholder=\"To\"\n          />\n          {(dateFrom || dateTo) && (\n            <button\n              onClick={clearFilters}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: ''#EF4444'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              Clear\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div style={{ overflowX: ''auto'' }}>\n        {DataGrid ? (\n          <DataGrid\n            data={deals}\n            columns={gridColumns}\n            pageSize={maxRows}\n            showFilters={false}\n            showExport={false}\n            selectionMode=\"none\"\n            onRowClick={handleRowClick}\n            sortBy={sortBy}\n            sortDirection={sortDirection.toLowerCase()}\n            onSortChange={handleSort}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings}\n            onSaveUserSettings={onSaveUserSettings}\n          />\n        ) : (\n          <div style={{\n            padding: ''40px'',\n            textAlign: ''center'',\n            color: ''#6B7280''\n          }}>\n            DataGrid component not available\n          </div>\n        )}\n      </div>\n\n      {deals.length === 0 && (\n        <div style={{ padding: ''40px'', textAlign: ''center'', color: ''#6B7280'' }}>\n          No deals found\n        </div>\n      )}\n\n      <div style={{ marginTop: ''20px'', fontSize: ''14px'', color: ''#6B7280'', textAlign: ''right'' }}>\n        Showing {deals.length} of {maxRows} max deals\n      </div>\n\n      {/* Deal Detail Modal */}\n      {selectedDeal && (\n        <div style={{\n          position: ''fixed'',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: ''rgba(0, 0, 0, 0.5)'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1000\n        }}\n        onClick={() => setSelectedDeal(null)}\n        >\n          <div \n            style={{\n              backgroundColor: ''white'',\n              borderRadius: ''12px'',\n              padding: ''24px'',\n              maxWidth: ''600px'',\n              width: ''90%'',\n              maxHeight: ''80vh'',\n              overflowY: ''auto'',\n              boxShadow: ''0 20px 25px -5px rgba(0, 0, 0, 0.1)''\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''start'', marginBottom: ''20px'' }}>\n              <h3 style={{ fontSize: ''20px'', fontWeight: ''bold'', margin: 0 }}>{selectedDeal.DealName}</h3>\n              <button\n                onClick={() => setSelectedDeal(null)}\n                style={{\n                  background: ''none'',\n                  border: ''none'',\n                  fontSize: ''24px'',\n                  cursor: ''pointer'',\n                  color: ''#6B7280'',\n                  padding: ''0'',\n                  width: ''30px'',\n                  height: ''30px''\n                }}\n              >\n                ×\n              </button>\n            </div>\n            \n            <div style={{ display: ''grid'', gap: ''16px'' }}>\n              <div>\n                <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Stage</label>\n                <span style={{\n                  padding: ''6px 16px'',\n                  borderRadius: ''12px'',\n                  fontSize: ''14px'',\n                  fontWeight: ''600'',\n                  backgroundColor: stageColors[selectedDeal.Stage]?.bg || ''#F3F4F6'',\n                  color: stageColors[selectedDeal.Stage]?.text || ''#6B7280'',\n                  border: `1px solid $' + '{stageColors[selectedDeal.Stage]?.border || ''#D1D5DB''}`,\n                  display: ''inline-block''\n                }}>\n                  {selectedDeal.Stage}\n                </span>\n              </div>\n              \n              <div style={{ display: ''grid'', gridTemplateColumns: ''1fr 1fr'', gap: ''16px'' }}>\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Amount</label>\n                  <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#059669'' }}>\n                    {formatCurrency(selectedDeal.Amount)}\n                  </div>\n                </div>\n                \n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Probability</label>\n                  <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#374151'' }}>\n                    {selectedDeal.Probability}%\n                  </div>\n                </div>\n              </div>\n              \n              <div style={{ display: ''grid'', gridTemplateColumns: ''1fr 1fr'', gap: ''16px'' }}>\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Close Date</label>\n                  <div style={{ fontSize: ''16px'', color: ''#111827'' }}>\n                    {formatDate(selectedDeal.CloseDate)}\n                  </div>\n                </div>\n                \n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Days to Close</label>\n                  <div style={{ fontSize: ''16px'', color: ''#111827'' }}>\n                    {(() => {\n                      const days = getDaysToClose(selectedDeal.CloseDate);\n                      if (days === null) return ''-'';\n                      return days < 0 ? `$' + '{Math.abs(days)} days overdue` : `$' + '{days} days`;\n                    })()}\n                  </div>\n                </div>\n              </div>\n              \n              {selectedDeal.DealSource && (\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Source</label>\n                  <div style={{ fontSize: ''16px'', color: ''#111827'' }}>\n                    {selectedDeal.DealSource}\n                  </div>\n                </div>\n              )}\n              \n              {selectedDeal.NextStep && (\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Next Step</label>\n                  <div style={{ fontSize: ''16px'', color: ''#111827'' }}>\n                    {selectedDeal.NextStep}\n                  </div>\n                </div>\n              )}\n              \n              <div>\n                <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Expected Revenue</label>\n                <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#2563EB'' }}>\n                  {formatCurrency((selectedDeal.Amount || 0) * (selectedDeal.Probability || 0) / 100)}\n                </div>\n              </div>\n            </div>\n            \n            <div style={{ \n              marginTop: ''20px'', \n              paddingTop: ''20px'', \n              borderTop: ''1px solid #E5E7EB'',\n              display: ''flex'',\n              justifyContent: ''flex-end''\n            }}>\n              <button\n                onClick={() => {\n                  if (callbacks.OpenEntityRecord) {\n                    callbacks.OpenEntityRecord(''Deals'', [\n                      { FieldName: ''ID'', Value: selectedDeal.ID }\n                    ]);\n                    setSelectedDeal(null);\n                  } else {\n                    console.warn(''OpenEntityRecord callback not available'');\n                  }\n                }}\n                style={{\n                  padding: ''8px 12px'',\n                  backgroundColor: ''#3B82F6'',\n                  color: ''white'',\n                  border: ''none'',\n                  borderRadius: ''6px'',\n                  cursor: ''pointer'',\n                  fontSize: ''20px'',\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  justifyContent: ''center'',\n                  width: ''40px'',\n                  height: ''40px''\n                }}\n                title=\"Open record\"\n              >\n                ↗\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","dependencies":[{"name":"DataGrid","location":"registry","namespace":"Generic/UI/Table","version":"^1.0.0"}]}'
SET
  @FunctionalRequirements_f25189c7 = N'## Recent Deals Display

### Core Features
- Display 10-20 most recent deals
- Show key deal information: name, account, amount, stage
- Color-code rows by stage for quick visual scanning
- Format currency values appropriately
- Show days until close date

### Interactivity
- Clickable rows to view deal details
- Hover effects for better UX
- Optional refresh button to reload data

### Visual Design
- Clean table layout with good spacing
- Stage badges with semantic colors
- Highlight deals closing soon
- Show probability as progress bar'
SET
  @TechnicalDesign_f25189c7 = N'## Implementation

### Data Loading
- Use RunView to load recent deals
- Sort by CreatedDate DESC or CloseDate ASC
- Limit to configurable number of rows (default 15)

### Stage Styling
- Prospecting: Gray
- Qualification: Blue
- Proposal: Yellow
- Negotiation: Orange
- Closed Won: Green
- Closed Lost: Red

### Calculations
- Days to close: CloseDate - today
- Expected revenue: Amount * Probability / 100
- Format amounts with currency symbol'
SET
  @FunctionalRequirementsVector_f25189c7 = N'[-0.01128386426717043,0.03425973281264305,-0.013811659067869186,-0.031319089233875275,0.004891288932412863,-0.01255069300532341,0.020753495395183563,0.04472017288208008,-0.07372038811445236,0.0070227086544036865,-0.034387826919555664,0.02860596776008606,0.03189477697014809,0.2064741849899292,-0.007372396066784859,-0.010940596461296082,0.029525747522711754,-0.003966693300753832,0.01981602981686592,-0.001298996852710843,0.02043781243264675,-0.026231149211525917,-0.02587776444852352,-0.015025388449430466,-0.04469430819153786,0.011112885549664497,-0.030980385839939117,-0.013233407400548458,-0.006732503417879343,-0.08463425934314728,0.01678646169602871,0.026081301271915436,-0.043168410658836365,-0.030010215938091278,0.0000023940749542816775,-0.04144462198019028,-0.03809506073594093,-0.01008099876344204,-0.058806560933589935,0.05533449724316597,-0.018188659101724625,-0.04090861231088638,0.040432386100292206,-0.009110038168728352,-0.04949270933866501,-0.08294865489006042,-0.03545388579368591,0.13533924520015717,-0.028496451675891876,-0.02307070605456829,0.000598143960814923,0.00015824816364329308,-0.01049086544662714,-0.032398395240306854,0.06073710322380066,-0.05276186391711235,0.032051537185907364,-0.05190405622124672,0.016824327409267426,-0.053229592740535736,-0.01114843599498272,0.002393463859334588,0.017937103286385536,-0.05920228362083435,0.04691328853368759,0.07614665478467941,0.04626335948705673,-0.02867700532078743,-0.035823363810777664,-0.0057340762577950954,0.07269134372472763,0.006172824651002884,-0.014173544943332672,-0.020715821534395218,-0.048860564827919006,-0.05159773677587509,-0.0527605339884758,0.05798852816224098,0.033527202904224396,-0.0002698773459997028,-0.048203740268945694,0.04791191220283508,-0.021289285272359848,0.032921187579631805,0.024994779378175735,-0.011314128525555134,-0.02110295183956623,0.002791306469589472,-0.022015992552042007,0.004332611802965403,0.03980902582406998,-0.04447554424405098,-0.0052322642877697945,-0.02478971891105175,-0.03558439761400223,-0.04970400035381317,0.05269128456711769,0.08329401910305023,0.01119859330356121,-0.007826153188943863,-0.03584206476807594,0.022252030670642853,-0.006687605753540993,0.012690394185483456,0.029706504195928574,-0.016235152259469032,-0.0013182868715375662,-0.06489419937133789,-0.007929999381303787,0.07758152484893799,0.03790111467242241,0.03895010054111481,-0.006678019650280476,0.06132004037499428,-0.018745286390185356,-0.02121581882238388,-0.019207054749131203,-0.0013228534953668714,0.022215642035007477,0.04947987571358681,0.10190197080373764,0.02010517567396164,0.008873826824128628,0.02154015377163887,-0.020444579422473907,-0.0015353511553257704,-0.043190907686948776,0.0017316145822405815,0.03320755809545517,-0.011151407845318317,-0.03804619237780571,0.003265616251155734,0.007152313832193613,-0.056847698986530304,0.007923435419797897,0.011740967631340027,-0.004682458937168121,0.0065107932314276695,-0.02949517033994198,-0.012993804179131985,-0.029575971886515617,0.020946253091096878,-0.08641579747200012,0.0051359073258936405,-0.04263292998075485,-0.010482490062713623,0.008133670315146446,0.044218745082616806,-0.008622563444077969,0.0022311676293611526,-0.008507019840180874,-0.009498856030404568,-0.00730262091383338,0.023494811728596687,-0.02229595184326172,-0.008107637986540794,-0.017410600557923317,-0.026097094640135765,0.020844772458076477,0.08069592714309692,0.009245751425623894,0.018015040084719658,-0.011585173197090626,-0.0014400816289708018,-0.05831090733408928,0.01690424606204033,0.03860136494040489,-0.007878134027123451,-0.02542887255549431,-0.04046555608510971,0.004533789586275816,-0.045327216386795044,-0.028608324006199837,0.03979050740599632,0.07800877094268799,-0.02489004097878933,0.036507025361061096,0.04323895275592804,-0.04987349361181259,0.015427350997924805,0.038944777101278305,-0.10885854065418243,-0.00764327822253108,0.025349726900458336,0.04820325970649719,-0.003570159198716283,-0.025854943320155144,0.013369564898312092,-0.006386869121342897,0.0022441712208092213,-0.005064765457063913,-0.02077670395374298,-0.016573265194892883,0.05877517908811569,-0.026703935116529465,-0.020758982747793198,-0.004850031342357397,-0.04696038365364075,0.024687103927135468,0.025767775252461433,-0.021830322220921516,-0.05106139928102493,0.04615575447678566,0.04624887555837631,0.0043965973891317844,0.03469054773449898,0.01719174161553383,-0.022022774443030357,-0.035551972687244415,0.008075672201812267,0.08841563016176224,-0.00854748860001564,-0.027144867926836014,0.019568707793951035,-0.022463465109467506,0.02929013967514038,0.0161057710647583,-0.003402956062927842,-0.011495416983962059,0.005630648694932461,-0.04459153488278389,0.07600371539592743,0.0777164027094841,-0.0069474466145038605,0.13161560893058777,0.03072713501751423,0.021061601117253304,-0.008212006650865078,0.033828675746917725,-0.0020615113899111748,0.03201958164572716,-0.009568559005856514,0.03034975938498974,0.00015228793199639767,0.039056044071912766,0.03593011945486069,0.024512553587555885,0.06780164688825607,0.008029049262404442,0.0517156720161438,0.015194697305560112,-0.009959764778614044,-0.02915722131729126,0.008032017387449741,0.013417603448033333,-0.02236587181687355,-0.04412279278039932,-0.008132086135447025,-0.024081749841570854,-0.020657338201999664,-0.024244895204901695,0.0383647195994854,0.09522131085395813,0.003828509943559766,0.0060561662539839745,0.006302574183791876,-0.10992550104856491,0.004921705462038517,-0.046376295387744904,0.09898850321769714,0.0018870980711653829,-0.04283469170331955,-0.01774376817047596,0.004731783177703619,0.04390016570687294,-0.020420920103788376,0.07071688771247864,-0.03766649588942528,-0.017348024994134903,0.0050736539997160435,-0.03338773176074028,0.04420418292284012,0.049794506281614304,-0.03684088587760925,-0.026096221059560776,0.021771905943751335,-0.022784603759646416,0.006370697636157274,-0.030843885615468025,0.01702750287950039,0.029635179787874222,-0.014625504612922668,-0.06424606591463089,0.03440440073609352,0.02290003001689911,-0.015032391063869,0.022552046924829483,-0.04073565825819969,-0.00006609605043195188,-0.052935872226953506,0.045920029282569885,-0.036545395851135254,0.04549292474985123,-0.02018018066883087,-0.029778718948364258,-0.004896074533462524,-0.058278124779462814,0.0202184971421957,-0.01327549945563078,0.02595360204577446,-0.030989021062850952,-0.0013555350014939904,-0.03161236643791199,-0.008125491440296173,-0.02689424157142639,0.01926295831799507,-0.005586685612797737,-0.005035922862589359,0.0023695139680057764,0.040400292724370956,0.07231757044792175,0.021018294617533684,0.014085784554481506,-0.022332817316055298,0.027211392298340797,-0.011512561701238155,-0.006298864725977182,0.07484088838100433,-0.0443795807659626,0.06009665131568909,0.010201966390013695,-0.02364599145948887,-0.007546635344624519,0.015186365693807602,-0.0019129789434373379,0.01960546150803566,-0.05675070360302925,-0.017081251367926598,-0.011320680379867554,-0.04202204942703247,0.0034582107327878475,-0.07679489254951477,-0.02635025605559349,-0.0012552241096273065,0.011975941248238087,0.009875134564936161,-0.01621563918888569,0.04219219833612442,0.02884017489850521,-0.0033023024443536997,-0.03868234530091286,-0.002199484733864665,-0.020588474348187447,-0.10002486407756805,-0.02493794448673725,-0.02845137193799019,0.06176691874861717,-0.008417253382503986,-0.04572354257106781,0.011370804160833359,0.0518430657684803,0.014590634033083916,-0.016677837818861008,-0.044024981558322906,0.05010519176721573,0.003024717327207327,-0.04065674915909767,-0.014982098713517189,-0.04187450557947159,-0.03473370522260666,0.01419712696224451,0.045554064214229584,0.0048601566813886166,0.03422929719090462,-0.01984214596450329,0.04800312966108322,0.026624755933880806,-0.01806912198662758,-0.003260705154389143,0.001575426897034049,-0.058910828083753586,0.00012787195737473667,0.042037442326545715,0.02818807028234005,-0.011109696701169014,-0.0024668665137141943,0.031163949519395828,0.03247695788741112,-0.013097123242914677,-0.0024654152803122997,0.028834233060479164,-0.0320705808699131,0.04984278976917267,-0.030131293460726738,0.049880605190992355,0.04751954600214958,-0.059079647064208984,-0.04773761332035065,0.023333530873060226,-0.01282459869980812,-0.031687840819358826,0.032813217490911484,-0.008174508810043335,-0.007054117973893881,0.001430729404091835,-0.06098729744553566,0.011782952584326267,0.07577572762966156,-0.03869997337460518,0.00688736280426383,-0.018006762489676476,0.03574015200138092,0.0544513463973999,0.009023740887641907,0.020382367074489594,-0.05793856084346771,0.01887649856507778,0.023100119084119797,-0.007135332096368074,-0.009004238061606884,-0.084872305393219,-0.007143833674490452,0.015249195508658886,-0.01645292341709137,0.022657161578536034,0.00676172599196434,-0.007963177748024464,-0.013688147999346256,-0.0016810860252007842,0.04594466835260391,-0.0063684117048978806,0.022420460358262062,-0.04911123961210251,-0.0015244028763845563,-0.026873882859945297,0.011394795961678028,0.00015734480984974653,-0.07241833209991455,0.008807779289782047,0.010437780991196632,-0.007253975607454777,0.019046202301979065,-0.00837851781398058,0.008480135351419449,-0.017321188002824783,-0.009390455670654774,0.030787916854023933,0.029328005388379097,-0.012119312770664692,-0.01525733433663845,-0.013963572680950165,-0.008746692910790443,-0.005804730579257011,0.006111922208219767,0.04322353005409241,-0.037819698452949524,0.021544422954320908,0.013272375799715519,-0.038002241402864456,-0.03300260752439499,-0.017490314319729805,-0.04845205694437027,0.040929775685071945,-0.0006921172607690096,-0.02452828176319599,-0.012668255716562271,-0.03411496803164482,-0.03354152664542198,0.048064373433589935,-0.06221675127744675,-0.031853679567575455,0.02844761684536934,-0.052079495042562485,0.022693932056427002,0.0409240759909153,-0.11594624817371368,-0.019857659935951233,-0.0845588892698288,-0.021951520815491676,-0.01750141568481922,0.017852971330285072,0.014222798869013786,-0.02600046433508396,-0.00552406208589673,0.02667185477912426,-0.021011535078287125,-0.0021922725718468428,-0.009268313646316528,0.05571257323026657,0.01631763204932213,0.009275699965655804,0.046600040048360825,0.005135523620992899,-0.10460842400789261,0.021933462470769882,0.025197790935635567,-0.008361711166799068,0.015049435198307037,0.02476772665977478,-0.008689106442034245,0.02951209619641304,0.02171248570084572,-0.0025044146459549665,0.08495044708251953,0.02448100782930851,0.054808709770441055,-0.03096010722219944,-0.006612451747059822,-0.060065969824790955,-0.03160673379898071,0.002852470614016056,0.02675895020365715,-0.0016392070101574063,-0.01503217313438654,0.015897301957011223,-0.03329774737358093,-0.01026194915175438,-0.005276944953948259,-0.035192351788282394,-0.0775536373257637,0.046493176370859146,-0.023809371516108513,-0.03240986913442612,-0.05547836050391197,0.07535496354103088,0.028762446716427803,-0.020831674337387085,-0.01638495922088623,0.0061949375085532665,-0.009179603308439255,0.014335325919091702,-0.003155300859361887,0.010838804766535759,0.01297285407781601,0.03600996360182762,-0.044546473771333694,0.030683495104312897,-0.055476635694503784,0.03350939229130745,0.067450150847435,-0.013864160515367985,-0.05728868395090103,-0.001978693064302206,0.008407370187342167,-0.010734165087342262,0.061662811785936356,0.02329069934785366,0.01453837938606739,-0.017530236393213272,-0.04581207036972046,0.0029695420525968075,0.020464427769184113,0.05780560523271561,-0.028279194608330727,0.009663507342338562,0.03063994273543358,-0.00024427109747193754,-0.022344090044498444,-0.0005205631023272872,0.028478847816586494,0.01965096779167652,0.012629919685423374,0.04820209741592407,-0.01512489840388298,-0.0493759848177433,-7.073064119596909e-33,0.004868812393397093,0.022539274767041206,-0.01921791397035122,0.011124800890684128,-0.002600985812023282,-0.018300246447324753,-0.0160070788115263,-0.041982609778642654,-0.021161280572414398,0.006992439739406109,-0.03714536502957344,-0.0005063900025561452,0.025377826765179634,-0.01020182203501463,0.044671181589365005,-0.06873100996017456,0.048846617341041565,-0.011057927273213863,0.0368754044175148,0.018333446234464645,-0.08263148367404938,0.026984931901097298,0.012375965714454651,0.04629362002015114,0.0018955495906993747,0.0037534674629569054,-0.051575638353824615,0.023907139897346497,0.06267356127500534,0.034567512571811676,-0.03641136363148689,-0.016067594289779663,-0.011557184159755707,-0.03410445898771286,-0.007161707617342472,-0.03121243417263031,-0.03878655657172203,-0.006990406662225723,0.011941851116716862,-0.0049849567003548145,0.014603703282773495,0.018920278176665306,0.03935152292251587,-0.003378554480150342,-0.05243963375687599,0.01967223547399044,0.015372732654213905,-0.047699205577373505,-0.01891849748790264,-0.011951114051043987,0.038683872669935226,-0.0018349481979385018,-0.01267961971461773,0.0711875632405281,0.031343307346105576,0.03949616476893425,0.048024486750364304,-0.04443025216460228,-0.06536869704723358,0.03383843973278999,-0.05449756979942322,-0.013360121287405491,0.008169819600880146,-0.05130523443222046,0.010432173497974873,0.005857647396624088,-0.053313881158828735,-0.004859479609876871,0.029172714799642563,0.029230181127786636,-0.030266284942626953,0.05326688662171364,-0.031002353876829147,-0.004241614136844873,-0.04165847972035408,0.017031505703926086,-0.016217438504099846,0.01556401140987873,0.020213555544614792,0.09009241312742233,-0.011982284486293793,0.007833024486899376,-0.010691717267036438,0.04093671217560768,0.035771287977695465,0.03161824867129326,0.001063662813976407,-0.04425254836678505,0.02358597330749035,0.014222834259271622,0.00774746760725975,0.02544308453798294,-0.06568220257759094,0.0024743275716900826,-0.08397660404443741,0.019849494099617004,0.05619117245078087,0.05992109328508377,0.024879733100533485,-0.0636485368013382,0.045033153146505356,0.026814866811037064,-0.015160256065428257,-0.05590766295790672,-0.000815900566522032,0.00023897372011560947,-0.005372378509491682,0.01381692010909319,-0.043687932193279266,-0.0006777564994990826,0.030067216604948044,0.01518200058490038,0.002339217346161604,-0.05527651682496071,-0.012267185375094414,-0.010255100205540657,-0.011707610450685024,0.0064125144854187965,0.04257981851696968,0.022841691970825195,0.018071886152029037,-0.009947949089109898,0.029810013249516487,0.02206328511238098,0.04522136226296425,-0.012010241858661175,-0.009017601609230042,0.004163870122283697,0.030333615839481354,-0.0033872416242957115,-0.000021666575776180252,0.010316452942788601,3.1799086741557403e-7,0.018393099308013916,0.02988417260348797,-0.029757099226117134,0.05080064758658409,-0.03419426456093788,0.009836884215474129,-0.04481325298547745,-0.004225903656333685,-0.010638159699738026,-0.02923453226685524,0.01868765614926815,0.019962675869464874,0.009549799375236034,0.057072319090366364,-0.019607722759246826,-0.07496830821037292,-0.0025278714019805193,-0.04428264871239662,-0.05446642264723778,0.0015140884788706899,0.03233548253774643,0.032555073499679565,0.06734821945428848,-0.0002706035156734288,0.029222678393125534,-0.002348644193261862,-0.02854100428521633,-0.07481642812490463,-0.042912986129522324,-0.011476153507828712,0.034406814724206924,-0.039304714649915695,-0.02286062389612198,-0.05808649957180023,0.015576735138893127,-0.026742417365312576,-0.020571237429976463,-0.018314309418201447,0.0621185377240181,0.04177749529480934,-0.019639775156974792,-0.08001840114593506,0.014459758065640926,-0.07792539149522781,0.027712786570191383,-0.011113251559436321,0.011494474485516548,-0.028389260172843933,0.008332240395247936,0.006981055252254009,0.04991983249783516,0.017868535593152046,-0.004180457908660173,-0.01158059947192669,0.03120419755578041,0.0073408093303442,-0.006680328864604235,0.04418710246682167,0.01546044833958149,0.05190328136086464,-0.028492314741015434,0.001996701117604971,0.0021679934579879045,-0.0015889526112005115,-0.0017466768622398376,0.031871549785137177,-0.012682328931987286,3.0977896758603305e-34,0.013293028809130192,-0.00715595530346036,0.04047681391239166,0.030038297176361084,-0.00843310821801424,-0.04165027290582657,0.05493658035993576,-0.03632271662354469,0.013753031380474567,-0.05024855211377144,-0.034960221499204636]'
SET
  @TechnicalDesignVector_f25189c7 = N'[-0.005017781630158424,0.040592584758996964,-0.0316544733941555,-0.03339361026883125,-0.004041107837110758,-0.060061901807785034,0.036366842687129974,0.008742042817175388,-0.04692978784441948,0.002154816873371601,-0.03669653832912445,-0.0001242258003912866,0.040982235223054886,0.17454469203948975,-0.03967546671628952,-0.06280189752578735,-0.016578365117311478,-0.010774659924209118,0.04578658193349838,0.005159992724657059,0.00943556148558855,-0.015106248669326305,-0.0005109939957037568,-0.008769470266997814,0.025887858122587204,-0.010578595101833344,-0.0840531662106514,0.039120517671108246,-0.004535952117294073,-0.10516926646232605,-0.020592564716935158,0.052097681909799576,-0.05569104105234146,-0.02177269011735916,0.0000019235010313423118,-0.0628272071480751,-0.06740102171897888,0.0016991677694022655,0.0006541454931721091,0.08343394100666046,0.11251311004161835,-0.045924391597509384,0.011801369488239288,0.01327082421630621,-0.026045529171824455,-0.06018579378724098,-0.07643619924783707,0.07732119411230087,0.010972714982926846,0.03166992962360382,0.013069739565253258,0.016236567869782448,0.054101862013339996,-0.0207844041287899,-0.009159828536212444,-0.11080768704414368,0.013203076086938381,0.006678071338683367,0.04265201464295387,-0.044606901705265045,-0.016272783279418945,-0.025184953585267067,0.004268666263669729,-0.07912140339612961,-0.02360568754374981,0.020523622632026672,0.009628922678530216,-0.0025492487475275993,-0.025402886793017387,0.0007273944211192429,0.08671959489583969,-0.007500776089727879,-0.022716164588928223,-0.037481244653463364,-0.0084415003657341,-0.09009528160095215,-0.028300244361162186,0.035455163568258286,0.015221676789224148,0.025179803371429443,-0.008225061930716038,0.06943003088235855,-0.07410929352045059,0.06572998315095901,0.03726194053888321,-0.05395810306072235,-0.02259375900030136,-0.04705684259533882,0.015053128823637962,-0.007759204600006342,0.003936021588742733,-0.010953189805150032,-0.015654347836971283,-0.01240429189056158,-0.060025379061698914,-0.019885461777448654,0.0400082990527153,0.009635678492486477,0.002584874862805009,-0.03327824920415878,-0.01412700954824686,0.047456130385398865,0.05172926187515259,0.05280761420726776,0.019591759890317917,0.012393435463309288,-0.016374820843338966,-0.03514241799712181,-0.018817691132426262,0.03939949348568916,0.03651464730501175,0.022771405056118965,-0.01855809986591339,-0.002743800636380911,-0.05833495780825615,0.005904311314225197,-0.026439083740115166,-0.013066043145954609,-0.04439176619052887,0.006711933761835098,0.12845927476882935,0.004264527000486851,0.004341484513133764,0.02132830210030079,-0.022046223282814026,-0.02333887666463852,-0.017292054370045662,0.0028380542062222958,-0.0026687271893024445,-0.02501467615365982,-0.04265996068716049,0.00004409210669109598,0.005588627886027098,-0.037173524498939514,-0.02477305196225643,0.004173174034804106,0.009859043173491955,0.057643454521894455,-0.04989779368042946,-0.03694767877459526,0.012384072877466679,-0.015601783990859985,-0.048672907054424286,0.00829844456166029,-0.03189967945218086,-0.04865972325205803,-0.02408253774046898,0.044818051159381866,0.021237891167402267,-0.018865786492824554,-0.034045297652482986,0.0034342235885560513,-0.014012964442372322,0.018948985263705254,-0.05590970069169998,0.0154416523873806,-0.019041992723941803,0.01458587683737278,-0.005220131948590279,0.07736026495695114,-0.012331303209066391,0.006553683429956436,0.027054132893681526,-0.0037680622190237045,-0.03938468545675278,0.02230807952582836,-0.08671670407056808,0.01867690496146679,0.025618528947234154,-0.005157782230526209,0.0122336745262146,-0.060612939298152924,-0.03273709490895271,0.06496930867433548,0.02594994194805622,-0.031551461666822433,0.059430357068777084,-0.009609743021428585,-0.04206296056509018,-0.021295838057994843,0.03957831487059593,-0.14986199140548706,-0.00819548312574625,-0.015128049068152905,0.03063448704779148,-0.01510221604257822,-0.06580566614866257,-0.009240185841917992,0.02145051769912243,0.01175747625529766,0.002446595346555114,0.023882785812020302,-0.019529616460204124,0.024107057601213455,-0.01717083901166916,-0.006557642947882414,-0.009511427953839302,-0.0654633566737175,0.05529802292585373,0.03910541534423828,-0.02948339469730854,-0.01791384257376194,0.023955844342708588,0.021277982741594315,0.005968200042843819,-0.007696276064962149,-0.006906173657625914,-0.001481714309193194,-0.04577465355396271,0.03532152622938156,0.046389784663915634,0.0008241823525168002,-0.06829840689897537,-0.0038862533401697874,-0.03131198510527611,0.06882230937480927,-0.009448263794183731,0.02814718708395958,-0.014585839584469795,-0.041020750999450684,-0.02943151630461216,0.036462124437093735,0.03577696904540062,-0.006089665926992893,0.0881861224770546,0.011895868927240372,0.010875929147005081,-0.03486311435699463,0.053797803819179535,-0.003365660086274147,-0.016045469790697098,-0.018744442611932755,0.04309427738189697,0.04846855252981186,0.057655930519104004,0.05365872383117676,0.0149783780798316,0.024865977466106415,-0.021312309429049492,0.05206624045968056,-0.026754211634397507,-0.06965815275907516,-0.039546411484479904,0.01539735309779644,0.0291778314858675,0.03556734696030617,-0.03449427708983421,-0.02694735862314701,-0.00797600019723177,-0.021138496696949005,-0.008925599977374077,0.008955690078437328,0.09025200456380844,-0.013413166627287865,-0.018639802932739258,0.051999498158693314,-0.10152502357959747,-0.005130985286086798,-0.056255582720041275,0.08646583557128906,-0.014876415953040123,-0.0033924856688827276,-0.0029086703434586525,-0.006214555352926254,0.06741505861282349,-0.03711852803826332,0.02808677777647972,-0.03897334262728691,-0.008186851628124714,0.018122002482414246,-0.037312112748622894,0.06149916350841522,-0.006684774998575449,-0.03326442092657089,-0.010996670462191105,0.06292477995157242,-0.013233724050223827,-0.0010269703343510628,-0.022414430975914,-0.0037068712990731,0.006966877728700638,-0.01291879266500473,0.006010290700942278,0.028346577659249306,-0.0216958150267601,0.007331931497901678,0.052258413285017014,-0.00809999369084835,-0.05321705713868141,-0.01873627118766308,0.030414516106247902,-0.013321474194526672,0.022440105676651,-0.015029862523078918,-0.0416504368185997,-0.03981335833668709,-0.056032758206129074,0.0255062784999609,-0.0060587660409510136,0.022566750645637512,-0.012912096455693245,-0.004605719819664955,-0.026563426479697227,0.010233979672193527,0.006322626024484634,0.06034417822957039,-0.007023574784398079,0.004626712761819363,-0.03898363560438156,0.0940520167350769,0.031072018668055534,0.005055002868175507,0.010034175589680672,-0.008353392593562603,0.031556449830532074,-0.029369927942752838,0.015117610804736614,0.06068326160311699,0.006075351033359766,0.13028423488140106,-0.007626425940543413,-0.04279760271310806,0.012614605948328972,0.009898549877107143,-0.04782094806432724,0.0021614350844174623,-0.0189101230353117,-0.01628434658050537,0.008394286967813969,-0.01786711812019348,0.017949331551790237,-0.03348361328244209,-0.009822705760598183,-0.02453155256807804,0.02466079220175743,-0.010454180650413036,-0.011292783543467522,0.021889183670282364,0.0090324142947793,-0.02215679921209812,-0.005143577232956886,0.008859383873641491,-0.012531896121799946,-0.03422647714614868,-0.009083721786737442,-0.020599626004695892,0.014585619792342186,0.048579949885606766,-0.09353536367416382,0.057059451937675476,-0.003908799961209297,0.005172778386622667,-0.004262350499629974,-0.022993287071585655,0.03137047961354256,0.0030589874368160963,0.011449615471065044,-0.009021533653140068,-0.01863635703921318,-0.038776945322752,0.0504818819463253,0.009980474598705769,-0.02882656641304493,0.09166114032268524,-0.02049652300775051,0.05089772492647171,0.006075767800211906,-0.014554672874510288,0.026822887361049652,-0.006426481995731592,-0.023698823526501656,-0.003991216886788607,0.031161151826381683,0.03108581341803074,-0.018962237983942032,-0.021551012992858887,0.009157856926321983,0.0014110504416748881,0.0012522729812189937,-0.005626495461910963,0.04973006621003151,-0.013039210811257362,0.08938241004943848,-0.006875277496874332,0.0633251890540123,0.013212869875133038,-0.024818312376737595,-0.04261016100645065,-0.0568259134888649,-0.002441211836412549,0.003772495314478874,0.03426465019583702,0.028727978467941284,-0.004871706012636423,-0.043034669011831284,-0.05060297250747681,0.005282477010041475,0.08385375887155533,0.01860610954463482,-0.007424868643283844,-0.015306086279451847,0.04694943130016327,0.06313752382993698,0.015772206708788872,0.0470811203122139,-0.04465630277991295,-0.00498887849971652,0.03602154180407524,0.009560700505971909,0.02313663251698017,-0.021322285756468773,0.0004435373703017831,-0.017367850989103317,-0.003010521410033107,0.028425639495253563,0.045634880661964417,-0.0043099732138216496,-0.02059302292764187,0.013378074392676353,0.02466948702931404,-0.011701871640980244,0.007059935480356216,0.007279076613485813,0.03659932687878609,-0.005304648075252771,0.003650560975074768,0.012064146809279919,-0.059984106570482254,-0.0168650820851326,0.017607344314455986,0.01873902790248394,0.01900145411491394,-0.03234473988413811,0.02649887092411518,-0.0586426667869091,0.023890206590294838,-0.03315587714314461,-0.008306271396577358,0.04833836108446121,0.009939005598425865,-0.037287380546331406,0.018914775922894478,0.06902516633272171,-0.006874385289847851,0.02353338524699211,0.023731950670480728,-0.013083402067422867,0.03485158085823059,-0.0035138705279678106,-0.009969407692551613,-0.023961341008543968,-0.02272111363708973,-0.030245942994952202,-0.026066642254590988,-0.06121886521577835,-0.04579449072480202,-0.004060651175677776,-0.04142952710390091,-0.016048263758420944,-0.009956508874893188,-0.01404179073870182,0.03446140140295029,-0.04658781737089157,-0.033610060811042786,0.0600508376955986,-0.058635495603084564,-0.06255834549665451,0.006984165403991938,-0.008995535783469677,-0.02716006338596344,0.07653499394655228,0.013289145193994045,-0.022023672237992287,-0.0018553829286247492,0.07675429433584213,0.028896614909172058,0.02303590252995491,0.0022074158769100904,0.011356417089700699,0.017291540279984474,0.026374174281954765,0.0782465860247612,0.024918165057897568,-0.13221518695354462,0.015810173004865646,0.028101691976189613,-0.05196315795183182,-0.02910885028541088,-0.010826637968420982,-0.009352682158350945,0.044379543513059616,0.007004324812442064,0.01980246976017952,0.03945625573396683,0.034220751374959946,0.04437616840004921,0.01176136452704668,-0.010079103522002697,0.03431876748800278,0.02290416695177555,-0.022789722308516502,0.0027133100666105747,-0.0007179714739322662,0.014840381219983101,-0.02867489494383335,0.03164902701973915,-0.0104182418435812,0.03702574968338013,-0.0371592678129673,-0.022558199241757393,0.03841579705476761,-0.034027907997369766,-0.007488974370062351,-0.030820472165942192,0.034677039831876755,0.07299064844846725,-0.029544441029429436,-0.014115995727479458,-0.01366796437650919,0.0133973965421319,-0.0018873302033171058,-0.004799144808202982,0.029219521209597588,-0.00803429912775755,0.061549630016088486,-0.03716101497411728,0.017229322344064713,-0.033595550805330276,0.015610910020768642,0.040739238262176514,0.002545304363593459,-0.001717813196592033,0.012292233295738697,0.013438536785542965,-0.0046587069518864155,0.00714610842987895,-0.007908723317086697,-0.02020902931690216,-0.0032691047526896,-0.0012787255691364408,-0.008003385737538338,0.045839548110961914,0.050880443304777145,-0.027877232059836388,0.005831827875226736,0.022898703813552856,-0.03918546438217163,-0.0314454585313797,-0.030419254675507545,0.057279400527477264,-0.021609006449580193,0.006116956938058138,0.02300783060491085,-0.033422328531742096,-0.043388623744249344,-6.152931222811378e-33,-0.01968424767255783,0.019066864624619484,-0.026103554293513298,-0.008293727412819862,-0.007256269454956055,-0.004960039630532265,-0.010494288988411427,-0.05625429376959801,0.00406346982344985,-0.008479304611682892,-0.02381751872599125,-0.04662792384624481,0.016177251935005188,-0.009938809089362621,0.04152916744351387,-0.014976085163652897,-0.01326577365398407,0.0177657101303339,0.011821340769529343,-0.027294108644127846,-0.05004202947020531,0.045861419290304184,-0.012704507447779179,0.044651973992586136,-0.010513263754546642,0.030750134959816933,-0.038528766483068466,0.029677128419280052,0.017691489309072495,0.010781249962747097,0.008997718803584576,-0.05273732542991638,-0.026362935081124306,0.004248715937137604,-0.008673339150846004,-0.0727662742137909,-0.016668343916535378,-0.0014501026598736644,-0.021558132022619247,-0.016479676589369774,0.026427945122122765,0.035873908549547195,0.022793946787714958,-0.007905474863946438,-0.027382371947169304,-0.0023206197656691074,0.01513905543833971,-0.010232577100396156,-0.02232685498893261,0.03949381038546562,0.011203386820852757,0.012449546717107296,0.02061564102768898,0.06929706782102585,0.023524217307567596,-0.01321933139115572,0.043042927980422974,-0.009674042463302612,-0.04564827308058739,0.017580663785338402,-0.03762667626142502,-0.019306888803839684,0.02886245958507061,0.0013946985127404332,0.045334476977586746,-0.020271727815270424,0.014805424958467484,0.06561114639043808,0.0014981059357523918,-0.06913936883211136,-0.010666613467037678,-0.042718008160591125,-0.02727726846933365,-0.042422935366630554,-0.014034687541425228,0.03674709051847458,0.009381460957229137,-0.01589774154126644,0.04672694206237793,0.07280776649713516,-0.029860882088541985,0.012648917734622955,0.0027021770365536213,0.03715534135699272,0.019188130274415016,-0.037563472986221313,0.012018643319606781,-0.016531260684132576,0.011989663355052471,0.005894502624869347,-0.009680541232228279,0.012541357427835464,-0.052214592695236206,0.020201556384563446,-0.04032571241259575,-0.034526072442531586,0.05553769692778587,0.0794467180967331,-0.022651085630059242,-0.018872035667300224,0.014608597382903099,0.0194065161049366,-0.009062631987035275,-0.05007103458046913,0.004989948123693466,0.01873144507408142,0.012319493107497692,0.0055587138049304485,-0.01792771741747856,0.012611884623765945,0.017397642135620117,0.009451608173549175,0.0006517909350804985,0.023615896701812744,-0.02129031904041767,-0.001570098684169352,-0.0022690268233418465,-0.05918765068054199,0.031035160645842552,0.04163699969649315,0.024410521611571312,-0.0017124406294897199,0.03376683220267296,0.0058242203667759895,0.025062385946512222,-0.01978975348174572,-0.008272692561149597,-0.05772174522280693,-0.02258514240384102,0.022560657933354378,0.006055170204490423,0.029334785416722298,2.928462663476239e-7,0.053818557411432266,0.029830168932676315,-0.05533796176314354,0.08575646579265594,-0.048187799751758575,-0.023568788543343544,-0.03555712103843689,0.005165466573089361,-0.013834457844495773,-0.024296527728438377,0.037457965314388275,0.006674247328191996,0.02409914694726467,0.032786283642053604,-0.0222393237054348,-0.07422894984483719,0.0053435820154845715,-0.039108455181121826,-0.04626481607556343,-0.020009586587548256,-0.0008601602748967707,0.041369423270225525,0.087457574903965,0.01503643300384283,0.023165885359048843,-0.012429662980139256,-0.002362738363444805,-0.07038293778896332,0.005015292204916477,0.006322827655822039,0.03300844505429268,-0.06585180014371872,-0.05788717791438103,-0.011793578043580055,-0.0032376565504819155,0.017121151089668274,-0.02456943318247795,0.00798339955508709,0.05236946418881416,0.08321603387594223,0.01509220339357853,-0.06048794835805893,-0.0110291987657547,-0.05000941827893257,-0.003722849301993847,0.011903246864676476,-0.0033143539912998676,-0.045016106218099594,0.006142025347799063,0.01646203175187111,0.03173132613301277,0.007788202725350857,0.03444638475775719,-0.030973581597208977,0.014224478974938393,-0.006731415167450905,0.01588684692978859,0.03424890711903572,0.003128970740363002,0.020356591790914536,-0.02504066377878189,-0.009852038696408272,0.0472957119345665,0.04002445563673973,0.06530940532684326,-0.06536228954792023,0.029626164585351944,3.465803437146691e-34,0.05332436040043831,-0.022409481927752495,0.028246650472283363,0.030240952968597412,0.028359413146972656,-0.011296551674604416,0.04434769228100777,-0.030136268585920334,0.005182609893381596,-0.07698468118906021,-0.015136322937905788]'
SET
  @HasCustomProps_f25189c7 = 0
SET
  @HasCustomEvents_f25189c7 = 0
SET
  @RequiresData_f25189c7 = 1
SET
  @DependencyCount_f25189c7 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_f25189c7 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_f25189c7 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_f25189c7 = 0
SET
  @ID_f25189c7 = '24F6BC4C-E8C1-4757-8C95-3CC65FF9B0B7'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_f25189c7,
  @Name = @Name_f25189c7,
  @Version = @Version_f25189c7,
  @VersionSequence = @VersionSequence_f25189c7,
  @Title = @Title_f25189c7,
  @Description = @Description_f25189c7,
  @Type = @Type_f25189c7,
  @Status = @Status_f25189c7,
  @DeveloperName = @DeveloperName_f25189c7,
  @DeveloperEmail = @DeveloperEmail_f25189c7,
  @DeveloperOrganization = @DeveloperOrganization_f25189c7,
  @SourceRegistryID = @SourceRegistryID_f25189c7,
  @ReplicatedAt = @ReplicatedAt_f25189c7,
  @LastSyncedAt = @LastSyncedAt_f25189c7,
  @Specification = @Specification_f25189c7,
  @FunctionalRequirements = @FunctionalRequirements_f25189c7,
  @TechnicalDesign = @TechnicalDesign_f25189c7,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_f25189c7,
  @TechnicalDesignVector = @TechnicalDesignVector_f25189c7,
  @HasCustomProps = @HasCustomProps_f25189c7,
  @HasCustomEvents = @HasCustomEvents_f25189c7,
  @RequiresData = @RequiresData_f25189c7,
  @DependencyCount = @DependencyCount_f25189c7,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_f25189c7,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_f25189c7,
  @HasRequiredCustomProps = @HasRequiredCustomProps_f25189c7,
  @ID = @ID_f25189c7;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_11ff5813 NVARCHAR(MAX),
@Name_11ff5813 NVARCHAR(500),
@Version_11ff5813 NVARCHAR(50),
@VersionSequence_11ff5813 INT,
@Title_11ff5813 NVARCHAR(1000),
@Description_11ff5813 NVARCHAR(MAX),
@Type_11ff5813 NVARCHAR(255),
@Status_11ff5813 NVARCHAR(50),
@DeveloperName_11ff5813 NVARCHAR(255),
@DeveloperEmail_11ff5813 NVARCHAR(255),
@DeveloperOrganization_11ff5813 NVARCHAR(255),
@SourceRegistryID_11ff5813 UNIQUEIDENTIFIER,
@ReplicatedAt_11ff5813 DATETIMEOFFSET,
@LastSyncedAt_11ff5813 DATETIMEOFFSET,
@Specification_11ff5813 NVARCHAR(MAX),
@FunctionalRequirements_11ff5813 NVARCHAR(MAX),
@TechnicalDesign_11ff5813 NVARCHAR(MAX),
@FunctionalRequirementsVector_11ff5813 NVARCHAR(MAX),
@TechnicalDesignVector_11ff5813 NVARCHAR(MAX),
@HasCustomProps_11ff5813 BIT,
@HasCustomEvents_11ff5813 BIT,
@RequiresData_11ff5813 BIT,
@DependencyCount_11ff5813 INT,
@TechnicalDesignVectorEmbeddingModelID_11ff5813 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_11ff5813 NVARCHAR(MAX),
@HasRequiredCustomProps_11ff5813 BIT,
@ID_11ff5813 UNIQUEIDENTIFIER
SET
  @Namespace_11ff5813 = N'CRM/Sales'
SET
  @Name_11ff5813 = N'DealsByStageBoard'
SET
  @Version_11ff5813 = N'1.0.0'
SET
  @VersionSequence_11ff5813 = 1
SET
  @Title_11ff5813 = N'Deals by Stage Board'
SET
  @Description_11ff5813 = N'Kanban-style board showing deals grouped by stage with drag-and-drop support'
SET
  @Type_11ff5813 = N'Dashboard'
SET
  @Status_11ff5813 = N'Published'
SET
  @Specification_11ff5813 = N'{"name":"DealsByStageBoard","title":"Deals by Stage Board","description":"Kanban-style board showing deals grouped by stage with drag-and-drop support","type":"component","location":"embedded","namespace":"CRM/Sales","functionalRequirements":"## Kanban Board for Deal Pipeline\n\n### Core Features\n- Display deals grouped by stage in columns\n- Show deal cards with key information\n- Display total value per stage\n- Count of deals per stage\n- Visual indicators for deal priority\n\n### Card Information\n- Deal name\n- Account name\n- Amount formatted as currency\n- Days to close\n- Probability indicator\n\n### Visual Design\n- Column headers with stage colors\n- Card shadows and hover effects\n- Responsive column layout\n- Scrollable columns for many deals","dataRequirements":{"mode":"views","description":"Fetches all deals for kanban board display","entities":[{"name":"Deals","description":"CRM deals grouped by stage in kanban columns","displayFields":["ID","DealName","AccountID","Account","Stage","Amount","Probability","CloseDate","DealSource","NextStep"],"filterFields":["Stage"],"sortFields":["Stage","CloseDate","Amount"],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Groups deals by stage for kanban board visualization"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Data Loading\n- Single RunView call to load all deals\n- Client-side grouping by Stage\n- Calculate totals per stage\n\n### Layout\n- Flexbox for horizontal column layout\n- Fixed height columns with scroll\n- Responsive breakpoints for mobile\n\n### Stage Order\n1. Prospecting\n2. Qualification\n3. Proposal\n4. Negotiation\n5. Closed Won\n6. Closed Lost","properties":[],"exampleUsage":"<DealsByStageBoard\n  showClosedDeals={false}\n  onDealClick={handleDealClick}\n/>","code":"function DealsByStageBoard({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  const [deals, setDeals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showClosedDeals, setShowClosedDeals] = useState(savedUserSettings?.showClosedDeals || false);\n  const [dealsByStage, setDealsByStage] = useState({});\n  const [dateFrom, setDateFrom] = useState(savedUserSettings?.dateFrom || '''');\n  const [dateTo, setDateTo] = useState(savedUserSettings?.dateTo || '''');\n  const [selectedDeal, setSelectedDeal] = useState(null);\n  const saveSettingsTimeoutRef = useRef(null);\n\n  // Define stage order and colors\n  const stages = [\n    { name: ''Prospecting'', color: ''#6B7280'', bgColor: ''#F3F4F6'' },\n    { name: ''Qualification'', color: ''#2563EB'', bgColor: ''#DBEAFE'' },\n    { name: ''Proposal'', color: ''#D97706'', bgColor: ''#FEF3C7'' },\n    { name: ''Negotiation'', color: ''#EA580C'', bgColor: ''#FED7AA'' },\n    { name: ''Closed Won'', color: ''#059669'', bgColor: ''#D1FAE5'' },\n    { name: ''Closed Lost'', color: ''#DC2626'', bgColor: ''#FEE2E2'' }\n  ];\n\n  useEffect(() => {\n    loadDeals();\n  }, [dateFrom, dateTo]);\n\n  useEffect(() => {\n    groupDealsByStage();\n  }, [deals, showClosedDeals]);\n\n  const loadDeals = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // Build filter based on date range\n      let filters = [];\n      if (dateFrom) {\n        filters.push(`CloseDate >= ''$' + '{dateFrom}''`);\n      }\n      if (dateTo) {\n        filters.push(`CloseDate <= ''$' + '{dateTo}''`);\n      }\n      const extraFilter = filters.length > 0 ? filters.join('' AND '') : '''';\n      \n      const result = await utilities.rv.RunView({\n        EntityName: ''Deals'',\n        OrderBy: ''CloseDate ASC'',\n        ExtraFilter: extraFilter\n      });\n\n      if (result.Success) {\n        setDeals(result.Results || []);\n      } else {\n        setError(result.ErrorMessage || ''Failed to load deals'');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const groupDealsByStage = () => {\n    const grouped = {};\n    stages.forEach(stage => {\n      grouped[stage.name] = [];\n    });\n\n    deals.forEach(deal => {\n      if (grouped[deal.Stage]) {\n        grouped[deal.Stage].push(deal);\n      }\n    });\n\n    setDealsByStage(grouped);\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat(''en-US'', {\n      style: ''currency'',\n      currency: ''USD'',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount || 0);\n  };\n\n  const getDaysToClose = (closeDate) => {\n    if (!closeDate) return null;\n    const close = new Date(closeDate);\n    const today = new Date();\n    const days = Math.ceil((close - today) / (1000 * 60 * 60 * 24));\n    return days;\n  };\n\n  const calculateStageTotal = (stageName) => {\n    const stageDeals = dealsByStage[stageName] || [];\n    return stageDeals.reduce((sum, deal) => sum + (deal.Amount || 0), 0);\n  };\n\n  const toggleClosedDeals = () => {\n    const newValue = !showClosedDeals;\n    setShowClosedDeals(newValue);\n    onSaveUserSettings({ ...savedUserSettings, showClosedDeals: newValue });\n  };\n\n  const handleDateChange = (field, value) => {\n    if (field === ''from'') {\n      setDateFrom(value);\n    } else {\n      setDateTo(value);\n    }\n\n    // Debounce settings save to avoid excessive writes\n    if (saveSettingsTimeoutRef.current) {\n      clearTimeout(saveSettingsTimeoutRef.current);\n    }\n    saveSettingsTimeoutRef.current = setTimeout(() => {\n      const updates = field === ''from''\n        ? { dateFrom: value }\n        : { dateTo: value };\n      onSaveUserSettings({ ...savedUserSettings, ...updates });\n    }, 500);\n  };\n\n  const clearFilters = () => {\n    setDateFrom('''');\n    setDateTo('''');\n    onSaveUserSettings({ ...savedUserSettings, dateFrom: '''', dateTo: '''' });\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading deals...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: ''20px'', backgroundColor: ''#FEE2E2'', borderRadius: ''8px'', margin: ''20px'' }}>\n        <div style={{ color: ''#991B1B'', fontWeight: ''bold'' }}>Error loading deals</div>\n        <div style={{ color: ''#DC2626'', marginTop: ''8px'' }}>{error}</div>\n      </div>\n    );\n  }\n\n  const visibleStages = showClosedDeals ? stages : stages.filter(s => !s.name.includes(''Closed''));\n\n  return (\n    <div style={{ padding: ''20px'', height: ''100%'', display: ''flex'', flexDirection: ''column'' }}>\n      <div style={{ marginBottom: ''20px'' }}>\n        <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'', marginBottom: ''16px'' }}>\n          <h2 style={{ fontSize: ''24px'', fontWeight: ''bold'', margin: 0 }}>Deal Pipeline</h2>\n          <div style={{ display: ''flex'', gap: ''12px'', alignItems: ''center'' }}>\n            <label style={{ display: ''flex'', alignItems: ''center'', cursor: ''pointer'' }}>\n              <input\n                type=\"checkbox\"\n                checked={showClosedDeals}\n                onChange={toggleClosedDeals}\n                style={{ marginRight: ''8px'' }}\n              />\n              <span style={{ fontSize: ''14px'' }}>Show Closed Deals</span>\n            </label>\n            <button\n              onClick={loadDeals}\n              style={{\n                padding: ''8px 16px'',\n                backgroundColor: ''#3B82F6'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              Refresh\n            </button>\n          </div>\n        </div>\n        \n        <div style={{ \n          display: ''flex'', \n          gap: ''12px'', \n          alignItems: ''center'',\n          padding: ''12px'',\n          backgroundColor: ''#F9FAFB'',\n          borderRadius: ''8px''\n        }}>\n          <label style={{ fontSize: ''14px'', color: ''#374151'' }}>Close Date:</label>\n          <input\n            type=\"date\"\n            value={dateFrom}\n            onChange={(e) => handleDateChange(''from'', e.target.value)}\n            style={{\n              padding: ''6px 12px'',\n              border: ''1px solid #D1D5DB'',\n              borderRadius: ''6px'',\n              fontSize: ''14px''\n            }}\n            placeholder=\"From\"\n          />\n          <span style={{ color: ''#6B7280'' }}>to</span>\n          <input\n            type=\"date\"\n            value={dateTo}\n            onChange={(e) => handleDateChange(''to'', e.target.value)}\n            style={{\n              padding: ''6px 12px'',\n              border: ''1px solid #D1D5DB'',\n              borderRadius: ''6px'',\n              fontSize: ''14px''\n            }}\n            placeholder=\"To\"\n          />\n          {(dateFrom || dateTo) && (\n            <button\n              onClick={clearFilters}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: ''#EF4444'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              Clear\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div style={{ \n        display: ''flex'', \n        gap: ''16px'', \n        overflowX: ''auto'', \n        flex: 1,\n        paddingBottom: ''20px''\n      }}>\n        {visibleStages.map(stage => {\n          const stageDeals = dealsByStage[stage.name] || [];\n          const stageTotal = calculateStageTotal(stage.name);\n          \n          return (\n            <div\n              key={stage.name}\n              style={{\n                minWidth: ''300px'',\n                maxWidth: ''300px'',\n                display: ''flex'',\n                flexDirection: ''column'',\n                backgroundColor: ''#F9FAFB'',\n                borderRadius: ''8px'',\n                overflow: ''hidden''\n              }}\n            >\n              <div style={{\n                padding: ''16px'',\n                backgroundColor: stage.bgColor,\n                borderBottom: `3px solid $' + '{stage.color}`\n              }}>\n                <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n                  <h3 style={{ \n                    fontSize: ''16px'', \n                    fontWeight: ''600'', \n                    color: stage.color,\n                    margin: 0 \n                  }}>\n                    {stage.name}\n                  </h3>\n                  <span style={{\n                    backgroundColor: ''white'',\n                    color: stage.color,\n                    padding: ''4px 8px'',\n                    borderRadius: ''12px'',\n                    fontSize: ''12px'',\n                    fontWeight: ''600''\n                  }}>\n                    {stageDeals.length}\n                  </span>\n                </div>\n                <div style={{ \n                  marginTop: ''8px'', \n                  fontSize: ''18px'', \n                  fontWeight: ''bold'',\n                  color: ''#111827''\n                }}>\n                  {formatCurrency(stageTotal)}\n                </div>\n              </div>\n\n              <div style={{\n                flex: 1,\n                overflowY: ''auto'',\n                padding: ''12px''\n              }}>\n                {stageDeals.map(deal => {\n                  const daysToClose = getDaysToClose(deal.CloseDate);\n                  \n                  return (\n                    <div\n                      key={deal.ID}\n                      style={{\n                        backgroundColor: ''white'',\n                        borderRadius: ''6px'',\n                        padding: ''12px'',\n                        marginBottom: ''8px'',\n                        boxShadow: ''0 1px 3px rgba(0, 0, 0, 0.1)'',\n                        cursor: ''pointer'',\n                        transition: ''transform 0.2s, box-shadow 0.2s'',\n                        border: ''1px solid #E5E7EB''\n                      }}\n                      onClick={() => setSelectedDeal(deal)}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.transform = ''translateY(-2px)'';\n                        e.currentTarget.style.boxShadow = ''0 4px 6px rgba(0, 0, 0, 0.1)'';\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.transform = ''translateY(0)'';\n                        e.currentTarget.style.boxShadow = ''0 1px 3px rgba(0, 0, 0, 0.1)'';\n                      }}\n                    >\n                      <div style={{ \n                        fontSize: ''14px'', \n                        fontWeight: ''600'', \n                        color: ''#111827'',\n                        marginBottom: ''8px'',\n                        overflow: ''hidden'',\n                        textOverflow: ''ellipsis'',\n                        whiteSpace: ''nowrap''\n                      }}>\n                        {deal.DealName}\n                      </div>\n                      \n                      <div style={{ \n                        fontSize: ''18px'', \n                        fontWeight: ''bold'', \n                        color: ''#059669'',\n                        marginBottom: ''8px''\n                      }}>\n                        {formatCurrency(deal.Amount)}\n                      </div>\n\n                      <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'', marginBottom: ''6px'' }}>\n                        <div style={{ display: ''flex'', alignItems: ''center'', gap: ''4px'' }}>\n                          <span style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Probability:</span>\n                          <div style={{ \n                            width: ''60px'', \n                            height: ''4px'', \n                            backgroundColor: ''#E5E7EB'', \n                            borderRadius: ''2px'',\n                            position: ''relative''\n                          }}>\n                            <div style={{ \n                              width: `$' + '{deal.Probability}%`, \n                              height: ''100%'', \n                              backgroundColor: deal.Probability > 75 ? ''#10B981'' : deal.Probability > 50 ? ''#F59E0B'' : ''#6B7280'',\n                              borderRadius: ''2px''\n                            }} />\n                          </div>\n                          <span style={{ fontSize: ''12px'', fontWeight: ''600'', color: ''#374151'' }}>\n                            {deal.Probability}%\n                          </span>\n                        </div>\n                      </div>\n\n                      {daysToClose !== null && (\n                        <div style={{\n                          fontSize: ''11px'',\n                          padding: ''4px 6px'',\n                          borderRadius: ''4px'',\n                          display: ''inline-block'',\n                          backgroundColor: daysToClose < 0 ? ''#FEE2E2'' : daysToClose < 7 ? ''#FEF3C7'' : daysToClose < 30 ? ''#DBEAFE'' : ''#F3F4F6'',\n                          color: daysToClose < 0 ? ''#991B1B'' : daysToClose < 7 ? ''#92400E'' : daysToClose < 30 ? ''#1E40AF'' : ''#6B7280''\n                        }}>\n                          {daysToClose < 0 ? `$' + '{Math.abs(daysToClose)} days overdue` : `$' + '{daysToClose} days to close`}\n                        </div>\n                      )}\n\n                      {deal.NextStep && (\n                        <div style={{\n                          marginTop: ''8px'',\n                          fontSize: ''11px'',\n                          color: ''#6B7280'',\n                          fontStyle: ''italic'',\n                          overflow: ''hidden'',\n                          textOverflow: ''ellipsis'',\n                          whiteSpace: ''nowrap''\n                        }}>\n                          Next: {deal.NextStep}\n                        </div>\n                      )}\n                    </div>\n                  );\n                })}\n                \n                {stageDeals.length === 0 && (\n                  <div style={{\n                    padding: ''20px'',\n                    textAlign: ''center'',\n                    color: ''#9CA3AF'',\n                    fontSize: ''14px''\n                  }}>\n                    No deals in this stage\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      <div style={{ \n        marginTop: ''20px'', \n        padding: ''16px'', \n        backgroundColor: ''#F9FAFB'', \n        borderRadius: ''8px'',\n        display: ''flex'',\n        justifyContent: ''space-around''\n      }}>\n        <div style={{ textAlign: ''center'' }}>\n          <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Total Deals</div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#111827'' }}>{deals.length}</div>\n        </div>\n        <div style={{ textAlign: ''center'' }}>\n          <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Pipeline Value</div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#059669'' }}>\n            {formatCurrency(deals.reduce((sum, deal) => sum + (deal.Amount || 0), 0))}\n          </div>\n        </div>\n        <div style={{ textAlign: ''center'' }}>\n          <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Expected Revenue</div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#2563EB'' }}>\n            {formatCurrency(deals.reduce((sum, deal) => sum + ((deal.Amount || 0) * (deal.Probability || 0) / 100), 0))}\n          </div>\n        </div>\n      </div>\n\n      {/* Deal Detail Modal */}\n      {selectedDeal && (\n        <div style={{\n          position: ''fixed'',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: ''rgba(0, 0, 0, 0.5)'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1000\n        }}\n        onClick={() => setSelectedDeal(null)}\n        >\n          <div \n            style={{\n              backgroundColor: ''white'',\n              borderRadius: ''12px'',\n              padding: ''24px'',\n              maxWidth: ''600px'',\n              width: ''90%'',\n              maxHeight: ''80vh'',\n              overflowY: ''auto'',\n              boxShadow: ''0 20px 25px -5px rgba(0, 0, 0, 0.1)''\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''start'', marginBottom: ''20px'' }}>\n              <h3 style={{ fontSize: ''20px'', fontWeight: ''bold'', margin: 0 }}>{selectedDeal.DealName}</h3>\n              <button\n                onClick={() => setSelectedDeal(null)}\n                style={{\n                  background: ''none'',\n                  border: ''none'',\n                  fontSize: ''24px'',\n                  cursor: ''pointer'',\n                  color: ''#6B7280'',\n                  padding: ''0'',\n                  width: ''30px'',\n                  height: ''30px''\n                }}\n              >\n                ×\n              </button>\n            </div>\n            \n            <div style={{ display: ''grid'', gap: ''16px'' }}>\n              <div>\n                <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Stage</label>\n                <span style={{\n                  padding: ''6px 16px'',\n                  borderRadius: ''12px'',\n                  fontSize: ''14px'',\n                  fontWeight: ''600'',\n                  backgroundColor: stages.find(s => s.name === selectedDeal.Stage)?.bgColor || ''#F3F4F6'',\n                  color: stages.find(s => s.name === selectedDeal.Stage)?.color || ''#6B7280'',\n                  border: `2px solid $' + '{stages.find(s => s.name === selectedDeal.Stage)?.color || ''#D1D5DB''}`,\n                  display: ''inline-block''\n                }}>\n                  {selectedDeal.Stage}\n                </span>\n              </div>\n              \n              <div style={{ display: ''grid'', gridTemplateColumns: ''1fr 1fr'', gap: ''16px'' }}>\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Amount</label>\n                  <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#059669'' }}>\n                    {formatCurrency(selectedDeal.Amount)}\n                  </div>\n                </div>\n                \n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Probability</label>\n                  <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#374151'' }}>\n                    {selectedDeal.Probability}%\n                  </div>\n                </div>\n              </div>\n              \n              <div style={{ display: ''grid'', gridTemplateColumns: ''1fr 1fr'', gap: ''16px'' }}>\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Close Date</label>\n                  <div style={{ fontSize: ''16px'', color: ''#111827'' }}>\n                    {new Date(selectedDeal.CloseDate).toLocaleDateString(''en-US'', { \n                      month: ''short'', \n                      day: ''numeric'', \n                      year: ''numeric'' \n                    })}\n                  </div>\n                </div>\n                \n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Days to Close</label>\n                  <div style={{ fontSize: ''16px'', color: ''#111827'' }}>\n                    {(() => {\n                      const days = getDaysToClose(selectedDeal.CloseDate);\n                      if (days === null) return ''-'';\n                      return days < 0 ? `$' + '{Math.abs(days)} days overdue` : `$' + '{days} days`;\n                    })()}\n                  </div>\n                </div>\n              </div>\n              \n              {selectedDeal.DealSource && (\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Source</label>\n                  <div style={{ fontSize: ''16px'', color: ''#111827'' }}>\n                    {selectedDeal.DealSource}\n                  </div>\n                </div>\n              )}\n              \n              {selectedDeal.NextStep && (\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Next Step</label>\n                  <div style={{ fontSize: ''16px'', color: ''#111827'' }}>\n                    {selectedDeal.NextStep}\n                  </div>\n                </div>\n              )}\n              \n              <div>\n                <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Expected Revenue</label>\n                <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#2563EB'' }}>\n                  {formatCurrency((selectedDeal.Amount || 0) * (selectedDeal.Probability || 0) / 100)}\n                </div>\n              </div>\n              \n              <div style={{ \n                marginTop: ''16px'', \n                padding: ''16px'', \n                backgroundColor: ''#F9FAFB'', \n                borderRadius: ''8px'' \n              }}>\n                <div style={{ fontSize: ''14px'', color: ''#6B7280'', marginBottom: ''8px'' }}>Win Probability Indicator</div>\n                <div style={{ \n                  width: ''100%'', \n                  height: ''20px'', \n                  backgroundColor: ''#E5E7EB'', \n                  borderRadius: ''10px'',\n                  position: ''relative''\n                }}>\n                  <div style={{ \n                    width: `$' + '{selectedDeal.Probability}%`, \n                    height: ''100%'', \n                    backgroundColor: selectedDeal.Probability > 75 ? ''#10B981'' : selectedDeal.Probability > 50 ? ''#F59E0B'' : ''#6B7280'',\n                    borderRadius: ''10px'',\n                    transition: ''width 0.3s''\n                  }} />\n                  <div style={{\n                    position: ''absolute'',\n                    top: ''50%'',\n                    left: ''50%'',\n                    transform: ''translate(-50%, -50%)'',\n                    color: ''white'',\n                    fontWeight: ''bold'',\n                    fontSize: ''12px''\n                  }}>\n                    {selectedDeal.Probability}%\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <div style={{ \n              marginTop: ''20px'', \n              paddingTop: ''20px'', \n              borderTop: ''1px solid #E5E7EB'',\n              display: ''flex'',\n              justifyContent: ''flex-end''\n            }}>\n              <button\n                onClick={() => {\n                  if (callbacks.OpenEntityRecord) {\n                    callbacks.OpenEntityRecord(''Deals'', [\n                      { FieldName: ''ID'', Value: selectedDeal.ID }\n                    ]);\n                    setSelectedDeal(null);\n                  } else {\n                    console.warn(''OpenEntityRecord callback not available'');\n                  }\n                }}\n                style={{\n                  padding: ''8px 12px'',\n                  backgroundColor: ''#3B82F6'',\n                  color: ''white'',\n                  border: ''none'',\n                  borderRadius: ''6px'',\n                  cursor: ''pointer'',\n                  fontSize: ''20px'',\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  justifyContent: ''center'',\n                  width: ''40px'',\n                  height: ''40px''\n                }}\n                title=\"Open record\"\n              >\n                ↗\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"}'
SET
  @FunctionalRequirements_11ff5813 = N'## Kanban Board for Deal Pipeline

### Core Features
- Display deals grouped by stage in columns
- Show deal cards with key information
- Display total value per stage
- Count of deals per stage
- Visual indicators for deal priority

### Card Information
- Deal name
- Account name
- Amount formatted as currency
- Days to close
- Probability indicator

### Visual Design
- Column headers with stage colors
- Card shadows and hover effects
- Responsive column layout
- Scrollable columns for many deals'
SET
  @TechnicalDesign_11ff5813 = N'## Implementation

### Data Loading
- Single RunView call to load all deals
- Client-side grouping by Stage
- Calculate totals per stage

### Layout
- Flexbox for horizontal column layout
- Fixed height columns with scroll
- Responsive breakpoints for mobile

### Stage Order
1. Prospecting
2. Qualification
3. Proposal
4. Negotiation
5. Closed Won
6. Closed Lost'
SET
  @FunctionalRequirementsVector_11ff5813 = N'[0.011796747334301472,-0.002926142420619726,-0.03422316536307335,-0.05882875621318817,0.025633536279201508,-0.02959568426012993,0.029865462332963943,0.026014264672994614,-0.04252805560827255,0.005474665202200413,-0.051593370735645294,0.028587346896529198,0.01643167808651924,0.22061868011951447,-0.0013362608151510358,-0.03896369785070419,-0.0007629218162037432,-0.003860280616208911,-0.022808363661170006,0.032361533492803574,0.01703225076198578,0.00515007833018899,-0.032013509422540665,0.013879839330911636,-0.022699404507875443,0.0016332606319338083,-0.03461853414773941,-0.02206249162554741,0.028502207249403,-0.06170322000980377,0.025435229763388634,0.016092076897621155,-0.07051876932382584,-0.019337110221385956,0.000002425234697511769,-0.008399353362619877,-0.019347406923770905,-0.008497417904436588,-0.01596667245030403,0.00468559842556715,0.001409631222486496,-0.05204170197248459,0.020953616127371788,0.001053611165843904,-0.025919394567608833,-0.09239834547042847,-0.016370514407753944,0.13412758708000183,0.03018837235867977,-0.017213646322488785,0.0017967758467420936,-0.046505119651556015,0.0020378907211124897,-0.003707305761054158,0.019508708268404007,-0.022942645475268364,-0.006280841305851936,-0.07604276388883591,0.04111203923821449,-0.04775074124336243,0.00510287145152688,0.010896258987486362,0.014208463951945305,-0.0837898775935173,0.06954722106456757,0.052597034722566605,0.07835424691438675,-0.03430073708295822,-0.018484381958842278,0.027178771793842316,0.027751075103878975,0.011394248344004154,-0.0072199273854494095,-0.06273744255304337,-0.006525025237351656,-0.047728005796670914,-0.043606020510196686,0.062101542949676514,0.0057234978303313255,-0.03219810873270035,-0.022827833890914917,0.01882866397500038,-0.024143753573298454,-0.006345324218273163,0.04960087314248085,-0.017382141202688217,0.003672974882647395,0.022891424596309662,-0.052803970873355865,-0.027034087106585503,0.02347905933856964,-0.056320466101169586,-0.03271536901593208,0.0007884632796049118,-0.07673218846321106,0.005079050548374653,0.051698409020900726,0.014174364507198334,0.003398445900529623,0.0091549102216959,0.007002026773989201,0.022688403725624084,0.03239044174551964,0.0485382080078125,0.021491900086402893,0.01808243803679943,-0.02607002481818199,-0.040447257459163666,-0.021040672436356544,0.07899743318557739,0.009258393198251724,0.007350119762122631,-0.026008088141679764,0.05130331963300705,-0.030519280582666397,-0.03759321942925453,-0.07657896727323532,0.013836071826517582,0.013255483470857143,0.04682999849319458,0.1829734891653061,0.010580973699688911,0.0424998514354229,0.014916904270648956,-0.012951517477631569,-0.0011213222751393914,-0.04839528352022171,-0.003816084237769246,0.020837927237153053,0.042522259056568146,-0.01842091605067253,0.02193049155175686,-0.041347015649080276,-0.06420788913965225,-0.022716611623764038,-0.011461658403277397,0.031822316348552704,0.021949946880340576,-0.011256817728281021,-0.010290060192346573,-0.0248729158192873,0.014824891462922096,-0.05990079790353775,0.009379922412335873,-0.048239730298519135,-0.02538900263607502,-0.02140245959162712,0.04364527761936188,-0.000010344748261559289,-0.0015841493150219321,0.025724226608872414,-0.00035061061498709023,0.026045504957437515,0.012713088653981686,-0.02737787365913391,0.02647378109395504,-0.04808595031499863,-0.03032458759844303,-0.002511778147891164,0.06203604117035866,0.007950292900204659,-0.008391101844608784,0.043755218386650085,0.00859113223850727,-0.039404504001140594,-0.00947871245443821,0.04452529177069664,-0.013784041628241539,-0.0008454401977360249,-0.050295181572437286,-0.01659821905195713,-0.05743173882365227,-0.030826685950160027,0.04217185080051422,0.04564644396305084,0.021847324445843697,0.08564703911542892,0.019908005371689796,-0.03134739398956299,0.01633879914879799,0.012589179910719395,-0.1070440337061882,0.0041137137450277805,0.07731174677610397,0.05073728784918785,0.0016100010834634304,-0.04805343970656395,0.04291725903749466,0.005896582268178463,0.014285518787801266,0.015527679584920406,0.002937904093414545,-0.09084570407867432,0.010014274157583714,-0.023056095466017723,-0.007039425894618034,-0.01868588477373123,-0.007467151619493961,0.03751214221119881,0.013979697600007057,-0.021616699174046516,-0.03008100390434265,0.04100942239165306,0.030656516551971436,-0.001114454003982246,0.007413019891828299,-0.002862623194232583,-0.03546881675720215,-0.10452388226985931,0.0013920202618464828,0.08894695341587067,-0.0084579112008214,-0.06776460260152817,0.014736895449459553,-0.015407252125442028,0.005099314730614424,0.025009743869304657,-0.0021203267388045788,-0.018387533724308014,-0.021598098799586296,-0.0449553057551384,0.057418327778577805,0.08421958982944489,0.011809897609055042,0.10245340317487717,0.03023398481309414,-0.00014182794257067144,-0.009743482805788517,0.07424978911876678,0.012229682877659798,0.00990904588252306,-0.014537188224494457,0.05589887127280235,-0.0002173260727431625,-0.020868318155407906,0.0465446375310421,0.022842364385724068,0.08168770372867584,0.004560527391731739,0.06982865929603577,-0.029413728043437004,-0.030493415892124176,-0.02192458137869835,-0.007065023295581341,0.047030042856931686,0.009490481577813625,-0.05293020233511925,0.0330088771879673,-0.0010183843551203609,0.004078713711351156,0.0032570527400821447,0.020228343084454536,0.0808558464050293,0.015790382400155067,0.005765209440141916,-0.004250457510352135,-0.07439020276069641,0.012298470363020897,-0.014681234024465084,0.0684053897857666,0.031245756894350052,-0.00861145555973053,-0.03675287589430809,-0.03429585322737694,0.04094544053077698,-0.01485221553593874,0.056847963482141495,-0.05271395295858383,-0.016767900437116623,0.018491124734282494,-0.002209590980783105,0.03896593675017357,0.016999492421746254,-0.01913592591881752,-0.019535358995199203,0.02019650861620903,-0.013904033228754997,0.04851014167070389,-0.04302510991692543,-0.014064688235521317,0.012729082256555557,-0.04006006568670273,-0.031947191804647446,0.020362647250294685,-0.0014913227641955018,0.0010563456453382969,0.035691406577825546,-0.07636097818613052,-0.0063386280089616776,-0.032244972884655,0.05266224220395088,-0.040959641337394714,0.020972730591893196,-0.0003387401520740241,-0.057308413088321686,-0.018769817426800728,-0.09903795272111893,-0.007159002590924501,-0.04604789987206459,0.02463155798614025,-0.019638460129499435,-0.020139742642641068,-0.03316868841648102,-0.0026142909191548824,0.01265664491802454,0.006207107100635767,0.013534266501665115,0.026174288243055344,0.005387888755649328,0.05514881759881973,0.024191420525312424,0.008723326027393341,0.004254261031746864,-0.015292780473828316,0.031483232975006104,0.0279329102486372,0.014401700347661972,0.0010435015428811312,-0.005420807283371687,0.054585523903369904,0.009457472711801529,0.006754901260137558,0.0008265370270237327,-0.012166826985776424,-0.028555478900671005,0.0018146790098398924,0.00006829405901953578,-0.026133792474865913,0.013101018033921719,-0.05113442614674568,0.00683235190808773,-0.05051973834633827,-0.01138211227953434,-0.015583503991365433,-0.007019382435828447,0.007878835313022137,-0.007938371039927006,-0.05432574823498726,0.00997979287058115,-0.008350921794772148,-0.040816981345415115,-0.007540414109826088,-0.04338955134153366,0.012145270593464375,-0.03843313455581665,0.010792548768222332,0.11503823101520538,0.007484031841158867,-0.06478618830442429,0.04926807060837746,0.024077726528048515,0.023027507588267326,-0.013283824548125267,-0.02933960221707821,0.02697983756661415,0.03850826621055603,-0.023900890722870827,-0.016857391223311424,0.00898633524775505,-0.007311277557164431,0.04030900448560715,0.02520335651934147,-0.03487281873822212,0.03375975787639618,0.03212108090519905,0.04359625652432442,0.013439171016216278,-0.013228741474449635,-0.0054158782586455345,0.024850377812981606,-0.05612943693995476,0.01008176151663065,0.027792293578386307,0.017137303948402405,0.0197449903935194,0.005864194594323635,0.02558162435889244,0.015581849031150341,-0.009047405794262886,-0.01921926997601986,0.04557231068611145,-0.050213392823934555,0.0395829975605011,-0.048605773597955704,0.02842741645872593,0.021783791482448578,-0.033350974321365356,-0.042131207883358,0.0005112704238854349,-0.006852919235825539,-0.011460695415735245,-0.05424710735678673,-0.006759983953088522,-0.02286912314593792,-0.023615332320332527,-0.03504748269915581,-0.011320955120027065,0.03689213842153549,-0.02966928295791149,-0.00269114226102829,-0.017814386636018753,-0.0015853659715503454,0.016875317320227623,-0.03274158388376236,0.011285144835710526,-0.03179817274212837,-0.022686844691634178,-0.0120059410110116,0.019220033660531044,0.021487679332494736,-0.03341333940625191,-0.003882033983245492,-0.0037356591783463955,0.004831486381590366,-0.01567702367901802,-0.0044878385961055756,-0.01957966573536396,-0.02905038371682167,-0.012041048146784306,-0.004375270567834377,-0.015216733328998089,0.023960446938872337,-0.0010448058601468801,0.023489704355597496,-0.0023512274492532015,-0.02128007635474205,-0.020279763266444206,-0.07666194438934326,0.009032171219587326,0.00008401842933380976,0.010482458397746086,-0.0004135254421271384,0.005477421917021275,-0.028971077874302864,-0.021171653643250465,-0.04276485741138458,0.023325366899371147,0.03373904526233673,0.03511631861329079,-0.03386358544230461,-0.04329318180680275,0.016000866889953613,-0.00656140735372901,0.003511688206344843,0.03338614106178284,-0.009202670305967331,0.025473827496170998,0.020559774711728096,-0.03218783810734749,-0.01383817195892334,-0.006229300983250141,-0.05739839747548103,0.023127231746912003,-0.0026001175865530968,-0.03348542004823685,-0.02292218804359436,0.059401072561740875,-0.033515993505716324,0.014468494802713394,-0.05590011924505234,-0.001513444003649056,0.027497265487909317,-0.06048457324504852,0.02889130637049675,0.03683934733271599,-0.03794331103563309,-0.0544629842042923,-0.040791381150484085,-0.043428972363471985,-0.051193635910749435,0.009311165660619736,-0.007045665290206671,-0.04349537938833237,0.012466704472899437,0.01480195764452219,0.018962759524583817,0.005309879779815674,0.004444988444447517,0.10325223207473755,0.02149862051010132,-0.008347614668309689,-0.0351351834833622,0.0010141642997041345,-0.08328443765640259,-0.0009208280825987458,0.06904523074626923,-0.02959945797920227,0.0012647383846342564,0.005199675913900137,-0.022925231605768204,0.05633587762713432,-0.02022584341466427,0.02065744809806347,0.0803217664361,0.018877176567912102,0.015714947134256363,0.022622356191277504,-0.026971567422151566,0.01419393252581358,-0.033045604825019836,0.01683562994003296,-0.0014667643699795008,0.02028830163180828,-0.01662830263376236,-0.021958285942673683,-0.02724660001695156,0.011083226650953293,-0.003697905922308564,-0.03458302095532417,-0.07850717753171921,0.05165744200348854,-0.02237234264612198,0.00758740957826376,-0.09740286320447922,0.04262411966919899,0.048948291689157486,-0.012316158972680569,-0.007630727253854275,0.015485737472772598,-0.030185233801603317,0.007450072560459375,-0.00525955855846405,-0.03242528811097145,0.0025318816769868135,0.01966891996562481,-0.026988796889781952,0.04432329162955284,-0.014845360070466995,-0.03422960266470909,0.05935937911272049,-0.0169619582593441,0.012527206912636757,-0.04498834162950516,0.016990195959806442,-0.008450174704194069,0.03907417878508568,0.052323952317237854,0.049585241824388504,-0.04315555840730667,-0.027735941112041473,-0.0425180122256279,0.018367797136306763,0.05867759510874748,-0.0042943391017615795,0.00240387418307364,0.035422444343566895,-0.0007906426326371729,-0.04835349693894386,0.030361467972397804,0.015302874147891998,0.036391228437423706,-0.035271886736154556,-0.027976149693131447,0.01613810285925865,-0.04627707600593567,-7.047730012284781e-33,-0.049776654690504074,-0.022362124174833298,-0.010342476889491081,-0.017796959728002548,0.032928209751844406,-0.002068496309220791,-0.00418637041002512,-0.007459717802703381,0.018031828105449677,0.015232679434120655,-0.0036503474693745375,-0.022827809676527977,0.019274495542049408,-0.011270012706518173,0.04286491125822067,-0.022796906530857086,0.048890065401792526,0.007187738083302975,-0.008342619054019451,0.016774222254753113,-0.03843656927347183,0.03315635398030281,0.0049487450160086155,0.05071082338690758,-0.02756618894636631,-0.022228263318538666,-0.02422279305756092,0.013045256957411766,-0.0051245917566120625,0.04782283306121826,-0.02348913624882698,-0.02150394767522812,-0.021764932200312614,-0.039606232196092606,0.016906384378671646,-0.04696470871567726,-0.027099836617708206,0.010107080452144146,0.0071018412709236145,0.046774156391620636,0.05035235360264778,0.02118106558918953,0.00924606528133154,-0.015171397477388382,0.013340005651116371,0.003741234540939331,0.02646716497838497,-0.0169594157487154,-0.007516229059547186,-0.023446545004844666,0.0043621547520160675,0.005399319343268871,-0.015549497678875923,0.08314832299947739,0.025863399729132652,0.01584124006330967,0.03472110629081726,-0.07814475148916245,-0.04956798255443573,0.039909061044454575,-0.04364551603794098,-0.025746909901499748,0.023052439093589783,-0.011675174348056316,0.0014680793974548578,0.02256716787815094,-0.056341517716646194,0.000014158726116875187,0.017173759639263153,-0.020051421597599983,-0.03321067988872528,0.030436217784881592,0.0247244443744421,-0.0038473266176879406,-0.034204062074422836,0.03174419701099396,-0.014058176428079605,0.01058437954634428,0.0488029345870018,0.13346663117408752,-0.00814550556242466,0.014894666150212288,0.018020495772361755,0.0024964394979178905,0.013910442590713501,-0.031228646636009216,-0.011854136362671852,-0.0034084669314324856,0.028058869764208794,0.027679821476340294,0.022507086396217346,0.01625494472682476,-0.03552878275513649,0.02666228450834751,-0.06353995949029922,0.037312690168619156,0.08942461758852005,0.06143312156200409,0.005420819390565157,-0.05146748200058937,0.04302592948079109,0.015498524531722069,0.028088349848985672,-0.06376702338457108,0.004384700208902359,0.01485647726804018,0.039127741008996964,-0.001467948080971837,-0.03875735402107239,0.010324133560061455,0.017206495627760887,0.01973707415163517,0.002293798141181469,-0.031627386808395386,-0.012968760915100574,-0.009792144410312176,-0.014599827118217945,-0.051788583397865295,0.03417372703552246,0.03361257538199425,0.028720010071992874,0.05295056477189064,-0.025933178141713142,0.01294227410107851,0.0421186238527298,0.0013197592925280333,-0.01640709862112999,-0.03208579868078232,0.034046825021505356,-0.04604395478963852,0.022963715717196465,0.0032267128117382526,3.1789468835086154e-7,-0.011643165722489357,0.04753924533724785,-0.061889342963695526,-0.008319937624037266,0.009511973708868027,-0.015980688855051994,-0.04719289764761925,-0.047837644815444946,-0.00316344085149467,-0.0490567572414875,0.04433256760239601,-0.004753654822707176,-0.0013062540674582124,0.038256701081991196,-0.022265972569584846,-0.062036555260419846,-0.006562270689755678,-0.010929828509688377,-0.04803728684782982,-0.01375408936291933,0.07512012869119644,0.01608104072511196,0.06415342539548874,0.01436847448348999,0.007028480526059866,0.053093813359737396,-0.026591265574097633,-0.03546087443828583,0.016884421929717064,-0.012447914108633995,-0.016821373254060745,-0.05459336191415787,-0.05530085042119026,-0.04164532944560051,-0.0086600873619318,0.010462240315973759,-0.004321465268731117,-0.02728104032576084,0.050024647265672684,0.07381737977266312,-0.018212171271443367,-0.022203098982572556,0.0036991850938647985,-0.08825644850730896,0.005168477538973093,-0.07044114172458649,-0.0006290093879215419,-0.0848948135972023,-0.0376349501311779,-0.018093135207891464,0.05127565190196037,0.05445505678653717,0.018115106970071793,0.0014661955647170544,0.030962945893406868,0.0031778099946677685,0.032291725277900696,0.007295188494026661,0.010314817540347576,0.046398695558309555,-0.009684206917881966,0.03807438537478447,0.0009852208895608783,0.001246975501999259,0.013178708963096142,-0.013673395849764347,0.0002671887632459402,3.387551099636688e-34,-0.01528847124427557,0.01840611919760704,0.03574573993682861,-0.015025398693978786,0.03454656898975372,-0.02895171381533146,0.03404681012034416,-0.021078594028949738,0.007771691307425499,-0.06240461766719818,-0.03164688125252724]'
SET
  @TechnicalDesignVector_11ff5813 = N'[0.018923195078969002,0.040286269038915634,-0.02789720706641674,-0.028045950457453728,0.001123904250562191,-0.05950208380818367,0.044100020080804825,0.011381896212697029,-0.01583225093781948,-0.0033215931616723537,-0.027506213635206223,-0.025440389290452003,0.052957095205783844,0.12856678664684296,-0.0341050922870636,-0.02374170534312725,-0.013828551396727562,0.010903023183345795,0.015659252181649208,0.001526240142993629,0.022278105840086937,-0.0138409323990345,-0.005464403424412012,-0.016661375761032104,-0.004813185427337885,-0.0009421159629710019,-0.06546805053949356,0.04781565070152283,0.03596574440598488,-0.125729039311409,-0.005222958978265524,0.0397711805999279,-0.0469810850918293,-0.009266761131584644,0.0000019317856185807614,-0.015098453499376774,-0.048323873430490494,-0.004347874782979488,-0.0030194472055882215,0.07862811535596848,0.0552140437066555,-0.04556619003415108,-0.00135601416695863,-0.0034979127813130617,-0.022389577701687813,-0.025863049551844597,-0.07215504348278046,0.057294439524412155,0.061786212027072906,0.029493298381567,0.015501303598284721,-0.015085702762007713,-0.01801697351038456,-0.01677127555012703,-0.02969885803759098,-0.08995918184518814,0.003131626872345805,-0.04531170800328255,0.03910244256258011,-0.01407527644187212,-0.026914598420262337,-0.05898698791861534,0.017499322071671486,-0.06409922242164612,-0.06509855389595032,0.003992776852101088,0.025750862434506416,-0.041000086814165115,-0.011135170236229897,0.026468582451343536,0.10864318907260895,0.017320550978183746,-0.0008536277455277741,-0.07406733185052872,0.013914125971496105,-0.04649626836180687,-0.02731451950967312,0.040655314922332764,-0.01918048784136772,-0.002836293773725629,-0.04345959797501564,0.06238734722137451,-0.037201423197984695,0.01449776440858841,-0.007881603203713894,-0.019715219736099243,-0.016331927850842476,-0.036568816751241684,-0.027694599702954292,-0.014720489270985126,0.045368704944849014,-0.005316771101206541,0.017140449956059456,-0.006423403508961201,-0.10463229566812515,-0.011567825451493263,0.03406494855880737,-0.012822932563722134,0.0241774320602417,-0.026759453117847443,-0.013881280086934566,0.02874036692082882,0.058969687670469284,0.0065801250748336315,0.046578168869018555,0.018237272277474403,-0.018400968983769417,-0.030917750671505928,-0.0542350597679615,0.07101909071207047,-0.0016196832293644547,0.014814522117376328,-0.006041737273335457,0.03373885899782181,-0.09197977185249329,0.0065673887729644775,-0.03516176715493202,0.02649933286011219,-0.008753486908972263,0.01482354011386633,0.13723094761371613,0.005554063245654106,0.008332804776728153,0.03269008919596672,0.02921373024582863,0.0010343723697587848,-0.037830304354429245,-0.0023968073073774576,0.008411991409957409,-0.022273706272244453,-0.026996031403541565,-0.04076485335826874,0.022410981357097626,-0.009186077862977982,-0.027717340737581253,-0.02259977161884308,0.015920139849185944,0.052852943539619446,-0.07659243792295456,-0.03623043745756149,0.0045747882686555386,-0.020903024822473526,-0.07813902199268341,0.0012868522899225354,-0.019970545545220375,-0.058543961495161057,-0.02132468856871128,0.045317504554986954,0.03227965533733368,0.0036459898110479116,-0.04801996797323227,-0.02425890974700451,0.004113518632948399,0.021375039592385292,-0.04143303632736206,0.038322169333696365,0.016620196402072906,0.01823316514492035,0.03205350786447525,0.08878553658723831,-0.0048507703468203545,0.013002621941268444,0.031893350183963776,0.008928204886615276,-0.04090294986963272,0.03442791476845741,-0.04587627947330475,-0.006441724486649036,0.004439376760274172,-0.017822016030550003,-0.015221919864416122,-0.048738349229097366,-0.0288766548037529,0.057131171226501465,0.03229045495390892,0.03127000853419304,0.09622166305780411,0.02456350065767765,-0.06655237823724747,-0.0022500797640532255,0.004914816468954086,-0.11105029284954071,-0.008967835456132889,-0.021271251142024994,0.06649837642908096,-0.00736779160797596,-0.052710555493831635,-0.000612535048276186,0.012239552102982998,0.03233760595321655,0.014991842210292816,0.040278710424900055,-0.06917784363031387,0.006573820486664772,-0.023655341938138008,0.024558087810873985,-0.03384578600525856,-0.060122691094875336,0.07400666177272797,0.0173961091786623,-0.027683211490511894,0.01666739024221897,-0.02679157815873623,0.007064300589263439,0.003938259091228247,-0.0031981156207621098,-0.04089152440428734,0.0265383031219244,-0.0683218240737915,0.005020480137318373,0.0307717714458704,0.005753293167799711,-0.05839705839753151,0.01201199647039175,-0.04613904654979706,0.07109076529741287,0.005921646486967802,0.025539180263876915,-0.04066791012883186,-0.020145926624536514,-0.0429341197013855,-0.0009772268822416663,0.01728292927145958,0.005148725584149361,0.08309151232242584,0.04479007422924042,0.042174290865659714,-0.030500592663884163,0.026968378573656082,0.002398691838607192,-0.011656389571726322,-0.019037853926420212,0.06893789768218994,0.046608977019786835,0.048627302050590515,0.08003072440624237,0.02221554145216942,0.028237318620085716,-0.030489157885313034,0.0580618642270565,-0.018772713840007782,-0.05902080237865448,-0.04148522764444351,0.014351383782923222,0.04923522099852562,0.0304458849132061,-0.029360024258494377,0.0063627646304667,0.0006699477671645582,-0.00021427629690151662,-0.011414054781198502,0.00936712883412838,0.07636456936597824,-0.012429216876626015,0.0010428947862237692,0.014249945059418678,-0.06867639720439911,-0.01613432727754116,-0.026075277477502823,0.07643560320138931,0.00953742116689682,-0.032895125448703766,-0.02172222174704075,-0.011336791329085827,0.06773485243320465,-0.023193873465061188,0.03657282143831253,-0.04129321873188019,0.015682466328144073,0.01051085814833641,-0.0033743816893547773,0.05019510164856911,0.02716810069978237,-0.02194911241531372,-0.034371983259916306,0.042640022933483124,-0.012835611589252949,0.03461098298430443,-0.016465263441205025,-0.014847846701741219,-0.021066073328256607,-0.014482904225587845,0.0035548419691622257,0.017257481813430786,-0.016895603388547897,0.03500940278172493,0.07073330134153366,0.006802516058087349,-0.03233207389712334,-0.08275825530290604,0.02236020192503929,-0.0326412171125412,0.002746367361396551,-0.053702350705862045,-0.031449753791093826,0.003695959225296974,-0.10084014385938644,0.035931915044784546,0.0057092951610684395,0.08294399082660675,-0.007760803680866957,0.0054958476684987545,0.008805603720247746,0.01467155758291483,-0.005806312896311283,0.013025561347603798,-0.007414049468934536,-0.01199828926473856,-0.021165763959288597,0.08173523098230362,0.01955174282193184,0.015718182548880577,0.0069890799932181835,-0.06694959849119186,0.026771459728479385,0.01619083620607853,0.02569003775715828,0.02700803428888321,-0.047625575214624405,0.10304990410804749,-0.008891409263014793,-0.0006365806912072003,0.005412114784121513,-0.006528711877763271,-0.029659250751137733,-0.03889404982328415,0.0009905345505103469,-0.015305672772228718,0.036921754479408264,-0.038741741329431534,0.03518969938158989,-0.0646928921341896,-0.03703782334923744,-0.006340899504721165,0.03901451826095581,0.01922488771378994,-0.02733391337096691,0.002073936862871051,-0.0005231761606410146,-0.01400053035467863,-0.027929075062274933,-0.012034433893859386,-0.020134039223194122,-0.009703433141112328,0.013393369503319263,-0.02790559083223343,0.04445880651473999,0.02504410408437252,-0.1057608351111412,0.016422441229224205,-0.014143640175461769,0.030295023694634438,-0.030254198238253593,-0.006571688689291477,0.004373832605779171,0.055093247443437576,-0.015316303819417953,-0.004089596681296825,0.0038601942360401154,-0.06692956387996674,0.05064062774181366,0.030917679890990257,0.016414685174822807,0.0676216334104538,0.00868151430040598,0.0396810881793499,0.0033832963090389967,-0.04649489000439644,0.029792239889502525,-0.007629414089024067,-0.028315464034676552,-0.006745876278728247,0.047497693449258804,0.010309943929314613,-0.016342634335160255,-0.030634453520178795,0.0255531445145607,0.03457082062959671,0.042463961988687515,0.005390506703406572,0.03736736625432968,-0.04138489067554474,0.08337986469268799,-0.012126528657972813,0.06552568078041077,0.024009520187973976,0.00945709552615881,-0.05284063145518303,-0.04846389591693878,0.022359030321240425,0.005599131342023611,0.010316514410078526,0.06712356209754944,-0.028364548459649086,-0.02350466512143612,0.005389581900089979,-0.030179543420672417,0.08059875667095184,0.0036578429862856865,-0.001035149791277945,-0.0192226842045784,0.03785305470228195,0.05171852186322212,-0.03207927197217941,-0.0019917262252420187,-0.03960634022951126,-0.044765863567590714,0.02205819822847843,0.00450548343360424,0.04561598598957062,0.008649386465549469,-0.007091998588293791,-0.02262226864695549,-0.026389233767986298,-0.02322888933122158,0.024859806522727013,-0.008209271356463432,-0.039447348564863205,-0.028678199276328087,-0.0146729601547122,-0.014888633973896503,0.011057906784117222,0.026165274903178215,0.03648392856121063,0.007547433488070965,-0.0016149756265804172,0.002906594891101122,-0.08057081699371338,-0.03583233803510666,-0.007479899097234011,-0.0026100340764969587,0.00111938058398664,-0.02633245848119259,0.015288390219211578,-0.032088279724121094,-0.012919815257191658,0.049762096256017685,-0.018035465851426125,0.03048861213028431,0.00011626463674474508,-0.02646566927433014,0.0293577890843153,0.09855663031339645,-0.0015842155553400517,0.026445297524333,0.02824101783335209,-0.05358150601387024,-0.0067717889323830605,-0.020437978208065033,0.047167353332042694,-0.018590128049254417,-0.03607083857059479,0.007807671558111906,-0.020332152023911476,-0.0755639299750328,-0.026267362758517265,-0.072391577064991,-0.01997830905020237,-0.02446325123310089,-0.021157993003726006,-0.01414916105568409,0.036449793726205826,-0.028640462085604668,-0.015767134726047516,0.06273113936185837,-0.007635676302015781,-0.05377035588026047,-0.0271426010876894,-0.017107300460338593,-0.02112654037773609,0.019456809386610985,-0.008401717059314251,-0.034977301955223083,-0.027234327048063278,0.04534359276294708,0.05014285817742348,0.012093203142285347,-0.009761680848896503,0.010872460901737213,0.01562493946403265,-0.006958176381886005,0.04396544024348259,0.040203455835580826,-0.17617234587669373,0.013418104499578476,0.04709934443235397,-0.024748506024479866,-0.016182487830519676,-0.010708019137382507,-0.013077989220619202,0.02967078611254692,-0.01233100239187479,0.025172574445605278,0.04790094122290611,0.02414454147219658,0.04840449243783951,-0.0030771559104323387,0.01636449806392193,0.06089190021157265,-0.014214267022907734,-0.019718006253242493,-0.0012443684972822666,0.009837259538471699,-0.000764274038374424,-0.01173035241663456,0.03703892603516579,-0.011229698546230793,0.0013271369971334934,-0.027682654559612274,-0.001979375956580043,0.025300415232777596,-0.011697356589138508,-0.0014429265866056085,-0.036777134984731674,0.015167469158768654,0.01139181386679411,-0.059400785714387894,0.025441035628318787,0.0020417352207005024,0.020972836762666702,0.02283388003706932,-0.008112216368317604,-0.0091777965426445,-0.04838193953037262,0.030161742120981216,-0.03622589632868767,0.02359328605234623,-0.006332114804536104,0.05595342814922333,0.05632038041949272,0.03648538514971733,-0.017115233466029167,0.013237441889941692,0.003556810785084963,-0.022477103397250175,-0.029198186472058296,0.022571561858057976,0.01829732395708561,-0.013091116212308407,-0.020308921113610268,-0.042408786714076996,0.05188553035259247,-0.009938321076333523,-0.03119826130568981,0.021004972979426384,0.005912100430577993,-0.007082177791744471,-0.05615408346056938,0.013583785854279995,0.047177109867334366,-0.014832408167421818,-0.050112269818782806,-0.0007641339907422662,-0.020607471466064453,-0.009515611454844475,-6.45159641936449e-33,-0.017901252955198288,-0.029896652325987816,-0.03340788558125496,-0.031943973153829575,-0.0472649484872818,-0.017212314531207085,0.004764835815876722,-0.0376344658434391,0.019790485501289368,-0.003535256488248706,-0.017847368493676186,-0.009875456802546978,0.02174648456275463,0.013161475770175457,0.034895118325948715,0.0118642533197999,0.007643372286111116,-0.003098027314990759,-0.00346582243219018,0.00822850689291954,-0.04620831832289696,0.04149656370282173,-0.0036846804432570934,0.054891832172870636,-0.008219837211072445,-0.01674443483352661,-0.006481732241809368,0.008570621721446514,-0.03670084476470947,0.008065431378781796,0.025325074791908264,-0.059481143951416016,0.002139069139957428,-0.015420116484165192,0.005200923420488834,-0.005931655410677195,-0.041920945048332214,-0.008679990656673908,-0.01577102206647396,0.017578676342964172,0.024891464039683342,0.05029160529375076,0.03800114244222641,-0.023608557879924774,0.00668904697522521,-0.04243800416588783,0.001731508644297719,0.005281559191644192,-0.000322961452184245,-0.000060230107919778675,0.005210577044636011,0.011540597304701805,0.003508887719362974,0.05631839856505394,0.01890539936721325,-0.0301093440502882,0.03331815451383591,-0.017844922840595245,-0.02757883071899414,0.017829088494181633,-0.06232878565788269,0.00025730335619300604,0.0168532095849514,-0.032353807240724564,0.008758739568293095,-0.030104413628578186,-0.0008605779730714858,0.03443903103470802,0.01815834827721119,-0.10521388053894043,-0.014554844237864017,0.013229629956185818,-0.025556188076734543,-0.04101162776350975,0.006186523009091616,0.012078369036316872,-0.030136069282889366,-0.038987502455711365,0.04709234833717346,0.07971885800361633,-0.019048793241381645,0.001774709322489798,0.041381560266017914,0.018093379214406013,0.018155066296458244,-0.04809039831161499,-0.0009824417065829039,0.018825998529791832,0.000933462695684284,0.00642082653939724,0.006846057716757059,0.018732436001300812,-0.050351981073617935,0.01809065230190754,-0.03783559799194336,-0.02958586812019348,0.0604415200650692,0.08366213738918304,-0.00851539894938469,0.016750888898968697,-0.00022235077631194144,0.024602828547358513,0.00981215015053749,-0.037538498640060425,-0.0031951472628861666,0.025073044002056122,0.014902716502547264,-0.019373198971152306,-0.016893533989787102,0.032062556594610214,0.031146621331572533,0.03655900061130524,-0.0394752062857151,0.016399061307311058,0.02537892386317253,-0.0031363836023956537,-0.007370445411652327,-0.02084306627511978,0.04222548007965088,0.036578744649887085,0.00265509937889874,0.042587071657180786,-0.0027531790547072887,0.03574785962700844,0.025824427604675293,-0.008291862905025482,0.0036756203044205904,-0.0036478496622294188,-0.006841681897640228,0.005603221710771322,0.010781426914036274,0.03680940717458725,2.8378781280480325e-7,0.005843850784003735,0.030051374807953835,-0.06109556555747986,0.07104010134935379,-0.001407985226251185,-0.019532272592186928,-0.047930046916007996,-0.0032292543910443783,0.00938388705253601,-0.02199329435825348,0.03996320813894272,-0.04461248964071274,0.01812065578997135,0.03503100946545601,-0.013997338712215424,-0.04287482425570488,-0.038125887513160706,-0.06155196949839592,-0.06613407284021378,-0.04257733374834061,-0.022016162052750587,0.01528895366936922,0.06296637654304504,0.01667192578315735,-0.000521696696523577,0.06954085826873779,0.013617678545415401,-0.01858893409371376,0.01619541645050049,0.008271420374512672,0.02515799179673195,-0.10199333727359772,-0.046797268092632294,0.024654539301991463,-0.023473648354411125,0.005323455203324556,-0.02182145044207573,-0.02306898683309555,0.019080376252532005,0.0718427523970604,0.021288909018039703,-0.0666889026761055,-0.0014333417639136314,-0.011697414331138134,0.012277454137802124,0.014879463240504265,0.008569044061005116,0.00015479743888136,-0.03295770287513733,0.0015804794384166598,0.03512909635901451,0.051094673573970795,0.03774631768465042,-0.0019429700914770365,0.034244343638420105,0.0004460375930648297,0.017651615664362907,0.020464139059185982,0.020019054412841797,0.03959186002612114,-0.003297237679362297,-0.00423250300809741,0.04247923567891121,0.03542172163724899,0.07578934729099274,-0.07302922755479813,-0.005992021411657333,3.589871355746214e-34,0.03077755868434906,-0.033527787774801254,0.04045204818248749,0.05021583288908005,0.009668244048953056,-0.019039049744606018,0.06181923300027847,-0.019422976300120354,0.01645885407924652,-0.04050659388303757,-0.007309996522963047]'
SET
  @HasCustomProps_11ff5813 = 0
SET
  @HasCustomEvents_11ff5813 = 0
SET
  @RequiresData_11ff5813 = 1
SET
  @DependencyCount_11ff5813 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_11ff5813 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_11ff5813 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_11ff5813 = 0
SET
  @ID_11ff5813 = 'EE5E1201-0177-495F-8D28-8F79011C829B'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_11ff5813,
  @Name = @Name_11ff5813,
  @Version = @Version_11ff5813,
  @VersionSequence = @VersionSequence_11ff5813,
  @Title = @Title_11ff5813,
  @Description = @Description_11ff5813,
  @Type = @Type_11ff5813,
  @Status = @Status_11ff5813,
  @DeveloperName = @DeveloperName_11ff5813,
  @DeveloperEmail = @DeveloperEmail_11ff5813,
  @DeveloperOrganization = @DeveloperOrganization_11ff5813,
  @SourceRegistryID = @SourceRegistryID_11ff5813,
  @ReplicatedAt = @ReplicatedAt_11ff5813,
  @LastSyncedAt = @LastSyncedAt_11ff5813,
  @Specification = @Specification_11ff5813,
  @FunctionalRequirements = @FunctionalRequirements_11ff5813,
  @TechnicalDesign = @TechnicalDesign_11ff5813,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_11ff5813,
  @TechnicalDesignVector = @TechnicalDesignVector_11ff5813,
  @HasCustomProps = @HasCustomProps_11ff5813,
  @HasCustomEvents = @HasCustomEvents_11ff5813,
  @RequiresData = @RequiresData_11ff5813,
  @DependencyCount = @DependencyCount_11ff5813,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_11ff5813,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_11ff5813,
  @HasRequiredCustomProps = @HasRequiredCustomProps_11ff5813,
  @ID = @ID_11ff5813;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_1f47c377 NVARCHAR(MAX),
@Name_1f47c377 NVARCHAR(500),
@Version_1f47c377 NVARCHAR(50),
@VersionSequence_1f47c377 INT,
@Title_1f47c377 NVARCHAR(1000),
@Description_1f47c377 NVARCHAR(MAX),
@Type_1f47c377 NVARCHAR(255),
@Status_1f47c377 NVARCHAR(50),
@DeveloperName_1f47c377 NVARCHAR(255),
@DeveloperEmail_1f47c377 NVARCHAR(255),
@DeveloperOrganization_1f47c377 NVARCHAR(255),
@SourceRegistryID_1f47c377 UNIQUEIDENTIFIER,
@ReplicatedAt_1f47c377 DATETIMEOFFSET,
@LastSyncedAt_1f47c377 DATETIMEOFFSET,
@Specification_1f47c377 NVARCHAR(MAX),
@FunctionalRequirements_1f47c377 NVARCHAR(MAX),
@TechnicalDesign_1f47c377 NVARCHAR(MAX),
@FunctionalRequirementsVector_1f47c377 NVARCHAR(MAX),
@TechnicalDesignVector_1f47c377 NVARCHAR(MAX),
@HasCustomProps_1f47c377 BIT,
@HasCustomEvents_1f47c377 BIT,
@RequiresData_1f47c377 BIT,
@DependencyCount_1f47c377 INT,
@TechnicalDesignVectorEmbeddingModelID_1f47c377 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_1f47c377 NVARCHAR(MAX),
@HasRequiredCustomProps_1f47c377 BIT,
@ID_1f47c377 UNIQUEIDENTIFIER
SET
  @Namespace_1f47c377 = N'CRM/Analytics'
SET
  @Name_1f47c377 = N'DealVelocityChart'
SET
  @Version_1f47c377 = N'1.0.0'
SET
  @VersionSequence_1f47c377 = 1
SET
  @Title_1f47c377 = N'Deal Velocity Chart'
SET
  @Description_1f47c377 = N'Interactive line chart showing deal velocity metrics over time with multiple view modes'
SET
  @Type_1f47c377 = N'Chart'
SET
  @Status_1f47c377 = N'Published'
SET
  @Specification_1f47c377 = N'{"name":"DealVelocityChart","title":"Deal Velocity Chart","description":"Interactive line chart showing deal velocity metrics over time with multiple view modes","type":"component","location":"embedded","namespace":"CRM/Analytics","functionalRequirements":"## Deal Velocity Analysis\n\n### Core Features\n- Track deal creation and closure rates over time\n- Show multiple metrics: count, value, velocity, conversion\n- Configurable time ranges (1 month to 2 years)\n- Dynamic bucketing (daily, weekly, monthly)\n- Summary statistics cards\n\n### Metric Types\n1. **Deal Count**: New, Won, Lost deals over time\n2. **Deal Value**: Pipeline and Won value trends\n3. **Velocity**: Average days to close and win rate\n4. **Conversion**: Cumulative conversion rate trend\n\n### Visual Design\n- Line charts with smooth curves\n- Color-coded metrics\n- Interactive tooltips\n- Responsive layout\n- Summary cards with key metrics","dataRequirements":{"mode":"views","description":"Fetches deal data for velocity analysis using RunView","entities":[{"name":"Deals","description":"Deal data for velocity tracking and analysis","displayFields":["ID","DealName","Amount","Stage","CloseDate","__mj_CreatedAt"],"filterFields":["CloseDate","__mj_CreatedAt","Stage"],"sortFields":["CloseDate","__mj_CreatedAt"],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Analyzes deal velocity, conversion rates, and trends over time"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Data Loading\n- Single RunView call with date range filter\n- Load deals created OR closed in range\n- Use __mj_CreatedAt for creation tracking\n\n### Time Bucketing\n- Daily buckets for 1 month\n- Weekly buckets for 3-6 months\n- Monthly buckets for 1-2 years\n\n### Metrics Calculation\n- Deal count by bucket\n- Sum values by bucket\n- Average cycle time (close - create)\n- Win rate percentage\n- Cumulative conversion rate\n\n### Chart.js Configuration\n- Line chart with tension for smooth curves\n- Multiple Y-axes for different scales\n- Custom tooltips with formatting\n- Responsive aspect ratio","properties":[],"exampleUsage":"<DealVelocityChart\n  timeRange=\"6months\"\n  metricType=\"count\"\n  showSummary={true}\n/>","code":"function DealVelocityChart({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  const [deals, setDeals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [timeRange, setTimeRange] = useState(savedUserSettings?.timeRange || ''6months'');\n  const [metricType, setMetricType] = useState(savedUserSettings?.metricType || ''count'');\n  const [chartData, setChartData] = useState(null);\n  const [selectedPeriod, setSelectedPeriod] = useState(null);\n  const [periodDeals, setPeriodDeals] = useState([]);\n  const [selectedDeal, setSelectedDeal] = useState(null);\n  const [sortBy, setSortBy] = useState(''CloseDate'');\n  const [sortDirection, setSortDirection] = useState(''DESC'');\n  const chartRef = useRef(null);\n  const chartInstance = useRef(null);\n  const bucketsRef = useRef([]);\n\n  // Time range options\n  const timeRanges = {\n    ''1month'': { label: ''Last Month'', days: 30, buckets: ''daily'' },\n    ''3months'': { label: ''Last 3 Months'', days: 90, buckets: ''weekly'' },\n    ''6months'': { label: ''Last 6 Months'', days: 180, buckets: ''weekly'' },\n    ''1year'': { label: ''Last Year'', days: 365, buckets: ''monthly'' },\n    ''2years'': { label: ''Last 2 Years'', days: 730, buckets: ''monthly'' }\n  };\n\n  useEffect(() => {\n    loadDeals();\n  }, [timeRange]);\n\n  useEffect(() => {\n    if (deals.length > 0) {\n      processChartData();\n    }\n  }, [deals, metricType]);\n\n  useEffect(() => {\n    if (chartData && chartRef.current) {\n      renderChart();\n    }\n    \n    return () => {\n      if (chartInstance.current) {\n        chartInstance.current.destroy();\n      }\n    };\n  }, [chartData]);\n\n  const loadDeals = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // Calculate date range\n      const endDate = new Date();\n      const startDate = new Date();\n      startDate.setDate(startDate.getDate() - timeRanges[timeRange].days);\n      \n      // Format dates for SQL\n      const formatDate = (date) => date.toISOString().split(''T'')[0];\n      \n      // Load all deals within the time range (both created and closed)\n      const result = await utilities.rv.RunView({\n        EntityName: ''Deals'',\n        ExtraFilter: `__mj_CreatedAt >= ''$' + '{formatDate(startDate)}'' OR (CloseDate >= ''$' + '{formatDate(startDate)}'' AND CloseDate <= ''$' + '{formatDate(endDate)}'')`,\n        OrderBy: ''__mj_CreatedAt ASC''\n      });\n\n      if (result.Success) {\n        setDeals(result.Results || []);\n      } else {\n        setError(result.ErrorMessage || ''Failed to load deals'');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const processChartData = () => {\n    // Store buckets for drill-down functionality\n    bucketsRef.current = [];\n    \n    const range = timeRanges[timeRange];\n    const endDate = new Date();\n    const startDate = new Date();\n    startDate.setDate(startDate.getDate() - range.days);\n    \n    // Create time buckets based on range\n    const buckets = [];\n    const currentDate = new Date(startDate);\n    \n    while (currentDate <= endDate) {\n      let bucketEnd = new Date(currentDate);\n      let label = '''';\n      \n      if (range.buckets === ''daily'') {\n        bucketEnd.setDate(bucketEnd.getDate() + 1);\n        label = currentDate.toLocaleDateString(''en-US'', { month: ''short'', day: ''numeric'' });\n      } else if (range.buckets === ''weekly'') {\n        bucketEnd.setDate(bucketEnd.getDate() + 7);\n        label = `Week of $' + '{currentDate.toLocaleDateString(''en-US'', { month: ''short'', day: ''numeric'' })}`;\n      } else if (range.buckets === ''monthly'') {\n        bucketEnd.setMonth(bucketEnd.getMonth() + 1);\n        label = currentDate.toLocaleDateString(''en-US'', { month: ''short'', year: ''numeric'' });\n      }\n      \n      const bucket = {\n        start: new Date(currentDate),\n        end: new Date(bucketEnd),\n        label: label,\n        created: 0,\n        closed: 0,\n        won: 0,\n        lost: 0,\n        value: 0,\n        wonValue: 0,\n        avgCycleTime: 0,\n        cycleTimeCount: 0,\n        cycleTimeSum: 0,\n        dealIds: [] // Track deal IDs for drill-down\n      };\n      \n      buckets.push(bucket);\n      bucketsRef.current.push(bucket);\n      \n      currentDate.setTime(bucketEnd.getTime());\n    }\n    \n    // Process deals into buckets\n    deals.forEach(deal => {\n      // Find bucket for creation date\n      const createdDate = new Date(deal.__mj_CreatedAt);\n      const createdBucket = buckets.find(b => createdDate >= b.start && createdDate < b.end);\n      if (createdBucket) {\n        createdBucket.created++;\n        createdBucket.value += deal.Amount || 0;\n        if (!createdBucket.dealIds.includes(deal.ID)) {\n          createdBucket.dealIds.push(deal.ID);\n        }\n      }\n      \n      // Find bucket for close date if closed\n      if (deal.CloseDate && (deal.Stage === ''Closed Won'' || deal.Stage === ''Closed Lost'')) {\n        const closeDate = new Date(deal.CloseDate);\n        const closeBucket = buckets.find(b => closeDate >= b.start && closeDate < b.end);\n        if (closeBucket) {\n          closeBucket.closed++;\n          \n          if (deal.Stage === ''Closed Won'') {\n            closeBucket.won++;\n            closeBucket.wonValue += deal.Amount || 0;\n          } else {\n            closeBucket.lost++;\n          }\n          \n          if (!closeBucket.dealIds.includes(deal.ID)) {\n            closeBucket.dealIds.push(deal.ID);\n          }\n          \n          // Calculate cycle time (days from creation to close)\n          const cycleTime = Math.floor((closeDate - createdDate) / (1000 * 60 * 60 * 24));\n          if (cycleTime >= 0) {\n            closeBucket.cycleTimeSum += cycleTime;\n            closeBucket.cycleTimeCount++;\n          }\n        }\n      }\n    });\n    \n    // Calculate average cycle times\n    buckets.forEach(bucket => {\n      if (bucket.cycleTimeCount > 0) {\n        bucket.avgCycleTime = Math.round(bucket.cycleTimeSum / bucket.cycleTimeCount);\n      }\n    });\n    \n    // Prepare chart data based on metric type\n    let datasets = [];\n    \n    if (metricType === ''count'') {\n      datasets = [\n        {\n          label: ''New Deals'',\n          data: buckets.map(b => b.created),\n          borderColor: ''rgb(59, 130, 246)'',\n          backgroundColor: ''rgba(59, 130, 246, 0.1)'',\n          tension: 0.1\n        },\n        {\n          label: ''Closed Won'',\n          data: buckets.map(b => b.won),\n          borderColor: ''rgb(34, 197, 94)'',\n          backgroundColor: ''rgba(34, 197, 94, 0.1)'',\n          tension: 0.1\n        },\n        {\n          label: ''Closed Lost'',\n          data: buckets.map(b => b.lost),\n          borderColor: ''rgb(239, 68, 68)'',\n          backgroundColor: ''rgba(239, 68, 68, 0.1)'',\n          tension: 0.1\n        }\n      ];\n    } else if (metricType === ''value'') {\n      datasets = [\n        {\n          label: ''Pipeline Value'',\n          data: buckets.map(b => b.value),\n          borderColor: ''rgb(59, 130, 246)'',\n          backgroundColor: ''rgba(59, 130, 246, 0.1)'',\n          tension: 0.1,\n          yAxisID: ''y''\n        },\n        {\n          label: ''Won Value'',\n          data: buckets.map(b => b.wonValue),\n          borderColor: ''rgb(34, 197, 94)'',\n          backgroundColor: ''rgba(34, 197, 94, 0.1)'',\n          tension: 0.1,\n          yAxisID: ''y''\n        }\n      ];\n    } else if (metricType === ''velocity'') {\n      datasets = [\n        {\n          label: ''Avg Days to Close'',\n          data: buckets.map(b => b.avgCycleTime || null),\n          borderColor: ''rgb(168, 85, 247)'',\n          backgroundColor: ''rgba(168, 85, 247, 0.1)'',\n          tension: 0.1,\n          spanGaps: true\n        },\n        {\n          label: ''Win Rate %'',\n          data: buckets.map(b => b.closed > 0 ? Math.round((b.won / b.closed) * 100) : null),\n          borderColor: ''rgb(34, 197, 94)'',\n          backgroundColor: ''rgba(34, 197, 94, 0.1)'',\n          tension: 0.1,\n          spanGaps: true,\n          yAxisID: ''y1''\n        }\n      ];\n    } else if (metricType === ''conversion'') {\n      // Calculate cumulative conversion funnel\n      let cumulativeCreated = 0;\n      let cumulativeWon = 0;\n      \n      datasets = [\n        {\n          label: ''Conversion Rate %'',\n          data: buckets.map(b => {\n            cumulativeCreated += b.created;\n            cumulativeWon += b.won;\n            return cumulativeCreated > 0 ? Math.round((cumulativeWon / cumulativeCreated) * 100) : 0;\n          }),\n          borderColor: ''rgb(251, 146, 60)'',\n          backgroundColor: ''rgba(251, 146, 60, 0.1)'',\n          tension: 0.1\n        }\n      ];\n    }\n    \n    setChartData({\n      labels: buckets.map(b => b.label),\n      datasets: datasets\n    });\n  };\n\n  const renderChart = () => {\n    if (chartInstance.current) {\n      chartInstance.current.destroy();\n    }\n    \n    const ctx = chartRef.current.getContext(''2d'');\n    \n    // Configure options based on metric type\n    const options = {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        legend: {\n          position: ''top'',\n        },\n        title: {\n          display: true,\n          text: getChartTitle()\n        },\n        tooltip: {\n          callbacks: {\n            label: function(context) {\n              let label = context.dataset.label || '''';\n              if (label) {\n                label += '': '';\n              }\n              \n              if (metricType === ''value'') {\n                label += new Intl.NumberFormat(''en-US'', {\n                  style: ''currency'',\n                  currency: ''USD'',\n                  minimumFractionDigits: 0\n                }).format(context.parsed.y);\n              } else if (metricType === ''velocity'' && context.dataset.label === ''Avg Days to Close'') {\n                label += context.parsed.y + '' days'';\n              } else if (context.dataset.label && context.dataset.label.includes(''%'')) {\n                label += context.parsed.y + ''%'';\n              } else {\n                label += context.parsed.y;\n              }\n              \n              return label;\n            }\n          }\n        }\n      },\n      onClick: (event, elements) => {\n        if (elements.length > 0) {\n          const index = elements[0].index;\n          handleChartClick(index);\n        }\n      },\n      onHover: (event, elements) => {\n        if (chartRef.current) {\n          chartRef.current.style.cursor = elements.length > 0 ? ''pointer'' : ''default'';\n        }\n      },\n      scales: {\n        y: {\n          beginAtZero: true,\n          ticks: metricType === ''value'' ? {\n            callback: function(value) {\n              return new Intl.NumberFormat(''en-US'', {\n                style: ''currency'',\n                currency: ''USD'',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0\n              }).format(value);\n            }\n          } : {}\n        }\n      }\n    };\n    \n    // Add second y-axis for velocity metric\n    if (metricType === ''velocity'') {\n      options.scales.y1 = {\n        type: ''linear'',\n        display: true,\n        position: ''right'',\n        beginAtZero: true,\n        max: 100,\n        grid: {\n          drawOnChartArea: false\n        },\n        ticks: {\n          callback: function(value) {\n            return value + ''%'';\n          }\n        }\n      };\n    }\n    \n    chartInstance.current = new Chart(ctx, {\n      type: ''line'',\n      data: chartData,\n      options: options\n    });\n  };\n\n  const getChartTitle = () => {\n    switch (metricType) {\n      case ''count'':\n        return ''Deal Flow Over Time'';\n      case ''value'':\n        return ''Deal Value Over Time'';\n      case ''velocity'':\n        return ''Deal Velocity & Win Rate'';\n      case ''conversion'':\n        return ''Cumulative Conversion Rate'';\n      default:\n        return ''Deal Metrics'';\n    }\n  };\n\n  const handleTimeRangeChange = (range) => {\n    setTimeRange(range);\n    onSaveUserSettings({ ...savedUserSettings, timeRange: range });\n  };\n\n  const handleMetricChange = (metric) => {\n    setMetricType(metric);\n    onSaveUserSettings({ ...savedUserSettings, metricType: metric });\n  };\n\n  const handleChartClick = (index) => {\n    const bucket = bucketsRef.current[index];\n    if (bucket && bucket.dealIds.length > 0) {\n      setSelectedPeriod(bucket);\n      \n      // Filter deals for this period\n      const bucketDeals = deals.filter(deal => bucket.dealIds.includes(deal.ID));\n      setPeriodDeals(bucketDeals);\n    }\n  };\n\n  const handleSort = (field) => {\n    if (sortBy === field) {\n      setSortDirection(sortDirection === ''ASC'' ? ''DESC'' : ''ASC'');\n    } else {\n      setSortBy(field);\n      setSortDirection(field === ''Amount'' ? ''DESC'' : ''ASC'');\n    }\n  };\n\n  const getSortedDeals = () => {\n    const sorted = [...periodDeals].sort((a, b) => {\n      let aVal = a[sortBy];\n      let bVal = b[sortBy];\n      \n      if (sortBy === ''CloseDate'' || sortBy === ''__mj_CreatedAt'') {\n        aVal = new Date(aVal || 0).getTime();\n        bVal = new Date(bVal || 0).getTime();\n      }\n      \n      if (sortDirection === ''ASC'') {\n        return aVal > bVal ? 1 : -1;\n      } else {\n        return aVal < bVal ? 1 : -1;\n      }\n    });\n    \n    return sorted;\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat(''en-US'', {\n      style: ''currency'',\n      currency: ''USD'',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount || 0);\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading deal velocity data...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: ''20px'', backgroundColor: ''#FEE2E2'', borderRadius: ''8px'', margin: ''20px'' }}>\n        <div style={{ color: ''#991B1B'', fontWeight: ''bold'' }}>Error loading data</div>\n        <div style={{ color: ''#DC2626'', marginTop: ''8px'' }}>{error}</div>\n        <button \n          onClick={loadDeals}\n          style={{\n            marginTop: ''12px'',\n            padding: ''8px 16px'',\n            backgroundColor: ''#EF4444'',\n            color: ''white'',\n            border: ''none'',\n            borderRadius: ''6px'',\n            cursor: ''pointer''\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  // Internal component for summary stats\n  const renderSummaryStats = () => {\n    const totalDeals = deals.length;\n    const closedDeals = deals.filter(d => d.Stage === ''Closed Won'' || d.Stage === ''Closed Lost'').length;\n    const wonDeals = deals.filter(d => d.Stage === ''Closed Won'').length;\n    const winRate = closedDeals > 0 ? Math.round((wonDeals / closedDeals) * 100) : 0;\n    const totalValue = deals.reduce((sum, d) => sum + (d.Amount || 0), 0);\n    const wonValue = deals.filter(d => d.Stage === ''Closed Won'').reduce((sum, d) => sum + (d.Amount || 0), 0);\n    \n    const metrics = [\n      { label: ''Total Deals'', value: totalDeals, color: ''#3B82F6'', format: ''number'' },\n      { label: ''Won Deals'', value: wonDeals, color: ''#10B981'', format: ''number'' },\n      { label: ''Win Rate'', value: winRate, color: ''#F59E0B'', format: ''percent'' },\n      { label: ''Total Value'', value: totalValue, color: ''#8B5CF6'', format: ''currency'' },\n      { label: ''Won Value'', value: wonValue, color: ''#EC4899'', format: ''currency'' }\n    ];\n    \n    const formatValue = (value, format) => {\n      switch (format) {\n        case ''currency'':\n          return formatCurrency(value);\n        case ''percent'':\n          return `$' + '{value}%`;\n        default:\n          return value.toLocaleString();\n      }\n    };\n    \n    return (\n      <div style={{ \n        display: ''grid'', \n        gridTemplateColumns: ''repeat(auto-fit, minmax(150px, 1fr))'',\n        gap: ''12px'',\n        marginBottom: ''20px''\n      }}>\n        {metrics.map((metric, index) => (\n          <div \n            key={index}\n            style={{ \n              padding: ''12px'', \n              backgroundColor: ''#F9FAFB'', \n              borderRadius: ''8px'',\n              borderLeft: `4px solid $' + '{metric.color}`\n            }}\n          >\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>\n              {metric.label}\n            </div>\n            <div style={{ \n              fontSize: metric.format === ''currency'' ? ''20px'' : ''24px'', \n              fontWeight: ''bold'', \n              color: ''#111827'' \n            }}>\n              {formatValue(metric.value, metric.format)}\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <div style={{ padding: ''20px'', height: ''100%'', display: ''flex'', flexDirection: ''column'' }}>\n      <div style={{ marginBottom: ''20px'' }}>\n        <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'', marginBottom: ''16px'' }}>\n          <h2 style={{ fontSize: ''24px'', fontWeight: ''bold'', margin: 0 }}>Deal Velocity Analysis</h2>\n          <button\n            onClick={loadDeals}\n            style={{\n              padding: ''8px 16px'',\n              backgroundColor: ''#3B82F6'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''6px'',\n              cursor: ''pointer'',\n              fontSize: ''14px''\n            }}\n          >\n            Refresh\n          </button>\n        </div>\n        \n        {/* Controls */}\n        <div style={{ display: ''flex'', gap: ''16px'', marginBottom: ''16px'' }}>\n          <div style={{ display: ''flex'', gap: ''8px'' }}>\n            {Object.entries(timeRanges).map(([key, value]) => (\n              <button\n                key={key}\n                onClick={() => handleTimeRangeChange(key)}\n                style={{\n                  padding: ''6px 12px'',\n                  backgroundColor: timeRange === key ? ''#3B82F6'' : ''#F3F4F6'',\n                  color: timeRange === key ? ''white'' : ''#374151'',\n                  border: ''1px solid'',\n                  borderColor: timeRange === key ? ''#3B82F6'' : ''#D1D5DB'',\n                  borderRadius: ''6px'',\n                  cursor: ''pointer'',\n                  fontSize: ''14px''\n                }}\n              >\n                {value.label}\n              </button>\n            ))}\n          </div>\n          \n          <div style={{ display: ''flex'', gap: ''8px'', marginLeft: ''auto'' }}>\n            <button\n              onClick={() => handleMetricChange(''count'')}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: metricType === ''count'' ? ''#3B82F6'' : ''#F3F4F6'',\n                color: metricType === ''count'' ? ''white'' : ''#374151'',\n                border: ''1px solid'',\n                borderColor: metricType === ''count'' ? ''#3B82F6'' : ''#D1D5DB'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              📊 Deal Count\n            </button>\n            <button\n              onClick={() => handleMetricChange(''value'')}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: metricType === ''value'' ? ''#3B82F6'' : ''#F3F4F6'',\n                color: metricType === ''value'' ? ''white'' : ''#374151'',\n                border: ''1px solid'',\n                borderColor: metricType === ''value'' ? ''#3B82F6'' : ''#D1D5DB'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              💰 Deal Value\n            </button>\n            <button\n              onClick={() => handleMetricChange(''velocity'')}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: metricType === ''velocity'' ? ''#3B82F6'' : ''#F3F4F6'',\n                color: metricType === ''velocity'' ? ''white'' : ''#374151'',\n                border: ''1px solid'',\n                borderColor: metricType === ''velocity'' ? ''#3B82F6'' : ''#D1D5DB'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              ⚡ Velocity\n            </button>\n            <button\n              onClick={() => handleMetricChange(''conversion'')}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: metricType === ''conversion'' ? ''#3B82F6'' : ''#F3F4F6'',\n                color: metricType === ''conversion'' ? ''white'' : ''#374151'',\n                border: ''1px solid'',\n                borderColor: metricType === ''conversion'' ? ''#3B82F6'' : ''#D1D5DB'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              🎯 Conversion\n            </button>\n          </div>\n        </div>\n        \n        {/* Summary Stats */}\n        {renderSummaryStats()}\n        \n      </div>\n      \n      {/* Chart Container */}\n      <div style={{ \n        flex: 1, \n        backgroundColor: ''white'', \n        borderRadius: ''8px'', \n        padding: ''20px'',\n        border: ''1px solid #E5E7EB'',\n        position: ''relative'',\n        minHeight: ''400px''\n      }}>\n        <canvas ref={chartRef}></canvas>\n      </div>\n      \n      {deals.length === 0 && (\n        <div style={{ padding: ''40px'', textAlign: ''center'', color: ''#6B7280'' }}>\n          No deals found in the selected time range\n        </div>\n      )}\n\n      {/* Period Details Modal */}\n      {selectedPeriod && (\n        <div style={{\n          position: ''fixed'',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: ''rgba(0, 0, 0, 0.5)'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1000\n        }}\n        onClick={() => {\n          setSelectedPeriod(null);\n          setSelectedDeal(null);\n        }}\n        >\n          <div \n            style={{\n              backgroundColor: ''white'',\n              borderRadius: ''12px'',\n              width: ''90%'',\n              maxWidth: ''1200px'',\n              height: ''80vh'',\n              display: ''flex'',\n              flexDirection: ''column'',\n              boxShadow: ''0 20px 25px -5px rgba(0, 0, 0, 0.1)''\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div style={{\n              padding: ''20px'',\n              borderBottom: ''1px solid #E5E7EB'',\n              display: ''flex'',\n              justifyContent: ''space-between'',\n              alignItems: ''center''\n            }}>\n              <h3 style={{ fontSize: ''20px'', fontWeight: ''bold'', margin: 0 }}>\n                Deals for {selectedPeriod.label}\n                <span style={{ marginLeft: ''12px'', fontSize: ''16px'', color: ''#6B7280'' }}>\n                  ({periodDeals.length} deals)\n                </span>\n              </h3>\n              <button\n                onClick={() => {\n                  setSelectedPeriod(null);\n                  setSelectedDeal(null);\n                }}\n                style={{\n                  background: ''none'',\n                  border: ''none'',\n                  fontSize: ''24px'',\n                  cursor: ''pointer'',\n                  color: ''#6B7280'',\n                  padding: ''0'',\n                  width: ''30px'',\n                  height: ''30px''\n                }}\n              >\n                ×\n              </button>\n            </div>\n            \n            <div style={{ flex: 1, overflow: ''auto'', padding: ''20px'' }}>\n              {periodDeals.length === 0 ? (\n                <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#6B7280'' }}>\n                  No deals found for this period\n                </div>\n              ) : (\n                <table style={{ width: ''100%'', borderCollapse: ''collapse'' }}>\n                  <thead>\n                    <tr style={{ borderBottom: ''2px solid #E5E7EB'' }}>\n                      <th \n                        onClick={() => handleSort(''DealName'')}\n                        style={{ \n                          padding: ''12px'', \n                          textAlign: ''left'', \n                          fontWeight: ''600'',\n                          cursor: ''pointer'',\n                          color: sortBy === ''DealName'' ? ''#3B82F6'' : ''#374151''\n                        }}\n                      >\n                        Deal Name\n                        {sortBy === ''DealName'' && (\n                          <span style={{ marginLeft: ''4px'' }}>{sortDirection === ''ASC'' ? ''\\u2191'' : ''\\u2193''}</span>\n                        )}\n                      </th>\n                      <th style={{ padding: ''12px'', textAlign: ''left'', fontWeight: ''600'' }}>Stage</th>\n                      <th \n                        onClick={() => handleSort(''Amount'')}\n                        style={{ \n                          padding: ''12px'', \n                          textAlign: ''right'', \n                          fontWeight: ''600'',\n                          cursor: ''pointer'',\n                          color: sortBy === ''Amount'' ? ''#3B82F6'' : ''#374151''\n                        }}\n                      >\n                        Amount\n                        {sortBy === ''Amount'' && (\n                          <span style={{ marginLeft: ''4px'' }}>{sortDirection === ''ASC'' ? ''\\u2191'' : ''\\u2193''}</span>\n                        )}\n                      </th>\n                      <th \n                        onClick={() => handleSort(''CloseDate'')}\n                        style={{ \n                          padding: ''12px'', \n                          textAlign: ''left'', \n                          fontWeight: ''600'',\n                          cursor: ''pointer'',\n                          color: sortBy === ''CloseDate'' ? ''#3B82F6'' : ''#374151''\n                        }}\n                      >\n                        Close Date\n                        {sortBy === ''CloseDate'' && (\n                          <span style={{ marginLeft: ''4px'' }}>{sortDirection === ''ASC'' ? ''\\u2191'' : ''\\u2193''}</span>\n                        )}\n                      </th>\n                      <th \n                        onClick={() => handleSort(''__mj_CreatedAt'')}\n                        style={{ \n                          padding: ''12px'', \n                          textAlign: ''left'', \n                          fontWeight: ''600'',\n                          cursor: ''pointer'',\n                          color: sortBy === ''__mj_CreatedAt'' ? ''#3B82F6'' : ''#374151''\n                        }}\n                      >\n                        Created\n                        {sortBy === ''__mj_CreatedAt'' && (\n                          <span style={{ marginLeft: ''4px'' }}>{sortDirection === ''ASC'' ? ''\\u2191'' : ''\\u2193''}</span>\n                        )}\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {getSortedDeals().map((deal, index) => {\n                      const stageColors = {\n                        ''Prospecting'': { bg: ''#F3F4F6'', text: ''#6B7280'' },\n                        ''Qualification'': { bg: ''#DBEAFE'', text: ''#1E40AF'' },\n                        ''Proposal'': { bg: ''#FEF3C7'', text: ''#92400E'' },\n                        ''Negotiation'': { bg: ''#FED7AA'', text: ''#9A3412'' },\n                        ''Closed Won'': { bg: ''#D1FAE5'', text: ''#065F46'' },\n                        ''Closed Lost'': { bg: ''#FEE2E2'', text: ''#991B1B'' }\n                      };\n                      const stageStyle = stageColors[deal.Stage] || stageColors[''Prospecting''];\n                      \n                      return (\n                        <tr \n                          key={deal.ID}\n                          style={{ \n                            borderBottom: ''1px solid #E5E7EB'',\n                            cursor: ''pointer'',\n                            backgroundColor: index % 2 === 0 ? ''white'' : ''#F9FAFB''\n                          }}\n                          onClick={() => setSelectedDeal(deal)}\n                          onMouseEnter={(e) => e.currentTarget.style.backgroundColor = ''#F3F4F6''}\n                          onMouseLeave={(e) => e.currentTarget.style.backgroundColor = index % 2 === 0 ? ''white'' : ''#F9FAFB''}\n                        >\n                          <td style={{ padding: ''12px'', fontWeight: ''500'' }}>{deal.DealName}</td>\n                          <td style={{ padding: ''12px'' }}>\n                            <span style={{\n                              padding: ''4px 8px'',\n                              borderRadius: ''6px'',\n                              fontSize: ''12px'',\n                              fontWeight: ''600'',\n                              backgroundColor: stageStyle.bg,\n                              color: stageStyle.text\n                            }}>\n                              {deal.Stage}\n                            </span>\n                          </td>\n                          <td style={{ padding: ''12px'', textAlign: ''right'', fontWeight: ''600'', color: ''#059669'' }}>\n                            {formatCurrency(deal.Amount)}\n                          </td>\n                          <td style={{ padding: ''12px'' }}>\n                            {deal.CloseDate ? new Date(deal.CloseDate).toLocaleDateString() : ''-''}\n                          </td>\n                          <td style={{ padding: ''12px'' }}>\n                            {new Date(deal.__mj_CreatedAt).toLocaleDateString()}\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Deal Detail Modal */}\n      {selectedDeal && (\n        <div style={{\n          position: ''fixed'',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: ''rgba(0, 0, 0, 0.5)'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1001\n        }}\n        onClick={() => setSelectedDeal(null)}\n        >\n          <div \n            style={{\n              backgroundColor: ''white'',\n              borderRadius: ''12px'',\n              padding: ''24px'',\n              maxWidth: ''500px'',\n              width: ''90%'',\n              maxHeight: ''80vh'',\n              overflowY: ''auto'',\n              boxShadow: ''0 20px 25px -5px rgba(0, 0, 0, 0.1)''\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''start'', marginBottom: ''20px'' }}>\n              <h3 style={{ fontSize: ''20px'', fontWeight: ''bold'', margin: 0 }}>{selectedDeal.DealName}</h3>\n              <button\n                onClick={() => setSelectedDeal(null)}\n                style={{\n                  background: ''none'',\n                  border: ''none'',\n                  fontSize: ''24px'',\n                  cursor: ''pointer'',\n                  color: ''#6B7280'',\n                  padding: ''0'',\n                  width: ''30px'',\n                  height: ''30px''\n                }}\n              >\n                ×\n              </button>\n            </div>\n            \n            <div style={{ display: ''grid'', gap: ''16px'' }}>\n              <div style={{ display: ''grid'', gridTemplateColumns: ''1fr 1fr'', gap: ''16px'' }}>\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Amount</label>\n                  <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#059669'' }}>\n                    {formatCurrency(selectedDeal.Amount)}\n                  </div>\n                </div>\n                \n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Stage</label>\n                  <div style={{ fontSize: ''16px'', fontWeight: ''600'' }}>\n                    {selectedDeal.Stage}\n                  </div>\n                </div>\n              </div>\n              \n              <div style={{ display: ''grid'', gridTemplateColumns: ''1fr 1fr'', gap: ''16px'' }}>\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Close Date</label>\n                  <div style={{ fontSize: ''14px'', color: ''#111827'' }}>\n                    {selectedDeal.CloseDate ? new Date(selectedDeal.CloseDate).toLocaleDateString() : ''Not set''}\n                  </div>\n                </div>\n                \n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Probability</label>\n                  <div style={{ fontSize: ''14px'', color: ''#111827'' }}>\n                    {selectedDeal.Probability || 0}%\n                  </div>\n                </div>\n              </div>\n              \n              {selectedDeal.DealSource && (\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Source</label>\n                  <div style={{ fontSize: ''14px'', color: ''#111827'' }}>\n                    {selectedDeal.DealSource}\n                  </div>\n                </div>\n              )}\n              \n              {selectedDeal.NextStep && (\n                <div>\n                  <label style={{ fontSize: ''12px'', color: ''#6B7280'', display: ''block'', marginBottom: ''4px'' }}>Next Step</label>\n                  <div style={{ fontSize: ''14px'', color: ''#111827'' }}>\n                    {selectedDeal.NextStep}\n                  </div>\n                </div>\n              )}\n            </div>\n            \n            <div style={{ \n              marginTop: ''20px'', \n              paddingTop: ''20px'', \n              borderTop: ''1px solid #E5E7EB'',\n              display: ''flex'',\n              justifyContent: ''flex-end''\n            }}>\n              <button\n                onClick={() => {\n                  // callbacks.OpenEntityRecord expects:\n                  // 1. Entity name as string\n                  // 2. Array of key-value pairs: [{FieldName: ''fieldname'', Value: value}]\n                  if (callbacks.OpenEntityRecord) {\n                    callbacks.OpenEntityRecord(''Deals'', [\n                      { FieldName: ''ID'', Value: selectedDeal.ID }\n                    ]);\n                    setSelectedDeal(null);\n                    setSelectedPeriod(null);\n                  } else {\n                    console.warn(''OpenEntityRecord callback not available'');\n                  }\n                }}\n                style={{\n                  padding: ''8px 16px'',\n                  backgroundColor: ''#3B82F6'',\n                  color: ''white'',\n                  border: ''none'',\n                  borderRadius: ''6px'',\n                  cursor: ''pointer'',\n                  fontSize: ''14px'',\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  gap: ''8px''\n                }}\n              >\n                <span style={{ fontSize: ''16px'' }}>📂</span>\n                Open\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","libraries":[{"name":"Chart.js","version":"^4.4.0","globalVariable":"Chart"}]}'
SET
  @FunctionalRequirements_1f47c377 = N'## Deal Velocity Analysis

### Core Features
- Track deal creation and closure rates over time
- Show multiple metrics: count, value, velocity, conversion
- Configurable time ranges (1 month to 2 years)
- Dynamic bucketing (daily, weekly, monthly)
- Summary statistics cards

### Metric Types
1. **Deal Count**: New, Won, Lost deals over time
2. **Deal Value**: Pipeline and Won value trends
3. **Velocity**: Average days to close and win rate
4. **Conversion**: Cumulative conversion rate trend

### Visual Design
- Line charts with smooth curves
- Color-coded metrics
- Interactive tooltips
- Responsive layout
- Summary cards with key metrics'
SET
  @TechnicalDesign_1f47c377 = N'## Implementation

### Data Loading
- Single RunView call with date range filter
- Load deals created OR closed in range
- Use __mj_CreatedAt for creation tracking

### Time Bucketing
- Daily buckets for 1 month
- Weekly buckets for 3-6 months
- Monthly buckets for 1-2 years

### Metrics Calculation
- Deal count by bucket
- Sum values by bucket
- Average cycle time (close - create)
- Win rate percentage
- Cumulative conversion rate

### Chart.js Configuration
- Line chart with tension for smooth curves
- Multiple Y-axes for different scales
- Custom tooltips with formatting
- Responsive aspect ratio'
SET
  @FunctionalRequirementsVector_1f47c377 = N'[-0.035990387201309204,0.035737115889787674,-0.041320815682411194,-0.05635599046945572,0.008051689714193344,-0.018313029780983925,0.006954856216907501,0.00667356513440609,-0.11213057488203049,-0.015665723010897636,-0.040525782853364944,-0.039158664643764496,0.021966051310300827,0.19777031242847443,-0.049212198704481125,-0.04925457388162613,-0.013814318925142288,-0.011733734048902988,0.003846091218292713,0.01668820157647133,0.014459474943578243,-0.011250278912484646,-0.021579669788479805,0.026944007724523544,-0.0314655564725399,-0.021222243085503578,-0.05737156420946121,-0.023936817422509193,-0.01475998479872942,-0.1331741362810135,0.00777569692581892,0.024096909910440445,-0.013886476866900921,0.02819962427020073,0.000002054131527984282,-0.014500373043119907,-0.05116581916809082,0.01661236397922039,-0.012408523820340633,0.05889812856912613,0.09285227954387665,-0.05577440187335014,0.037619322538375854,0.017809122800827026,-0.025623047724366188,-0.06819900870323181,-0.048851437866687775,-0.005165620241314173,-0.016293270513415337,-0.012012428604066372,0.006397899240255356,0.03160794451832771,-0.009357370436191559,-0.00037698043161071837,-0.04352143779397011,-0.0782330259680748,-0.026602283120155334,0.012100297026336193,0.006612020544707775,-0.06619764119386673,-0.027728380635380745,-0.0049438197165727615,0.006445384584367275,-0.07963572442531586,0.08080924302339554,0.04402840510010719,0.039850179105997086,0.00241425191052258,-0.05059134215116501,0.011987049132585526,0.04793284460902214,0.018352152779698372,-0.0014224454062059522,-0.0360613688826561,-0.030962331220507622,-0.10371368378400803,-0.042346078902482986,0.032877691090106964,0.03996121883392334,-0.02215525321662426,-0.1182451918721199,0.10175799578428268,-0.049266517162323,-0.00919969193637371,0.03859306126832962,-0.03436726704239845,0.01144268736243248,0.011541895568370819,-0.024356551468372345,0.0032753825653344393,0.06706749647855759,-0.03591226786375046,-0.018206721171736717,-0.01694449968636036,-0.0664951354265213,-0.02544599026441574,0.03111782856285572,0.0029629140626639128,0.017926709726452827,-0.02572551928460598,0.021331461146473885,0.014984440058469772,0.04020708054304123,0.024747628718614578,0.053912583738565445,-0.009325232356786728,0.007912404835224152,-0.07651802897453308,-0.03262566030025482,0.05055727809667587,-0.001486391294747591,0.007336594630032778,0.0004475321911741048,0.005306462291628122,-0.008675060234963894,0.0073311589658260345,-0.07995395362377167,-0.0028278303798288107,0.005096822045743465,0.025220287963747978,0.07366996258497238,0.004541346337646246,0.018356110900640488,0.02340274676680565,-0.04106312245130539,0.02034013345837593,-0.057377059012651443,-0.006215184461325407,-0.00904285442084074,0.007068990264087915,-0.011763111688196659,-0.003836653660982847,-0.0042946236208081245,-0.03609707951545715,0.009937296621501446,0.001493941294029355,0.0026827347464859486,0.03213479369878769,-0.014672938734292984,-0.01024724543094635,0.017878251150250435,0.0043602390214800835,-0.04448561742901802,-0.005711168050765991,-0.0226852148771286,-0.02321472577750683,-0.015026119537651539,0.06142127513885498,-0.002024349756538868,-0.0013567620189860463,0.0022065285593271255,-0.007238851394504309,0.030717061832547188,0.04348890110850334,-0.01985931023955345,-0.040188174694776535,0.02615225501358509,-0.0020870910957455635,0.00858378130942583,0.06209111586213112,-0.0025010022800415754,-0.031890321522951126,0.020760685205459595,0.011964854784309864,-0.021239032968878746,0.04204002395272255,-0.06084205210208893,-0.006124501582235098,0.017831234261393547,-0.036778420209884644,0.011201094835996628,-0.02223779447376728,-0.045461636036634445,0.002005765913054347,0.022619551047682762,-0.011281067505478859,0.05224781483411789,-0.0026649567298591137,-0.0010106750996783376,-0.06292284280061722,-0.003676320891827345,-0.16927747428417206,0.03439895808696747,0.03577413409948349,0.05037662014365196,-0.002132078865543008,-0.06035926938056946,0.04276057332754135,-0.008618367835879326,0.006126338616013527,0.001113181235268712,0.028836047276854515,0.004722219426184893,0.011792468838393688,0.000762533803936094,-0.011905960738658905,-0.004083762411028147,-0.04760824516415596,0.011553903110325336,0.04270698130130768,-0.05501318722963333,-0.010937469080090523,0.008837427012622356,-0.040049925446510315,0.026677830144762993,0.05076535791158676,0.015486170537769794,-0.03806060925126076,-0.08973190188407898,0.037296365946531296,0.06287679821252823,-0.0008290458936244249,-0.06312433630228043,0.011167250573635101,-0.011591189540922642,0.04185320809483528,0.016816284507513046,0.015461280010640621,-0.010923492722213268,-0.019285256043076515,-0.016678305342793465,0.021748214960098267,0.012536874040961266,0.003006197279319167,0.12241227179765701,0.05076327174901962,0.0163493063300848,-0.03333557769656181,0.026105234399437904,0.0020148083567619324,0.007028818596154451,-0.022547906264662743,0.010139670222997665,0.013334237039089203,0.004628622438758612,0.05579029396176338,0.08220622688531876,0.12124735862016678,0.011589501053094864,0.059452906250953674,-0.03457063063979149,-0.07147216796875,-0.012898513115942478,0.023676088079810143,0.010136429220438004,-0.014305400662124157,-0.04594876244664192,-0.0033745644614100456,0.04062875360250473,-0.012223804369568825,0.012728561647236347,0.01887974888086319,0.06146504357457161,-0.007345784921199083,-0.003901225281879306,0.01425862591713667,-0.11360770463943481,0.021619059145450592,0.014855834655463696,0.07074474543333054,0.0075982133857905865,-0.025988953188061714,-0.02655705437064171,-0.01705300249159336,0.009915143251419067,-0.04135046899318695,0.04858158528804779,0.017046811059117317,0.041210293769836426,0.0186128169298172,0.04578172788023949,0.009401889517903328,-0.004596374928951263,0.008165865205228329,0.0012542889453470707,0.04203544929623604,-0.08441619575023651,0.01117672584950924,-0.008262843824923038,-0.018126532435417175,-0.011292348615825176,-0.0332619845867157,-0.011222882196307182,0.009546606801450253,-0.009217220358550549,-0.0002229949168395251,0.020173000171780586,0.007396747823804617,-0.026297373697161674,-0.05162651836872101,0.02652714028954506,-0.04720135033130646,0.02836012654006481,-0.029685664921998978,-0.04688442498445511,0.022199980914592743,-0.017124777659773827,0.006876955274492502,-0.004481066484004259,0.006969287060201168,-0.006539303343743086,-0.06765290349721909,-0.056155212223529816,0.01567155309021473,-0.017093803733587265,0.0042862435802817345,0.019485171884298325,0.017303943634033203,0.009774275124073029,0.05527222901582718,0.020402712747454643,-0.003412890248000622,0.020913822576403618,-0.04004824161529541,0.006489707622677088,-0.019927870482206345,-0.012702398002147675,0.06371545791625977,-0.0047439574263989925,0.03932832181453705,0.0259059127420187,-0.03370499610900879,-0.03966985642910004,0.003368288977071643,-0.03635173663496971,-0.0005938433459959924,-0.034109558910131454,-0.02694769576191902,-0.05159618705511093,-0.009549490176141262,-0.012147543020546436,-0.025774221867322922,-0.04667152836918831,0.0044709485955536366,0.0062739965505898,0.002981326309964061,-0.04373050108551979,0.05221384018659592,0.01783894933760166,-0.027668925002217293,-0.02009993977844715,0.018321800976991653,-0.04350930079817772,-0.014036495238542557,-0.01029272098094225,-0.019835585728287697,0.07505890727043152,-0.011823905631899834,-0.07381267100572586,0.03551308065652847,0.034008461982011795,-0.0058058095164597034,-0.024956325069069862,-0.04932292923331261,0.019811563193798065,0.017347143962979317,-0.012399328872561455,-0.004095347132533789,-0.007266073487699032,-0.06878815591335297,0.02572813257575035,0.03601912409067154,-0.01994895190000534,0.05554981902241707,-0.03773476183414459,0.046247776597738266,0.007341133896261454,0.004499992821365595,0.053337447345256805,0.023285696282982826,-0.032536815851926804,0.023922009393572807,0.048558205366134644,0.0106676509603858,-0.010302229784429073,-0.025809941813349724,0.019639160484075546,0.010431106202304363,0.04248303547501564,-0.011388798244297504,0.03465278074145317,-0.016045523807406425,0.08814657479524612,-0.04076369106769562,0.05804649367928505,-0.01958729326725006,-0.007600870449095964,-0.028837762773036957,-0.02960682287812233,-0.0027972511015832424,-0.011246936395764351,0.027679556980729103,0.03447481989860535,-0.0020476696081459522,-0.020446619018912315,-0.02132263593375683,0.008352967910468578,0.023387102410197258,-0.011972934938967228,0.003571219276636839,0.008002156391739845,-0.0035070092417299747,0.05460820719599724,-0.013711364939808846,0.015199868939816952,-0.022415313869714737,0.015859199687838554,0.03524382412433624,-0.01566326804459095,-0.004329644609242678,-0.06985706090927124,0.0489703007042408,-0.0011433043982833624,-0.023278987035155296,0.029809843748807907,0.024673080071806908,0.012905733659863472,0.02548353746533394,0.03398991748690605,-0.0008715267176739872,0.050524670630693436,0.04745205119252205,0.03726108372211456,0.04745832458138466,-0.00912814773619175,-0.021040743216872215,-0.02239365689456463,-0.07941988110542297,0.014058874920010567,-0.00801907479763031,-0.004603471141308546,0.027557814493775368,0.0019030257826671004,0.01727612316608429,-0.013676680624485016,-0.09973277151584625,-0.014279629103839397,0.0054563055746257305,-0.016521448269486427,0.011499229818582535,0.014701150357723236,0.005107916425913572,0.061370596289634705,0.00020954186038579792,0.03769952431321144,0.011986196041107178,0.00427210982888937,0.019455622881650925,0.01572406478226185,-0.03127475827932358,0.008854725398123264,-0.06780138611793518,0.04730363190174103,-0.00035796177689917386,0.002164405770599842,-0.02912074699997902,0.049651261419057846,-0.09007659554481506,0.005960780195891857,-0.045751865953207016,0.015925105661153793,0.020199162885546684,-0.05056879296898842,0.02618977427482605,0.05260872840881348,-0.13023151457309723,-0.038090597838163376,-0.01849302090704441,-0.01862194947898388,-0.028980286791920662,0.042167674750089645,-0.008609088137745857,-0.031137851998209953,0.022968510165810585,0.03669057786464691,0.01188450027257204,0.0057509602047502995,0.005087696015834808,0.0724128782749176,0.01621013879776001,-0.02179422788321972,-0.01099134050309658,0.021138401702046394,-0.07611076533794403,0.0018967267824336886,0.03707282990217209,0.005333365872502327,-0.0013177312212064862,-0.022328227758407593,-0.03538874536752701,0.024487769231200218,-0.025333145633339882,-0.06037840619683266,0.030470315366983414,0.04609326273202896,0.025903020054101944,-0.005344050470739603,-0.026930535212159157,-0.004557064268738031,0.04583810642361641,-0.020213179290294647,-0.0007206848822534084,0.05360901728272438,-0.04239710792899132,-0.023560045287013054,0.05301331356167793,0.03444270044565201,-0.025379110127687454,-0.009616723284125328,-0.008327187970280647,0.04968313127756119,-0.0346950963139534,0.026240361854434013,-0.018770888447761536,0.04874860867857933,0.0023182558361440897,-0.020356586202979088,0.030353737995028496,-0.0029594090301543474,-0.011562032625079155,0.008916614577174187,0.0033972766250371933,-0.019334444776177406,-0.010780558921396732,0.07205862551927567,-0.07546080648899078,0.027696914970874786,-0.030598057433962822,0.016379311680793762,0.05431365594267845,-0.020723043009638786,0.014178864657878876,-0.022594043985009193,0.028484566137194633,-0.007010563742369413,0.06829685717821121,0.03577239811420441,0.024143414571881294,0.018742438405752182,-0.009781158529222012,-0.06151090934872627,0.03903812915086746,0.08097688108682632,-0.028751973062753677,0.04109157994389534,-0.004574031103402376,-0.019582021981477737,-0.028760744258761406,-0.023423047736287117,-0.009751472622156143,0.011239065788686275,0.013863561674952507,-0.005908063147217035,0.014329159632325172,-0.08813372999429703,-6.617808381834884e-33,-0.016869938001036644,-0.0272513497620821,-0.01991356536746025,-0.008309618569910526,-0.0008559168200008571,-0.0051439423114061356,0.05337579920887947,-0.016411393880844116,0.004580826032906771,0.003952056169509888,-0.025086693465709686,-0.016659487038850784,0.025836987420916557,-0.019766492769122124,0.04048331081867218,0.017332766205072403,0.04817104712128639,-0.0243078526109457,-0.005019203759729862,0.0038873974699527025,-0.051892898976802826,0.029667837545275688,0.03217120096087456,-0.045087069272994995,-0.03957011178135872,0.0406029038131237,-0.03303050622344017,0.013360150158405304,0.03226881101727486,0.02093072608113289,0.005485267378389835,-0.018360508605837822,-0.027511421591043472,-0.018182601779699326,-0.010633936151862144,-0.08574222028255463,-0.008421974256634712,0.011508017778396606,-0.004792351741343737,0.0009855326497927308,0.10100023448467255,0.009932445362210274,0.01206860039383173,0.001971457153558731,0.005954728927463293,0.007544137537479401,0.03564881905913353,-0.0168857853859663,-0.0489598847925663,-0.056054893881082535,0.018850374966859818,0.025648877024650574,-0.0196232907474041,0.03214402124285698,0.0328899547457695,-0.01033074501901865,0.030902354046702385,-0.01713353767991066,-0.0785081759095192,0.024011678993701935,-0.02189682237803936,-0.0013429793762043118,-0.00040088826790452003,-0.011188172735273838,0.01143449917435646,0.005242534913122654,-0.048215046525001526,0.02178192511200905,0.05240429565310478,-0.016057593747973442,0.017568105831742287,-0.0062601761892437935,-0.011237895116209984,-0.03283293545246124,0.0032427485566586256,0.03706977516412735,0.03506418317556381,0.00225620879791677,0.0342436358332634,0.03407122939825058,-0.012330897152423859,-0.012808035127818584,-0.0055336435325443745,0.05499469116330147,0.004009325057268143,-0.02359090745449066,0.0012142411433160305,-0.03847648948431015,0.025296973064541817,0.025584593415260315,0.007008855696767569,-0.02068733051419258,-0.019420772790908813,0.042514871805906296,-0.08054859936237335,-0.0058859484270215034,0.07185117155313492,0.08443985879421234,-0.005767174996435642,-0.03273502364754677,0.018329238519072533,0.011343438178300858,-0.016290616244077682,-0.042249757796525955,0.010372797027230263,-0.004056290723383427,0.026275809854269028,0.005410678219050169,-0.03840385377407074,0.011120238341391087,0.03194939345121384,0.01520154532045126,-0.02576235681772232,-0.03534982353448868,-0.030288614332675934,-0.03634824603796005,-0.012601402588188648,0.011622468009591103,0.005861194338649511,0.0327327698469162,-0.024287736043334007,-0.017742466181516647,0.0033675425220280886,0.02116008661687374,0.03691553324460983,-0.02323797531425953,0.003806118620559573,-0.07905339449644089,0.033029068261384964,0.0185224711894989,0.006850873585790396,-0.005484952591359615,2.9796154876748915e-7,-0.00012559119204524904,0.044171616435050964,-0.05957314744591713,0.0725010335445404,-0.03332489728927612,0.012050367891788483,-0.01052422821521759,-0.011535915546119213,0.04211748018860817,-0.04231981188058853,-0.00363931804895401,-0.015402095392346382,0.018825501203536987,0.05473903939127922,0.028827449306845665,-0.021400028839707375,0.02021067962050438,-0.03254874795675278,-0.041887182742357254,-0.0174301415681839,0.04484296590089798,0.04767359793186188,0.07288798689842224,0.030858175829052925,0.025251824408769608,0.057928502559661865,-0.0014758730540052056,-0.027977880090475082,-0.03446606174111366,0.03805740922689438,0.03323047608137131,-0.028049686923623085,-0.02926214039325714,-0.011757323518395424,-0.007032407913357019,0.04138340801000595,-0.014559716917574406,-0.03317556902766228,0.028436558321118355,0.01211974211037159,-0.019999762997031212,-0.027854327112436295,-0.013480981811881065,-0.004561582114547491,0.010737158358097076,-0.019569916650652885,0.012622019276022911,-0.061302561312913895,-0.00164975062943995,0.013620521873235703,0.029542215168476105,0.02007952891290188,0.00593671714887023,0.0207485593855381,0.03277832269668579,0.0005109517369419336,0.006721010431647301,0.04341975972056389,0.02418222650885582,-0.02077661082148552,0.004539909772574902,-0.009069321677088737,0.00031909436802379787,0.016415556892752647,0.013260934501886368,0.007924159988760948,-0.0021253337617963552,3.673245818054429e-34,0.02188901975750923,0.0010400727624073625,0.023679519072175026,0.08085672557353973,0.030663345009088516,-0.015079554170370102,0.07018470764160156,-0.03286191076040268,0.007918954826891422,-0.05611775442957878,-0.0007629041210748255]'
SET
  @TechnicalDesignVector_1f47c377 = N'[0.008094379678368568,0.005929598119109869,-0.02742752432823181,-0.04692669212818146,0.002581364009529352,-0.04097757488489151,0.034110505133867264,-0.015650637447834015,-0.04094227775931358,-0.00006733646296197549,-0.05063466727733612,0.02373199351131916,0.017345592379570007,0.1844450682401657,-0.01620626449584961,-0.03638441115617752,-0.05545380339026451,0.02774868719279766,0.0158243291079998,0.009830326773226261,0.02465040795505047,0.0019706450402736664,-0.005825873930007219,-0.02389387972652912,0.011302599683403969,-0.0472068190574646,-0.05388765409588814,0.040365707129240036,-0.004915100988000631,-0.11636190861463547,-0.016848187893629074,0.01712176389992237,-0.05639325827360153,0.06178764998912811,0.0000020444306301214965,-0.019154885783791542,-0.041148532181978226,-0.011309613473713398,-0.023132478818297386,0.060810379683971405,0.08139737695455551,-0.06738925725221634,0.03747614845633507,-0.015121228992938995,0.0017694721464067698,-0.0007172755431383848,-0.05801352858543396,-0.0021498564165085554,0.017879698425531387,-0.019419992342591286,-0.0017466781428083777,0.0796976089477539,-0.02682274952530861,-0.0017043751431629062,-0.017900241538882256,-0.040894247591495514,-0.011369814164936543,0.05920462682843208,0.06487865746021271,-0.0635182335972786,-0.03272528201341629,0.006257784552872181,0.009622965008020401,-0.06435001641511917,0.04288311302661896,0.006520881317555904,0.028668012470006943,-0.04618275538086891,-0.0342981219291687,0.0007560555241070688,0.03790644556283951,-0.044522639364004135,-0.012651199474930763,-0.021669335663318634,-0.049522943794727325,-0.059871114790439606,-0.0768042579293251,0.015321938320994377,0.04738947004079819,-0.02578742988407612,-0.09156003594398499,0.04606650769710541,-0.04586957395076752,0.003676631487905979,0.06317766010761261,-0.05058181658387184,-0.003505764063447714,-0.02968009188771248,0.01357106864452362,0.009417103603482246,0.04457709938287735,-0.012212662026286125,-0.01428128406405449,-0.018775977194309235,-0.06551486998796463,-0.02515668421983719,0.04107096418738365,0.027887310832738876,0.023036247119307518,0.037932250648736954,0.06173727661371231,0.013728678226470947,0.023721637204289436,0.030850768089294434,0.028915327042341232,-0.001800461788661778,0.021384481340646744,-0.07157880067825317,-0.02195580303668976,0.02756308950483799,0.028192168101668358,0.0021396190859377384,0.00852153915911913,-0.014933127909898758,-0.0020930964965373278,-0.014260629191994667,-0.07753530144691467,0.00819373782724142,0.0060732546262443066,0.020937839522957802,0.12319301068782806,0.009435290470719337,0.004728625528514385,0.03443092852830887,0.0032381247729063034,-0.04502975568175316,-0.037461716681718826,0.005869358777999878,-0.015649208799004555,-0.016838915646076202,-0.02764000929892063,0.017561355605721474,0.012612130492925644,-0.02689977176487446,0.020770957693457603,-0.017239924520254135,0.028160393238067627,0.054432086646556854,-0.050628021359443665,-0.021003108471632004,0.002447224222123623,-0.000628626556135714,-0.07319885492324829,0.005732052493840456,0.0020712725818157196,-0.02433435432612896,-0.006670138332992792,0.07955986261367798,0.011787991970777512,0.012370722368359566,-0.038756947964429855,-0.03411995619535446,-0.009435266256332397,0.04298373684287071,-0.06387152522802353,-0.010237612761557102,0.02092612162232399,0.02176043763756752,0.03968586027622223,0.0355643704533577,0.01847519353032112,-0.013136204332113266,0.014223428443074226,0.003411416197195649,-0.013425574637949467,0.046820346266031265,-0.0684618204832077,-0.021005120128393173,-0.053073447197675705,-0.011164422146975994,0.007662272080779076,-0.04214564710855484,-0.03219207376241684,0.030440974980592728,0.015010257251560688,-0.024776827543973923,0.06448959559202194,-0.04059148207306862,0.0044690389186143875,-0.025539157912135124,0.024450182914733887,-0.1466730386018753,0.003989806864410639,-0.009477267973124981,0.10018033534288406,-0.012843279168009758,-0.08167991042137146,0.038212817162275314,0.016926201060414314,0.03715643286705017,0.009219037368893623,0.03549636900424957,-0.04155510291457176,0.020918317139148712,-0.01245796401053667,0.016475845128297806,0.015384610742330551,-0.042281441390514374,0.011278497986495495,0.03546130284667015,-0.022013749927282333,0.026588743552565575,-0.0001379206805722788,-0.05854569002985954,0.021173272281885147,0.049928225576877594,-0.029732873663306236,-0.010937259532511234,-0.10173012316226959,0.032233789563179016,0.035868678241968155,0.00493227131664753,-0.04617202654480934,-0.005642172414809465,-0.04329190030694008,0.017188623547554016,-0.0018439635168761015,0.0035697235725820065,0.0019215121865272522,-0.007138221524655819,-0.03722593933343887,0.01664060726761818,0.026511861011385918,-0.009657259099185467,0.05053117871284485,0.02994110807776451,0.026603633537888527,-0.03153317794203758,0.06110645830631256,0.00043231219751760364,0.011067163199186325,-0.04075004160404205,0.041684024035930634,0.04000968113541603,0.02587096393108368,0.07952949404716492,0.03384501859545708,0.04584410414099693,0.0104130320250988,0.04508011415600777,0.026024658232927322,-0.04881148412823677,-0.02464650571346283,-0.022864114493131638,0.014372501522302628,-0.0016337737906724215,-0.052308179438114166,0.023090168833732605,0.004364133812487125,-0.014423951506614685,0.022122688591480255,0.033498600125312805,0.04286397248506546,-0.014483909122645855,-0.0035633950028568506,0.023355640470981598,-0.02478066086769104,0.0172063410282135,0.008282230235636234,0.10276219993829727,0.012171038426458836,-0.01668764464557171,-0.023000568151474,-0.012628795579075813,0.034586478024721146,-0.05702006071805954,0.05781853571534157,-0.039089400321245193,0.045840054750442505,0.03369857370853424,-0.01596132107079029,0.04291580244898796,0.032038744539022446,-0.016145652160048485,-0.031198667362332344,0.06115339323878288,-0.017893290147185326,0.02309456095099449,-0.01782899908721447,-0.023555831983685493,-0.018870119005441666,-0.030975913628935814,0.014555655419826508,0.0247946884483099,-0.0000715885398676619,-0.00121709902305156,0.036178793758153915,0.03311816230416298,-0.01062304899096489,-0.03935731574892998,0.0071328068152070045,-0.0344197154045105,0.02110556699335575,-0.015575292520225048,-0.054186876863241196,0.02596847154200077,0.01731361448764801,0.03778354078531265,-0.05277394503355026,-0.0013272998621687293,-0.030462808907032013,-0.04604623466730118,-0.022654885426163673,-0.010614723898470402,0.00394498510286212,-0.01903136819601059,0.0591089241206646,-0.015893224626779556,-0.017772985622286797,0.078894704580307,0.05149881914258003,0.011720874346792698,0.0385921411216259,-0.04381442070007324,0.013961948454380035,-0.00963510386645794,-0.05448492243885994,0.03925245255231857,-0.012148318812251091,0.07064986228942871,0.013829256407916546,-0.045000456273555756,-0.014128773473203182,0.008342222310602665,-0.07456024736166,-0.006573644001036882,-0.06124061346054077,-0.027211366221308708,-0.05669160187244415,0.022979680448770523,0.00033748632995411754,-0.0676751509308815,-0.010648981668055058,-0.021091453731060028,0.03981601074337959,0.006573568098247051,-0.044896360486745834,-0.042518578469753265,0.05088961124420166,-0.04352528229355812,-0.0172532107681036,0.02968490496277809,-0.04278929531574249,-0.013568821363151073,0.009158375672996044,-0.05176609382033348,0.05290018394589424,0.012483754195272923,-0.08771423250436783,0.03501106798648834,0.05079957842826843,0.03323587030172348,-0.0113883838057518,-0.020190564915537834,0.01826009899377823,0.004909420385956764,-0.002395648043602705,-0.03340200334787369,-0.006810125894844532,-0.015225749462842941,0.08700788766145706,0.018749376758933067,0.013643951155245304,0.08351471275091171,-0.03939847648143768,0.050303999334573746,0.01647595874965191,0.010069092735648155,0.047997817397117615,0.00365578755736351,0.02133380062878132,0.031320929527282715,0.059304993599653244,0.0022069888655096292,-0.027619892731308937,-0.009407690726220608,0.01692339777946472,0.028040986508131027,0.021944217383861542,0.007349126040935516,0.026304122060537338,-0.034985028207302094,0.07467605918645859,-0.013580636121332645,0.09457240998744965,-0.03529303893446922,-0.008151116780936718,-0.028324894607067108,-0.05570713430643082,0.013441108167171478,0.007029644213616848,0.052164044231176376,0.0782170221209526,-0.04164060950279236,-0.031882502138614655,-0.04768379405140877,0.009957247413694859,0.01892109401524067,0.002128434367477894,0.003381900256499648,0.006699948571622372,0.03701537102460861,-0.007559946272522211,-0.01895745098590851,0.048492830246686935,-0.0462287999689579,-0.03711583465337753,0.03282012417912483,0.01894850842654705,0.05683315917849541,-0.07302553206682205,0.013390198349952698,-0.03575986996293068,-0.0032063154503703117,0.01655828207731247,0.044067081063985825,-0.01696648821234703,-0.031541768461465836,0.03024524822831154,-0.007017315365374088,0.0268375426530838,0.018976731225848198,0.02731778286397457,0.04179563745856285,0.013783150352537632,-0.015282728709280491,0.03170592710375786,-0.017907606437802315,0.013988254591822624,0.03003089502453804,0.012585957534611225,0.029358740895986557,-0.012880973517894745,-0.0059082042425870895,-0.06070498004555702,-0.05171939358115196,-0.0174896027892828,-0.0021744135301560163,0.018072791397571564,0.006391886156052351,-0.00041686141048558056,-0.007963226176798344,0.02473495714366436,0.007044533267617226,0.004522343166172504,-0.013182747177779675,-0.007559051737189293,0.03472351282835007,-0.023014333099126816,-0.024907952174544334,-0.007462151348590851,-0.06274320930242538,0.0153580317273736,0.019464531913399696,-0.043224234133958817,-0.028590993955731392,0.03182725980877876,-0.08319101482629776,0.01400806289166212,-0.0010432967683300376,-0.014296307228505611,0.026997940614819527,-0.0029068607836961746,-0.013942553661763668,0.09306824952363968,-0.05583744868636131,0.020827479660511017,-0.03995672985911369,-0.050732918083667755,-0.04674726724624634,0.09567131847143173,0.0009094785200431943,-0.03858496993780136,-0.013380053453147411,0.06450208276510239,0.03495526313781738,0.011922657489776611,-0.03022417612373829,0.05789979174733162,0.010027851909399033,0.021583132445812225,0.04106247425079346,0.01007907371968031,-0.07535215467214584,0.04432294890284538,0.01786678470671177,-0.018514864146709442,-0.024556376039981842,-0.02009899728000164,0.004416037350893021,0.04395623505115509,-0.03017529658973217,-0.010234602726995945,0.0613221675157547,0.04443651810288429,0.02154569886624813,-0.0285504087805748,-0.006497025955468416,-0.014591868035495281,0.015886595472693443,-0.004013135097920895,0.002275173319503665,0.032642725855112076,-0.01568981073796749,-0.010110086761415005,0.03402234986424446,0.02092030830681324,0.01784740947186947,-0.03138907253742218,-0.010703496634960175,0.04767462983727455,-0.04382389783859253,0.007999693043529987,-0.024441881105303764,0.034951698035001755,-0.011435462161898613,-0.0377708300948143,-0.01891511306166649,0.04145016893744469,-0.02386212907731533,-0.0042170933447778225,0.010997558943927288,0.007931510917842388,-0.011162088252604008,0.0977669507265091,-0.0675225704908371,0.029716284945607185,-0.03995426371693611,0.004066971130669117,0.030219823122024536,-0.001584648503921926,-0.03772642835974693,-0.006413720082491636,-0.020316220819950104,-0.042152039706707,0.04754297807812691,0.026249311864376068,0.015240333043038845,0.015447634272277355,0.03732052072882652,-0.05421634763479233,0.019549082964658737,0.003833240829408169,-0.04142714664340019,0.04720953851938248,0.011554977856576443,-0.031029924750328064,-0.02526705339550972,-0.010989456437528133,0.07059706747531891,-0.010411007329821587,0.008838054724037647,0.004881346598267555,-0.027523532509803772,-0.046273671090602875,-6.95480644916831e-33,-0.007065518293529749,0.017021892592310905,-0.041899632662534714,-0.03501907363533974,-0.02473941072821617,-0.012810122221708298,0.04090070724487305,-0.044393427670001984,0.016168275848031044,-0.011311667039990425,-0.008955320343375206,-0.031360093504190445,0.02296377532184124,-0.015754729509353638,0.034215524792671204,0.03648488596081734,0.008565135300159454,0.006307336501777172,-0.020988594740629196,0.031119752675294876,-0.011146798729896545,0.03991285338997841,-0.00985682848840952,-0.017241360619664192,-0.0342240110039711,0.0006254645413719118,-0.009392835199832916,0.013666696846485138,0.028241591528058052,0.026431966572999954,-0.001182623440399766,-0.023390203714370728,-0.03938869386911392,-0.00022711906058248132,-0.00700583029538393,-0.04842368885874748,-0.02034279704093933,-0.024451471865177155,0.030880311504006386,0.01007646881043911,0.02618303894996643,0.029915466904640198,0.042036570608615875,-0.025196630507707596,0.0030079446732997894,-0.02612192928791046,-0.007189610507339239,-0.0019744709134101868,-0.058041565120220184,-0.02265029214322567,0.02050958387553692,0.010376177728176117,-0.00485718110576272,0.011072486639022827,0.017379872500896454,-0.02004469931125641,0.017727475613355637,0.06259428709745407,-0.07304530590772629,-0.0011475139763206244,-0.10188796371221542,-0.03871821239590645,0.011030799709260464,0.0065958634950220585,0.02130749262869358,-0.011519251391291618,-0.04304441437125206,0.021517153829336166,0.015085563063621521,-0.02246773988008499,-0.005035511218011379,-0.014668583869934082,-0.0003498892765492201,-0.046301014721393585,0.05466531217098236,0.037627220153808594,0.010278507135808468,-0.01644844561815262,0.03153441846370697,0.048154447227716446,-0.023131923750042915,-0.02975986711680889,-0.000054050993639975786,0.03587670624256134,0.03486771509051323,-0.02290254458785057,-0.009904660284519196,-0.01940508559346199,0.018591295927762985,0.04093070700764656,-0.028319628909230232,0.031271930783987045,-0.06162174791097641,0.024563629180192947,-0.03712575510144234,-0.0175886619836092,0.05021846666932106,0.03059501387178898,0.016837283968925476,-0.0499967485666275,0.029520634561777115,0.02762671187520027,-0.06581024825572968,-0.04014478251338005,-0.016973774880170822,0.0037485649809241295,0.06619084626436234,0.0059401714242994785,-0.01385179627686739,-0.0015801305416971445,0.02020447887480259,0.02235659956932068,-0.01959202252328396,-0.036317404359579086,-0.019622907042503357,-0.020866574719548225,-0.014642189256846905,-0.018859274685382843,0.04673847556114197,0.015898017212748528,0.035740647464990616,-0.04178381711244583,0.004299075808376074,0.005164897534996271,0.012080405838787556,-0.022240670397877693,-0.0008618806023150682,-0.07230427116155624,0.049516648054122925,-0.0001256177929462865,-0.002699099248275161,-0.03154033049941063,3.079663315475045e-7,0.013951442204415798,0.01647200807929039,-0.06847061961889267,0.07509174942970276,0.001661797403357923,-0.029730040580034256,-0.05788678675889969,-0.02460874244570732,0.01229918748140335,-0.05302690714597702,-0.0019181616371497512,-0.011431287974119186,0.040167808532714844,0.031075749546289444,0.013015514239668846,-0.02960834465920925,-0.02083570696413517,-0.06441362202167511,-0.03608802333474159,0.018856246024370193,-0.02491023764014244,0.044499389827251434,0.11853320896625519,-0.007493152748793364,0.001417277380824089,-0.01654166728258133,-0.002879477571696043,-0.0663246437907219,0.02713650092482567,0.012174238450825214,0.040074657648801804,-0.003631467232480645,-0.016000736504793167,-0.0176264438778162,-0.020148439332842827,0.03626919910311699,0.019393984228372574,-0.025559114292263985,0.049722302705049515,0.08995434641838074,0.014009273611009121,-0.04936383664608002,0.007158586289733648,-0.02625170350074768,-0.00788724236190319,-0.01714935712516308,-0.013527384027838707,-0.029257452115416527,0.0006962380721233785,0.019770074635744095,0.02822919562458992,-0.027810929343104362,0.004515158012509346,-0.014010830782353878,0.034443579614162445,-0.0012855390086770058,0.025293059647083282,0.06724631041288376,0.0135603416711092,0.03300267085433006,0.006181709002703428,2.475637188581459e-7,0.014253044500946999,-0.012432155199348927,0.02961030602455139,-0.028364378958940506,0.03265721723437309,3.7793555349689972e-34,0.02406332828104496,-0.009074892848730087,0.05544966459274292,0.004200831055641174,0.014105002395808697,-0.0425909124314785,0.03503332659602165,-0.028959881514310837,0.015354123897850513,-0.037026893347501755,-0.01620982214808464]'
SET
  @HasCustomProps_1f47c377 = 0
SET
  @HasCustomEvents_1f47c377 = 0
SET
  @RequiresData_1f47c377 = 1
SET
  @DependencyCount_1f47c377 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_1f47c377 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_1f47c377 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_1f47c377 = 0
SET
  @ID_1f47c377 = '7C4E2A8F-9B3D-4E2A-8F5C-1E7D3A9B4C6E'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_1f47c377,
  @Name = @Name_1f47c377,
  @Version = @Version_1f47c377,
  @VersionSequence = @VersionSequence_1f47c377,
  @Title = @Title_1f47c377,
  @Description = @Description_1f47c377,
  @Type = @Type_1f47c377,
  @Status = @Status_1f47c377,
  @DeveloperName = @DeveloperName_1f47c377,
  @DeveloperEmail = @DeveloperEmail_1f47c377,
  @DeveloperOrganization = @DeveloperOrganization_1f47c377,
  @SourceRegistryID = @SourceRegistryID_1f47c377,
  @ReplicatedAt = @ReplicatedAt_1f47c377,
  @LastSyncedAt = @LastSyncedAt_1f47c377,
  @Specification = @Specification_1f47c377,
  @FunctionalRequirements = @FunctionalRequirements_1f47c377,
  @TechnicalDesign = @TechnicalDesign_1f47c377,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_1f47c377,
  @TechnicalDesignVector = @TechnicalDesignVector_1f47c377,
  @HasCustomProps = @HasCustomProps_1f47c377,
  @HasCustomEvents = @HasCustomEvents_1f47c377,
  @RequiresData = @RequiresData_1f47c377,
  @DependencyCount = @DependencyCount_1f47c377,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_1f47c377,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_1f47c377,
  @HasRequiredCustomProps = @HasRequiredCustomProps_1f47c377,
  @ID = @ID_1f47c377;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_d077a7c0 NVARCHAR(MAX),
@Name_d077a7c0 NVARCHAR(500),
@Version_d077a7c0 NVARCHAR(50),
@VersionSequence_d077a7c0 INT,
@Title_d077a7c0 NVARCHAR(1000),
@Description_d077a7c0 NVARCHAR(MAX),
@Type_d077a7c0 NVARCHAR(255),
@Status_d077a7c0 NVARCHAR(50),
@DeveloperName_d077a7c0 NVARCHAR(255),
@DeveloperEmail_d077a7c0 NVARCHAR(255),
@DeveloperOrganization_d077a7c0 NVARCHAR(255),
@SourceRegistryID_d077a7c0 UNIQUEIDENTIFIER,
@ReplicatedAt_d077a7c0 DATETIMEOFFSET,
@LastSyncedAt_d077a7c0 DATETIMEOFFSET,
@Specification_d077a7c0 NVARCHAR(MAX),
@FunctionalRequirements_d077a7c0 NVARCHAR(MAX),
@TechnicalDesign_d077a7c0 NVARCHAR(MAX),
@FunctionalRequirementsVector_d077a7c0 NVARCHAR(MAX),
@TechnicalDesignVector_d077a7c0 NVARCHAR(MAX),
@HasCustomProps_d077a7c0 BIT,
@HasCustomEvents_d077a7c0 BIT,
@RequiresData_d077a7c0 BIT,
@DependencyCount_d077a7c0 INT,
@TechnicalDesignVectorEmbeddingModelID_d077a7c0 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_d077a7c0 NVARCHAR(MAX),
@HasRequiredCustomProps_d077a7c0 BIT,
@ID_d077a7c0 UNIQUEIDENTIFIER
SET
  @Namespace_d077a7c0 = N'CRM/Analytics'
SET
  @Name_d077a7c0 = N'DealVelocitySummary'
SET
  @Version_d077a7c0 = N'1.0.0'
SET
  @VersionSequence_d077a7c0 = 1
SET
  @Title_d077a7c0 = N'Deal Velocity Summary'
SET
  @Description_d077a7c0 = N'Summary statistics cards showing key deal metrics including total deals, won deals, win rate, and values'
SET
  @Type_d077a7c0 = N'Other'
SET
  @Status_d077a7c0 = N'Published'
SET
  @Specification_d077a7c0 = N'{"name":"DealVelocitySummary","namespace":"CRM/Analytics","type":"Other","location":"embedded","code":"function DealVelocitySummary({ deals, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat(''en-US'', {\n      style: ''currency'',\n      currency: ''USD'',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount || 0);\n  };\n  \n  // Calculate summary metrics\n  const totalDeals = deals.length;\n  const closedDeals = deals.filter(d => d.Stage === ''Closed Won'' || d.Stage === ''Closed Lost'').length;\n  const wonDeals = deals.filter(d => d.Stage === ''Closed Won'').length;\n  const winRate = closedDeals > 0 ? Math.round((wonDeals / closedDeals) * 100) : 0;\n  const totalValue = deals.reduce((sum, d) => sum + (d.Amount || 0), 0);\n  const wonValue = deals.filter(d => d.Stage === ''Closed Won'').reduce((sum, d) => sum + (d.Amount || 0), 0);\n  \n  const metrics = [\n    {\n      label: ''Total Deals'',\n      value: totalDeals,\n      color: ''#3B82F6'',\n      format: ''number''\n    },\n    {\n      label: ''Won Deals'',\n      value: wonDeals,\n      color: ''#10B981'',\n      format: ''number''\n    },\n    {\n      label: ''Win Rate'',\n      value: winRate,\n      color: ''#F59E0B'',\n      format: ''percent''\n    },\n    {\n      label: ''Total Value'',\n      value: totalValue,\n      color: ''#8B5CF6'',\n      format: ''currency''\n    },\n    {\n      label: ''Won Value'',\n      value: wonValue,\n      color: ''#EC4899'',\n      format: ''currency''\n    }\n  ];\n  \n  const formatValue = (value, format) => {\n    switch (format) {\n      case ''currency'':\n        return formatCurrency(value);\n      case ''percent'':\n        return `$' + '{value}%`;\n      default:\n        return value.toLocaleString();\n    }\n  };\n  \n  return (\n    <div style={{ \n      display: ''grid'', \n      gridTemplateColumns: ''repeat(auto-fit, minmax(150px, 1fr))'',\n      gap: ''12px'',\n      marginBottom: ''20px''\n    }}>\n      {metrics.map((metric, index) => (\n        <div \n          key={index}\n          style={{ \n            padding: ''12px'', \n            backgroundColor: ''#F9FAFB'', \n            borderRadius: ''8px'',\n            borderLeft: `4px solid $' + '{metric.color}`\n          }}\n        >\n          <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>\n            {metric.label}\n          </div>\n          <div style={{ \n            fontSize: metric.format === ''currency'' ? ''20px'' : ''24px'', \n            fontWeight: ''bold'', \n            color: ''#111827'' \n          }}>\n            {formatValue(metric.value, metric.format)}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}","functionalRequirements":"## Deal Velocity Summary\n\n### Purpose\nDisplay key deal metrics in a grid of summary cards to provide at-a-glance insights into deal performance.\n\n### Metrics Displayed\n- **Total Deals**: Count of all deals in the dataset\n- **Won Deals**: Count of deals with ''Closed Won'' status\n- **Win Rate**: Percentage of closed deals that were won\n- **Total Value**: Sum of all deal amounts in the pipeline\n- **Won Value**: Sum of amounts for won deals only\n\n### Visual Design\n- Grid layout that adapts to available width\n- Each metric in its own card with colored accent border\n- Large, bold numbers for easy scanning\n- Descriptive labels above each metric\n- Currency formatting for monetary values\n- Percentage formatting for rates\n\n### User Experience\n- Cards automatically reflow based on container width\n- Consistent color coding across the application\n- Clear visual hierarchy with labels and values","dataRequirements":{"mode":"views","entities":[{"name":"Deals","fields":[{"name":"ID","type":"string","description":"Unique identifier for the deal"},{"name":"Stage","type":"string","description":"Current stage of the deal"},{"name":"Amount","type":"number","description":"Deal value in currency"}]}]},"technicalDesign":"## Implementation Details\n\n### Component Function\n`DealVelocitySummary({ deals, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings })`\n\n### Props\n- **deals**: Array of deal records to calculate metrics from\n- **Standard props**: utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings\n\n### Calculations\n1. **Total Deals**: `deals.length`\n2. **Closed Deals**: Filter for ''Closed Won'' or ''Closed Lost'' stages\n3. **Won Deals**: Filter for ''Closed Won'' stage only\n4. **Win Rate**: `(wonDeals / closedDeals) * 100`\n5. **Total Value**: Sum all deal amounts\n6. **Won Value**: Sum amounts for won deals\n\n### Metrics Configuration\nEach metric defined with:\n- label: Display name\n- value: Calculated value\n- color: Accent color for visual distinction\n- format: ''number'', ''currency'', or ''percent''\n\n### Layout\n- CSS Grid with `repeat(auto-fit, minmax(150px, 1fr))`\n- Cards with consistent padding and border radius\n- Left border accent using metric color\n- Responsive font sizing based on format type","properties":[{"name":"deals","type":"array","required":true,"description":"Array of deal records to calculate metrics from"}],"dependencies":[],"libraries":[],"description":"Summary statistics cards showing key deal metrics including total deals, won deals, win rate, and values"}'
SET
  @FunctionalRequirements_d077a7c0 = N'## Deal Velocity Summary

### Purpose
Display key deal metrics in a grid of summary cards to provide at-a-glance insights into deal performance.

### Metrics Displayed
- **Total Deals**: Count of all deals in the dataset
- **Won Deals**: Count of deals with ''Closed Won'' status
- **Win Rate**: Percentage of closed deals that were won
- **Total Value**: Sum of all deal amounts in the pipeline
- **Won Value**: Sum of amounts for won deals only

### Visual Design
- Grid layout that adapts to available width
- Each metric in its own card with colored accent border
- Large, bold numbers for easy scanning
- Descriptive labels above each metric
- Currency formatting for monetary values
- Percentage formatting for rates

### User Experience
- Cards automatically reflow based on container width
- Consistent color coding across the application
- Clear visual hierarchy with labels and values'
SET
  @TechnicalDesign_d077a7c0 = N'## Implementation Details

### Component Function
`DealVelocitySummary({ deals, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings })`

### Props
- **deals**: Array of deal records to calculate metrics from
- **Standard props**: utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings

### Calculations
1. **Total Deals**: `deals.length`
2. **Closed Deals**: Filter for ''Closed Won'' or ''Closed Lost'' stages
3. **Won Deals**: Filter for ''Closed Won'' stage only
4. **Win Rate**: `(wonDeals / closedDeals) * 100`
5. **Total Value**: Sum all deal amounts
6. **Won Value**: Sum amounts for won deals

### Metrics Configuration
Each metric defined with:
- label: Display name
- value: Calculated value
- color: Accent color for visual distinction
- format: ''number'', ''currency'', or ''percent''

### Layout
- CSS Grid with `repeat(auto-fit, minmax(150px, 1fr))`
- Cards with consistent padding and border radius
- Left border accent using metric color
- Responsive font sizing based on format type'
SET
  @FunctionalRequirementsVector_d077a7c0 = N'[-0.03435472026467323,0.0291758980602026,-0.03286437690258026,-0.030206626281142235,0.02121065743267536,0.004488210193812847,-0.015649104490876198,0.02708108350634575,-0.09658805280923843,0.011424505151808262,-0.045362185686826706,-0.012529379688203335,0.0407315194606781,0.1608247309923172,-0.03211095556616783,-0.06815815716981888,-0.022724583745002747,0.005060744006186724,0.005429300479590893,0.013144119642674923,0.025879595428705215,-0.03152948617935181,-0.006150804925709963,0.014123763889074326,-0.038835205137729645,-0.014677460305392742,-0.02737218141555786,-0.009272963739931583,0.002603975823149085,-0.12146969884634018,0.02564327046275139,0.020541420206427574,-0.03351641073822975,-0.0009878649143502116,0.0000022564263417734765,-0.027982071042060852,-0.05367559567093849,0.03481689840555191,-0.012256450019776821,0.04831267520785332,0.0747581198811531,-0.054774925112724304,0.04620947688817978,0.01801816187798977,-0.014692320488393307,-0.07290705293416977,-0.03540903329849243,0.008383525535464287,0.009380295872688293,-0.035799846053123474,0.01105406228452921,0.010585188865661621,-0.054570578038692474,-0.002513670362532139,-0.032077889889478683,-0.08208387345075607,-0.02528993785381317,0.0338568389415741,-0.01337906252592802,-0.07488541305065155,-0.03358913213014603,0.005683012772351503,0.013793117366731167,-0.060624994337558746,0.0829421803355217,0.03516028821468353,0.03259540721774101,0.006973905023187399,-0.0481942854821682,0.01614486426115036,0.07517074793577194,0.03627161681652069,-0.005365315824747086,-0.06138305366039276,-0.036631617695093155,-0.11807798594236374,-0.032108455896377563,0.02961868979036808,0.04490191489458084,-0.022697284817695618,-0.1060829907655716,0.10783988237380981,-0.035805996507406235,0.0018864601152017713,-0.013685876503586769,-0.011248812079429626,0.010006469674408436,0.004996534436941147,-0.03250538557767868,0.001023413729853928,0.020204592496156693,-0.021651003509759903,-0.022678881883621216,-0.0004947445122525096,-0.06630012392997742,-0.0072114537470042706,0.046690572053194046,-0.05440479516983032,0.028736334294080734,0.002163616009056568,0.027010183781385422,0.031577304005622864,0.04218306392431259,0.013654323294758797,0.04201265797019005,0.039692290127277374,-0.02207585796713829,-0.034796092659235,-0.038154587149620056,0.03843224048614502,-0.006069838535040617,-0.011203094385564327,0.010155475698411465,0.02540985308587551,-0.017695382237434387,0.02573295868933201,-0.09329213201999664,-0.0035771620459854603,-0.03249948099255562,0.023995688185095787,0.11306296288967133,0.007917585782706738,0.03913336992263794,0.03295079991221428,-0.011762888170778751,0.028150923550128937,-0.035382580012083054,-0.02156822197139263,-0.004685504361987114,0.04448758065700531,-0.029316360130906105,-0.008762337267398834,-0.022152474150061607,-0.03347953408956528,0.00023774156579747796,0.02632422372698784,0.03731151670217514,0.026700016111135483,0.0067760273814201355,-0.008957835845649242,0.03261559456586838,-0.00446537509560585,-0.036665529012680054,0.015907272696495056,-0.012270351871848106,0.0010451643029227853,-0.0012182670179754496,0.058608245104551315,0.0022713763173669577,-0.002495687222108245,0.012049148790538311,-0.0032163525465875864,-0.013282068073749542,0.019323956221342087,-0.03278747946023941,-0.01957213319838047,0.031362950801849365,-0.0026512073818594217,0.00988515093922615,0.045846741646528244,-0.0018763566622510552,-0.0188284981995821,-0.013956909999251366,-0.01878925785422325,-0.01328816544264555,0.03608257696032524,-0.06948236376047134,0.009670127183198929,0.052750229835510254,-0.03937109559774399,0.02335764281451702,-0.033763591200113297,-0.03998514264822006,0.027057761326432228,0.044454824179410934,0.0107586570084095,0.057150281965732574,-0.05247727409005165,-0.02670019306242466,-0.05159328132867813,0.0021390332840383053,-0.12171594798564911,0.03689952939748764,0.023665647953748703,0.058884989470243454,0.011441582813858986,-0.0203086007386446,0.03302368149161339,-0.0025571687147021294,-0.002158208517357707,-0.011534412391483784,0.030676480382680893,-0.007952181622385979,0.029472865164279938,-0.009742273949086666,-0.014077645726501942,-0.023394053801894188,-0.04535745456814766,0.049861468374729156,0.020299168303608894,-0.006652303971350193,-0.04352089390158653,0.015673747286200523,-0.020442821085453033,0.04114049673080444,0.040581703186035156,0.027623753994703293,-0.017751241102814674,-0.09455915540456772,0.0006640588981099427,0.0383916050195694,0.010906594805419445,-0.057433947920799255,0.004725844133645296,-0.021738309413194656,0.04011324420571327,0.022974152117967606,-0.019411388784646988,-0.01810847967863083,-0.015819380059838295,-0.022747153416275978,0.047250404953956604,0.014414493925869465,0.007382641546428204,0.1585429459810257,0.04577184468507767,0.046961139887571335,-0.03788791224360466,0.04472239688038826,0.0014380275970324874,-0.009209342300891876,-0.015679065138101578,0.021531570702791214,0.02510201930999756,0.0009573175921104848,0.05197151005268097,0.06911268085241318,0.11613592505455017,0.008851087652146816,0.06919081509113312,-0.01211848109960556,-0.06404697149991989,-0.029658081009984016,0.03811156004667282,0.0022063152864575386,-0.03185311332345009,-0.0823032483458519,-0.003074418753385544,0.019190456718206406,-0.02409711480140686,0.009451301768422127,0.026854239404201508,0.0688570961356163,-0.008514896966516972,0.015262572094798088,0.0051468173041939735,-0.0865258276462555,0.0021810007747262716,-0.006565149873495102,0.11078707873821259,-0.0007790831732563674,-0.01113307848572731,-0.01703120768070221,-0.03176684305071831,0.03523826599121094,-0.033104751259088516,0.05456288531422615,0.005405815318226814,0.03200178220868111,0.02752397209405899,0.03582225367426872,0.02812458947300911,-0.012679888866841793,-0.0027316410560160875,-0.012061221525073051,0.03333094343543053,-0.0690113976597786,0.04658317565917969,-0.03083081915974617,-0.016263103112578392,-0.014636989682912827,-0.019127532839775085,-0.011255859397351742,0.023592501878738403,-0.0011569757480174303,0.025835813954472542,0.04070885479450226,0.01991894096136093,-0.018387585878372192,-0.0734855905175209,0.023909874260425568,-0.04455249384045601,0.03653128072619438,-0.016880573704838753,-0.052135106176137924,0.02833493985235691,-0.036056842654943466,0.012508850544691086,-0.004737647250294685,0.01769518293440342,-0.02506733313202858,-0.05316735431551933,-0.036912865936756134,0.01105097122490406,-0.01768377237021923,0.049831319600343704,0.028272908180952072,-0.0073212613351643085,0.02835686504840851,0.06977619230747223,0.01736420951783657,0.0019951702561229467,0.0055299480445683,-0.029608068987727165,0.02089690789580345,-0.0020740136969834566,-0.05101989582180977,0.0462520495057106,0.012997574172914028,0.06646037846803665,0.03289416804909706,-0.032353587448596954,-0.04434485733509064,0.006788171362131834,-0.03204292804002762,-0.008875326253473759,-0.031062506139278412,-0.029921740293502808,-0.037937093526124954,-0.02147808112204075,0.004525689873844385,-0.05736745148897171,0.0002603970351628959,0.013999439775943756,-0.02243763767182827,-0.023128900676965714,-0.03869451582431793,-0.004280746448785067,0.014960664324462414,-0.03824922442436218,-0.010641752742230892,0.007478777319192886,-0.036906447261571884,-0.002002142136916518,-0.023976529017090797,0.0048525044694542885,0.1010938286781311,-0.0054794782772660255,-0.06993117928504944,0.04892776161432266,0.062316276133060455,-0.012020180001854897,-0.031265925616025925,-0.04612639918923378,0.007071998436003923,0.014159483835101128,-0.022053323686122894,-0.015718555077910423,0.03046044521033764,-0.07185102999210358,0.005450474563986063,0.04704676941037178,-0.010879669338464737,0.061719585210084915,-0.003948379773646593,0.060386594384908676,0.012606150470674038,0.00733161112293601,0.02704004943370819,0.028389787301421165,-0.034034501761198044,0.015204239636659622,0.032788682729005814,0.009834489785134792,-0.008297864347696304,-0.007601994089782238,0.023001013323664665,0.009446347132325172,0.0017715200083330274,-0.01520777028053999,0.05296550318598747,-0.022327004000544548,0.09396634995937347,-0.02963509038090706,0.058240558952093124,-0.014596154913306236,-0.015598052181303501,-0.045806996524333954,-0.030511261895298958,0.017195330932736397,0.006309250835329294,0.010914720594882965,-0.008557877503335476,-0.036528922617435455,-0.02703041024506092,-0.02014235593378544,0.00914561003446579,0.026777781546115875,0.013294762000441551,-0.0031040883623063564,-0.0068463827483356,0.023381737992167473,0.05298290401697159,-0.0205390602350235,0.002185703255236149,-0.039109449833631516,0.006604922469705343,0.028233347460627556,-0.009574420750141144,-0.05916815623641014,-0.09205231070518494,0.01781073957681656,-0.02274891547858715,-0.03326810151338577,0.03375566750764847,0.021077962592244148,-0.01370651088654995,-0.02998129278421402,-0.025067295879125595,-0.003945131320506334,0.019149553030729294,0.053946077823638916,0.024138422682881355,0.02988681197166443,0.02103493921458721,-0.02214394509792328,-0.0014331333804875612,-0.07265757769346237,0.017854416742920876,0.01686096377670765,-0.003302892902866006,0.026494314894080162,-0.006900594104081392,0.026343315839767456,-0.043694861233234406,-0.04820134490728378,-0.0024759829975664616,0.014460415579378605,0.0018304729601368308,-0.0002479749673511833,-0.0058858864940702915,0.011237597092986107,0.05587764456868172,-0.002601569052785635,0.03312068060040474,-0.012357769533991814,-0.0030325206462293863,0.027243226766586304,-0.00402038125321269,-0.047563713043928146,0.025020426139235497,-0.06181321293115616,0.04120739921927452,-0.005421556066721678,-0.021948711946606636,-0.026100410148501396,0.04131731018424034,-0.06194369122385979,-0.003219475969672203,-0.039039358496665955,0.03161194175481796,0.030369672924280167,-0.08098149299621582,0.01744316704571247,0.030252894386649132,-0.09940046072006226,-0.045343901962041855,-0.0694323256611824,-0.022591855376958847,-0.06858392804861069,0.010696467943489552,-0.0011070288019254804,-0.04986640438437462,0.0172890592366457,0.04424310848116875,0.020915023982524872,0.005115076433867216,-0.004031857941299677,0.055910103023052216,0.004362038336694241,0.00031061135814525187,0.024747652933001518,0.01994282566010952,-0.122782863676548,-0.001426663133315742,0.03219715505838394,-0.017792832106351852,-0.020105617120862007,-0.010959392413496971,-0.035424262285232544,0.007460616063326597,0.0026208655908703804,-0.04237037152051926,0.051987070590257645,0.03323790803551674,0.011589271016418934,-0.0030624819919466972,-0.034868787974119186,-0.012526112608611584,0.008694411255419254,-0.035334452986717224,0.005149621982127428,0.04350871592760086,-0.07930615544319153,-0.020987799391150475,0.04299302026629448,0.03912300616502762,-0.03181515261530876,0.003485085442662239,-0.010283714160323143,0.04601828381419182,-0.017172979190945625,0.0070885601453483105,-0.023164117708802223,0.0457594059407711,-0.012064188718795776,-0.030314233154058456,0.03919694572687149,-0.039461132138967514,-0.012897604145109653,0.009326260536909103,-0.002692739712074399,-0.019573871046304703,-0.026558557525277138,0.09356456995010376,-0.0562497042119503,0.026012977585196495,-0.03915870934724808,0.010924044996500015,0.05763055011630058,-0.032345373183488846,0.018662625923752785,-0.0348762609064579,0.0030599008314311504,-0.000171196399605833,0.06025252491235733,0.04531748592853546,0.04843128100037575,-0.004911347758024931,-0.006168107036501169,-0.05655684322118759,0.016995564103126526,0.04188097268342972,-0.006200108677148819,0.00917019136250019,0.01280329842120409,-0.018908025696873665,-0.04897225275635719,0.0019384509650990367,0.013745875097811222,0.03720509633421898,-0.01842748373746872,-0.04370015114545822,0.006870417855679989,-0.05537495017051697,-6.955891577390913e-33,-0.02179301530122757,-0.03002380020916462,-0.027164654806256294,-0.007359879557043314,0.000019788905774476007,-0.007207597605884075,0.04246741533279419,-0.03019832819700241,0.005990325473248959,0.006645041052252054,-0.036105554550886154,-0.042991943657398224,0.024861011654138565,-0.01606138050556183,0.035832226276397705,0.036356911063194275,0.031375449150800705,-0.004137737210839987,-0.013111027888953686,-0.0036390433087944984,-0.034851934760808945,0.025234093889594078,0.039670541882514954,-0.036152735352516174,-0.006987646222114563,0.03301554173231125,-0.054512154310941696,0.032329194247722626,0.004068146459758282,0.0034278163220733404,0.01552119106054306,-0.02199922874569893,-0.026251671835780144,-0.01152202021330595,-0.0339711531996727,-0.058340396732091904,-0.010443130508065224,-0.026501601561903954,-0.0015039248391985893,0.0061629232950508595,0.05563082545995712,-0.0003148452960886061,0.03612735867500305,0.007290685083717108,-0.013431817293167114,-0.022454986348748207,0.026040134951472282,-0.010120169259607792,-0.014805714599788189,-0.06901201605796814,0.03501151502132416,0.017523465678095818,-0.003833919996395707,0.04632675275206566,0.030360663309693336,-0.029488958418369293,0.025062913075089455,0.005420506000518799,-0.06755473464727402,0.015656473115086555,-0.003635793225839734,-0.005963996518403292,0.025641154497861862,0.03391991928219795,0.029746614396572113,0.0036285542882978916,0.0020787932444363832,0.015379665419459343,0.0323370136320591,-0.05444216728210449,0.02140836790204048,-0.03956132009625435,0.017739765346050262,-0.05723541975021362,0.010511556640267372,0.03981132060289383,0.0147227318957448,0.00980930682271719,-0.005430555436760187,0.04189465939998627,-0.02038656547665596,-0.0009157935855910182,-0.012850211933255196,0.035100746899843216,-0.01008140854537487,-0.04187152907252312,-0.02223893254995346,-0.022186167538166046,0.020511500537395477,0.017058853060007095,-0.00449108611792326,0.010881946422159672,-0.033618975430727005,0.031745776534080505,-0.05649573355913162,0.011752448044717312,0.08648823946714401,0.06562019884586334,-0.0068113114684820175,-0.03730589896440506,0.047537777572870255,0.02930852584540844,0.00897663738578558,-0.01422976516187191,0.006541369017213583,0.011632907204329967,0.0399821400642395,-0.0020021703094244003,-0.0621475987136364,0.03215203434228897,0.03214980661869049,0.026837484911084175,-0.007861132733523846,-0.045396722853183746,-0.04220037907361984,-0.009236703626811504,-0.03209265321493149,-0.04243699461221695,0.008952402509748936,0.01612548716366291,-0.004482695832848549,-0.010156187228858471,-0.004703636281192303,0.03843259438872337,0.05003767088055611,-0.03594062849879265,0.006363966502249241,-0.03739871829748154,0.035764820873737335,0.057000864297151566,-0.00692278565838933,0.0056151715107262135,3.100768140029686e-7,0.026826197281479836,0.03743412345647812,-0.05699395388364792,0.05153392627835274,-0.04265657067298889,0.009566606022417545,-0.032709021121263504,-0.021530549973249435,0.014116876758635044,-0.045342907309532166,0.0017991589847952127,0.00013521197251975536,0.006670142989605665,0.04492780566215515,0.04899793863296509,0.004846811294555664,-0.00037441428867168725,-0.05657784640789032,-0.024025414139032364,-0.024921964854002,0.02950301580131054,0.03988629952073097,0.07845234125852585,0.005329749546945095,0.019720055162906647,0.059494245797395706,-0.013362037017941475,-0.04234427958726883,0.0034831303637474775,0.0046936264261603355,0.04006694629788399,-0.040909260511398315,-0.02090422436594963,0.01979093998670578,-0.004984658677130938,0.021669786423444748,-0.03032415732741356,-0.03933517634868622,0.02541775070130825,0.060456957668066025,-0.013094890862703323,-0.021533211693167686,-0.015980910509824753,-0.02929958887398243,-0.007482314947992563,-0.012225219048559666,0.012692044489085674,-0.030785487964749336,-0.00432158587500453,0.00795690342783928,0.06244104728102684,0.02643144130706787,0.005342000164091587,0.013958067633211613,0.01604650728404522,0.024314062669873238,0.0010742431040853262,0.03409925475716591,0.024471838027238846,0.0009192963480018079,-0.0006428537890315056,0.007727012969553471,-0.005337584298104048,0.04243684932589531,0.04018692299723625,-0.034712664783000946,0.005251679569482803,3.891926338215761e-34,0.02344358153641224,-0.015121495351195335,0.025058964267373085,0.0500246100127697,0.053790412843227386,-0.026187533512711525,0.020285777747631073,-0.0170400720089674,0.017843833193182945,-0.05941025912761688,0.004533812869340181]'
SET
  @TechnicalDesignVector_d077a7c0 = N'[-0.018930688500404358,0.02737809717655182,-0.02693629078567028,0.0025160794612020254,0.038226522505283356,-0.014897574670612812,-0.009753518737852573,0.034652650356292725,-0.07908355444669724,-0.0036510478239506483,-0.06129465252161026,-0.033493734896183014,0.05698344111442566,0.11939390748739243,-0.01762946881353855,-0.027615569531917572,-0.025817103683948517,0.033316344022750854,-0.03271586447954178,-0.008329944685101509,0.017711397260427475,-0.02357029728591442,-0.008086235262453556,0.010925393551588058,-0.009417334571480751,-0.02956194244325161,-0.02659526839852333,-0.016552086919546127,0.0031195390038192272,-0.10870299488306046,0.018399083986878395,0.03237922117114067,-0.04077615961432457,-0.0008992094662971795,0.000002277063231304055,-0.03988070413470268,-0.05224843695759773,0.0043965671211481094,0.014308630488812923,0.02643587626516819,0.08089618384838104,0.009763683192431927,0.02233819290995598,0.016778113320469856,-0.02291789837181568,-0.07395868003368378,-0.05422951653599739,0.044496502727270126,0.02367505617439747,-0.010494807735085487,0.03232131153345108,-0.02843834087252617,0.005839170888066292,0.003721049288287759,-0.015720026567578316,-0.04486970230937004,-0.016367176547646523,-0.00006773156201234087,-0.024269402027130127,-0.12168578058481216,-0.004184546880424023,-0.026023274287581444,0.01140571478754282,-0.07154957205057144,0.06343740224838257,0.014873403124511242,0.0432727225124836,0.025912323966622353,-0.012275408953428268,0.013698825612664223,0.06578822433948517,0.027993034571409225,-0.007499326020479202,-0.03749719634652138,-0.008820009417831898,-0.1300077736377716,-0.01354252640157938,0.03476991131901741,0.032031603157520294,-0.007098863832652569,-0.07451007515192032,0.09357447922229767,-0.03809318691492081,0.007830949500203133,0.014096296392381191,0.030268974602222443,0.004014953505247831,-0.010085794143378735,-0.0374397337436676,0.00017274051788263023,-0.006081410683691502,-0.03890404850244522,-0.006110163871198893,0.01594209298491478,-0.06017759442329407,-0.0023481780663132668,0.04036135599017143,-0.043100398033857346,0.05041259527206421,-0.008900037966668606,-0.0026771309785544872,0.03455234691500664,0.051855310797691345,0.00889134407043457,0.05707394704222679,0.021553264930844307,-0.003336146241053939,-0.016002973541617393,-0.04865865781903267,0.049276284873485565,0.007183225359767675,-0.013770117424428463,0.031703151762485504,0.05791850760579109,-0.00950688123703003,0.019252421334385872,-0.06738179177045822,-0.007481440901756287,-0.01164259109646082,0.02107500098645687,0.16784115135669708,-0.01757149212062359,0.012437931261956692,0.021925415843725204,-0.01098586991429329,-0.005789764225482941,-0.01806298829615116,-0.053013164550065994,-0.018851006403565407,0.0742703527212143,-0.000640919606667012,-0.02662404626607895,-0.00834866613149643,-0.021308161318302155,0.007122605107724667,0.009821332059800625,0.017101185396313667,0.029322635382413864,0.029055584222078323,0.011183779686689377,0.015556900762021542,-0.0047036511823534966,-0.026117481291294098,0.006613440345972776,-0.040541503578424454,-0.005974157247692347,0.010586153715848923,0.03411191701889038,0.005239954683929682,-0.004735324997454882,0.017691291868686676,-0.009714317508041859,0.006097922567278147,0.017178133130073547,-0.03917313367128372,0.0073274425230920315,0.02655419148504734,0.012039745226502419,0.04088329151272774,0.024320540949702263,0.012111428193747997,0.0005398719804361463,-0.005368305370211601,0.0018674437887966633,-0.01371084339916706,0.05346042662858963,-0.05600535869598389,-0.003792899427935481,0.04828185588121414,-0.013747813180088997,0.003748520277440548,-0.05041014775633812,-0.0429651141166687,0.04203280061483383,0.01495926734060049,-0.027414118871092796,0.08438193053007126,0.006976813077926636,-0.05235033482313156,-0.07262816280126572,-0.005163123365491629,-0.08987480401992798,0.015824422240257263,-0.0015497682616114616,0.047436539083719254,0.013325229287147522,0.00020718965970445424,0.03538486361503601,0.010755219496786594,-0.006113097537308931,-0.0061579542234539986,0.013865731656551361,-0.005645308177918196,0.010413024574518204,-0.005960752256214619,0.004431779962033033,-0.047091104090213776,-0.05228954181075096,0.05508043244481087,0.006420269142836332,0.024584103375673294,-0.05933227390050888,0.035475559532642365,-0.019165463745594025,0.04572831094264984,-0.006891007535159588,0.02064630016684532,-0.005903725512325764,-0.11109016090631485,-0.02702203392982483,0.016249628737568855,0.021072914823889732,-0.04396630823612213,-0.0164966844022274,-0.023783715441823006,0.034963835030794144,0.010163581930100918,-0.009175999090075493,-0.015212169848382473,-0.042621150612831116,-0.028982341289520264,0.007251482456922531,0.06774124503135681,0.001366847543977201,0.17252497375011444,0.0005551006179302931,0.01553107425570488,-0.060375381261110306,0.02791430801153183,-0.012333144433796406,-0.006070798262953758,-0.02868087962269783,0.006455685012042522,0.0361701175570488,-0.026987925171852112,-0.015747228637337685,0.008786411955952644,0.04297768697142601,0.018459320068359375,0.06692611426115036,-0.022599676623940468,-0.030701663345098495,-0.020966144278645515,0.03845180198550224,0.012926507741212845,-0.01624581404030323,-0.08476042747497559,0.007808120921254158,0.006498401518911123,-0.015947334468364716,0.0004988572327420115,0.027647215873003006,0.08395998924970627,-0.03251594305038452,0.005170069169253111,-0.029574323445558548,-0.0573125034570694,0.012248823419213295,-0.02197837084531784,0.0672299712896347,0.002618242986500263,-0.00908675603568554,-0.004378767218440771,-0.015195341780781746,0.0886414423584938,-0.030778439715504646,0.020108696073293686,-0.026360156014561653,0.04011866822838783,0.02313624694943428,0.008767226710915565,0.038660116493701935,-0.019970277324318886,-0.009605415165424347,0.005370063707232475,0.032971665263175964,-0.06977887451648712,0.04597911611199379,-0.017587438225746155,-0.0020905283745378256,-0.027729270979762077,-0.021954189985990524,-0.01233319379389286,-0.005513906013220549,-0.003191369818523526,0.009235584177076817,0.004300463013350964,0.06567736715078354,-0.049277886748313904,-0.07467503845691681,-0.007801455911248922,-0.004628394730389118,0.05230574309825897,-0.05983732268214226,-0.058560099452733994,0.021098623052239418,-0.030040403828024864,0.029147589579224586,0.002218266949057579,0.030948104336857796,-0.004334478639066219,-0.029898185282945633,-0.038432952016592026,-0.0011379732750356197,-0.013476940803229809,0.01640377566218376,-0.025935489684343338,0.00043767894385382533,0.028874794021248817,0.08257368206977844,0.02210201695561409,0.009360510855913162,-0.00802506972104311,-0.04079470783472061,0.026329759508371353,-0.009990153834223747,0.026171931996941566,0.046352870762348175,0.024330757558345795,0.06272198259830475,0.0483357198536396,-0.018539777025580406,-0.009583876468241215,0.0011971215717494488,-0.038482677191495895,-0.004756674636155367,-0.002194225089624524,-0.02711310237646103,-0.013768023811280727,0.026708094403147697,0.02395523153245449,-0.07575046271085739,0.0073351250030100346,-0.01528481487184763,-0.025026720017194748,0.004623977933079004,-0.02826988510787487,-0.03238150104880333,0.057320836931467056,-0.02881283313035965,-0.0008478113450109959,-0.02749967761337757,-0.003669493133202195,0.0004424727812875062,-0.021414682269096375,-0.009167235344648361,0.07380194962024689,0.04053135961294174,-0.07683968544006348,0.02964516542851925,0.061854038387537,0.00246251979842782,-0.031675565987825394,-0.01706690713763237,-0.019522186368703842,0.05449174717068672,0.006175604183226824,-0.03522138297557831,0.03111494518816471,-0.058252524584531784,0.009136568754911423,0.03196214511990547,0.036125298589468,0.05989135429263115,0.012370551005005836,0.06412069499492645,0.047539688646793365,0.020848343148827553,-0.002195668173953891,0.010278552770614624,-0.00912534724920988,0.017043983563780785,0.055661145597696304,0.0005777329206466675,-0.005770895164459944,-0.008602657355368137,0.023142585530877113,-0.016429385170340538,0.02613106369972229,-0.003706714604049921,0.055875014513731,-0.00711472611874342,0.07471931725740433,-0.018206117674708366,0.04593690484762192,-0.027782555669546127,0.004845725372433662,-0.026926189661026,-0.025044556707143784,-0.015988294035196304,0.01174806710332632,-0.000012316673746681772,-0.03937697038054466,0.007207807153463364,-0.01870655082166195,-0.021682603284716606,-0.004023432265967131,0.033931586891412735,0.03023219294846058,-0.010726951994001865,-0.019077477976679802,0.05721365660429001,0.08022794872522354,-0.011142446659505367,0.019922690466046333,-0.026255741715431213,0.003926967736333609,0.025345386937260628,0.03325185552239418,-0.08108711242675781,-0.046880047768354416,-0.001318194787018001,-0.03683440387248993,-0.027081836014986038,-0.020728126168251038,0.02122073620557785,-0.00648212805390358,-0.04535317420959473,-0.025469902902841568,-0.011167720891535282,-0.008057965897023678,0.04714059457182884,0.031051408499479294,0.047426097095012665,0.031702324748039246,-0.015203021466732025,-0.0025829016231000423,-0.059865329414606094,-0.00944362673908472,-0.004494335502386093,-0.008933798409998417,0.01609954982995987,-0.008908221498131752,0.013974623754620552,-0.03298674896359444,-0.03269125893712044,-0.043955300003290176,-0.0041956244967877865,0.06062518060207367,-0.01377344410866499,0.008652984164655209,-0.04011312127113342,0.060709625482559204,-0.0061601256020367146,-0.012279890477657318,-0.03797663375735283,0.018069040030241013,0.05667555704712868,-0.004250190686434507,-0.07037350535392761,-0.002099529607221484,-0.04284624382853508,0.04157005250453949,-0.017791444435715675,-0.05177918076515198,-0.041821327060461044,0.014933713711798191,0.00043789029587060213,-0.019667943939566612,-0.02074761874973774,0.02824646420776844,0.027807166799902916,-0.055833443999290466,0.01111854612827301,0.007127418648451567,-0.07709205150604248,-0.062116339802742004,-0.048378147184848785,-0.015907123684883118,-0.015065641142427921,0.005156229715794325,0.008076178841292858,-0.026231691241264343,0.000381723657483235,0.04835638403892517,0.04078376665711403,0.034278541803359985,-0.0364173948764801,0.028599673882126808,-0.0023663470055907965,0.016622981056571007,0.030278323218226433,0.003861436154693365,-0.10147711634635925,0.026544328778982162,0.02914443612098694,-0.029620680958032608,-0.028758935630321503,0.0007564862607978284,-0.035243526101112366,0.0016465247608721256,-0.006414046045392752,-0.02350802719593048,0.05302470549941063,0.03899824991822243,0.0421675443649292,0.03350958600640297,-0.04359333589673042,0.01643376611173153,-0.016609884798526764,-0.02868220955133438,-0.01050953846424818,0.03681747615337372,-0.05503805726766586,-0.01877162791788578,-0.00856686383485794,0.019557597115635872,-0.019652394577860832,0.004291086923331022,-0.06403182446956635,0.016804516315460205,-0.018136538565158844,0.017325017601251602,-0.01747032068669796,0.02005680836737156,0.014273897744715214,-0.030536072328686714,0.01447694469243288,-0.03750993311405182,0.0023166637402027845,0.0191988255828619,0.01989137940108776,-0.03209277242422104,-0.023605328053236008,0.09212849289178848,-0.040225233882665634,0.03141464665532112,-0.025060314685106277,0.026613246649503708,0.021530264988541603,-0.0169161856174469,0.01736539788544178,-0.04465736821293831,0.0026171470526605844,0.0130890142172575,0.049558352679014206,0.00036379811353981495,0.05920926108956337,-0.013642534613609314,-0.03258327767252922,-0.05831114202737808,0.02899360843002796,0.025903549045324326,0.020685914903879166,0.029565639793872833,0.01227638404816389,0.0020255197305232286,-0.05252956598997116,-0.008874038234353065,0.04684881865978241,0.018471576273441315,0.0014253805857151747,-0.0303057711571455,-0.009897650219500065,0.00766710564494133,-7.02622213908458e-33,-0.028212852776050568,-0.005118698347359896,-0.01455698162317276,0.003889592830091715,-0.014715952798724174,-0.05266175419092178,0.03550318256020546,-0.017617477104067802,0.01482016034424305,-0.00743225309997797,-0.017408428713679314,-0.0529959537088871,0.01823878288269043,-0.004459603223949671,0.007099745329469442,-0.0012343270936980844,0.01947714574635029,0.010305476374924183,-0.013712067157030106,-0.006515398621559143,-0.05201493576169014,0.021815160289406776,0.03894248977303505,-0.03185616061091423,-0.027117755264043808,0.03598657622933388,-0.04837224632501602,0.03333166241645813,-0.02316116914153099,-0.009701651521027088,0.0008636303246021271,-0.01995754987001419,-0.04876882582902908,-0.05254758149385452,-0.00013323484745342284,-0.049111705273389816,0.004917693790048361,-0.018858831375837326,0.025501776486635208,0.01739473082125187,0.09430961310863495,-0.005900801625102758,0.01674685627222061,0.019967276602983475,0.0065490505658090115,-0.03928576782345772,0.022807303816080093,-0.0213480107486248,-0.0029709951486438513,-0.06674786657094955,0.03259380906820297,0.02081594057381153,-0.0012467596679925919,0.012766161933541298,-0.015374395065009594,-0.03397523984313011,0.036025337874889374,0.03956977277994156,-0.046878546476364136,0.0060234046541154385,-0.042793795466423035,-0.010406146757304668,0.028139527887105942,-0.002603079192340374,0.030195161700248718,-0.0031483967322856188,0.03365901857614517,0.003190975869074464,-0.04331802949309349,-0.086029551923275,0.009184278547763824,-0.08569063991308212,0.03053230606019497,-0.0013684119330719113,0.04557883366942406,0.04366419464349747,0.0035600464325398207,-0.018128564581274986,0.0035749024245887995,0.04075444117188454,-0.00370389292947948,0.044760026037693024,-0.001887418911792338,0.05089668929576874,-0.042054224759340286,-0.0853288397192955,-0.0006985952495597303,-0.004936957731842995,-0.019728325307369232,0.00962998066097498,0.007941300049424171,0.029942290857434273,-0.05885699391365051,0.046485647559165955,-0.049934063106775284,-0.0322083979845047,0.0831102579832077,0.07638754695653915,-0.017657646909356117,-0.016411984339356422,0.08313948661088943,0.013322488404810429,-0.02379719540476799,-0.024381179362535477,0.0009426864562556148,0.02916327677667141,0.026151185855269432,0.010633965022861958,-0.0426618717610836,0.017551517114043236,0.030483458191156387,0.00757975596934557,-0.006708256434649229,-0.021540207788348198,-0.03915465995669365,0.006949170026928186,-0.03545119985938072,-0.06237736716866493,0.025368379428982735,0.04009317606687546,-0.0057140374556183815,-0.030938586220145226,0.014179999008774757,0.02854509837925434,0.050971683114767075,-0.04239555820822716,-0.038083404302597046,-0.01622289977967739,0.012683414854109287,0.05647050961852074,0.004325123503804207,-0.014638781547546387,3.125383329916076e-7,0.010890042409300804,0.029542595148086548,-0.10324252396821976,-0.011050548404455185,-0.05132149159908295,0.02762976847589016,-0.011814095079898834,-0.03628508001565933,0.004290947690606117,-0.03696800395846367,-0.015465308912098408,-0.0025397962890565395,0.014803730882704258,0.03216918557882309,0.041869524866342545,0.030218619853258133,-0.01565452665090561,-0.046754974871873856,-0.018442833796143532,0.012619554996490479,0.0014614320825785398,0.0433766134083271,0.11898180097341537,0.007207928691059351,0.011211004108190536,0.06051240488886833,0.00654413690790534,-0.03444444388151169,0.0180012509226799,-0.019541466608643532,0.0723964050412178,-0.08029800653457642,-0.02949177473783493,0.018028169870376587,0.01528356596827507,0.04357071965932846,0.010045107454061508,-0.01327459141612053,0.043904174119234085,0.06326024979352951,0.006909946445375681,-0.020981796085834503,-0.020890818908810616,-0.064470075070858,0.004518087022006512,0.00592421879991889,-0.017148416489362717,-0.05119653418660164,-0.005341527052223682,-0.00972489733248949,0.03397717326879501,-0.0009029170032590628,-0.0018647017423063517,-0.009852312505245209,0.01875956542789936,0.01076910737901926,0.014913579449057579,0.027588199824094772,0.002820677123963833,0.0573699027299881,-0.004484991542994976,-0.005577549338340759,0.017559383064508438,0.04559868201613426,0.04827083274722099,-0.08055280894041061,0.0003089591336902231,3.8482390447497025e-34,0.03007725067436695,-0.0421348474919796,0.023834260180592537,0.017403418198227882,0.05143900588154793,-0.030972616747021675,0.06789663434028625,-0.02964453585445881,0.018509889021515846,-0.04151361808180809,-0.013648487627506256]'
SET
  @HasCustomProps_d077a7c0 = 1
SET
  @HasCustomEvents_d077a7c0 = 0
SET
  @RequiresData_d077a7c0 = 1
SET
  @DependencyCount_d077a7c0 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_d077a7c0 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_d077a7c0 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_d077a7c0 = 1
SET
  @ID_d077a7c0 = '563130CE-4016-4640-94AD-9161A94B122F'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_d077a7c0,
  @Name = @Name_d077a7c0,
  @Version = @Version_d077a7c0,
  @VersionSequence = @VersionSequence_d077a7c0,
  @Title = @Title_d077a7c0,
  @Description = @Description_d077a7c0,
  @Type = @Type_d077a7c0,
  @Status = @Status_d077a7c0,
  @DeveloperName = @DeveloperName_d077a7c0,
  @DeveloperEmail = @DeveloperEmail_d077a7c0,
  @DeveloperOrganization = @DeveloperOrganization_d077a7c0,
  @SourceRegistryID = @SourceRegistryID_d077a7c0,
  @ReplicatedAt = @ReplicatedAt_d077a7c0,
  @LastSyncedAt = @LastSyncedAt_d077a7c0,
  @Specification = @Specification_d077a7c0,
  @FunctionalRequirements = @FunctionalRequirements_d077a7c0,
  @TechnicalDesign = @TechnicalDesign_d077a7c0,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_d077a7c0,
  @TechnicalDesignVector = @TechnicalDesignVector_d077a7c0,
  @HasCustomProps = @HasCustomProps_d077a7c0,
  @HasCustomEvents = @HasCustomEvents_d077a7c0,
  @RequiresData = @RequiresData_d077a7c0,
  @DependencyCount = @DependencyCount_d077a7c0,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_d077a7c0,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_d077a7c0,
  @HasRequiredCustomProps = @HasRequiredCustomProps_d077a7c0,
  @ID = @ID_d077a7c0;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_c8c26cca NVARCHAR(MAX),
@Name_c8c26cca NVARCHAR(500),
@Version_c8c26cca NVARCHAR(50),
@VersionSequence_c8c26cca INT,
@Title_c8c26cca NVARCHAR(1000),
@Description_c8c26cca NVARCHAR(MAX),
@Type_c8c26cca NVARCHAR(255),
@Status_c8c26cca NVARCHAR(50),
@DeveloperName_c8c26cca NVARCHAR(255),
@DeveloperEmail_c8c26cca NVARCHAR(255),
@DeveloperOrganization_c8c26cca NVARCHAR(255),
@SourceRegistryID_c8c26cca UNIQUEIDENTIFIER,
@ReplicatedAt_c8c26cca DATETIMEOFFSET,
@LastSyncedAt_c8c26cca DATETIMEOFFSET,
@Specification_c8c26cca NVARCHAR(MAX),
@FunctionalRequirements_c8c26cca NVARCHAR(MAX),
@TechnicalDesign_c8c26cca NVARCHAR(MAX),
@FunctionalRequirementsVector_c8c26cca NVARCHAR(MAX),
@TechnicalDesignVector_c8c26cca NVARCHAR(MAX),
@HasCustomProps_c8c26cca BIT,
@HasCustomEvents_c8c26cca BIT,
@RequiresData_c8c26cca BIT,
@DependencyCount_c8c26cca INT,
@TechnicalDesignVectorEmbeddingModelID_c8c26cca NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_c8c26cca NVARCHAR(MAX),
@HasRequiredCustomProps_c8c26cca BIT,
@ID_c8c26cca UNIQUEIDENTIFIER
SET
  @Namespace_c8c26cca = N'CRM/Geography'
SET
  @Name_c8c26cca = N'USAccountHeatmap'
SET
  @Version_c8c26cca = N'1.0.0'
SET
  @VersionSequence_c8c26cca = 1
SET
  @Title_c8c26cca = N'US Account Distribution Map'
SET
  @Description_c8c26cca = N'Interactive choropleth map showing account distribution across US states with drill-down capability'
SET
  @Type_c8c26cca = N'Other'
SET
  @Status_c8c26cca = N'Published'
SET
  @Specification_c8c26cca = N'{"name":"USAccountHeatmap","namespace":"CRM/Geography","type":"Map","location":"embedded","code":"function USAccountHeatmap({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  const [accounts, setAccounts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedState, setSelectedState] = useState(null);\n  const [stateAccounts, setStateAccounts] = useState([]);\n  const [accountsByState, setAccountsByState] = useState({});\n  const [viewMode, setViewMode] = useState(savedUserSettings?.viewMode || ''count'');\n  const svgRef = useRef(null);\n  const tooltipRef = useRef(null);\n  const saveSettingsTimeoutRef = useRef(null);\n\n  // State name to abbreviation mapping\n  const stateAbbreviations = {\n    ''Alabama'': ''AL'', ''Alaska'': ''AK'', ''Arizona'': ''AZ'', ''Arkansas'': ''AR'', ''California'': ''CA'',\n    ''Colorado'': ''CO'', ''Connecticut'': ''CT'', ''Delaware'': ''DE'', ''Florida'': ''FL'', ''Georgia'': ''GA'',\n    ''Hawaii'': ''HI'', ''Idaho'': ''ID'', ''Illinois'': ''IL'', ''Indiana'': ''IN'', ''Iowa'': ''IA'',\n    ''Kansas'': ''KS'', ''Kentucky'': ''KY'', ''Louisiana'': ''LA'', ''Maine'': ''ME'', ''Maryland'': ''MD'',\n    ''Massachusetts'': ''MA'', ''Michigan'': ''MI'', ''Minnesota'': ''MN'', ''Mississippi'': ''MS'', ''Missouri'': ''MO'',\n    ''Montana'': ''MT'', ''Nebraska'': ''NE'', ''Nevada'': ''NV'', ''New Hampshire'': ''NH'', ''New Jersey'': ''NJ'',\n    ''New Mexico'': ''NM'', ''New York'': ''NY'', ''North Carolina'': ''NC'', ''North Dakota'': ''ND'', ''Ohio'': ''OH'',\n    ''Oklahoma'': ''OK'', ''Oregon'': ''OR'', ''Pennsylvania'': ''PA'', ''Rhode Island'': ''RI'', ''South Carolina'': ''SC'',\n    ''South Dakota'': ''SD'', ''Tennessee'': ''TN'', ''Texas'': ''TX'', ''Utah'': ''UT'', ''Vermont'': ''VT'',\n    ''Virginia'': ''VA'', ''Washington'': ''WA'', ''West Virginia'': ''WV'', ''Wisconsin'': ''WI'', ''Wyoming'': ''WY''\n  };\n\n  useEffect(() => {\n    loadAccounts();\n  }, []);\n\n  useEffect(() => {\n    if (accounts.length > 0) {\n      processAccountsByState();\n    }\n  }, [accounts]);\n\n  useEffect(() => {\n    if (Object.keys(accountsByState).length > 0 && svgRef.current) {\n      renderMap();\n    }\n\n    // Cleanup d3 selections on unmount\n    return () => {\n      if (svgRef.current) {\n        d3.select(svgRef.current).selectAll(''*'').remove();\n      }\n    };\n  }, [accountsByState, viewMode]);\n\n  const loadAccounts = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const result = await utilities.rv.RunView({\n        EntityName: ''Accounts'',\n        OrderBy: ''Name ASC''\n      });\n\n      if (result.Success) {\n        setAccounts(result.Results || []);\n      } else {\n        setError(result.ErrorMessage || ''Failed to load accounts'');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const processAccountsByState = () => {\n    const stateData = {};\n    \n    // Initialize all states\n    Object.keys(stateAbbreviations).forEach(stateName => {\n      stateData[stateName] = {\n        accounts: [],\n        count: 0,\n        totalRevenue: 0,\n        avgRevenue: 0\n      };\n    });\n    \n    // Group accounts by state (using BillingState field)\n    accounts.forEach(account => {\n      const state = account.BillingState;\n      // Handle both full state names and abbreviations\n      let stateName = state;\n      \n      // If it''s an abbreviation, convert to full name\n      if (state && state.length === 2) {\n        // Reverse lookup from abbreviation to full name\n        stateName = Object.keys(stateAbbreviations).find(\n          key => stateAbbreviations[key] === state.toUpperCase()\n        );\n      }\n      \n      if (stateName && stateData[stateName]) {\n        stateData[stateName].accounts.push(account);\n        stateData[stateName].count++;\n        stateData[stateName].totalRevenue += account.AnnualRevenue || 0;\n      }\n    });\n    \n    // Calculate averages\n    Object.keys(stateData).forEach(state => {\n      if (stateData[state].count > 0) {\n        stateData[state].avgRevenue = stateData[state].totalRevenue / stateData[state].count;\n      }\n    });\n    \n    setAccountsByState(stateData);\n  };\n\n  const renderMap = async () => {\n    const container = svgRef.current;\n    if (!container) return;\n\n    // Clear previous map\n    d3.select(container).selectAll(''*'').remove();\n\n    const width = container.clientWidth;\n    const height = 500;\n\n    const svg = d3.select(container)\n      .append(''svg'')\n      .attr(''width'', width)\n      .attr(''height'', height);\n\n    // Create projection for US map - adjust scale for better fit\n    const projection = d3.geoAlbersUsa()\n      .scale(width * 1.2)\n      .translate([width / 2, height / 2]);\n\n    const path = d3.geoPath().projection(projection);\n\n    // Get max values for color scale\n    const maxCount = Math.max(...Object.values(accountsByState).map(d => d.count));\n    const maxRevenue = Math.max(...Object.values(accountsByState).map(d => d.totalRevenue));\n\n    // Color scale based on view mode\n    const colorScale = d3.scaleSequential()\n      .domain([0, viewMode === ''count'' ? maxCount : maxRevenue])\n      .interpolator(d3.interpolateBlues);\n\n    // Load US TopoJSON data\n    try {\n      const us = await d3.json(''https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json'');\n        // Convert TopoJSON to GeoJSON using topojson-client\n        const statesFeatures = topojson.feature(us, us.objects.states).features;\n        \n        // Draw states\n        svg.append(''g'')\n          .selectAll(''path'')\n          .data(statesFeatures)\n          .enter().append(''path'')\n          .attr(''d'', path)\n          .attr(''fill'', d => {\n            // GeoJSON uses ''name'' property for state names\n            const stateName = d.properties.name || d.properties.NAME || d.properties.State;\n            const stateData = accountsByState[stateName];\n            if (!stateData || stateData.count === 0) {\n              return ''#f0f0f0'';\n            }\n            const value = viewMode === ''count'' ? stateData.count : stateData.totalRevenue;\n            return colorScale(value);\n          })\n          .attr(''stroke'', ''#ffffff'')\n          .attr(''stroke-width'', 1)\n          .style(''cursor'', ''pointer'')\n          .on(''mouseover'', function(event, d) {\n            const stateName = d.properties.name || d.properties.NAME || d.properties.State;\n            const stateData = accountsByState[stateName];\n            \n            // Highlight state\n            d3.select(this)\n              .attr(''stroke'', ''#333'')\n              .attr(''stroke-width'', 2);\n            \n            // Show tooltip\n            const tooltip = d3.select(''body'').append(''div'')\n              .attr(''class'', ''map-tooltip'')\n              .style(''position'', ''absolute'')\n              .style(''background'', ''rgba(0, 0, 0, 0.8)'')\n              .style(''color'', ''white'')\n              .style(''padding'', ''8px'')\n              .style(''border-radius'', ''4px'')\n              .style(''font-size'', ''12px'')\n              .style(''pointer-events'', ''none'')\n              .style(''z-index'', ''1000'');\n            \n            tooltip.html(`\n              <strong>$' + '{stateName}</strong><br/>\n              Accounts: $' + '{stateData.count}<br/>\n              Total Revenue: $' + '{formatCurrency(stateData.totalRevenue)}<br/>\n              Avg Revenue: $' + '{formatCurrency(stateData.avgRevenue)}\n            `)\n            .style(''left'', (event.pageX + 10) + ''px'')\n            .style(''top'', (event.pageY - 28) + ''px'');\n            \n            tooltipRef.current = tooltip;\n          })\n          .on(''mousemove'', function(event) {\n            if (tooltipRef.current) {\n              tooltipRef.current\n                .style(''left'', (event.pageX + 10) + ''px'')\n                .style(''top'', (event.pageY - 28) + ''px'');\n            }\n          })\n          .on(''mouseout'', function() {\n            // Remove highlight\n            d3.select(this)\n              .attr(''stroke'', ''#ffffff'')\n              .attr(''stroke-width'', 1);\n            \n            // Remove tooltip\n            if (tooltipRef.current) {\n              tooltipRef.current.remove();\n              tooltipRef.current = null;\n            }\n          })\n          .on(''click'', function(event, d) {\n            const stateName = d.properties.name || d.properties.NAME || d.properties.State;\n            handleStateClick(stateName);\n          });\n        \n        // Add state labels for states with accounts\n        svg.append(''g'')\n          .selectAll(''text'')\n          .data(statesFeatures)\n          .enter().append(''text'')\n          .attr(''transform'', d => {\n            const centroid = path.centroid(d);\n            return `translate($' + '{centroid})`;\n          })\n          .attr(''text-anchor'', ''middle'')\n          .attr(''font-size'', ''10px'')\n          .attr(''font-weight'', ''bold'')\n          .attr(''fill'', d => {\n            const stateName = d.properties.name || d.properties.NAME || d.properties.State;\n            const stateData = accountsByState[stateName];\n            return stateData && stateData.count > 0 ? ''#333'' : ''transparent'';\n          })\n          .style(''pointer-events'', ''none'')\n          .text(d => {\n            const stateName = d.properties.name || d.properties.NAME || d.properties.State;\n            const stateData = accountsByState[stateName];\n            if (stateData && stateData.count > 0) {\n              return stateAbbreviations[stateName] || '''';\n            }\n            return '''';\n          });\n    } catch (err) {\n      console.error(''Error loading map data:'', err);\n      // Try an alternative approach - create a simple placeholder\n      svg.append(''text'')\n        .attr(''x'', width / 2)\n        .attr(''y'', height / 2)\n        .attr(''text-anchor'', ''middle'')\n        .attr(''font-size'', ''16px'')\n        .attr(''fill'', ''#666'')\n        .text(''Map data failed to load. Showing statistics only.'');\n\n      // Show error but don''t block the component\n      console.warn(''Failed to load US map data. This might be due to CORS or network issues.'');\n    }\n    \n    // Add legend\n    const legendWidth = 200;\n    const legendHeight = 10;\n    \n    const legend = svg.append(''g'')\n      .attr(''transform'', `translate($' + '{width - legendWidth - 20}, $' + '{height - 40})`);\n    \n    // Create gradient for legend\n    const defs = svg.append(''defs'');\n    const linearGradient = defs.append(''linearGradient'')\n      .attr(''id'', ''legend-gradient'');\n    \n    // Add gradient stops\n    const numStops = 10;\n    for (let i = 0; i <= numStops; i++) {\n      linearGradient.append(''stop'')\n        .attr(''offset'', `$' + '{(i / numStops) * 100}%`)\n        .attr(''stop-color'', colorScale(i / numStops * (viewMode === ''count'' ? maxCount : maxRevenue)));\n    }\n    \n    // Draw legend rectangle\n    legend.append(''rect'')\n      .attr(''width'', legendWidth)\n      .attr(''height'', legendHeight)\n      .style(''fill'', ''url(#legend-gradient)'');\n    \n    // Add legend labels\n    legend.append(''text'')\n      .attr(''y'', -5)\n      .attr(''font-size'', ''11px'')\n      .text(viewMode === ''count'' ? ''Number of Accounts'' : ''Total Revenue'');\n    \n    legend.append(''text'')\n      .attr(''y'', legendHeight + 15)\n      .attr(''font-size'', ''10px'')\n      .text(''0'');\n    \n    legend.append(''text'')\n      .attr(''x'', legendWidth)\n      .attr(''y'', legendHeight + 15)\n      .attr(''text-anchor'', ''end'')\n      .attr(''font-size'', ''10px'')\n      .text(viewMode === ''count'' ? maxCount : formatCurrency(maxRevenue));\n  };\n\n  const handleStateClick = (stateName) => {\n    const stateData = accountsByState[stateName];\n    if (stateData && stateData.count > 0) {\n      setSelectedState(stateName);\n      setStateAccounts(stateData.accounts);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    if (amount >= 1000000) {\n      return ''$'' + (amount / 1000000).toFixed(1) + ''M'';\n    } else if (amount >= 1000) {\n      return ''$'' + (amount / 1000).toFixed(0) + ''K'';\n    }\n    return new Intl.NumberFormat(''en-US'', {\n      style: ''currency'',\n      currency: ''USD'',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount || 0);\n  };\n\n  const handleViewModeChange = (mode) => {\n    setViewMode(mode);\n\n    // Debounce settings save to avoid excessive writes\n    if (saveSettingsTimeoutRef.current) {\n      clearTimeout(saveSettingsTimeoutRef.current);\n    }\n    saveSettingsTimeoutRef.current = setTimeout(() => {\n      onSaveUserSettings({ ...savedUserSettings, viewMode: mode });\n    }, 500);\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading account data...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: ''20px'', backgroundColor: ''#FEE2E2'', borderRadius: ''8px'', margin: ''20px'' }}>\n        <div style={{ color: ''#991B1B'', fontWeight: ''bold'' }}>Error loading data</div>\n        <div style={{ color: ''#DC2626'', marginTop: ''8px'' }}>{error}</div>\n        <button \n          onClick={loadAccounts}\n          style={{\n            marginTop: ''12px'',\n            padding: ''8px 16px'',\n            backgroundColor: ''#EF4444'',\n            color: ''white'',\n            border: ''none'',\n            borderRadius: ''6px'',\n            cursor: ''pointer''\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: ''20px'', height: ''100%'', display: ''flex'', flexDirection: ''column'' }}>\n      <div style={{ marginBottom: ''20px'' }}>\n        <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'', marginBottom: ''16px'' }}>\n          <h2 style={{ fontSize: ''24px'', fontWeight: ''bold'', margin: 0 }}>Account Distribution Map</h2>\n          <div style={{ display: ''flex'', gap: ''8px'' }}>\n            <button\n              onClick={() => handleViewModeChange(''count'')}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: viewMode === ''count'' ? ''#3B82F6'' : ''#F3F4F6'',\n                color: viewMode === ''count'' ? ''white'' : ''#374151'',\n                border: ''1px solid'',\n                borderColor: viewMode === ''count'' ? ''#3B82F6'' : ''#D1D5DB'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              By Count\n            </button>\n            <button\n              onClick={() => handleViewModeChange(''revenue'')}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: viewMode === ''revenue'' ? ''#3B82F6'' : ''#F3F4F6'',\n                color: viewMode === ''revenue'' ? ''white'' : ''#374151'',\n                border: ''1px solid'',\n                borderColor: viewMode === ''revenue'' ? ''#3B82F6'' : ''#D1D5DB'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              By Revenue\n            </button>\n            <button\n              onClick={loadAccounts}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: ''#10B981'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              Refresh\n            </button>\n          </div>\n        </div>\n        \n        {/* Summary Stats */}\n        <div style={{ \n          display: ''grid'', \n          gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'',\n          gap: ''12px'',\n          marginBottom: ''20px''\n        }}>\n          <div style={{ \n            padding: ''12px'', \n            backgroundColor: ''#F9FAFB'', \n            borderRadius: ''8px'',\n            borderLeft: ''4px solid #3B82F6''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Total Accounts</div>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#111827'' }}>\n              {accounts.length?.toLocaleString() || ''0''}\n            </div>\n          </div>\n          <div style={{ \n            padding: ''12px'', \n            backgroundColor: ''#F9FAFB'', \n            borderRadius: ''8px'',\n            borderLeft: ''4px solid #10B981''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>States with Accounts</div>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#111827'' }}>\n              {Object.values(accountsByState).filter(s => s.count > 0).length}\n            </div>\n          </div>\n          <div style={{ \n            padding: ''12px'', \n            backgroundColor: ''#F9FAFB'', \n            borderRadius: ''8px'',\n            borderLeft: ''4px solid #F59E0B''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Top State</div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#111827'' }}>\n              {(() => {\n                const topState = Object.entries(accountsByState)\n                  .filter(([_, data]) => data.count > 0)\n                  .sort((a, b) => b[1].count - a[1].count)[0];\n                return topState ? `$' + '{topState[0]} ($' + '{topState[1].count})` : ''N/A'';\n              })()}\n            </div>\n          </div>\n          <div style={{ \n            padding: ''12px'', \n            backgroundColor: ''#F9FAFB'', \n            borderRadius: ''8px'',\n            borderLeft: ''4px solid #8B5CF6''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Total Revenue</div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#111827'' }}>\n              {formatCurrency(accounts.reduce((sum, acc) => sum + (acc.AnnualRevenue || 0), 0))}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Map Container */}\n      <div \n        ref={svgRef}\n        style={{ \n          flex: 1, \n          backgroundColor: ''white'', \n          borderRadius: ''8px'', \n          padding: ''20px'',\n          border: ''1px solid #E5E7EB'',\n          minHeight: ''500px''\n        }}\n      />\n      \n      {/* State Details Modal */}\n      {selectedState && (\n        <div style={{\n          position: ''fixed'',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: ''rgba(0, 0, 0, 0.5)'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 1000\n        }}\n        onClick={() => setSelectedState(null)}\n        >\n          <div \n            style={{\n              backgroundColor: ''white'',\n              borderRadius: ''12px'',\n              width: ''90%'',\n              maxWidth: ''900px'',\n              height: ''80vh'',\n              display: ''flex'',\n              flexDirection: ''column'',\n              boxShadow: ''0 20px 25px -5px rgba(0, 0, 0, 0.1)''\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div style={{\n              padding: ''20px'',\n              borderBottom: ''1px solid #E5E7EB'',\n              display: ''flex'',\n              justifyContent: ''space-between'',\n              alignItems: ''center''\n            }}>\n              <h3 style={{ fontSize: ''20px'', fontWeight: ''bold'', margin: 0 }}>\n                {selectedState} Accounts\n                <span style={{ marginLeft: ''12px'', fontSize: ''16px'', color: ''#6B7280'' }}>\n                  ({stateAccounts.length} accounts)\n                </span>\n              </h3>\n              <button\n                onClick={() => setSelectedState(null)}\n                style={{\n                  background: ''none'',\n                  border: ''none'',\n                  fontSize: ''24px'',\n                  cursor: ''pointer'',\n                  color: ''#6B7280'',\n                  padding: ''0'',\n                  width: ''30px'',\n                  height: ''30px''\n                }}\n              >\n                ×\n              </button>\n            </div>\n            \n            <div style={{ flex: 1, overflow: ''auto'', padding: ''20px'' }}>\n              {stateAccounts.length === 0 ? (\n                <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#6B7280'' }}>\n                  No accounts found in {selectedState}\n                </div>\n              ) : (\n                <table style={{ width: ''100%'', borderCollapse: ''collapse'' }}>\n                  <thead>\n                    <tr style={{ borderBottom: ''2px solid #E5E7EB'' }}>\n                      <th style={{ padding: ''12px'', textAlign: ''left'', fontWeight: ''600'' }}>Account Name</th>\n                      <th style={{ padding: ''12px'', textAlign: ''left'', fontWeight: ''600'' }}>City</th>\n                      <th style={{ padding: ''12px'', textAlign: ''left'', fontWeight: ''600'' }}>Industry</th>\n                      <th style={{ padding: ''12px'', textAlign: ''right'', fontWeight: ''600'' }}>Annual Revenue</th>\n                      <th style={{ padding: ''12px'', textAlign: ''center'', fontWeight: ''600'' }}>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {stateAccounts.map((account, index) => (\n                      <tr \n                        key={account.ID}\n                        style={{ \n                          borderBottom: ''1px solid #E5E7EB'',\n                          backgroundColor: index % 2 === 0 ? ''white'' : ''#F9FAFB''\n                        }}\n                      >\n                        <td style={{ padding: ''12px'', fontWeight: ''500'' }}>{account.Name}</td>\n                        <td style={{ padding: ''12px'' }}>{account.City || ''-''}</td>\n                        <td style={{ padding: ''12px'' }}>{account.Industry || ''-''}</td>\n                        <td style={{ padding: ''12px'', textAlign: ''right'', fontWeight: ''600'', color: ''#059669'' }}>\n                          {formatCurrency(account.AnnualRevenue)}\n                        </td>\n                        <td style={{ padding: ''12px'', textAlign: ''center'' }}>\n                          <button\n                            onClick={() => {\n                              if (callbacks.OpenEntityRecord) {\n                                callbacks.OpenEntityRecord(''Accounts'', [\n                                  { FieldName: ''ID'', Value: account.ID }\n                                ]);\n                                setSelectedState(null);\n                              }\n                            }}\n                            style={{\n                              padding: ''6px 8px'',\n                              backgroundColor: ''#3B82F6'',\n                              color: ''white'',\n                              border: ''none'',\n                              borderRadius: ''4px'',\n                              cursor: ''pointer'',\n                              fontSize: ''18px''\n                            }}\n                            title=\"Open record\"\n                          >\n                            ↗\n                          </button>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","functionalRequirements":"## US Account Distribution Heatmap\n\n### Purpose\nVisualize the geographic distribution of accounts across the United States using an interactive choropleth map.\n\n### Core Features\n- **Choropleth Map**: Color-coded US states based on account concentration\n- **Dual View Modes**: \n  - Count mode: Shows number of accounts per state\n  - Revenue mode: Shows total annual revenue per state\n- **Interactive States**: Hover for tooltips, click for detailed drill-down\n- **Summary Statistics**: Total accounts, states covered, top state, total revenue\n- **State Details Modal**: List of all accounts in selected state with sorting\n\n### Map Interactions\n- **Hover**: Shows tooltip with state metrics (count, total revenue, average revenue)\n- **Click**: Opens modal with detailed account list for that state\n- **Visual Feedback**: State highlighting on hover\n- **Color Gradient**: Darker shades indicate higher concentration\n\n### State Details View\n- Sortable table of accounts\n- Shows account name, city, industry, annual revenue\n- Direct link to open full account record\n- Clean modal interface with scrollable content\n\n### Visual Design\n- Blue gradient color scheme for data visualization\n- Gray for states with no accounts\n- State abbreviations displayed on map\n- Interactive legend showing value range\n- Responsive layout that adapts to container size","dataRequirements":{"mode":"views","entities":[{"name":"Accounts","displayFields":["Name","City","BillingState","Industry","AnnualRevenue"],"filterFields":["BillingState"],"sortFields":["Name","AnnualRevenue"],"fields":[{"name":"ID","type":"string","description":"Unique identifier for the account"},{"name":"Name","type":"string","description":"Name of the account/company"},{"name":"City","type":"string","description":"City where account is located"},{"name":"BillingState","type":"string","description":"Billing state of the account (can be abbreviation or full name)"},{"name":"Industry","type":"string","description":"Industry sector of the account"},{"name":"AnnualRevenue","type":"number","description":"Annual revenue of the account"}]}]},"technicalDesign":"## Implementation Details\n\n### Component Function\n`USAccountHeatmap({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings })`\n\n### State Management\n- **accounts**: Array of all account records\n- **accountsByState**: Aggregated data by state\n- **selectedState**: Currently selected state for drill-down\n- **stateAccounts**: Accounts in selected state\n- **viewMode**: ''count'' or ''revenue'' display mode\n\n### Data Processing\n1. Load all accounts with state information\n2. Group accounts by state name\n3. Calculate metrics per state:\n   - Account count\n   - Total revenue\n   - Average revenue\n4. Map state names to abbreviations for display\n\n### Map Rendering with D3.js\n1. **Projection**: Uses `d3.geoAlbersUsa()` for US map\n2. **Data Source**: TopoJSON from CDN (us-atlas@3)\n3. **Color Scale**: `d3.interpolateBlues` sequential scale\n4. **Interactivity**: D3 event handlers for hover and click\n5. **Tooltip**: Dynamic positioning following cursor\n6. **Legend**: Gradient bar showing value range\n\n### Performance Considerations\n- Single data load for all accounts\n- Client-side aggregation and filtering\n- Efficient D3 rendering with proper cleanup\n- Lazy loading of TopoJSON data\n\n### Browser Compatibility\n- Requires modern browser with SVG support\n- D3.js v7 for visualization\n- TopoJSON for geographic data","properties":[],"events":[{"name":"OpenEntityRecord","description":"Triggered when user clicks open button for an account"}],"dependencies":[],"libraries":[{"name":"d3","version":"^7.8.5","globalVariable":"d3"},{"name":"topojson-client","version":"^3.1.0","globalVariable":"topojson"}],"description":"Interactive choropleth map showing account distribution across US states with drill-down capability"}'
SET
  @FunctionalRequirements_c8c26cca = N'## US Account Distribution Heatmap

### Purpose
Visualize the geographic distribution of accounts across the United States using an interactive choropleth map.

### Core Features
- **Choropleth Map**: Color-coded US states based on account concentration
- **Dual View Modes**: 
  - Count mode: Shows number of accounts per state
  - Revenue mode: Shows total annual revenue per state
- **Interactive States**: Hover for tooltips, click for detailed drill-down
- **Summary Statistics**: Total accounts, states covered, top state, total revenue
- **State Details Modal**: List of all accounts in selected state with sorting

### Map Interactions
- **Hover**: Shows tooltip with state metrics (count, total revenue, average revenue)
- **Click**: Opens modal with detailed account list for that state
- **Visual Feedback**: State highlighting on hover
- **Color Gradient**: Darker shades indicate higher concentration

### State Details View
- Sortable table of accounts
- Shows account name, city, industry, annual revenue
- Direct link to open full account record
- Clean modal interface with scrollable content

### Visual Design
- Blue gradient color scheme for data visualization
- Gray for states with no accounts
- State abbreviations displayed on map
- Interactive legend showing value range
- Responsive layout that adapts to container size'
SET
  @TechnicalDesign_c8c26cca = N'## Implementation Details

### Component Function
`USAccountHeatmap({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings })`

### State Management
- **accounts**: Array of all account records
- **accountsByState**: Aggregated data by state
- **selectedState**: Currently selected state for drill-down
- **stateAccounts**: Accounts in selected state
- **viewMode**: ''count'' or ''revenue'' display mode

### Data Processing
1. Load all accounts with state information
2. Group accounts by state name
3. Calculate metrics per state:
   - Account count
   - Total revenue
   - Average revenue
4. Map state names to abbreviations for display

### Map Rendering with D3.js
1. **Projection**: Uses `d3.geoAlbersUsa()` for US map
2. **Data Source**: TopoJSON from CDN (us-atlas@3)
3. **Color Scale**: `d3.interpolateBlues` sequential scale
4. **Interactivity**: D3 event handlers for hover and click
5. **Tooltip**: Dynamic positioning following cursor
6. **Legend**: Gradient bar showing value range

### Performance Considerations
- Single data load for all accounts
- Client-side aggregation and filtering
- Efficient D3 rendering with proper cleanup
- Lazy loading of TopoJSON data

### Browser Compatibility
- Requires modern browser with SVG support
- D3.js v7 for visualization
- TopoJSON for geographic data'
SET
  @FunctionalRequirementsVector_c8c26cca = N'[-0.03151789307594299,0.0015537020517513156,-0.044920798391103745,-0.06101730093359947,0.04865381866693497,0.03787875920534134,0.029398605227470398,0.03517477586865425,0.022911371663212776,-0.027013955637812614,-0.046264778822660446,0.01916084811091423,0.04676903411746025,0.07407711446285248,-0.010547146201133728,-0.04029257595539093,-0.03807278722524643,-0.006590241100639105,-0.03833416849374771,-0.007120989728718996,-0.007707823533564806,-0.030955936759710312,-0.03819083049893379,-0.03148293122649193,-0.011124851182103157,0.025547897443175316,-0.015759920701384544,0.03626014292240143,0.03727814555168152,-0.08821607381105423,0.012203114107251167,0.0011452350299805403,-0.046887148171663284,-0.04295438528060913,0.0000023299430722545367,-0.01458161510527134,-0.019271371886134148,0.022764120250940323,0.02767864428460598,0.002568340627476573,0.04094438999891281,-0.05873917415738106,0.014836135320365429,0.00704814912751317,-0.0025334153324365616,-0.019703714177012444,-0.025042608380317688,-0.03739397972822189,-0.0036902555730193853,-0.07673388719558716,0.011902675963938236,-0.0567181259393692,-0.07488203793764114,0.017792483791708946,-0.04144614562392235,0.032310787588357925,-0.007871757261455059,0.06742636859416962,-0.008641366846859455,-0.11075173318386078,-0.06404858827590942,0.03630159795284271,0.03941986337304115,-0.006576377432793379,0.04830151051282883,0.06636139005422592,0.04429378733038902,0.04185209423303604,-0.019815955311059952,0.020345186814665794,0.056237973272800446,0.044889532029628754,0.03150928020477295,-0.01470754761248827,-0.030495459213852882,0.012844279408454895,-0.0041375537402927876,0.0396578423678875,0.017636118456721306,-0.0016052889404818416,-0.09603060781955719,0.05286639556288719,-0.028114797547459602,-0.012746736407279968,-0.008820469491183758,-0.01095344964414835,-0.0199187733232975,-0.02585018426179886,-0.048633262515068054,-0.00866780336946249,-0.0031858603470027447,-0.014638056047260761,0.017929457128047943,0.014112277887761593,0.007520592771470547,0.002392497146502137,0.03606950491666794,-0.08860884606838226,0.054048001766204834,0.03221896290779114,0.09021235257387161,0.011136351153254509,-0.06539701670408249,0.011991447769105434,0.0728747621178627,-0.003149474272504449,-0.009078852832317352,-0.026457607746124268,-0.001257502706721425,0.05340978130698204,-0.01961551234126091,0.021972935646772385,0.04666410759091377,-0.028940506279468536,-0.03846365213394165,0.06815697997808456,-0.06761445850133896,-0.028175443410873413,-0.03839492052793503,0.016566814854741096,0.04522298648953438,0.005898591596633196,0.041858408600091934,0.025473671033978462,-0.004143456928431988,0.039886314421892166,-0.06120661646127701,-0.021945996209979057,0.0018159449100494385,0.06813786923885345,-0.01220275554805994,0.008428242057561874,0.009759745560586452,-0.02983691543340683,-0.012307608500123024,-0.00034653767943382263,0.0549316331744194,-0.005222830455750227,0.0006090930546633899,0.03740204498171806,0.014438018202781677,0.005913534201681614,-0.00297216116450727,0.004301897250115871,0.006385922897607088,-0.04271300137042999,0.005060243885964155,0.08951839059591293,0.00596989132463932,-0.020057611167430878,-0.03923013433814049,-0.023225093260407448,-0.008592799305915833,0.0056167603470385075,0.03332574665546417,0.0017601613653823733,0.05189180374145508,-0.03132007643580437,0.006623642053455114,0.03108740784227848,-0.0023580684792250395,-0.014822758734226227,0.03884260356426239,-0.026124365627765656,-0.006676218938082457,0.07207190990447998,-0.07600676268339157,0.008205701597034931,-0.0954938754439354,-0.030611740425229073,0.008854920044541359,-0.005119449459016323,-0.04936590418219566,-0.03481867536902428,0.030280685052275658,0.05575328692793846,0.029419677332043648,-0.026350323110818863,-0.011569568887352943,0.01508304849267006,-0.020429745316505432,-0.1394229680299759,0.016631238162517548,0.0006347254966385663,-0.028436284512281418,-0.015879472717642784,-0.01613270677626133,0.00884559378027916,-0.05067851394414902,-0.005220247432589531,0.0012753962073475122,-0.04666030406951904,-0.02367408759891987,0.01794932596385479,-0.018575454130768776,-0.003703165100887418,0.045967455953359604,-0.04167895019054413,0.024158073589205742,0.03993004187941551,-0.025263499468564987,-0.03066757693886757,0.032490309327840805,0.04464507848024368,0.005548048764467239,0.03141973167657852,-0.022130711004137993,-0.020455986261367798,0.03093387745320797,0.008841069415211678,-0.05804675072431564,0.06058226898312569,-0.006849678698927164,-0.012454393319785595,-0.008498414419591427,0.07262164354324341,0.01671326532959938,0.032479576766490936,-0.009466126561164856,-0.02291608229279518,-0.007195540238171816,0.03227195516228676,0.036737024784088135,-0.036292050033807755,0.058469656854867935,0.07483505457639694,0.009023865684866905,0.009292020462453365,0.0436529815196991,-0.02692270651459694,-0.042967211455106735,-0.02914140187203884,0.032473549246788025,0.015711160376667976,0.0312722809612751,0.022251198068261147,0.07270032912492752,0.11953708529472351,-0.04662041738629341,-0.031066764146089554,0.010503852739930153,-0.04921387881040573,-0.009637045674026012,0.011810810305178165,0.004691888112574816,-0.026287741959095,-0.02690596505999565,0.006932408083230257,-0.007828381843864918,0.026452064514160156,0.03155625984072685,0.008758545853197575,0.07327740639448166,-0.07072506844997406,-0.03655059635639191,0.0377306267619133,0.022707881405949593,-0.039788682013750076,0.013348045758903027,0.07366572320461273,-0.040860239416360855,-0.019813507795333862,-0.05203161761164665,-0.03221738338470459,0.007210039999336004,-0.014937218278646469,0.0384657047688961,-0.01410535629838705,0.018127188086509705,0.010797841474413872,0.010133261792361736,0.06144081428647041,-0.010734849609434605,-0.022357963025569916,0.01101287268102169,0.03335710987448692,-0.06769190728664398,0.03938131779432297,0.017292654141783714,-0.004766138736158609,-0.0026435144245624542,-0.01657724939286709,0.027293778955936432,0.017360568046569824,-0.0026273031253367662,-0.04665501415729523,0.010834849439561367,-0.051386039704084396,0.0005088701727800071,-0.013508490286767483,0.02468954585492611,0.00824536569416523,-0.002715066308155656,-0.03251386061310768,-0.03639296442270279,0.02415015548467636,0.013261496089398861,-0.013602201826870441,-0.008559943176805973,0.09263884276151657,-0.023218806833028793,-0.04379471391439438,0.001124655595049262,0.03971216827630997,0.02720077522099018,0.040105074644088745,0.020577844232320786,-0.004775746259838343,0.02648400142788887,0.06056144833564758,0.008100815117359161,-0.0006265941192395985,0.013832672499120235,-0.09501618146896362,0.013173792511224747,0.006714457646012306,0.01485288143157959,0.023650355637073517,0.01525065116584301,0.05324004590511322,-0.007521847728639841,0.008598088286817074,-0.016130905598402023,-0.0047502596862614155,-0.011589648202061653,0.010160221718251705,-0.018832989037036896,0.0004045398090966046,-0.01295725628733635,-0.0056101614609360695,-0.002141230273991823,0.011854426935315132,-0.010476131923496723,0.03828541561961174,-0.05629197135567665,-0.040679603815078735,-0.011682366020977497,0.008013552986085415,0.024152541533112526,-0.05528060719370842,-0.01028479728847742,-0.0014863910619169474,0.008584439754486084,-0.06797927618026733,0.02915329486131668,-0.02176262065768242,0.06393938511610031,-0.04732309281826019,-0.05021391063928604,0.05409284681081772,0.061263397336006165,0.01814272627234459,0.008107075467705727,-0.02571024000644684,0.030987709760665894,-0.019335974007844925,0.01419349480420351,0.09389813244342804,-0.05127332732081413,-0.04009596258401871,-0.012882878072559834,0.011593155562877655,0.015833359211683273,0.0954086109995842,0.04100698232650757,0.03222762420773506,0.00023354952281806618,0.004637064412236214,-0.01699952967464924,0.01938348077237606,0.006570746656507254,0.027404000982642174,-0.007675154134631157,0.01860911212861538,0.004290351644158363,-0.04571821540594101,0.009318347088992596,0.02649862878024578,-0.002727099694311619,0.007264796178787947,0.09394700825214386,-0.07529614865779877,0.09252375364303589,-0.061148688197135925,0.00696936110034585,-0.032071202993392944,-0.03881341591477394,0.021694758906960487,-0.05956094339489937,-0.0057357787154614925,-0.011841323226690292,0.07689086347818375,-0.032782938331365585,-0.00744113652035594,-0.016056034713983536,0.026989825069904327,-0.020262612029910088,-0.02490346133708954,-0.004166863858699799,-0.029515497386455536,0.035097721964120865,-0.055804453790187836,0.027998553588986397,-0.02478414960205555,-0.020931044593453407,-0.055531419813632965,0.07286230474710464,0.03248864412307739,-0.041695378720760345,0.01724799908697605,-0.06509142369031906,0.044289011508226395,-0.002450760453939438,0.012941324152052402,-0.019798098132014275,0.01821468025445938,-0.001485131331719458,-0.014153195545077324,-0.020326659083366394,0.044797543436288834,0.033599853515625,0.015973858535289764,-0.010744534432888031,-0.028756137937307358,0.07654763758182526,-0.01756586879491806,0.05937371402978897,-0.06567003577947617,-0.007127208169549704,0.008598591201007366,0.00392340961843729,0.05123753473162651,-0.04574839398264885,0.024554045870900154,-0.043710462749004364,0.03157465532422066,0.07197391241788864,0.021615682169795036,-0.024167146533727646,-0.01349677424877882,-0.03304314613342285,0.01046565268188715,0.06414328515529633,-0.0027408739551901817,-0.01901993714272976,0.03589313477277756,-0.028603894636034966,0.0794949159026146,-0.030929816886782646,-0.0957094132900238,-0.011747430078685284,0.008076366037130356,-0.06653526425361633,-0.01918896660208702,-0.00535568268969655,-0.008520251139998436,0.03571421280503273,-0.03173500671982765,0.02396509237587452,0.0129480492323637,0.020877143368124962,0.012614856474101543,-0.06268057227134705,-0.03605721890926361,0.0156658124178648,0.031217237934470177,0.015295175835490227,-0.05667927488684654,-0.049927689135074615,-0.03836752474308014,0.01579716056585312,0.014492283575236797,-0.051165856420993805,0.010065170004963875,0.03754449263215065,0.037228263914585114,-0.016778910532593727,-0.038051582872867584,0.05780115723609924,-0.051119983196258545,-0.0022137353662401438,0.045368410646915436,0.03636655956506729,-0.0332256518304348,0.0194842666387558,0.00324399140663445,-0.0495375320315361,0.020132914185523987,-0.027527760714292526,-0.03466114401817322,0.05362745001912117,0.006257255561649799,-0.02491789311170578,0.0363277792930603,0.06760119646787643,0.011220797896385193,-0.022115491330623627,0.03404374048113823,0.026490332558751106,0.0025896180886775255,-0.0652448907494545,-0.0010499574709683657,-0.011979186907410622,0.022747941315174103,0.016635408625006676,0.06259878724813461,0.0582614429295063,0.04034491628408432,-0.0022646612487733364,0.022812502458691597,-0.0143890380859375,0.006934263743460178,-0.02854752354323864,0.030951308086514473,0.06606335937976837,0.010941213928163052,-0.009613685309886932,-0.022818177938461304,-0.0035784642677754164,-0.01030663587152958,0.017193328589200974,0.004325754940509796,0.039950840175151825,0.01948578655719757,-0.021412692964076996,-0.02892995811998844,0.02971545048058033,-0.017213981598615646,-0.004824915435165167,0.03868621960282326,0.06190099939703941,0.0032942211255431175,-0.010838286019861698,0.006622246000915766,0.008057922124862671,0.044996313750743866,0.06447054445743561,0.019934900104999542,0.014254734851419926,-0.01734878309071064,-0.029562560841441154,-0.01658300682902336,0.0062757316045463085,-0.022006651386618614,0.019724993035197258,0.0009339902899228036,0.01823209971189499,-0.07105696201324463,-0.0070129213854670525,-0.00880968477576971,-0.004652697127312422,-0.036192040890455246,-0.014163539744913578,-0.029033446684479713,-0.03251059725880623,-7.030277594594916e-33,-0.0500401109457016,-0.032478153705596924,-0.020985079929232597,-0.09087726473808289,0.007736767176538706,-0.03191381320357323,0.0329526849091053,-0.01226024329662323,-0.000791451777331531,-0.0411209911108017,-0.04468393325805664,-0.015072483569383621,0.01237929705530405,0.010758575983345509,-0.008187847211956978,-0.029468057677149773,-0.03983496129512787,0.006713043432682753,-0.008060172200202942,-0.0024675375316292048,-0.04019545391201973,0.04760739207267761,0.01199785154312849,-0.02699023298919201,-0.06157415732741356,0.019401790574193,-0.022710485383868217,-0.009854716248810291,-0.007579493802040815,0.010307078249752522,-0.010382588021457195,0.004078604280948639,-0.03038487397134304,-0.021728964522480965,-0.002130552427843213,-0.08455123007297516,-0.0031541145872324705,-0.05641542747616768,0.02619544044137001,-0.020870555192232132,0.05871041864156723,0.022461971268057823,0.033351995050907135,0.03184372931718826,0.015348714776337147,0.009087299928069115,0.004775903653353453,-0.01936030201613903,-0.0035958881489932537,-0.03728361800312996,0.03517511487007141,0.025829466059803963,-0.009612464345991611,0.05594067648053169,0.006316939368844032,0.02574494108557701,0.02340552769601345,-0.015967685729265213,-0.005622632335871458,0.004033850505948067,0.07385065406560898,-0.03153732046484947,-0.005024762358516455,0.021768875420093536,0.043403394520282745,0.01886635273694992,0.0012746901484206319,0.06240302324295044,-0.07228879630565643,-0.05008620023727417,0.023999681696295738,-0.05060974508523941,-0.08874718844890594,0.0051204003393650055,-0.006544395815581083,-0.028374064713716507,0.003003207966685295,0.02400536648929119,0.03894020617008209,-0.0027307760901749134,0.020243654027581215,0.01108642015606165,-0.027304591611027718,-0.020899169147014618,0.027045603841543198,0.020786067470908165,0.0033847966697067022,-0.04755015671253204,0.03986162692308426,0.012968841940164566,0.011689511127769947,0.09140382707118988,0.009315745905041695,-0.011527221649885178,-0.0580759271979332,-0.021587930619716644,0.08072519302368164,0.03549196943640709,-0.027467239648103714,-0.040130652487277985,0.023740537464618683,-0.032490313053131104,-0.0473824180662632,0.0036234904546290636,-0.028265906497836113,0.02325858362019062,0.04629112407565117,-0.017601381987333298,-0.0430607870221138,-0.004643699619919062,0.03837668150663376,0.0016323048621416092,-0.03750839829444885,0.0023293395061045885,-0.01832425966858864,0.006313276942819357,-0.005151667166501284,-0.05936240777373314,0.018244439736008644,0.02908451482653618,-0.00862194411456585,-0.011219392530620098,-0.07421176135540009,0.005911604966968298,0.04005706310272217,-0.020605258643627167,-0.05084996670484543,-0.03331749886274338,0.02658201940357685,-0.04852078855037689,0.010672448202967644,-0.02500142529606819,3.145690925521194e-7,0.04404061660170555,0.04504553601145744,-0.06577547639608383,-0.046981118619441986,0.00973361637443304,-0.03475791960954666,-0.027762383222579956,-0.04920005053281784,0.011548643000423908,-0.043841417878866196,0.0069091301411390305,0.02127740904688835,0.043632447719573975,0.05177497863769531,-0.03948453813791275,-0.013796070590615273,-0.05276516079902649,-0.01240577083081007,-0.02300861105322838,0.022269058972597122,0.018859541043639183,0.024307353422045708,0.057607345283031464,-0.0019097226904705167,0.022335141897201538,0.05884740501642227,-0.015767192468047142,-0.06438115239143372,0.03440006449818611,-0.04011105000972748,0.03042035549879074,-0.02405848540365696,0.00003534690767992288,-0.0010104129323735833,0.012385384179651737,-0.005453694611787796,-0.05055110901594162,-0.010983464308083057,0.01608464866876602,0.03705364465713501,0.00038335463614203036,0.02170802839100361,-0.03502141684293747,-0.07746510207653046,-0.030965624377131462,-0.07562320679426193,0.0043533602729439735,-0.0034902961924672127,-0.04124661162495613,0.03700363263487816,0.0033067797776311636,0.007592317182570696,-0.014146564528346062,-0.004145200364291668,0.034008897840976715,-0.038090284913778305,0.015588399954140186,0.04372948780655861,0.018905343487858772,0.015330448746681213,-0.004964356776326895,0.06068045645952225,-0.014011742547154427,0.04220210760831833,0.0317414216697216,-0.01909024827182293,-0.01313036773353815,3.974886852025044e-34,-0.022087929770350456,-0.026603668928146362,0.06250829994678497,-0.015973325818777084,0.052296608686447144,0.0009284894331358373,0.035243261605501175,0.019120503216981888,0.015326537191867828,-0.0321514755487442,-0.007262255065143108]'
SET
  @TechnicalDesignVector_c8c26cca = N'[-0.015152967534959316,0.020557070150971413,-0.042315684258937836,-0.04750370234251022,0.05227586254477501,0.008255177177488804,-0.00536624388769269,0.005244513973593712,-0.04297809675335884,-0.04852395877242088,-0.01146596297621727,0.030088283121585846,0.08782915771007538,0.09589215368032455,0.013320829719305038,-0.08274573087692261,-0.0036325640976428986,0.012917304411530495,-0.034620095044374466,-0.018560657277703285,-0.0011028728913515806,-0.024145057424902916,-0.025790374726057053,-0.037536974996328354,0.037901993840932846,0.0053153675980865955,-0.00960362795740366,0.010717646218836308,0.029834531247615814,-0.09295446425676346,0.02646855264902115,0.01674002967774868,-0.040185097604990005,-0.03291642293334007,0.0000025160538825730328,-0.015123877674341202,-0.013533649034798145,-0.0028598757926374674,0.03803504258394241,-0.012606749311089516,-0.008487926796078682,-0.014775912277400494,0.028148459270596504,-0.016052324324846268,0.024709364399313927,-0.028120722621679306,-0.07976863533258438,-0.032816752791404724,-0.0031341491267085075,-0.06506284326314926,0.010397307574748993,-0.047059059143066406,-0.0674363449215889,-0.00631761085242033,-0.02203620970249176,0.028508106246590614,0.0041304221376776695,0.08264654874801636,-0.00680191908031702,-0.04545792564749718,-0.030297204852104187,0.023870568722486496,-0.04547553136944771,-0.008727113716304302,0.05095597356557846,0.035480890423059464,0.06312065571546555,0.010843783617019653,-0.02006024681031704,0.014283822849392891,0.010382643900811672,0.017007481306791306,0.037745438516139984,0.030565451830625534,-0.03803306818008423,-0.030894557014107704,-0.029274864122271538,-0.05553411692380905,0.043155305087566376,0.0068512773141264915,-0.06471588462591171,0.038655463606119156,-0.029447251930832863,0.016215093433856964,0.006887716241180897,0.017808953300118446,-0.03466702625155449,-0.006874897051602602,-0.04922189563512802,0.04179597273468971,0.020874489098787308,-0.031158145517110825,0.032851677387952805,-0.0008384084794670343,-0.00009015057003125548,-0.01862526126205921,0.0472971573472023,-0.06656531989574432,0.060995038598775864,-0.0013724836753681302,0.07086627930402756,0.014283212833106518,-0.02681291103363037,0.034208931028842926,0.06775356829166412,0.03598012775182724,-0.004118999931961298,-0.04691372811794281,0.018668703734874725,0.03337731957435608,-0.005392024293541908,0.01700461283326149,0.04684879630804062,-0.006169309373944998,0.03770791366696358,0.08225730061531067,-0.04306653514504433,-0.027284249663352966,-0.0007357152062468231,-0.004526568576693535,0.0019102126825600863,-0.01577586494386196,-0.0026871974114328623,0.025736214593052864,0.0083648432046175,0.0598897747695446,-0.030987875536084175,-0.024694455787539482,0.007754339370876551,0.033523403108119965,0.01956900954246521,-0.028914136812090874,0.038647040724754333,0.023986533284187317,0.004778025206178427,-0.020304838195443153,0.008600658737123013,0.0017447357531636953,0.013028758578002453,0.03674013540148735,-0.023298991844058037,-0.007196364924311638,0.013479629531502724,0.0007827321533113718,0.04812692105770111,-0.02433759905397892,0.03235706314444542,0.023364199325442314,0.006569747347384691,-0.011249661445617676,0.043991073966026306,-0.03564624488353729,-0.02712387964129448,0.03172585368156433,-0.021086687222123146,-0.0019511004211381078,0.03235968202352524,0.00024032998771872371,0.030389459803700447,0.06388049572706223,0.020268335938453674,0.026102885603904724,-0.010581791400909424,-0.04385826364159584,0.03149419650435448,0.09575515985488892,-0.0528828389942646,0.009832467883825302,-0.07321906089782715,0.009229064919054508,-0.014011446386575699,-0.03722294420003891,-0.03473123908042908,0.009718143381178379,0.026225565001368523,0.011394545435905457,0.029644615948200226,-0.05790284276008606,0.010040541179478168,0.03701723366975784,-0.012458885088562965,-0.08673671633005142,0.030403103679418564,-0.044331058859825134,0.005230931099504232,-0.016133416444063187,0.014867722988128662,0.07345784455537796,0.01601547934114933,-0.004575479310005903,0.0210442915558815,-0.003709776559844613,-0.009292173199355602,0.034665413200855255,-0.029742911458015442,-0.015480590052902699,0.0508926622569561,-0.001978229498490691,-0.0010124959517270327,0.01710396632552147,0.03309605270624161,-0.011437959037721157,0.03796400874853134,0.0019586982671171427,0.017093829810619354,0.02627851441502571,-0.08598873764276505,-0.006366245914250612,0.04956860840320587,0.0025856988504529,-0.03141466900706291,0.03703300654888153,-0.006326532457023859,0.011075884103775024,-0.027183346450328827,0.02876497618854046,-0.00012962930486537516,0.018382161855697632,0.028163038194179535,-0.01830338127911091,-0.024138430133461952,-0.02792663872241974,0.08123527467250824,-0.03424306586384773,0.08547225594520569,0.07072924077510834,-0.0006742125260643661,-0.020332491025328636,0.048685282468795776,-0.01571090891957283,0.04181485250592232,-0.04064825922250748,0.01571786031126976,0.03907592594623566,0.019428681582212448,0.0037018994335085154,0.05353172868490219,0.009879418648779392,-0.020658306777477264,-0.001140534644946456,0.03316319361329079,-0.03021402284502983,-0.01014938484877348,-0.02357814647257328,-0.021341597661376,-0.056623321026563644,-0.007741801906377077,0.03330111876130104,-0.022069765254855156,-0.02843385934829712,0.025551527738571167,0.015552246011793613,0.053803954273462296,-0.1009138748049736,-0.030803022906184196,0.00022163028188515455,0.038755521178245544,-0.007453834637999535,0.0271526500582695,0.05239447206258774,-0.01097940281033516,-0.03361444175243378,-0.03283238783478737,-0.032199613749980927,0.00860679242759943,-0.030727799981832504,0.029790213331580162,0.01258813589811325,0.008094719611108303,0.02188827469944954,0.015087046660482883,0.04797368496656418,0.02335294336080551,-0.037725161761045456,0.004976630676537752,-0.01778296008706093,-0.029861915856599808,0.053613290190696716,0.011125745251774788,0.008356522768735886,-0.011180918663740158,-0.035278815776109695,0.02549881488084793,0.025171244516968727,-0.002034865552559495,-0.05604222044348717,0.0027414485812187195,-0.06680849194526672,0.0368402861058712,-0.024587390944361687,-0.024660887196660042,0.03366660699248314,-0.003240985795855522,-0.04763948544859886,-0.013252649456262589,0.028398266062140465,0.06796413660049438,-0.03916143253445625,-0.01558304950594902,0.008593866601586342,-0.014623859897255898,-0.034413352608680725,-0.03612348809838295,0.011024346575140953,-0.029906585812568665,0.057967398315668106,0.0013612188631668687,-0.024695631116628647,0.023619163781404495,0.0464453287422657,0.03169975057244301,0.010395029559731483,0.018400993198156357,-0.05027967691421509,0.01612650603055954,0.0006953445845283568,-0.002124924212694168,0.03995642438530922,0.03214534372091293,0.06480135768651962,0.021868783980607986,-0.02368759550154209,-0.019953543320298195,-0.05328712612390518,-0.0399041622877121,0.04743827506899834,-0.00013883586507290602,-0.03315258398652077,-0.007797176484018564,-0.02418936975300312,0.00930818635970354,-0.045676253736019135,-0.002132850931957364,0.08056768029928207,0.005315900780260563,-0.020473860204219818,-0.04410937428474426,-0.02757313847541809,0.062110982835292816,-0.04500645026564598,-0.018740545958280563,-0.046844106167554855,-0.006748552434146404,0.02447391115128994,0.012500564567744732,-0.022556792944669724,0.02795165777206421,-0.026518775150179863,-0.04006773233413696,0.032673679292201996,0.06686455011367798,0.04734477773308754,0.0046609691344201565,-0.0485706590116024,-0.0028178202919662,-0.009100106544792652,-0.015735341235995293,0.07976473867893219,-0.0894121304154396,-0.006250194273889065,-0.023358289152383804,0.026328904554247856,0.07041844725608826,0.08881697803735733,-0.014453688636422157,0.06057858094573021,0.02802092209458351,-0.001063701813109219,-0.005908321589231491,-0.0037558579351752996,-0.03562311828136444,-0.006598945241421461,0.026846181601285934,-0.0019101176876574755,-0.030848171561956406,-0.04478898644447327,0.03617269918322563,0.02679775469005108,-0.00875347014516592,0.017733633518218994,0.07145339995622635,-0.03876321762800217,0.04335781931877136,-0.02047671191394329,0.022582314908504486,-0.04840150102972984,-0.006589857395738363,0.018556324765086174,-0.04130803793668747,-0.0009487094939686358,-0.008915555663406849,0.09471239149570465,-0.024936724454164505,-0.03236759826540947,0.02927263081073761,0.03375978767871857,-0.07712191343307495,-0.03448867425322533,0.036072440445423126,-0.017927782610058784,0.028636297211050987,-0.014252997934818268,-0.0758969783782959,0.0199047289788723,0.07112804055213928,-0.042481712996959686,0.043704718351364136,0.06463045626878738,0.01334759034216404,-0.04100833460688591,-0.027046361938118935,0.07798753678798676,-0.0013797536958009005,-0.014080885797739029,-0.02775670774281025,0.002408372238278389,0.0033820071257650852,-0.06018121540546417,0.001941241673193872,0.06024640426039696,0.013170311227440834,-0.02517423778772354,-0.0036780033260583878,-0.025591058656573296,0.08696974813938141,-0.037997253239154816,0.05641646683216095,-0.01916777901351452,-0.04270827770233154,-0.013084277510643005,-0.009965113364160061,0.029615072533488274,-0.01393530797213316,0.034014344215393066,-0.041037846356630325,-0.02337714284658432,0.00041989327291958034,0.023959266021847725,0.023418374359607697,-0.04813757166266441,0.018761176615953445,-0.005511010996997356,0.044649649411439896,0.006324688903987408,-0.0017430807929486036,0.026906657963991165,-0.02665623463690281,0.05074593424797058,-0.051543574780225754,-0.07144756615161896,0.005535560194402933,0.012252051383256912,-0.045945726335048676,-0.015591696836054325,0.01526606548577547,-0.031797125935554504,0.011615162715315819,-0.035462722182273865,-0.008501756936311722,0.039388563483953476,0.02541532926261425,0.01827760972082615,-0.04464574158191681,-0.06596393138170242,0.0007656110683456063,0.011605645529925823,0.022680915892124176,-0.0005570276407524943,-0.07215098291635513,-0.014666013419628143,0.07877495884895325,0.02632596343755722,-0.031809158623218536,0.018935099244117737,0.015109578147530556,0.020510373637080193,-0.04760955274105072,-0.03117048181593418,0.028857454657554626,-0.05830145999789238,0.038572851568460464,0.07244594395160675,-0.013184474781155586,-0.01176442764699459,0.032218530774116516,-0.03895068168640137,-0.026253242045640945,0.003763758111745119,-0.03865537792444229,-0.00711724953725934,0.03686051070690155,-0.009598669596016407,-0.01798296719789505,0.037091124802827835,0.06617533415555954,-0.06931047141551971,-0.014968087896704674,0.01970048062503338,-0.00739094614982605,0.001715817954391241,-0.041959911584854126,-0.007416137028485537,-0.011973903514444828,0.039948225021362305,0.016578761860728264,0.02661570906639099,-0.0032760007306933403,0.008564730174839497,0.005822865292429924,-0.03955348581075668,-0.02111421525478363,0.014439648948609829,-0.05051164701581001,0.034295082092285156,-0.007095629815012217,0.022122027352452278,-0.02166208066046238,0.02912944369018078,0.05124109983444214,0.019135313108563423,0.02230987884104252,0.026950357481837273,0.00924539752304554,0.0026053537148982286,-0.0036137658171355724,-0.04733870550990105,0.01664707250893116,-0.011433032341301441,0.0429939404129982,0.002917763777077198,0.033629730343818665,-0.07152388244867325,0.012042338959872723,-0.045442525297403336,-0.0037481472827494144,0.04201780632138252,-0.0017907519359141588,0.03501442074775696,0.01832038350403309,0.0023403570521622896,-0.048047807067632675,-0.026557881385087967,-0.014832128770649433,-0.021521611139178276,0.043428897857666016,0.001830743858590722,0.008858602494001389,-0.06719355285167694,-0.017147216945886612,0.025796661153435707,-0.0266715157777071,-0.039292242377996445,-0.045182131230831146,-0.026475442573428154,0.026865139603614807,-7.429446823459364e-33,-0.05836224928498268,-0.03007788024842739,-0.03886054456233978,-0.07352425903081894,-0.0708957314491272,-0.013277985155582428,0.01666787825524807,-0.019691238179802895,0.01993311382830143,-0.050740715116262436,-0.030126426368951797,-0.04729480668902397,0.011118661612272263,0.02354796975851059,-0.04266482964158058,0.0023392022121697664,-0.00981864333152771,0.027083566412329674,-0.052552394568920135,0.02692202851176262,-0.02078809216618538,0.05670953914523125,0.00216518621891737,-0.038604333996772766,-0.006663000676780939,0.03852641209959984,-0.06497509032487869,0.01745137758553028,0.0001726918708300218,-0.021502498537302017,-0.026254525408148766,-0.0037195244804024696,-0.02968737855553627,-0.03924092277884483,-0.04347066208720207,-0.027957316488027573,0.007182633969932795,-0.050726015120744705,0.04977948218584061,-0.018534446135163307,0.05572626739740372,0.07000796496868134,0.022532768547534943,0.024108313024044037,0.050986699759960175,0.010066315531730652,-0.010016136802732944,-0.024095991626381874,-0.016555342823266983,-0.03976820036768913,0.03723449259996414,0.016999604180455208,-0.035486191511154175,0.016566889360547066,-0.019625911489129066,0.07694577425718307,0.02175084501504898,0.020368538796901703,-0.025853779166936874,0.004838082008063793,0.025694500654935837,-0.021425599232316017,0.01281781680881977,0.02186688967049122,0.0625544935464859,0.03634919971227646,0.04442615434527397,0.062262870371341705,-0.09715864807367325,-0.029430435970425606,0.04535960778594017,-0.03544289991259575,-0.021874964237213135,0.02209073305130005,-0.01130846980959177,-0.021801618859171867,0.017800472676753998,0.0020289248786866665,0.00827045924961567,0.001312358072027564,0.0129572544246912,0.009503066539764404,-0.04649718478322029,-0.005081518087536097,-0.002254871651530266,-0.04319252818822861,0.04398580268025398,-0.027395525947213173,0.03650673106312752,0.020358555018901825,-0.024776196107268333,0.08653192967176437,-0.05056930333375931,0.002159235067665577,-0.03849928453564644,-0.03993896767497063,0.03627051040530205,0.05472029373049736,-0.03858862444758415,-0.07523322105407715,0.04999298229813576,-0.008367342874407768,-0.08864478766918182,0.03224467486143112,-0.01639675535261631,0.014024405740201473,-0.00307368952780962,0.0053987400606274605,-0.04474318400025368,-0.01182958111166954,0.026857757940888405,-0.006732926703989506,-0.06311248987913132,0.03251035884022713,0.007623703684657812,-0.02048552595078945,-0.014839648269116879,-0.06197584047913551,0.03115427866578102,0.052814606577157974,0.02767830342054367,-0.017697371542453766,-0.039696402847766876,0.03867337480187416,0.016616340726614,-0.04907333105802536,-0.07692119479179382,-0.027043301612138748,0.021924011409282684,-0.027536986395716667,0.03381342068314552,-0.051367778331041336,3.310593399419304e-7,0.0012018494307994843,0.04637288674712181,-0.05754346400499344,-0.044888172298669815,-0.005253867246210575,-0.007155461236834526,-0.023541847243905067,-0.02438569813966751,0.0177632924169302,-0.020280398428440094,0.021765651181340218,0.021009378135204315,0.04973524808883667,0.06699644029140472,-0.04226965829730034,0.015373664908111095,-0.03519077226519585,-0.00920859444886446,-0.01870579831302166,0.04993128404021263,-0.051959965378046036,-0.028044704347848892,0.11581651866436005,-0.007011744659394026,0.03067423589527607,0.017663752660155296,-0.012096676044166088,-0.07249739021062851,-0.025902118533849716,-0.016406334936618805,0.07428403198719025,0.032699596136808395,0.0033980109728872776,-0.028806470334529877,0.0019767596386373043,0.03155074268579483,-0.021200846880674362,0.027101533487439156,0.046939752995967865,0.10002867132425308,0.017209457233548164,-0.03337639570236206,-0.025750773027539253,-0.060889776796102524,-0.03255297988653183,-0.009715248830616474,-0.010213377885520458,0.019659046083688736,0.030710741877555847,0.04144684597849846,0.002732877153903246,-0.010842450894415379,-0.058354202657938004,-0.04618574678897858,-0.0022926193196326494,-0.012060471810400486,-0.02106289565563202,0.06308543682098389,0.024177350103855133,0.02698780596256256,-0.014543978497385979,0.03109571523964405,-0.005739409942179918,0.051022063940763474,0.008273818530142307,-0.014415040612220764,-0.02718183770775795,3.8348388683278092e-34,0.03668677806854248,-0.04108025133609772,0.04948471114039421,-0.06685833632946014,0.03708512708544731,-0.0017641340382397175,0.028458120301365852,-0.04128113389015198,0.009548690170049667,-0.027383726090192795,-0.03012237511575222]'
SET
  @HasCustomProps_c8c26cca = 0
SET
  @HasCustomEvents_c8c26cca = 1
SET
  @RequiresData_c8c26cca = 1
SET
  @DependencyCount_c8c26cca = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_c8c26cca = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_c8c26cca = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_c8c26cca = 0
SET
  @ID_c8c26cca = 'AB3DF794-99C3-4A3E-8C84-EF3E5175A568'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_c8c26cca,
  @Name = @Name_c8c26cca,
  @Version = @Version_c8c26cca,
  @VersionSequence = @VersionSequence_c8c26cca,
  @Title = @Title_c8c26cca,
  @Description = @Description_c8c26cca,
  @Type = @Type_c8c26cca,
  @Status = @Status_c8c26cca,
  @DeveloperName = @DeveloperName_c8c26cca,
  @DeveloperEmail = @DeveloperEmail_c8c26cca,
  @DeveloperOrganization = @DeveloperOrganization_c8c26cca,
  @SourceRegistryID = @SourceRegistryID_c8c26cca,
  @ReplicatedAt = @ReplicatedAt_c8c26cca,
  @LastSyncedAt = @LastSyncedAt_c8c26cca,
  @Specification = @Specification_c8c26cca,
  @FunctionalRequirements = @FunctionalRequirements_c8c26cca,
  @TechnicalDesign = @TechnicalDesign_c8c26cca,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_c8c26cca,
  @TechnicalDesignVector = @TechnicalDesignVector_c8c26cca,
  @HasCustomProps = @HasCustomProps_c8c26cca,
  @HasCustomEvents = @HasCustomEvents_c8c26cca,
  @RequiresData = @RequiresData_c8c26cca,
  @DependencyCount = @DependencyCount_c8c26cca,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_c8c26cca,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_c8c26cca,
  @HasRequiredCustomProps = @HasRequiredCustomProps_c8c26cca,
  @ID = @ID_c8c26cca;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_38e2cba2 NVARCHAR(MAX),
@Name_38e2cba2 NVARCHAR(500),
@Version_38e2cba2 NVARCHAR(50),
@VersionSequence_38e2cba2 INT,
@Title_38e2cba2 NVARCHAR(1000),
@Description_38e2cba2 NVARCHAR(MAX),
@Type_38e2cba2 NVARCHAR(255),
@Status_38e2cba2 NVARCHAR(50),
@DeveloperName_38e2cba2 NVARCHAR(255),
@DeveloperEmail_38e2cba2 NVARCHAR(255),
@DeveloperOrganization_38e2cba2 NVARCHAR(255),
@SourceRegistryID_38e2cba2 UNIQUEIDENTIFIER,
@ReplicatedAt_38e2cba2 DATETIMEOFFSET,
@LastSyncedAt_38e2cba2 DATETIMEOFFSET,
@Specification_38e2cba2 NVARCHAR(MAX),
@FunctionalRequirements_38e2cba2 NVARCHAR(MAX),
@TechnicalDesign_38e2cba2 NVARCHAR(MAX),
@FunctionalRequirementsVector_38e2cba2 NVARCHAR(MAX),
@TechnicalDesignVector_38e2cba2 NVARCHAR(MAX),
@HasCustomProps_38e2cba2 BIT,
@HasCustomEvents_38e2cba2 BIT,
@RequiresData_38e2cba2 BIT,
@DependencyCount_38e2cba2 INT,
@TechnicalDesignVectorEmbeddingModelID_38e2cba2 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_38e2cba2 NVARCHAR(MAX),
@HasRequiredCustomProps_38e2cba2 BIT,
@ID_38e2cba2 UNIQUEIDENTIFIER
SET
  @Namespace_38e2cba2 = N'CRM/Dashboards'
SET
  @Name_38e2cba2 = N'SalesPipelineDashboard'
SET
  @Version_38e2cba2 = N'1.0.0'
SET
  @VersionSequence_38e2cba2 = 1
SET
  @Title_38e2cba2 = N'Sales Pipeline Dashboard'
SET
  @Description_38e2cba2 = N'Comprehensive sales pipeline dashboard with metrics, visualizations, and drill-down capabilities'
SET
  @Type_38e2cba2 = N'Dashboard'
SET
  @Status_38e2cba2 = N'Published'
SET
  @Specification_38e2cba2 = N'{"name":"SalesPipelineDashboard","description":"Comprehensive sales pipeline dashboard with metrics, visualizations, and drill-down capabilities","category":"Dashboard","type":"dashboard","location":"embedded","code":"function SalesPipelineDashboard({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Extract child components from registry\n  const {\n    AIInsightsPanel,\n    PipelineMetricsCards,\n    PipelineKanban,\n    DrillDownPanel\n  } = components;\n\n  if (!AIInsightsPanel) {\n    console.warn(''AIInsightsPanel component not available'');\n  }\n\n  const [deals, setDeals] = useState([]);\n  const [activities, setActivities] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isPanelOpen, setIsPanelOpen] = useState(false);\n  const [timeFilter, setTimeFilter] = useState(savedUserSettings?.timeFilter || ''quarter'');\n  const [startDate, setStartDate] = useState(savedUserSettings?.startDate || null);\n  const [endDate, setEndDate] = useState(savedUserSettings?.endDate || null);\n  const [drillDownData, setDrillDownData] = useState(null);\n  const [aiInsights, setAiInsights] = useState(null);\n  const [loadingInsights, setLoadingInsights] = useState(false);\n  const [insightsError, setInsightsError] = useState(null);\n  const chartRef = useRef(null);\n  const saveSettingsTimeoutRef = useRef(null);\n\n  // Debounced save settings function\n  const debouncedSaveSettings = useCallback((newSettings) => {\n    if (saveSettingsTimeoutRef.current) {\n      clearTimeout(saveSettingsTimeoutRef.current);\n    }\n    saveSettingsTimeoutRef.current = setTimeout(() => {\n      if (onSaveUserSettings) {\n        onSaveUserSettings(newSettings);\n      }\n    }, 1000); // Save after 1 second of no changes\n  }, [onSaveUserSettings]);\n\n  const stages = [''Lead'', ''Qualified'', ''Proposal'', ''Negotiation'', ''Closed Won'', ''Closed Lost''];\n  const stageColors = {\n    ''Lead'': ''#3B82F6'',\n    ''Qualified'': ''#6366F1'',\n    ''Proposal'': ''#8B5CF6'',\n    ''Negotiation'': ''#A855F7'',\n    ''Closed Won'': ''#10B981'',\n    ''Closed Lost'': ''#EF4444''\n  };\n\n  useEffect(() => {\n    loadData();\n  }, [timeFilter, startDate, endDate]);\n\n  const getDateFilter = () => {\n    if (startDate && endDate) {\n      return `CloseDate >= ''$' + '{startDate}'' AND CloseDate <= ''$' + '{endDate}''`;\n    }\n    \n    const now = dayjs();\n    let filterStart;\n    \n    switch (timeFilter) {\n      case ''month'':\n        filterStart = now.subtract(1, ''month'');\n        break;\n      case ''quarter'':\n        filterStart = now.subtract(3, ''month'');\n        break;\n      case ''year'':\n        filterStart = now.subtract(1, ''year'');\n        break;\n      case ''all'':\n        return '''';\n      default:\n        return '''';\n    }\n    \n    return `CloseDate >= ''$' + '{filterStart.format(''YYYY-MM-DD'')}''`;\n  };\n\n  const handleDateRangeChange = (start, end) => {\n    setStartDate(start);\n    setEndDate(end);\n    setTimeFilter(''custom'');\n    debouncedSaveSettings({ \n      ...savedUserSettings, \n      startDate: start, \n      endDate: end,\n      timeFilter: ''custom''\n    });\n  };\n  \n  const handlePresetChange = (preset) => {\n    setTimeFilter(preset);\n    setStartDate(null);\n    setEndDate(null);\n    debouncedSaveSettings({ \n      ...savedUserSettings, \n      timeFilter: preset,\n      startDate: null,\n      endDate: null\n    });\n  };\n\n  const loadData = async () => {\n    setLoading(true);\n    setError(null);\n    \n    const dateFilter = getDateFilter();\n    \n    try {\n      const [dealsResult, activitiesResult] = await Promise.all([\n        utilities.rv.RunView({\n          EntityName: ''Deals'',\n          ExtraFilter: dateFilter,\n          OrderBy: ''CloseDate DESC''\n        }),\n        utilities.rv.RunView({\n          EntityName: ''Activities'',\n          ExtraFilter: `__mj_CreatedAt >= ''$' + '{dayjs().subtract(30, ''day'').format(''YYYY-MM-DD'')}''`,\n          OrderBy: ''__mj_CreatedAt DESC'',\n          MaxRows: 100\n        })\n      ]);\n\n      if (dealsResult.Success) {\n        setDeals(dealsResult.Results || []);\n      }\n      if (activitiesResult.Success) {\n        setActivities(activitiesResult.Results || []);\n      }\n      \n      if (!dealsResult.Success && !activitiesResult.Success) {\n        setError(''Failed to load dashboard data'');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const calculateMetrics = () => {\n    const totalValue = deals.reduce((sum, d) => sum + (d.Amount || 0), 0);\n    const wonDeals = deals.filter(d => d.Stage === ''Closed Won'');\n    const lostDeals = deals.filter(d => d.Stage === ''Closed Lost'');\n    const activeDeals = deals.filter(d => ![''Closed Won'', ''Closed Lost''].includes(d.Stage));\n    \n    const avgDealSize = deals.length > 0 ? totalValue / deals.length : 0;\n    const winRate = deals.length > 0 ? (wonDeals.length / (wonDeals.length + lostDeals.length) * 100) : 0;\n    const avgCycleTime = activeDeals.length > 0 ?\n      activeDeals.reduce((sum, d) => {\n        const created = new Date(d.CreatedAt || d.__mj_CreatedAt);\n        const now = new Date();\n        return sum + Math.floor((now - created) / (1000 * 60 * 60 * 24));\n      }, 0) / activeDeals.length : 0;\n    \n    return {\n      totalValue,\n      avgDealSize,\n      winRate,\n      avgCycleTime,\n      activeCount: activeDeals.length,\n      wonCount: wonDeals.length,\n      lostCount: lostDeals.length\n    };\n  };\n\n  const generateAIInsights = async () => {\n    console.log(''🎯 generateAIInsights called'');\n    console.log(''📦 utilities object:'', utilities);\n    console.log(''🤖 utilities.ai:'', utilities?.ai);\n    console.log(''🔧 utilities.ai.ExecutePrompt type:'', typeof utilities?.ai?.ExecutePrompt);\n    \n    if (!deals || deals.length === 0) {\n      setInsightsError(''No data available for analysis'');\n      return;\n    }\n    \n    if (!utilities?.ai?.ExecutePrompt) {\n      console.error(''❌ utilities.ai.ExecutePrompt is not available'');\n      setInsightsError(''AI service not available'');\n      return;\n    }\n\n    setLoadingInsights(true);\n    setInsightsError(null);\n    \n    try {\n      const metrics = calculateMetrics();\n      const activeDeals = deals.filter(d => ![''Closed Won'', ''Closed Lost''].includes(d.Stage));\n      \n      // Calculate stage distribution and conversion rates\n      const stageDistribution = {};\n      stages.forEach(stage => {\n        stageDistribution[stage] = deals.filter(d => d.Stage === stage).length;\n      });\n      \n      // Calculate conversion rates between stages\n      const conversionRates = {};\n      for (let i = 0; i < stages.length - 2; i++) { // Exclude closed stages\n        const currentStage = stages[i];\n        const nextStage = stages[i + 1];\n        const currentCount = stageDistribution[currentStage] || 0;\n        const nextCount = stageDistribution[nextStage] || 0;\n        const totalDownstream = stages.slice(i + 1).reduce((sum, s) => sum + (stageDistribution[s] || 0), 0);\n        \n        if (currentCount > 0) {\n          conversionRates[`$' + '{currentStage} → $' + '{nextStage}`] = \n            ((totalDownstream / (currentCount + totalDownstream)) * 100).toFixed(1);\n        }\n      }\n      \n      // Calculate velocity metrics\n      const dealsByAge = activeDeals.map(d => {\n        const created = new Date(d.CreatedAt || d.__mj_CreatedAt);\n        const now = new Date();\n        const daysOld = Math.floor((now - created) / (1000 * 60 * 60 * 24));\n        return { stage: d.Stage, daysOld, amount: d.Amount || 0 };\n      });\n      \n      const stuckDeals = dealsByAge.filter(d => d.daysOld > metrics.avgCycleTime * 1.5);\n      \n      // Prepare data snapshot for AI\n      const dataSnapshot = {\n        summary: {\n          totalDeals: deals.length,\n          totalPipelineValue: metrics.totalValue,\n          averageDealSize: metrics.avgDealSize,\n          winRate: metrics.winRate.toFixed(1),\n          averageCycleTime: Math.round(metrics.avgCycleTime),\n          activeDeals: metrics.activeCount,\n          wonDeals: metrics.wonCount,\n          lostDeals: metrics.lostCount\n        },\n        stageDistribution,\n        conversionRates,\n        bottlenecks: {\n          stuckDealsCount: stuckDeals.length,\n          stuckDealsValue: stuckDeals.reduce((sum, d) => sum + d.amount, 0),\n          averageStuckDays: stuckDeals.length > 0 ? \n            Math.round(stuckDeals.reduce((sum, d) => sum + d.daysOld, 0) / stuckDeals.length) : 0\n        },\n        recentTrends: {\n          dealsClosedThisMonth: deals.filter(d => {\n            const closeDate = new Date(d.CloseDate);\n            const now = new Date();\n            return closeDate.getMonth() === now.getMonth() && \n                   closeDate.getFullYear() === now.getFullYear();\n          }).length,\n          timeFrame: timeFilter\n        }\n      };\n      \n      // Call AI for insights with formatted data\n      const prompt = `Analyze this sales pipeline data and provide actionable insights:\n\n## Pipeline Summary\n- **Total Deals:** $' + '{dataSnapshot.summary.totalDeals}\n- **Pipeline Value:** $$' + '{dataSnapshot.summary.totalPipelineValue?.toLocaleString() || ''0''}\n- **Average Deal Size:** $$' + '{dataSnapshot.summary.averageDealSize?.toLocaleString() || ''0''}\n- **Win Rate:** $' + '{dataSnapshot.summary.winRate}%\n- **Average Cycle Time:** $' + '{dataSnapshot.summary.averageCycleTime} days\n- **Active Deals:** $' + '{dataSnapshot.summary.activeDeals}\n- **Won Deals:** $' + '{dataSnapshot.summary.wonDeals}\n- **Lost Deals:** $' + '{dataSnapshot.summary.lostDeals}\n\n## Stage Distribution\n$' + '{Object.entries(stageDistribution).map(([stage, count]) => `- **$' + '{stage}:** $' + '{count} deals`).join(''\\n'')}\n\n## Conversion Rates\n$' + '{Object.entries(conversionRates).map(([transition, rate]) => `- $' + '{transition}: $' + '{rate}%`).join(''\\n'')}\n\n## Bottlenecks\n- **Stuck Deals:** $' + '{dataSnapshot.bottlenecks.stuckDealsCount} deals\n- **Value at Risk:** $$' + '{dataSnapshot.bottlenecks.stuckDealsValue?.toLocaleString() || ''0''}\n- **Average Days Stuck:** $' + '{dataSnapshot.bottlenecks.averageStuckDays} days\n\n## Recent Activity\n- **Deals Closed This Month:** $' + '{dataSnapshot.recentTrends.dealsClosedThisMonth}\n- **Time Frame Analyzed:** $' + '{dataSnapshot.recentTrends.timeFrame}\n\nBased on this specific data, please provide:\n1. **Key Performance Highlights** - What''s working well based on these numbers?\n2. **Pipeline Health Assessment** - Is this pipeline balanced and healthy?\n3. **Bottleneck Analysis** - Where specifically are the $' + '{dataSnapshot.bottlenecks.stuckDealsCount} stuck deals concentrated?\n4. **Conversion Rate Analysis** - Which specific transitions need improvement?\n5. **3 Specific Recommendations** - Based on the data, what actions would improve velocity and win rate?\n6. **Risk Indicators** - What specific risks do you see in these numbers?\n\nUse markdown formatting with headers (##), bullet points, and **bold** text. Reference the actual numbers in your analysis.`;\n\n      console.log(''🔍 Calling utilities.ai.ExecutePrompt with:'', {\n        systemPrompt: ''You are a sales analytics expert...'',\n        messageLength: prompt.length,\n        modelPower: ''medium'',\n        fullPrompt: prompt.substring(0, 500) + ''...'' // Show first 500 chars\n      });\n      \n      // Use the correct parameter structure with systemPrompt and better models\n      const aiParams = {\n        systemPrompt: ''You are a sales analytics expert. Analyze sales pipeline data and provide clear, actionable business insights formatted with sections and bullet points. Focus on strategic recommendations, not technical implementation.'',\n        messages: prompt,  // Just pass the prompt as messages\n        preferredModels: [''GPT-OSS-120B'', ''Qwen3 32B''],  // Use more capable models\n        modelPower: ''high''  // Use higher power for better reasoning\n      };\n      \n      console.log(''📝 AI params with systemPrompt:'', {\n        hasSystemPrompt: !!aiParams.systemPrompt,\n        messagesLength: aiParams.messages?.length,\n        modelPower: aiParams.modelPower\n      });\n      \n      const result = await utilities.ai.ExecutePrompt(aiParams);\n      \n      console.log(''📊 ExecutePrompt result:'', {\n        fullResult: result,\n        hasSuccess: ''Success'' in result,\n        successValue: result?.Success,\n        hasResponse: ''Response'' in result,\n        responseType: typeof result?.Response,\n        responseLength: result?.Response?.length,\n        errorMessage: result?.ErrorMessage,\n        allKeys: Object.keys(result || {}),\n        // Check for alternative property names\n        hasSuccess2: ''success'' in result,\n        success: result?.success,\n        hasResult: ''result'' in result,\n        result: result?.result,\n        hasResponse2: ''response'' in result,\n        response: result?.response,\n        hasError: ''error'' in result,\n        error: result?.error,\n        hasMessage: ''message'' in result,\n        message: result?.message\n      });\n      \n      if (result.success && result.result) {\n        console.log(''✅ Setting AI insights to:'', result.result);\n        setAiInsights(result.result);\n      } else {\n        const error = result.error || result.message || ''Failed to generate insights'';\n        console.log(''❌ Setting error:'', error, ''Full result:'', result);\n        setInsightsError(error);\n      }\n    } catch (err) {\n      console.error(''🚨 Error in generateAIInsights:'', {\n        error: err,\n        message: err.message,\n        stack: err.stack,\n        type: err.constructor.name\n      });\n      setInsightsError(`Error generating insights: $' + '{err.message}`);\n    } finally {\n      setLoadingInsights(false);\n    }\n  };\n\n\n  const handleDrillDown = (title, dealList, type, metadata) => {\n    setDrillDownData({ title, deals: dealList, type, metadata });\n    setIsPanelOpen(true);\n  };\n\n  useEffect(() => {\n    if (!loading && deals.length > 0) {\n      renderPipelineChart();\n    }\n\n    // Cleanup function to destroy chart on unmount\n    return () => {\n      if (chartRef.current?._chart) {\n        chartRef.current._chart.destroy();\n      }\n    };\n  }, [deals, loading]);\n\n  const renderPipelineChart = () => {\n    if (!chartRef.current) return;\n    \n    const stageData = stages.map(stage => ({\n      name: stage,\n      count: deals.filter(d => d.Stage === stage).length,\n      value: deals.filter(d => d.Stage === stage).reduce((sum, d) => sum + (d.Amount || 0), 0)\n    }));\n\n    const options = {\n      series: [{\n        name: ''Deal Count'',\n        data: stageData.map(s => s.count)\n      }, {\n        name: ''Total Value'',\n        data: stageData.map(s => s.value / 1000) // In thousands\n      }],\n      chart: {\n        type: ''bar'',\n        height: 300,\n        toolbar: { show: false }\n      },\n      plotOptions: {\n        bar: {\n          horizontal: false,\n          columnWidth: ''55%''\n        }\n      },\n      colors: [''#3B82F6'', ''#10B981''],\n      xaxis: {\n        categories: stages\n      },\n      yaxis: [{\n        title: { text: ''Number of Deals'' }\n      }, {\n        opposite: true,\n        title: { text: ''Value ($K)'' }\n      }],\n      tooltip: {\n        y: [{\n          formatter: (val) => `$' + '{val} deals`\n        }, {\n          formatter: (val) => `$$' + '{val.toFixed(0)}K`\n        }]\n      },\n      legend: {\n        position: ''top''\n      }\n    };\n\n    if (chartRef.current._chart) {\n      chartRef.current._chart.destroy();\n    }\n    chartRef.current._chart = new ApexCharts(chartRef.current, options);\n    chartRef.current._chart.render();\n  };\n\n  const metrics = calculateMetrics();\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading pipeline dashboard...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: ''20px'', backgroundColor: ''#FEE2E2'', borderRadius: ''8px'', margin: ''20px'' }}>\n        <div style={{ color: ''#991B1B'', fontWeight: ''bold'' }}>Error loading data</div>\n        <div style={{ color: ''#DC2626'', marginTop: ''8px'' }}>{error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: ''20px'', backgroundColor: ''#F3F4F6'', minHeight: ''100%'' }}>\n      <style>{`\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n        \n        /* Markdown content styling */\n        .markdown-insights h1 { font-size: 20px; font-weight: 600; color: #111827; margin: 16px 0 12px 0; }\n        .markdown-insights h2 { font-size: 18px; font-weight: 600; color: #1F2937; margin: 14px 0 10px 0; }\n        .markdown-insights h3 { font-size: 16px; font-weight: 600; color: #374151; margin: 12px 0 8px 0; }\n        .markdown-insights h4 { font-size: 14px; font-weight: 600; color: #4B5563; margin: 10px 0 6px 0; }\n        .markdown-insights p { margin: 8px 0; color: #374151; line-height: 1.6; }\n        .markdown-insights ul, .markdown-insights ol { margin: 8px 0; padding-left: 24px; color: #374151; }\n        .markdown-insights li { margin: 4px 0; line-height: 1.5; }\n        .markdown-insights strong { font-weight: 600; color: #1F2937; }\n        .markdown-insights em { font-style: italic; }\n        .markdown-insights code { background: #F3F4F6; padding: 2px 4px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }\n        .markdown-insights blockquote { border-left: 3px solid #6366F1; padding-left: 12px; margin: 12px 0; color: #4B5563; }\n        .markdown-insights hr { border: none; border-top: 1px solid #E5E7EB; margin: 16px 0; }\n        .markdown-insights a { color: #6366F1; text-decoration: none; }\n        .markdown-insights a:hover { text-decoration: underline; }\n      `}</style>\n      <div style={{ marginBottom: ''20px'' }}>\n        <h2 style={{ margin: ''0 0 20px 0'', fontSize: ''24px'', fontWeight: ''bold'' }}>\n          Sales Pipeline Dashboard\n        </h2>\n        \n        <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'', flexWrap: ''wrap'', marginBottom: ''20px'' }}>\n          <select\n            value={timeFilter}\n            onChange={(e) => handlePresetChange(e.target.value)}\n            style={{\n              padding: ''6px 12px'',\n              border: ''1px solid #D1D5DB'',\n              borderRadius: ''6px''\n            }}\n          >\n            <option value=\"month\">Last Month</option>\n            <option value=\"quarter\">Last Quarter</option>\n            <option value=\"year\">Last Year</option>\n            <option value=\"all\">All Time</option>\n            <option value=\"custom\">Custom Range</option>\n          </select>\n          \n          {timeFilter === ''custom'' && (\n            <>\n              <input\n                type=\"date\"\n                value={startDate || ''''}\n                onChange={(e) => handleDateRangeChange(e.target.value, endDate)}\n                style={{\n                  padding: ''6px 12px'',\n                  border: ''1px solid #D1D5DB'',\n                  borderRadius: ''6px''\n                }}\n              />\n              <span>to</span>\n              <input\n                type=\"date\"\n                value={endDate || ''''}\n                onChange={(e) => handleDateRangeChange(startDate, e.target.value)}\n                style={{\n                  padding: ''6px 12px'',\n                  border: ''1px solid #D1D5DB'',\n                  borderRadius: ''6px''\n                }}\n              />\n            </>\n          )}\n          \n          <div style={{ marginLeft: ''auto'' }}>\n            <button\n              onClick={generateAIInsights}\n              disabled={loadingInsights || !deals.length}\n              style={{\n                padding: ''8px 16px'',\n                backgroundColor: ''#6366F1'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                fontSize: ''14px'',\n                fontWeight: ''500'',\n                cursor: loadingInsights || !deals.length ? ''not-allowed'' : ''pointer'',\n                opacity: loadingInsights || !deals.length ? 0.5 : 1,\n                display: ''flex'',\n                alignItems: ''center'',\n                gap: ''8px''\n              }}\n            >\n              {loadingInsights ? (\n                <>\n                  <span style={{ display: ''inline-block'', animation: ''spin 1s linear infinite'' }}>⟳</span>\n                  Analyzing...\n                </>\n              ) : (\n                <>\n                  <span>✨</span>\n                  Get AI Insights\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n        \n        {/* AI Insights Panel */}\n        <AIInsightsPanel\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n          savedUserSettings={savedUserSettings?.aiInsights}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            aiInsights: settings\n          })}\n          insights={aiInsights}\n          loading={loadingInsights}\n          error={insightsError}\n          onGenerate={generateAIInsights}\n          title=\"Sales Pipeline Insights\"\n          icon=\"fa-wand-magic-sparkles\"\n          iconColor={styles?.colors?.primary || ''#8B5CF6''}\n          position=\"top\"\n          onClose={() => {\n            setAiInsights(null);\n            setInsightsError(null);\n          }}\n        />\n        \n        <PipelineMetricsCards\n          metrics={metrics}\n          deals={deals}\n          onCardClick={handleDrillDown}\n          styles={styles}\n          utilities={utilities}\n          components={components}\n        />\n\n        <PipelineKanban\n          deals={deals}\n          stages={stages}\n          stageColors={stageColors}\n          onStageClick={handleDrillDown}\n          styles={styles}\n          utilities={utilities}\n          components={components}\n        />\n        \n        <div style={{ backgroundColor: ''white'', borderRadius: ''8px'', padding: ''16px'', marginBottom: ''20px'', border: ''1px solid #E5E7EB'' }}>\n          <h3 style={{ margin: ''0 0 16px 0'', fontSize: ''18px'' }}>Pipeline Overview</h3>\n          <div ref={chartRef} />\n        </div>\n        \n        <DrillDownPanel\n          isOpen={isPanelOpen}\n          drillDownData={drillDownData}\n          stageColors={stageColors}\n          onClose={() => {\n            setIsPanelOpen(false);\n            setDrillDownData(null);\n          }}\n          onOpenDeal={(entityName, primaryKey) => callbacks?.OpenEntityRecord && callbacks.OpenEntityRecord(entityName, primaryKey)}\n          styles={styles}\n          utilities={utilities}\n          components={components}\n        />\n      </div>\n    </div>\n  );\n}","properties":[{"name":"utilities","type":"object","description":"MemberJunction utilities for data access"},{"name":"styles","type":"object","description":"Style utilities and theme configuration"},{"name":"components","type":"object","description":"Registry of available child components"},{"name":"callbacks","type":"object","description":"Event callbacks including OpenEntityRecord"},{"name":"savedUserSettings","type":"object","description":"Persisted user preferences"},{"name":"onSaveUserSettings","type":"function","description":"Callback to persist user settings"}],"dependencies":[{"name":"PipelineMetricsCards","location":"registry","namespace":"CRM/Dashboard","version":"^1.0.0"},{"name":"PipelineKanban","location":"registry","namespace":"CRM/Dashboard","version":"^1.0.0"},{"name":"DrillDownPanel","location":"registry","namespace":"CRM/Dashboard","version":"^1.0.0"},{"name":"AIInsightsPanel","location":"registry","namespace":"Generic/UI/AI","version":"^1.0.0"}],"libraries":[{"name":"dayjs","version":"1.11.10","globalVariable":"dayjs"},{"name":"ApexCharts","version":"3.45.1","globalVariable":"ApexCharts"}],"dataRequirements":{"mode":"views","entities":[{"name":"Deals","displayFields":["ID","Dealname","Accountname","Stage","Amount","CloseDate","Probability","Owner","__mj_CreatedAt"],"filterFields":["CloseDate","Stage","Owner"],"sortFields":["CloseDate","Amount","Probability"],"permissions":["read"]},{"name":"Activities","displayFields":["ID","type","Subject","Owner","__mj_CreatedAt"],"filterFields":["__mj_CreatedAt","Owner"],"sortFields":["__mj_CreatedAt"],"permissions":["read"]}]},"usageExample":"```javascript\n<SalesPipelineDashboard\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>\n```","functionalRequirements":"- Display key pipeline metrics in cards\n- Show pipeline stages in kanban view\n- Provide date filtering with presets and custom ranges\n- Visualize pipeline data with interactive charts\n- Show team performance leaderboard\n- Display recent activity feed\n- Enable drill-down into any metric or stage\n- Support card and list views for deals\n- Allow opening deals in external application","technicalDesign":"Main dashboard component that orchestrates multiple sub-components. Manages global state for deals and activities data. Implements date filtering logic. Renders ApexCharts for visualizations. Uses composition pattern with sub-components for modularity."}'
SET
  @FunctionalRequirements_38e2cba2 = N'- Display key pipeline metrics in cards
- Show pipeline stages in kanban view
- Provide date filtering with presets and custom ranges
- Visualize pipeline data with interactive charts
- Show team performance leaderboard
- Display recent activity feed
- Enable drill-down into any metric or stage
- Support card and list views for deals
- Allow opening deals in external application'
SET
  @TechnicalDesign_38e2cba2 = N'Main dashboard component that orchestrates multiple sub-components. Manages global state for deals and activities data. Implements date filtering logic. Renders ApexCharts for visualizations. Uses composition pattern with sub-components for modularity.'
SET
  @FunctionalRequirementsVector_38e2cba2 = N'[-0.032129138708114624,0.008010481484234333,-0.040266089141368866,-0.06312985718250275,0.03089848905801773,0.011942034587264061,0.01858402043581009,0.023353958502411842,0.0010480181081220508,-0.010246476158499718,-0.016796721145510674,0.0544721819460392,-0.011007783003151417,0.19045495986938477,-0.00310520245693624,-0.08089358359575272,-0.027253955602645874,-0.02810143679380417,-0.007436774205416441,0.037834133952856064,-0.01516014151275158,-0.00577158248052001,-0.02314644865691662,0.0067934030666947365,-0.006097245961427689,-0.006162668578326702,-0.0018314141780138016,0.009055143222212791,-0.015437505207955837,-0.07411986589431763,-0.04852984473109245,-0.005636966321617365,-0.04222395643591881,-0.06481028348207474,0.0000019458339011180215,-0.01218017004430294,-0.016977235674858093,-0.014136348851025105,-0.018326161429286003,0.016887221485376358,0.021709276363253593,-0.07347746938467026,0.057302746921777725,-0.014872835949063301,0.01419086754322052,-0.05225297808647156,-0.0243268720805645,0.035872023552656174,0.032402392476797104,0.013412093743681908,-0.003735288279131055,0.007579608354717493,-0.05437611788511276,-0.010317782871425152,-0.0488167330622673,-0.009967075660824776,-0.0145784392952919,-0.049507025629282,0.056598544120788574,-0.008482526987791061,0.041088663041591644,-0.009867258369922638,0.013327093794941902,-0.033411379903554916,0.09580276906490326,0.048270903527736664,0.029273051768541336,-0.10110420733690262,0.030141569674015045,-0.045176807790994644,0.024405529722571373,-0.04233390465378761,-0.023348119109869003,-0.07078578323125839,0.007308750879019499,-0.04766455292701721,-0.01844342239201069,0.004323804751038551,0.027689559385180473,-0.022280855104327202,-0.008184820413589478,0.0032234792597591877,-0.035363584756851196,-0.015781667083501816,0.016091670840978622,0.007500599604099989,0.022931266576051712,0.006660247687250376,-0.04240194708108902,0.05262461304664612,0.0415966659784317,-0.023990029469132423,-0.0037220113445073366,-0.001644041039980948,-0.09585519880056381,-0.020471815019845963,0.03534931316971779,0.021041760221123695,-0.007515550125390291,0.02192145213484764,0.028533877804875374,0.03352689743041992,0.06224709004163742,0.044503260403871536,0.011931880377233028,0.020750591531395912,-0.005825016647577286,-0.028003249317407608,-0.01026103738695383,0.011077753268182278,-0.0027198749594390392,-0.003714088350534439,-0.01817779615521431,0.042013391852378845,-0.06985490024089813,-0.031286485493183136,-0.01656758040189743,0.057900045067071915,0.0307296309620142,0.01777384802699089,0.15500107407569885,-0.0023588307667523623,0.048709478229284286,0.023874521255493164,-0.0042206235229969025,-0.013115789741277695,-0.04708224534988403,-0.004920688457787037,-0.0022938500624150038,-0.020381217822432518,-0.014412840828299522,-0.0018127106595784426,-0.010393333621323109,-0.01766626164317131,-0.02000330202281475,-0.011041712947189808,0.04855357110500336,0.027664687484502792,-0.04867694526910782,-0.005120425019413233,0.044240210205316544,-0.0039241379126906395,-0.06004676967859268,0.04723261296749115,-0.019098026677966118,-0.003163850400596857,-0.03617361932992935,0.052460573613643646,-0.012407183647155762,-0.0019632282201200724,-0.0030805817805230618,-0.04273148626089096,0.012193647213280201,0.02172161266207695,-0.04247574135661125,0.015607310459017754,-0.016802135854959488,-0.019507844001054764,-0.024632098153233528,0.007728638593107462,-0.006607695948332548,-0.006800142582505941,0.01777017116546631,-0.02130364254117012,-0.04985245689749718,-0.0027945484034717083,0.016298668459057808,0.001993152080103755,-0.02634362503886223,-0.02549447864294052,-0.0002815760381054133,-0.02331295795738697,-0.0012360147666186094,0.05628370866179466,0.041397999972105026,-0.011044271290302277,0.11977033317089081,-0.05246858671307564,0.022151587530970573,0.0038832570426166058,0.07389073818922043,-0.09658201038837433,-0.008258375339210033,0.06109554320573807,0.08409712463617325,0.009876430034637451,-0.0835430920124054,0.05728882551193237,0.016575295478105545,0.014257160015404224,0.004149768501520157,0.04340042918920517,-0.11616593599319458,0.010251781903207302,0.015976304188370705,0.015100319869816303,-0.009058919735252857,-0.030182600021362305,0.0023348478134721518,-0.029377227649092674,-0.005351201631128788,0.014699139632284641,0.013289257884025574,0.0554378405213356,0.024919528514146805,-0.014190337620675564,-0.005521789193153381,-0.006812561769038439,-0.10110943764448166,-0.004137643147259951,0.10052570700645447,0.010518698021769524,-0.01444784365594387,0.04203808680176735,-0.015463076531887054,0.010335344821214676,0.04089733585715294,-0.00420746672898531,-0.043752048164606094,0.013531414791941643,-0.08096177130937576,0.03539668396115303,0.0005535446689464152,0.019846094772219658,0.08047804981470108,0.04596497118473053,0.03225339949131012,0.0038223741576075554,0.022474445402622223,0.06015319749712944,0.002115347422659397,0.001763463020324707,0.05284123495221138,-0.013652714900672436,0.023033924400806427,0.09495973587036133,0.020590299740433693,0.1308138519525528,0.0005891576875001192,0.08035186678171158,0.007743440102785826,-0.04088838770985603,-0.02235427126288414,-0.013907614164054394,0.03504551947116852,0.020476840436458588,-0.01875373162329197,0.021292004734277725,0.02979709766805172,0.0011164962779730558,-0.012229230254888535,0.006193719804286957,0.03549155965447426,0.01050090417265892,0.022951640188694,-0.016682446002960205,-0.05562373250722885,-0.012368887662887573,-0.022092152386903763,0.05137429013848305,0.017676854506134987,-0.006908073555678129,-0.045044906437397,-0.027713622897863388,0.022097673267126083,-0.022999491542577744,0.058164145797491074,-0.015225259587168694,-0.036017924547195435,0.003582143923267722,0.028253499418497086,0.06153653934597969,0.02717749774456024,-0.024228984490036964,-0.020125968381762505,0.04888737574219704,-0.0042777396738529205,0.01620698906481266,-0.003978705033659935,0.003187492722645402,0.045377422124147415,-0.0026143775321543217,0.000817742373328656,0.023930910974740982,-0.023121096193790436,0.024777714163064957,0.024469172582030296,-0.10349535197019577,0.024564923718571663,-0.028519460931420326,0.065249502658844,-0.025165781378746033,0.02422529086470604,0.0064816828817129135,-0.032248515635728836,-0.00004987519423593767,-0.02691258303821087,0.04754788801074028,-0.06053764000535011,0.008843883872032166,-0.05255246162414551,0.0024142179172486067,0.02298603393137455,-0.012688882648944855,0.031079888343811035,0.023165704682469368,0.017728662118315697,0.034914661198854446,0.024095168337225914,-0.013176379725337029,-0.012542694807052612,0.002457565860822797,0.01194806955754757,0.01585465669631958,-0.007328857202082872,-0.012562270276248455,-0.0038062380626797676,-0.0021514971740543842,-0.0336868017911911,0.04060051217675209,0.011963043361902237,-0.016354471445083618,-0.04524660483002663,-0.014847888611257076,-0.052610959857702255,-0.031088031828403473,-0.0262618288397789,-0.06461291760206223,-0.002138541080057621,-0.013879453763365746,0.008455912582576275,-0.04090966656804085,-0.041952330619096756,0.007074435241520405,-0.004394039046019316,0.01658879965543747,-0.008845449425280094,-0.0718853622674942,0.030494272708892822,-0.04567325860261917,-0.050464827567338943,0.03418787568807602,-0.022985996678471565,0.05013037100434303,0.018358001485466957,-0.01845257356762886,0.05648204684257507,0.01628665067255497,-0.04638168588280678,0.043661344796419144,0.018285945057868958,0.030981361865997314,-0.00015178548346739262,-0.011720866896212101,0.02849280834197998,-0.012071259319782257,-0.058625977486371994,-0.04039132595062256,-0.030423283576965332,-0.01277123298496008,0.0444561205804348,0.003643132746219635,-0.0035855392925441265,-0.006335960701107979,0.025176363065838814,0.007824779488146305,-0.012981030158698559,-0.0320340059697628,0.024843601509928703,0.007878320291638374,0.009174250066280365,0.010206523351371288,0.03501581773161888,0.020728599280118942,0.013486192561686039,-0.04166431725025177,0.01855715736746788,0.03806193917989731,-0.01568840816617012,0.02877163700759411,0.0354405976831913,-0.02720235101878643,0.08893398940563202,-0.007091363426297903,0.05707758292555809,-0.032724086195230484,-0.04057632386684418,-0.02059890888631344,-0.019597316160798073,0.009073391556739807,0.0062042344361543655,-0.03567783907055855,-0.029342105612158775,-0.026335028931498528,-0.0016907136887311935,-0.036336686462163925,-0.05369962006807327,0.012858071364462376,-0.01671418733894825,0.008403170853853226,0.013763593509793282,-0.02460392564535141,-0.0482124462723732,-0.06273776292800903,-0.002829600591212511,-0.03931481018662453,-0.04396216943860054,0.0016633238410577178,0.028467724099755287,0.03866739571094513,-0.005960657726973295,0.024173736572265625,0.003390091471374035,-0.04090533033013344,-0.024109022691845894,0.01602010987699032,0.0035053701139986515,0.03378896415233612,0.03585412725806236,0.00487800408154726,0.006193050183355808,-0.04890298843383789,0.013819982297718525,-0.03243860974907875,0.0023520656395703554,-0.014177377335727215,-0.01237570308148861,-0.002793998224660754,0.0005407462595030665,0.037017349153757095,0.020100584253668785,-0.009695718064904213,-0.016094079241156578,-0.019840411841869354,-0.03988349437713623,-0.027286872267723083,-0.004526364151388407,0.04106344282627106,-0.028809450566768646,-0.003085638862103224,-0.00988580659031868,0.03497021645307541,0.035991180688142776,-0.006068070884793997,0.008242017589509487,-0.027020856738090515,0.02152039296925068,0.011054890230298042,-0.004092746879905462,-0.006751562934368849,0.02997765876352787,-0.0012152907438576221,-0.01760614477097988,0.013283543288707733,0.01371148880571127,-0.007665072102099657,0.018062422052025795,-0.04053796827793121,-0.012195039540529251,-0.029811257496476173,0.029797958210110664,0.025369830429553986,-0.0547938346862793,-0.013331820257008076,0.04619460925459862,-0.020367411896586418,-0.006585174240171909,-0.06411188840866089,-0.019856279715895653,-0.048247940838336945,0.041437722742557526,-0.024136235937476158,-0.027467351406812668,0.004010160453617573,0.002638201927766204,-0.012918687425553799,0.008485536091029644,0.0744856670498848,0.03161859139800072,0.015207944437861443,0.02611992321908474,-0.031591128557920456,0.04225582256913185,-0.048018667846918106,-0.007944379933178425,0.019438354298472404,-0.050119031220674515,0.007043603342026472,0.012518340721726418,0.019029928371310234,0.04058763384819031,0.016495024785399437,-0.007923714816570282,0.06705553084611893,0.025035185739398003,0.019826533272862434,-0.04896826297044754,0.02790330909192562,0.05149850621819496,-0.02643909677863121,-0.0117588359862566,-0.005317823961377144,-0.023738915100693703,-0.07403448969125748,-0.02817823924124241,-0.0019992366433143616,0.014367260038852692,-0.0035717864520847797,-0.06966762989759445,0.007666266057640314,0.03182920813560486,-0.017335833981633186,-0.03160037100315094,-0.05742781236767769,0.04465720057487488,0.03325219452381134,-0.013621767982840538,0.03766199201345444,0.013982517644762993,-0.06218111142516136,-0.003026982070878148,-0.00625960249453783,-0.03633863478899002,-0.02724197879433632,0.06039492413401604,-0.04487643390893936,0.020241400226950645,-0.003994341939687729,-0.03840222209692001,0.040351200848817825,-0.04791872948408127,-0.011130271479487419,0.0032226410694420338,-0.005295379087328911,-0.02807793766260147,0.004517664667218924,0.01796124316751957,0.12286990880966187,-0.019321363419294357,0.008884693495929241,-0.06122644245624542,0.022296741604804993,-0.0028586811386048794,-0.010857929475605488,-0.020112594589591026,-0.015654347836971283,-0.05553952232003212,-0.039730221033096313,0.044057946652173996,0.030710896477103233,-0.023195277899503708,-0.08442100137472153,-0.02734472043812275,0.04769452288746834,-0.023730695247650146,-6.204012329826361e-33,-0.013152739964425564,-0.012852447107434273,-0.006745271384716034,-0.005198684521019459,-0.012404097244143486,-0.006458615884184837,-0.0018043798627331853,-0.049655795097351074,-0.02904854342341423,0.002475386019796133,-0.008569528348743916,-0.014520256780087948,0.020734181627631187,-0.02392038144171238,0.0518803671002388,0.02139841578900814,0.046661198139190674,-0.012117846868932247,-0.0366387739777565,0.037564925849437714,-0.014683429151773453,0.010918897576630116,-0.012259460054337978,-0.017057476565241814,-0.02445855177938938,0.012885048054158688,0.0015798296080902219,0.03072415105998516,-0.016120197251439095,0.02108314447104931,0.008647206239402294,-0.04857894778251648,-0.014866351149976254,-0.03430565819144249,-0.024345461279153824,-0.014350797981023788,-0.050618596374988556,0.006609599106013775,-0.0008925989386625588,0.03164206072688103,0.06007491052150726,-0.005058624781668186,0.016510171815752983,-0.0037685243878513575,0.022254858165979385,-0.016939813271164894,-0.031189121305942535,0.0037019115407019854,-0.020705636590719223,-0.03406871482729912,-0.013484342955052853,0.008806471712887287,0.029596401378512383,0.11515916883945465,0.014024676755070686,0.040703337639570236,0.008851050399243832,-0.014223520644009113,-0.03842731565237045,0.04638184234499931,-0.056443773210048676,-0.019368866458535194,0.014531968161463737,-0.006192149128764868,0.03001379407942295,-0.044883131980895996,-0.056801676750183105,0.016082042828202248,0.04298447072505951,0.043471600860357285,-0.02502211555838585,0.03795848786830902,0.018860897049307823,-0.11170575767755508,-0.0749615803360939,0.00879601575434208,0.05584098771214485,-0.020844342187047005,-0.0032983494456857443,0.09860895574092865,0.0019990685395896435,0.02304164320230484,-0.010796735994517803,0.014036991633474827,0.06663388013839722,-0.08107095211744308,-0.030472377315163612,0.03802184760570526,0.013545257039368153,0.05648065358400345,-0.020234545692801476,0.05631221830844879,-0.021357832476496696,0.02299356460571289,0.06721408665180206,0.07536741346120834,0.03851572424173355,0.026786252856254578,0.0077833812683820724,-0.044749125838279724,-0.018665939569473267,-0.0059273215010762215,0.0013883254723623395,-0.02375129982829094,0.01077007781714201,-0.017414595931768417,0.0001332154788542539,0.007252963725477457,-0.016613734886050224,-0.023601312190294266,0.02148221991956234,0.06395405530929565,0.017772015184164047,-0.022199446335434914,-0.023457393050193787,-0.02589772641658783,-0.0004645224253181368,0.026629338040947914,0.005754637997597456,-0.0043009365908801556,0.03485368937253952,0.06912356615066528,0.021171841770410538,-0.06299939006567001,0.0483986996114254,-0.013999552465975285,-0.008073056116700172,-0.00663718581199646,0.049969471991062164,0.0026588349137455225,-0.021930893883109093,0.012283135205507278,2.7702245120053703e-7,0.0006329049938358366,0.048061490058898926,-0.026435723528265953,0.05782082676887512,0.02522376924753189,-0.049586765468120575,-0.006833207327872515,-0.05153646692633629,0.009978996589779854,-0.013986706733703613,0.04826458916068077,0.013629056513309479,-0.009495176374912262,0.02653718926012516,-0.0018932499224320054,-0.12048611044883728,0.045293401926755905,-0.07738158106803894,-0.09240401536226273,-0.018247688189148903,0.074783094227314,0.044443052262067795,0.04583282768726349,0.02841915935277939,0.03418176993727684,-0.025062402710318565,-0.03851214796304703,0.009804225526750088,0.0043661100789904594,-0.020267155021429062,0.06680604070425034,0.0033511354122310877,-0.03448167443275452,-0.006442922633141279,-0.02551751397550106,0.039020076394081116,-0.02541758306324482,-0.020404620096087456,0.02461695671081543,0.0347299799323082,0.01183074340224266,-0.04177142307162285,-0.01696908287703991,-0.06575694680213928,-0.004670863971114159,-0.03422417491674423,0.005862148478627205,-0.02288500964641571,-0.006555403582751751,-0.006076900754123926,0.007648286875337362,0.0495915487408638,0.02276253141462803,0.004442739300429821,0.03144408017396927,0.005446888506412506,-0.0100358622148633,0.016836008056998253,0.014494107104837894,-0.010958271101117134,-0.0030142171308398247,-0.01095573790371418,0.000535538129042834,0.04651385918259621,0.04048820957541466,0.010952262207865715,-0.02685026451945305,3.2767876189543135e-34,-0.015348115935921669,0.014407877810299397,0.048826929181814194,-0.016796579584479332,0.027953222393989563,-0.012861418537795544,-0.033763203769922256,-0.02904932014644146,0.010945534333586693,-0.0789576917886734,-0.005073368549346924]'
SET
  @TechnicalDesignVector_38e2cba2 = N'[0.005041028838604689,-0.014982182532548904,-0.04129887372255325,-0.051570843905210495,-0.012807372026145458,-0.0014144667657092214,0.003073947736993432,0.03340982645750046,-0.006145842373371124,-0.013114823959767818,0.014754666946828365,0.020064745098352432,0.022828945890069008,0.14758986234664917,0.015947988256812096,-0.05075504258275032,0.0009492016397416592,0.010415462777018547,-0.051834143698215485,0.009006895124912262,0.013801847584545612,-0.0041771624237298965,-0.01325891725718975,-0.015322890132665634,-0.03750428184866905,-0.032115038484334946,-0.021511135622859,0.011663618497550488,0.010344231501221657,-0.03428288921713829,-0.010381856001913548,-0.019056646153330803,-0.0178877804428339,0.05059123411774635,0.0000018372389831711189,-0.005094354506582022,-0.030805623158812523,-0.011250159703195095,0.003911576233804226,0.0480266772210598,0.02666623517870903,-0.052388329058885574,0.03207642212510109,-0.011832077987492085,0.01698244921863079,-0.053773727267980576,-0.02597041055560112,0.05781393498182297,0.06328432261943817,-0.06437224894762039,-0.0061799995601177216,-0.01972546987235546,-0.05826009064912796,0.04572175815701485,-0.07205962389707565,0.027363793924450874,0.01860399916768074,0.008211677893996239,0.09498737007379532,-0.04156484082341194,0.006534127052873373,-0.009831726551055908,0.0006654453463852406,-0.015205387026071548,0.05568256601691246,0.028394345194101334,0.12730281054973602,-0.05532300844788551,-0.0073887356556952,0.0036972295492887497,0.071712926030159,-0.01405535638332367,0.023749180138111115,-0.011360585689544678,-0.017301935702562332,-0.014314994215965271,-0.02910296805202961,-0.006191887427121401,0.026016244664788246,-0.00027171801775693893,0.020097989588975906,0.01484900526702404,-0.03677875176072121,-0.03229311853647232,-0.02151564694941044,-0.004271734971553087,-0.000657631317153573,0.012294299900531769,-0.05493590235710144,-0.00489038834348321,0.06715847551822662,-0.027235524728894234,-0.005517969839274883,0.023952806368470192,-0.06827979534864426,-0.012499488890171051,0.010272985324263573,0.007126987911760807,-0.010850099846720695,0.019656717777252197,0.008631277829408646,0.034997254610061646,0.07008924335241318,0.04753968492150307,0.053637173026800156,0.03864000365138054,-0.028956016525626183,-0.08773092180490494,0.01840956322848797,-0.052721284329891205,-0.019535142928361893,-0.02909841388463974,0.006627604831010103,0.0925426185131073,-0.017542285844683647,-0.02741200104355812,-0.029713619500398636,0.016515979543328285,-0.00896518211811781,0.0419049970805645,0.04902273416519165,0.006267927121371031,0.023954225704073906,0.010833692736923695,-0.022589342668652534,0.03547341749072075,0.0008775487658567727,-0.03658963367342949,-0.01297213789075613,0.0017201451119035482,-0.005987520329654217,-0.022444745525717735,0.026677412912249565,-0.013196054846048355,-0.04036558419466019,-0.007753005716949701,0.0013549686409533024,0.05295048654079437,-0.047972891479730606,-0.03290455415844917,0.037476614117622375,0.013418557122349739,-0.0984334722161293,0.0306486114859581,0.009739912115037441,-0.016241373494267464,-0.02725135162472725,0.04012567177414894,0.0066707623191177845,-0.012015254236757755,0.00573747418820858,-0.030120592564344406,-0.021192442625761032,0.007516492158174515,-0.05517994239926338,-0.00894863624125719,0.05605876445770264,-0.00636699702590704,-0.027467213571071625,0.025477873161435127,-0.0033299585338681936,0.018540160730481148,0.07159309834241867,0.009627947583794594,-0.06311222910881042,-0.025006411597132683,-0.014614916406571865,0.011164066381752491,-0.06280442327260971,-0.05486014857888222,-0.04464657977223396,-0.011391191743314266,-0.020128676667809486,0.04488527774810791,0.046478547155857086,-0.047162145376205444,0.059504032135009766,-0.04878788813948631,-0.009547457098960876,0.016011597588658333,0.035930369049310684,-0.10482091456651688,0.008637635968625546,0.05360589548945427,0.03456202894449234,-0.04059198126196861,-0.09481151401996613,0.02715551294386387,0.007241741754114628,-0.012876887805759907,-0.015356773510575294,0.031932104378938675,-0.05855352059006691,0.002922643907368183,0.02157926745712757,-0.01251621637493372,-0.016260549426078796,-0.07201405614614487,0.008572512306272984,-0.007210519164800644,0.03284443914890289,0.01970101147890091,0.088384710252285,0.0781610831618309,0.034392934292554855,-0.03087923675775528,0.014471655711531639,-0.013110713101923466,-0.011489786207675934,0.005660215858370066,0.04492056369781494,-0.009670375846326351,-0.027679430320858955,0.02733212150633335,-0.015364537015557289,-0.00012200892524560913,0.041533082723617554,0.032871659845113754,-0.05332409217953682,0.02273350954055786,-0.07008510828018188,0.016316579654812813,0.012926571071147919,0.006405486725270748,0.09843039512634277,0.0199254360049963,0.010132900439202785,0.05457214638590813,0.020637432113289833,0.04484335333108902,-0.005100875161588192,-0.015811685472726822,0.04092313349246979,0.031077791005373,0.016928093507885933,0.04115927964448929,0.028782930225133896,0.035311564803123474,-0.004064309876412153,0.009390056133270264,-0.01271302904933691,-0.03485897555947304,-0.023875165730714798,-0.02773152105510235,0.018034182488918304,-0.040082674473524094,-0.0428180992603302,0.02192808873951435,-0.021628474816679955,-0.009933650493621826,0.009510727599263191,0.03379802405834198,-0.014641871675848961,-0.020028572529554367,-0.03448164463043213,0.01358373649418354,0.002357949037104845,0.018772345036268234,0.024968747049570084,0.032406486570835114,0.02770591899752617,-0.012073613703250885,-0.009617362171411514,-0.048128362745046616,-0.031221000477671623,-0.012148174457252026,0.019727595150470734,-0.009684217162430286,-0.034284498542547226,0.028251947835087776,-0.006768761668354273,0.03655853495001793,0.021789729595184326,0.01643000915646553,-0.01574690453708172,0.04751242324709892,0.008288216777145863,-0.006980906240642071,-0.0354851670563221,-0.003292192704975605,0.0022744014859199524,0.004725195933133364,0.02937265671789646,0.028935996815562248,-0.012567236088216305,0.00007310751971090212,0.018039032816886902,-0.053913988173007965,0.02063046023249626,-0.10330521315336227,0.00946314912289381,-0.017293762415647507,0.023121599107980728,-0.0470309741795063,-0.037449538707733154,0.0017898455262184143,0.01932624727487564,0.06745844334363937,-0.06228932738304138,-0.0038156937807798386,-0.015392164699733257,-0.04457944631576538,0.018472278490662575,-0.0022016374859958887,-0.012122509069740772,0.10832968354225159,-0.0048173824325203896,0.018691180273890495,0.0025640937965363264,0.029398690909147263,0.012625153176486492,0.021089406684041023,-0.01953219063580036,0.04079269990324974,0.009443595074117184,0.016891667619347572,-0.000171351115568541,-0.012378503568470478,-0.02081543765962124,0.047934480011463165,-0.010811086744070053,0.008163172751665115,-0.003627018304541707,0.014044290408492088,-0.019789714366197586,0.041648019105196,-0.029068179428577423,-0.0345333032310009,-0.031255848705768585,-0.04079022631049156,-0.018001671880483627,-0.04009965807199478,-0.03200671821832657,0.005903857294470072,0.031696680933237076,-0.020054688677191734,-0.01814282312989235,-0.04750599339604378,-0.008651326410472393,-0.035024892538785934,-0.025231434032320976,0.009691654704511166,-0.008676313795149326,0.1048969104886055,-0.004956837743520737,-0.0011170444777235389,0.03313222527503967,0.0388251356780529,-0.13697773218154907,0.029071591794490814,0.034390147775411606,0.030218297615647316,-0.005691819824278355,0.002771159866824746,0.002543199574574828,-0.007968469522893429,-0.07598423957824707,0.03119290992617607,-0.01947168819606304,-0.05924233794212341,0.029650360345840454,0.01847504824399948,0.03271544352173805,-0.047704972326755524,0.04095904901623726,-0.014800823293626308,0.026451749727129936,0.03787413612008095,0.03524371236562729,-0.018027102574706078,-0.017421811819076538,0.015624686144292355,0.05219604820013046,0.002089620800688863,-0.0023223157040774822,-0.032520730048418045,0.0024890287313610315,0.0268319770693779,0.008783236145973206,0.029931772500276566,0.01424573827534914,-0.015922266989946365,0.07177747786045074,0.0066937776282429695,0.055224642157554626,0.0038524193223565817,-0.005817613564431667,0.0044449190609157085,-0.0013283665757626295,0.031143320724368095,0.006833469495177269,-0.08673623949289322,0.03827769681811333,0.016628405079245567,0.0005614068941213191,-0.034565821290016174,-0.014406363479793072,0.026995142921805382,-0.031470123678445816,-0.01310733426362276,-0.012329775840044022,-0.07792145758867264,-0.011273739859461784,-0.026462873443961143,0.040535323321819305,-0.06814772635698318,-0.14112675189971924,0.05508380010724068,-0.004099044483155012,0.027461187914013863,-0.008488207124173641,-0.018645072355866432,0.013785140588879585,-0.06935570389032364,-0.04233326017856598,-0.012735648080706596,-0.010240545496344566,0.02268882282078266,0.025883590802550316,0.04853060841560364,0.03851928189396858,0.00956320483237505,0.0443723127245903,-0.011989849619567394,0.05502594634890556,-0.031158072873950005,-0.009265809319913387,-0.027500445023179054,-0.022235801443457603,0.023380370810627937,0.0033141719177365303,-0.04464271664619446,0.0014590190257877111,-0.03279998153448105,-0.03441125527024269,-0.03100268729031086,-0.03293449431657791,-0.013889042660593987,-0.007584371604025364,0.01569034345448017,0.01514180563390255,0.03249392658472061,0.034725453704595566,-0.01600606180727482,-0.012849359773099422,-0.016556445509195328,-0.01043661218136549,0.007156074047088623,-0.05842484161257744,-0.000027715310352505185,0.06111607700586319,-0.020619351416826248,0.005819572601467371,-0.02645978145301342,-0.008139320649206638,-0.032749611884355545,-0.028460411354899406,0.06394115090370178,-0.011186167597770691,0.01994774490594864,0.029758727177977562,0.015814416110515594,-0.025342170149087906,0.015743354335427284,0.017330626025795937,0.018690014258027077,0.024507075548171997,-0.027192773297429085,-0.021932784467935562,-0.037961144000291824,0.023423101752996445,-0.024173809215426445,-0.021494286134839058,-0.016821131110191345,-0.020977996289730072,0.002722060540691018,-0.008094944059848785,0.04757307469844818,0.09662164747714996,-0.004049662500619888,-0.0017319308826699853,-0.03170924261212349,0.032762859016656876,-0.012725772336125374,0.01726936735212803,0.01802467741072178,-0.041435882449150085,-0.03422299772500992,-0.00507633900269866,0.015601018443703651,0.009977133944630623,0.0010966367553919554,0.005342062097042799,0.11908791214227676,0.04208862781524658,0.023163381963968277,-0.005010863766074181,0.011408226564526558,-0.03610336408019066,-0.09393519163131714,-0.02279306948184967,0.004935866687446833,-0.01693667285144329,-0.06637647747993469,-0.019708625972270966,-0.0121220787987113,-0.007074201945215464,0.0023978776298463345,-0.02000107802450657,0.0077783954329788685,0.013408920727670193,-0.01573200896382332,-0.03856143727898598,0.019511369988322258,0.0546271912753582,-0.02258998528122902,-0.006152066867798567,0.032037898898124695,0.03974083065986633,-0.04040273278951645,0.006610216572880745,0.024204479530453682,-0.0029408992268145084,-0.0300434697419405,0.09299170970916748,-0.02487442083656788,0.003681965172290802,0.0026917397044599056,-0.02090764045715332,0.036593157798051834,-0.028498176485300064,-0.03594091162085533,-0.015360192395746708,-0.00019946008978877217,-0.06175575777888298,0.04088094085454941,0.027906062081456184,0.10856364667415619,-0.027421725913882256,-0.03366037830710411,-0.09120330959558487,0.04895266517996788,0.03257729485630989,-0.0008463410777039826,-0.025859497487545013,-0.037341728806495667,-0.00763934850692749,-0.03264058381319046,0.06528322398662567,0.037711456418037415,0.002495681867003441,-0.064838707447052,-0.04283217713236809,0.0277414470911026,0.02414630353450775,-6.38786552376672e-33,-0.01117585226893425,-0.005714581813663244,-0.01881074719130993,-0.004118471406400204,-0.03833111375570297,-0.019729435443878174,0.036316823214292526,-0.051137231290340424,-0.01307717151939869,-0.009706747718155384,0.002460051793605089,-0.01190296933054924,0.0032166428864002228,-0.012277168221771717,0.013618300668895245,0.06579910218715668,0.03262236714363098,0.02397492714226246,-0.03705884516239166,0.00640040123835206,-0.007830172777175903,0.01633412390947342,-0.013210724107921124,-0.04136267676949501,-0.07308466732501984,-0.000003922151790902717,0.014608621597290039,0.01704254373908043,-0.07329446077346802,0.03949741646647453,-0.00987614318728447,-0.016473717987537384,-0.013405448757112026,0.12242856621742249,-0.0022084470838308334,0.003809931455180049,-0.009562809020280838,-0.011352669447660446,0.028126820921897888,0.011566655710339546,0.048718202859163284,-0.002032827353104949,0.03144592419266701,0.004722432233393192,0.010051192715764046,-0.01637999713420868,0.013078302145004272,-0.002251712139695883,-0.015838434919714928,0.01132884155958891,-0.005602466873824596,0.011264471337199211,-0.006016828585416079,0.08900558948516846,-0.003636251902207732,0.055894602090120316,0.022032907232642174,0.029599813744425774,-0.003094419604167342,0.031555090099573135,-0.04200034216046333,-0.04538248851895332,-0.01985740289092064,0.020401092246174812,0.020823821425437927,0.02415470965206623,0.0002078964898828417,0.04596935212612152,-0.08319101482629776,0.010723930783569813,-0.015386059880256653,0.05942046642303467,0.07074848562479019,-0.05272766575217247,-0.05276083946228027,0.011249972507357597,0.02238660492002964,-0.038998764008283615,-0.004911641124635935,0.05760728195309639,-0.011112767271697521,0.023020656779408455,0.02218860387802124,0.013288403861224651,0.053223926573991776,0.02207627147436142,-0.02353931963443756,0.0377391017973423,0.010158902034163475,0.04781470447778702,-0.03855973854660988,0.023455653339624405,-0.04351262003183365,0.013767042197287083,0.006698478013277054,-0.02995416149497032,0.045783743262290955,0.012831569649279118,0.01701362617313862,-0.04414249584078789,0.007646614219993353,0.004198899492621422,-0.045335639268159866,0.00750827556475997,-0.032692283391952515,-0.019122686237096786,-0.008984746411442757,0.01493115071207285,-0.03660798445343971,0.02435181848704815,0.01388225331902504,0.02424866333603859,-0.00961928442120552,-0.060400258749723434,0.007626518607139587,-0.01052179280668497,0.014438829384744167,-0.03668846935033798,-0.004569212440401316,0.0009528986411169171,0.03048555739223957,-0.07043995708227158,-0.02721880003809929,-0.003181731328368187,0.04065976291894913,-0.006285381503403187,-0.05731908977031708,0.007709943689405918,0.01764807663857937,-0.0032277863938361406,-0.009117110632359982,0.038138072937726974,2.610319711493503e-7,-0.01802041195333004,0.05523676797747612,-0.03228981792926788,0.0032127879094332457,0.06461551040410995,-0.07767470926046371,-0.04745025187730789,-0.03235217183828354,-0.05102239549160004,0.026442555710673332,0.02422916702926159,-0.006292407866567373,0.05696835741400719,0.04711610823869705,0.01616605557501316,0.011893471702933311,-0.047271840274333954,-0.11234444379806519,-0.08780720084905624,0.01434434112161398,0.08715461194515228,0.0007462962530553341,0.05913911014795303,0.015294356271624565,0.009328370913863182,0.04254532605409622,0.0025918970350176096,0.05073420703411102,0.010950904339551926,-0.02249261923134327,-0.01536689605563879,0.04127331078052521,-0.006177566479891539,-0.045660290867090225,0.010942253284156322,0.016440128907561302,-0.031573403626680374,-0.02477695606648922,0.0012938097352162004,0.06510109454393387,0.04109892621636391,-0.05395452305674553,-0.037238918244838715,-0.011345181614160538,0.0289007555693388,-0.04286471754312515,0.027422185987234116,0.0374876968562603,-0.04188820719718933,0.010060279630124569,-0.008415484800934792,0.0012358736712485552,-0.03433175012469292,-0.009710515849292278,0.005651725456118584,-0.030654754489660263,0.007423981558531523,0.048761967569589615,0.056018076837062836,0.008442788384854794,-0.01621442288160324,-0.019452935084700584,0.013329845853149891,0.07272281497716904,0.030304471030831337,0.03220086917281151,-0.06473371386528015,2.7899899239286204e-34,0.03459839150309563,-0.03617288917303085,0.017188245430588722,-0.008235718123614788,0.016991853713989258,0.0009345608996227384,0.0071432632394135,-0.016321782022714615,-0.002480926224961877,-0.06955660134553909,-0.023415785282850266]'
SET
  @HasCustomProps_38e2cba2 = 1
SET
  @HasCustomEvents_38e2cba2 = 0
SET
  @RequiresData_38e2cba2 = 1
SET
  @DependencyCount_38e2cba2 = 4
SET
  @TechnicalDesignVectorEmbeddingModelID_38e2cba2 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_38e2cba2 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_38e2cba2 = 0
SET
  @ID_38e2cba2 = '91A09357-0580-45C1-BB54-24B688D3CAD1'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_38e2cba2,
  @Name = @Name_38e2cba2,
  @Version = @Version_38e2cba2,
  @VersionSequence = @VersionSequence_38e2cba2,
  @Title = @Title_38e2cba2,
  @Description = @Description_38e2cba2,
  @Type = @Type_38e2cba2,
  @Status = @Status_38e2cba2,
  @DeveloperName = @DeveloperName_38e2cba2,
  @DeveloperEmail = @DeveloperEmail_38e2cba2,
  @DeveloperOrganization = @DeveloperOrganization_38e2cba2,
  @SourceRegistryID = @SourceRegistryID_38e2cba2,
  @ReplicatedAt = @ReplicatedAt_38e2cba2,
  @LastSyncedAt = @LastSyncedAt_38e2cba2,
  @Specification = @Specification_38e2cba2,
  @FunctionalRequirements = @FunctionalRequirements_38e2cba2,
  @TechnicalDesign = @TechnicalDesign_38e2cba2,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_38e2cba2,
  @TechnicalDesignVector = @TechnicalDesignVector_38e2cba2,
  @HasCustomProps = @HasCustomProps_38e2cba2,
  @HasCustomEvents = @HasCustomEvents_38e2cba2,
  @RequiresData = @RequiresData_38e2cba2,
  @DependencyCount = @DependencyCount_38e2cba2,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_38e2cba2,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_38e2cba2,
  @HasRequiredCustomProps = @HasRequiredCustomProps_38e2cba2,
  @ID = @ID_38e2cba2;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_c5a19edb NVARCHAR(MAX),
@Name_c5a19edb NVARCHAR(500),
@Version_c5a19edb NVARCHAR(50),
@VersionSequence_c5a19edb INT,
@Title_c5a19edb NVARCHAR(1000),
@Description_c5a19edb NVARCHAR(MAX),
@Type_c5a19edb NVARCHAR(255),
@Status_c5a19edb NVARCHAR(50),
@DeveloperName_c5a19edb NVARCHAR(255),
@DeveloperEmail_c5a19edb NVARCHAR(255),
@DeveloperOrganization_c5a19edb NVARCHAR(255),
@SourceRegistryID_c5a19edb UNIQUEIDENTIFIER,
@ReplicatedAt_c5a19edb DATETIMEOFFSET,
@LastSyncedAt_c5a19edb DATETIMEOFFSET,
@Specification_c5a19edb NVARCHAR(MAX),
@FunctionalRequirements_c5a19edb NVARCHAR(MAX),
@TechnicalDesign_c5a19edb NVARCHAR(MAX),
@FunctionalRequirementsVector_c5a19edb NVARCHAR(MAX),
@TechnicalDesignVector_c5a19edb NVARCHAR(MAX),
@HasCustomProps_c5a19edb BIT,
@HasCustomEvents_c5a19edb BIT,
@RequiresData_c5a19edb BIT,
@DependencyCount_c5a19edb INT,
@TechnicalDesignVectorEmbeddingModelID_c5a19edb NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_c5a19edb NVARCHAR(MAX),
@HasRequiredCustomProps_c5a19edb BIT,
@ID_c5a19edb UNIQUEIDENTIFIER
SET
  @Namespace_c5a19edb = N'CRM/Analytics'
SET
  @Name_c5a19edb = N'DealVelocityMetrics'
SET
  @Version_c5a19edb = N'1.0.0'
SET
  @VersionSequence_c5a19edb = 1
SET
  @Title_c5a19edb = N'Deal Velocity Metrics'
SET
  @Description_c5a19edb = N'Analyze and visualize the speed of deals through the sales pipeline with detailed stage-by-stage metrics'
SET
  @Type_c5a19edb = N'Chart'
SET
  @Status_c5a19edb = N'Published'
SET
  @Specification_c5a19edb = N'{"name":"DealVelocityMetrics","namespace":"CRM/Analytics","type":"Metrics","location":"embedded","code":"function DealVelocityMetrics({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Load sub-components from registry\n  const { DealVelocityTrendChart, DealVelocityDistributionChart, DataExportPanel, VelocityHeatmap, DealsTable } = components;\n  const [deals, setDeals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [viewMode, setViewMode] = useState(savedUserSettings?.viewMode || ''heatmap'');\n  const [timeRange, setTimeRange] = useState(savedUserSettings?.timeRange || ''30'');\n  const [useCustomDates, setUseCustomDates] = useState(savedUserSettings?.useCustomDates || false);\n  const [startDate, setStartDate] = useState(\n    savedUserSettings?.startDate || dayjs().subtract(30, ''day'').format(''YYYY-MM-DD'')\n  );\n  const [endDate, setEndDate] = useState(\n    savedUserSettings?.endDate || dayjs().format(''YYYY-MM-DD'')\n  );\n  const [drillDownDeals, setDrillDownDeals] = useState(null);\n  const [drillDownTitle, setDrillDownTitle] = useState('''');\n  const [sortConfig, setSortConfig] = useState({ key: ''Amount'', direction: ''desc'' });\n  \n  const heatmapRef = useRef(null);\n  const trendRef = useRef(null);\n  const distributionRef = useRef(null);\n\n  const stages = [''Prospecting'', ''Qualification'', ''Proposal'', ''Negotiation'', ''Closed Won'', ''Closed Lost''];\n\n  useEffect(() => {\n    loadData();\n  }, [timeRange, useCustomDates, startDate, endDate]);\n\n  const loadData = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      let dateFilter;\n      \n      if (useCustomDates) {\n        // Use custom date range - filter on ActualCloseDate for closed deals or CloseDate for open deals\n        dateFilter = `(ActualCloseDate >= ''$' + '{startDate}'' AND ActualCloseDate <= ''$' + '{endDate}'') OR (ActualCloseDate IS NULL AND CloseDate >= ''$' + '{startDate}'' AND CloseDate <= ''$' + '{endDate}'')`;\n      } else {\n        // Use preset time range\n        let filterStartDate;\n        let filterEndDate;\n        const today = dayjs();\n        \n        switch(timeRange) {\n          case ''7'':\n            filterStartDate = today.subtract(7, ''day'').format(''YYYY-MM-DD'');\n            filterEndDate = today.format(''YYYY-MM-DD'');\n            break;\n          case ''30'':\n            filterStartDate = today.subtract(30, ''day'').format(''YYYY-MM-DD'');\n            filterEndDate = today.format(''YYYY-MM-DD'');\n            break;\n          case ''90'':\n            filterStartDate = today.subtract(90, ''day'').format(''YYYY-MM-DD'');\n            filterEndDate = today.format(''YYYY-MM-DD'');\n            break;\n          case ''thisYear'':\n            filterStartDate = today.startOf(''year'').format(''YYYY-MM-DD'');\n            filterEndDate = today.endOf(''year'').format(''YYYY-MM-DD'');\n            break;\n          case ''lastYear'':\n            filterStartDate = today.subtract(1, ''year'').startOf(''year'').format(''YYYY-MM-DD'');\n            filterEndDate = today.subtract(1, ''year'').endOf(''year'').format(''YYYY-MM-DD'');\n            break;\n          case ''allTime'':\n            dateFilter = ''''; // No date filter for all time\n            break;\n          default:\n            filterStartDate = today.subtract(30, ''day'').format(''YYYY-MM-DD'');\n            filterEndDate = today.format(''YYYY-MM-DD'');\n        }\n        \n        if (timeRange !== ''allTime'') {\n          // Filter on ActualCloseDate for closed deals or CloseDate for open deals\n          dateFilter = `(ActualCloseDate >= ''$' + '{filterStartDate}'' AND ActualCloseDate <= ''$' + '{filterEndDate}'') OR (ActualCloseDate IS NULL AND CloseDate >= ''$' + '{filterStartDate}'' AND CloseDate <= ''$' + '{filterEndDate}'')`;\n        }\n      }\n      \n      const dealsResult = await utilities.rv.RunView({\n        EntityName: ''Deals'',\n        ExtraFilter: dateFilter,\n        OrderBy: ''__mj_CreatedAt DESC''\n      });\n\n      if (dealsResult.Success) {\n        setDeals(dealsResult.Results || []);\n      } else {\n        setError(dealsResult.ErrorMessage || ''Failed to load data'');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Chart rendering is now handled by sub-components\n  // The useEffect for rendering charts is no longer needed\n\n  const calculateVelocityData = () => {\n    // Calculate velocity based on stage and close dates\n    const velocityData = {};\n    const repVelocity = {};\n    \n    // Group by stage to show velocity patterns\n    const stageGroups = {};\n    stages.forEach(stage => {\n      stageGroups[stage] = deals.filter(d => d.Stage === stage);\n    });\n    \n    // Create velocity data for each stage\n    Object.keys(stageGroups).forEach(stage => {\n      if (!velocityData[stage]) {\n        velocityData[stage] = {};\n      }\n      \n      const stageDeals = stageGroups[stage];\n      const durations = stageDeals.map(deal => {\n        // For closed deals, use ActualCloseDate; for open deals, use CloseDate\n        const closeDate = deal.ActualCloseDate ? new Date(deal.ActualCloseDate) : \n                         deal.CloseDate ? new Date(deal.CloseDate) : new Date();\n        \n        // Simulate a creation date based on stage (earlier stages = longer ago)\n        let daysInPipeline;\n        switch(deal.Stage) {\n          case ''Prospecting'':\n            daysInPipeline = 90 + Math.random() * 30; // 90-120 days\n            break;\n          case ''Qualification'':\n            daysInPipeline = 60 + Math.random() * 30; // 60-90 days\n            break;\n          case ''Proposal'':\n            daysInPipeline = 30 + Math.random() * 30; // 30-60 days\n            break;\n          case ''Negotiation'':\n            daysInPipeline = 15 + Math.random() * 15; // 15-30 days\n            break;\n          case ''Closed Won'':\n          case ''Closed Lost'':\n            // For closed deals, calculate based on close date\n            const now = new Date();\n            const daysSinceClosed = Math.floor((now - closeDate) / (1000 * 60 * 60 * 24));\n            daysInPipeline = Math.max(5, Math.min(120, daysSinceClosed)); // Cap between 5-120 days\n            break;\n          default:\n            daysInPipeline = 30;\n        }\n        \n        return Math.floor(daysInPipeline);\n      });\n      \n      // Calculate statistics for this stage\n      if (durations.length > 0) {\n        velocityData[stage] = {\n          ''Average Duration'': {\n            mean: ss.mean(durations),\n            median: ss.median(durations),\n            min: ss.min(durations),\n            max: ss.max(durations),\n            count: durations.length,\n            stdev: durations.length > 1 ? ss.standardDeviation(durations) : 0\n          }\n        };\n      }\n    });\n    \n    return velocityData;\n  };\n\n  const renderHeatmap = () => {\n    // Heatmap is rendered inline using the VelocityHeatmap sub-component\n    // This function is kept for backward compatibility but is no longer used\n  };\n\n  const renderTrendChart = () => {\n    // Trend chart is now rendered using the DealVelocityTrendChart sub-component\n    // This function is kept for backward compatibility but is no longer used\n  };\n\n  const renderDistribution = () => {\n    // Distribution chart is now rendered using the DealVelocityDistributionChart sub-component\n    // This function is kept for backward compatibility but is no longer used\n  };\n\n  // Prepare data for export\n  const prepareExportData = () => {\n    const velocityData = calculateVelocityData();\n    const exportData = [];\n    \n    // Add stage velocity metrics\n    stages.forEach(stage => {\n      const stageDeals = deals.filter(d => d.Stage === stage);\n      const totalValue = stageDeals.reduce((sum, deal) => sum + (deal.Amount || 0), 0);\n      const avgDealSize = stageDeals.length > 0 ? totalValue / stageDeals.length : 0;\n      \n      if (velocityData[stage] && velocityData[stage][''Average Duration'']) {\n        const metrics = velocityData[stage][''Average Duration''];\n        exportData.push({\n          Stage: stage,\n          DealCount: metrics.count || 0,\n          AvgDays: Math.round(metrics.mean) || 0,\n          MedianDays: Math.round(metrics.median) || 0,\n          MinDays: Math.round(metrics.min) || 0,\n          MaxDays: Math.round(metrics.max) || 0,\n          StdDev: Math.round(metrics.stdev) || 0,\n          TotalValue: Math.round(totalValue),\n          AvgDealSize: Math.round(avgDealSize)\n        });\n      } else {\n        exportData.push({\n          Stage: stage,\n          DealCount: 0,\n          AvgDays: 0,\n          MedianDays: 0,\n          MinDays: 0,\n          MaxDays: 0,\n          StdDev: 0,\n          TotalValue: 0,\n          AvgDealSize: 0\n        });\n      }\n    });\n    \n    // Add summary metrics\n    const totalDeals = deals.length;\n    const totalValue = deals.reduce((sum, deal) => sum + (deal.Amount || 0), 0);\n    const avgValue = totalDeals > 0 ? totalValue / totalDeals : 0;\n    \n    exportData.push({\n      Stage: ''SUMMARY'',\n      DealCount: totalDeals,\n      TotalValue: Math.round(totalValue),\n      AvgDealSize: Math.round(avgValue)\n    });\n    \n    return exportData;\n  };\n\n  // Define export columns with correct key/label format\n  const getExportColumns = () => {\n    return [\n      { key: ''Stage'', label: ''Stage'' },\n      { key: ''DealCount'', label: ''Deal Count'' },\n      { key: ''AvgDays'', label: ''Avg Days'' },\n      { key: ''MedianDays'', label: ''Median Days'' },\n      { key: ''MinDays'', label: ''Min Days'' },\n      { key: ''MaxDays'', label: ''Max Days'' },\n      { key: ''StdDev'', label: ''Std Dev'' },\n      { key: ''TotalValue'', label: ''Total Value'' },\n      { key: ''AvgDealSize'', label: ''Avg Deal Size'' }\n    ];\n  };\n\n\n  const calculateSummaryMetrics = () => {\n    const totalDeals = deals.length;\n    \n    // Calculate average velocity based on closed deals\n    const closedDeals = deals.filter(d => d.Stage === ''Closed Won'' || d.Stage === ''Closed Lost'');\n    const avgVelocity = closedDeals.length > 0 ? \n      closedDeals.reduce((sum, deal) => {\n        // Simulate pipeline duration based on close date\n        const closeDate = deal.ActualCloseDate ? new Date(deal.ActualCloseDate) : new Date();\n        const simulatedDuration = 30 + Math.random() * 60; // 30-90 days average\n        return sum + simulatedDuration;\n      }, 0) / closedDeals.length : 45; // Default to 45 days\n    \n    // Find fastest closed deal\n    const fastestDeal = closedDeals.length > 0 ?\n      Math.round(Math.min(...closedDeals.map(() => 15 + Math.random() * 15)) * 10) / 10 : 15; // 15-30 days for fastest, rounded to 1 decimal\n    \n    // Find bottleneck stage based on velocity data\n    const velocityData = calculateVelocityData();\n    const bottleneckStage = stages.reduce((slowest, stage) => {\n      if (velocityData[stage] && velocityData[stage][''Average Duration'']) {\n        const avgDays = velocityData[stage][''Average Duration''].mean;\n        \n        if (!slowest || avgDays > slowest.days) {\n          return { stage, days: avgDays };\n        }\n      }\n      return slowest;\n    }, null);\n    \n    return { totalDeals, avgVelocity, fastestDeal, bottleneckStage };\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading velocity metrics...</div>\n      </div>\n    );\n  }\n\n  const summaryMetrics = calculateSummaryMetrics();\n\n  return (\n    <div style={{ backgroundColor: ''#F3F4F6'', minHeight: ''100vh'', width: ''100%'', boxSizing: ''border-box'', padding: ''20px'' }}>\n      <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'', marginBottom: ''20px'' }}>\n        <h2 style={{ margin: 0, fontSize: ''24px'', fontWeight: ''bold'' }}>Deal Velocity Metrics</h2>\n      </div>\n      \n      {/* Enhanced Filter Controls */}\n      <div style={{ \n          backgroundColor: ''white'', \n          borderRadius: ''8px'', \n          padding: ''16px'', \n          marginBottom: ''20px'',\n          border: ''1px solid #E5E7EB'',\n          maxWidth: ''800px''\n      }}>\n        <div style={{ display: ''flex'', gap: ''16px'', alignItems: ''center'', flexWrap: ''wrap'' }}>\n            {/* Preset/Custom Toggle */}\n            <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n              <label style={{ fontSize: ''14px'', color: ''#374151'' }}>\n                <input\n                  type=\"radio\"\n                  checked={!useCustomDates}\n                  onChange={() => {\n                    setUseCustomDates(false);\n                    if (onSaveUserSettings) {\n                      onSaveUserSettings({ \n                        viewMode,\n                        timeRange,\n                        useCustomDates: false,\n                        startDate,\n                        endDate\n                      });\n                    }\n                  }}\n                  style={{ marginRight: ''4px'' }}\n                />\n                Preset Range\n              </label>\n              <label style={{ fontSize: ''14px'', color: ''#374151'' }}>\n                <input\n                  type=\"radio\"\n                  checked={useCustomDates}\n                  onChange={() => {\n                    setUseCustomDates(true);\n                    if (onSaveUserSettings) {\n                      onSaveUserSettings({ \n                        viewMode,\n                        timeRange,\n                        useCustomDates: true,\n                        startDate,\n                        endDate\n                      });\n                    }\n                  }}\n                  style={{ marginRight: ''4px'' }}\n                />\n                Custom Range\n              </label>\n            </div>\n            \n            {/* Preset Dropdown */}\n            {!useCustomDates && (\n              <select\n                value={timeRange}\n                onChange={(e) => {\n                  setTimeRange(e.target.value);\n                  if (onSaveUserSettings) {\n                    onSaveUserSettings({ \n                      viewMode,\n                      timeRange: e.target.value,\n                      useCustomDates,\n                      startDate,\n                      endDate\n                    });\n                  }\n                }}\n                style={{\n                  padding: ''6px 12px'',\n                  border: ''1px solid #D1D5DB'',\n                  borderRadius: ''6px'',\n                  fontSize: ''14px''\n                }}\n              >\n                <option value=\"7\">Last 7 Days</option>\n                <option value=\"30\">Last 30 Days</option>\n                <option value=\"90\">Last 90 Days</option>\n                <option value=\"thisYear\">This Year</option>\n                <option value=\"lastYear\">Last Year</option>\n                <option value=\"allTime\">All Time</option>\n              </select>\n            )}\n            \n            {/* Custom Date Range */}\n            {useCustomDates && (\n              <>\n                <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n                  <label style={{ fontSize: ''14px'', color: ''#6B7280'' }}>From:</label>\n                  <input\n                    type=\"date\"\n                    value={startDate}\n                    onChange={(e) => {\n                      setStartDate(e.target.value);\n                      if (onSaveUserSettings) {\n                        onSaveUserSettings({ \n                          viewMode,\n                          timeRange,\n                          useCustomDates,\n                          startDate: e.target.value,\n                          endDate\n                        });\n                      }\n                    }}\n                    style={{\n                      padding: ''6px 12px'',\n                      border: ''1px solid #D1D5DB'',\n                      borderRadius: ''6px'',\n                      fontSize: ''14px''\n                    }}\n                  />\n                </div>\n                <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n                  <label style={{ fontSize: ''14px'', color: ''#6B7280'' }}>To:</label>\n                  <input\n                    type=\"date\"\n                    value={endDate}\n                    onChange={(e) => {\n                      setEndDate(e.target.value);\n                      if (onSaveUserSettings) {\n                        onSaveUserSettings({ \n                          viewMode,\n                          timeRange,\n                          useCustomDates,\n                          startDate,\n                          endDate: e.target.value\n                        });\n                      }\n                    }}\n                    style={{\n                      padding: ''6px 12px'',\n                      border: ''1px solid #D1D5DB'',\n                      borderRadius: ''6px'',\n                      fontSize: ''14px''\n                    }}\n                  />\n                </div>\n              </>\n            )}\n            \n            {/* Quick Date Presets for Custom Mode */}\n            {useCustomDates && (\n              <div style={{ display: ''flex'', gap: ''4px'' }}>\n                <button\n                  onClick={() => {\n                    const start = dayjs().subtract(7, ''day'').format(''YYYY-MM-DD'');\n                    const end = dayjs().format(''YYYY-MM-DD'');\n                    setStartDate(start);\n                    setEndDate(end);\n                    if (onSaveUserSettings) {\n                      onSaveUserSettings({ \n                        viewMode,\n                        timeRange,\n                        useCustomDates,\n                        startDate: start,\n                        endDate: end\n                      });\n                    }\n                  }}\n                  style={{\n                    padding: ''4px 8px'',\n                    fontSize: ''12px'',\n                    backgroundColor: ''#F3F4F6'',\n                    border: ''1px solid #D1D5DB'',\n                    borderRadius: ''4px'',\n                    cursor: ''pointer''\n                  }}\n                >\n                  Last 7d\n                </button>\n                <button\n                  onClick={() => {\n                    const start = dayjs().subtract(30, ''day'').format(''YYYY-MM-DD'');\n                    const end = dayjs().format(''YYYY-MM-DD'');\n                    setStartDate(start);\n                    setEndDate(end);\n                    if (onSaveUserSettings) {\n                      onSaveUserSettings({ \n                        viewMode,\n                        timeRange,\n                        useCustomDates,\n                        startDate: start,\n                        endDate: end\n                      });\n                    }\n                  }}\n                  style={{\n                    padding: ''4px 8px'',\n                    fontSize: ''12px'',\n                    backgroundColor: ''#F3F4F6'',\n                    border: ''1px solid #D1D5DB'',\n                    borderRadius: ''4px'',\n                    cursor: ''pointer''\n                  }}\n                >\n                  Last 30d\n                </button>\n                <button\n                  onClick={() => {\n                    const start = dayjs().startOf(''month'').format(''YYYY-MM-DD'');\n                    const end = dayjs().endOf(''month'').format(''YYYY-MM-DD'');\n                    setStartDate(start);\n                    setEndDate(end);\n                    if (onSaveUserSettings) {\n                      onSaveUserSettings({ \n                        viewMode,\n                        timeRange,\n                        useCustomDates,\n                        startDate: start,\n                        endDate: end\n                      });\n                    }\n                  }}\n                  style={{\n                    padding: ''4px 8px'',\n                    fontSize: ''12px'',\n                    backgroundColor: ''#F3F4F6'',\n                    border: ''1px solid #D1D5DB'',\n                    borderRadius: ''4px'',\n                    cursor: ''pointer''\n                  }}\n                >\n                  This Month\n                </button>\n                <button\n                  onClick={() => {\n                    const start = dayjs().subtract(1, ''month'').startOf(''month'').format(''YYYY-MM-DD'');\n                    const end = dayjs().subtract(1, ''month'').endOf(''month'').format(''YYYY-MM-DD'');\n                    setStartDate(start);\n                    setEndDate(end);\n                    if (onSaveUserSettings) {\n                      onSaveUserSettings({ \n                        viewMode,\n                        timeRange,\n                        useCustomDates,\n                        startDate: start,\n                        endDate: end\n                      });\n                    }\n                  }}\n                  style={{\n                    padding: ''4px 8px'',\n                    fontSize: ''12px'',\n                    backgroundColor: ''#F3F4F6'',\n                    border: ''1px solid #D1D5DB'',\n                    borderRadius: ''4px'',\n                    cursor: ''pointer''\n                  }}\n                >\n                  Last Month\n                </button>\n              </div>\n            )}\n          </div>\n          \n          {/* Date Range Summary */}\n          <div style={{ marginTop: ''12px'', fontSize: ''12px'', color: ''#6B7280'' }}>\n            {useCustomDates ? (\n              <span>Showing data from {dayjs(startDate).format(''MMM D, YYYY'')} to {dayjs(endDate).format(''MMM D, YYYY'')}</span>\n            ) : (\n              <span>\n                {timeRange === ''7'' && ''Showing data from the last 7 days''}\n                {timeRange === ''30'' && ''Showing data from the last 30 days''}\n                {timeRange === ''90'' && ''Showing data from the last 90 days''}\n                {timeRange === ''thisYear'' && `Showing data from $' + '{dayjs().year()}`}\n                {timeRange === ''lastYear'' && `Showing data from $' + '{dayjs().year() - 1}`}\n                {timeRange === ''allTime'' && ''Showing all available data''}\n              </span>\n            )}\n        </div>\n      </div>\n      \n      <div style={{ display: ''grid'', gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'', gap: ''12px'', marginBottom: ''20px'' }}>\n          <div \n            style={{ \n              padding: ''16px'', \n              backgroundColor: ''white'', \n              borderRadius: ''8px'', \n              border: ''1px solid #E5E7EB'',\n              cursor: ''pointer'',\n              transition: ''box-shadow 0.2s'',\n              '':hover'': { boxShadow: ''0 4px 6px rgba(0, 0, 0, 0.1)'' }\n            }}\n            onClick={() => {\n              const avgDeals = deals.filter(d => d.Stage !== ''Closed Lost'');\n              setDrillDownDeals(avgDeals);\n              setDrillDownTitle(''All Pipeline Deals'');\n            }}\n          >\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Avg Velocity</div>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'' }}>\n              {summaryMetrics.avgVelocity.toFixed(0)} days\n            </div>\n          </div>\n          <div \n            style={{ \n              padding: ''16px'', \n              backgroundColor: ''white'', \n              borderRadius: ''8px'', \n              border: ''1px solid #E5E7EB'',\n              cursor: ''pointer'',\n              transition: ''box-shadow 0.2s''\n            }}\n            onClick={() => {\n              const closedWonDeals = deals.filter(d => d.Stage === ''Closed Won'');\n              setDrillDownDeals(closedWonDeals);\n              setDrillDownTitle(''Closed Won Deals'');\n            }}\n          >\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Fastest Deal</div>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#10B981'' }}>\n              {summaryMetrics.fastestDeal} days\n            </div>\n          </div>\n          <div \n            style={{ \n              padding: ''16px'', \n              backgroundColor: ''white'', \n              borderRadius: ''8px'', \n              border: ''1px solid #E5E7EB'',\n              cursor: ''pointer'',\n              transition: ''box-shadow 0.2s''\n            }}\n            onClick={() => {\n              if (summaryMetrics.bottleneckStage) {\n                const stageDeals = deals.filter(d => d.Stage === summaryMetrics.bottleneckStage.stage);\n                setDrillDownDeals(stageDeals);\n                setDrillDownTitle(`$' + '{summaryMetrics.bottleneckStage.stage} Stage Deals`);\n              }\n            }}\n          >\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Bottleneck Stage</div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#EF4444'' }}>\n              {summaryMetrics.bottleneckStage?.stage || ''N/A''}\n            </div>\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n              {summaryMetrics.bottleneckStage ? `$' + '{summaryMetrics.bottleneckStage.days?.toFixed(0) || ''0''} days avg` : ''''}\n            </div>\n          </div>\n          <div \n            style={{ \n              padding: ''16px'', \n              backgroundColor: ''white'', \n              borderRadius: ''8px'', \n              border: ''1px solid #E5E7EB'',\n              cursor: ''pointer'',\n              transition: ''box-shadow 0.2s''\n            }}\n            onClick={() => {\n              setDrillDownDeals(deals);\n              setDrillDownTitle(''All Deals'');\n            }}\n          >\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Active Deals</div>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'' }}>\n              {summaryMetrics.totalDeals}\n            </div>\n          </div>\n      </div>\n      \n      <div style={{ backgroundColor: ''white'', borderRadius: ''8px'', padding: ''16px'', border: ''1px solid #E5E7EB'' }}>\n          <div style={{ display: ''flex'', gap: ''8px'', marginBottom: ''16px'', justifyContent: ''space-between'' }}>\n            <div style={{ display: ''flex'', gap: ''8px'' }}>\n              <button\n                onClick={() => {\n                  setViewMode(''heatmap'');\n                if (onSaveUserSettings) {\n                  onSaveUserSettings({ \n                    viewMode: ''heatmap'',\n                    timeRange,\n                    useCustomDates,\n                    startDate,\n                    endDate\n                  });\n                }\n              }}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: viewMode === ''heatmap'' ? ''#8B5CF6'' : ''#F3F4F6'',\n                color: viewMode === ''heatmap'' ? ''white'' : ''#374151'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: ''pointer''\n              }}\n            >\n              Heatmap\n            </button>\n            <button\n              onClick={() => {\n                setViewMode(''trend'');\n                if (onSaveUserSettings) {\n                  onSaveUserSettings({ \n                    viewMode: ''trend'',\n                    timeRange,\n                    useCustomDates,\n                    startDate,\n                    endDate\n                  });\n                }\n              }}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: viewMode === ''trend'' ? ''#8B5CF6'' : ''#F3F4F6'',\n                color: viewMode === ''trend'' ? ''white'' : ''#374151'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: ''pointer''\n              }}\n            >\n              Trend\n            </button>\n            <button\n              onClick={() => {\n                setViewMode(''distribution'');\n                if (onSaveUserSettings) {\n                  onSaveUserSettings({ \n                    viewMode: ''distribution'',\n                    timeRange,\n                    useCustomDates,\n                    startDate,\n                    endDate\n                  });\n                }\n              }}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: viewMode === ''distribution'' ? ''#8B5CF6'' : ''#F3F4F6'',\n                color: viewMode === ''distribution'' ? ''white'' : ''#374151'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: ''pointer''\n              }}\n            >\n              Distribution\n            </button>\n            </div>\n            {DataExportPanel && (\n              <DataExportPanel\n                data={prepareExportData()}\n                columns={getExportColumns()}\n                filename={`deal-velocity-metrics-$' + '{new Date().toISOString().split(''T'')[0]}`}\n                formats={[''csv'', ''excel'', ''pdf'']}\n                buttonStyle=\"dropdown\"\n                buttonText=\"Export\"\n                icon=\"fa-download\"\n                customStyles={{\n                  button: {\n                    padding: ''6px 12px'',\n                    backgroundColor: ''#10B981'',\n                    color: ''white'',\n                    border: ''none'',\n                    borderRadius: ''6px'',\n                    cursor: ''pointer'',\n                    fontSize: ''14px'',\n                    display: ''inline-flex'',\n                    alignItems: ''center'',\n                    gap: ''4px''\n                  }\n                }}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n              />\n            )}\n          </div>\n          \n          {viewMode === ''heatmap'' && (\n            <VelocityHeatmap\n              deals={deals}\n              stages={stages}\n              onDrillDown={(stageDeals, title) => {\n                setDrillDownDeals(stageDeals);\n                setDrillDownTitle(title);\n              }}\n              styles={styles}\n              utilities={utilities}\n              components={components}\n            />\n          )}\n          {viewMode === ''trend'' && DealVelocityTrendChart && (\n            <DealVelocityTrendChart\n              deals={deals}\n              stages={stages}\n              timeRange={useCustomDates ?\n                Math.floor((new Date(endDate) - new Date(startDate)) / (1000 * 60 * 60 * 24)) :\n                parseInt(timeRange === ''allTime'' ? ''365'' : timeRange === ''thisYear'' || timeRange === ''lastYear'' ? ''365'' : timeRange)\n              }\n              onDrillDown={(stageDeals, title) => {\n                setDrillDownDeals(stageDeals);\n                setDrillDownTitle(title);\n              }}\n              styles={styles}\n              utilities={utilities}\n              components={components}\n            />\n          )}\n          {viewMode === ''distribution'' && DealVelocityDistributionChart && (\n            <DealVelocityDistributionChart\n              deals={deals}\n              stages={stages}\n              onDrillDown={(stageDeals, title) => {\n                setDrillDownDeals(stageDeals);\n                setDrillDownTitle(title);\n              }}\n              styles={styles}\n              utilities={utilities}\n              components={components}\n            />\n          )}\n      </div>\n      \n      {/* Drill-down Deals Table */}\n      {drillDownDeals && (\n        <DealsTable\n          deals={drillDownDeals}\n          title={drillDownTitle}\n          onClose={() => setDrillDownDeals(null)}\n          sortConfig={sortConfig}\n          setSortConfig={setSortConfig}\n          callbacks={callbacks}\n          styles={styles}\n          utilities={utilities}\n          components={components}\n        />\n      )}\n    </div>\n  );\n}\n","functionalRequirements":"## Deal Velocity Metrics\n\n### Purpose\nAnalyze and visualize the speed of deals through the sales pipeline with detailed stage-by-stage metrics.\n\n### Core Features\n- **Stage Duration Analysis**: Time spent in each stage\n- **Bottleneck Detection**: Identify slow-moving stages\n- **Trend Analysis**: Historical velocity changes\n- **Rep Comparison**: Compare velocity across team\n- **Cohort Analysis**: Group deals by characteristics\n- **Interactive Heatmap**: Using ECharts for visualization\n- **Slide-out Details**: Deep dive into specific metrics\n- **Export Capabilities**: Download metrics as CSV\n- **Advanced Filtering**: \n  - Preset date ranges (7/30/90 days, this year, last year, all time)\n  - Custom date range picker with start and end dates\n  - Quick preset buttons for custom mode\n  - Date range summary display\n\n### Visualizations\n- Heatmap showing stage durations\n- Line charts for trend analysis\n- Box plots for distribution\n- Comparison matrices","dataRequirements":{"mode":"views","entities":[{"name":"Deals","displayFields":["DealName","Stage","Amount","Probability","CloseDate","ActualCloseDate","__mj_CreatedAt","__mj_UpdatedAt"],"filterFields":["Stage","ActualCloseDate","CloseDate"],"sortFields":["ActualCloseDate","CloseDate","Amount","__mj_CreatedAt"]}]},"technicalDesign":"## Implementation\n\n### Components\n- Main: DealVelocityMetrics\n- Sub-components:\n  - VelocityHeatmap: Stage duration visualization\n  - TrendChart: Historical trends\n  - RepComparison: Team performance\n  - MetricsExport: CSV export functionality\n\n### Data Processing\n- Calculate stage durations\n- Identify outliers and bottlenecks\n- Generate cohort groupings\n- Statistical analysis","properties":[],"events":[],"dependencies":[{"name":"DealVelocityTrendChart","location":"registry","namespace":"CRM/Analytics","version":"^1.0.0"},{"name":"DealVelocityDistributionChart","location":"registry","namespace":"CRM/Analytics","version":"^1.0.0"},{"name":"VelocityHeatmap","location":"registry","namespace":"CRM/Analytics","version":"^1.0.0"},{"name":"DealsTable","location":"registry","namespace":"CRM/Analytics","version":"^1.0.0"},{"name":"DataExportPanel","location":"registry","namespace":"Generic/UI/Export","version":"^1.0.0"}],"libraries":[{"name":"simple-statistics","version":"^7.8.3","globalVariable":"ss"},{"name":"dayjs","version":"^1.11.10","globalVariable":"dayjs"}],"description":"Analyze and visualize the speed of deals through the sales pipeline with detailed stage-by-stage metrics"}'
SET
  @FunctionalRequirements_c5a19edb = N'## Deal Velocity Metrics

### Purpose
Analyze and visualize the speed of deals through the sales pipeline with detailed stage-by-stage metrics.

### Core Features
- **Stage Duration Analysis**: Time spent in each stage
- **Bottleneck Detection**: Identify slow-moving stages
- **Trend Analysis**: Historical velocity changes
- **Rep Comparison**: Compare velocity across team
- **Cohort Analysis**: Group deals by characteristics
- **Interactive Heatmap**: Using ECharts for visualization
- **Slide-out Details**: Deep dive into specific metrics
- **Export Capabilities**: Download metrics as CSV
- **Advanced Filtering**: 
  - Preset date ranges (7/30/90 days, this year, last year, all time)
  - Custom date range picker with start and end dates
  - Quick preset buttons for custom mode
  - Date range summary display

### Visualizations
- Heatmap showing stage durations
- Line charts for trend analysis
- Box plots for distribution
- Comparison matrices'
SET
  @TechnicalDesign_c5a19edb = N'## Implementation

### Components
- Main: DealVelocityMetrics
- Sub-components:
  - VelocityHeatmap: Stage duration visualization
  - TrendChart: Historical trends
  - RepComparison: Team performance
  - MetricsExport: CSV export functionality

### Data Processing
- Calculate stage durations
- Identify outliers and bottlenecks
- Generate cohort groupings
- Statistical analysis'
SET
  @FunctionalRequirementsVector_c5a19edb = N'[-0.019619150087237358,0.008382844738662243,-0.040853165090084076,-0.09187394380569458,0.005679827183485031,-0.019579296931624413,0.004926018882542849,0.000675360148306936,-0.059972479939460754,0.0049516987055540085,-0.025805074721574783,0.01926203817129135,0.015416146256029606,0.1599976122379303,-0.05574154853820801,-0.06448334455490112,-0.025171641260385513,-0.0031630967278033495,0.02332705818116665,0.025191569700837135,0.04061611741781235,-0.0267889853566885,-0.010284102521836758,0.022741658613085747,-0.02852875180542469,-0.031502123922109604,-0.0010951727163046598,-0.013473132625222206,0.03536778315901756,-0.11076392233371735,-0.0025892280973494053,0.021135753020644188,-0.010158661752939224,0.016822539269924164,0.000002408488626315375,-0.018554290756583214,-0.03530557081103325,-0.014149137772619724,-0.03345149755477905,0.07832317799329758,0.09602406620979309,-0.06406858563423157,0.008859610185027122,0.02108987234532833,-0.006391105242073536,-0.03723432496190071,-0.04699055477976799,-0.02922423556447029,-0.0020634832326322794,-0.005832514725625515,-0.007956464774906635,0.03748299553990364,-0.06255996227264404,-0.019497133791446686,-0.04214688017964363,-0.0643695741891861,-0.03133375197649002,-0.08261217921972275,0.02103310450911522,-0.05267656221985817,-0.046046867966651917,-0.01323679368942976,0.008519690483808517,-0.05984225869178772,0.08435143530368805,0.051445357501506805,0.03808918222784996,-0.014179283753037453,-0.03768966346979141,-0.007009912747889757,0.036715131253004074,0.022796932607889175,-0.020170457661151886,-0.03466889262199402,-0.014301533810794353,-0.060809891670942307,-0.029958343133330345,-0.0017542869318276644,0.017373589798808098,-0.03343700245022774,-0.13168536126613617,0.07935421168804169,-0.0443219318985939,-0.03457312658429146,0.019255051389336586,-0.04044076427817345,-0.003881101030856371,0.003108945908024907,-0.012064695358276367,-0.022825095802545547,0.042438849806785583,-0.034875642508268356,0.013378473930060863,0.001573521876707673,-0.061820242553949356,-0.015065656043589115,0.06360618025064468,-0.01580648496747017,0.014853625558316708,-0.023114226758480072,0.019116517156362534,-0.004242071881890297,0.05574387311935425,0.03501639887690544,0.0457790307700634,0.005714168772101402,0.007017266005277634,-0.06330309808254242,-0.037234608083963394,0.026252955198287964,-0.0011465917341411114,0.008377805352210999,0.0022703479044139385,-0.024129856377840042,-0.006474207621067762,0.004904957953840494,-0.08907651156187057,-0.033060040324926376,-0.028747746720910072,0.023290684446692467,0.08784842491149902,-0.0006822904106229544,0.019367031753063202,0.03199395164847374,-0.04044509679079056,0.019080594182014465,-0.0803709551692009,-0.0059056757017970085,-0.014129437506198883,0.05794742703437805,-0.01792016625404358,-0.019498080015182495,0.0001375344581902027,-0.02293391153216362,-0.0016141043743118644,0.010709921829402447,-0.007674536667764187,0.038339763879776,-0.013410807587206364,-0.004069225862622261,0.023494254797697067,0.002845974639058113,-0.04446939751505852,0.022287555038928986,0.004681114573031664,-0.017444241791963577,-0.03828122839331627,0.06488091498613358,-0.007862015627324581,0.01044643484055996,0.0072777606546878815,-0.013830947689712048,-0.010820104740560055,0.047559954226017,-0.008908672258257866,-0.024466851726174355,-0.004653396084904671,-0.024680092930793762,0.018087048083543777,0.033550865948200226,-0.002851231023669243,-0.04024820402264595,0.023463936522603035,0.016514871269464493,-0.02499564364552498,0.031171070411801338,-0.04783310741186142,-0.007119763642549515,-0.014547143131494522,-0.028518060222268105,0.020961681380867958,-0.05249808356165886,-0.021517885848879814,0.015143889002501965,0.02378365769982338,-0.029976844787597656,0.06632044911384583,-0.05898746848106384,0.027948830276727676,0.002901111962273717,-0.0015247917035594583,-0.14346326887607574,0.04675285890698433,0.038808271288871765,0.08893273770809174,-0.005636899266391993,-0.05675962567329407,0.046117737889289856,-0.014873509295284748,0.03678164258599281,0.0012429453199729323,0.04428776726126671,-0.016042305156588554,0.022845931351184845,-0.01696416176855564,-0.0037448068615049124,-0.009827465750277042,-0.04758254066109657,0.01609489694237709,0.02457546815276146,-0.047896116971969604,0.03589451313018799,-0.044756725430488586,-0.020222099497914314,0.010300670750439167,0.01682710275053978,-0.008598243817687035,-0.022695519030094147,-0.0485832542181015,0.022159239277243614,0.003963058814406395,0.014664494432508945,-0.08220672607421875,0.022190168499946594,-0.020922046154737473,0.018613995984196663,0.005284545943140984,0.018427876755595207,-0.01595374569296837,0.001563039724715054,-0.020410891622304916,0.013027677312493324,0.029248038306832314,0.008734854869544506,0.07537854462862015,0.07360398024320602,0.03631999343633652,-0.0073540122248232365,0.02815556712448597,-0.0017976596718654037,-0.0044324202463030815,-0.010404596105217934,0.016334205865859985,0.009755313396453857,0.055839214473962784,0.11814809590578079,0.10461334139108658,0.13465909659862518,-0.0034406238701194525,0.06575323641300201,-0.01754816062748432,-0.044160857796669006,-0.013300269842147827,0.007603679317981005,-0.002203934360295534,-0.0023521650582551956,-0.0913153812289238,0.029608532786369324,0.028605898842215538,-0.041844625025987625,0.030204754322767258,0.027423277497291565,0.043678946793079376,0.012706371024250984,-0.0024510917719453573,0.010148624889552593,-0.05938652157783508,0.010799610055983067,0.07876261323690414,0.0904574990272522,-0.0015791967744007707,-0.011357352137565613,-0.057690903544425964,-0.008430666290223598,0.017063209787011147,-0.04589833691716194,0.05139485374093056,0.004954239819198847,-0.0040802378207445145,0.03272217884659767,0.00043697201181203127,0.010381337255239487,-0.025443749502301216,0.008396167308092117,-0.02078244835138321,0.03643619269132614,-0.016032209619879723,0.028438447043299675,-0.03795924037694931,-0.030554285272955894,0.0096585089340806,-0.06926300376653671,0.005282181780785322,0.04118680581450462,-0.0031762041617184877,0.020563745871186256,0.061796728521585464,-0.018499230965971947,-0.020469235256314278,-0.02934669516980648,0.009477552026510239,-0.04666481539607048,0.002093251096084714,-0.02177845500409603,-0.04600350186228752,0.0272759348154068,-0.0108711626380682,0.013601821847259998,0.010399986989796162,0.006307199131697416,-0.008833334781229496,-0.07425408810377121,-0.00011152510705869645,0.00870631542056799,-0.015130284242331982,0.043546389788389206,0.03266490623354912,0.009364605881273746,0.02786603383719921,0.047682467848062515,0.006819901987910271,-0.012570234946906567,-0.0023934736382216215,-0.01553619746118784,-0.007221660576760769,-0.00007171415199991316,0.01779123581945896,0.022884586825966835,-0.013852393254637718,0.05199936404824257,0.001372465630993247,-0.029832378029823303,-0.036931492388248444,0.015175728127360344,-0.0032959007658064365,-0.011779098771512508,-0.029552055522799492,-0.045094650238752365,-0.06167616695165634,-0.0242900550365448,-0.01942463032901287,-0.03460298478603363,-0.03299315273761749,0.0168414656072855,0.022891316562891006,0.033558089286088943,-0.00875714048743248,-0.018423041328787804,-0.0031485205981880426,-0.017384398728609085,-0.02016437239944935,0.026369772851467133,-0.031665507704019547,0.007343159522861242,0.013886505737900734,0.0012640351196750998,0.09039407223463058,-0.023829728364944458,-0.07274528592824936,0.026163283735513687,0.025461388751864433,0.038731805980205536,-0.006303966976702213,-0.04938102886080742,0.013853689655661583,-0.03747086226940155,-0.05803345516324043,-0.02416754700243473,0.01571793481707573,-0.08094887435436249,0.04431843012571335,0.019534790888428688,0.022505853325128555,0.030331920832395554,-0.025048188865184784,0.007089035585522652,-0.03144042566418648,0.0017329803667962551,0.0692252665758133,0.007180295418947935,0.004216551780700684,0.028014125302433968,0.020002689212560654,-0.005944329779595137,-0.01583556830883026,-0.0530855692923069,0.050734613090753555,0.02722584642469883,0.04556656256318092,-0.00037868975778110325,0.03336990997195244,0.01486818864941597,0.09264619648456573,-0.029379021376371384,0.0646188035607338,-0.018064893782138824,-0.026248598471283913,-0.029936250299215317,-0.04132924973964691,0.024965493008494377,-0.0065239183604717255,0.01146057341247797,0.04501166194677353,-0.01486452016979456,-0.006846876349300146,0.009531853720545769,0.01243714801967144,0.00441317493095994,-0.000015920621081022546,0.0056908526457846165,-0.011508611030876637,-0.04254991561174393,-0.004312742967158556,-0.0017121932469308376,0.0013138523790985346,-0.04287426918745041,-0.04896257445216179,0.015269754454493523,-0.006691227667033672,0.022806253284215927,-0.04037558287382126,0.040754519402980804,0.008383744396269321,-0.0011234506964683533,0.03645988181233406,0.04937126860022545,-0.002440327312797308,0.029386993497610092,0.006853139493614435,0.014927721582353115,0.03708997741341591,0.05224243551492691,0.0327107235789299,0.01290049310773611,0.009056052193045616,-0.009076833724975586,0.021009519696235657,-0.0985741913318634,-0.00041328705265186727,-0.009920542128384113,-0.041842855513095856,0.017922425642609596,0.0058936127461493015,0.030896106734871864,-0.03185327351093292,-0.05003116652369499,0.04926077648997307,-0.017090240493416786,-0.041459303349256516,-0.013048343360424042,-0.006660160608589649,0.04678616672754288,0.0524861179292202,-0.0041398280300199986,0.04888968542218208,-0.03057369962334633,0.003873546374961734,0.020305488258600235,-0.017634395509958267,0.008898801170289516,0.03151597082614899,-0.05298757553100586,0.051492903381586075,-0.03376678004860878,0.04069391265511513,-0.01725255697965622,0.03592247515916824,-0.08346474170684814,0.01169571839272976,-0.0379144623875618,0.010940343141555786,0.008088918402791023,-0.037242989987134933,0.03634180501103401,-0.009695261716842651,-0.046376023441553116,-0.038639165461063385,-0.055418841540813446,-0.033792734146118164,-0.053351204842329025,0.026418304070830345,-0.019133564084768295,-0.054177358746528625,0.025991562753915787,0.04291687533259392,0.026841217651963234,0.011515284888446331,0.02257942222058773,0.05570889636874199,0.016949666664004326,-0.025183673948049545,0.013956233859062195,0.012531274929642677,-0.0792633667588234,0.001865714555606246,0.018069252371788025,-0.01890108920633793,0.006375356111675501,-0.002678248332813382,-0.045812081545591354,0.020658498629927635,-0.04902152717113495,-0.018404727801680565,0.0822988823056221,0.019385578110814095,-0.03437044098973274,-0.03135761618614197,0.0254659540951252,0.007974022999405861,-0.0019300911808386445,-0.022594457492232323,-0.008978019468486309,0.034002885222435,-0.1034804955124855,-0.02383440174162388,0.018103644251823425,0.03391249477863312,-0.0013463284121826291,-0.015008660033345222,0.029561545699834824,0.03997281566262245,-0.03048725426197052,0.011288737878203392,-0.002509521320462227,0.05731413885951042,-0.025534335523843765,0.004205324687063694,0.03145388513803482,0.01956096477806568,-0.03207319974899292,0.019033223390579224,-0.010710873641073704,-0.034026846289634705,-0.03416097164154053,0.07428241521120071,-0.05918946489691734,0.010284454561769962,-0.025716369971632957,0.031194662675261497,0.0684138834476471,-0.031155601143836975,-0.012665722519159317,-0.03469068557024002,0.0018375430954620242,-0.03643351420760155,0.0388333760201931,0.028043709695339203,0.01467892900109291,0.05405648797750473,0.017463797703385353,-0.046478841453790665,0.028479935601353645,0.04700891301035881,-0.05690081790089607,0.00036826933501288295,-0.0026092007756233215,-0.030346063897013664,-0.026040442287921906,-0.014064713381230831,-0.009922567754983902,0.015656962990760803,-0.040657490491867065,-0.014222483150660992,0.017185360193252563,-0.04935966432094574,-6.995647531019692e-33,0.0024253849405795336,-0.05870429426431656,-0.0140469865873456,-0.005871871951967478,-0.030037829652428627,-0.006132856477051973,0.0459810234606266,-0.0382235050201416,-0.00040451943641528487,0.01577131450176239,-0.04241873323917389,-0.020505521446466446,0.017206259071826935,-0.020292215049266815,0.05128314346075058,0.06674659997224808,0.0235213041305542,-0.02848442643880844,-0.02573496848344803,0.02066071517765522,-0.01480658259242773,0.042216598987579346,0.022856399416923523,-0.01876603253185749,-0.055785100907087326,0.029001470655202866,-0.029635407030582428,0.019524037837982178,0.03970050811767578,0.01767605170607567,0.031028972938656807,-0.03462626039981842,-0.016817456111311913,-0.03669372573494911,-0.016093753278255463,-0.07128371298313141,0.0070742773823440075,0.009310340508818626,-0.019992047920823097,0.004340230021625757,0.06753263622522354,0.013949418440461159,0.014655604027211666,-0.0026200718712061644,-0.000880377076100558,-0.016890939325094223,0.03259146586060524,-0.013520332984626293,-0.029208259657025337,-0.04957752302289009,-0.005964780692011118,0.0253569558262825,-0.025128893554210663,0.05090642720460892,0.034330178052186966,0.09024153649806976,0.010253616608679295,-0.014220246113836765,-0.08385776728391647,0.016541020944714546,-0.021473156288266182,-0.011043500155210495,0.011762231588363647,0.006420646328479052,0.037537381052970886,-0.005864903796464205,-0.01538780890405178,0.04092663899064064,0.05702552571892738,0.008641117252409458,0.014982087537646294,0.03419103845953941,0.005239354912191629,-0.04820067062973976,-0.030277105048298836,0.03897863253951073,0.008787636645138264,0.026486562564969063,0.006351597141474485,0.0731830894947052,-0.003853448899462819,-0.011361952871084213,0.009655752219259739,0.031036779284477234,0.04176873713731766,0.015945618972182274,-0.0030153286643326283,-0.012728989124298096,0.015934450551867485,0.029783235862851143,-0.015114696696400642,-0.03112754411995411,0.002283970359712839,0.05767461284995079,-0.05057366192340851,0.014630838297307491,0.022312017157673836,0.07478603720664978,0.030447278171777725,-0.019941117614507675,0.0008445822168141603,0.04597508907318115,0.01839248090982437,-0.025528613477945328,0.016444668173789978,-0.007741409819573164,0.03608700633049011,-0.03719520568847656,-0.03084641508758068,0.024064095690846443,0.06262211501598358,0.05425296351313591,-0.04469919949769974,-0.04786679893732071,-0.007124502677470446,-0.04005720093846321,-0.01318397931754589,-0.01317580509930849,0.007949328981339931,0.004635464400053024,0.006264695897698402,0.057039376348257065,-0.013464624062180519,0.009087450802326202,0.012690186500549316,0.005434113554656506,0.014940503053367138,-0.06539995968341827,0.04723000153899193,-0.01657550409436226,-0.009051825851202011,-0.01371022593230009,3.244429080950795e-7,0.019101768732070923,0.03406219929456711,-0.031187063083052635,0.10723958909511566,-0.010107112117111683,0.020589342340826988,-0.017484860494732857,-0.03222557157278061,0.013455879874527454,-0.02586352825164795,0.005264678038656712,-0.011272897943854332,-0.007710067089647055,0.05817612260580063,0.03205416724085808,-0.06723091751337051,-0.013740734197199345,-0.04560321941971779,-0.04354608803987503,-0.02580096945166588,0.0062224892899394035,0.0169378574937582,0.04752793908119202,0.02229967527091503,0.017565308138728142,0.06422329694032669,-0.00842798687517643,-0.06341733783483505,-0.016147267073392868,0.046175044029951096,0.050534687936306,-0.0783279612660408,-0.043867457658052444,0.02965794876217842,-0.021371740847826004,0.024339305236935616,-0.028047652915120125,-0.05953638628125191,0.020448796451091766,0.009739442728459835,0.01387700717896223,-0.00584784708917141,-0.021058114245533943,-0.025614067912101746,-0.0036452559288591146,-0.06649496406316757,-0.028677932918071747,-0.04553515464067459,-0.004879735875874758,0.017404118552803993,0.0488869808614254,0.022997234016656876,0.0019174201879650354,0.020328907296061516,0.014142151921987534,0.029832612723112106,0.023074645549058914,0.025686966255307198,0.033000726252794266,0.039305876940488815,-0.008536847308278084,0.0003277783398516476,-0.00015087569772731513,0.029866205528378487,0.015531616285443306,0.030865143984556198,0.011273570358753204,3.7317881917902637e-34,0.01843952015042305,-0.009736024774610996,0.03222294896841049,0.019993042573332787,0.018410731106996536,-0.03566356003284454,0.02779257856309414,-0.01708199642598629,0.005905515514314175,-0.05087391287088394,0.009913761168718338]'
SET
  @TechnicalDesignVector_c5a19edb = N'[-0.016108430922031403,0.01763164810836315,-0.06144409999251366,-0.07607551664113998,0.006550242193043232,0.006926509086042643,-0.008710849098861217,0.02195417881011963,-0.09785933047533035,0.03255435824394226,0.05317297577857971,0.0020820123609155416,0.017731482163071632,0.16996271908283234,-0.003378932597115636,-0.07733352482318878,-0.013911172747612,0.002515373518690467,0.014465780928730965,-0.005607401952147484,0.00710863433778286,-0.012367415241897106,-0.010215743444859982,0.02387041598558426,0.02199462614953518,0.00029587006429210305,-0.0029749718960374594,0.026647180318832397,0.034566912800073624,-0.10547536611557007,0.015306005254387856,0.004833563696593046,-0.046636439859867096,-0.0037982542999088764,0.000002023676415774389,-0.05098241940140724,-0.010472754947841167,0.005164354108273983,-0.018772408366203308,0.028151657432317734,0.0705837607383728,-0.0641990527510643,0.02459922805428505,0.016819095239043236,0.0160989947617054,-0.03296000510454178,-0.047968439757823944,-0.07698147743940353,0.03442171961069107,-0.014512429013848305,-0.004771334119141102,0.04522040858864784,-0.1056162491440773,-0.020780745893716812,-0.018162529915571213,-0.001790341455489397,-0.022539934143424034,-0.029339205473661423,0.037468474358320236,-0.02075509913265705,-0.0027844086289405823,-0.026707762852311134,0.0025072037242352962,-0.014836158603429794,0.11154858767986298,0.039489638060331345,0.040279995650053024,-0.049328453838825226,-0.016136081889271736,0.007906471379101276,0.11103109270334244,0.016192376613616943,0.022852398455142975,-0.013968427665531635,-0.009255480952560902,-0.052297987043857574,-0.016496164724230766,-0.02443857118487358,0.03529233857989311,-0.035335902124643326,-0.06919732689857483,0.054432954639196396,-0.07056459784507751,-0.0651094987988472,0.019100124016404152,-0.054580651223659515,-0.006821740418672562,-0.0103871775791049,-0.0247903224080801,0.0028001435566693544,0.028907043859362602,-0.016332803294062614,0.021389052271842957,-0.014487538486719131,-0.06497357785701752,-0.028708653524518013,0.06684193760156631,-0.07796872407197952,0.061723798513412476,-0.04083099216222763,0.015046783722937107,0.007825885899364948,0.050338905304670334,0.03959837928414345,0.03871582821011543,0.03230854123830795,0.01866159960627556,-0.07022430002689362,-0.031097503378987312,-0.0031976192258298397,-0.04350754991173744,0.036057621240615845,0.040309857577085495,-0.005099668633192778,0.011592845432460308,0.06295794993638992,-0.07365001738071442,0.003848946886137128,-0.014493369497358799,0.02108677849173546,0.07354316860437393,-0.02786402590572834,-0.005979033187031746,0.03661222755908966,0.004094064701348543,0.05586401745676994,-0.0530552938580513,-0.00464687030762434,-0.026534361764788628,0.02923266962170601,-0.008156688883900642,-0.020938396453857422,0.007478202693164349,-0.023853974416851997,0.02486501820385456,-0.04802674800157547,0.015988245606422424,0.03846025839447975,0.005446811206638813,-0.03841729089617729,0.012532665394246578,-0.03109101951122284,-0.06205268204212189,-0.030134493485093117,0.030161861330270767,0.0026180411223322153,0.010206187143921852,0.0905071347951889,-0.009344294667243958,0.0038790893740952015,-0.048766206949949265,-0.01843956671655178,-0.026754962280392647,0.0507948063313961,-0.039245132356882095,0.006577505264431238,0.0032940462697297335,-0.02072632685303688,-0.0021115606650710106,0.02137373574078083,-0.016886720433831215,-0.005904873367398977,-0.00611127121374011,-0.0015654712915420532,-0.0048308055847883224,0.028696535155177116,-0.08910764753818512,-0.00010891813144553453,-0.010218335315585136,-0.011565013788640499,-0.021455757319927216,-0.03190014138817787,-0.004047569818794727,0.04097368195652962,-0.00737027358263731,0.002845472889021039,0.06868494302034378,-0.03512144088745117,-0.005015389062464237,-0.015120558440685272,-0.013085811398923397,-0.16561630368232727,0.013573559001088142,0.00896834209561348,0.09543140232563019,0.009977119043469429,-0.0531792938709259,0.06150519475340843,-0.005444257985800505,-0.0042387088760733604,-0.013074235059320927,0.03828541561961174,-0.08683961629867554,-0.014112550765275955,0.03919622302055359,0.013798084110021591,0.011276395060122013,-0.09126386791467667,0.026007672771811485,0.0024882047437131405,-0.001008579507470131,0.02803882770240307,0.015717443078756332,0.0023488509468734264,0.01569715328514576,-0.02828456088900566,-0.021608885377645493,-0.03327713906764984,0.020401721820235252,-0.0210029985755682,0.006973322480916977,0.03308560326695442,-0.044561099261045456,0.013702216558158398,-0.013807415962219238,0.06458069384098053,-0.0074037229642271996,0.0011568211484700441,-0.04398037865757942,0.030616488307714462,-0.04145868495106697,-0.012893629260361195,0.00294904550537467,0.015250316821038723,0.025594118982553482,0.08563920855522156,0.058184169232845306,-0.033429693430662155,0.06644459813833237,0.019629068672657013,-0.026306094601750374,-0.019886182621121407,0.020921848714351654,-0.00460971612483263,0.03717993572354317,0.10170944780111313,0.10717448592185974,0.03617757186293602,-0.005557218100875616,0.010399462655186653,-0.004973931238055229,-0.04131185635924339,-0.011037350632250309,0.016479909420013428,0.04079713299870491,0.00365557917393744,-0.07762248814105988,0.03655628859996796,0.004284534603357315,-0.019193535670638084,0.02528846263885498,0.025853149592876434,0.013960416428744793,0.0023186993785202503,-0.020030466839671135,0.020737692713737488,-0.09302357584238052,-0.017066726461052895,0.028168611228466034,0.06688500940799713,0.0006056278944015503,-0.03593747317790985,-0.052504878491163254,0.01599978283047676,0.0313873365521431,-0.03744017332792282,0.030459750443696976,0.002842832123860717,0.014929695054888725,0.04158582538366318,0.02888544835150242,0.017241405323147774,0.00923893228173256,-0.018461836501955986,-0.000391500216210261,0.04262126609683037,-0.034865569323301315,0.04938988760113716,-0.017567720264196396,0.008492568507790565,-0.0023793866857886314,-0.01292332448065281,-0.005824344232678413,0.010419094003736973,-0.020986396819353104,0.04177317023277283,0.02805173397064209,-0.013295349664986134,0.015287702903151512,-0.05671415477991104,0.004875968210399151,-0.050809331238269806,0.013269222341477871,-0.05482039973139763,-0.035689614713191986,0.014935010112822056,0.027438899502158165,0.024154284968972206,0.0060842884704470634,0.01785958744585514,-0.00031100495834834874,-0.023173421621322632,0.002452926943078637,0.026124097406864166,-0.06130538508296013,0.027920078486204147,0.028710531070828438,-0.031253326684236526,0.02302442491054535,0.010789996013045311,0.023723574355244637,0.0050694081000983715,-0.03035649284720421,0.028522050008177757,-0.01789100095629692,0.01034708321094513,-0.012556876987218857,0.00940061267465353,-0.02733253687620163,-0.011821527034044266,0.001663082279264927,-0.01177884265780449,-0.04494229331612587,0.019753970205783844,-0.034242987632751465,-0.061226122081279755,-0.07003964483737946,-0.015464250929653645,-0.029173724353313446,-0.01522667147219181,0.011693568900227547,-0.008067524991929531,-0.013001983053982258,0.027866315096616745,0.036894239485263824,-0.003238422330468893,-0.034868497401475906,-0.07745131850242615,0.017445534467697144,-0.011396082118153572,0.006391856819391251,0.06026622653007507,-0.00936430785804987,0.03635168448090553,0.05002588778734207,-0.015649547800421715,0.004554104059934616,0.005790606141090393,-0.04594787582755089,0.0033748047426342964,0.0541839562356472,0.0109365563839674,-0.0030467354226857424,-0.05260897055268288,0.00672369496896863,-0.0011137613328173757,-0.024492628872394562,0.009204967878758907,-0.020572440698742867,-0.06438152492046356,0.0863426998257637,0.04573420062661171,0.05849195644259453,0.007909223437309265,-0.022579941898584366,0.006901427172124386,-0.005062899086624384,-0.007735857740044594,0.011394217610359192,0.010253158397972584,0.04554840177297592,0.00279351812787354,0.006454027257859707,0.03472635895013809,-0.020018287003040314,-0.025365782901644707,0.02834022417664528,0.017237531021237373,0.0385139063000679,0.0046213059686124325,0.028559522703289986,-0.010827286168932915,0.0883847028017044,0.006475793197751045,0.07115615904331207,-0.029343338683247566,0.006811272352933884,-0.0198852326720953,0.015609298832714558,0.05337944254279137,0.0067353625781834126,0.008661295287311077,-0.0008810525760054588,-0.03389560431241989,0.011647163890302181,-0.013425946235656738,-0.03185894340276718,-0.002699906937777996,-0.0013279840350151062,0.01338187139481306,-0.0037505277432501316,-0.09466442465782166,-0.04230748116970062,0.01214812882244587,-0.012555296532809734,0.004074827302247286,-0.049177385866642,0.04453807324171066,-0.006501230411231518,0.00333572831004858,0.006669922731816769,-0.050194136798381805,0.004125567153096199,-0.02995597943663597,0.022230593487620354,0.03512167930603027,-0.007191810756921768,-0.006428400985896587,0.04273137077689171,-0.004256370477378368,0.00891719851642847,0.05413283407688141,0.046436507254838943,-0.0021094686817377806,-0.007632263004779816,-0.042325008660554886,0.07068713009357452,-0.06970496475696564,0.00390456011518836,0.010029344819486141,0.007026033941656351,-0.01304871216416359,-0.0017193966777995229,0.05202347785234451,-0.024614768102765083,-0.0205699373036623,-0.009174409322440624,-0.020930971950292587,0.008627050556242466,0.0242717694491148,0.012216501869261265,0.05963065102696419,0.05208318307995796,-0.03999369964003563,0.04939015209674835,-0.061718571931123734,-0.01844588667154312,-0.011209485121071339,-0.017724698409438133,0.015236664563417435,0.03473879396915436,-0.007906298153102398,-0.011934353038668633,-0.0480307899415493,0.06980633735656738,-0.042689692229032516,0.009426633827388287,-0.0027679994236677885,-0.02320968173444271,-0.00035813270369544625,0.045433301478624344,0.032691773027181625,-0.021892910823225975,0.01669924333691597,0.023064974695444107,0.0163344144821167,-0.03857199475169182,-0.03625087812542915,-0.0062990146689116955,-0.062844417989254,-0.009774276055395603,-0.022091694176197052,-0.04938235506415367,0.049698878079652786,0.022961674258112907,0.012105447240173817,0.00036027724854648113,-0.012745634652674198,0.016101397573947906,-0.015681428834795952,-0.018124179914593697,0.05408056452870369,-0.003826549043878913,-0.09016330540180206,-0.00778952706605196,-0.013439677655696869,-0.005021324846893549,0.02143830992281437,-0.003672765102237463,-0.053881049156188965,-0.0021286976989358664,-0.026483019813895226,-0.018091941252350807,0.08001336455345154,-0.027767617255449295,-0.05123721808195114,-0.03573617339134216,0.07116448879241943,0.018925681710243225,0.02377803437411785,0.010512826964259148,-0.007598327938467264,0.015565325506031513,-0.09032127261161804,0.004205120261758566,0.03294850140810013,0.006782592739909887,-0.02765805460512638,-0.01966031640768051,0.007802252192050219,0.052261337637901306,-0.021423503756523132,-0.012065327726304531,0.03462299332022667,0.04332999885082245,-0.07583017647266388,0.004135342314839363,0.06446313858032227,0.04194829985499382,-0.03225541114807129,0.010407913476228714,-0.02320467121899128,0.013724696822464466,-0.06703374534845352,0.10800954699516296,-0.02617880515754223,0.00014556050882674754,-0.02325321175158024,0.013395646587014198,0.07274371385574341,0.019781583920121193,-0.008882911875844002,-0.005095020402222872,-0.013215364888310432,-0.035083938390016556,0.03481249511241913,0.02471252717077732,0.05772622302174568,-0.011253779754042625,-0.01850191131234169,-0.038719166070222855,0.02231431193649769,0.03443855419754982,-0.023023057729005814,-0.0032820492051541805,0.0033912956714630127,-0.021283302456140518,-0.05456022918224335,-0.0030222160276025534,-0.010344068519771099,0.003182170679792762,-0.046408217400312424,-0.017699619755148888,0.019499173387885094,0.03411450609564781,-6.844877156215287e-33,-0.008960364386439323,-0.038348350673913956,-0.028759600594639778,-0.0021267591509968042,-0.09712065756320953,-0.006080500315874815,0.002350697061046958,-0.06724230945110321,0.001731660682708025,-0.020852355286478996,-0.002891129581257701,-0.023872626945376396,0.012373453937470913,-0.030104411765933037,0.056975796818733215,0.03513167425990105,0.029032522812485695,0.021652499213814735,0.000033708445698721334,0.02421461045742035,-0.007670240942388773,0.04231157526373863,0.030790308490395546,-0.04411369562149048,-0.04111992567777634,0.05205640196800232,0.006689044181257486,0.02378157339990139,0.026134146377444267,0.003092386294156313,0.03461766615509987,-0.04941873624920845,-0.01683889888226986,-0.043031029403209686,-0.010061483830213547,-0.03132511302828789,0.0025521526113152504,-0.01792963780462742,-0.012963708490133286,-0.02079426869750023,0.05433591082692146,0.00022091435675974935,0.02977590449154377,0.011312774382531643,0.00031865524942986667,-0.07821334898471832,0.029019996523857117,-0.014159735292196274,0.011359646916389465,-0.03807695955038071,-0.0027280214708298445,0.036095112562179565,-0.0355217382311821,0.098568394780159,-0.006619084160774946,0.06840690225362778,0.0022719413973391056,0.0259176567196846,-0.06404118239879608,0.026197923347353935,-0.03979961574077606,0.02137056365609169,0.028664950281381607,0.024337872862815857,0.026209989562630653,-0.032531075179576874,0.028529072180390358,0.030805490911006927,0.013969304971396923,0.02300623618066311,0.029986832290887833,-0.0056457845494151115,0.04101480543613434,-0.03601878508925438,-0.011714608408510685,0.0029841784853488207,-0.03153260424733162,0.020355064421892166,0.01176378596574068,0.047249455004930496,-0.04055580496788025,0.007710801903158426,-0.013837398029863834,0.014635875821113586,0.005386479198932648,-0.048082638531923294,-0.009063316509127617,-0.011929541826248169,-0.0012008550111204386,0.02377508021891117,-0.033050086349248886,-0.0036066160537302494,0.004033367149531841,0.05311253294348717,0.026813583448529243,-0.010156013071537018,0.0443023145198822,0.03035522624850273,0.0017214134568348527,-0.020730776712298393,-0.022649437189102173,0.03588460758328438,0.006756236311048269,0.008558166213333607,0.022679638117551804,-0.027072640135884285,0.009767727926373482,-0.0071794576942920685,-0.04594806954264641,0.007503976579755545,0.053129568696022034,0.055276744067668915,-0.07541726529598236,-0.05248631164431572,-0.0008460766985081136,-0.011994975619018078,0.011973988264799118,0.007114239502698183,0.025127459317445755,0.029199620708823204,-0.001855773851275444,0.0345512218773365,0.010236621834337711,0.0008861288079060614,0.0136116249486804,-0.007386893965303898,-0.02081003040075302,0.0245255995541811,0.04112188145518303,-0.006636809557676315,-0.00670624291524291,-0.023434452712535858,2.9484192509698914e-7,-0.021905507892370224,0.07477742433547974,-0.02678685262799263,0.007007730193436146,0.006620696280151606,-0.011903157457709312,-0.04008965939283371,-0.004823982249945402,0.00858104508370161,0.009306707419455051,0.04660015553236008,-0.004999225959181786,0.002636692486703396,0.04358122870326042,0.013303510844707489,-0.032605670392513275,-0.05166575312614441,-0.04102077707648277,-0.06990358233451843,-0.018662191927433014,0.042839571833610535,0.0056668841280043125,0.03347271680831909,0.032573599368333817,-0.001641168724745512,0.06326267868280411,-0.03479659929871559,-0.046727146953344345,-0.036728695034980774,0.038352321833372116,0.05714097619056702,-0.026236480101943016,-0.037033963948488235,0.017680058255791664,-0.04173973947763443,-0.01600423827767372,-0.033086277544498444,-0.037897177040576935,0.014908130280673504,0.03810083866119385,0.03491717204451561,0.012045190669596195,-0.01867249421775341,-0.012091741897165775,0.03383452445268631,-0.00974422600120306,-0.017701666802167892,-0.06087522208690643,-0.06319684535264969,0.035571031272411346,0.0432252511382103,0.008458046242594719,-0.017649075016379356,0.015539361163973808,0.006083135958760977,0.0406322255730629,-0.030824871733784676,0.06697696447372437,0.03223796188831329,0.03489651158452034,-0.012940851040184498,-0.02606656216084957,0.01517679262906313,0.11163000017404556,0.006074398756027222,0.009487166069447994,0.006030336953699589,3.6876947558424466e-34,0.008215747773647308,-0.01769038662314415,0.004823785740882158,-0.03142930939793587,-0.008832628838717937,-0.03661630302667618,0.013591245748102665,-0.005621868651360273,0.010609407909214497,-0.02343522384762764,-0.01778620108962059]'
SET
  @HasCustomProps_c5a19edb = 0
SET
  @HasCustomEvents_c5a19edb = 0
SET
  @RequiresData_c5a19edb = 1
SET
  @DependencyCount_c5a19edb = 5
SET
  @TechnicalDesignVectorEmbeddingModelID_c5a19edb = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_c5a19edb = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_c5a19edb = 0
SET
  @ID_c5a19edb = '39C8E50F-976E-45D1-A439-CD8ABD5377CC'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_c5a19edb,
  @Name = @Name_c5a19edb,
  @Version = @Version_c5a19edb,
  @VersionSequence = @VersionSequence_c5a19edb,
  @Title = @Title_c5a19edb,
  @Description = @Description_c5a19edb,
  @Type = @Type_c5a19edb,
  @Status = @Status_c5a19edb,
  @DeveloperName = @DeveloperName_c5a19edb,
  @DeveloperEmail = @DeveloperEmail_c5a19edb,
  @DeveloperOrganization = @DeveloperOrganization_c5a19edb,
  @SourceRegistryID = @SourceRegistryID_c5a19edb,
  @ReplicatedAt = @ReplicatedAt_c5a19edb,
  @LastSyncedAt = @LastSyncedAt_c5a19edb,
  @Specification = @Specification_c5a19edb,
  @FunctionalRequirements = @FunctionalRequirements_c5a19edb,
  @TechnicalDesign = @TechnicalDesign_c5a19edb,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_c5a19edb,
  @TechnicalDesignVector = @TechnicalDesignVector_c5a19edb,
  @HasCustomProps = @HasCustomProps_c5a19edb,
  @HasCustomEvents = @HasCustomEvents_c5a19edb,
  @RequiresData = @RequiresData_c5a19edb,
  @DependencyCount = @DependencyCount_c5a19edb,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_c5a19edb,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_c5a19edb,
  @HasRequiredCustomProps = @HasRequiredCustomProps_c5a19edb,
  @ID = @ID_c5a19edb;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_e9d48361 NVARCHAR(MAX),
@Name_e9d48361 NVARCHAR(500),
@Version_e9d48361 NVARCHAR(50),
@VersionSequence_e9d48361 INT,
@Title_e9d48361 NVARCHAR(1000),
@Description_e9d48361 NVARCHAR(MAX),
@Type_e9d48361 NVARCHAR(255),
@Status_e9d48361 NVARCHAR(50),
@DeveloperName_e9d48361 NVARCHAR(255),
@DeveloperEmail_e9d48361 NVARCHAR(255),
@DeveloperOrganization_e9d48361 NVARCHAR(255),
@SourceRegistryID_e9d48361 UNIQUEIDENTIFIER,
@ReplicatedAt_e9d48361 DATETIMEOFFSET,
@LastSyncedAt_e9d48361 DATETIMEOFFSET,
@Specification_e9d48361 NVARCHAR(MAX),
@FunctionalRequirements_e9d48361 NVARCHAR(MAX),
@TechnicalDesign_e9d48361 NVARCHAR(MAX),
@FunctionalRequirementsVector_e9d48361 NVARCHAR(MAX),
@TechnicalDesignVector_e9d48361 NVARCHAR(MAX),
@HasCustomProps_e9d48361 BIT,
@HasCustomEvents_e9d48361 BIT,
@RequiresData_e9d48361 BIT,
@DependencyCount_e9d48361 INT,
@TechnicalDesignVectorEmbeddingModelID_e9d48361 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_e9d48361 NVARCHAR(MAX),
@HasRequiredCustomProps_e9d48361 BIT,
@ID_e9d48361 UNIQUEIDENTIFIER
SET
  @Namespace_e9d48361 = N'CRM/Analytics'
SET
  @Name_e9d48361 = N'DealVelocityTrendChart'
SET
  @Version_e9d48361 = N'1.0.0'
SET
  @VersionSequence_e9d48361 = 1
SET
  @Title_e9d48361 = N'Deal Velocity Trend Chart'
SET
  @Description_e9d48361 = N'Displays historical trends of deal velocity across stages over time'
SET
  @Type_e9d48361 = N'Chart'
SET
  @Status_e9d48361 = N'Published'
SET
  @Specification_e9d48361 = N'{"name":"DealVelocityTrendChart","namespace":"CRM/Analytics","type":"Chart","location":"embedded","code":"function DealVelocityTrendChart({ deals, stages, onDrillDown, timeRange }) {\n  const chartRef = React.useRef(null);\n  \n  React.useEffect(() => {\n    if (!chartRef.current || !deals.length) return;\n    \n    // Generate trend data based on timeRange\n    const dates = [];\n    const trendData = {};\n    \n    const daysToShow = Math.min(timeRange || 30, 30); // Cap at 30 days for trend\n    \n    for (let i = daysToShow - 1; i >= 0; i--) {\n      const date = dayjs().subtract(i, ''day'');\n      dates.push(date.format(''YYYY-MM-DD''));\n    }\n    \n    // Calculate trend data for each stage\n    stages.forEach(stage => {\n      trendData[stage] = dates.map((date, index) => {\n        // Count deals in this stage around this date\n        const dayDeals = deals.filter(deal => {\n          if (deal.Stage !== stage) return false;\n          \n          // Check if deal was active around this date\n          const dealDate = deal.ActualCloseDate || deal.CloseDate;\n          if (!dealDate) return true; // Open deals count for all dates\n          \n          const dealDayjs = dayjs(dealDate);\n          const dateDayjs = dayjs(date);\n          \n          // Deal counts if it was created before or on this date\n          return dealDayjs.isAfter(dateDayjs) || dealDayjs.isSame(dateDayjs, ''day'');\n        });\n        \n        // Simulate velocity metric (days in stage)\n        // This could be replaced with actual velocity calculation\n        const baseVelocity = {\n          ''Prospecting'': 90,\n          ''Qualification'': 60,\n          ''Proposal'': 40,\n          ''Negotiation'': 20,\n          ''Closed Won'': 10,\n          ''Closed Lost'': 15\n        }[stage] || 30;\n        \n        // Add some variation\n        const variation = Math.sin(index * 0.5) * 10 + Math.random() * 5;\n        return Math.max(5, Math.round(baseVelocity + variation));\n      });\n    });\n    \n    const option = {\n      title: {\n        text: ''Deal Velocity Trend'',\n        left: ''center'',\n        top: ''5%'',\n        textStyle: {\n          fontSize: 16,\n          fontWeight: ''bold''\n        }\n      },\n      tooltip: {\n        trigger: ''axis'',\n        axisPointer: { type: ''cross'' },\n        formatter: (params) => {\n          let result = params[0].axisValue + ''<br/>'';\n          params.forEach(param => {\n            result += `$' + '{param.marker} $' + '{param.seriesName}: <strong>$' + '{Math.round(param.value)} days</strong><br/>`;\n          });\n          result += ''<div style=\"margin-top: 8px; font-size: 11px; color: #666;\">Click to view deals</div>'';\n          return result;\n        }\n      },\n      legend: {\n        data: stages,\n        top: ''12%'',\n        type: ''scroll'',\n        textStyle: {\n          fontSize: 12\n        }\n      },\n      grid: {\n        left: ''3%'',\n        right: ''4%'',\n        bottom: ''3%'',\n        top: ''22%'',\n        containLabel: true\n      },\n      xAxis: {\n        type: ''category'',\n        boundaryGap: false,\n        data: dates.map(d => dayjs(d).format(''MM/DD'')),\n        axisLabel: {\n          fontSize: 11,\n          rotate: 45\n        }\n      },\n      yAxis: {\n        type: ''value'',\n        name: ''Days'',\n        axisLabel: {\n          formatter: ''{value}d'',\n          fontSize: 11\n        }\n      },\n      series: stages.map((stage, index) => ({\n        name: stage,\n        type: ''line'',\n        smooth: true,\n        data: trendData[stage],\n        emphasis: { \n          focus: ''series'',\n          blurScope: ''coordinateSystem''\n        },\n        lineStyle: {\n          width: 2\n        },\n        symbol: ''circle'',\n        symbolSize: 6,\n        itemStyle: {\n          color: [\n            ''#9CA3AF'',  // Prospecting\n            ''#3B82F6'',  // Qualification  \n            ''#8B5CF6'',  // Proposal\n            ''#F59E0B'',  // Negotiation\n            ''#10B981'',  // Closed Won\n            ''#EF4444''   // Closed Lost\n          ][index] || ''#6B7280''\n        }\n      }))\n    };\n    \n    // Initialize or update chart\n    if (chartRef.current._chart) {\n      chartRef.current._chart.dispose();\n    }\n    chartRef.current._chart = echarts.init(chartRef.current);\n    chartRef.current._chart.setOption(option);\n    \n    // Add click handler\n    chartRef.current._chart.on(''click'', (params) => {\n      if (params.componentType === ''series'') {\n        const stage = params.seriesName;\n        const dateIndex = params.dataIndex;\n        const date = dates[dateIndex];\n        \n        // Filter deals for this stage around this date\n        const stageDeals = deals.filter(d => d.Stage === stage);\n        onDrillDown(stageDeals, `$' + '{stage} Stage Deals - $' + '{dayjs(date).format(''MMM D, YYYY'')}`);\n      }\n    });\n    \n    // Cleanup on unmount\n    return () => {\n      if (chartRef.current?._chart) {\n        chartRef.current._chart.dispose();\n      }\n    };\n  }, [deals, stages, onDrillDown, timeRange]);\n  \n  return React.createElement(''div'', { \n    ref: chartRef, \n    style: { height: ''500px'', width: ''100%'' } \n  });\n}","functionalRequirements":"## Trend Chart Sub-component\n\n### Purpose\nDisplays historical trends of deal velocity across stages over time.\n\n### Core Features\n- Line chart showing velocity trends\n- Multiple stage series\n- Smooth line rendering\n- Interactive tooltips with rounded values\n- Clickable data points\n- Customizable time range\n- Focus on series functionality","dataRequirements":{"description":"Receives calculated trend data from parent component"},"technicalDesign":"## Implementation\n\n### Chart Library\n- Uses ECharts for rendering\n- Line chart with smooth curves\n- Manages chart lifecycle\n- Proper disposal on unmount\n\n### Data Processing\n- Receives pre-calculated trend data\n- Formats tooltips with rounded values\n- Handles click events for drill-down","properties":[{"name":"deals","type":"array","required":true,"description":"Array of deal entities"},{"name":"stages","type":"array","required":true,"description":"Array of stage names"},{"name":"onDrillDown","type":"function","required":true,"description":"Callback when clicking on chart elements"},{"name":"timeRange","type":"number","required":true,"description":"Number of days to show in trend"}],"events":[],"dependencies":[],"libraries":[{"name":"ECharts","version":"^5.4.3","globalVariable":"echarts"},{"name":"dayjs","version":"^1.11.10","globalVariable":"dayjs"}],"description":"Displays historical trends of deal velocity across stages over time"}'
SET
  @FunctionalRequirements_e9d48361 = N'## Trend Chart Sub-component

### Purpose
Displays historical trends of deal velocity across stages over time.

### Core Features
- Line chart showing velocity trends
- Multiple stage series
- Smooth line rendering
- Interactive tooltips with rounded values
- Clickable data points
- Customizable time range
- Focus on series functionality'
SET
  @TechnicalDesign_e9d48361 = N'## Implementation

### Chart Library
- Uses ECharts for rendering
- Line chart with smooth curves
- Manages chart lifecycle
- Proper disposal on unmount

### Data Processing
- Receives pre-calculated trend data
- Formats tooltips with rounded values
- Handles click events for drill-down'
SET
  @FunctionalRequirementsVector_e9d48361 = N'[-0.05281364917755127,-0.005810252856463194,-0.045920636504888535,-0.07830748707056046,-0.0017821394139900804,-0.04116775840520859,0.011680413037538528,0.0061049191281199455,-0.04222779721021652,0.037160567939281464,0.016538603231310844,0.02229348011314869,0.027800774201750755,0.16413383185863495,-0.03661433979868889,-0.0845252200961113,-0.014540261588990688,-0.01294499821960926,0.016611214727163315,0.009150289930403233,0.026379374787211418,-0.022066166624426842,0.011209764517843723,0.02175801806151867,-0.08572015166282654,-0.005695078521966934,0.02034291997551918,-0.028455713763833046,0.051391877233982086,-0.12566399574279785,0.011783977970480919,-0.0013445294462144375,0.004559093154966831,0.025260716676712036,0.0000024434903025394306,-0.0155674759298563,-0.010034452192485332,-0.0013552578166127205,-0.015433913096785545,0.034233734011650085,0.07138458639383316,-0.06495367735624313,0.019838739186525345,-0.010219201445579529,0.018679793924093246,-0.023745596408843994,-0.0540134459733963,-0.010788796469569206,0.038546714931726456,-0.018011223524808884,0.005553525872528553,0.021175820380449295,-0.062239546328783035,-0.021730933338403702,0.009289317764341831,-0.06501735746860504,-0.003237605793401599,-0.0029825069941580296,0.06194459646940231,0.004359467886388302,-0.031720809638500214,0.028126806020736694,0.0021403587888926268,-0.029674699530005455,0.09485754370689392,0.05162426084280014,0.09759727865457535,-0.034751664847135544,-0.030156005173921585,0.0347258523106575,0.05463479831814766,-0.013329091481864452,-0.005430754739791155,-0.04898293316364288,-0.002089765155687928,-0.012551112100481987,-0.04216095432639122,-0.02713014744222164,0.022035550326108932,-0.041983794420957565,-0.046820688992738724,0.05534500628709793,-0.05179852619767189,-0.019555984064936638,0.0555540956556797,-0.05456813797354698,-0.011284532025456429,-0.00331890769302845,-0.01952248625457287,-0.03667290136218071,-0.0069990744814276695,-0.00037148670526221395,-0.010342252440750599,-0.013056664727628231,-0.02315288968384266,-0.0037282626144587994,0.006955822464078665,-0.021807581186294556,0.011317446827888489,-0.02515702322125435,0.058448806405067444,0.005734974984079599,0.02573065459728241,0.05012398585677147,0.04036961495876312,-0.03491014614701271,-0.020263466984033585,-0.16579198837280273,-0.008801748976111412,0.03622607886791229,-0.010830789804458618,0.01670989766716957,-0.00283514941111207,-0.01875549554824829,0.010217998176813126,0.007093791384249926,-0.044479284435510635,-0.0037166422698646784,-0.01743466965854168,0.022306403145194054,0.09067494422197342,-0.017872430384159088,0.00917073804885149,-0.026870345696806908,-0.011203238740563393,0.08360663801431656,-0.0629117488861084,0.003271533874794841,0.0004707469488494098,0.04667416214942932,-0.03257923945784569,-0.031968872994184494,0.03386704996228218,-0.006703772582113743,0.005721451714634895,-0.019535481929779053,-0.0022830141242593527,0.04259467497467995,-0.023547645658254623,-0.05633807182312012,-0.00260541052557528,0.06131230667233467,-0.06751396507024765,0.037763748317956924,-0.047597117722034454,-0.029482539743185043,0.022142598405480385,0.08801307529211044,0.0067321122623980045,0.027483809739351273,-0.03590043634176254,-0.004933319520205259,-0.025266606360673904,0.0368967205286026,-0.029105696827173233,-0.031572215259075165,-0.009370769374072552,-0.030672136694192886,-0.012598298490047455,0.030409889295697212,-0.010037580505013466,-0.01616816781461239,-0.011770471930503845,-0.0036446137819439173,-0.025490982457995415,-0.0043448833748698235,-0.1153135597705841,-0.04521162435412407,-0.04260740801692009,-0.003336651250720024,0.002651008777320385,-0.05506126582622528,-0.01707882061600685,-0.02199609950184822,0.06618324667215347,0.03063654527068138,0.07991329580545425,-0.011332101188600063,-0.018373148515820503,-0.014113008975982666,-0.001969314645975828,-0.1452450007200241,0.03276176005601883,0.02958010509610176,0.043890196830034256,0.013220667839050293,-0.11789824068546295,0.02603626437485218,0.017687954008579254,-0.000867068360093981,-0.016170086339116096,0.019936835393309593,-0.0426732636988163,0.007939272560179234,-0.0392003171145916,-0.017248153686523438,-0.00038790309918113053,-0.06839911639690399,0.03904407471418381,0.018015997484326363,-0.026069842278957367,0.047774191945791245,0.028220541775226593,0.013020025566220284,-0.005047579761594534,-0.005768205970525742,-0.01284294668585062,-0.031127842143177986,0.004716975148767233,0.023157455027103424,0.04110024869441986,0.004941945429891348,-0.08387325704097748,0.005420546513050795,-0.020710326731204987,0.012442960403859615,0.004010459408164024,0.01851176656782627,-0.06855001300573349,0.019507400691509247,-0.04293721914291382,-0.015111507847905159,0.021292993798851967,-0.013993904925882816,0.07321145385503769,0.08502251654863358,0.043205685913562775,-0.009694785811007023,0.004612290766090155,0.02510257437825203,-0.02055097371339798,-0.013390465639531612,0.004981485661119223,-0.010981371626257896,0.054167307913303375,0.07748904824256897,0.04504571482539177,0.057770393788814545,-0.006707868538796902,-0.0008705862564966083,-0.03237173706293106,-0.06370522081851959,-0.017802366986870766,0.016638122498989105,-0.0015868617920204997,-0.05254156515002251,-0.08185265213251114,0.015781864523887634,-0.009495899081230164,-0.036544978618621826,0.010801359079778194,0.022906789556145668,0.025631200522184372,-0.01692812703549862,-0.020397908985614777,0.02301432006061077,0.0032885237596929073,0.019055021926760674,0.06762490421533585,0.0691799521446228,0.009492007084190845,0.018060022965073586,-0.028923846781253815,0.010555234737694263,-0.0008204962941817939,-0.04788603261113167,0.061585284769535065,0.0323626734316349,-0.03900374844670296,0.021318431943655014,-0.007140529341995716,-0.009363596327602863,0.009949126280844212,-0.004683312494307756,-0.00849939789623022,0.034128185361623764,0.000052339313697302714,0.02293839119374752,-0.050587523728609085,0.013556462712585926,-0.013224000111222267,-0.029340602457523346,-0.007205091882497072,0.027186712250113487,0.0003021533484570682,0.007795458659529686,0.0396915040910244,0.0046623749658465385,0.0355270653963089,-0.06110595911741257,0.006217728368937969,-0.041330378502607346,0.016664784401655197,-0.03628231957554817,-0.03743458166718483,0.009554171934723854,-0.038499318063259125,0.002945637097582221,0.004285265691578388,0.023806344717741013,-0.032816994935274124,-0.041944220662117004,-0.00916407909244299,0.025239616632461548,-0.04124917834997177,0.095185786485672,0.010738356970250607,0.04774877429008484,0.010392135940492153,0.07769985496997833,0.024744609370827675,-0.02041693776845932,-0.008982149884104729,-0.029456447809934616,-0.015041014179587364,0.0533590167760849,-0.006426933687180281,0.026413382962346077,-0.006740517448633909,0.01978224329650402,0.0027281297370791435,-0.046338457614183426,-0.015509271062910557,0.013292429968714714,-0.029435331001877785,0.02366931363940239,-0.07047821581363678,-0.042539749294519424,-0.05924482271075249,-0.027196479961276054,-0.012317732907831669,-0.002003844128921628,-0.04170098900794983,0.009784388355910778,0.05017004534602165,0.007245698478072882,-0.04602634906768799,0.00464976578950882,-0.04081689566373825,-0.024336077272892,-0.005483883433043957,0.031377751380205154,-0.02489793486893177,0.0001674853847362101,0.012224683538079262,-0.020636266097426414,0.0759720653295517,-0.03682340681552887,-0.009318004362285137,0.014203701168298721,0.03253371641039848,0.00919023435562849,0.03334983065724373,-0.04796130955219269,0.0180816613137722,0.0017259392188861966,-0.014236313290894032,-0.011865638196468353,-0.018476851284503937,-0.03968924656510353,0.0865931361913681,0.020824097096920013,0.019571417942643166,0.03884703665971756,-0.04948091134428978,0.0525185726583004,-0.01710657775402069,-0.011047082021832466,0.0432458370923996,0.024821361526846886,-0.02173272706568241,0.016759604215621948,0.05095032975077629,-0.0011606375919654965,-0.02459150180220604,0.006788209546357393,0.02828664518892765,0.05151110887527466,0.05899643525481224,0.00617006653919816,-0.006532266736030579,-0.02207375504076481,0.05777912959456444,-0.03182777389883995,0.04698948562145233,-0.021196989342570305,-0.00011193843965884298,-0.034015167504549026,-0.03835451975464821,0.0664263665676117,-0.0016944835660979152,0.04981786757707596,0.05907682329416275,-0.04025719687342644,-0.018051423132419586,0.03551783040165901,0.004175930749624968,-0.0016821380704641342,-0.033173903822898865,-0.003552714828401804,0.010458962991833687,-0.07245758175849915,-0.02400754950940609,-0.015550673939287663,0.022652655839920044,-0.02889224886894226,-0.05215955898165703,0.058511607348918915,-0.01691323146224022,0.01194924209266901,-0.031986303627491,-0.022698868066072464,0.039034418761730194,-0.04407387599349022,0.02175913378596306,0.02207234315574169,-0.01051399577409029,-0.0031237455550581217,0.033805135637521744,0.05211447551846504,0.04839110001921654,0.016515783965587616,0.010404798202216625,0.004021860659122467,-0.02186610735952854,-0.030788594856858253,0.041908491402864456,-0.11405441164970398,-0.002000373788177967,0.021786104887723923,0.029708074405789375,0.009034655056893826,-0.02141636051237583,0.02855265885591507,-0.008405276574194431,-0.08211936056613922,0.001516841002739966,0.0023708322551101446,-0.029142804443836212,0.016493046656250954,0.0093418313190341,0.0055644698441028595,0.04564180597662926,-0.020352398976683617,0.049023475497961044,0.008720461279153824,-0.015928570181131363,0.00745675154030323,-0.005895503796637058,0.00877908244729042,0.00517177814617753,-0.03206334263086319,0.04192207008600235,0.01685313880443573,0.003154725767672062,-0.030798133462667465,0.024596532806754112,-0.06996645778417587,0.003186721820384264,-0.015067454427480698,0.009467990137636662,0.012681183405220509,-0.026482775807380676,0.017277346923947334,0.022840715944767,0.048410430550575256,-0.002432913752272725,0.020136119797825813,-0.05033097788691521,-0.04401204735040665,0.03576185181736946,-0.01085417065769434,-0.03815491870045662,0.01938304677605629,0.021248936653137207,-0.010054933838546276,-0.007182024884968996,-0.005080997012555599,0.02236100099980831,0.0038369838148355484,-0.00788159854710102,0.03187603875994682,0.03401527926325798,-0.07858874648809433,-0.002153107663616538,0.01157157588750124,0.006380932871252298,-0.008867963217198849,0.008558443747460842,-0.02430913783609867,0.01838824525475502,-0.06868713349103928,-0.03224657103419304,0.07663393765687943,0.03930121287703514,-0.02947266213595867,-0.044741518795490265,0.025205230340361595,-0.03456458821892738,0.016587303951382637,-0.010186959058046341,-0.0053050401620566845,0.023517245426774025,-0.05304916948080063,-0.04269424453377724,0.03676723316311836,0.0472034327685833,0.01115524023771286,-0.03493129834532738,-0.018752580508589745,0.051386747509241104,-0.02129872888326645,-0.05118921026587486,-0.015923049300909042,0.03836392983794212,-0.025740226730704308,-0.006841606926172972,0.036804378032684326,0.05014026165008545,-0.021784542128443718,0.015732217580080032,0.008325372822582722,-0.005984541494399309,-0.01959310472011566,0.05592357739806175,-0.0160666573792696,-0.008066859096288681,-0.035644903779029846,0.012614208273589611,0.04865795746445656,-0.001596439047716558,-0.013478345237672329,-0.008085529319941998,0.011435918509960175,-0.018076954409480095,0.032639943063259125,0.05229070782661438,0.002480605151504278,0.014031445607542992,0.014973634853959084,-0.031099416315555573,0.010129841044545174,0.05521800369024277,-0.04156232625246048,0.030423955991864204,-0.013229156844317913,-0.016284596174955368,-0.030473489314317703,0.0029328963719308376,-0.008598212152719498,0.04279736801981926,-0.0476144403219223,-0.014790691435337067,-0.005077433306723833,-0.07396775484085083,-7.499886118380482e-33,0.014684815891087055,-0.007424542680382729,-0.03856681287288666,-0.012790977023541927,-0.03887945041060448,0.02017076499760151,0.040486935526132584,-0.03428143262863159,0.0009769416647031903,0.011491070501506329,-0.014457969926297665,-0.007068955805152655,0.004669946618378162,-0.011975737288594246,0.042915549129247665,-0.002026896458119154,0.05918778106570244,-0.025767987594008446,0.044232673943042755,0.030816109851002693,-0.017736075446009636,0.04458692669868469,0.03795627877116203,-0.010871194303035736,-0.03697321563959122,0.03289775177836418,-0.005899535492062569,0.002867534290999174,0.0508735366165638,-0.0013870055554434657,0.02743603102862835,-0.01789027824997902,-0.010543245822191238,-0.025041166692972183,-0.02792574092745781,-0.048791155219078064,0.02473481558263302,-0.035113945603370667,-0.013183323666453362,-0.031535834074020386,0.06660368293523788,0.020483672618865967,0.02091125026345253,0.01811911165714264,0.0053695738315582275,-0.020204637199640274,0.025555476546287537,0.007133524399250746,-0.01536235585808754,-0.03960408270359039,0.029196908697485924,0.02117665484547615,-0.013749144040048122,0.04029984772205353,0.027401860803365707,0.08574896305799484,0.0476711131632328,-0.018276037648320198,-0.08035314828157425,0.03375570848584175,-0.040234632790088654,0.001386061660014093,0.0013725977623835206,-0.0012251031585037708,0.028662260621786118,0.0094898147508502,-0.050639789551496506,0.06648416817188263,0.04221023991703987,0.02732170559465885,0.016286790370941162,0.02424110658466816,0.0004147064173594117,-0.04284624382853508,0.005800934508442879,-0.024788817390799522,0.02528667263686657,0.02177056297659874,0.03908821940422058,0.06203222647309303,-0.06056912615895271,0.0001792577386368066,-0.026312068104743958,0.031310778111219406,0.02862110547721386,-0.016984475776553154,-0.014421666972339153,-0.015859734266996384,0.017409855499863625,0.0068549057468771935,0.013434367254376411,0.009849154390394688,-0.03439706191420555,0.031254664063453674,-0.03573251888155937,-0.039990998804569244,0.037035491317510605,0.08156571537256241,0.016603488475084305,-0.04325813055038452,-0.002056591212749481,0.03256002813577652,-0.008367974311113358,-0.04847755655646324,0.006696526892483234,-0.0004697112599387765,0.013971059583127499,-0.006758383475244045,-0.044647593051195145,0.006358494982123375,0.044241636991500854,0.01168579701334238,-0.013602088205516338,-0.06647777557373047,0.007915876805782318,-0.020221522077918053,-0.005512808915227652,0.008703289553523064,0.019961891695857048,0.06568044424057007,0.01575429178774357,0.0027651593554764986,-0.021138915792107582,0.04395107924938202,0.03572508692741394,-0.03282098099589348,0.0037651502061635256,-0.019541187211871147,0.016355836763978004,-0.03500669077038765,-0.014947095885872841,-0.0012758332304656506,3.31776192297184e-7,-0.017143614590168,0.06897026300430298,0.0018637790344655514,0.10418707132339478,0.02414003387093544,-0.009876091964542866,-0.04938332363963127,-0.024853376671671867,0.009741781279444695,-0.03256024792790413,0.004536186810582876,-0.03603663668036461,0.013285242021083832,0.06552286446094513,0.043246518820524216,-0.07887471467256546,-0.004325449466705322,-0.06745091080665588,-0.07030282914638519,0.006298019550740719,0.06751462817192078,-0.004515436477959156,0.021245205774903297,0.017533041536808014,0.02141098491847515,0.08992645144462585,0.0013620967511087656,-0.05981576815247536,-0.05120621249079704,0.017405947670340538,0.002419873373582959,-0.006380216218531132,-0.028720201924443245,-0.024929365143179893,-0.022923661395907402,0.008584213443100452,-0.04399632290005684,-0.06852767616510391,0.01671898551285267,0.03373100236058235,0.024024995043873787,0.03207368031144142,0.008646732196211815,-0.02050546556711197,0.0064905122853815556,-0.003367441240698099,0.010619834996759892,-0.06256051361560822,-0.01617521420121193,0.02169266901910305,0.07163247466087341,-0.008463927544653416,-0.01616363227367401,-0.018734706565737724,0.016308927908539772,0.027771232649683952,-0.004194680601358414,0.03803211823105812,0.01780467852950096,0.018379703164100647,0.009840675629675388,0.0004845317453145981,0.0007038695621304214,0.042574699968099594,-0.0025411329697817564,0.030597874894738197,-0.00995729025453329,3.889301220558085e-34,0.05020350217819214,-0.048726439476013184,0.021140919998288155,0.0011544740991666913,0.019335037097334862,-0.02011043019592762,0.07253292202949524,0.018338533118367195,0.020310258492827415,-0.041125182062387466,-0.010081304237246513]'
SET
  @TechnicalDesignVector_e9d48361 = N'[-0.037243347615003586,-0.04163344204425812,-0.03760487586259842,-0.022184383124113083,0.00457170931622386,-0.014934906736016273,0.014143017120659351,0.024717481806874275,0.019729088991880417,0.024554893374443054,0.01705416850745678,0.07509054243564606,0.019648492336273193,0.09453611075878143,-0.03587815910577774,-0.09592031687498093,-0.031046869233250618,0.015798557549715042,0.008680609054863453,0.01914628967642784,0.03843548521399498,0.008876863867044449,-0.00009088059596251696,0.0172494538128376,-0.04405847191810608,-0.027412094175815582,-0.027814671397209167,-0.0011111547937616706,0.02333117090165615,-0.07924695312976837,0.02765212208032608,0.05360400676727295,-0.03981342166662216,0.01791132427752018,0.0000019769913706113584,-0.019633933901786804,-0.02089323289692402,0.0014149743365123868,-0.03419576585292816,0.01707468368113041,0.09092075377702713,-0.07948905229568481,0.07013213634490967,-0.022131262347102165,0.03505844622850418,0.03611702844500542,-0.02924702875316143,-0.0719115138053894,0.04829391464591026,-0.052965085953474045,0.019740888848900795,0.03384435921907425,-0.06933838129043579,0.0003582982753869146,0.019078949466347694,-0.016764884814620018,-0.004625307861715555,0.05217770114541054,0.06153563782572746,0.0743124857544899,-0.024714747443795204,0.012916695326566696,-0.004138296935707331,-0.018652906641364098,0.041759006679058075,-0.005494183395057917,0.08352621644735336,-0.059719108045101166,0.009380962699651718,0.05781596153974533,0.06800085306167603,-0.0472746379673481,0.013079020194709301,-0.004544078838080168,-0.026476573199033737,-0.00674898037686944,-0.03518364205956459,-0.04672553390264511,-0.0016175080090761185,-0.029609249904751778,-0.055967897176742554,-0.0127919502556324,-0.0374242328107357,-0.01775449328124523,0.04002649709582329,-0.023324331268668175,-0.03620995953679085,-0.020719757303595543,-0.003362825606018305,-0.004261778201907873,0.0015681205550208688,-0.01897205039858818,0.022397462278604507,0.015093653462827206,-0.0001591106120031327,-0.03519348427653313,0.02425517700612545,-0.003879728028550744,0.04312872141599655,0.0274045392870903,0.07629535347223282,0.03610270470380783,0.03240333870053291,0.03826162591576576,0.07305018603801727,-0.06539171934127808,0.02376624569296837,-0.10023261606693268,-0.0022464056964963675,0.056602593511343,0.012189960107207298,-0.007423592731356621,0.0005057569360360503,-0.027909280732274055,-0.018204716965556145,0.062312450259923935,-0.004017278086394072,0.01576431281864643,0.00029521912802010775,0.02045927569270134,0.11995379626750946,-0.007173767779022455,0.00746862543746829,0.007193648722022772,0.0007015240262262523,0.04712185263633728,-0.014208407141268253,-0.03654443845152855,0.003466306021437049,0.05219739302992821,-0.035614948719739914,-0.03991479426622391,0.04980703070759773,0.025169402360916138,0.010355854406952858,0.01647770218551159,0.029388170689344406,0.05394186079502106,-0.041539426892995834,-0.06068810448050499,0.007050875574350357,0.024920322000980377,-0.05392525717616081,-0.014302351512014866,0.015870315954089165,-0.000012147021152486559,-0.0029623147565871477,0.08131515979766846,-0.00019839033484458923,0.039940740913152695,-0.07206029444932938,0.014460687525570393,-0.041765838861465454,0.019399594515562057,-0.045891355723142624,0.0018615622539073229,-0.03186940401792526,-0.011015540920197964,-0.006975739728659391,-0.04190457612276077,0.026251785457134247,0.00469243573024869,0.01958227902650833,0.0051851351745426655,0.005838891491293907,-0.01241584587842226,-0.049947258085012436,-0.012271985411643982,-0.10588762164115906,-0.021985512226819992,0.04275241494178772,-0.060023874044418335,-0.01185885164886713,-0.03346230089664459,0.02818816900253296,0.01096431352198124,0.05301963537931442,-0.024206044152379036,-0.029276786372065544,0.012945875525474548,0.001257680356502533,-0.09262614697217941,-0.02380499243736267,0.013966294005513191,0.05437782034277916,-0.008245236240327358,-0.13062845170497894,0.0048459614627063274,-0.0022641343530267477,-0.000003386732259968994,-0.024113619700074196,0.026026085019111633,-0.014733368530869484,-0.021091848611831665,-0.035913318395614624,-0.02191716991364956,0.003077096538618207,-0.039928313344717026,0.0440528504550457,0.00661995867267251,-0.01597491279244423,0.014722856692969799,0.04244033992290497,0.0008389649447053671,-0.024114403873682022,-0.01857573539018631,-0.03294725716114044,-0.03885955736041069,0.010936344973742962,0.00685414532199502,-0.01989070512354374,-0.018830914050340652,-0.05413345992565155,-0.003867020597681403,-0.010685756802558899,0.04121936485171318,0.007954539731144905,0.030243773013353348,-0.08861653506755829,-0.0011119135888293386,-0.052497878670692444,-0.06805306673049927,0.007665928453207016,-0.012887599878013134,0.10005773603916168,0.02983275055885315,0.02206329070031643,-0.016647102311253548,-0.009494509547948837,0.02072451263666153,-0.04028783738613129,-0.015680108219385147,0.01953899674117565,0.046634212136268616,0.044893715530633926,0.05601675435900688,0.002705675084143877,-0.014150581322610378,0.013627729378640652,-0.019048701971769333,-0.02374166250228882,-0.040636781603097916,-0.01868775673210621,0.008430452086031437,-0.022191347554326057,-0.013661330565810204,-0.027219440788030624,-0.014883783645927906,-0.017818352207541466,-0.03747943043708801,0.018918493762612343,0.027740728110074997,-0.0044207400642335415,-0.047061629593372345,0.005750472657382488,0.01441018097102642,0.12472965568304062,0.03179214149713516,0.019594943150877953,0.007085695862770081,0.04034850373864174,0.05205708369612694,-0.0013008089736104012,-0.003892055479809642,0.03083215095102787,-0.013532128185033798,0.06196211278438568,-0.00024048308841884136,-0.037288177758455276,0.027433039620518684,0.012319072149693966,0.030185766518115997,-0.027957843616604805,-0.02266172133386135,-0.0016506090760231018,0.06563318520784378,-0.020363228395581245,-0.0034757654648274183,-0.026044469326734543,0.008832527324557304,-0.05221796780824661,-0.048028312623500824,0.027931323274970055,0.0183027982711792,-0.013596980832517147,0.008985895663499832,0.020634468644857407,-0.0004570443124976009,0.02369893714785576,-0.005493867211043835,0.00036007293965667486,-0.002597145037725568,0.01630318909883499,-0.04663976654410362,-0.028566336259245872,0.013373038731515408,0.019205335527658463,0.06086583808064461,-0.05974893644452095,0.016043081879615784,-0.04280635342001915,0.0031415352132171392,0.01646183431148529,0.0016986440168693662,-0.015657514333724976,0.03305813670158386,0.05814000591635704,0.04752793535590172,-0.006046381313353777,0.07902007550001144,0.028915684670209885,-0.028592729941010475,0.026716958731412888,-0.038287147879600525,0.015335815027356148,0.03271524980664253,-0.07579359412193298,0.00990730244666338,-0.01596355251967907,0.04561232775449753,-0.0008029987220652401,-0.03236967325210571,-0.0020787653047591448,0.006876997649669647,-0.06452637910842896,0.010694102384150028,-0.040890324860811234,-0.0013209979515522718,-0.07574521005153656,0.033883772790431976,-0.006260812748223543,-0.047459911555051804,-0.01061207801103592,0.04775493964552879,0.05777356028556824,0.03194607049226761,-0.04449329897761345,-0.08018847554922104,0.021983906626701355,0.0010680375853553414,0.018697543069720268,0.023145657032728195,0.007996530272066593,0.01700802519917488,0.028187302872538567,-0.020915349945425987,0.04007486253976822,0.0004378667217679322,-0.004518753848969936,0.02361774817109108,0.039451468735933304,-0.005555898416787386,0.029994729906320572,-0.00429576588794589,0.00568322092294693,0.010371876880526543,-0.07200431823730469,-0.023805035278201103,-0.08034610003232956,-0.029136570170521736,0.07692505419254303,0.04320680722594261,0.03907553851604462,0.03755098208785057,-0.02622953988611698,0.024514324963092804,-0.0038606016896665096,0.02664799988269806,0.021048642694950104,-0.009099633432924747,-0.0011571565410122275,0.029862459748983383,0.021397344768047333,0.010153379291296005,-0.012062041088938713,-0.02873927913606167,-0.004712795373052359,0.02755803056061268,0.05407384783029556,0.0034923595376312733,-0.017640018835663795,-0.0349850095808506,0.07138275355100632,-0.002953148214146495,0.04947935789823532,-0.05777791514992714,-0.032780617475509644,0.007740019354969263,-0.03765985742211342,0.04956551641225815,-0.004327398259192705,0.007405812386423349,0.05259207636117935,-0.058423999696969986,-0.004891399294137955,0.032425783574581146,-0.02047792449593544,0.02300524152815342,0.020007196813821793,0.017919044941663742,0.04824285954236984,-0.08585023134946823,-0.02529076673090458,-0.01896466314792633,0.011563665233552456,-0.08216676861047745,-0.043793171644210815,0.06438294053077698,-0.005398205481469631,0.06057439371943474,-0.010873119346797466,0.004395458847284317,-0.03152501955628395,-0.050377003848552704,-0.006418494042009115,0.028773298487067223,0.0018325264099985361,-0.024967482313513756,0.06291159987449646,0.002609262941405177,0.017504408955574036,-0.033584821969270706,0.020302265882492065,-0.017524775117635727,0.026596536859869957,-0.04481469467282295,0.03518399968743324,-0.040359482169151306,0.008454764261841774,0.007070960011333227,-0.012636329978704453,-0.007010537665337324,-0.012437701225280762,-0.022036921232938766,-0.030159873887896538,-0.061844490468502045,0.006107096094638109,-0.02730145864188671,0.027756186202168465,-0.01715891808271408,-0.020292095839977264,-0.002249945653602481,0.06139104813337326,-0.002352713141590357,0.0008938711835071445,0.008553415536880493,-0.031770579516887665,0.004055144265294075,0.015557427890598774,0.005217714700847864,-0.004947143141180277,-0.00002712680543481838,-0.029728975147008896,0.03114861436188221,0.056731417775154114,-0.061819009482860565,0.03840853273868561,-0.034015953540802,-0.02871585451066494,0.01431592833250761,0.023209039121866226,0.032859448343515396,-0.04232281073927879,-0.0035986267030239105,0.04571160301566124,0.0330657958984375,0.09494106471538544,0.04179680719971657,-0.022481806576251984,-0.03856167942285538,0.09437647461891174,-0.002803487703204155,-0.03847670182585716,0.02999827079474926,0.05303393304347992,0.013303558342158794,-0.017583085224032402,0.00778375007212162,-0.044320374727249146,-0.013739834539592266,0.012644382193684578,0.014158696867525578,0.003878055838868022,-0.08313794434070587,0.01061885803937912,-0.009223949164152145,-0.013873538933694363,-0.03186449781060219,-0.009791474789381027,0.0073187523521482944,-0.03515491262078285,-0.023446762934327126,-0.04194682091474533,0.05672609061002731,0.05229884758591652,-0.025812827050685883,-0.08872441947460175,0.029793620109558105,-0.013606151565909386,-0.016797710210084915,-0.018372219055891037,-0.003454075427725911,0.0019053957657888532,-0.05465284734964371,-0.020009158179163933,0.0171820055693388,0.03225918859243393,0.02835751697421074,0.004560610745102167,0.04118676856160164,0.029552917927503586,-0.013647474348545074,-0.04056756943464279,0.04178088903427124,0.01954997330904007,-0.00985659658908844,-0.014313485473394394,-0.03290817514061928,0.0016397506697103381,-0.01437750831246376,-0.012901782058179379,0.0033391055185347795,0.020789002999663353,-0.008832994848489761,0.09385126084089279,0.01475087832659483,-0.018350550904870033,-0.010163231752812862,-0.009468892589211464,0.018481677398085594,-0.06633586436510086,-0.02506493777036667,0.010084383189678192,-0.026147855445742607,-0.019774675369262695,0.04684172570705414,0.009284484200179577,-0.04776398837566376,0.041370242834091187,-0.02627219446003437,-0.021220596507191658,-0.015616118907928467,0.011278434656560421,0.003411089302971959,0.021084517240524292,0.013960112817585468,0.033920057117938995,-0.038716062903404236,-0.01642422378063202,0.03346927836537361,0.024765698239207268,-0.027356281876564026,-0.03481904789805412,-0.028494639322161674,-0.041081350296735764,-6.53327197091153e-33,0.01247737742960453,0.0008287095697596669,-0.04554497078061104,0.06866264343261719,0.0014857283094897866,-0.03050820343196392,0.0473790317773819,-0.011384802870452404,0.01499911304563284,-0.006467719096690416,0.0001283770106965676,-0.00966184027493,-0.002486197277903557,-0.006447490770369768,-0.02835681103169918,0.01008436270058155,0.038331348448991776,-0.009801985695958138,-0.008792737498879433,-0.0010698646074160933,0.023151298984885216,0.057336706668138504,-0.011443283408880234,-0.12594422698020935,-0.01677696593105793,0.009198743849992752,0.026448823511600494,0.005912883207201958,0.03676525875926018,-0.0072345673106610775,-0.007598728407174349,-0.007692873477935791,-0.016446460038423538,0.04000944644212723,-0.043345727026462555,0.016646983101963997,-0.052849315106868744,-0.035093437880277634,0.0020022657699882984,0.011866506189107895,0.09843339025974274,0.028711335733532906,0.03352672979235649,-0.023618753999471664,-0.009437823668122292,-0.024214576929807663,-0.003128511132672429,0.01868237368762493,-0.003269420238211751,0.04593135416507721,0.04409978911280632,0.027294468134641647,-0.0005624734912998974,0.016695162281394005,-0.0191105455160141,0.030813073739409447,0.03086414933204651,0.027249908074736595,-0.0712876096367836,0.00415360601618886,-0.02256135642528534,-0.02488958276808262,-0.010304204188287258,-0.016412954777479172,0.05224275588989258,0.008600987493991852,0.01215402316302061,0.05113019421696663,-0.04879628121852875,0.02594451978802681,0.021461954340338707,-0.007568139582872391,-0.001722937449812889,-0.033140625804662704,0.01452830620110035,-0.026766372844576836,-0.009552392177283764,0.027244791388511658,0.036869216710329056,0.00642044935375452,-0.007838199846446514,0.013393525965511799,-0.002925699111074209,-0.015041890554130077,0.002760948846116662,-0.038711417466402054,-0.0015412926441058517,-0.004975218791514635,0.009198354557156563,-0.004705924075096846,-0.008812621235847473,0.0507366880774498,-0.046016156673431396,0.025945566594600677,-0.017713509500026703,-0.051607195287942886,0.03334636613726616,0.034599289298057556,0.002918804995715618,-0.0487636923789978,0.022729581221938133,0.025921398773789406,-0.05222901701927185,-0.04223809763789177,0.0009369977633468807,-0.0075959148816764355,-0.0059438967145979404,-0.003522929735481739,-0.06260780245065689,0.018020756542682648,0.004803890828043222,0.011582874692976475,-0.0089211231097579,0.002271642442792654,0.018619656562805176,-0.03457394987344742,-0.004796438384801149,0.013687672093510628,0.04266054555773735,0.06657622009515762,-0.017455676570534706,0.0027005719020962715,-0.0528116375207901,0.020968401804566383,0.029615983366966248,-0.04982909932732582,0.008921063505113125,-0.07334496080875397,0.01955508440732956,-0.021092955023050308,0.007392777595669031,-0.02126293070614338,2.8378968863762566e-7,-0.008345912210643291,0.03759254515171051,-0.013131383806467056,0.04146542027592659,0.029101982712745667,-0.05227850005030632,-0.06565887480974197,0.0076802498660981655,0.023523440584540367,-0.07603798061609268,-0.028924793004989624,-0.03855554386973381,0.040253981947898865,0.032341118901968,-0.013021634891629219,-0.11770415306091309,0.046233177185058594,-0.07848415523767471,-0.033485297113657,0.014403221197426319,-0.013964072801172733,-0.009070190601050854,0.05109964311122894,0.00967163685709238,-0.007472547702491283,-0.01248145941644907,0.019431589171290398,-0.05110415071249008,0.015151694416999817,-0.0381641648709774,0.008626057766377926,0.026629913598299026,0.015585286542773247,0.03280753642320633,-0.011688709259033203,-0.003957078326493502,0.00994024332612753,0.013911394402384758,0.007502345833927393,0.08032537996768951,0.05194459855556488,-0.010441146790981293,-0.029321422800421715,-0.005838729441165924,0.02890028804540634,-0.014453318901360035,-0.022438151761889458,0.02163100615143776,0.0022127057891339064,0.013563004322350025,0.0014659997541457415,-0.01930796355009079,-0.0014588275225833058,-0.02094113454222679,0.017593352124094963,0.012428142130374908,0.03952861577272415,0.06714817136526108,0.01205870695412159,0.08886326104402542,-0.021326662972569466,-0.08534897863864899,0.043005675077438354,0.039420563727617264,0.0327199287712574,-0.0401139073073864,-0.03616112470626831,3.6222442864968675e-34,0.046211887151002884,-0.06989692151546478,0.03628760576248169,0.00011773281585192308,0.030494386330246925,-0.019073007628321648,0.12146377563476562,-0.006182996090501547,0.01985897682607174,-0.047916099429130554,-0.029315996915102005]'
SET
  @HasCustomProps_e9d48361 = 1
SET
  @HasCustomEvents_e9d48361 = 0
SET
  @RequiresData_e9d48361 = 0
SET
  @DependencyCount_e9d48361 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_e9d48361 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_e9d48361 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_e9d48361 = 1
SET
  @ID_e9d48361 = 'A5EC4AE9-59E8-41F9-BBD2-59CE14869B4C'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_e9d48361,
  @Name = @Name_e9d48361,
  @Version = @Version_e9d48361,
  @VersionSequence = @VersionSequence_e9d48361,
  @Title = @Title_e9d48361,
  @Description = @Description_e9d48361,
  @Type = @Type_e9d48361,
  @Status = @Status_e9d48361,
  @DeveloperName = @DeveloperName_e9d48361,
  @DeveloperEmail = @DeveloperEmail_e9d48361,
  @DeveloperOrganization = @DeveloperOrganization_e9d48361,
  @SourceRegistryID = @SourceRegistryID_e9d48361,
  @ReplicatedAt = @ReplicatedAt_e9d48361,
  @LastSyncedAt = @LastSyncedAt_e9d48361,
  @Specification = @Specification_e9d48361,
  @FunctionalRequirements = @FunctionalRequirements_e9d48361,
  @TechnicalDesign = @TechnicalDesign_e9d48361,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_e9d48361,
  @TechnicalDesignVector = @TechnicalDesignVector_e9d48361,
  @HasCustomProps = @HasCustomProps_e9d48361,
  @HasCustomEvents = @HasCustomEvents_e9d48361,
  @RequiresData = @RequiresData_e9d48361,
  @DependencyCount = @DependencyCount_e9d48361,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_e9d48361,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_e9d48361,
  @HasRequiredCustomProps = @HasRequiredCustomProps_e9d48361,
  @ID = @ID_e9d48361;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_e8c698a5 NVARCHAR(MAX),
@Name_e8c698a5 NVARCHAR(500),
@Version_e8c698a5 NVARCHAR(50),
@VersionSequence_e8c698a5 INT,
@Title_e8c698a5 NVARCHAR(1000),
@Description_e8c698a5 NVARCHAR(MAX),
@Type_e8c698a5 NVARCHAR(255),
@Status_e8c698a5 NVARCHAR(50),
@DeveloperName_e8c698a5 NVARCHAR(255),
@DeveloperEmail_e8c698a5 NVARCHAR(255),
@DeveloperOrganization_e8c698a5 NVARCHAR(255),
@SourceRegistryID_e8c698a5 UNIQUEIDENTIFIER,
@ReplicatedAt_e8c698a5 DATETIMEOFFSET,
@LastSyncedAt_e8c698a5 DATETIMEOFFSET,
@Specification_e8c698a5 NVARCHAR(MAX),
@FunctionalRequirements_e8c698a5 NVARCHAR(MAX),
@TechnicalDesign_e8c698a5 NVARCHAR(MAX),
@FunctionalRequirementsVector_e8c698a5 NVARCHAR(MAX),
@TechnicalDesignVector_e8c698a5 NVARCHAR(MAX),
@HasCustomProps_e8c698a5 BIT,
@HasCustomEvents_e8c698a5 BIT,
@RequiresData_e8c698a5 BIT,
@DependencyCount_e8c698a5 INT,
@TechnicalDesignVectorEmbeddingModelID_e8c698a5 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_e8c698a5 NVARCHAR(MAX),
@HasRequiredCustomProps_e8c698a5 BIT,
@ID_e8c698a5 UNIQUEIDENTIFIER
SET
  @Namespace_e8c698a5 = N'CRM/Analytics'
SET
  @Name_e8c698a5 = N'ProductRevenueMatrix'
SET
  @Version_e8c698a5 = N'1.0.0'
SET
  @VersionSequence_e8c698a5 = 1
SET
  @Title_e8c698a5 = N'Product Revenue Matrix'
SET
  @Description_e8c698a5 = N'Visualize product performance across customers and time periods in an interactive matrix format with treemap and sparklines'
SET
  @Type_e8c698a5 = N'Table'
SET
  @Status_e8c698a5 = N'Published'
SET
  @Specification_e8c698a5 = N'{"name":"ProductRevenueMatrix","namespace":"CRM/Analytics","type":"Matrix","location":"embedded","code":"function ProductRevenueMatrix({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  const [products, setProducts] = useState([]);\n  const [lineItems, setLineItems] = useState([]);\n  const [invoices, setInvoices] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [isPanelOpen, setIsPanelOpen] = useState(false);\n  const [viewMode, setViewMode] = useState(savedUserSettings?.viewMode || ''treemap'');\n  const [timePeriod, setTimePeriod] = useState(savedUserSettings?.timePeriod || ''month'');\n  const [sortBy, setSortBy] = useState(''revenue'');\n  const [startDate, setStartDate] = useState(savedUserSettings?.startDate || null);\n  const [endDate, setEndDate] = useState(savedUserSettings?.endDate || null);\n  const [aiInsights, setAiInsights] = useState(null);\n  const [loadingInsights, setLoadingInsights] = useState(false);\n  const [insightsError, setInsightsError] = useState(null);\n  const [insightsCollapsed, setInsightsCollapsed] = useState(false);\n\n  // Load sub-components from registry\n  const {\n    ProductRevenueTreemap,\n    ProductRevenueMatrixTable,\n    ProductRevenueDetailPanel,\n    AIInsightsPanel\n  } = components;\n\n  useEffect(() => {\n    loadData();\n  }, [timePeriod, startDate, endDate]);\n\n  const loadData = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const dateFilter = getDateFilter();\n      \n      // Use RunViews for batch loading - single server call\n      const batchResults = await utilities.rv.RunViews([\n        {\n          EntityName: ''Products'',\n          OrderBy: ''Name ASC''\n        },\n        {\n          EntityName: ''Invoice Line Items'',\n          OrderBy: ''TotalPrice DESC'',\n          MaxRows: 1000\n        },\n        {\n          EntityName: ''Invoices'',\n          ExtraFilter: dateFilter,\n          OrderBy: ''InvoiceDate DESC'',\n          MaxRows: 500\n        }\n      ]);\n\n      // Process results - RunViews returns an array directly\n      if (batchResults && Array.isArray(batchResults)) {\n        const [productsResult, lineItemsResult, invoicesResult] = batchResults;\n        \n        let hasError = false;\n        \n        if (productsResult.Success) {\n          setProducts(productsResult.Results || []);\n        } else {\n          console.error(''Failed to load products:'', productsResult.ErrorMessage);\n          hasError = true;\n        }\n        \n        if (lineItemsResult.Success) {\n          setLineItems(lineItemsResult.Results || []);\n        } else {\n          console.error(''Failed to load line items:'', lineItemsResult.ErrorMessage);\n          hasError = true;\n        }\n        \n        if (invoicesResult.Success) {\n          setInvoices(invoicesResult.Results || []);\n        } else {\n          console.error(''Failed to load invoices:'', invoicesResult.ErrorMessage);\n          hasError = true;\n        }\n        \n        // Only set error if something critical failed and we have no data to work with\n        if (hasError && products.length === 0 && lineItems.length === 0 && invoices.length === 0) {\n          setError(''Failed to load data. Please try again.'');\n        } else {\n          // Clear any previous errors if we have some data\n          setError(null);\n        }\n      } else {\n        setError(''Failed to load data'');\n      }\n    } catch (err) {\n      setError(err.message);\n      console.error(''Error loading data:'', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getDateFilter = () => {\n    // If custom dates are set, use them\n    if (timePeriod === ''custom'' && startDate && endDate) {\n      return `InvoiceDate >= ''$' + '{startDate}'' AND InvoiceDate <= ''$' + '{endDate}''`;\n    }\n    \n    const now = new Date();\n    let filterStart;\n    \n    switch (timePeriod) {\n      case ''month'':\n        filterStart = new Date(now.getFullYear(), now.getMonth(), 1);\n        break;\n      case ''quarter'':\n        filterStart = new Date(now.getFullYear(), Math.floor(now.getMonth() / 3) * 3, 1);\n        break;\n      case ''year'':\n        filterStart = new Date(now.getFullYear(), 0, 1);\n        break;\n      case ''all'':\n        return '''';\n      default:\n        return '''';\n    }\n    \n    return filterStart ? `InvoiceDate >= ''$' + '{filterStart.toISOString().split(''T'')[0]}''` : '''';\n  };\n\n  const calculateProductMetrics = () => {\n    const productMetrics = {};\n    \n    // Initialize metrics for each product\n    products.forEach(product => {\n      productMetrics[product.ID] = {\n        id: product.ID,\n        name: product.Name,\n        category: product.Category || ''Uncategorized'',\n        price: product.UnitPrice || 0,\n        cost: product.Cost || 0,\n        revenue: 0,\n        quantity: 0,\n        margin: 0,\n        customers: new Set(),\n        transactions: 0,\n        trend: []\n      };\n    });\n    \n    // Calculate revenue from line items\n    const invoiceIds = new Set(invoices.map(inv => inv.ID));\n    \n    lineItems.forEach(item => {\n      if (invoiceIds.has(item.InvoiceID) && productMetrics[item.ProductID]) {\n        const metrics = productMetrics[item.ProductID];\n        // Use TotalPrice if available, otherwise calculate\n        const lineTotal = item.TotalPrice || (item.Quantity * item.UnitPrice * (1 - (item.Discount || 0) / 100));\n        metrics.revenue += lineTotal;\n        metrics.quantity += item.Quantity || 0;\n        metrics.transactions++;\n        \n        // Find invoice to get customer\n        const invoice = invoices.find(inv => inv.ID === item.InvoiceID);\n        if (invoice && invoice.AccountID) {\n          metrics.customers.add(invoice.AccountID);\n        }\n      }\n    });\n    \n    // Calculate margins and generate trend data\n    Object.values(productMetrics).forEach(metrics => {\n      if (metrics.price > 0 && metrics.cost > 0) {\n        metrics.margin = ((metrics.price - metrics.cost) / metrics.price * 100);\n      }\n      metrics.customerCount = metrics.customers.size;\n      \n      // Generate trend data (simulated for demo - in real app, calculate from historical data)\n      for (let i = 0; i < 12; i++) {\n        metrics.trend.push(Math.random() * metrics.revenue * 0.3 + metrics.revenue * 0.7);\n      }\n    });\n    \n    return productMetrics;\n  };\n\n\n  const generateAIInsights = async () => {\n    if (!products || products.length === 0 || !lineItems || lineItems.length === 0) {\n      setInsightsError(''No data available for analysis'');\n      return;\n    }\n\n    setLoadingInsights(true);\n    setInsightsError(null);\n    \n    try {\n      const metrics = calculateProductMetrics();\n      const topProductsList = Object.values(metrics)\n        .filter(p => p.revenue > 0)\n        .sort((a, b) => b.revenue - a.revenue);\n      \n      // Calculate key insights data\n      const totalRevenue = topProductsList.reduce((sum, p) => sum + p.revenue, 0);\n      const avgMargin = topProductsList.length > 0 \n        ? topProductsList.reduce((sum, p) => sum + p.margin, 0) / topProductsList.length \n        : 0;\n      \n      // Find underperformers\n      const underperformers = topProductsList.filter(p => p.margin < 20 && p.revenue > 0);\n      \n      // Calculate category performance\n      const categoryPerformance = {};\n      topProductsList.forEach(p => {\n        if (!categoryPerformance[p.category]) {\n          categoryPerformance[p.category] = { revenue: 0, products: 0, avgMargin: 0 };\n        }\n        categoryPerformance[p.category].revenue += p.revenue;\n        categoryPerformance[p.category].products++;\n        categoryPerformance[p.category].avgMargin += p.margin;\n      });\n      \n      Object.values(categoryPerformance).forEach(cat => {\n        cat.avgMargin = cat.products > 0 ? cat.avgMargin / cat.products : 0;\n      });\n      \n      // Customer concentration\n      const uniqueCustomers = new Set();\n      lineItems.forEach(item => {\n        const invoice = invoices.find(inv => inv.ID === item.InvoiceID);\n        if (invoice?.AccountID) uniqueCustomers.add(invoice.AccountID);\n      });\n\n      const prompt = `Analyze this product revenue data and provide strategic insights:\n\n## Product Performance Summary\n- **Total Products:** $' + '{products.length}\n- **Active Products (with revenue):** $' + '{topProductsList.length}\n- **Total Revenue:** $$' + '{totalRevenue?.toLocaleString() || ''0''}\n- **Average Margin:** $' + '{avgMargin?.toFixed(1) || ''0''}%\n- **Unique Customers:** $' + '{uniqueCustomers.size}\n- **Time Period:** $' + '{timePeriod === ''custom'' ? `$' + '{startDate} to $' + '{endDate}` : `Last $' + '{timePeriod}`}\n\n## Top 5 Products by Revenue\n$' + '{topProductsList.slice(0, 5).map((p, i) =>\n  `$' + '{i + 1}. **$' + '{p.name}**\n   - Revenue: $$' + '{p.revenue?.toLocaleString() || ''0''}\n   - Margin: $' + '{p.margin?.toFixed(1) || ''0''}%\n   - Customers: $' + '{p.customers.size}\n   - Units Sold: $' + '{p.quantity}`\n).join(''\\n'')}\n\n## Category Performance\n$' + '{Object.entries(categoryPerformance)\n  .sort((a, b) => b[1].revenue - a[1].revenue)\n  .slice(0, 5)\n  .map(([cat, data]) =>\n    `- **$' + '{cat}:** $$' + '{data.revenue?.toLocaleString() || ''0''} revenue, $' + '{data.products} products, $' + '{data.avgMargin?.toFixed(1) || ''0''}% avg margin`\n  ).join(''\\n'')}\n\n## Underperforming Products (margin < 20%)\n$' + '{underperformers.length > 0\n  ? underperformers.slice(0, 5).map(p =>\n      `- **$' + '{p.name}:** $' + '{p.margin?.toFixed(1) || ''0''}% margin, $$' + '{p.revenue?.toLocaleString() || ''0''} revenue`\n    ).join(''\\n'')\n  : ''No underperforming products identified''}\n\n## Revenue Distribution\n- **Top 20% of products generate:** $' + '{((topProductsList.slice(0, Math.ceil(topProductsList.length * 0.2))\n    .reduce((sum, p) => sum + p.revenue, 0) / totalRevenue) * 100)?.toFixed(1) || ''0''}% of revenue\n- **Products with zero revenue:** $' + '{products.length - topProductsList.length}\n\nBased on this specific data, please provide:\n1. **Portfolio Health Assessment** - Is this product mix balanced and healthy?\n2. **Margin Optimization Opportunities** - Which specific products need pricing/cost review?\n3. **Growth Opportunities** - What expansion potential exists based on the data?\n4. **Risk Factors** - What concentration risks or declining products should we monitor?\n5. **Strategic Recommendations** - 3-4 specific actionable next steps\n\nUse markdown formatting with headers (##), bullet points, and **bold** text. Reference the actual numbers in your analysis.`;\n\n      const result = await utilities.ai.ExecutePrompt({\n        systemPrompt: ''You are a product portfolio analyst specializing in revenue optimization and product strategy. Analyze the specific product data provided and give actionable insights. Always reference the actual numbers and percentages from the data. Format your response in clear markdown.'',\n        messages: prompt,\n        preferredModels: [''GPT-OSS-120B'', ''Qwen3 32B''],\n        modelPower: ''high'',\n        temperature: 0.7,\n        maxTokens: 1500\n      });\n\n      if (result?.success && result?.result) {\n        setAiInsights(result.result);\n      } else {\n        setInsightsError(''Failed to generate insights. Please try again.'');\n      }\n    } catch (error) {\n      console.error(''Error generating AI insights:'', error);\n      setInsightsError(''An error occurred while generating insights'');\n    } finally {\n      setLoadingInsights(false);\n    }\n  };\n\n  const handleProductClick = (product) => {\n    setSelectedProduct(product);\n    setIsPanelOpen(true);\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading product revenue data...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#EF4444'' }}>Error: {error}</div>\n        <button \n          onClick={loadData}\n          style={{\n            marginTop: ''16px'',\n            padding: ''8px 16px'',\n            backgroundColor: ''#3B82F6'',\n            color: ''white'',\n            border: ''none'',\n            borderRadius: ''6px'',\n            cursor: ''pointer''\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  const productMetrics = calculateProductMetrics();\n  const topProducts = Object.values(productMetrics)\n    .filter(p => p.revenue > 0)\n    .sort((a, b) => b.revenue - a.revenue)\n    .slice(0, 5);\n\n  return (\n    <div style={{ padding: ''20px'', backgroundColor: ''#F3F4F6'', minHeight: ''100%'' }}>\n      <style>{`\n        @media (max-width: 1024px) {\n          .product-revenue-grid {\n            grid-template-columns: 1fr !important;\n          }\n        }\n        \n        /* Markdown content styling */\n        .markdown-insights h1 { font-size: 20px; font-weight: 600; color: #111827; margin: 16px 0 12px 0; }\n        .markdown-insights h2 { font-size: 18px; font-weight: 600; color: #1F2937; margin: 14px 0 10px 0; }\n        .markdown-insights h3 { font-size: 16px; font-weight: 600; color: #374151; margin: 12px 0 8px 0; }\n        .markdown-insights h4 { font-size: 14px; font-weight: 600; color: #4B5563; margin: 10px 0 6px 0; }\n        .markdown-insights p { margin: 8px 0; color: #374151; line-height: 1.6; }\n        .markdown-insights ul, .markdown-insights ol { margin: 8px 0; padding-left: 24px; color: #374151; }\n        .markdown-insights li { margin: 4px 0; line-height: 1.5; }\n        .markdown-insights strong { font-weight: 600; color: #1F2937; }\n        .markdown-insights em { font-style: italic; }\n        .markdown-insights code { background: #F3F4F6; padding: 2px 4px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }\n        .markdown-insights blockquote { border-left: 3px solid #10B981; padding-left: 12px; margin: 12px 0; color: #4B5563; }\n        .markdown-insights hr { border: none; border-top: 1px solid #E5E7EB; margin: 16px 0; }\n        .markdown-insights a { color: #10B981; text-decoration: none; }\n        .markdown-insights a:hover { text-decoration: underline; }\n      `}</style>\n      <div style={{ marginBottom: ''20px'' }}>\n        <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'', marginBottom: ''20px'', flexWrap: ''wrap'', gap: ''12px'' }}>\n          <h2 style={{ margin: 0, fontSize: ''24px'', fontWeight: ''bold'' }}>Product Revenue Matrix</h2>\n          <div style={{ display: ''flex'', gap: ''8px'' }}>\n            <select\n              value={timePeriod}\n              onChange={(e) => {\n                const newPeriod = e.target.value;\n                setTimePeriod(newPeriod);\n                if (newPeriod !== ''custom'') {\n                  setStartDate(null);\n                  setEndDate(null);\n                  onSaveUserSettings({ \n                    ...savedUserSettings, \n                    timePeriod: newPeriod,\n                    startDate: null,\n                    endDate: null\n                  });\n                } else {\n                  onSaveUserSettings({ ...savedUserSettings, timePeriod: newPeriod });\n                }\n              }}\n              style={{\n                padding: ''6px 12px'',\n                border: ''1px solid #D1D5DB'',\n                borderRadius: ''6px''\n              }}\n            >\n              <option value=\"month\">This Month</option>\n              <option value=\"quarter\">This Quarter</option>\n              <option value=\"year\">This Year</option>\n              <option value=\"all\">All Time</option>\n              <option value=\"custom\">Custom Range</option>\n            </select>\n            \n            {timePeriod === ''custom'' && (\n              <>\n                <input\n                  type=\"date\"\n                  value={startDate || ''''}\n                  onChange={(e) => {\n                    setStartDate(e.target.value);\n                    if (e.target.value && endDate) {\n                      onSaveUserSettings({ \n                        ...savedUserSettings, \n                        startDate: e.target.value,\n                        endDate,\n                        timePeriod: ''custom''\n                      });\n                    }\n                  }}\n                  style={{\n                    padding: ''6px 12px'',\n                    border: ''1px solid #D1D5DB'',\n                    borderRadius: ''6px''\n                  }}\n                />\n                <span style={{ color: ''#6B7280'', fontSize: ''14px'' }}>to</span>\n                <input\n                  type=\"date\"\n                  value={endDate || ''''}\n                  onChange={(e) => {\n                    setEndDate(e.target.value);\n                    if (startDate && e.target.value) {\n                      onSaveUserSettings({ \n                        ...savedUserSettings, \n                        startDate,\n                        endDate: e.target.value,\n                        timePeriod: ''custom''\n                      });\n                    }\n                  }}\n                  style={{\n                    padding: ''6px 12px'',\n                    border: ''1px solid #D1D5DB'',\n                    borderRadius: ''6px''\n                  }}\n                />\n              </>\n            )}\n            <button\n              onClick={() => {\n                const newMode = viewMode === ''treemap'' ? ''matrix'' : ''treemap'';\n                setViewMode(newMode);\n                onSaveUserSettings({ ...savedUserSettings, viewMode: newMode });\n              }}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: ''#8B5CF6'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: ''pointer''\n              }}\n            >\n              <i className={`fa-solid fa-$' + '{viewMode === ''treemap'' ? ''table'' : ''chart-treemap''}`}></i>\n              {viewMode === ''treemap'' ? '' Matrix View'' : '' Treemap View''}\n            </button>\n            <button\n              onClick={generateAIInsights}\n              disabled={loadingInsights}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: loadingInsights ? ''#9CA3AF'' : ''#10B981'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: loadingInsights ? ''not-allowed'' : ''pointer'',\n                display: ''flex'',\n                alignItems: ''center'',\n                gap: ''6px''\n              }}\n            >\n              <i className={`fa-solid fa-$' + '{loadingInsights ? ''spinner fa-spin'' : ''wand-magic-sparkles''}`}></i>\n              {loadingInsights ? ''Analyzing...'' : ''Get AI Insights''}\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      {/* AI Insights Panel from Registry */}\n      {AIInsightsPanel && (aiInsights || insightsError) && (\n        <AIInsightsPanel\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n          savedUserSettings={savedUserSettings}\n          onSaveUserSettings={onSaveUserSettings}\n          insights={aiInsights}\n          loading={loadingInsights}\n          error={insightsError}\n          onGenerate={generateAIInsights}\n          onClose={() => {\n            setAiInsights(null);\n            setInsightsError(null);\n            setInsightsCollapsed(false);\n          }}\n          title=\"AI-Powered Product Portfolio Insights\"\n          icon=\"fa-wand-magic-sparkles\"\n          iconColor=\"#10B981\"\n          defaultCollapsed={insightsCollapsed}\n          onToggleCollapse={() => setInsightsCollapsed(!insightsCollapsed)}\n        />\n      )}\n      \n      <div style={{ marginBottom: ''20px'' }}>\n        {/* Top Products Summary */}\n        <div style={{ display: ''grid'', gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'', gap: ''12px'', marginBottom: ''20px'' }}>\n          {topProducts.map((product, index) => (\n            <div\n              key={product.id}\n              style={{\n                padding: ''12px'',\n                backgroundColor: ''white'',\n                borderRadius: ''8px'',\n                border: ''1px solid #E5E7EB'',\n                cursor: ''pointer'',\n                transition: ''all 0.2s''\n              }}\n              onClick={() => handleProductClick(product)}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.transform = ''translateY(-2px)'';\n                e.currentTarget.style.boxShadow = ''0 4px 6px rgba(0,0,0,0.1)'';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.transform = ''translateY(0)'';\n                e.currentTarget.style.boxShadow = ''none'';\n              }}\n            >\n              <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''start'' }}>\n                <div>\n                  <div style={{ fontSize: ''14px'', fontWeight: ''bold'', marginBottom: ''4px'' }}>\n                    #{index + 1} {product.name}\n                  </div>\n                  <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n                    {product.category}\n                  </div>\n                </div>\n                <div style={{ textAlign: ''right'' }}>\n                  <div style={{ fontSize: ''16px'', fontWeight: ''bold'', color: ''#8B5CF6'' }}>\n                    $' + '{(product.revenue / 1000)?.toFixed(1) || ''0''}K\n                  </div>\n                  <div style={{ fontSize: ''11px'', color: product.margin > 30 ? ''#10B981'' : ''#F59E0B'' }}>\n                    {product.margin?.toFixed(0) || ''0''}% margin\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n      \n      {/* Main Content Grid - responsive layout */}\n      <div \n        className=\"product-revenue-grid\"\n        style={{ \n          display: ''grid'', \n          gridTemplateColumns: isPanelOpen ? ''1fr 400px'' : ''1fr'',\n          gap: ''20px'',\n          transition: ''grid-template-columns 0.3s ease''\n        }}\n      >\n        {/* Main Visualization Area */}\n        <div style={{ backgroundColor: ''white'', borderRadius: ''8px'', padding: ''20px'', minWidth: 0 }}>\n          {viewMode === ''treemap'' && ProductRevenueTreemap && (\n            <ProductRevenueTreemap\n              products={products}\n              lineItems={lineItems}\n              invoices={invoices}\n              onProductClick={handleProductClick}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings}\n              onSaveUserSettings={onSaveUserSettings}\n            />\n          )}\n\n          {viewMode === ''matrix'' && ProductRevenueMatrixTable && (\n            <ProductRevenueMatrixTable\n              products={products}\n              lineItems={lineItems}\n              invoices={invoices}\n              sortBy={sortBy}\n              onSortChange={setSortBy}\n              onProductClick={handleProductClick}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings}\n              onSaveUserSettings={onSaveUserSettings}\n            />\n          )}\n        </div>\n\n        {/* Product Detail Panel - inline responsive */}\n        {isPanelOpen && ProductRevenueDetailPanel && (\n          <div style={{ minWidth: 0 }}>\n            <ProductRevenueDetailPanel\n              product={selectedProduct}\n              isOpen={isPanelOpen}\n              onClose={() => {\n                setIsPanelOpen(false);\n                setSelectedProduct(null);\n              }}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings}\n              onSaveUserSettings={onSaveUserSettings}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","functionalRequirements":"## Product Revenue Matrix\n\n### Purpose\nVisualize product performance across customers and time periods in an interactive matrix format.\n\n### Core Features\n- **Product/Customer Matrix**: Cross-reference sales data\n- **Time Period Analysis**: Monthly, quarterly, yearly views\n- **Growth Indicators**: Show trends with sparklines\n- **Profitability Metrics**: Margin analysis per product\n- **Interactive Treemap**: Using Highcharts visualization\n- **Product Categories**: Group products hierarchically\n- **Slide-out Details**: Product performance deep-dive\n- **Filtering & Sorting**: Multiple sort options\n\n### Visualizations\n- Treemap for product hierarchy\n- Matrix grid with color coding\n- Sparklines for trends\n- Bubble chart for volume/value analysis","dataRequirements":{"mode":"views","entities":[{"name":"Products","description":"Product catalog with pricing and cost information","displayFields":["ID","Name","Category","UnitPrice","Cost"],"filterFields":[],"sortFields":["Name"],"fieldMetadata":[],"permissionLevelNeeded":["read"]},{"name":"Invoice Line Items","description":"Line items linking products to invoices with quantities and pricing","displayFields":["ID","InvoiceID","ProductID","Quantity","UnitPrice","TotalPrice","Discount"],"filterFields":[],"sortFields":["TotalPrice"],"fieldMetadata":[],"permissionLevelNeeded":["read"]},{"name":"Invoices","description":"Invoice headers with dates and customer references","displayFields":["ID","AccountID","InvoiceDate"],"filterFields":["InvoiceDate"],"sortFields":["InvoiceDate"],"fieldMetadata":[],"permissionLevelNeeded":["read"]}],"queries":[]},"technicalDesign":"## Implementation\n\n### Components\n- Main: ProductRevenueMatrix\n- Sub-components:\n  - RevenueTreemap: Hierarchical product visualization\n  - ProductMatrix: Grid view of products\n  - TrendSparkline: Mini trend charts\n  - ProductDetails: Detailed analysis panel\n\n### Data Processing\n- Aggregate sales by product and period\n- Calculate margins and profitability\n- Generate trend data\n- Build hierarchical structures","properties":[],"events":[{"name":"OpenEntityRecord","description":"Navigate to product details"}],"dependencies":[{"name":"RevenueTreemap","location":"registry","namespace":"CRM/Analytics","version":"^1.0.0"},{"name":"ProductMatrix","location":"registry","namespace":"CRM/Analytics","version":"^1.0.0"},{"name":"ProductDetailsPanel","location":"registry","namespace":"CRM/Analytics","version":"^1.0.0"},{"name":"AIInsightsPanel","namespace":"Generic/UI/AI","location":"registry","version":"^1.0.0"}],"libraries":[],"description":"Visualize product performance across customers and time periods in an interactive matrix format with treemap and sparklines"}'
SET
  @FunctionalRequirements_e8c698a5 = N'## Product Revenue Matrix

### Purpose
Visualize product performance across customers and time periods in an interactive matrix format.

### Core Features
- **Product/Customer Matrix**: Cross-reference sales data
- **Time Period Analysis**: Monthly, quarterly, yearly views
- **Growth Indicators**: Show trends with sparklines
- **Profitability Metrics**: Margin analysis per product
- **Interactive Treemap**: Using Highcharts visualization
- **Product Categories**: Group products hierarchically
- **Slide-out Details**: Product performance deep-dive
- **Filtering & Sorting**: Multiple sort options

### Visualizations
- Treemap for product hierarchy
- Matrix grid with color coding
- Sparklines for trends
- Bubble chart for volume/value analysis'
SET
  @TechnicalDesign_e8c698a5 = N'## Implementation

### Components
- Main: ProductRevenueMatrix
- Sub-components:
  - RevenueTreemap: Hierarchical product visualization
  - ProductMatrix: Grid view of products
  - TrendSparkline: Mini trend charts
  - ProductDetails: Detailed analysis panel

### Data Processing
- Aggregate sales by product and period
- Calculate margins and profitability
- Generate trend data
- Build hierarchical structures'
SET
  @FunctionalRequirementsVector_e8c698a5 = N'[0.007678233087062836,0.004283993039280176,-0.03290477395057678,-0.0382024385035038,0.03307664766907692,0.01391365472227335,0.0441943034529686,-0.004274584352970123,-0.07178258150815964,-0.026498835533857346,-0.054950106889009476,0.023350361734628677,0.029383543878793716,0.16352340579032898,-0.018498653545975685,-0.07000058889389038,-0.020367266610264778,-0.008679361082613468,-0.01983085460960865,0.015768446028232574,0.01955617219209671,-0.029292399063706398,0.004508075304329395,-0.0155905457213521,-0.05418548360466957,-0.029693633317947388,-0.030641330406069756,0.012143743224442005,-0.010226071812212467,-0.07747350633144379,-0.003894723718985915,0.011940413154661655,-0.00471116229891777,0.03175853192806244,0.000002036623072854127,-0.03495759889483452,-0.049383897334337234,0.015195869840681553,-0.00771472230553627,0.07414048910140991,0.10243555903434753,-0.04052363708615303,0.027754036709666252,-0.014805358834564686,0.037351880222558975,-0.001416917541064322,-0.03347562253475189,0.05229257047176361,0.023652540519833565,-0.022052951157093048,-0.003884165547788143,-0.062140628695487976,-0.019551213830709457,0.02290177159011364,-0.012905395589768887,-0.02166161499917507,-0.030170848593115807,0.017542319372296333,0.01683800294995308,-0.02744378335773945,-0.032581672072410583,0.02757268026471138,0.006627248600125313,-0.04904375225305557,0.11048825085163116,0.04872489720582962,0.07646004110574722,-0.01681065745651722,-0.04929784685373306,0.035263657569885254,0.022215528413653374,0.013898738659918308,0.008089778944849968,-0.036917414516210556,-0.013115244917571545,-0.046865854412317276,-0.014113106764853,0.011410018429160118,0.011324707418680191,-0.021678008139133453,-0.08729484677314758,0.034051645547151566,-0.04569164663553238,-0.03947702795267105,0.010257779620587826,0.02887769043445587,0.009970424696803093,-0.022738777101039886,-0.009773869067430496,-0.06236432120203972,0.03492848202586174,0.02111341618001461,-0.013434979133307934,-0.010549468919634819,-0.049319345504045486,-0.013053961098194122,0.06550534069538116,-0.05268160253763199,0.028227370232343674,-0.06713909655809402,0.06287151575088501,0.012397014535963535,0.022415557876229286,0.045302920043468475,-0.012244046665728092,0.05583173781633377,-0.018914660438895226,-0.06549308449029922,-0.013174007646739483,0.028071466833353043,0.005826471373438835,-0.02007432095706463,0.004074163269251585,0.017259247601032257,-0.022906087338924408,0.028098879382014275,-0.08453638106584549,-0.017797473818063736,-0.039319369941949844,0.015369587577879429,0.04707172140479088,0.02728208154439926,0.0007470390992239118,0.008296896703541279,0.007944349199533463,0.0033718226477503777,-0.04790138825774193,-0.014475303702056408,-0.023566488176584244,0.021160921081900597,0.014001280069351196,0.028703365474939346,0.011240889318287373,0.006869571283459663,-0.0050821369513869286,0.011715645901858807,-0.009507393464446068,0.002176779555156827,-0.05719016119837761,-0.02928326092660427,-0.013043981976807117,0.019494468346238136,-0.004931015893816948,0.046486593782901764,0.025776080787181854,-0.07106125354766846,-0.009078526869416237,0.11827987432479858,-0.009006932377815247,-0.0028467935044318438,0.008559441193938255,0.025117121636867523,-0.020546697080135345,0.02852197363972664,0.003134048543870449,-0.05423593521118164,0.01774204522371292,-0.051648661494255066,-0.0068012988194823265,0.01125803031027317,-0.012025232426822186,-0.0367773175239563,-0.000679694814607501,-0.023159947246313095,-0.06902638077735901,-0.03920353949069977,-0.12398811429738998,0.018308300524950027,-0.07171586155891418,-0.01785714365541935,0.0003113968123216182,-0.04477240890264511,0.013024229556322098,0.022283758968114853,0.02744297869503498,0.009922768920660019,0.050017379224300385,0.018434830009937286,0.010749765671789646,-0.037720490247011185,0.021700618788599968,-0.1486794799566269,0.08400855958461761,-0.005824406631290913,0.07241202145814896,0.00666819978505373,-0.05998263135552406,0.01215140987187624,0.006743228062987328,0.017074769362807274,0.0043941219337284565,-0.003094658488407731,-0.03368443250656128,0.012337728403508663,-0.0012778624659404159,0.00009990297985496,-0.007595248986035585,-0.06458346545696259,0.014798692427575588,-0.034399427473545074,-0.042852893471717834,0.01400594599545002,0.07408895343542099,0.026514636352658272,-0.012425627559423447,-0.007036204449832439,0.014943248592317104,-0.013596379198133945,-0.04741984233260155,0.03798707574605942,-0.0513482391834259,-0.0005393727333284914,-0.050974756479263306,0.02068042941391468,-0.004876069258898497,0.017875513061881065,0.051536742597818375,0.05666457489132881,-0.06570128351449966,-0.015707220882177353,0.003173594130203128,0.0389815978705883,0.050323471426963806,-0.014082019217312336,0.05265805870294571,0.07453448325395584,0.052822742611169815,-0.012075371108949184,0.05023565515875816,0.050861772149801254,0.011668030172586441,0.003969726152718067,0.03208614140748978,-0.013940398581326008,0.017328688874840736,0.023596150800585747,0.08254214376211166,0.11551015079021454,-0.02488071285188198,0.02550782822072506,-0.028063179925084114,-0.041272569447755814,-0.0035903467796742916,0.004161826800554991,0.01620388776063919,-0.027818752452731133,-0.03731102496385574,-0.004795142915099859,0.008847443386912346,-0.04403338208794594,0.01395045779645443,0.024445531889796257,0.08284590393304825,-0.003822001628577709,-0.002852103905752301,-0.016943255439400673,-0.060415416955947876,-0.015406097285449505,0.02552325278520584,0.07544976472854614,0.03185950219631195,-0.011669792234897614,-0.037817612290382385,-0.035715676844120026,-0.003515441669151187,-0.033169884234666824,0.11135221272706985,0.008981957100331783,0.0018579453462734818,0.033114995807409286,0.0023638163693249226,0.029791824519634247,-0.020965272560715675,0.02624199353158474,-0.0122151430696249,0.03663894906640053,-0.005538531579077244,0.008682590909302235,-0.032273441553115845,-0.008999883197247982,-0.0017541350098326802,-0.04242248088121414,0.01905885338783264,0.006389015819877386,-0.02709018625319004,0.019165880978107452,0.04796556755900383,-0.008612606674432755,0.007326170802116394,-0.05574502423405647,-0.03447040542960167,-0.027353499084711075,-0.011045325547456741,0.044773414731025696,-0.03444995358586311,0.022941207513213158,0.06619922816753387,0.01921926625072956,0.023627007380127907,0.0014924388378858566,-0.006757504306733608,-0.030266452580690384,-0.015852639451622963,0.02262137271463871,-0.014564484357833862,0.04110579565167427,0.04008793830871582,0.01536309253424406,0.029194112867116928,0.05146316811442375,0.0038537653163075447,-0.012224164791405201,-0.02305160090327263,-0.044005442410707474,0.008841186761856079,-0.004203033167868853,-0.010496382601559162,-0.04730607569217682,-0.02011757716536522,0.06552474200725555,0.005712816491723061,-0.02139890193939209,-0.011261223815381527,0.012132985517382622,-0.03169223666191101,0.011805796064436436,-0.037459298968315125,-0.021152133122086525,-0.03337625414133072,-0.01585196517407894,-0.01096857339143753,-0.05387941375374794,-0.020697027444839478,0.03534093499183655,0.02479991316795349,0.018771352246403694,-0.02243999019265175,-0.0033040386624634266,0.0028609377332031727,-0.02422122098505497,-0.0037407949566841125,0.03352808579802513,-0.027929462492465973,-0.0313892662525177,0.03648512065410614,-0.02896498143672943,0.051166411489248276,0.02216009981930256,-0.05305725708603859,0.04183207079768181,0.027541713789105415,-0.005409428849816322,-0.006460681091994047,-0.023135539144277573,0.022377902641892433,0.027798382565379143,-0.05410130321979523,0.018610987812280655,-0.002923634136095643,-0.05202709510922432,0.05247853323817253,-0.001191978924907744,-0.012180465273559093,0.034702833741903305,-0.01772254705429077,0.030973872169852257,-0.004009155556559563,0.03650892153382301,0.03581440821290016,-0.013270709663629532,-0.04954814165830612,0.025892293080687523,0.03801495581865311,0.026456914842128754,-0.011825230903923512,-0.04808300361037254,0.013963130302727222,0.04918868839740753,-0.01613939180970192,0.005804748274385929,0.03719065710902214,0.004164163954555988,0.11330420523881912,-0.031466588377952576,0.07493651658296585,-0.004744723439216614,-0.011901982128620148,-0.04309595748782158,-0.08260292559862137,0.025326941162347794,-0.0006187328835949302,0.033919233828783035,-0.049960121512413025,-0.011869384907186031,-0.041711464524269104,-0.006182388868182898,0.03827124089002609,-0.012949872761964798,-0.026558788493275642,-0.004014738369733095,-0.005227975081652403,-0.013682701624929905,-0.06766100972890854,-0.037782877683639526,0.047034021466970444,-0.08695001155138016,0.006515634711831808,0.03250889480113983,-0.020540360361337662,-0.002426089020445943,-0.00854378193616867,0.017479099333286285,0.0055890195071697235,-0.02796897292137146,-0.001225565792992711,0.021400965750217438,-0.002520692301914096,0.023554865270853043,0.010446926578879356,0.07246258109807968,0.05476340651512146,-0.00713588809594512,0.023709485307335854,0.026001818478107452,-0.021573025733232498,0.0018786375876516104,0.010610167868435383,-0.10853403806686401,-0.008484124206006527,0.0010149561567232013,0.008444053120911121,-0.006624035071581602,-0.014231347478926182,-0.00891563855111599,-0.026459956541657448,-0.012860223650932312,0.04447530210018158,-0.0243569016456604,-0.03838251903653145,-0.013647064566612244,0.01787634938955307,0.026701658964157104,0.008196115493774414,-0.028297577053308487,-0.053034745156764984,-0.04433499649167061,-0.006565389689058065,0.0498809777200222,-0.043841976672410965,0.02975635789334774,0.022079043090343475,-0.020980410277843475,0.07205162197351456,0.0318337120115757,-0.0003950136015191674,-0.025443190708756447,-0.021777331829071045,-0.007763552945107222,-0.028876498341560364,0.0025704388972371817,0.022626345977187157,0.008763269521296024,-0.03718256205320358,0.02586153894662857,-0.007821696810424328,-0.011979068629443645,0.049274854362010956,-0.029065562412142754,-0.022471878677606583,-0.04959586262702942,0.05847075581550598,-0.01296655461192131,0.0030947611667215824,-0.0034653146285563707,0.012754078954458237,-0.0016888690879568458,0.027630889788269997,0.009937022812664509,0.004266020376235247,0.02833671122789383,-0.021268794313073158,0.04440869390964508,0.0341714546084404,-0.04547269269824028,-0.00034711771877482533,0.037921205163002014,-0.04199210926890373,-0.019053151831030846,-0.010359052568674088,-0.015220098197460175,0.006301157176494598,-0.04931310564279556,-0.013067648746073246,0.030485132709145546,0.03005697950720787,-0.01990639604628086,-0.04804278165102005,0.0015256667975336313,0.003930747043341398,-0.040667299181222916,-0.0290373507887125,0.0030549615621566772,-0.027704395353794098,-0.051582708954811096,-0.013026382774114609,0.026584727689623833,0.04962072893977165,0.03092328831553459,-0.017029454931616783,-0.007117286324501038,-0.021276293322443962,-0.0006735233473591506,-0.005666822660714388,-0.05082828179001808,0.05107402056455612,-0.039399586617946625,-0.045842867344617844,0.028750894591212273,0.007418863940984011,-0.053307607769966125,-0.011169597506523132,0.027108319103717804,0.004995262250304222,-0.030595721676945686,0.05132031813263893,-0.0007192468037828803,0.0008201048476621509,-0.035208288580179214,-0.006220077630132437,0.038738884031772614,0.09064185619354248,-0.053505588322877884,-0.049070969223976135,0.0073537519201636314,-0.049448445439338684,0.041105326265096664,0.050650108605623245,0.05609419569373131,-0.015230976045131683,0.0053157564252614975,-0.08048640191555023,-0.006126126274466515,0.01794867031276226,-0.023490453138947487,0.017400536686182022,-0.0016414300771430135,-0.04252010956406593,0.0043283370323479176,0.007816681638360023,-0.009009904228150845,0.003237866098061204,-0.01803302951157093,-0.036938153207302094,-0.020729798823595047,-0.03670593723654747,-6.174303914161235e-33,-0.0015651873545721173,-0.03271006792783737,-0.08704317361116409,-0.011078722774982452,-0.014234394766390324,-0.021585509181022644,0.030602943152189255,-0.008803981356322765,0.006959256250411272,0.011728298850357533,-0.03505342826247215,0.007962843403220177,0.012229658663272858,0.017542896792292595,0.05683700367808342,0.012572219595313072,0.020662909373641014,0.002202705480158329,0.032373350113630295,0.03414382413029671,-0.051175307482481,0.06770163774490356,0.01806464046239853,-0.052145861089229584,-0.0022118703927844763,0.011415738612413406,-0.005184080917388201,0.020698528736829758,-0.013051209039986134,0.046776484698057175,0.006377749610692263,-0.004240268375724554,0.00032337658922187984,-0.00005569354834733531,-0.015856537967920303,-0.038751620799303055,-0.02006371319293976,0.03105640783905983,0.019530199468135834,-0.031191064044833183,-0.005677354987710714,0.029836853966116905,0.03464314341545105,-0.002536795334890485,-0.01285112090408802,-0.025719858705997467,0.06823061406612396,0.010975678451359272,-0.04790220782160759,-0.04299825057387352,0.02045390009880066,0.010623041540384293,-0.009887714870274067,0.08977000415325165,0.01842951588332653,0.07407951354980469,0.005617285147309303,0.06015809252858162,-0.004781688563525677,0.023252839222550392,-0.05516558885574341,-0.06494239717721939,0.006434651557356119,0.04701713100075722,0.036497361958026886,-0.017620274797081947,0.010486671701073647,0.06999991834163666,0.010798458941280842,-0.02669111080467701,-0.037137292325496674,0.018285823985934258,0.04217666760087013,-0.06414438039064407,-0.005465611815452576,0.06434552371501923,0.04291073605418205,0.003880819072946906,-0.00008573543891543522,0.005800672806799412,-0.0367615707218647,-0.005210092756897211,0.012715288437902927,0.01258762739598751,0.06070946156978607,0.03044877015054226,-0.028522279113531113,-0.015713071450591087,0.006124994717538357,0.019511530175805092,-0.06847477704286575,0.05041750147938728,-0.021971505135297775,-0.00487356586381793,-0.053484827280044556,-0.030321072787046432,0.04782278835773468,0.03232022374868393,0.012626835145056248,-0.012341498397290707,0.021812420338392258,0.04456385597586632,-0.05634121224284172,-0.05429508537054062,-0.017294488847255707,-0.04213755577802658,0.007341103628277779,-0.034037306904792786,-0.058147966861724854,0.032776251435279846,0.0524425134062767,0.005324669647961855,-0.03667750209569931,0.015585754066705704,0.005009995773434639,-0.01644338294863701,-0.0029539542738348246,0.015770530328154564,0.021124020218849182,0.03752119094133377,0.02646726556122303,-0.031823065131902695,-0.03889307379722595,-0.026031022891402245,0.034997470676898956,-0.00040203004027716815,-0.033888474106788635,0.0027635530568659306,0.04022756591439247,-0.012866408564150333,-0.01899462752044201,-0.008216926828026772,2.853081468856544e-7,0.02114289253950119,0.025662360712885857,-0.033534321933984756,0.04076467081904411,0.044701460748910904,0.000907542766071856,-0.0016067494871094823,-0.01927957497537136,-0.026876823976635933,-0.04157490283250809,0.04967069625854492,-0.04099937528371811,0.015827860683202744,0.014404025860130787,0.0030466639436781406,-0.05736473575234413,-0.06860756129026413,-0.05798486992716789,-0.08276329934597015,0.0035821718629449606,0.05432823300361633,0.04209237918257713,0.02111123874783516,0.00836380384862423,0.007579461205750704,0.014314254745841026,0.017812514677643776,-0.028044136241078377,0.0353621169924736,-0.0017031835159286857,0.047348394989967346,-0.01913965307176113,-0.06908367574214935,0.02000613696873188,0.006001507863402367,0.016077212989330292,-0.05030031129717827,-0.040236324071884155,0.021788299083709717,0.022557927295565605,0.05956098809838295,0.04190738871693611,-0.021647993475198746,-0.07483375072479248,-0.012509104795753956,0.006607475224882364,-0.007495783269405365,-0.01744001917541027,-0.002290148288011551,0.04946386441588402,0.019650926813483238,-0.032068490982055664,-0.00038687800406478345,0.008998904377222061,-0.02091340161859989,-0.00004396780059323646,0.06157900020480156,0.04550230875611305,0.04046468436717987,0.06948114931583405,-0.04279163479804993,0.009985711425542831,0.0029358621686697006,0.07654917985200882,0.07960515469312668,0.019358744844794273,0.00300337141379714,3.5128291804868328e-34,0.0501219667494297,-0.013500633649528027,0.07239697128534317,0.028700368478894234,-0.013243714347481728,0.007346355821937323,-0.0020413114689290524,-0.013437356799840927,0.0012178163742646575,-0.057332780212163925,-0.0038317320868372917]'
SET
  @TechnicalDesignVector_e8c698a5 = N'[-0.01832883059978485,0.03947582468390465,-0.0292250644415617,-0.04549562558531761,0.009009194560348988,0.009733980521559715,0.022830577567219734,-0.00042857922380790114,-0.07099027931690216,-0.01850913278758526,-0.023548465222120285,0.012317040003836155,0.05164237320423126,0.1525392383337021,-0.008710233494639397,-0.0779205858707428,-0.017959466204047203,0.011024381965398788,-0.05340898782014847,0.019539453089237213,0.021570313721895218,-0.011358775198459625,0.029143882915377617,-0.038713812828063965,-0.06678721308708191,-0.025894930586218834,-0.02723347768187523,0.010063514113426208,0.0032258275896310806,-0.08842003345489502,0.013049576431512833,0.0036332705058157444,0.021387293934822083,-0.009921388700604439,0.000001862331941993034,-0.010275006294250488,-0.018178822472691536,0.016367632895708084,0.024586163461208344,0.04391603544354439,0.10421976447105408,-0.07484164834022522,0.02786414884030819,-0.012316037900745869,-0.0034814735408872366,-0.0029301142785698175,-0.04171401634812355,0.0716882050037384,0.028535909950733185,-0.04038836807012558,-0.010171785950660706,-0.0757998675107956,0.02877143584191799,0.008286366239190102,0.01779000833630562,-0.027678709477186203,-0.0010914686135947704,0.022227849811315536,0.031846120953559875,-0.030211951583623886,-0.022540224716067314,-0.017881715670228004,-0.00036652578273788095,-0.052729640156030655,0.09553274512290955,0.03484994173049927,0.1173444390296936,-0.04934605211019516,-0.04513659328222275,0.04945121333003044,0.0567946620285511,-0.0019459071336314082,0.03613472729921341,-0.022276505827903748,0.00961462315171957,-0.05173245817422867,-0.013443843461573124,0.013636435382068157,0.015117757953703403,0.004282847046852112,-0.01539220754057169,-0.0031479373574256897,-0.05242357775568962,-0.01836566999554634,-0.0035112937912344933,0.02707773819565773,-0.0018550473032519221,-0.03182332217693329,-0.027534831315279007,-0.04972681775689125,0.04666575789451599,-0.011475845240056515,-0.011629031039774418,-0.01375026535242796,-0.07022357732057571,-0.00036710812128148973,0.037129465490579605,-0.048613980412483215,0.003442607820034027,-0.09790188819169998,0.009473542682826519,0.024630846455693245,0.05782165378332138,0.06005087122321129,0.028409192338585854,0.037608467042446136,-0.04033929109573364,-0.11885089427232742,-0.013047728687524796,0.0020460407249629498,-0.009451509453356266,-0.014432641677558422,-0.0005713615682907403,0.04302969202399254,-0.03305772319436073,0.03705287724733353,-0.042523015290498734,0.015607284381985664,-0.05160274729132652,0.00056555395713076,0.060044653713703156,0.004935106262564659,0.006240944378077984,-0.004339720122516155,0.036990754306316376,0.017935488373041153,-0.029810555279254913,-0.018160946667194366,-0.0033625252544879913,0.06480136513710022,0.01758469082415104,0.017615433782339096,0.025144748389720917,0.023480799049139023,0.013159613125026226,-0.017093833535909653,-0.014800098724663258,0.023857805877923965,-0.07448726892471313,-0.036971092224121094,0.004780668765306473,-0.010622212663292885,-0.0569150447845459,0.006888024974614382,0.016598526388406754,-0.0627986267209053,-0.01283559761941433,0.11851940304040909,-0.007860577665269375,0.01619652472436428,-0.017372963950037956,0.00039931878563947976,-0.017854243516921997,0.010686823166906834,-0.04588013514876366,-0.0131842577829957,0.04099852964282036,-0.016980987042188644,-0.0015837912214919925,0.03743578866124153,-0.01244211196899414,-0.016158539801836014,0.000007518592610722408,-0.01871330663561821,-0.045482758432626724,-0.038197021931409836,-0.11585686355829239,0.02057298831641674,-0.0639963373541832,-0.028537152335047722,-0.0043933638371527195,-0.0309701319783926,-0.010208955965936184,0.0658576563000679,0.005222402513027191,0.05521301552653313,0.009408628568053246,0.024050837382674217,-0.020082831382751465,-0.04472039267420769,0.01767832227051258,-0.1215781643986702,0.05336286872625351,-0.01062670536339283,0.05007803812623024,-0.029815498739480972,-0.11172053217887878,0.02881838195025921,0.007503680884838104,0.006430135108530521,0.0031537131872028112,0.0003030805673915893,-0.03747580945491791,-0.009925761260092258,0.004969795700162649,-0.0058000702410936356,-0.000004470090061658993,-0.044455673545598984,0.028903348371386528,-0.020915886387228966,-0.003900716081261635,0.025939371436834335,0.09642354398965836,0.010119622573256493,-0.006975080817937851,-0.02211223915219307,-0.0009900452569127083,0.0034184798132628202,-0.03773609176278114,0.03132170811295509,-0.05309339985251427,-0.0030512334778904915,-0.04164411127567291,0.007872022688388824,-0.0025525731034576893,0.03389500081539154,0.03897925093770027,0.02938172034919262,-0.07992018759250641,-0.05343415588140488,-0.03857671469449997,-0.012967611663043499,0.05167963728308678,0.0038863641675561666,0.03966829553246498,0.08690568804740906,0.04777828976511955,-0.010050712153315544,0.05445083975791931,0.06133875250816345,0.009051913395524025,-0.024254392832517624,0.0313657708466053,-0.004576857667416334,-0.0018821107223629951,0.026811685413122177,0.06611564010381699,0.03388012945652008,-0.0022101188078522682,-0.03957194462418556,-0.03682997077703476,-0.06233813613653183,0.008035160601139069,-0.019245771691203117,0.041643623262643814,-0.04335447773337364,-0.053996242582798004,0.007611124776303768,-0.021868914365768433,-0.04039907082915306,0.014331317506730556,0.022710591554641724,0.053818900138139725,-0.010565727017819881,-0.0364798828959465,0.05143309384584427,-0.08965554088354111,0.0016269299667328596,0.06854572892189026,0.07632540166378021,0.03697734326124191,-0.015075567178428173,-0.015252630226314068,0.0010423858184367418,-0.0023294948041439056,-0.009839004836976528,0.06165118142962456,0.021758032962679863,-0.008460421115159988,0.04073404520750046,0.03177943825721741,0.025062642991542816,-0.015660757198929787,0.011967889964580536,0.005625307094305754,0.03888446092605591,0.008143460378050804,-0.0002514786319807172,-0.02796836756169796,-0.0037794741801917553,-0.02075829543173313,-0.024950768798589706,0.015043585561215878,-0.015785394236445427,-0.0256213266402483,0.014002063311636448,0.03327818959951401,-0.009477282874286175,-0.004035932011902332,-0.08975750207901001,-0.014142961241304874,-0.03177591413259506,0.00038337797741405666,0.013579324819147587,-0.0449209101498127,-0.006157632917165756,0.0652720034122467,0.010587622411549091,-0.010077043436467648,0.025138597935438156,0.006023842841386795,-0.01874801702797413,-0.01228171307593584,-0.004621078725904226,-0.028166450560092926,0.09625553339719772,0.016242515295743942,0.007042888086289167,0.02854062244296074,0.06625843048095703,0.02257046476006508,-0.01176520437002182,-0.00104145600926131,-0.03454109653830528,0.0065183392725884914,-0.0022473763674497604,0.005090897902846336,-0.033362552523612976,-0.022932957857847214,0.08318375796079636,-0.0035338071174919605,-0.03513775020837784,0.003933653701096773,0.004237559624016285,-0.05146181583404541,0.001699741231277585,-0.04111955687403679,-0.017907829955220222,-0.041383180767297745,0.0014785436214879155,-0.00951398629695177,-0.07565417140722275,-0.02576584741473198,0.03361911326646805,0.02045673504471779,0.011164601892232895,-0.003633953630924225,-0.00507643586024642,0.022396579384803772,0.0010742286685854197,0.0033993006218224764,0.03059452958405018,-0.018127067014575005,0.014312963001430035,0.04828205332159996,-0.01270634587854147,0.045694801956415176,-0.002527758479118347,-0.04131675884127617,0.044829048216342926,0.06546138226985931,-0.0026820036582648754,0.015715129673480988,-0.043886929750442505,-0.007770793978124857,0.017217282205820084,-0.041801564395427704,-0.053038645535707474,-0.023963581770658493,-0.02350211888551712,0.06747885793447495,0.0287771113216877,0.00038309546653181314,0.02643279917538166,-0.017662517726421356,0.033665213733911514,0.014722744934260845,0.039263397455215454,0.026416495442390442,-0.010206025093793869,-0.048448171466588974,0.0029409802518785,0.02978961355984211,0.0387876071035862,-0.0013655652292072773,-0.04724162444472313,0.0042601823806762695,0.030582956969738007,0.016792066395282745,-0.009842311032116413,0.02621094509959221,0.001019628718495369,0.11043781787157059,-0.018026579171419144,0.06195852905511856,0.0037546141538769007,-0.019805796444416046,0.0032763630151748657,-0.05042653903365135,0.03814379870891571,0.0015189311234280467,-0.012586650438606739,-0.05832358077168465,-0.03464192897081375,-0.006116278935223818,-0.001230950583703816,0.009312589652836323,0.00978266540914774,-0.03922290354967117,-0.011699860915541649,-0.020029569044709206,-0.07325771450996399,-0.03523865342140198,-0.023158784955739975,0.062149349600076675,-0.08233101665973663,0.015392725355923176,0.04926479235291481,-0.014770503155887127,0.02146526239812374,0.009953675791621208,-0.003185557434335351,-0.01364651694893837,-0.0719674676656723,-0.0404040589928627,0.03148094564676285,0.0004146687570028007,0.009485995396971703,0.03734433278441429,0.013650585897266865,0.03253184258937836,-0.028489496558904648,0.0490206815302372,0.014241873286664486,-0.04441801831126213,-0.029628071933984756,-0.001505928230471909,-0.08169805258512497,-0.023160113021731377,-0.002796618966385722,0.01703874208033085,-0.02117193304002285,0.006571851205080748,-0.01526539959013462,0.007886800915002823,-0.002555255312472582,0.013167575933039188,-0.034733135253190994,-0.017132047563791275,-0.008115291595458984,0.0060076178051531315,0.0300571508705616,0.05409691110253334,-0.03290478512644768,-0.03096160665154457,0.0032821553759276867,-0.03361476585268974,0.016074949875473976,-0.07034389674663544,0.03424960374832153,0.01402005273848772,0.003769555361941457,0.05039820075035095,0.0317804329097271,-0.005175276193767786,-0.04056417569518089,-0.07585594803094864,0.02835414931178093,-0.05059993267059326,0.013576189987361431,0.01858796551823616,0.02216615341603756,-0.02066231705248356,-0.001904939184896648,0.011713971383869648,-0.03685136139392853,0.09234921634197235,0.019409196451306343,-0.004697488155215979,-0.011294567957520485,0.04534953087568283,-0.02105262130498886,-0.013589728623628616,0.013279124163091183,0.022707683965563774,0.007408550009131432,0.016812438145279884,-0.001221235143020749,-0.0006942000472918153,0.0061628851108253,-0.03689680993556976,0.040668897330760956,0.025966934859752655,-0.029302997514605522,0.0017680778400972486,0.025606529787182808,0.005616710986942053,-0.006733485031872988,-0.026890549808740616,-0.0033615457359701395,0.016100849956274033,-0.038138214498758316,0.0024045752361416817,0.0876220166683197,0.025244824588298798,-0.023308271542191505,0.0007431283593177795,0.007344164419919252,-0.044300928711891174,0.028310701251029968,-0.02896704711019993,-0.01818155311048031,0.002165737561881542,-0.04471484199166298,-0.020601972937583923,0.00827172864228487,0.043305352330207825,0.02807139791548252,-0.010243095457553864,-0.028988271951675415,-0.01038514543324709,-0.004928755573928356,-0.01576504483819008,-0.007372184656560421,0.027026614174246788,-0.022599758580327034,-0.012013902887701988,0.049161143600940704,0.029734771698713303,-0.039639540016651154,-0.006124875508248806,0.03743917495012283,0.03408701717853546,-0.07027135789394379,0.08749811351299286,0.0004774907138198614,-0.0024776479694992304,-0.025724979117512703,-0.015622635371983051,0.04706592112779617,0.07011917978525162,-0.04875487834215164,0.008761880919337273,-0.02259032428264618,-0.03149023279547691,0.01863233745098114,0.029571805149316788,0.012509321793913841,-0.028716057538986206,0.0006753206253051758,-0.058876883238554,-0.002991171320900321,0.0120082451030612,0.0008405128610320389,0.005267336033284664,-0.0008567371987737715,-0.027999775484204292,-0.011693724431097507,0.009678414091467857,0.03985067456960678,0.015892455354332924,-0.0351596437394619,-0.01792232319712639,-0.024243349209427834,-0.004563461057841778,-6.0559830609112794e-33,0.0097176069393754,-0.032301049679517746,-0.06451358646154404,0.019900746643543243,-0.054219286888837814,-0.032605864107608795,0.018790071830153465,-0.015614345669746399,0.013529906049370766,0.01363435946404934,-0.008573519065976143,0.004967275075614452,-0.007384818512946367,0.013276818208396435,0.04831085726618767,-0.003618964459747076,0.009386506862938404,0.025053735822439194,0.023934299126267433,0.029752058908343315,-0.05705592781305313,0.052089400589466095,0.03720230981707573,-0.019898705184459686,-0.03549446165561676,0.0011142303701490164,0.03413548693060875,0.02385186217725277,-0.003677443601191044,0.028090232983231544,0.005970978178083897,-0.030961982905864716,-0.005780109204351902,0.01950104348361492,-0.028312036767601967,-0.0029784974176436663,-0.023501327261328697,-0.00022744452871847898,0.025681229308247566,-0.019211387261748314,0.010359750129282475,0.034278158098459244,0.007513482589274645,0.015229242853820324,-0.0022512683644890785,-0.0057153902016580105,0.04574120044708252,0.0008464503334835172,-0.024871913716197014,-0.02959548868238926,-0.012966840527951717,0.019558919593691826,-0.0000895769553608261,0.08561260998249054,0.018728205934166908,0.03085116297006607,0.03120342455804348,0.04853903129696846,-0.01198268961161375,0.010908931493759155,-0.03621043637394905,-0.04877932369709015,0.014010977931320667,0.024810021743178368,0.032740313559770584,-0.02616768330335617,0.037612184882164,0.058682676404714584,-0.007856834679841995,-0.018838802352547646,-0.025382738560438156,0.026412976905703545,0.04090101271867752,-0.030336258932948112,0.045488111674785614,0.09397655725479126,0.01797288842499256,0.0044416100718081,0.03491824120283127,0.03618777170777321,-0.055122703313827515,0.012251722626388073,0.03424752131104469,0.005487233866006136,0.051546722650527954,-0.014991262927651405,-0.018653828650712967,0.014806057326495647,-0.017811229452490807,0.04445255547761917,-0.043498244136571884,0.06377052515745163,-0.023046232759952545,-0.0042893486097455025,-0.04087597504258156,-0.01145565789192915,0.05718178674578667,0.04076588898897171,0.01681704819202423,-0.019737455993890762,-0.0010212883353233337,0.026079226285219193,-0.032475877553224564,0.010111434385180473,-0.03230264037847519,-0.014092393219470978,-0.009355130605399609,-0.003708415664732456,-0.034893669188022614,0.021765723824501038,0.02947564795613289,0.007098251022398472,-0.04825301840901375,0.01143309660255909,0.013003622181713581,-0.009601847268640995,0.007121554110199213,0.042006589472293854,0.005244546569883823,0.0306687094271183,0.021450940519571304,0.007684171665459871,-0.04321877285838127,-0.021037958562374115,0.044234395027160645,-0.0077169048599898815,-0.02866438217461109,-0.00781981647014618,0.0409933365881443,-0.03775883466005325,-0.015925686806440353,0.001533791539259255,2.6463990820957406e-7,-0.014202451333403587,0.0448123998939991,-0.02630491368472576,0.043070558458566666,0.03416050970554352,-0.026007523760199547,-0.006936791818588972,-0.02562880702316761,-0.02769654430449009,-0.05919542536139488,0.053141385316848755,-0.03884387016296387,0.022962884977459908,0.028294870629906654,0.005340216681361198,-0.022631051018834114,-0.061038579791784286,-0.0750475823879242,-0.0775538980960846,-0.006424997467547655,0.024502582848072052,0.034129831939935684,0.037663158029317856,-0.014994020573794842,0.008499005809426308,0.09307818114757538,0.003269015811383724,-0.006426024250686169,0.04535767063498497,0.0047729769721627235,0.052249252796173096,0.004012511111795902,-0.04893765598535538,-0.006798062473535538,-0.0019943276420235634,0.015795422717928886,-0.07886752486228943,-0.04127522557973862,0.031057540327310562,0.037805091589689255,0.06597553193569183,-0.0026856439653784037,-0.05593670904636383,-0.03937767073512077,0.009550472721457481,-0.0374128632247448,0.0057880692183971405,-0.047713615000247955,-0.04125650227069855,0.044653862714767456,-0.018042391166090965,-0.033257462084293365,-0.004999954719096422,-0.008970754221081734,-0.02170460857450962,-0.007825375534594059,0.02277231775224209,0.06574886292219162,0.06471525132656097,0.07142366468906403,-0.03515489399433136,-0.0096615981310606,0.01738448441028595,0.0956161767244339,0.06516299396753311,0.011460768058896065,-0.007512976415455341,3.4483730599759043e-34,0.0628521591424942,-0.031864721328020096,0.027413997799158096,0.05279483646154404,-0.029017282649874687,0.010426783934235573,-0.02137705683708191,-0.03270421922206879,-0.01589503511786461,-0.08610105514526367,-0.013675970956683159]'
SET
  @HasCustomProps_e8c698a5 = 0
SET
  @HasCustomEvents_e8c698a5 = 1
SET
  @RequiresData_e8c698a5 = 1
SET
  @DependencyCount_e8c698a5 = 4
SET
  @TechnicalDesignVectorEmbeddingModelID_e8c698a5 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_e8c698a5 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_e8c698a5 = 0
SET
  @ID_e8c698a5 = '11036C9C-3AC6-4026-B3CC-74A8C28D831B'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_e8c698a5,
  @Name = @Name_e8c698a5,
  @Version = @Version_e8c698a5,
  @VersionSequence = @VersionSequence_e8c698a5,
  @Title = @Title_e8c698a5,
  @Description = @Description_e8c698a5,
  @Type = @Type_e8c698a5,
  @Status = @Status_e8c698a5,
  @DeveloperName = @DeveloperName_e8c698a5,
  @DeveloperEmail = @DeveloperEmail_e8c698a5,
  @DeveloperOrganization = @DeveloperOrganization_e8c698a5,
  @SourceRegistryID = @SourceRegistryID_e8c698a5,
  @ReplicatedAt = @ReplicatedAt_e8c698a5,
  @LastSyncedAt = @LastSyncedAt_e8c698a5,
  @Specification = @Specification_e8c698a5,
  @FunctionalRequirements = @FunctionalRequirements_e8c698a5,
  @TechnicalDesign = @TechnicalDesign_e8c698a5,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_e8c698a5,
  @TechnicalDesignVector = @TechnicalDesignVector_e8c698a5,
  @HasCustomProps = @HasCustomProps_e8c698a5,
  @HasCustomEvents = @HasCustomEvents_e8c698a5,
  @RequiresData = @RequiresData_e8c698a5,
  @DependencyCount = @DependencyCount_e8c698a5,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_e8c698a5,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_e8c698a5,
  @HasRequiredCustomProps = @HasRequiredCustomProps_e8c698a5,
  @ID = @ID_e8c698a5;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_2b3e215e NVARCHAR(MAX),
@Name_2b3e215e NVARCHAR(500),
@Version_2b3e215e NVARCHAR(50),
@VersionSequence_2b3e215e INT,
@Title_2b3e215e NVARCHAR(1000),
@Description_2b3e215e NVARCHAR(MAX),
@Type_2b3e215e NVARCHAR(255),
@Status_2b3e215e NVARCHAR(50),
@DeveloperName_2b3e215e NVARCHAR(255),
@DeveloperEmail_2b3e215e NVARCHAR(255),
@DeveloperOrganization_2b3e215e NVARCHAR(255),
@SourceRegistryID_2b3e215e UNIQUEIDENTIFIER,
@ReplicatedAt_2b3e215e DATETIMEOFFSET,
@LastSyncedAt_2b3e215e DATETIMEOFFSET,
@Specification_2b3e215e NVARCHAR(MAX),
@FunctionalRequirements_2b3e215e NVARCHAR(MAX),
@TechnicalDesign_2b3e215e NVARCHAR(MAX),
@FunctionalRequirementsVector_2b3e215e NVARCHAR(MAX),
@TechnicalDesignVector_2b3e215e NVARCHAR(MAX),
@HasCustomProps_2b3e215e BIT,
@HasCustomEvents_2b3e215e BIT,
@RequiresData_2b3e215e BIT,
@DependencyCount_2b3e215e INT,
@TechnicalDesignVectorEmbeddingModelID_2b3e215e NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_2b3e215e NVARCHAR(MAX),
@HasRequiredCustomProps_2b3e215e BIT,
@ID_2b3e215e UNIQUEIDENTIFIER
SET
  @Namespace_2b3e215e = N'CRM/Finance'
SET
  @Name_2b3e215e = N'InvoiceStatusDashboard'
SET
  @Version_2b3e215e = N'1.0.0'
SET
  @VersionSequence_2b3e215e = 1
SET
  @Title_2b3e215e = N'Invoice Status Dashboard'
SET
  @Description_2b3e215e = N'Track invoice statuses, payment timelines, and accounts receivable aging with actionable insights and collection metrics'
SET
  @Type_2b3e215e = N'Dashboard'
SET
  @Status_2b3e215e = N'Published'
SET
  @Specification_2b3e215e = N'{"name":"InvoiceStatusDashboard","namespace":"CRM/Finance","type":"Dashboard","location":"embedded","code":"function InvoiceStatusDashboard({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Extract sub-components from components\n  const { AIInsightsPanel, DataExportPanel } = components;\n\n  if (!AIInsightsPanel) {\n    console.warn(''AIInsightsPanel component not available'');\n  }\n\n  const [invoices, setInvoices] = useState([]);\n  const [payments, setPayments] = useState([]);\n  const [accounts, setAccounts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedData, setSelectedData] = useState(null);\n  const [drillDownType, setDrillDownType] = useState(null);\n  const [isPanelOpen, setIsPanelOpen] = useState(false);\n  const [timePeriod, setTimePeriod] = useState(savedUserSettings?.timePeriod || ''all'');\n  const [startDate, setStartDate] = useState(savedUserSettings?.startDate || null);\n  const [endDate, setEndDate] = useState(savedUserSettings?.endDate || null);\n  \n  const statusChartRef = useRef(null);\n  const agingChartRef = useRef(null);\n  const statusChartInstance = useRef(null);\n  const agingChartInstance = useRef(null);\n  \n  // AI Insights state\n  const [aiInsights, setAiInsights] = useState(null);\n  const [loadingInsights, setLoadingInsights] = useState(false);\n  const [insightsError, setInsightsError] = useState(null);\n\n  const getDateFilter = React.useCallback(() => {\n    // If showing all data, return empty filter\n    if (timePeriod === ''all'') {\n      return '''';\n    }\n\n    // If custom dates are set, use them\n    if (timePeriod === ''custom'' && startDate && endDate) {\n      return `InvoiceDate >= ''$' + '{startDate}'' AND InvoiceDate <= ''$' + '{endDate}''`;\n    }\n\n    const now = new Date();\n    let filterStart, filterEnd;\n\n    switch (timePeriod) {\n      case ''month'':\n        filterStart = new Date(now.getFullYear(), now.getMonth(), 1);\n        filterEnd = new Date(now.getFullYear(), now.getMonth() + 1, 0);\n        break;\n      case ''lastMonth'':\n        filterStart = new Date(now.getFullYear(), now.getMonth() - 1, 1);\n        filterEnd = new Date(now.getFullYear(), now.getMonth(), 0);\n        break;\n      case ''quarter'':\n        const currentQuarter = Math.floor(now.getMonth() / 3);\n        filterStart = new Date(now.getFullYear(), currentQuarter * 3, 1);\n        filterEnd = new Date(now.getFullYear(), currentQuarter * 3 + 3, 0);\n        break;\n      case ''lastQuarter'':\n        const lastQuarter = Math.floor(now.getMonth() / 3) - 1;\n        const year = lastQuarter < 0 ? now.getFullYear() - 1 : now.getFullYear();\n        const quarter = lastQuarter < 0 ? 3 : lastQuarter;\n        filterStart = new Date(year, quarter * 3, 1);\n        filterEnd = new Date(year, quarter * 3 + 3, 0);\n        break;\n      case ''year'':\n        filterStart = new Date(now.getFullYear(), 0, 1);\n        filterEnd = new Date(now.getFullYear(), 11, 31);\n        break;\n      case ''lastYear'':\n        filterStart = new Date(now.getFullYear() - 1, 0, 1);\n        filterEnd = new Date(now.getFullYear() - 1, 11, 31);\n        break;\n      default:\n        return '''';\n    }\n    \n    if (filterStart && filterEnd) {\n      return `InvoiceDate >= ''$' + '{filterStart.toISOString().split(''T'')[0]}'' AND InvoiceDate <= ''$' + '{filterEnd.toISOString().split(''T'')[0]}''`;\n    }\n    return '''';\n  }, [timePeriod, startDate, endDate]);\n\n  const loadData = React.useCallback(async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const dateFilter = getDateFilter();\n\n      // Check which API is available\n      const runViewsMethod = utilities?.RunViews || utilities?.rv?.RunViews;\n\n      if (!runViewsMethod) {\n        setError(''Data loading method not available'');\n        return;\n      }\n\n      // Use RunViews for batch loading\n      const results = await runViewsMethod([\n        {\n          EntityName: ''Invoices'',\n          ExtraFilter: dateFilter,\n          OrderBy: ''DueDate ASC''\n        },\n        {\n          EntityName: ''Payments'',\n          OrderBy: ''PaymentDate DESC'',\n          MaxRows: 500\n        },\n        {\n          EntityName: ''Accounts'',\n          OrderBy: ''AccountName ASC''\n        }\n      ]);\n\n      if (results && results.length === 3) {\n        const [invoicesResult, paymentsResult, accountsResult] = results;\n\n        if (invoicesResult.Success) {\n          setInvoices(invoicesResult.Results || []);\n        }\n        if (paymentsResult.Success) {\n          setPayments(paymentsResult.Results || []);\n        }\n        if (accountsResult.Success) {\n          setAccounts(accountsResult.Results || []);\n        }\n\n        if (!invoicesResult.Success) {\n          setError(''Failed to load invoice data: '' + (invoicesResult.ErrorMessage || ''Unknown error''));\n        }\n      } else {\n        setError(''Unexpected data format received'');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [getDateFilter, utilities]);\n\n  // Load data when component mounts or filters change\n  useEffect(() => {\n    loadData();\n  }, [loadData, timePeriod, startDate, endDate]);\n\n  const metrics = React.useMemo(() => {\n    const result = {\n      total: invoices.length,\n      totalAmount: 0,\n      paid: 0,\n      paidAmount: 0,\n      overdue: 0,\n      overdueAmount: 0,\n      pending: 0,\n      pendingAmount: 0,\n      partial: 0,\n      partialAmount: 0\n    };\n    \n    const today = new Date();\n    \n    // Calculate paid amounts from payments\n    const paidByInvoice = {};\n    payments.forEach(payment => {\n      if (!paidByInvoice[payment.InvoiceID]) {\n        paidByInvoice[payment.InvoiceID] = 0;\n      }\n      paidByInvoice[payment.InvoiceID] += payment.Amount || 0;\n    });\n    \n    invoices.forEach(invoice => {\n      const amount = invoice.TotalAmount || 0;\n      const paidAmount = paidByInvoice[invoice.ID] || 0;\n      const remainingAmount = amount - paidAmount;\n      \n      result.totalAmount += amount;\n\n      if (invoice.Status === ''Paid'' || remainingAmount <= 0) {\n        result.paid++;\n        result.paidAmount += amount;\n      } else if (invoice.Status === ''Cancelled'') {\n        // Skip cancelled invoices\n      } else if (invoice.Status === ''Partial'' || (paidAmount > 0 && remainingAmount > 0)) {\n        result.partial++;\n        result.partialAmount += remainingAmount;\n        if (new Date(invoice.DueDate) < today) {\n          result.overdue++;\n          result.overdueAmount += remainingAmount;\n        }\n      } else if (new Date(invoice.DueDate) < today) {\n        result.overdue++;\n        result.overdueAmount += remainingAmount;\n      } else {\n        result.pending++;\n        result.pendingAmount += remainingAmount;\n      }\n    });\n\n    return result;\n  }, [invoices, payments]);\n\n  const openDrillDown = React.useCallback((type, data) => {\n    setDrillDownType(type);\n    setSelectedData(data);\n    setIsPanelOpen(true);\n  }, []);\n  \n  // Generate AI Insights\n  // Format insights text using marked library for proper markdown rendering\n\n  const generateAIInsights = React.useCallback(async () => {\n    setLoadingInsights(true);\n    setInsightsError(null);\n    \n    try {\n      // metrics is already calculated via useMemo\n      \n      // Calculate aging breakdown\n      const aging = { current: 0, ''30days'': 0, ''60days'': 0, ''90days'': 0, ''over90'': 0 };\n      const today = new Date();\n      const paidByInvoice = {};\n      payments.forEach(payment => {\n        if (!paidByInvoice[payment.InvoiceID]) {\n          paidByInvoice[payment.InvoiceID] = 0;\n        }\n        paidByInvoice[payment.InvoiceID] += payment.Amount || 0;\n      });\n      \n      invoices.forEach(invoice => {\n        if (invoice.Status !== ''Paid'' && invoice.Status !== ''Cancelled'') {\n          const paidAmount = paidByInvoice[invoice.ID] || 0;\n          const outstanding = (invoice.TotalAmount || 0) - paidAmount;\n          \n          if (outstanding > 0) {\n            const dueDate = new Date(invoice.DueDate);\n            const daysPastDue = Math.floor((today - dueDate) / (1000 * 60 * 60 * 24));\n            \n            if (daysPastDue <= 0) aging.current += outstanding;\n            else if (daysPastDue <= 30) aging[''30days''] += outstanding;\n            else if (daysPastDue <= 60) aging[''60days''] += outstanding;\n            else if (daysPastDue <= 90) aging[''90days''] += outstanding;\n            else aging.over90 += outstanding;\n          }\n        }\n      });\n      \n      const formatCurrency = (amount) => {\n        if (amount >= 1000000) return `$$' + '{(amount / 1000000).toFixed(1)}M`;\n        if (amount >= 1000) return `$$' + '{(amount / 1000).toFixed(0)}K`;\n        return `$$' + '{amount?.toFixed(0) || 0}`;\n      };\n      \n      const prompt = `Analyze this invoice status and aging data and provide actionable insights:\n\n## Invoice Overview\n- **Time Period:** $' + '{timePeriod === ''custom'' ? `$' + '{startDate} to $' + '{endDate}` : `Last $' + '{timePeriod}`}\n- **Total Invoices:** $' + '{metrics.total}\n- **Total Amount:** $' + '{formatCurrency(metrics.totalAmount)}\n\n## Status Breakdown\n- **Paid:** $' + '{metrics.paid} invoices ($' + '{formatCurrency(metrics.paidAmount)})\n- **Pending:** $' + '{metrics.pending} invoices ($' + '{formatCurrency(metrics.pendingAmount)})\n- **Overdue:** $' + '{metrics.overdue} invoices ($' + '{formatCurrency(metrics.overdueAmount)})\n- **Partial:** $' + '{metrics.partial} invoices ($' + '{formatCurrency(metrics.partialAmount)})\n\n## Aging Analysis\n- **Current (not overdue):** $' + '{formatCurrency(aging.current)}\n- **1-30 days overdue:** $' + '{formatCurrency(aging[''30days''])}\n- **31-60 days overdue:** $' + '{formatCurrency(aging[''60days''])}\n- **61-90 days overdue:** $' + '{formatCurrency(aging[''90days''])}\n- **Over 90 days overdue:** $' + '{formatCurrency(aging.over90)}\n\n## Key Metrics\n- **Total Payments Recorded:** $' + '{payments.length}\n- **Total Customer Accounts:** $' + '{accounts.length}\n- **Collection Rate:** $' + '{metrics.paid > 0 ? ((metrics.paidAmount / metrics.totalAmount) * 100).toFixed(1) : 0}%\n- **Average Days Overdue:** $' + '{metrics.overdue > 0 ? Math.round(invoices.filter(i => i.Status === ''Overdue'').reduce((sum, inv) => {\n    const dueDate = new Date(inv.DueDate);\n    const today = new Date();\n    return sum + Math.max(0, Math.floor((today - dueDate) / (1000 * 60 * 60 * 24)));\n  }, 0) / metrics.overdue) : 0} days\n\nBased on this specific data, please provide:\n1. **Cash Flow Analysis** - What is the immediate cash flow situation?\n2. **Risk Assessment** - Which invoices pose the highest collection risk?\n3. **Customer Payment Patterns** - What behaviors are evident?\n4. **Collection Strategy** - Specific recommendations to improve collections\n5. **Action Items** - 3-4 immediate actions to reduce overdue amounts\n6. **Early Warning Indicators** - What metrics should we monitor closely?\n\nUse markdown formatting with headers (##), bullet points, and **bold** text. Reference the actual numbers in your analysis.`;\n      \n      const result = await utilities.ai.ExecutePrompt({\n        systemPrompt: ''You are an expert accounts receivable and cash flow analyst with deep knowledge of invoice management, collections, and customer payment behavior. Provide clear, actionable insights with specific recommendations. Format your response in clear markdown.'',\n        messages: prompt,\n        preferredModels: [''GPT-OSS-120B'', ''Qwen3 32B''],\n        modelPower: ''high'',\n        temperature: 0.7,\n        maxTokens: 1500\n      });\n      \n      if (result?.success && result?.result) {\n        setAiInsights(result.result);\n      } else {\n        setInsightsError(''Failed to generate insights. Please try again.'');\n      }\n    } catch (error) {\n      setInsightsError(error.message || ''Failed to generate AI insights'');\n    } finally {\n      setLoadingInsights(false);\n    }\n  }, [invoices, payments, metrics, utilities.ai]);\n\n  const closeDrillDown = React.useCallback(() => {\n    setIsPanelOpen(false);\n    setTimeout(() => {\n      setSelectedData(null);\n      setDrillDownType(null);\n    }, 300);\n  }, []);\n\n  // Prepare data for export - memoized to prevent re-computation\n  const prepareExportData = React.useMemo(() => {\n    // metrics is already calculated via useMemo\n    const today = new Date();\n    const paidByInvoice = {};\n    payments.forEach(payment => {\n      if (!paidByInvoice[payment.InvoiceID]) {\n        paidByInvoice[payment.InvoiceID] = 0;\n      }\n      paidByInvoice[payment.InvoiceID] += payment.Amount || 0;\n    });\n\n    return invoices.map(invoice => {\n      const paidAmount = paidByInvoice[invoice.ID] || 0;\n      const outstanding = (invoice.TotalAmount || 0) - paidAmount;\n      const dueDate = new Date(invoice.DueDate);\n      const daysPastDue = Math.floor((today - dueDate) / (1000 * 60 * 60 * 24));\n\n      let agingBucket = ''Current'';\n      if (daysPastDue > 0) {\n        if (daysPastDue <= 30) agingBucket = ''1-30 Days'';\n        else if (daysPastDue <= 60) agingBucket = ''31-60 Days'';\n        else if (daysPastDue <= 90) agingBucket = ''61-90 Days'';\n        else agingBucket = ''Over 90 Days'';\n      }\n\n      return {\n        InvoiceNumber: invoice.InvoiceNumber || '''',\n        AccountName: invoice.AccountName || '''',\n        InvoiceDate: invoice.InvoiceDate ? new Date(invoice.InvoiceDate).toLocaleDateString() : '''',\n        DueDate: invoice.DueDate ? new Date(invoice.DueDate).toLocaleDateString() : '''',\n        TotalAmount: `$$' + '{(invoice.TotalAmount || 0).toFixed(2)}`,\n        PaidAmount: `$$' + '{paidAmount.toFixed(2)}`,\n        Outstanding: `$$' + '{outstanding.toFixed(2)}`,\n        Status: invoice.Status || '''',\n        DaysPastDue: Math.max(0, daysPastDue),\n        AgingBucket: agingBucket\n      };\n    });\n  }, [invoices, payments, metrics]);\n\n  // Define export columns - memoized to prevent re-creation\n  const getExportColumns = React.useMemo(() => {\n    return [\n      { key: ''InvoiceNumber'', label: ''Invoice Number'' },\n      { key: ''AccountName'', label: ''Account Name'' },\n      { key: ''InvoiceDate'', label: ''Invoice Date'' },\n      { key: ''DueDate'', label: ''Due Date'' },\n      { key: ''TotalAmount'', label: ''Total Amount'' },\n      { key: ''PaidAmount'', label: ''Paid Amount'' },\n      { key: ''Outstanding'', label: ''Outstanding'' },\n      { key: ''Status'', label: ''Status'' },\n      { key: ''DaysPastDue'', label: ''Days Past Due'' },\n      { key: ''AgingBucket'', label: ''Aging Bucket'' }\n    ];\n  }, []);\n\n  // Status Distribution Chart with click handler\n  useEffect(() => {\n    if (!loading && statusChartRef.current && invoices.length > 0) {\n      // metrics is already calculated via useMemo\n      const ctx = statusChartRef.current.getContext(''2d'');\n      \n      // Destroy existing chart\n      if (statusChartInstance.current) {\n        statusChartInstance.current.destroy();\n      }\n      \n      statusChartInstance.current = new Chart(ctx, {\n        type: ''doughnut'',\n        data: {\n          labels: [''Paid'', ''Pending'', ''Overdue'', ''Partial''],\n          datasets: [{\n            data: [metrics.paid, metrics.pending, metrics.overdue, metrics.partial],\n            backgroundColor: [''#10B981'', ''#3B82F6'', ''#EF4444'', ''#F59E0B''],\n            borderWidth: 0\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          onClick: (event, activeElements) => {\n            if (activeElements.length > 0) {\n              const index = activeElements[0].index;\n              const labels = [''Paid'', ''Pending'', ''Overdue'', ''Partial''];\n              openDrillDown(''status'', labels[index]);\n            }\n          },\n          plugins: {\n            legend: {\n              position: ''right'',\n              labels: {\n                padding: 20,\n                font: { size: 12 }\n              }\n            },\n            tooltip: {\n              callbacks: {\n                label: (context) => {\n                  const value = context.raw;\n                  const total = context.dataset.data.reduce((a, b) => a + b, 0);\n                  const percentage = ((value / total) * 100).toFixed(1);\n                  return `$' + '{context.label}: $' + '{value} ($' + '{percentage}%)`;\n                }\n              }\n            }\n          }\n        }\n      });\n    }\n    \n    return () => {\n      if (statusChartInstance.current) {\n        statusChartInstance.current.destroy();\n      }\n    };\n  }, [loading, invoices]);\n\n  // Aging Chart with click handler\n  useEffect(() => {\n    if (!loading && agingChartRef.current && invoices.length > 0) {\n      const aging = { current: 0, ''30days'': 0, ''60days'': 0, ''90days'': 0, ''over90'': 0 };\n      const agingInvoices = { current: [], ''30days'': [], ''60days'': [], ''90days'': [], ''over90'': [] };\n      const today = new Date();\n      \n      // Calculate paid amounts\n      const paidByInvoice = {};\n      payments.forEach(payment => {\n        if (!paidByInvoice[payment.InvoiceID]) {\n          paidByInvoice[payment.InvoiceID] = 0;\n        }\n        paidByInvoice[payment.InvoiceID] += payment.Amount || 0;\n      });\n      \n      invoices.forEach(invoice => {\n        if (invoice.Status !== ''Paid'' && invoice.Status !== ''Cancelled'') {\n          const paidAmount = paidByInvoice[invoice.ID] || 0;\n          const outstanding = (invoice.TotalAmount || 0) - paidAmount;\n          \n          if (outstanding > 0) {\n            const dueDate = new Date(invoice.DueDate);\n            const daysPastDue = Math.floor((today - dueDate) / (1000 * 60 * 60 * 24));\n            \n            if (daysPastDue <= 0) {\n              aging.current += outstanding;\n              agingInvoices.current.push(invoice);\n            } else if (daysPastDue <= 30) {\n              aging[''30days''] += outstanding;\n              agingInvoices[''30days''].push(invoice);\n            } else if (daysPastDue <= 60) {\n              aging[''60days''] += outstanding;\n              agingInvoices[''60days''].push(invoice);\n            } else if (daysPastDue <= 90) {\n              aging[''90days''] += outstanding;\n              agingInvoices[''90days''].push(invoice);\n            } else {\n              aging.over90 += outstanding;\n              agingInvoices.over90.push(invoice);\n            }\n          }\n        }\n      });\n      \n      const ctx = agingChartRef.current.getContext(''2d'');\n      \n      if (agingChartInstance.current) {\n        agingChartInstance.current.destroy();\n      }\n      \n      agingChartInstance.current = new Chart(ctx, {\n        type: ''bar'',\n        data: {\n          labels: [''Current'', ''1-30 Days'', ''31-60 Days'', ''61-90 Days'', ''Over 90''],\n          datasets: [{\n            label: ''Outstanding Amount'',\n            data: Object.values(aging),\n            backgroundColor: [''#10B981'', ''#3B82F6'', ''#F59E0B'', ''#FB923C'', ''#EF4444'']\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          onClick: (event, activeElements) => {\n            if (activeElements.length > 0) {\n              const index = activeElements[0].index;\n              const keys = [''current'', ''30days'', ''60days'', ''90days'', ''over90''];\n              const labels = [''Current'', ''1-30 Days Overdue'', ''31-60 Days Overdue'', ''61-90 Days Overdue'', ''Over 90 Days Overdue''];\n              openDrillDown(''aging'', { label: labels[index], invoices: agingInvoices[keys[index]] });\n            }\n          },\n          plugins: {\n            legend: { display: false },\n            tooltip: {\n              callbacks: {\n                label: (context) => `$$' + '{(context.raw / 1000).toFixed(1)}K`\n              }\n            }\n          },\n          scales: {\n            y: {\n              beginAtZero: true,\n              ticks: {\n                callback: (value) => `$$' + '{(value / 1000).toFixed(0)}K`\n              }\n            }\n          }\n        }\n      });\n    }\n    \n    return () => {\n      if (agingChartInstance.current) {\n        agingChartInstance.current.destroy();\n      }\n    };\n  }, [loading, invoices, payments]);\n\n  const CustomerBalances = () => {\n    const customerBalances = {};\n    \n    // Calculate paid amounts from payments\n    const paidByInvoice = {};\n    payments.forEach(payment => {\n      if (!paidByInvoice[payment.InvoiceID]) {\n        paidByInvoice[payment.InvoiceID] = 0;\n      }\n      paidByInvoice[payment.InvoiceID] += payment.Amount || 0;\n    });\n    \n    // Create account lookup map\n    const accountMap = {};\n    accounts.forEach(account => {\n      accountMap[account.ID] = account;\n    });\n    \n    invoices.forEach(invoice => {\n      if (invoice.Status !== ''Paid'' && invoice.Status !== ''Cancelled'') {\n        const customerId = invoice.AccountID || ''Unknown'';\n        if (!customerBalances[customerId]) {\n          const account = accountMap[customerId];\n          customerBalances[customerId] = {\n            id: customerId,\n            name: account ? account.AccountName : `Account #$' + '{customerId}`,\n            totalDue: 0,\n            overdueAmount: 0,\n            invoiceCount: 0,\n            invoices: [],\n            oldestDue: null\n          };\n        }\n        \n        const paidAmount = paidByInvoice[invoice.ID] || 0;\n        const outstanding = (invoice.TotalAmount || 0) - paidAmount;\n        \n        if (outstanding > 0) {\n          customerBalances[customerId].totalDue += outstanding;\n          customerBalances[customerId].invoiceCount++;\n          customerBalances[customerId].invoices.push({\n            ...invoice,\n            outstanding,\n            paidAmount\n          });\n          \n          const dueDate = new Date(invoice.DueDate);\n          if (dueDate < new Date()) {\n            customerBalances[customerId].overdueAmount += outstanding;\n          }\n          \n          if (!customerBalances[customerId].oldestDue || dueDate < customerBalances[customerId].oldestDue) {\n            customerBalances[customerId].oldestDue = dueDate;\n          }\n        }\n      }\n    });\n    \n    const topCustomers = Object.values(customerBalances)\n      .sort((a, b) => b.totalDue - a.totalDue)\n      .slice(0, 5);\n    \n    return (\n      <div style={{ backgroundColor: ''white'', borderRadius: ''8px'', padding: ''16px'' }}>\n        <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'', marginBottom: ''16px'' }}>\n          <h3 style={{ margin: 0, fontSize: ''18px'' }}>Top Customer Balances</h3>\n        </div>\n        \n        <div style={{ display: ''flex'', flexDirection: ''column'', gap: ''12px'' }}>\n          {topCustomers.map((customer, index) => (\n            <div\n              key={customer.id}\n              style={{\n                padding: ''12px'',\n                backgroundColor: ''#F9FAFB'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                transition: ''all 0.2s'',\n                borderLeft: `4px solid $' + '{customer.overdueAmount > 0 ? ''#EF4444'' : ''#3B82F6''}`\n              }}\n              onClick={() => openDrillDown(''customer'', customer)}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.transform = ''translateX(4px)'';\n                e.currentTarget.style.boxShadow = ''0 2px 4px rgba(0,0,0,0.1)'';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.transform = ''translateX(0)'';\n                e.currentTarget.style.boxShadow = ''none'';\n              }}\n            >\n              <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n                <div>\n                  <div style={{ fontWeight: ''bold'', fontSize: ''14px'' }}>\n                    {customer.name}\n                  </div>\n                  <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n                    {customer.invoiceCount} invoice{customer.invoiceCount !== 1 ? ''s'' : ''''} outstanding\n                  </div>\n                </div>\n                <div style={{ textAlign: ''right'' }}>\n                  <div style={{ fontSize: ''18px'', fontWeight: ''bold'', color: customer.overdueAmount > 0 ? ''#EF4444'' : ''#111827'' }}>\n                    $' + '{(customer.totalDue / 1000).toFixed(1)}K\n                  </div>\n                  {customer.overdueAmount > 0 && (\n                    <div style={{ fontSize: ''11px'', color: ''#EF4444'' }}>\n                      $' + '{(customer.overdueAmount / 1000).toFixed(1)}K overdue\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  const DrillDownPanel = () => {\n    if (!isPanelOpen || !selectedData) return null;\n    \n    const renderContent = () => {\n      switch (drillDownType) {\n        case ''status'':\n          const statusInvoices = invoices.filter(inv => {\n            if (selectedData === ''Overdue'') {\n              return inv.Status !== ''Paid'' && inv.Status !== ''Cancelled'' && new Date(inv.DueDate) < new Date();\n            }\n            if (selectedData === ''Pending'') {\n              return inv.Status === ''Sent'' || (inv.Status !== ''Paid'' && inv.Status !== ''Cancelled'' && new Date(inv.DueDate) >= new Date());\n            }\n            return inv.Status === selectedData;\n          });\n          \n          return (\n            <div>\n              <h3 style={{ margin: ''0 0 16px 0'' }}>{selectedData} Invoices</h3>\n              <div style={{ maxHeight: ''500px'', overflow: ''auto'' }}>\n                {statusInvoices.map(invoice => (\n                  <div key={invoice.ID} style={{ \n                    padding: ''12px'', \n                    marginBottom: ''8px'', \n                    backgroundColor: ''#F9FAFB'', \n                    borderRadius: ''6px'',\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div>\n                      <div style={{ fontWeight: ''bold'' }}>#{invoice.InvoiceNumber}</div>\n                      <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n                        Due: {new Date(invoice.DueDate).toLocaleDateString()}\n                      </div>\n                    </div>\n                    <div style={{ display: ''flex'', gap: ''12px'', alignItems: ''center'' }}>\n                      <div style={{ fontWeight: ''bold'' }}>\n                        $' + '{((invoice.TotalAmount || 0) / 1000).toFixed(1)}K\n                      </div>\n                      <button\n                        onClick={() => callbacks.OpenEntityRecord(''Invoices'', [{ FieldName: ''ID'', Value: invoice.ID }])}\n                        style={{\n                          background: ''none'',\n                          border: ''none'',\n                          color: ''#3B82F6'',\n                          cursor: ''pointer'',\n                          fontSize: ''16px''\n                        }}\n                        title=\"Open Invoice\"\n                      >\n                        <i className=\"fa-solid fa-up-right-from-square\"></i>\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          );\n          \n        case ''aging'':\n          return (\n            <div>\n              <h3 style={{ margin: ''0 0 16px 0'' }}>{selectedData.label}</h3>\n              <div style={{ maxHeight: ''500px'', overflow: ''auto'' }}>\n                {selectedData.invoices.map(invoice => (\n                  <div key={invoice.ID} style={{ \n                    padding: ''12px'', \n                    marginBottom: ''8px'', \n                    backgroundColor: ''#F9FAFB'', \n                    borderRadius: ''6px'',\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center''\n                  }}>\n                    <div>\n                      <div style={{ fontWeight: ''bold'' }}>#{invoice.InvoiceNumber}</div>\n                      <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n                        Due: {new Date(invoice.DueDate).toLocaleDateString()}\n                        {new Date(invoice.DueDate) < new Date() && (\n                          <span style={{ color: ''#EF4444'', marginLeft: ''8px'' }}>\n                            ({Math.floor((new Date() - new Date(invoice.DueDate)) / (1000 * 60 * 60 * 24))} days overdue)\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    <div style={{ display: ''flex'', gap: ''12px'', alignItems: ''center'' }}>\n                      <div style={{ fontWeight: ''bold'' }}>\n                        $' + '{((invoice.TotalAmount || 0) / 1000).toFixed(1)}K\n                      </div>\n                      <button\n                        onClick={() => callbacks.OpenEntityRecord(''Invoices'', [{ FieldName: ''ID'', Value: invoice.ID }])}\n                        style={{\n                          background: ''none'',\n                          border: ''none'',\n                          color: ''#3B82F6'',\n                          cursor: ''pointer'',\n                          fontSize: ''16px''\n                        }}\n                        title=\"Open Invoice\"\n                      >\n                        <i className=\"fa-solid fa-up-right-from-square\"></i>\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          );\n          \n        case ''customer'':\n          return (\n            <div>\n              <h3 style={{ margin: ''0 0 16px 0'' }}>{selectedData.name}</h3>\n              <div style={{ marginBottom: ''16px'', padding: ''12px'', backgroundColor: ''#F9FAFB'', borderRadius: ''6px'' }}>\n                <div style={{ display: ''grid'', gridTemplateColumns: ''1fr 1fr'', gap: ''8px'' }}>\n                  <div>\n                    <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Total Outstanding</div>\n                    <div style={{ fontSize: ''20px'', fontWeight: ''bold'' }}>\n                      $' + '{(selectedData.totalDue / 1000).toFixed(1)}K\n                    </div>\n                  </div>\n                  <div>\n                    <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Overdue Amount</div>\n                    <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#EF4444'' }}>\n                      $' + '{(selectedData.overdueAmount / 1000).toFixed(1)}K\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              <h4 style={{ margin: ''16px 0 8px 0'', fontSize: ''14px'' }}>Outstanding Invoices</h4>\n              <div style={{ maxHeight: ''400px'', overflow: ''auto'' }}>\n                {selectedData.invoices.map(invoice => (\n                  <div key={invoice.ID} style={{ \n                    padding: ''12px'', \n                    marginBottom: ''8px'', \n                    backgroundColor: ''#F9FAFB'', \n                    borderRadius: ''6px'',\n                    borderLeft: `3px solid $' + '{new Date(invoice.DueDate) < new Date() ? ''#EF4444'' : ''#3B82F6''}`\n                  }}>\n                    <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n                      <div>\n                        <div style={{ fontWeight: ''bold'' }}>Invoice #{invoice.InvoiceNumber}</div>\n                        <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n                          Due: {new Date(invoice.DueDate).toLocaleDateString()}\n                          {new Date(invoice.DueDate) < new Date() && (\n                            <span style={{ color: ''#EF4444'', marginLeft: ''8px'' }}>\n                              ({Math.floor((new Date() - new Date(invoice.DueDate)) / (1000 * 60 * 60 * 24))} days overdue)\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                      <div style={{ display: ''flex'', gap: ''12px'', alignItems: ''center'' }}>\n                        <div>\n                          <div style={{ fontSize: ''11px'', color: ''#6B7280'' }}>Outstanding</div>\n                          <div style={{ fontWeight: ''bold'' }}>\n                            $' + '{(invoice.outstanding / 1000).toFixed(1)}K\n                          </div>\n                        </div>\n                        <button\n                          onClick={() => callbacks.OpenEntityRecord(''Invoices'', [{ FieldName: ''ID'', Value: invoice.ID }])}\n                          style={{\n                            background: ''none'',\n                            border: ''none'',\n                            color: ''#3B82F6'',\n                            cursor: ''pointer'',\n                            fontSize: ''16px''\n                          }}\n                          title=\"Open Invoice\"\n                        >\n                          <i className=\"fa-solid fa-up-right-from-square\"></i>\n                        </button>\n                      </div>\n                    </div>\n                    {invoice.paidAmount > 0 && (\n                      <div style={{ marginTop: ''8px'', fontSize: ''11px'', color: ''#059669'' }}>\n                        Partial payment: $' + '{(invoice.paidAmount / 1000).toFixed(1)}K paid\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          );\n          \n        default:\n          return null;\n      }\n    };\n    \n    return (\n      <div\n        style={{\n          backgroundColor: ''white'',\n          borderRadius: ''8px'',\n          border: ''1px solid #E5E7EB'',\n          overflow: ''hidden'',\n          boxShadow: ''0 4px 6px rgba(0, 0, 0, 0.1)''\n        }}\n      >\n        <div style={{\n          padding: ''16px'',\n          borderBottom: ''1px solid #E5E7EB'',\n          background: ''linear-gradient(135deg, #3B82F6, #2563EB)'',\n          color: ''white'',\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''center''\n        }}>\n          <h3 style={{ margin: 0, fontSize: ''16px'' }}>\n            {drillDownType === ''status'' ? `$' + '{selectedData} Invoices` : \n             drillDownType === ''aging'' ? selectedData.label :\n             ''Customer Details''}\n          </h3>\n          <button\n            onClick={closeDrillDown}\n            style={{\n              background: ''rgba(255,255,255,0.2)'',\n              border: ''none'',\n              color: ''white'',\n              fontSize: ''20px'',\n              cursor: ''pointer'',\n              padding: ''4px 10px'',\n              borderRadius: ''4px'',\n              transition: ''background 0.2s'',\n              lineHeight: ''1''\n            }}\n            onMouseEnter={(e) => e.currentTarget.style.background = ''rgba(255,255,255,0.3)''}\n            onMouseLeave={(e) => e.currentTarget.style.background = ''rgba(255,255,255,0.2)''}\n          >\n            ×\n          </button>\n        </div>\n        \n        <div style={{ maxHeight: ''400px'', overflow: ''auto'', padding: ''16px'' }}>\n          {renderContent()}\n        </div>\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading invoice data...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#EF4444'' }}>Error: {error}</div>\n      </div>\n    );\n  }\n\n  // metrics is already calculated via useMemo above\n\n  return (\n    <div style={{ padding: ''20px'', backgroundColor: ''#F3F4F6'', minHeight: ''100%'' }}>\n      <style>{`\n        @media (max-width: 1024px) {\n          .invoice-charts {\n            grid-template-columns: 1fr !important;\n          }\n        }\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            max-height: 0;\n          }\n          to {\n            opacity: 1;\n            max-height: 800px;\n          }\n        }\n      `}</style>\n      \n      <div style={{ marginBottom: ''20px'', display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'', flexWrap: ''wrap'', gap: ''12px'' }}>\n        <h2 style={{ margin: 0, fontSize: ''24px'', fontWeight: ''bold'' }}>Invoice Status Dashboard</h2>\n        <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'' }}>\n          <select\n            value={timePeriod}\n            onChange={(e) => {\n              const newPeriod = e.target.value;\n              setTimePeriod(newPeriod);\n              if (newPeriod !== ''custom'') {\n                setStartDate(null);\n                setEndDate(null);\n                onSaveUserSettings({ \n                  ...savedUserSettings, \n                  timePeriod: newPeriod,\n                  startDate: null,\n                  endDate: null\n                });\n              } else {\n                onSaveUserSettings({ ...savedUserSettings, timePeriod: newPeriod });\n              }\n            }}\n            style={{\n              padding: ''6px 12px'',\n              border: ''1px solid #D1D5DB'',\n              borderRadius: ''6px'',\n              backgroundColor: ''white'',\n              cursor: ''pointer''\n            }}\n          >\n            <option value=\"all\">All Time</option>\n            <option value=\"month\">This Month</option>\n            <option value=\"lastMonth\">Last Month</option>\n            <option value=\"quarter\">This Quarter</option>\n            <option value=\"lastQuarter\">Last Quarter</option>\n            <option value=\"year\">This Year</option>\n            <option value=\"lastYear\">Last Year</option>\n            <option value=\"custom\">Custom Range</option>\n          </select>\n          \n          {timePeriod === ''custom'' && (\n            <>\n              <input\n                type=\"date\"\n                value={startDate || ''''}\n                onChange={(e) => {\n                  setStartDate(e.target.value);\n                  if (e.target.value && endDate) {\n                    onSaveUserSettings({ \n                      ...savedUserSettings, \n                      startDate: e.target.value,\n                      endDate,\n                      timePeriod: ''custom''\n                    });\n                  }\n                }}\n                style={{\n                  padding: ''6px 12px'',\n                  border: ''1px solid #D1D5DB'',\n                  borderRadius: ''6px'',\n                  backgroundColor: ''white''\n                }}\n              />\n              <span style={{ color: ''#6B7280'', fontSize: ''14px'' }}>to</span>\n              <input\n                type=\"date\"\n                value={endDate || ''''}\n                onChange={(e) => {\n                  setEndDate(e.target.value);\n                  if (startDate && e.target.value) {\n                    onSaveUserSettings({ \n                      ...savedUserSettings, \n                      startDate,\n                      endDate: e.target.value,\n                      timePeriod: ''custom''\n                    });\n                  }\n                }}\n                style={{\n                  padding: ''6px 12px'',\n                  border: ''1px solid #D1D5DB'',\n                  borderRadius: ''6px'',\n                  backgroundColor: ''white''\n                }}\n              />\n            </>\n          )}\n          \n          {/* Export Button */}\n          {DataExportPanel && (\n            <DataExportPanel\n              key=\"export-panel\"  // Add stable key\n              data={prepareExportData}\n              columns={getExportColumns}\n              filename={`invoice-status-dashboard-$' + '{new Date().toISOString().split(''T'')[0]}`}\n              formats={[''csv'', ''excel'', ''pdf'']}\n              buttonStyle=\"dropdown\"\n              buttonText=\"Export\"\n              icon=\"fa-download\"\n              customStyles={{\n                button: {\n                  padding: ''6px 12px'',\n                  backgroundColor: ''#10B981'',\n                  color: ''white'',\n                  border: ''none'',\n                  borderRadius: ''6px'',\n                  cursor: ''pointer'',\n                  fontSize: ''14px'',\n                  display: ''inline-flex'',\n                  alignItems: ''center'',\n                  gap: ''8px''\n                }\n              }}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n            />\n          )}\n\n          {/* AI Insights Button */}\n          <button\n            onClick={generateAIInsights}\n            disabled={loadingInsights || loading}\n            style={{\n              padding: ''6px 12px'',\n              backgroundColor: ''#3B82F6'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''6px'',\n              cursor: loadingInsights || loading ? ''not-allowed'' : ''pointer'',\n              display: ''flex'',\n              alignItems: ''center'',\n              gap: ''8px'',\n              opacity: loadingInsights || loading ? 0.6 : 1\n            }}\n          >\n            <i className={`fa-solid fa-$' + '{loadingInsights ? ''spinner fa-spin'' : ''wand-magic-sparkles''}`}></i>\n            {loadingInsights ? ''Analyzing...'' : ''Get AI Insights''}\n          </button>\n        </div>\n      </div>\n      \n      {/* AI Insights Panel */}\n      <AIInsightsPanel\n        utilities={utilities}\n        styles={styles}\n        components={components}\n        callbacks={callbacks}\n        savedUserSettings={savedUserSettings?.aiInsights}\n        onSaveUserSettings={(settings) => onSaveUserSettings?.({\n          ...savedUserSettings,\n          aiInsights: settings\n        })}\n        insights={aiInsights}\n        loading={loadingInsights}\n        error={insightsError}\n        onGenerate={generateAIInsights}\n        title=\"Invoice Analytics Insights\"\n        icon=\"fa-wand-magic-sparkles\"\n        iconColor={styles?.colors?.primary || ''#8B5CF6''}\n        position=\"top\"\n        onClose={() => {\n          setAiInsights(null);\n          setInsightsError(null);\n        }}\n      />\n      \n      {/* Top Metrics Cards - Side by Side */}\n      <div style={{ display: ''grid'', gridTemplateColumns: ''repeat(auto-fit, minmax(180px, 1fr))'', gap: ''16px'', marginBottom: ''20px'' }}>\n        <div \n          style={{ \n            padding: ''16px'', \n            backgroundColor: ''white'', \n            borderRadius: ''8px'',\n            cursor: ''pointer'',\n            transition: ''all 0.2s''\n          }}\n          onClick={() => openDrillDown(''status'', ''Overdue'')}\n          onMouseEnter={(e) => e.currentTarget.style.boxShadow = ''0 4px 6px rgba(0,0,0,0.1)''}\n          onMouseLeave={(e) => e.currentTarget.style.boxShadow = ''none''}\n        >\n          <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n            <div>\n              <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Overdue</div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#EF4444'' }}>\n                {metrics.overdue}\n              </div>\n              <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n                $' + '{(metrics.overdueAmount / 1000).toFixed(1)}K\n              </div>\n            </div>\n            <div style={{ fontSize: ''32px'', color: ''#FEE2E2'' }}>\n              <i className=\"fa-solid fa-exclamation-circle\"></i>\n            </div>\n          </div>\n        </div>\n        \n        <div \n          style={{ \n            padding: ''16px'', \n            backgroundColor: ''white'', \n            borderRadius: ''8px'',\n            cursor: ''pointer'',\n            transition: ''all 0.2s''\n          }}\n          onClick={() => openDrillDown(''status'', ''Pending'')}\n          onMouseEnter={(e) => e.currentTarget.style.boxShadow = ''0 4px 6px rgba(0,0,0,0.1)''}\n          onMouseLeave={(e) => e.currentTarget.style.boxShadow = ''none''}\n        >\n          <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n            <div>\n              <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Pending</div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#3B82F6'' }}>\n                {metrics.pending}\n              </div>\n              <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n                $' + '{(metrics.pendingAmount / 1000).toFixed(1)}K\n              </div>\n            </div>\n            <div style={{ fontSize: ''32px'', color: ''#DBEAFE'' }}>\n              <i className=\"fa-solid fa-clock\"></i>\n            </div>\n          </div>\n        </div>\n        \n        <div \n          style={{ \n            padding: ''16px'', \n            backgroundColor: ''white'', \n            borderRadius: ''8px'',\n            cursor: ''pointer'',\n            transition: ''all 0.2s''\n          }}\n          onClick={() => openDrillDown(''status'', ''Partial'')}\n          onMouseEnter={(e) => e.currentTarget.style.boxShadow = ''0 4px 6px rgba(0,0,0,0.1)''}\n          onMouseLeave={(e) => e.currentTarget.style.boxShadow = ''none''}\n        >\n          <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n            <div>\n              <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Partial</div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#F59E0B'' }}>\n                {metrics.partial}\n              </div>\n              <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n                $' + '{(metrics.partialAmount / 1000).toFixed(1)}K\n              </div>\n            </div>\n            <div style={{ fontSize: ''32px'', color: ''#FEF3C7'' }}>\n              <i className=\"fa-solid fa-chart-pie\"></i>\n            </div>\n          </div>\n        </div>\n        \n        <div \n          style={{ \n            padding: ''16px'', \n            backgroundColor: ''white'', \n            borderRadius: ''8px'',\n            cursor: ''pointer'',\n            transition: ''all 0.2s''\n          }}\n          onClick={() => openDrillDown(''status'', ''Paid'')}\n          onMouseEnter={(e) => e.currentTarget.style.boxShadow = ''0 4px 6px rgba(0,0,0,0.1)''}\n          onMouseLeave={(e) => e.currentTarget.style.boxShadow = ''none''}\n        >\n          <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n            <div>\n              <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Paid</div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#10B981'' }}>\n                {metrics.paid}\n              </div>\n              <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n                $' + '{(metrics.paidAmount / 1000).toFixed(1)}K\n              </div>\n            </div>\n            <div style={{ fontSize: ''32px'', color: ''#D1FAE5'' }}>\n              <i className=\"fa-solid fa-check-circle\"></i>\n            </div>\n          </div>\n        </div>\n        \n        <div style={{ padding: ''16px'', backgroundColor: ''white'', borderRadius: ''8px'' }}>\n          <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n            <div>\n              <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Total</div>\n              <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#6B7280'' }}>\n                {metrics.total}\n              </div>\n              <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n                $' + '{(metrics.totalAmount / 1000).toFixed(1)}K\n              </div>\n            </div>\n            <div style={{ fontSize: ''32px'', color: ''#E5E7EB'' }}>\n              <i className=\"fa-solid fa-file-invoice-dollar\"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Charts Row - Side by Side, wider overall */}\n      <div className=\"invoice-charts\" style={{ display: ''grid'', gridTemplateColumns: ''3fr 2fr'', gap: ''20px'', marginBottom: ''20px'' }}>\n        <div style={{ backgroundColor: ''white'', borderRadius: ''8px'', padding: ''16px'' }}>\n          <h3 style={{ margin: ''0 0 16px 0'', fontSize: ''18px'' }}>Status Distribution</h3>\n          <div style={{ height: ''280px'' }}>\n            <canvas ref={statusChartRef} />\n          </div>\n        </div>\n        \n        <div style={{ backgroundColor: ''white'', borderRadius: ''8px'', padding: ''16px'' }}>\n          <h3 style={{ margin: ''0 0 16px 0'', fontSize: ''18px'' }}>Payment Due Timeline</h3>\n          <div style={{ height: ''280px'' }}>\n            <canvas ref={agingChartRef} />\n          </div>\n        </div>\n      </div>\n      \n      {/* Customer Balances */}\n      <CustomerBalances />\n      \n      {/* Drill-down Panel - below all content */}\n      {isPanelOpen && (\n        <div style={{ \n          marginTop: ''20px'',\n          animation: ''slideDown 0.3s ease'',\n          overflow: ''hidden''\n        }}>\n          <DrillDownPanel />\n        </div>\n      )}\n      \n    </div>\n  );\n}","functionalRequirements":"## Invoice Status Dashboard\n\n### Purpose\nTrack invoice statuses, payment timelines, and accounts receivable aging with actionable insights.\n\n### Core Features\n- **Status Overview**: Pie chart of invoice statuses\n- **Aging Analysis**: Outstanding invoice aging buckets\n- **Payment Timeline**: Calendar view of due dates\n- **Customer Balance**: Top debtors and credit risks\n- **Collection Metrics**: DSO and collection efficiency\n- **Interactive Charts**: Using Plotly for rich visuals\n- **Slide-out Actions**: Quick actions for overdue invoices\n- **Card/List Views**: Multiple display options\n\n### Visualizations\n- Donut chart for status distribution\n- Waterfall chart for cash flow\n- Heatmap calendar for due dates\n- Bar charts for aging analysis","dataRequirements":{"mode":"views","entities":[{"name":"Invoices","displayFields":["InvoiceNumber","AccountID","InvoiceDate","DueDate","TotalAmount","Status","PaidAmount"],"filterFields":["Status","DueDate","AccountID"],"sortFields":["DueDate","TotalAmount"]},{"name":"Payments","displayFields":["InvoiceID","PaymentDate","Amount","PaymentMethod"],"filterFields":["PaymentDate","InvoiceID"],"sortFields":["PaymentDate"]}]},"technicalDesign":"## Implementation\n\n### Components\n- Main: InvoiceStatusDashboard\n- Sub-components:\n  - StatusOverview: Pie chart summary\n  - AgingChart: Aging buckets visualization\n  - PaymentCalendar: Due date heatmap\n  - CustomerBalances: Top debtor list\n  - ActionPanel: Quick actions slide-out\n\n### Calculations\n- Days Sales Outstanding (DSO)\n- Aging buckets (0-30, 31-60, 61-90, 90+)\n- Collection rate trends\n- Average payment time","properties":[],"events":[{"name":"OpenEntityRecord","description":"Navigate to invoice details"}],"dependencies":[{"name":"AIInsightsPanel","location":"registry","namespace":"Generic/UI/AI","version":"^1.0.0"},{"name":"DataExportPanel","location":"registry","namespace":"Generic/UI/Export","version":"^1.0.0"}],"libraries":[{"name":"Chart.js","version":"^4.4.1","globalVariable":"Chart"}],"description":"Track invoice statuses, payment timelines, and accounts receivable aging with actionable insights and collection metrics"}'
SET
  @FunctionalRequirements_2b3e215e = N'## Invoice Status Dashboard

### Purpose
Track invoice statuses, payment timelines, and accounts receivable aging with actionable insights.

### Core Features
- **Status Overview**: Pie chart of invoice statuses
- **Aging Analysis**: Outstanding invoice aging buckets
- **Payment Timeline**: Calendar view of due dates
- **Customer Balance**: Top debtors and credit risks
- **Collection Metrics**: DSO and collection efficiency
- **Interactive Charts**: Using Plotly for rich visuals
- **Slide-out Actions**: Quick actions for overdue invoices
- **Card/List Views**: Multiple display options

### Visualizations
- Donut chart for status distribution
- Waterfall chart for cash flow
- Heatmap calendar for due dates
- Bar charts for aging analysis'
SET
  @TechnicalDesign_2b3e215e = N'## Implementation

### Components
- Main: InvoiceStatusDashboard
- Sub-components:
  - StatusOverview: Pie chart summary
  - AgingChart: Aging buckets visualization
  - PaymentCalendar: Due date heatmap
  - CustomerBalances: Top debtor list
  - ActionPanel: Quick actions slide-out

### Calculations
- Days Sales Outstanding (DSO)
- Aging buckets (0-30, 31-60, 61-90, 90+)
- Collection rate trends
- Average payment time'
SET
  @FunctionalRequirementsVector_2b3e215e = N'[-0.019946107640862465,0.04318227246403694,-0.0225867610424757,-0.02668132446706295,-0.0030089523643255234,0.03217006474733353,-0.008945021778345108,0.07607051730155945,0.0009059287258423865,0.04259097948670387,-0.005824485328048468,0.03389734402298927,0.028085270896553993,0.08070732653141022,-0.04866202175617218,-0.005500125233083963,-0.02958369068801403,-0.010864543728530407,0.07437273114919662,0.0338437594473362,-0.023771870881319046,0.027197573333978653,-0.029179781675338745,0.0010503765661269426,-0.03449541702866554,-0.021030809730291367,0.00531107047572732,0.01592930220067501,0.014999347738921642,-0.0932641327381134,0.02343069203197956,0.01941964402794838,-0.038421276956796646,-0.015377755276858807,0.0000023097306893760106,-0.0034005106426775455,0.02191069908440113,0.013587577268481255,-0.03846834599971771,0.07953961193561554,-0.016450051218271255,-0.11205577850341797,0.02231490984559059,0.018176767975091934,0.014327320270240307,0.023265168070793152,-0.03433172404766083,0.010053694248199463,0.023359030485153198,-0.018662359565496445,-0.022281603887677193,0.005865016486495733,-0.05587160959839821,-0.010491599328815937,-0.019718777388334274,-0.04247492551803589,-0.0034400871954858303,0.028185054659843445,0.013350991532206535,-0.142677903175354,0.001483781961724162,0.014246087521314621,0.02060456946492195,-0.0378546305000782,0.05605647712945938,0.03466980904340744,0.07312881946563721,0.0023841012734919786,-0.03842427581548691,-0.047632262110710144,0.04305942356586456,0.013781843706965446,-0.02847549319267273,-0.045588135719299316,0.007910155691206455,-0.05584602802991867,-0.05337664857506752,-0.020301861688494682,-0.003909078426659107,-0.00011186418851139024,-0.07005742192268372,0.06121136620640755,-0.005386835895478725,0.012557205744087696,0.01443752832710743,-0.06463970243930817,0.00003272144385846332,-0.003433953272178769,-0.014150378294289112,0.002860785461962223,0.01314516831189394,0.0170403104275465,0.04287531226873398,0.024716686457395554,-0.009440871886909008,-0.024688398465514183,0.04276081547141075,-0.07470959424972534,0.06945735216140747,0.0004105769912712276,-0.0041418662294745445,-0.010363457724452019,-0.02131710946559906,0.030797267332673073,0.038234587758779526,0.02724384516477585,-0.02359830215573311,-0.09342660754919052,-0.028897296637296677,0.01917109824717045,0.014336529187858105,0.0006824548472650349,-0.005141065921634436,-0.010926793329417706,0.020004676654934883,-0.01582164876163006,-0.013656942173838615,-0.0418265201151371,-0.027072913944721222,-0.025347333401441574,0.1120917871594429,0.06299097090959549,0.009373150765895844,0.027580074965953827,-0.01757615990936756,0.016564706340432167,-0.05059957131743431,-0.038805656135082245,-0.03236619755625725,0.01721547171473503,0.029660798609256744,-0.03294435143470764,0.029473572969436646,-0.020429247990250587,0.0217510424554348,-0.046800289303064346,0.016758890822529793,0.018115652725100517,0.015278611332178116,0.006903893779963255,0.04676201939582825,-0.008034632541239262,-0.027218004688620567,0.003453320125117898,-0.003703180467709899,0.007517390884459019,-0.032465316355228424,0.08753326535224915,-0.0050093745812773705,0.03387179225683212,0.0037755274679511786,-0.02924862876534462,-0.03171427547931671,0.029239563271403313,0.009756610728800297,-0.02780204638838768,0.04781104996800423,-0.03521915152668953,0.03656844049692154,-0.062088754028081894,-0.006432436406612396,-0.03878184035420418,0.06010206788778305,0.003574917558580637,-0.020452655851840973,0.026301676407456398,-0.030400142073631287,0.025794683024287224,-0.06762376427650452,-0.05268241837620735,-0.04221055656671524,0.008718229830265045,0.018205134198069572,0.025670591741800308,0.004981679376214743,-0.06265737116336823,0.011335084214806557,-0.07705908268690109,-0.050922904163599014,-0.014995826408267021,0.022523319348692894,-0.14431074261665344,0.01617971435189247,0.06359650194644928,0.06317982077598572,-0.009421754628419876,-0.0830201581120491,-0.02421419695019722,-0.03327103704214096,-0.033661603927612305,-0.04452292248606682,0.0008656768477521837,-0.06937824934720993,0.012845039367675781,0.013022308237850666,0.04476999491453171,-0.05104024335741997,-0.08856696635484695,0.013014580123126507,-0.009709466248750687,-0.011381310410797596,-0.025262262672185898,0.012632894329726696,0.07142572104930878,0.04124152660369873,0.004651390016078949,0.005701618734747171,-0.01949799247086048,-0.0339403860270977,0.004414300434291363,-0.06664984673261642,0.005359492730349302,-0.014177937991917133,-0.01392258983105421,-0.009797342121601105,0.04500975459814072,0.023047147318720818,-0.004574212245643139,0.016865979880094528,0.0027789894957095385,-0.006375330965965986,-0.038034215569496155,-0.046585772186517715,0.013146501034498215,0.09142445772886276,0.018464962020516396,0.03945799916982651,0.016603074967861176,0.04005211591720581,-0.013428367674350739,-0.025279773399233818,0.01200566254556179,0.03415001556277275,0.004823721945285797,0.05356018990278244,0.06651299446821213,0.025490248575806618,0.13198623061180115,-0.022796284407377243,0.008105781860649586,0.01831529662013054,-0.07529652863740921,0.011040753684937954,0.03372315689921379,-0.03194030746817589,-0.03590545058250427,-0.014644711278378963,-0.0033193056005984545,0.020363161340355873,0.014472239650785923,0.027534522116184235,0.01706584170460701,0.03496808186173439,-0.026989394798874855,-0.04234239459037781,0.000977722113020718,-0.009166385047137737,-0.011708551086485386,0.038510896265506744,0.030809268355369568,-0.0010528980055823922,-0.04405573382973671,-0.023455802351236343,-0.02072378434240818,0.011682468466460705,-0.012955646961927414,0.038351044058799744,-0.0047699324786663055,-0.0307649914175272,0.029605895280838013,-0.0377015545964241,0.00856316089630127,-0.03479250520467758,0.0010434133000671864,-0.026117682456970215,0.04559168964624405,-0.045870862901210785,0.042330507189035416,-0.017042603343725204,-0.0008620039443485439,0.0002620193699840456,-0.01244962215423584,0.027126779779791832,0.04482926055788994,0.007066358812153339,-0.007267226465046406,0.06320658326148987,-0.09194530546665192,-0.018182922154664993,-0.09262534230947495,0.008203385397791862,-0.038900502026081085,0.011339617893099785,-0.022950343787670135,-0.03090028651058674,0.036935288459062576,0.017634127289056778,0.01830344647169113,-0.0169226061552763,0.05300472304224968,-0.040915634483098984,0.0004260170098859817,0.04579593613743782,0.0035017237532883883,0.020472634583711624,0.015552864409983158,0.04137017950415611,0.009241998195648193,-0.01582931913435459,-0.03087807260453701,0.027348900213837624,0.022447118535637856,-0.01486807782202959,-0.03485551103949547,0.033258501440286636,-0.006001342553645372,0.0911998525261879,0.07295624166727066,-0.014660707674920559,0.04687732458114624,0.018228260800242424,-0.0358109176158905,-0.03084646910429001,0.049877364188432693,-0.035783801227808,0.016517074778676033,-0.05882663652300835,-0.03979886695742607,0.017503393813967705,-0.004010204691439867,-0.004862130619585514,0.004231683444231749,-0.034505296498537064,0.016049658879637718,-0.002001020358875394,0.019954893738031387,0.004265548195689917,0.01825098507106304,-0.0002076731761917472,-0.02508082427084446,0.06415078788995743,-0.00013661343837156892,-0.017639199271798134,0.060191016644239426,-0.05058600381016731,0.03339836373925209,-0.03861234709620476,-0.006313448306173086,-0.08515608310699463,0.029123343527317047,-0.03143727034330368,0.03393036499619484,-0.01938597299158573,0.0056740702129900455,0.01956876367330551,-0.03412684053182602,-0.05425615981221199,-0.024165527895092964,-0.01659211702644825,-0.07991961389780045,0.014358083717525005,-0.03609701618552208,0.000679122400470078,-0.0037127756513655186,0.06576090306043625,0.011923194862902164,0.0004085703403688967,-0.010832617059350014,0.03429599478840828,0.008569231256842613,-0.0735238566994667,0.0026460611261427402,-0.031136732548475266,-0.00039529940113425255,0.045859500765800476,-0.034677088260650635,0.044311460107564926,0.011160068213939667,-0.015384136699140072,0.03734494745731354,0.0041941008530557156,0.011563708074390888,0.06726472824811935,0.00772344833239913,0.027202626690268517,0.009058532305061817,0.01039843913167715,-0.021780958399176598,0.005815128330141306,0.0681580975651741,-0.007896115072071552,0.09596999734640121,-0.006620949599891901,-0.001609133672900498,-0.008788519538939,-0.001586050959303975,-0.008299116976559162,0.016151906922459602,-0.009045181795954704,-0.011659566313028336,0.008994048461318016,-0.034449540078639984,0.061495520174503326,-0.030813291668891907,-0.020130973309278488,-0.0813259705901146,0.08690070360898972,0.04318928346037865,-0.0385836660861969,-0.013121618889272213,-0.0451231375336647,-0.005354924593120813,-0.011487467214465141,-0.056071843951940536,0.044680505990982056,0.04842432588338852,-0.008291885256767273,-0.027949407696723938,0.05009671673178673,0.0051315221935510635,-0.008891270495951176,0.029553566128015518,-0.014034981839358807,-0.026193082332611084,0.0076331826858222485,-0.058492355048656464,-0.015501425601541996,-0.04952014982700348,-0.013981140218675137,0.0016793236136436462,-0.02636091783642769,-0.01505329366773367,-0.0021455090027302504,0.032906852662563324,-0.04239572957158089,0.07841850072145462,0.014401943422853947,-0.0019274995429441333,-0.06379575282335281,-0.02983464114367962,-0.013200394809246063,0.010563859716057777,0.02966167964041233,-0.008182727731764317,-0.014920314773917198,-0.015187677927315235,0.0022639106027781963,-0.017851572483778,-0.04780936613678932,0.008254540152847767,0.032318368554115295,-0.10208509862422943,-0.0205064807087183,-0.02231149561703205,0.0001350167440250516,-0.03490235656499863,0.023806292563676834,-0.048683006316423416,0.0352909155189991,-0.01749088242650032,0.034492649137973785,0.00792434811592102,-0.02539106458425522,0.022932467982172966,0.05361054837703705,0.02470044605433941,0.026397651061415672,0.0013636526418849826,-0.04867148399353027,-0.03868921101093292,0.05375262722373009,-0.009655680507421494,-0.020156005397439003,-0.03177238255739212,-0.0074506946839392185,0.02924894355237484,0.02788405492901802,0.030473584309220314,0.009805671870708466,-0.022006643936038017,0.016335101798176765,0.017585599794983864,-0.001887856051325798,-0.08230513334274292,-0.011586707085371017,-0.005184271838515997,-0.009342742152512074,0.004489912651479244,-0.020151620730757713,-0.012630968354642391,0.02503615990281105,-0.0016171755269169807,-0.03234046697616577,0.132929727435112,0.02731119655072689,0.006547755096107721,0.007102727424353361,0.01599935255944729,-0.028108440339565277,0.016599344089627266,-0.017901577055454254,-0.002167442813515663,0.02621963806450367,-0.023598289117217064,-0.02305806614458561,-0.0012590901460498571,0.04769880324602127,0.007368620950728655,-0.034579601138830185,0.0250073429197073,-0.03377373889088631,-0.03230508044362068,0.02413136698305607,0.001535795396193862,0.02942475490272045,-0.004909907933324575,0.0035866512916982174,-0.025937601923942566,0.033051036298274994,-0.05670199543237686,0.0017207837663590908,0.0017718877643346786,0.04196123033761978,0.00937176588922739,0.018985670059919357,-0.022687077522277832,0.03116123378276825,-0.024362288415431976,-0.012649571523070335,0.07557643949985504,-0.05760948359966278,0.023281317204236984,0.0002912968338932842,0.02263345941901207,-0.007545214146375656,-0.011288084089756012,0.01313150953501463,-0.03848336637020111,0.03276895359158516,0.016130700707435608,-0.009438439272344112,0.0030280824285000563,0.058638330549001694,-0.028446977958083153,-0.024332500994205475,-0.02974066138267517,0.015505014918744564,-0.06149832159280777,-0.025943223387002945,-0.0006925372872501612,0.0090236971154809,-0.07630099356174469,-0.060793228447437286,0.0033974850084632635,-0.04793465882539749,-6.74362448093927e-33,-0.005900319665670395,-0.08444280177354813,-0.03653412684798241,0.02962990291416645,0.040788434445858,0.03365704417228699,0.010939436964690685,-0.049204498529434204,0.004787178710103035,0.027630655094981194,-0.03315499424934387,0.0262091513723135,0.024676920846104622,-0.006589474156498909,0.025773003697395325,0.030210869386792183,0.03925011679530144,-0.00024445552844554186,0.02896730788052082,0.008868053555488586,-0.0577666275203228,0.05044567957520485,0.0430758073925972,-0.07430048286914825,-0.014562642201781273,0.014090402983129025,-0.014724665321409702,0.04319889843463898,-0.022497795522212982,0.018439555540680885,0.02579113468527794,-0.03896268084645271,-0.013896669261157513,0.05685563012957573,0.02467985823750496,-0.00984104909002781,-0.012858700938522816,0.029736090451478958,-0.002181403571739793,0.03123571164906025,0.11155230551958084,-0.006061645224690437,0.0038683798629790545,0.023035535588860512,-0.029757147654891014,-0.02693662978708744,0.0373377688229084,-0.0033172701951116323,0.013433524407446384,-0.019591549411416054,-0.03483594208955765,0.015348139218986034,-0.019866466522216797,0.004846770316362381,0.013946160674095154,0.058266833424568176,0.019041238352656364,-0.005082410294562578,-0.10473727434873581,-0.03934161737561226,-0.029120618477463722,-0.03306252881884575,-0.0037349851336330175,0.04293060675263405,0.006351188290864229,-0.003237952711060643,-0.017702244222164154,0.0268489308655262,0.030987637117505074,-0.024503225460648537,0.0022221447434276342,0.03671276196837425,0.05252083018422127,-0.08436755836009979,0.01151755079627037,0.0026717940345406532,-0.035144343972206116,0.01583803817629814,0.05136669799685478,0.06477800011634827,0.02775425836443901,0.007235818076878786,0.006067269016057253,0.023878494277596474,0.03296438604593277,-0.06344539672136307,-0.008152125403285027,0.013576324097812176,-0.009138384833931923,-0.005992285441607237,0.04668630659580231,-0.01498718187212944,-0.03511503338813782,0.04837418720126152,-0.08570744097232819,0.004206934943795204,0.04655187577009201,0.04142090305685997,0.026380864903330803,0.01156429573893547,0.0010704610031098127,0.0463322252035141,-0.036377448588609695,0.03364846110343933,-0.00883878581225872,-0.022802293300628662,0.10454422980546951,-0.0519629567861557,-0.018729861825704575,0.02311091311275959,0.016605990007519722,0.02698596566915512,-0.013527748174965382,0.06739453226327896,-0.025766711682081223,0.018540747463703156,-0.005275840405374765,0.02344372682273388,-0.008796434849500656,-0.03987607732415199,0.025965113192796707,-0.01278376579284668,-0.007418899796903133,0.00696013867855072,0.020627936348319054,-0.013017525896430016,-0.03929828852415085,-0.03129054978489876,0.029763445258140564,0.01512585487216711,-0.0031633139587938786,0.056091565638780594,3.114221840405662e-7,0.012802313081920147,0.04168960452079773,-0.0123856570571661,0.026795372366905212,0.016402550041675568,0.004234321415424347,-0.046170424669981,-0.047293517738580704,-0.003954844083636999,0.04739319160580635,0.04029329493641853,-0.008986498229205608,0.03559796139597893,0.04143485054373741,-0.029668020084500313,-0.10284784436225891,-0.055033404380083084,-0.03920257091522217,-0.045730266720056534,0.03413194790482521,-0.025258246809244156,-0.012686628848314285,0.04758979380130768,0.013118620961904526,0.021551065146923065,0.028903746977448463,-0.025700591504573822,-0.04654261842370033,0.04120868071913719,-0.030801039189100266,-0.005063188727945089,-0.00557394465431571,0.0325026735663414,-0.0048439353704452515,-0.016727473586797714,-0.027560196816921234,-0.002475961809977889,-0.014035094529390335,-0.011137119494378567,0.009934674948453903,0.0011796323815360665,0.026529045775532722,0.0007278883131220937,-0.005015506874769926,-0.008886607363820076,-0.03803645074367523,-0.04219875857234001,0.01933177188038826,-0.062238533049821854,0.03580893948674202,0.020004848018288612,0.005502556450664997,-0.036045871675014496,-0.006356901954859495,0.03680035471916199,-0.010905155912041664,-0.021735385060310364,0.05562274530529976,0.0353563092648983,0.026769062504172325,-0.008180364035069942,0.017321377992630005,-0.027188749983906746,0.04265682399272919,-0.021773094311356544,-0.02239958383142948,0.006600724533200264,3.274651066136198e-34,0.009608283638954163,-0.01706290803849697,0.04646455869078636,0.061560165137052536,0.024573104456067085,-0.025835730135440826,0.01648208685219288,0.025117792189121246,-0.009333944879472256,-0.003988675773143768,-0.025111569091677666]'
SET
  @TechnicalDesignVector_2b3e215e = N'[0.0032012041192501783,0.03581016883254051,-0.021867256611585617,-0.013550881296396255,-0.010822701267898083,0.04548807069659233,0.025058120489120483,0.05450258031487465,0.00846091192215681,0.037054549902677536,-0.019485129043459892,0.0016486860113218427,0.03818769380450249,0.05437810346484184,-0.0326642245054245,-0.010278630070388317,-0.04166591912508011,0.030870547518134117,0.02804696559906006,0.0013967739650979638,0.027939140796661377,0.010517116636037827,-0.005963600240647793,-0.014262797310948372,-0.022925402969121933,-0.048421792685985565,-0.010186596773564816,-0.013778243213891983,0.020808016881346703,-0.10390143096446991,0.043645285069942474,0.023664575070142746,-0.024112606421113014,-0.014811127446591854,0.0000021148714495211607,-0.02190844528377056,0.021534843370318413,0.022816190496087074,-0.037473469972610474,0.07132086902856827,-0.012640586122870445,-0.082737036049366,0.0317046195268631,-0.002412931527942419,-0.006850512232631445,0.030729034915566444,-0.058033525943756104,0.06360258907079697,0.046173345297575,-0.015168881975114346,-0.004094108939170837,0.009556407108902931,-0.03861694410443306,-0.0010703133884817362,0.035871393978595734,-0.06115814298391342,0.0027122797910124063,0.05381876602768898,0.039798859506845474,-0.11360843479633331,-0.039724722504615784,0.0037007785867899656,0.03522977605462074,-0.045829225331544876,0.04959498718380928,0.01957128569483757,0.06706834584474564,-0.005585088394582272,-0.001966799609363079,-0.01724327728152275,0.11115968972444534,0.00006361660780385137,-0.018026500940322876,-0.006709880195558071,-0.0181278008967638,-0.049452416598796844,-0.04937082156538963,-0.046635087579488754,-0.0037364885210990906,-0.007300710771232843,-0.08680906146764755,0.031554851680994034,-0.03639940172433853,0.0121972830966115,0.023781314492225647,-0.032456982880830765,-0.02778122015297413,-0.034367162734270096,-0.021270286291837692,0.0019255619263276458,0.03289521485567093,-0.013466380536556244,0.035305801779031754,0.03460293635725975,-0.037210892885923386,-0.0160559993237257,0.037221916019916534,-0.049315109848976135,0.05758003145456314,-0.02597161754965782,0.00047439217451028526,0.016454078257083893,0.037337347865104675,0.0378776453435421,0.027611656114459038,0.0789135992527008,0.0027799243107438087,-0.10294955223798752,-0.03360016271471977,0.0299698356539011,0.01282167062163353,-0.015666473656892776,-0.009613185189664364,0.05793333053588867,0.022257952019572258,-0.0031516575254499912,-0.03651113063097,-0.04654236510396004,-0.015808647498488426,-0.03174685686826706,0.12911123037338257,0.01801983267068863,0.022528108209371567,0.03101322241127491,0.01995028555393219,-0.006904673296958208,-0.06884456425905228,-0.049359071999788284,-0.039620161056518555,0.013044057413935661,-0.0029402116779237986,-0.0283211562782526,-0.016741730272769928,-0.021469809114933014,0.003807500470429659,-0.009639610536396503,0.016878588125109673,0.03674614056944847,-0.014592104591429234,-0.0024290401488542557,0.011784179136157036,-0.01889050379395485,-0.04878641664981842,-0.007923184894025326,0.004496839828789234,0.00038655867683701217,-0.009077392518520355,0.06836358457803726,0.009310627356171608,0.028013724833726883,0.00002015904101426713,-0.017185142263770103,-0.004183373413980007,0.026316875591874123,-0.03239689767360687,-0.004901013802736998,0.04632437229156494,-0.012999149970710278,0.08336573094129562,-0.04502283036708832,-0.025031577795743942,-0.0003889357903972268,0.055340081453323364,-0.004023340065032244,-0.022842688485980034,0.02207578718662262,-0.03958641737699509,0.003747816663235426,-0.07601577043533325,-0.05985758453607559,-0.04933907464146614,-0.01655178889632225,-0.01273063849657774,0.04759583994746208,-0.013389027677476406,-0.06495420634746552,-0.008308564312756062,-0.06451235711574554,-0.1072775349020958,-0.034852154552936554,0.051802463829517365,-0.1388559341430664,0.0007931416039355099,0.04797196015715599,0.08819730579853058,-0.019794823601841927,-0.09863907098770142,0.025114329531788826,-0.024403544142842293,-0.011577441357076168,-0.033003177493810654,0.012208685278892517,-0.08413825929164886,0.009770628996193409,0.0035132626071572304,0.0666344091296196,-0.012437454424798489,-0.01743275485932827,0.029043152928352356,0.010163704864680767,-0.001411734032444656,-0.00520505104213953,0.04168108105659485,0.056316159665584564,0.03595336899161339,-0.013159767724573612,-0.02530706487596035,0.005472238641232252,-0.014077355153858662,-0.005369264166802168,-0.03160964325070381,0.015229123644530773,-0.034118007868528366,-0.014799915254116058,-0.018549634143710136,0.03428908437490463,0.01897050067782402,0.010753395035862923,-0.011609372682869434,-0.05387106165289879,-0.01388284470885992,-0.05759904906153679,-0.0000012713687738141743,0.008379587903618813,0.06040021404623985,0.05414281785488129,0.04911123588681221,-0.02910226210951805,0.0361323244869709,-0.00846827682107687,-0.036479488015174866,-0.004413967952132225,0.009897040203213692,0.009528846479952335,0.02097516506910324,0.06758610159158707,0.014253981411457062,0.047674503177404404,0.00996647123247385,0.0006152931600809097,0.012457338161766529,-0.05641936883330345,0.0017675893614068627,0.035917386412620544,-0.012063881382346153,-0.020004797726869583,-0.06242166459560394,0.020925365388393402,0.005129010416567326,-0.007141689769923687,0.00578213669359684,0.00801293645054102,0.02544265054166317,-0.03528857231140137,-0.03630165383219719,0.02923436649143696,-0.0151968440040946,-0.025457652285695076,0.07251818478107452,0.03742725029587746,-0.003400621470063925,-0.03244480490684509,-0.03999032825231552,-0.02912147156894207,0.021152222529053688,-0.020151199772953987,0.03538811206817627,0.0258262250572443,-0.022532183676958084,0.03417249023914337,-0.01129031553864479,0.011390036903321743,-0.021084444597363472,-0.00041891742148436606,-0.01885424740612507,0.0562349371612072,-0.03297486901283264,0.01437744777649641,-0.008384785614907742,-0.007866526953876019,-0.047192033380270004,-0.023126043379306793,0.023046819493174553,0.029002150520682335,-0.022631250321865082,0.005663582123816013,0.05198046192526817,-0.06628218293190002,0.018459370359778404,-0.0728253647685051,-0.018145473673939705,-0.029384853318333626,0.013348933309316635,-0.0396607480943203,-0.02255304530262947,0.02050120383501053,0.017819682136178017,0.006841740105301142,-0.02076624520123005,0.05628206208348274,-0.05256801098585129,-0.01127748191356659,0.024473533034324646,-0.010918770916759968,-0.002867857227101922,0.04391074925661087,0.031735945492982864,-0.005817688535898924,-0.004330913536250591,0.026987170800566673,0.0311649851500988,0.014602779410779476,-0.00110615196172148,-0.0008542540017515421,0.028566483408212662,-0.01530432142317295,0.07395368069410324,0.05030468478798866,-0.030606528744101524,0.016944216564297676,0.008928959257900715,-0.01852327398955822,-0.008552122861146927,0.039088208228349686,-0.04424310848116875,0.02074776403605938,-0.021571369841694832,-0.00814649648964405,-0.04044784978032112,0.01651608571410179,0.008163225837051868,-0.03587780520319939,-0.03431152552366257,0.03966899216175079,0.014444281347095966,-0.009391284547746181,0.0004159771488048136,0.01822383888065815,0.02303318679332733,-0.019477689638733864,0.04486263170838356,-0.00444375304505229,-0.01782180741429329,0.06836861371994019,0.0068819052539765835,0.026686200872063637,-0.05381334200501442,0.0070304363034665585,-0.1077907383441925,0.010707340203225613,0.021015020087361336,0.04609116166830063,-0.04590420797467232,-0.0048810518346726894,-0.011398052796721458,-0.02588309720158577,-0.02668112702667713,-0.025567013770341873,-0.0000610582937952131,-0.07115937769412994,0.055063921958208084,0.0007131879683583975,0.054782308638095856,0.03319607675075531,0.032875120639801025,0.025542493909597397,-0.007606720086187124,0.011425387114286423,0.01808212697505951,-0.013997037895023823,-0.04815151169896126,0.03142619505524635,-0.008733048103749752,0.018434759229421616,0.024690119549632072,0.002838771790266037,0.04427262395620346,0.0035474393516778946,0.00006307556031970307,0.0334978885948658,0.014315864071249962,-0.027898235246539116,0.08227823674678802,0.034466832876205444,0.04858844727277756,0.003995939623564482,-0.007800092454999685,-0.03938838094472885,-0.012593083083629608,0.025271611288189888,0.004690298344939947,0.05083100125193596,-0.008472218178212643,0.010859216563403606,-0.02116725780069828,-0.0003525106585584581,-0.01599174551665783,0.029033740982413292,0.04963625594973564,0.0039830757305026054,-0.001386092510074377,-0.04665273800492287,0.04093870148062706,0.017527839168906212,0.01884373463690281,-0.094625324010849,0.015871385112404823,0.04842239245772362,-0.0066156573593616486,0.027525197714567184,-0.029676619917154312,-0.038129836320877075,-0.021728016436100006,-0.040952280163764954,0.014069820754230022,0.03038652241230011,-0.019275346770882607,-0.03070778213441372,0.05895642191171646,-0.020425044000148773,-0.016171276569366455,0.015968477353453636,-0.007071424275636673,-0.021099194884300232,0.042175356298685074,-0.04476768523454666,0.0011592620285227895,-0.07069821655750275,-0.031047629192471504,0.008915896527469158,-0.011106726713478565,-0.02299145609140396,-0.0050923824310302734,0.014297685585916042,-0.07792959362268448,0.07522568851709366,-0.015336298383772373,-0.01818878948688507,-0.00013418070739135146,-0.0028019931633025408,-0.000878848135471344,0.011725220829248428,0.04532638192176819,0.024538470432162285,-0.04372067004442215,-0.013956351205706596,-0.03213153034448624,0.030660049989819527,-0.05364404246211052,0.0008121977443806827,0.04430265352129936,-0.05728820711374283,-0.017615551128983498,-0.014911364763975143,-0.03594605624675751,-0.06361101567745209,-0.018945973366498947,-0.01876457780599594,-0.02080036699771881,0.026893172413110733,0.047833606600761414,0.023220937699079514,-0.024198615923523903,-0.0015962618635967374,0.054872024804353714,-0.0164993517100811,0.0694766491651535,0.019866205751895905,-0.0280812568962574,-0.03836870938539505,0.047925304621458054,0.008773425593972206,-0.019900446757674217,-0.014504934661090374,0.03803982585668564,0.022213628515601158,0.0339469350874424,-0.024790650233626366,0.05335650220513344,-0.019882027059793472,0.034468553960323334,0.014620554633438587,0.004653016105294228,-0.10722088068723679,0.0014920382527634501,0.008176818490028381,0.0065108491107821465,-0.015544784255325794,-0.014200497418642044,-0.020137734711170197,0.02565501071512699,0.005219044629484415,0.009184661321341991,0.12420231848955154,0.03739058971405029,0.016475368291139603,0.03267093002796173,0.021659020334482193,-0.017465272918343544,-0.02159188687801361,-0.0226927287876606,-0.010211238637566566,0.0423758402466774,-0.036769263446331024,-0.009044592268764973,-0.014484111219644547,0.05064442753791809,0.030487140640616417,-0.03610733151435852,0.012615513056516647,-0.029386011883616447,-0.03142606467008591,-0.028356151655316353,0.02232162468135357,0.0022188888397067785,0.022702470421791077,-0.06953179836273193,-0.008556229062378407,0.019259462133049965,-0.03348866477608681,0.00567781412974,0.006074844393879175,0.02784663625061512,-0.02351531758904457,0.04875796288251877,-0.02648569643497467,0.037905577570199966,0.008432604372501373,-0.026306701824069023,0.06505511701107025,-0.09320705384016037,0.015566808171570301,0.004454678390175104,0.0031266945879906416,-0.02075362205505371,0.0006907331990078092,0.012299543246626854,-0.061626289039850235,0.03272325545549393,-0.027486488223075867,-0.04188986495137215,0.024250004440546036,0.03138303756713867,-0.010616174899041653,-0.0023343402426689863,-0.03139866143465042,0.013283411972224712,-0.07917960733175278,-0.008852020837366581,0.014851118437945843,0.01768832840025425,-0.08387799561023712,-0.04316088929772377,0.013976290822029114,-0.013599514029920101,-6.686237581416096e-33,-0.004071349743753672,-0.06053817272186279,-0.03269747272133827,0.0547417476773262,-0.006759128998965025,0.012454699724912643,0.017243584617972374,-0.04308963939547539,-0.00024074973771348596,-0.001111139776185155,0.007602530065923929,-0.016288239508867264,0.01672503910958767,-0.004763939883559942,0.024410022422671318,0.017233138903975487,0.032495345920324326,-0.00698912562802434,-0.007558404467999935,-0.003682447597384453,-0.04653861001133919,0.038109272718429565,0.036327846348285675,-0.04554776847362518,-0.009717694483697414,0.03392312675714493,-0.0012809284962713718,0.03972185030579567,-0.044594019651412964,0.03800150007009506,0.013744723051786423,-0.04001690074801445,-0.017036613076925278,0.04202856123447418,0.012699002400040627,-0.011349013075232506,-0.05113225057721138,-0.022021614015102386,0.020957812666893005,0.0458206944167614,0.1026691421866417,0.0022340717259794474,-0.011358454823493958,0.013913015834987164,-0.028057167306542397,-0.060415372252464294,0.005823759827762842,0.0035153524950146675,0.027421310544013977,-0.024095866829156876,-0.03515254706144333,0.009782209992408752,-0.025539234280586243,-0.009356889873743057,0.009104124270379543,0.07719910889863968,0.02903444692492485,0.048841483891010284,-0.08218314498662949,-0.025043267756700516,-0.01091407984495163,-0.03748852387070656,0.00915310438722372,0.04959017038345337,0.05647744983434677,-0.017985297366976738,0.02427157387137413,0.0331573411822319,-0.023866916075348854,-0.05494477227330208,0.008445839397609234,-0.023918678984045982,0.06048225238919258,-0.08538483828306198,0.057823680341243744,0.04536564275622368,-0.015001426450908184,-0.020731985569000244,0.037710290402173996,0.1015249639749527,0.017368216067552567,0.018859630450606346,0.0008288098033517599,0.0009660333162173629,0.02638057805597782,-0.05966635048389435,-0.0046205525286495686,0.0007456574239768088,-0.015220828354358673,-0.00802245270460844,0.03982536494731903,0.0025032497942447662,-0.0525699146091938,0.04955573379993439,-0.07561083137989044,0.021372992545366287,0.07252641022205353,0.03711246699094772,0.01477988250553608,-0.006396319251507521,-0.0243932344019413,0.0416259802877903,-0.03960664942860603,0.027631627395749092,-0.012522627599537373,0.013127641752362251,0.10618340969085693,-0.02572055160999298,-0.019558947533369064,0.005330587271600962,0.0021083131432533264,0.013463877141475677,-0.016891153529286385,0.08572479337453842,-0.02381061390042305,0.006246575620025396,-0.009829103015363216,-0.022237716242671013,-0.007765485439449549,-0.028830699622631073,0.035451680421829224,0.0530407540500164,-0.0009427573531866074,0.003511082613840699,0.03122846409678459,-0.024710191413760185,-0.05193275213241577,-0.05026797205209732,0.0005037204828113317,-0.027757100760936737,0.0017633805982768536,0.03628489002585411,3.0371325010492e-7,-0.026912271976470947,0.04377273470163345,-0.018096406012773514,0.05081853270530701,0.013348017819225788,-0.04198845103383064,-0.0740145817399025,-0.04533775523304939,0.01522242370992899,0.01976502686738968,0.04138132557272911,-0.0103677436709404,0.029093163087964058,0.03022979199886322,-0.018988611176609993,-0.06627855449914932,-0.030317584052681923,-0.08556128293275833,-0.02982524409890175,0.03592441603541374,-0.009129760786890984,-0.001547055086120963,0.06325114518404007,0.019643742591142654,0.0024984257761389017,0.05268114060163498,-0.018232719972729683,-0.05140228942036629,0.05478058010339737,-0.023392265662550926,-0.018412796780467033,-0.002195935696363449,0.026381298899650574,0.027102554216980934,0.003493413096293807,0.0004884351510554552,0.006649650167673826,-0.021441228687763214,-0.0105042839422822,0.01932033710181713,0.038441382348537445,0.03401043638586998,-0.01815488561987877,0.019141782075166702,-0.0049935923889279366,-0.026141252368688583,-0.045215949416160583,0.0011310066329315305,-0.029942167922854424,0.01813492551445961,-0.0056961532682180405,0.008086073212325573,-0.01618771068751812,-0.03661775961518288,0.028090251609683037,-0.010641075670719147,-0.01020465325564146,0.06429233402013779,0.0024078930728137493,0.05008448287844658,-0.038314491510391235,0.010444965213537216,0.020237714052200317,0.04405660182237625,-0.01726437918841839,-0.038100529462099075,-0.011831606738269329,3.4394383845546933e-34,0.03128596395254135,-0.040195006877183914,0.03981243818998337,0.06116781383752823,0.026215415447950363,-0.01811651885509491,0.017139429226517677,0.01917525939643383,-0.005747740622609854,-0.047248609364032745,-0.04284491762518883]'
SET
  @HasCustomProps_2b3e215e = 0
SET
  @HasCustomEvents_2b3e215e = 1
SET
  @RequiresData_2b3e215e = 1
SET
  @DependencyCount_2b3e215e = 2
SET
  @TechnicalDesignVectorEmbeddingModelID_2b3e215e = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_2b3e215e = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_2b3e215e = 0
SET
  @ID_2b3e215e = '7FCF004A-87E5-47FA-AF21-C7FCC1F4D319'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_2b3e215e,
  @Name = @Name_2b3e215e,
  @Version = @Version_2b3e215e,
  @VersionSequence = @VersionSequence_2b3e215e,
  @Title = @Title_2b3e215e,
  @Description = @Description_2b3e215e,
  @Type = @Type_2b3e215e,
  @Status = @Status_2b3e215e,
  @DeveloperName = @DeveloperName_2b3e215e,
  @DeveloperEmail = @DeveloperEmail_2b3e215e,
  @DeveloperOrganization = @DeveloperOrganization_2b3e215e,
  @SourceRegistryID = @SourceRegistryID_2b3e215e,
  @ReplicatedAt = @ReplicatedAt_2b3e215e,
  @LastSyncedAt = @LastSyncedAt_2b3e215e,
  @Specification = @Specification_2b3e215e,
  @FunctionalRequirements = @FunctionalRequirements_2b3e215e,
  @TechnicalDesign = @TechnicalDesign_2b3e215e,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_2b3e215e,
  @TechnicalDesignVector = @TechnicalDesignVector_2b3e215e,
  @HasCustomProps = @HasCustomProps_2b3e215e,
  @HasCustomEvents = @HasCustomEvents_2b3e215e,
  @RequiresData = @RequiresData_2b3e215e,
  @DependencyCount = @DependencyCount_2b3e215e,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_2b3e215e,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_2b3e215e,
  @HasRequiredCustomProps = @HasRequiredCustomProps_2b3e215e,
  @ID = @ID_2b3e215e;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_95ba2386 NVARCHAR(MAX),
@Name_95ba2386 NVARCHAR(500),
@Version_95ba2386 NVARCHAR(50),
@VersionSequence_95ba2386 INT,
@Title_95ba2386 NVARCHAR(1000),
@Description_95ba2386 NVARCHAR(MAX),
@Type_95ba2386 NVARCHAR(255),
@Status_95ba2386 NVARCHAR(50),
@DeveloperName_95ba2386 NVARCHAR(255),
@DeveloperEmail_95ba2386 NVARCHAR(255),
@DeveloperOrganization_95ba2386 NVARCHAR(255),
@SourceRegistryID_95ba2386 UNIQUEIDENTIFIER,
@ReplicatedAt_95ba2386 DATETIMEOFFSET,
@LastSyncedAt_95ba2386 DATETIMEOFFSET,
@Specification_95ba2386 NVARCHAR(MAX),
@FunctionalRequirements_95ba2386 NVARCHAR(MAX),
@TechnicalDesign_95ba2386 NVARCHAR(MAX),
@FunctionalRequirementsVector_95ba2386 NVARCHAR(MAX),
@TechnicalDesignVector_95ba2386 NVARCHAR(MAX),
@HasCustomProps_95ba2386 BIT,
@HasCustomEvents_95ba2386 BIT,
@RequiresData_95ba2386 BIT,
@DependencyCount_95ba2386 INT,
@TechnicalDesignVectorEmbeddingModelID_95ba2386 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_95ba2386 NVARCHAR(MAX),
@HasRequiredCustomProps_95ba2386 BIT,
@ID_95ba2386 UNIQUEIDENTIFIER
SET
  @Namespace_95ba2386 = N'CRM/Customer'
SET
  @Name_95ba2386 = N'Customer360View'
SET
  @Version_95ba2386 = N'1.0.0'
SET
  @VersionSequence_95ba2386 = 1
SET
  @Title_95ba2386 = N'Customer 360 View'
SET
  @Description_95ba2386 = N'Comprehensive customer profile showing all interactions, transactions, and insights'
SET
  @Type_95ba2386 = N'Other'
SET
  @Status_95ba2386 = N'Published'
SET
  @Specification_95ba2386 = N'{"name":"Customer360View","description":"Comprehensive customer profile showing all interactions, transactions, and insights","category":"CRM","type":"dashboard","location":"embedded","code":"function Customer360View({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  const [account, setAccount] = useState(null);\n  const [contacts, setContacts] = useState([]);\n  const [deals, setDeals] = useState([]);\n  const [activities, setActivities] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState(savedUserSettings?.activeTab || ''overview'');\n  const saveSettingsTimeoutRef = React.useRef(null);\n\n  // Load sub-components from registry\n  const {\n    Customer360TabNavigation,\n    Customer360Overview,\n    Customer360Timeline\n  } = components;\n  \n  // For demo, we''ll use the first account\n  const accountId = savedUserSettings?.accountId || null;\n\n  useEffect(() => {\n    loadCustomerData();\n\n    // Cleanup timeout on unmount\n    return () => {\n      if (saveSettingsTimeoutRef.current) {\n        clearTimeout(saveSettingsTimeoutRef.current);\n      }\n    };\n  }, [accountId]);\n\n  const loadCustomerData = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // First get an account if no ID specified\n      let targetAccountId = accountId;\n      if (!targetAccountId) {\n        const accountsResult = await utilities.rv.RunView({\n          EntityName: ''Accounts'',\n          MaxRows: 1,\n          OrderBy: ''AnnualRevenue DESC''\n        });\n        \n        if (accountsResult.Success && accountsResult.Results?.length > 0) {\n          targetAccountId = accountsResult.Results[0].ID;\n          setAccount(accountsResult.Results[0]);\n        }\n      }\n      \n      if (!targetAccountId) {\n        setError(''No account found'');\n        setLoading(false);\n        return;\n      }\n      \n      // Load all related data in parallel\n      const [contactsResult, dealsResult, activitiesResult] = await Promise.all([\n        utilities.rv.RunView({\n          EntityName: ''Contacts'',\n          ExtraFilter: `AccountID=''$' + '{targetAccountId}''`,\n          OrderBy: ''LastName ASC''\n        }),\n        utilities.rv.RunView({\n          EntityName: ''Deals'',\n          ExtraFilter: `AccountID=''$' + '{targetAccountId}''`,\n          OrderBy: ''CloseDate DESC''\n        }),\n        utilities.rv.RunView({\n          EntityName: ''Activities'',\n          ExtraFilter: `AccountID=''$' + '{targetAccountId}''`,\n          OrderBy: ''__mj_CreatedAt DESC'',\n          MaxRows: 100\n        })\n      ]);\n\n      if (contactsResult.Success) {\n        setContacts(contactsResult.Results || []);\n      }\n      if (dealsResult.Success) {\n        setDeals(dealsResult.Results || []);\n      }\n      if (activitiesResult.Success) {\n        setActivities(activitiesResult.Results || []);\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const calculateEngagementScore = () => {\n    let score = 50; // Base score\n    \n    // Recent activities boost\n    const recentActivities = activities.filter(a => {\n      const activityDate = new Date(a.__mj_CreatedAt);\n      const thirtyDaysAgo = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000);\n      return activityDate > thirtyDaysAgo;\n    });\n    score += Math.min(recentActivities.length * 2, 20);\n    \n    // Active deals boost\n    const activeDeals = deals.filter(d => ![''Closed Won'', ''Closed Lost''].includes(d.Stage));\n    score += Math.min(activeDeals.length * 5, 20);\n    \n    // Revenue tier boost\n    if (account?.AnnualRevenue) {\n      if (account.AnnualRevenue > 1000000) score += 10;\n      else if (account.AnnualRevenue > 500000) score += 5;\n    }\n    \n    return Math.min(Math.round(score), 100);\n  };\n\n  const handleTabChange = (tabId) => {\n    setActiveTab(tabId);\n\n    // Debounce settings save to avoid noisy updates\n    if (saveSettingsTimeoutRef.current) {\n      clearTimeout(saveSettingsTimeoutRef.current);\n    }\n    saveSettingsTimeoutRef.current = setTimeout(() => {\n      onSaveUserSettings({ ...savedUserSettings, activeTab: tabId });\n    }, 500);\n  };\n\n  const handleActivityClick = (activity) => {\n    // Could open a detail panel or navigate to the activity\n    console.log(''Activity clicked:'', activity);\n  };\n\n  const formatCurrency = (value) => {\n    if (!value) return ''$0'';\n    if (value >= 1000000) return `$$' + '{(value / 1000000).toFixed(1)}M`;\n    if (value >= 1000) return `$$' + '{(value / 1000).toFixed(0)}K`;\n    return `$$' + '{value.toFixed(0)}`;\n  };\n\n  // Simple implementations for tabs not yet componentized\n  const ContactsTab = () => (\n    <div style={{ backgroundColor: ''white'', borderRadius: ''8px'', padding: ''20px'' }}>\n      <h3 style={{ marginTop: 0, marginBottom: ''20px'' }}>Contacts ({contacts.length})</h3>\n      <div style={{ display: ''grid'', gap: ''12px'' }}>\n        {contacts.map(contact => (\n          <div key={contact.ID} style={{\n            padding: ''16px'',\n            border: ''1px solid #E5E7EB'',\n            borderRadius: ''6px'',\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center''\n          }}>\n            <div>\n              <div style={{ fontWeight: ''bold'', marginBottom: ''4px'' }}>\n                {contact.FirstName} {contact.LastName}\n              </div>\n              <div style={{ fontSize: ''14px'', color: ''#6B7280'' }}>{contact.Email}</div>\n              <div style={{ fontSize: ''14px'', color: ''#6B7280'' }}>{contact.Phone}</div>\n            </div>\n            <button\n              onClick={() => callbacks.OpenEntityRecord(''Contacts'', [{FieldName: ''ID'', Value: contact.ID}])}\n              style={{\n                padding: ''8px 16px'',\n                backgroundColor: ''#F3F4F6'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              View Details\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n\n  const DealsTab = () => {\n    const getStageColor = (stage) => {\n      const colors = {\n        ''Lead'': ''#9CA3AF'',\n        ''Qualified'': ''#3B82F6'',\n        ''Proposal'': ''#8B5CF6'',\n        ''Negotiation'': ''#F59E0B'',\n        ''Closed Won'': ''#10B981'',\n        ''Closed Lost'': ''#EF4444''\n      };\n      return colors[stage] || ''#6B7280'';\n    };\n\n    return (\n      <div style={{ backgroundColor: ''white'', borderRadius: ''8px'', padding: ''20px'' }}>\n        <h3 style={{ marginTop: 0, marginBottom: ''20px'' }}>Deals ({deals.length})</h3>\n        <div style={{ display: ''grid'', gap: ''12px'' }}>\n          {deals.map(deal => (\n            <div key={deal.ID} style={{\n              padding: ''16px'',\n              border: ''1px solid #E5E7EB'',\n              borderRadius: ''6px''\n            }}>\n              <div style={{ display: ''flex'', justifyContent: ''space-between'', marginBottom: ''12px'' }}>\n                <div style={{ fontWeight: ''bold'' }}>{deal.DealName}</div>\n                <div style={{ \n                  padding: ''4px 12px'',\n                  backgroundColor: getStageColor(deal.Stage) + ''20'',\n                  color: getStageColor(deal.Stage),\n                  borderRadius: ''12px'',\n                  fontSize: ''12px'',\n                  fontWeight: ''500''\n                }}>\n                  {deal.Stage}\n                </div>\n              </div>\n              <div style={{ display: ''grid'', gridTemplateColumns: ''1fr 1fr'', gap: ''8px'', fontSize: ''14px'', color: ''#6B7280'' }}>\n                <div>Amount: {formatCurrency(deal.Amount)}</div>\n                <div>Close Date: {new Date(deal.CloseDate).toLocaleDateString()}</div>\n                <div>Probability: {deal.Probability}%</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  const InsightsTab = () => {\n    const avgDealSize = deals.length > 0 \n      ? deals.reduce((sum, d) => sum + (d.Amount || 0), 0) / deals.length\n      : 0;\n    \n    const winRate = deals.length > 0\n      ? (deals.filter(d => d.Stage === ''Closed Won'').length / \n         deals.filter(d => [''Closed Won'', ''Closed Lost''].includes(d.Stage)).length * 100) || 0\n      : 0;\n\n    return (\n      <div style={{ backgroundColor: ''white'', borderRadius: ''8px'', padding: ''20px'' }}>\n        <h3 style={{ marginTop: 0, marginBottom: ''20px'' }}>Customer Insights</h3>\n        <div style={{ display: ''grid'', gap: ''20px'' }}>\n          <div>\n            <h4 style={{ color: ''#4F46E5'', marginBottom: ''12px'' }}>Key Metrics</h4>\n            <div style={{ display: ''grid'', gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'', gap: ''16px'' }}>\n              <div>\n                <div style={{ fontSize: ''14px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Average Deal Size</div>\n                <div style={{ fontSize: ''24px'', fontWeight: ''bold'' }}>{formatCurrency(avgDealSize)}</div>\n              </div>\n              <div>\n                <div style={{ fontSize: ''14px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Win Rate</div>\n                <div style={{ fontSize: ''24px'', fontWeight: ''bold'' }}>{winRate.toFixed(0)}%</div>\n              </div>\n            </div>\n          </div>\n          \n          <div>\n            <h4 style={{ color: ''#4F46E5'', marginBottom: ''12px'' }}>Recommendations</h4>\n            <ul style={{ marginLeft: ''20px'', lineHeight: ''1.8'' }}>\n              {calculateEngagementScore() < 50 && \n                <li>Engagement is low - consider scheduling a check-in call</li>\n              }\n              {deals.filter(d => ![''Closed Won'', ''Closed Lost''].includes(d.Stage)).length > 0 &&\n                <li>Active opportunities present - maintain regular contact</li>\n              }\n              {activities.length < 5 &&\n                <li>Limited recent activity - increase touchpoints</li>\n              }\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading customer data...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#EF4444'' }}>Error: {error}</div>\n      </div>\n    );\n  }\n\n  if (!account) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>No customer data available</div>\n      </div>\n    );\n  }\n\n  const engagementScore = calculateEngagementScore();\n\n  return (\n    <div style={{ padding: ''24px'', backgroundColor: ''#F9FAFB'', minHeight: ''100vh'' }}>\n      {/* Customer Header */}\n      <div style={{ \n        backgroundColor: ''white'', \n        borderRadius: ''8px'', \n        padding: ''24px'',\n        marginBottom: ''24px'',\n        boxShadow: ''0 1px 3px rgba(0, 0, 0, 0.1)''\n      }}>\n        <h1 style={{ margin: ''0 0 8px 0'', fontSize: ''28px'', fontWeight: ''bold'' }}>\n          {account.Name}\n        </h1>\n        <div style={{ display: ''flex'', gap: ''24px'', color: ''#6B7280'', fontSize: ''14px'' }}>\n          <span>Industry: {account.Industry || ''Not specified''}</span>\n          <span>Annual Revenue: {formatCurrency(account.AnnualRevenue)}</span>\n          <span>Created: {new Date(account.__mj_CreatedAt).toLocaleDateString()}</span>\n        </div>\n      </div>\n\n      {/* Tab Navigation */}\n      {Customer360TabNavigation && (\n        <Customer360TabNavigation\n          activeTab={activeTab}\n          onTabChange={handleTabChange}\n          styles={styles}\n          utilities={utilities}\n          components={components}\n        />\n      )}\n\n      {/* Tab Content */}\n      <div>\n        {activeTab === ''overview'' && Customer360Overview && (\n          <Customer360Overview\n            account={account}\n            contacts={contacts}\n            deals={deals}\n            engagementScore={engagementScore}\n            styles={styles}\n            utilities={utilities}\n            components={components}\n          />\n        )}\n        {activeTab === ''timeline'' && Customer360Timeline && (\n          <Customer360Timeline\n            activities={activities}\n            onActivityClick={handleActivityClick}\n            styles={styles}\n            utilities={utilities}\n            components={components}\n          />\n        )}\n        {activeTab === ''contacts'' && <ContactsTab />}\n        {activeTab === ''deals'' && <DealsTab />}\n        {activeTab === ''insights'' && <InsightsTab />}\n      </div>\n    </div>\n  );\n}","functionalRequirements":"- Display comprehensive customer profile with key metrics\n- Show interaction timeline chronologically\n- Display contacts and deals associated with account\n- Calculate and show engagement score\n- Provide tabbed interface for different views\n- Enable drill-down into related entities\n- Show customer insights and recommendations","dataRequirements":{"mode":"views","entities":[{"name":"Accounts","displayFields":["Name","Industry","AnnualRevenue","__mj_CreatedAt"],"filterFields":["ID"],"sortFields":["Name","AnnualRevenue"]},{"name":"Contacts","displayFields":["FirstName","LastName","Email","Phone","AccountID"],"filterFields":["AccountID"],"sortFields":["LastName"]},{"name":"Deals","displayFields":["DealName","Stage","Amount","CloseDate","AccountID"],"filterFields":["AccountID"],"sortFields":["CloseDate"]},{"name":"Activities","displayFields":["Subject","ActivityType","__mj_CreatedAt","AccountID"],"filterFields":["AccountID"],"sortFields":["__mj_CreatedAt"]}]},"technicalDesign":"Main orchestrator component that loads customer data and manages sub-components. Uses parallel data loading for performance. Calculates engagement score based on activities and deals. Implements tab-based navigation with state persistence.","properties":[{"name":"utilities","type":"object","description":"MemberJunction utilities for data access"},{"name":"styles","type":"object","description":"Style utilities and theme configuration"},{"name":"components","type":"object","description":"Registry of available child components"},{"name":"callbacks","type":"object","description":"Event callbacks including OpenEntityRecord"},{"name":"savedUserSettings","type":"object","description":"Persisted user preferences"},{"name":"onSaveUserSettings","type":"function","description":"Callback to persist user settings"}],"events":[],"dependencies":[{"name":"Customer360TabNavigation","location":"registry","namespace":"CRM/Customer","version":"^1.0.0"},{"name":"Customer360Overview","location":"registry","namespace":"CRM/Customer","version":"^1.0.0"},{"name":"Customer360Timeline","location":"registry","namespace":"CRM/Customer","version":"^1.0.0"}],"libraries":[],"usageExample":"```javascript\n<Customer360View\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>\n```"}'
SET
  @FunctionalRequirements_95ba2386 = N'- Display comprehensive customer profile with key metrics
- Show interaction timeline chronologically
- Display contacts and deals associated with account
- Calculate and show engagement score
- Provide tabbed interface for different views
- Enable drill-down into related entities
- Show customer insights and recommendations'
SET
  @TechnicalDesign_95ba2386 = N'Main orchestrator component that loads customer data and manages sub-components. Uses parallel data loading for performance. Calculates engagement score based on activities and deals. Implements tab-based navigation with state persistence.'
SET
  @FunctionalRequirementsVector_95ba2386 = N'[0.03354857489466667,-0.04436992481350899,-0.025234464555978775,-0.02062547206878662,0.023122794926166534,0.046489275991916656,0.0056906212121248245,0.02052774652838707,0.029231304302811623,-0.03299162909388542,-0.058562491089105606,-0.017686733976006508,0.022503603249788284,0.1859971433877945,-0.00785014033317566,-0.03664969652891159,-0.05343601852655411,-0.008345498703420162,-0.0012981060426682234,0.028622662648558617,0.016009023413062096,0.02213229425251484,-0.01674720272421837,-0.0322132371366024,-0.005897921975702047,0.01571984775364399,-0.009975877590477467,0.03233572468161583,-0.008315139450132847,-0.045598000288009644,-0.025758588686585426,0.0029358461033552885,-0.07050115615129471,-0.02384958043694496,0.0000018747066405921942,0.0014512889320030808,-0.009333141148090363,0.01596338488161564,-0.09191472083330154,0.03104068897664547,0.07451947033405304,-0.014088920317590237,0.11173660308122635,-0.004034391138702631,-0.011405032128095627,0.042103782296180725,-0.036169834434986115,0.06812112778425217,0.033316802233457565,-0.009251515381038189,-0.006078777369111776,-0.06831910461187363,-0.09685580432415009,-0.03243403509259224,-0.02822711318731308,0.038701992481946945,0.0012522614561021328,-0.005600910633802414,0.03065318800508976,-0.013750622980296612,0.01666789874434471,-0.0036122233141213655,0.001503904815763235,-0.016331026330590248,0.07261472195386887,0.025602728128433228,0.005854480434209108,-0.060364071279764175,-0.007136273663491011,-0.02494572103023529,0.07249253243207932,0.015903711318969727,-0.008319319225847721,-0.04394451901316643,-0.01566341705620289,-0.017942329868674278,-0.004219022113829851,-0.030219577252864838,0.03619968891143799,-0.00011966585589107126,-0.06983648985624313,0.008132231421768665,0.004998499993234873,-0.00986064225435257,0.031199922785162926,-0.018237749114632607,-0.009837585501372814,0.009594595059752464,0.03055240958929062,0.02572140470147133,0.059393707662820816,-0.005234066862612963,-0.003594252048060298,-0.009181578643620014,-0.057061150670051575,-0.03154413774609566,0.04907846450805664,0.021610122174024582,0.03606698289513588,0.005287842825055122,0.039632171392440796,0.01788947731256485,0.02020297572016716,0.017251769080758095,0.03169878199696541,0.010993539355695248,0.02419932745397091,-0.0707237720489502,-0.005776539444923401,0.0697060227394104,0.03729533031582832,0.003387011121958494,0.008563040755689144,0.0753830298781395,-0.03603893890976906,0.0035236638505011797,-0.04255448281764984,0.022578664124011993,0.051936134696006775,0.03420345485210419,0.11597828567028046,0.05925608426332474,0.022739971056580544,0.0008372404263354838,-0.0034735873341560364,-0.0382564403116703,-0.044617827981710434,-0.03573765605688095,0.011459672823548317,-0.052801378071308136,0.009582790546119213,0.0010667081223800778,0.0016496441094204783,-0.021093416959047318,0.009220506064593792,-0.027618402615189552,0.06657455116510391,-0.026113715022802353,-0.05741417407989502,0.005632397253066301,-0.0007608307641930878,0.006091434974223375,-0.06535421311855316,0.015991466119885445,0.040661100298166275,0.043670233339071274,-0.04942139610648155,0.0673455074429512,0.009508459828794003,0.0018428919138386846,-0.027878258377313614,-0.027477679774165154,-0.010801575146615505,0.009313397109508514,0.00562660675495863,0.00720949936658144,0.057900771498680115,-0.008992121554911137,-0.013335548341274261,0.0027697132900357246,0.0037390508223325014,0.03152806684374809,-0.015760313719511032,-0.0033078312408179045,-0.03229573741555214,-0.004744100850075483,0.007043794728815556,0.009973026812076569,-0.08719009906053543,-0.017947984859347343,-0.03914693742990494,0.009371413849294186,-0.02353680692613125,-0.0010150223970413208,0.019804246723651886,-0.0011351607972756028,0.024996694177389145,0.016267146915197372,0.058782611042261124,-0.02458985336124897,0.09307858347892761,-0.02195730246603489,-0.009239725768566132,0.058418288826942444,0.01181794237345457,-0.006944887340068817,-0.04079219698905945,0.03191597759723663,-0.00670267827808857,0.016902239993214607,-0.0012150292750447989,-0.004287173971533775,-0.03361501544713974,0.010081815533339977,-0.014066258445382118,0.006094935350120068,0.0029511558823287487,-0.021908646449446678,0.01816469058394432,-0.05827099084854126,0.006848967634141445,-0.023198312148451805,0.02834709919989109,0.10238408297300339,0.036135733127593994,0.032690953463315964,0.009015153162181377,-0.006676729302853346,-0.0710957795381546,0.04200072959065437,0.12530209124088287,0.01449156366288662,-0.01986519992351532,0.027082528918981552,-0.009056679904460907,-0.012031096033751965,0.03337520733475685,-0.01206135656684637,-0.0271559190005064,0.01936568319797516,-0.04474649950861931,0.020760316401720047,-0.014643682166934013,-0.01414584368467331,0.025600003078579903,0.058856889605522156,-0.0022526097018271685,0.047890421003103256,0.02928728051483631,0.08484902232885361,0.028118301182985306,-0.0018833930371329188,0.036685071885585785,-0.02539967931807041,0.006506706587970257,0.016533955931663513,0.020867403596639633,0.10963232815265656,0.021623196080327034,0.0362975187599659,-0.005353488028049469,-0.04068981856107712,-0.029614603146910667,0.02442893758416176,0.003957957960665226,-0.013259739615023136,0.04519990459084511,0.02776992879807949,0.019978659227490425,0.015538562089204788,-0.02593245543539524,0.017264047637581825,0.06285436451435089,-0.028949197381734848,0.029350053519010544,0.044408198446035385,-0.10302060842514038,-0.04283348098397255,0.0018979880260303617,0.025688469409942627,-0.04944152012467384,-0.021064450964331627,-0.04658808931708336,-0.0440545380115509,-0.022589048370718956,-0.0319252610206604,0.07482796162366867,-0.0636986792087555,-0.04106660559773445,-0.0042751324363052845,0.01737779937684536,0.04408104345202446,0.07149142026901245,-0.016891248524188995,-0.012389629147946835,0.041670531034469604,-0.05011152848601341,-0.01056355144828558,-0.00762178422883153,0.015510773286223412,0.03638763353228569,-0.027083592489361763,-0.04277285933494568,0.02473292127251625,-0.034411560744047165,-0.03573397547006607,0.032043371349573135,-0.09589941054582596,0.07441193610429764,-0.07226955145597458,0.0205351822078228,-0.03391920402646065,-0.004013333003968,0.021093590185046196,-0.03367886692285538,0.005554220173507929,0.0020985514856874943,0.0047185420989990234,-0.01876746118068695,0.051450230181217194,-0.09870199859142303,-0.024442067369818687,0.01842336729168892,-0.020304035395383835,-0.010485119186341763,0.01788756251335144,-0.0026817196048796177,-0.03511358052492142,0.009108266793191433,-0.0013000817270949483,-0.01780487783253193,0.01670578494668007,-0.012867872603237629,0.006806722842156887,0.027423275634646416,-0.027776286005973816,-0.018113579601049423,0.016730399802327156,-0.02654234692454338,0.03149404749274254,0.007829530164599419,0.029465708881616592,-0.04655402898788452,-0.013591120019555092,0.003902337746694684,0.018764827400445938,-0.015777122229337692,-0.023375017568469048,-0.0043913619592785835,0.02179139107465744,0.01487811654806137,0.01784559339284897,-0.03782534599304199,0.012071126140654087,0.01272555161267519,0.06199045851826668,-0.02848028391599655,-0.024213150143623352,0.05458708107471466,-0.06723171472549438,-0.02970658801496029,0.035878609865903854,-0.015042534098029137,-0.037339892238378525,0.007063010241836309,-0.01111897174268961,0.034349821507930756,-0.004482560325413942,-0.09052906930446625,0.0026145291049033403,0.025323450565338135,-0.01518236193805933,-0.014356707222759724,0.006595720537006855,0.03631028160452843,-0.016307946294546127,-0.021002301946282387,0.03675871342420578,-0.05204317346215248,-0.042598918080329895,0.01781688630580902,0.014022860676050186,-0.07790186256170273,0.004920629784464836,0.03077489137649536,-0.026205338537693024,-0.0014765348751097918,-0.046480536460876465,-0.004287819378077984,0.015914423391222954,-0.03341885656118393,0.022592678666114807,0.05815718695521355,0.03453819081187248,0.022765664383769035,-0.006074718665331602,-0.01662970893085003,-0.014232499524950981,-0.0512801818549633,0.00960539374500513,0.013323884457349777,-0.06845495849847794,0.06829159706830978,-0.002499665366485715,0.03142683953046799,0.037024740129709244,-0.01631641760468483,-0.007886607199907303,-0.053945865482091904,-0.00019361100567039102,-0.0028553043957799673,0.05898395925760269,-0.03377893567085266,0.003922150004655123,-0.020078986883163452,-0.03800886496901512,-0.02583455480635166,0.021207353100180626,-0.04889683425426483,-0.008037436753511429,-0.01911727711558342,0.0048513333313167095,0.004098301287740469,-0.035947464406490326,-0.006658047903329134,-0.06513702124357224,0.01643253117799759,0.05764830484986305,0.008425186388194561,0.0020324205979704857,-0.05915410816669464,0.028695644810795784,0.02614414691925049,-0.03563452512025833,0.031927064061164856,-0.007775657344609499,0.02495536394417286,0.041078198701143265,0.04238365963101387,0.03890209272503853,0.03727069869637489,-0.07192374765872955,-0.04139808565378189,-0.03007374331355095,0.001322541618719697,-0.011151573620736599,0.03568418323993683,-0.04662496596574783,0.012149381451308727,0.06257007271051407,0.0007941045332700014,-0.013491226360201836,-0.0409260131418705,0.011468222364783287,-0.009526338428258896,-0.040871020406484604,0.033747654408216476,0.04229608550667763,-0.027432428672909737,-0.02333812601864338,0.02491224929690361,-0.0013720754068344831,-0.03724653646349907,0.048745665699243546,-0.062187258154153824,-0.04047727957367897,0.011841283179819584,0.05306403338909149,-0.04480280354619026,0.004488650243729353,0.04079345986247063,-0.04196121171116829,0.00990382768213749,0.024398641660809517,-0.045629244297742844,0.0044649275951087475,-0.058852676302194595,0.037369582802057266,-0.0021100312005728483,-0.014209864661097527,0.029850484803318977,0.01893026754260063,-0.02687704935669899,-0.0033559747971594334,0.024333421140909195,-0.06440899521112442,0.058741167187690735,-0.05472453683614731,-0.04372964799404144,-0.042398493736982346,0.0749567449092865,-0.008178153075277805,0.017575671896338463,-0.04195518419146538,-0.07167026400566101,-0.03658488392829895,-0.006346865091472864,-0.005568278953433037,0.007931744679808617,-0.01591154932975769,0.04444671794772148,0.031318504363298416,0.04493970423936844,-0.002471066312864423,0.0019829547964036465,0.016727842390537262,-0.06219571456313133,-0.022617904469370842,0.006838066503405571,0.022553615272045135,0.015404884703457355,0.07305660098791122,-0.02231612056493759,0.02600124664604664,-0.008231555111706257,-0.003932996653020382,-0.09853150695562363,0.03393583744764328,-0.043071404099464417,-0.06898998469114304,-0.014994804747402668,-0.027865227311849594,-0.014484064653515816,-0.024109050631523132,0.0006913701654411852,-0.0075814868323504925,0.01931222714483738,0.029993414878845215,-0.06527768075466156,-0.00026713835541158915,0.017787767574191093,0.013480066321790218,0.01570851355791092,-0.02998785674571991,0.0041130478493869305,0.02796093188226223,-0.057427048683166504,0.018356656655669212,0.01677338033914566,-0.05392509698867798,-0.007547697518020868,0.012679479084908962,-0.029322123154997826,0.01828935369849205,0.026059279218316078,-0.024066075682640076,0.04374025762081146,0.017758384346961975,-0.05372722074389458,0.05866646021604538,-0.04839756339788437,-0.02544885315001011,0.004301843233406544,-0.0174514502286911,-0.02265494130551815,0.011379341594874859,0.07188940793275833,0.0934603214263916,-0.015471226535737514,-0.0014289474347606301,-0.05063678324222565,-0.015169767662882805,0.05767785385251045,-0.021363267675042152,-0.012442224659025669,-0.017373813316226006,0.0308320764452219,-0.04318806901574135,0.0051231905817985535,0.03688303381204605,-0.0378529392182827,-0.04291253164410591,-0.047914501279592514,0.049053773283958435,-0.007126782089471817,-6.35686406431569e-33,-0.023059111088514328,0.017143722623586655,-0.06038856878876686,0.041272640228271484,-0.025254180654883385,-0.011617220006883144,-0.004171604290604591,0.003720567561686039,-0.02988394722342491,0.006349197588860989,-0.009535499848425388,0.0002617778372950852,0.013000529259443283,-0.007765175774693489,-0.006838143803179264,-0.005475074518471956,0.04089975357055664,-0.026303302496671677,-0.02833022177219391,0.0021335952915251255,-0.05898961424827576,0.040845487266778946,0.0018064416944980621,-0.05559385567903519,-0.008142665028572083,0.004763253498822451,0.008017345331609249,0.013549616560339928,-0.03651677072048187,0.03886593133211136,0.001555154100060463,-0.048952654004096985,-0.013003288768231869,0.021144907921552658,0.05107184126973152,-0.0035810561385005713,-0.06361159682273865,0.007219299674034119,0.0534110926091671,0.028787896037101746,0.024826418608427048,0.02953849360346794,0.020286070182919502,-0.009127447381615639,0.0008641901658847928,-0.0028092176653444767,0.010411105118691921,-0.021731166169047356,-0.00418455945327878,0.006529566831886768,0.014409233815968037,0.02109687589108944,0.013244166038930416,0.08215469121932983,0.0031850384548306465,0.03399202227592468,-0.006080109626054764,0.028759712353348732,-0.048875294625759125,-0.02262907102704048,-0.03333108127117157,-0.04192744940519333,-0.02295592799782753,-0.037232398986816406,0.025422001257538795,0.0017540541011840105,-0.015046808868646622,-0.00887854490429163,0.023961765691637993,0.0009313241462223232,-0.04202299565076828,0.047679562121629715,0.006505288183689117,-0.06285203993320465,-0.09263086318969727,-0.023160675540566444,0.045481424778699875,0.005117226392030716,0.04916642978787422,0.04145464301109314,0.00651976466178894,0.00008467854786431417,-0.03289473056793213,-0.005604628007858992,0.10032518953084946,-0.03696465119719505,-0.047026824206113815,0.001948560937307775,0.01919921487569809,0.05909772962331772,-0.04189622029662132,0.07167089730501175,-0.05155983194708824,0.005935990251600742,-0.019902387633919716,0.016225455328822136,0.0747387483716011,0.014045036397874355,0.02445945516228676,-0.054716989398002625,0.02272455208003521,-0.009256015531718731,-0.07294488698244095,-0.034927062690258026,-0.023872477933764458,-0.0351431779563427,0.01939217746257782,-0.00999253336340189,-0.004221708048135042,-0.016024332493543625,0.04792868345975876,0.010675482451915741,-0.015005853958427906,0.009748345240950584,-0.01378918718546629,0.007300497032701969,-0.023437753319740295,0.031271472573280334,0.000019924113075830974,0.004618697799742222,0.025204502046108246,-0.0054690842516720295,0.015574847348034382,-0.07008443027734756,0.04580239951610565,-0.04781822860240936,0.00921312253922224,-0.011200708337128162,0.0357181578874588,-0.0034155254252254963,-0.05333850905299187,0.015521906316280365,2.7495934773469344e-7,0.028411628678441048,0.016538754105567932,-0.02472318522632122,0.00992655847221613,0.04440150409936905,-0.04938139021396637,0.02870655246078968,-0.054368551820516586,0.05576595291495323,-0.0370875708758831,0.05818691477179527,0.004221864975988865,0.019094491377472878,0.027058083564043045,-0.021585004404187202,-0.015978991985321045,0.0019419974414631724,-0.1488448828458786,-0.03048904612660408,0.021718597039580345,0.009219259954988956,-0.0018684673123061657,0.0016331715742126107,0.017330871894955635,0.007939381524920464,-0.013406063430011272,-0.008493578061461449,-0.008204230107367039,0.024024387821555138,0.0036390882451087236,0.02488620951771736,0.01925969123840332,0.00845932587981224,-0.009239476174116135,-0.023790499195456505,0.05008666217327118,0.02661404013633728,-0.0019296215614303946,0.05221407487988472,0.015100368298590183,0.05291970074176788,-0.03951118886470795,-0.00554856238886714,-0.04529653862118721,-0.003378086257725954,-0.04025382921099663,-0.00602425541728735,-0.025522561743855476,0.0019104608800262213,0.0473908893764019,0.0026120105758309364,0.01248781755566597,-0.015770019963383675,-0.001499033416621387,0.030411027371883392,-0.03738093003630638,-0.06015912443399429,0.040514808148145676,0.036238715052604675,0.049398135393857956,-0.004266573116183281,0.005067907739430666,-0.025312164798378944,0.024312153458595276,-0.014595873653888702,0.0044816662557423115,-0.0192712415009737,2.7875601862890204e-34,0.006250569596886635,-0.005584053695201874,0.06366705149412155,0.017507972195744514,-0.004498924594372511,-0.014023548923432827,0.0036501374561339617,-0.022971108555793762,0.004057032521814108,-0.045931555330753326,-0.00002472105188644491]'
SET
  @TechnicalDesignVector_95ba2386 = N'[0.015059151686728,0.01038195937871933,-0.04044194146990776,-0.06437450647354126,-0.017752232030034065,-0.0015891281655058265,0.018238946795463562,0.011355321854352951,-0.03413122147321701,-0.011174648068845272,-0.03517651557922363,0.009449300356209278,0.02932012639939785,0.15425094962120056,0.009404375217854977,-0.00020014282199554145,-0.015987003222107887,0.011098843067884445,-0.07028865814208984,0.026556428521871567,0.01747671514749527,-0.02943786233663559,0.008620986714959145,-0.02537747286260128,-0.00856688804924488,-0.00564628466963768,-0.05652150139212608,0.047431543469429016,0.03065526857972145,-0.04312260076403618,0.04803495109081268,0.006904501002281904,-0.03177862614393234,0.03359093889594078,0.0000017424317775294185,-0.003875334979966283,-0.06308740377426147,0.008991126902401447,-0.02641589753329754,0.013729657046496868,0.05736028030514717,0.003207096364349127,0.004669133573770523,0.004778843838721514,0.0014437022618949413,0.020624442026019096,-0.0103263258934021,0.03964568302035332,0.04886205494403839,-0.0019421337638050318,-0.009917225688695908,-0.000011206793715246022,-0.07350385189056396,0.038547515869140625,-0.06989628821611404,0.04554332047700882,0.019530341029167175,0.053601548075675964,0.05365786701440811,-0.03938760235905647,-0.03114994801580906,-0.03779202699661255,0.0018706797854974866,-0.0230224821716547,0.011535702273249626,0.011424840427935123,0.03598617762327194,-0.04752349480986595,-0.013021846301853657,-0.0002584893663879484,0.14139173924922943,0.02009141445159912,0.04597882181406021,-0.012603296898305416,-0.05771378055214882,-0.02314072847366333,0.0019620475359261036,-0.024909423664212227,0.03279614821076393,0.013982624746859074,-0.004109005443751812,0.039322204887866974,-0.017941411584615707,-0.04183465614914894,-0.005525741260498762,0.04434359073638916,0.002625121036544442,0.007536250166594982,-0.021184511482715607,-0.02524733915925026,0.05491337552666664,-0.0065355971455574036,0.021478505805134773,0.04176498204469681,-0.06913963705301285,-0.015408763661980629,0.029607882723212242,-0.03033093549311161,-0.017990797758102417,-0.05078410729765892,0.002071920083835721,0.02127056196331978,0.016791710630059242,0.035062894225120544,0.03799257054924965,0.04416760429739952,0.0010610896861180663,-0.0745941549539566,0.002044464461505413,-0.019149674102663994,-0.014654280617833138,0.006370150484144688,-0.009478986263275146,0.04463352635502815,-0.00442154798656702,-0.014357812702655792,-0.023923812434077263,0.03741563856601715,0.003352285362780094,0.018163081258535385,0.06270387768745422,0.024582823738455772,0.03499937430024147,0.0329134464263916,-0.013660745695233345,0.010401737876236439,-0.021387003362178802,-0.0515328124165535,-0.0028542291838675737,-0.04728521406650543,0.007829420268535614,-0.009320387616753578,-0.00563467713072896,0.008295312523841858,0.00030675006564706564,-0.04652891308069229,0.047992732375860214,-0.01562994346022606,-0.06779683381319046,-0.014639736153185368,0.04025145620107651,-0.03471717610955238,-0.0996122881770134,0.016085965558886528,-0.006707846187055111,-0.013084441423416138,-0.05915200710296631,0.02151072956621647,0.0009489157237112522,0.002614005468785763,-0.002359765348955989,-0.041948556900024414,-0.004777567461133003,-0.009271625429391861,-0.03813344985246658,-0.016603104770183563,0.09782851487398148,0.0010824729688465595,0.027282726019620895,0.021177949383854866,0.002345871413126588,0.029085999354720116,0.025018099695444107,0.02337707206606865,-0.05397506430745125,-0.03971337527036667,0.06528490781784058,0.013436990790069103,-0.039304718375205994,-0.060044702142477036,-0.043140530586242676,0.0066139125265181065,-0.011324488557875156,0.08726126700639725,0.03404506668448448,-0.04386616498231888,0.04272875562310219,-0.0005494480137713253,-0.032894715666770935,0.023903001099824905,0.00290965149179101,-0.1031745970249176,0.007781423628330231,0.08197266608476639,0.07416462153196335,-0.022229023277759552,0.009900853037834167,0.03984345495700836,-0.01384173147380352,0.004741867538541555,-0.011938869021832943,-0.013772144913673401,-0.019846675917506218,0.023329701274633408,0.01404242031276226,0.019981490448117256,-0.051061730831861496,-0.017216429114341736,0.03851473331451416,0.013593906536698341,-0.0026618726551532745,-0.006058207713067532,-0.017601657658815384,0.09561251848936081,0.04601183906197548,-0.016267385333776474,-0.022873425856232643,-0.014157282188534737,-0.0042261709459125996,-0.00041428348049521446,0.09467542916536331,-0.019425371661782265,-0.04131036251783371,-0.005854333750903606,-0.048829980194568634,0.03840606287121773,0.06663453578948975,0.044333167374134064,-0.03277788683772087,0.0005250219837762415,-0.05903145670890808,0.04013853147625923,0.00909654051065445,0.004065855871886015,0.005028324201703072,0.024734575301408768,0.01127110980451107,0.03488351032137871,-0.0020588217303156853,0.02540775015950203,-0.013561424799263477,-0.04901237040758133,0.02700863406062126,0.06666988879442215,0.05028364434838295,0.035605546087026596,0.03373779356479645,0.12003674358129501,-0.0026605466846376657,0.0551120825111866,0.03200160712003708,-0.003640864510089159,0.0026352035347372293,-0.01400205958634615,-0.008561628870666027,-0.013066897168755531,-0.05596253648400307,0.018566809594631195,0.023064952343702316,-0.012182884849607944,0.04197341576218605,0.025313107296824455,-0.012152434326708317,-0.022764647379517555,-0.004458357114344835,-0.01945807784795761,-0.03353753313422203,0.026400990784168243,-0.002831842051818967,0.027765855193138123,-0.021247759461402893,-0.011278174817562103,0.006172159221023321,-0.05029603838920593,-0.02239544317126274,-0.015520124696195126,0.054520804435014725,-0.03200665861368179,0.042711228132247925,0.007365877740085125,0.012784900143742561,0.026625914499163628,0.06256169825792313,0.012225788086652756,-0.005524580366909504,0.029693981632590294,0.04619373008608818,0.03998280316591263,-0.05939037352800369,-0.01600048877298832,-0.012977142818272114,-0.0489334911108017,0.006943891756236553,0.041337233036756516,0.0018591288244351745,-0.015080666169524193,0.01281745359301567,-0.04407859966158867,-0.024852916598320007,-0.08155573159456253,-0.02045370452105999,-0.013199172914028168,-0.006131285801529884,-0.025372028350830078,-0.02856590412557125,0.017342032864689827,0.0005375685868784785,0.060445718467235565,-0.06200288236141205,0.004088970832526684,0.0025952747091650963,-0.06649140268564224,-0.011990261264145374,-0.018887048587203026,-0.037521954625844955,0.02291805110871792,-0.04256941378116608,0.01824052259325981,0.011597921140491962,0.06289313733577728,-0.029497889801859856,0.019271543249487877,0.00992357637733221,-0.07044368237257004,0.004221358802169561,0.007077009417116642,0.08363242447376251,0.009813440963625908,-0.09153483808040619,0.05474991723895073,0.0052721695974469185,0.04038407653570175,-0.013258622959256172,0.028604788705706596,0.00398632325232029,-0.003794706193730235,-0.048907823860645294,-0.032862063497304916,-0.02768421173095703,-0.05333989858627319,0.00031716295052319765,-0.021610906347632408,-0.044255759567022324,0.02712845616042614,0.009891191497445107,-0.01443240512162447,-0.05503413453698158,-0.04441579431295395,0.010133231990039349,-0.05945383757352829,-0.010430313646793365,0.012924222275614738,-0.036247752606868744,0.09940680861473083,-0.013110470958054066,0.0021492273081094027,0.030526096001267433,0.03494852036237717,-0.124416284263134,-0.014832868240773678,0.04041749984025955,0.033068470656871796,-0.03460466489195824,0.011406701058149338,-0.0038473112508654594,-0.0007779716397635639,-0.03623693063855171,0.03114854171872139,0.01383278053253889,-0.07956290245056152,0.005528300069272518,0.02676222287118435,-0.0018493595998734236,-0.06538834422826767,0.00889525469392538,-0.01888757012784481,0.05091479420661926,-0.026537446305155754,-0.003204226726666093,0.002373491181060672,-0.007429149467498064,0.007635702379047871,0.015085127204656601,0.013348463922739029,0.007864498533308506,-0.01905995048582554,-0.005798754747956991,0.016099100932478905,0.02170579507946968,0.03645368292927742,0.04526083171367645,-0.03627598285675049,0.06193138659000397,0.00018785071733873338,0.07779926061630249,-0.004976151045411825,-0.019396495074033737,-0.017972666770219803,0.04053843021392822,0.05541212484240532,-0.00915649626404047,-0.03522905334830284,-0.007672566454857588,-0.022633569315075874,0.010070174001157284,-0.04028908535838127,0.00515380222350359,0.02729768492281437,0.014492964372038841,0.01580474153161049,0.008860320784151554,0.03556830808520317,0.012928941287100315,-0.02217961475253105,-0.04561757668852806,0.005059440154582262,-0.03171229362487793,0.021077241748571396,0.019386688247323036,0.03033478930592537,-0.018864892423152924,0.015759071335196495,-0.0027109517250210047,-0.0431140661239624,-0.01846994459629059,-0.026124559342861176,0.01618010364472866,-0.027467960491776466,0.020352385938167572,0.038924407213926315,0.031789813190698624,0.029184838756918907,-0.0042271181009709835,-0.010387691669166088,0.03608998656272888,0.015879031270742416,-0.0020937835797667503,-0.038429249078035355,-0.005633840803056955,-0.027370627969503403,-0.02348339930176735,-0.019306005910038948,0.005396634340286255,-0.03545188531279564,0.019075030460953712,-0.057197801768779755,0.012452074326574802,0.007281548343598843,-0.0260014571249485,0.018312307074666023,-0.003705920884385705,0.011254617013037205,0.060834288597106934,0.03398521989583969,-0.016451770439743996,-0.03394242003560066,-0.0316992923617363,0.019497361034154892,-0.08134348690509796,-0.04013476148247719,0.05143292248249054,-0.017125742509961128,0.027859240770339966,-0.005340821575373411,-0.05304418504238129,-0.038122400641441345,-0.04941927641630173,-0.03717067092657089,-0.04358091577887535,0.08915670216083527,0.06011945381760597,0.03529207780957222,-0.037589576095342636,0.05370466783642769,0.02011658251285553,-0.01931743510067463,0.010472518391907215,-0.0837152823805809,0.0012639161432161927,-0.06756599247455597,-0.010039282962679863,-0.024338675662875175,-0.01853129267692566,-0.03301883861422539,-0.030561797320842743,0.02265911176800728,-0.008125866763293743,-0.0037013760302215815,0.02063819020986557,-0.009525922127068043,0.010824069380760193,-0.026515912264585495,0.01361331157386303,-0.02487037517130375,0.010717150755226612,0.03707585856318474,-0.02361994795501232,0.008756114169955254,-0.000636165146715939,0.019380077719688416,-0.024518337100744247,0.02093050628900528,0.023839086294174194,0.058672770857810974,0.07964539527893066,-0.041348181664943695,-0.00535320769995451,-0.006385334301739931,-0.015072396956384182,-0.04942486807703972,-0.03521423041820526,-0.002173328772187233,0.0321086049079895,0.011078380048274994,0.034918494522571564,0.023296643048524857,-0.0233597494661808,0.022722456604242325,-0.02282899059355259,-0.005243638996034861,-0.035592444241046906,-0.021251624450087547,-0.0332854725420475,0.025108899921178818,0.023284384980797768,0.043991368263959885,-0.02290431596338749,0.05725954845547676,0.04681185260415077,-0.05894312262535095,0.03414270281791687,0.007459340617060661,-0.02603229321539402,-0.043401721864938736,0.05825420841574669,-0.04746686667203903,0.01545944344252348,0.030428653582930565,0.049232978373765945,0.025731341913342476,0.0029972956981509924,-0.022501591593027115,-0.055494483560323715,-0.016946839168667793,-0.061612073332071304,0.07570986449718475,0.05305526778101921,0.10102783143520355,-0.04301474988460541,-0.026519855484366417,-0.035581592470407486,0.041567206382751465,0.017579013481736183,0.028312498703598976,0.003901843214407563,-0.09553012251853943,0.03392382338643074,-0.0770515501499176,0.043749429285526276,0.026279527693986893,-0.007894786074757576,-0.07453308254480362,-0.09454113245010376,0.05232546851038933,0.03285033628344536,-6.296622917571925e-33,-0.032006699591875076,0.02523810788989067,0.033361177891492844,0.05194399133324623,-0.05916846916079521,-0.020563732832670212,-0.018883537501096725,-0.03948083519935608,-0.00822626892477274,-0.03646860271692276,0.008819947019219398,0.0016457712044939399,0.014143906533718109,-0.03070945292711258,-0.013387787155807018,0.014546328224241734,0.029194895178079605,-0.011529232375323772,-0.04401974007487297,0.001962435431778431,-0.047405753284692764,0.016212590038776398,-0.016298901289701462,-0.0381428524851799,-0.012267445214092731,-0.031548406928777695,0.023841168731451035,0.013060386292636395,-0.09756387770175934,0.020805485546588898,-0.0011067123850807548,-0.03738274425268173,-0.04621203616261482,0.006412513554096222,0.010706176050007343,-0.009442385286092758,-0.06922773271799088,0.020559577271342278,0.024684380739927292,0.0383334718644619,-0.014867091551423073,-0.012950809672474861,0.038296859711408615,0.0023712448310106993,-0.02284332364797592,0.02532847970724106,0.049235161393880844,0.018148070201277733,-0.0037134727463126183,-0.0145354513078928,-0.011488011106848717,-0.026550274342298508,-0.015763333067297935,0.06647208333015442,0.06005962938070297,0.02068225108087063,-0.014770390465855598,-0.007611419074237347,-0.03145337104797363,-0.006116003729403019,-0.04394708201289177,-0.046058088541030884,0.008701412007212639,0.03534955903887749,0.03077463060617447,0.018476316705346107,-0.018053770065307617,0.06176522746682167,0.016659369692206383,-0.031298018991947174,-0.030916521325707436,0.03597046434879303,0.008174487389624119,-0.08403201401233673,-0.08583945035934448,-0.010237584821879864,0.0375957116484642,-0.0077496781013906,0.07527099549770355,-0.017129937186837196,0.01505905669182539,0.0014042460825294256,-0.010369580239057541,0.0295085608959198,0.0431557297706604,-0.034068115055561066,-0.0224289707839489,-0.028938595205545425,0.002031894400715828,0.04814586788415909,-0.03576875105500221,0.02977512776851654,-0.028249746188521385,-0.002751935739070177,0.02648250199854374,-0.035944029688835144,0.060881808400154114,-0.007975748740136623,0.008570106700062752,0.004055456258356571,-0.026719996705651283,0.012951207347214222,-0.028368761762976646,-0.001963219605386257,-0.008718940429389477,-0.0024954837281256914,-0.023882195353507996,-0.009478123858571053,-0.046525511890649796,0.06090472638607025,0.018455319106578827,0.02875443920493126,-0.01289637852460146,-0.03280409052968025,0.01404018234461546,-0.010564744472503662,0.024219203740358353,0.0007469310075975955,0.02891085110604763,-0.029051367193460464,0.03316601738333702,-0.022945430129766464,-0.00006509678496513516,-0.015331235714256763,0.010283012874424458,0.03126396983861923,-0.03377525880932808,-0.0011058287927880883,-0.08495698869228363,-0.025674104690551758,-0.014556403271853924,0.014089920558035374,2.551930151639681e-7,-0.020858149975538254,0.09570101648569107,-0.03571527451276779,0.03887235373258591,0.025073396041989326,-0.040482692420482635,-0.015957146883010864,-0.04833025485277176,0.050187837332487106,0.013215471990406513,0.03293812647461891,0.015161408111453056,0.005319608841091394,0.02593141980469227,-0.021667616441845894,0.013075754977762699,0.01825481839478016,-0.060580383986234665,-0.034102048724889755,-0.010073798708617687,0.06762012839317322,0.0035094134509563446,0.048483338207006454,0.01084274984896183,0.03524398431181908,0.05550263822078705,-0.020605841651558876,0.07011248916387558,-0.010758421383798122,-0.0028437990695238113,-0.0255605336278677,0.060545727610588074,-0.039223916828632355,0.016633884981274605,-0.0017323726788163185,0.02856321819126606,-0.02792167104780674,0.00001731817246763967,0.022289087995886803,0.02158568985760212,0.05197581648826599,-0.03740020468831062,-0.04308393970131874,0.02143593318760395,0.028764985501766205,-0.029103992506861687,-0.01641443558037281,0.033334676176309586,-0.04681337997317314,-0.010916788130998611,-0.03271390125155449,0.05663029104471207,-0.016321269795298576,-0.03859280049800873,0.012465028092265129,-0.007350481115281582,-0.027892522513866425,0.03850996121764183,0.04279792308807373,0.028459569439291954,0.00960621889680624,-0.04806680604815483,0.01797053962945938,0.061534542590379715,0.0018905671313405037,0.053023193031549454,-0.05502629652619362,2.593740912470099e-34,0.008643344044685364,-0.01715037040412426,0.01822342351078987,0.030458945780992508,0.0015464838361367583,-0.004326934460550547,0.024954374879598618,-0.027482202276587486,0.019452078267931938,-0.05572075769305229,-0.014055988751351833]'
SET
  @HasCustomProps_95ba2386 = 1
SET
  @HasCustomEvents_95ba2386 = 0
SET
  @RequiresData_95ba2386 = 1
SET
  @DependencyCount_95ba2386 = 3
SET
  @TechnicalDesignVectorEmbeddingModelID_95ba2386 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_95ba2386 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_95ba2386 = 0
SET
  @ID_95ba2386 = '5788F55E-11FE-4732-B98E-CF9A66EA145A'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_95ba2386,
  @Name = @Name_95ba2386,
  @Version = @Version_95ba2386,
  @VersionSequence = @VersionSequence_95ba2386,
  @Title = @Title_95ba2386,
  @Description = @Description_95ba2386,
  @Type = @Type_95ba2386,
  @Status = @Status_95ba2386,
  @DeveloperName = @DeveloperName_95ba2386,
  @DeveloperEmail = @DeveloperEmail_95ba2386,
  @DeveloperOrganization = @DeveloperOrganization_95ba2386,
  @SourceRegistryID = @SourceRegistryID_95ba2386,
  @ReplicatedAt = @ReplicatedAt_95ba2386,
  @LastSyncedAt = @LastSyncedAt_95ba2386,
  @Specification = @Specification_95ba2386,
  @FunctionalRequirements = @FunctionalRequirements_95ba2386,
  @TechnicalDesign = @TechnicalDesign_95ba2386,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_95ba2386,
  @TechnicalDesignVector = @TechnicalDesignVector_95ba2386,
  @HasCustomProps = @HasCustomProps_95ba2386,
  @HasCustomEvents = @HasCustomEvents_95ba2386,
  @RequiresData = @RequiresData_95ba2386,
  @DependencyCount = @DependencyCount_95ba2386,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_95ba2386,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_95ba2386,
  @HasRequiredCustomProps = @HasRequiredCustomProps_95ba2386,
  @ID = @ID_95ba2386;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_0f0086a8 NVARCHAR(MAX),
@Name_0f0086a8 NVARCHAR(500),
@Version_0f0086a8 NVARCHAR(50),
@VersionSequence_0f0086a8 INT,
@Title_0f0086a8 NVARCHAR(1000),
@Description_0f0086a8 NVARCHAR(MAX),
@Type_0f0086a8 NVARCHAR(255),
@Status_0f0086a8 NVARCHAR(50),
@DeveloperName_0f0086a8 NVARCHAR(255),
@DeveloperEmail_0f0086a8 NVARCHAR(255),
@DeveloperOrganization_0f0086a8 NVARCHAR(255),
@SourceRegistryID_0f0086a8 UNIQUEIDENTIFIER,
@ReplicatedAt_0f0086a8 DATETIMEOFFSET,
@LastSyncedAt_0f0086a8 DATETIMEOFFSET,
@Specification_0f0086a8 NVARCHAR(MAX),
@FunctionalRequirements_0f0086a8 NVARCHAR(MAX),
@TechnicalDesign_0f0086a8 NVARCHAR(MAX),
@FunctionalRequirementsVector_0f0086a8 NVARCHAR(MAX),
@TechnicalDesignVector_0f0086a8 NVARCHAR(MAX),
@HasCustomProps_0f0086a8 BIT,
@HasCustomEvents_0f0086a8 BIT,
@RequiresData_0f0086a8 BIT,
@DependencyCount_0f0086a8 INT,
@TechnicalDesignVectorEmbeddingModelID_0f0086a8 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_0f0086a8 NVARCHAR(MAX),
@HasRequiredCustomProps_0f0086a8 BIT,
@ID_0f0086a8 UNIQUEIDENTIFIER
SET
  @Namespace_0f0086a8 = N'CRM/Finance'
SET
  @Name_0f0086a8 = N'FinancialAnalyticsDashboard'
SET
  @Version_0f0086a8 = N'1.0.0'
SET
  @VersionSequence_0f0086a8 = 1
SET
  @Title_0f0086a8 = N'Financial Analytics Dashboard'
SET
  @Description_0f0086a8 = N'Comprehensive financial overview with revenue trends, forecasting, and profitability analysis with export capabilities'
SET
  @Type_0f0086a8 = N'Dashboard'
SET
  @Status_0f0086a8 = N'Published'
SET
  @Specification_0f0086a8 = N'{"name":"FinancialAnalyticsDashboard","namespace":"CRM/Finance","type":"Dashboard","code":"function FinancialAnalyticsDashboard({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Load registry components\n  const { AIInsightsPanel, DataExportPanel, DrillDownTable, KPIGauges, RevenueTrendChart, CashFlowChart, ForecastModel } = components;\n  const [invoices, setInvoices] = useState([]);\n  const [deals, setDeals] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [timeRange, setTimeRange] = useState(savedUserSettings?.timeRange || ''quarter'');\n  const [isPanelOpen, setIsPanelOpen] = useState(false);\n  const [selectedMetric, setSelectedMetric] = useState(null);\n  const [drillDownData, setDrillDownData] = useState(null);\n  const [drillDownTitle, setDrillDownTitle] = useState('''');\n  const [sortConfig, setSortConfig] = useState({ key: ''TotalAmount'', direction: ''desc'' });\n  const chartRefs = useRef({});\n  const dashboardRef = useRef(null);\n  const aiInsightsRef = useRef(null);\n  \n  // Debug ref initialization\n  useEffect(() => {\n    console.log(''Dashboard refs after mount:'', {\n      dashboardRef: dashboardRef.current,\n      aiInsightsRef: aiInsightsRef.current\n    });\n  }, []);\n  \n  // AI Insights state\n  const [aiInsights, setAiInsights] = useState(null);\n  const [loadingInsights, setLoadingInsights] = useState(false);\n  const [insightsError, setInsightsError] = useState(null);\n\n  const getDateFilter = React.useCallback(() => {\n    const now = new Date();\n    let months = 3;\n\n    switch (timeRange) {\n      case ''month'': months = 1; break;\n      case ''quarter'': months = 3; break;\n      case ''year'': months = 12; break;\n      default: months = 3;\n    }\n\n    const startDate = new Date(now.setMonth(now.getMonth() - months));\n    return startDate.toISOString().split(''T'')[0];\n  }, [timeRange]);\n\n  const loadFinancialData = React.useCallback(async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const dateFilter = getDateFilter();\n\n      const [invoicesResult, dealsResult, productsResult] = await Promise.all([\n        utilities.rv.RunView({\n          EntityName: ''Invoices'',\n          ExtraFilter: dateFilter ? `InvoiceDate >= ''$' + '{dateFilter}''` : '''',\n          OrderBy: ''InvoiceDate DESC''\n        }),\n        utilities.rv.RunView({\n          EntityName: ''Deals'',\n          ExtraFilter: dateFilter ? `CloseDate >= ''$' + '{dateFilter}''` : '''',\n          OrderBy: ''CloseDate DESC''\n        }),\n        utilities.rv.RunView({\n          EntityName: ''Products'',\n          OrderBy: ''Name ASC''\n        })\n      ]);\n\n      if (invoicesResult.Success) {\n        setInvoices(invoicesResult.Results || []);\n      }\n      if (dealsResult.Success) {\n        setDeals(dealsResult.Results || []);\n      }\n      if (productsResult.Success) {\n        setProducts(productsResult.Results || []);\n      }\n\n      if (!invoicesResult.Success) {\n        setError(''Failed to load financial data'');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [timeRange, getDateFilter, utilities.rv]);\n\n  useEffect(() => {\n    loadFinancialData();\n  }, [timeRange]);\n\n  const metrics = React.useMemo(() => {\n    const actualRevenue = invoices\n      .filter(inv => inv.Status === ''Paid'')\n      .reduce((sum, inv) => sum + (inv.TotalAmount || 0), 0);\n    \n    const projectedRevenue = deals\n      .filter(d => ![''Closed Won'', ''Closed Lost''].includes(d.Stage))\n      .reduce((sum, d) => sum + ((d.Amount || 0) * (d.Probability || 0) / 100), 0);\n    \n    const outstandingRevenue = invoices\n      .filter(inv => inv.Status !== ''Paid'' && inv.Status !== ''Cancelled'')\n      .reduce((sum, inv) => sum + (inv.TotalAmount || 0), 0);\n    \n    const avgDealSize = deals.length > 0 ? \n      deals.reduce((sum, d) => sum + (d.Amount || 0), 0) / deals.length : 0;\n    \n    const grossMargin = products.length > 0 ?\n      products.reduce((sum, p) => {\n        const margin = p.Price && p.Cost ? ((p.Price - p.Cost) / p.Price) * 100 : 0;\n        return sum + margin;\n      }, 0) / products.length : 0;\n    \n    // Calculate revenue growth (comparing to previous period)\n    const currentPeriodRevenue = actualRevenue;\n    const previousPeriodRevenue = currentPeriodRevenue * 0.85; // Simulated previous period\n    const revenueGrowth = previousPeriodRevenue > 0 ? \n      ((currentPeriodRevenue - previousPeriodRevenue) / previousPeriodRevenue) * 100 : 0;\n    \n    return {\n      actualRevenue,\n      projectedRevenue,\n      outstandingRevenue,\n      avgDealSize,\n      grossMargin,\n      totalRevenue: actualRevenue + projectedRevenue,\n      cashFlow: actualRevenue - outstandingRevenue,\n      revenueGrowth\n    };\n  }, [invoices, deals, products]);\n\n  // Format insights text using marked library for proper markdown rendering\n\n  const generateAIInsights = React.useCallback(async () => {\n    setLoadingInsights(true);\n    setInsightsError(null);\n    \n    try {\n      // trendData is already calculated via useMemo\n      \n      const prompt = `Analyze this financial analytics data and provide insights:\n\nTime Period: $' + '{timeRange}\nTotal Revenue: $' + '{formatCurrency(metrics.totalRevenue)}\nActual Revenue: $' + '{formatCurrency(metrics.actualRevenue)}\nProjected Revenue: $' + '{formatCurrency(metrics.projectedRevenue)}\nOutstanding Revenue: $' + '{formatCurrency(metrics.outstandingRevenue)}\nGross Margin: $' + '{metrics.grossMargin?.toFixed(1) || ''0''}%\nRevenue Growth: $' + '{metrics.revenueGrowth > 0 ? ''+'' : ''''}$' + '{metrics.revenueGrowth?.toFixed(1) || ''0''}%\nAverage Deal Size: $' + '{formatCurrency(metrics.avgDealSize)}\nCash Flow: $' + '{formatCurrency(metrics.cashFlow)}\n\nData Summary:\n- Total Invoices: $' + '{invoices.length}\n- Total Deals: $' + '{deals.length}\n- Total Products: $' + '{products.length}\n\nRecent Trend Data:\n$' + '{trendData.slice(-3).map(d => `$' + '{d.month}: Invoice Revenue $' + '{formatCurrency(d.revenue)}, Deal Revenue $' + '{formatCurrency(d.deals)}`).join(''\\n'')}\n\nProvide:\n1. Key financial performance insights and trends\n2. Revenue growth analysis and projections\n3. Cash flow and outstanding revenue concerns\n4. Gross margin analysis and optimization opportunities\n5. Specific actionable recommendations for financial improvement\n6. Risk factors to monitor\n\nFocus on actionable business insights that can help improve financial performance.`;\n      \n      const result = await utilities.ai.ExecutePrompt({\n        systemPrompt: ''You are an expert financial analyst with deep knowledge of business finance, cash flow management, and revenue optimization. Provide clear, actionable insights with specific recommendations. Format your response in clear markdown.'',\n        messages: prompt,\n        preferredModels: [''GPT-OSS-120B'', ''Qwen3 32B''],\n        modelPower: ''high'',\n        temperature: 0.7,\n        maxTokens: 1500\n      });\n      \n      if (result?.success && result?.result) {\n        setAiInsights(result.result);\n      } else {\n        setInsightsError(''Failed to generate insights. Please try again.'');\n      }\n    } catch (error) {\n      setInsightsError(error.message || ''Failed to generate AI insights'');\n    } finally {\n      setLoadingInsights(false);\n    }\n  }, [invoices, deals, metrics, utilities.ai]);\n\n  const trendData = React.useMemo(() => {\n    const monthlyData = {};\n    \n    invoices.forEach(inv => {\n      const month = new Date(inv.InvoiceDate).toLocaleDateString(''en-US'', { year: ''numeric'', month: ''short'' });\n      if (!monthlyData[month]) {\n        monthlyData[month] = { revenue: 0, invoices: 0, deals: 0 };\n      }\n      monthlyData[month].revenue += inv.TotalAmount || 0;\n      monthlyData[month].invoices++;\n    });\n    \n    deals.forEach(deal => {\n      const month = new Date(deal.CloseDate).toLocaleDateString(''en-US'', { year: ''numeric'', month: ''short'' });\n      if (!monthlyData[month]) {\n        monthlyData[month] = { revenue: 0, invoices: 0, deals: 0 };\n      }\n      monthlyData[month].deals += deal.Amount || 0;\n    });\n    \n    return Object.entries(monthlyData)\n      .sort((a, b) => new Date(a[0]) - new Date(b[0]))\n      .map(([month, data]) => ({\n        month,\n        revenue: data.revenue,\n        deals: data.deals,\n        total: data.revenue + data.deals\n      }));\n  }, [invoices, deals]);\n\n  const formatCurrency = React.useCallback((amount) => {\n    if (amount >= 1000000) return `$$' + '{(amount / 1000000).toFixed(1)}M`;\n    if (amount >= 1000) return `$$' + '{(amount / 1000).toFixed(0)}K`;\n    return `$$' + '{amount?.toFixed(0) || 0}`;\n  }, []);\n\n  // Forecast scenarios configuration\n  const forecastScenarios = React.useMemo(() => [\n    {\n      id: ''conservative'',\n      name: ''Conservative (3% growth)'',\n      parameters: { growth: 1.03, seasonality: false }\n    },\n    {\n      id: ''moderate'',\n      name: ''Moderate (5% growth)'',\n      parameters: { growth: 1.05, seasonality: false }\n    },\n    {\n      id: ''aggressive'',\n      name: ''Aggressive (8% growth)'',\n      parameters: { growth: 1.08, seasonality: false }\n    }\n  ], []);\n\n  // Generate forecast data based on trend data\n  const generateForecastData = React.useCallback(() => {\n    const historicalData = trendData;\n    if (!historicalData || historicalData.length === 0) {\n      return [];\n    }\n\n    const lastValue = historicalData[historicalData.length - 1]?.total || 0;\n    const growthRate = 1.05; // Default 5% growth (moderate scenario)\n\n    return Array.from({ length: 6 }, (_, i) => {\n      const forecastValue = lastValue * Math.pow(growthRate, i + 1);\n      const confidenceLow = forecastValue * 0.85; // 15% lower bound\n      const confidenceHigh = forecastValue * 1.15; // 15% upper bound\n\n      return {\n        period: `Month +$' + '{i + 1}`,\n        value: forecastValue,\n        confidence: {\n          low: confidenceLow,\n          high: confidenceHigh\n        }\n      };\n    });\n  }, [trendData]);\n\n\n  // Sub-component: Details Panel\n  const DetailsPanel = () => {\n    if (!selectedMetric) return null;\n\n    return (\n      <div\n        style={{\n          position: ''fixed'',\n          right: isPanelOpen ? 0 : ''-500px'',\n          top: 0,\n          bottom: 0,\n          width: ''500px'',\n          backgroundColor: ''white'',\n          boxShadow: ''-4px 0 20px rgba(0,0,0,0.1)'',\n          zIndex: 1000,\n          transition: ''right 0.3s ease'',\n          display: ''flex'',\n          flexDirection: ''column''\n        }}\n      >\n        <div style={{\n          padding: ''20px'',\n          borderBottom: ''1px solid #E5E7EB'',\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''center''\n        }}>\n          <h3 style={{ margin: 0 }}>{selectedMetric.title}</h3>\n          <button\n            onClick={() => setIsPanelOpen(false)}\n            style={{\n              background: ''none'',\n              border: ''none'',\n              fontSize: ''24px'',\n              cursor: ''pointer''\n            }}\n          >\n            ×\n          </button>\n        </div>\n        \n        <div style={{ flex: 1, overflow: ''auto'', padding: ''20px'' }}>\n          <div style={{ marginBottom: ''20px'' }}>\n            <h4>Analysis</h4>\n            <p>{selectedMetric.analysis}</p>\n          </div>\n          \n          <div style={{ marginBottom: ''20px'' }}>\n            <h4>Recommendations</h4>\n            <ul>\n              {selectedMetric.recommendations?.map((rec, i) => (\n                <li key={i}>{rec}</li>\n              ))}\n            </ul>\n          </div>\n          \n          <div style={{ display: ''flex'', gap: ''10px'' }}>\n            {DataExportPanel ? (\n              <DataExportPanel\n                data={exportData}\n                columns={exportColumns}\n                getHtmlElement={() => dashboardRef.current}\n                filename={`financial-report-$' + '{new Date().toISOString().split(''T'')[0]}`}\n                formats={[''csv'', ''excel'', ''pdf'']}\n                buttonStyle=\"menu\"\n                pdfOptions={{\n                  orientation: ''landscape'',\n                  pageSize: ''a4'',\n                  margins: { top: 40, bottom: 40, left: 40, right: 40 },\n                  title: ''Financial Analytics Report'',\n                  includeDataTable: true,\n                  multiPage: true  // Enable multi-page support for tall dashboards\n                }}\n                excelOptions={{\n                  sheetName: ''Financial Data'',\n                  includeFilters: true,\n                  autoWidth: true\n                }}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n              />\n            ) : null}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Prepare data for export\n  const exportData = React.useMemo(() => {\n    // Return empty array if data is not loaded\n    if (!invoices || invoices.length === 0) {\n      return [];\n    }\n\n    // metrics is already calculated via useMemo\n    const monthlyTrends = trendData;\n\n    // Combine all financial data into a flat structure for export\n    const exportData = [];\n\n    // Add monthly revenue data\n    monthlyTrends.forEach(month => {\n      exportData.push({\n        category: ''Monthly Revenue'',\n        date: month.month,\n        metric: ''Invoice Revenue'',\n        value: month.revenue,\n        type: ''Actual''\n      });\n      exportData.push({\n        category: ''Monthly Revenue'',\n        date: month.month,\n        metric: ''Deal Revenue'',\n        value: month.deals,\n        type: ''Projected''\n      });\n    });\n\n    // Add summary metrics\n    const currentDate = new Date().toISOString().split(''T'')[0];\n    exportData.push(\n      {\n        category: ''Summary'',\n        date: currentDate,\n        metric: ''Total Revenue'',\n        value: metrics.totalRevenue,\n        type: ''Combined''\n      },\n      {\n        category: ''Summary'',\n        date: currentDate,\n        metric: ''Actual Revenue'',\n        value: metrics.actualRevenue,\n        type: ''Actual''\n      },\n      {\n        category: ''Summary'',\n        date: currentDate,\n        metric: ''Projected Revenue'',\n        value: metrics.projectedRevenue,\n        type: ''Projected''\n      },\n      {\n        category: ''Summary'',\n        date: currentDate,\n        metric: ''Outstanding Revenue'',\n        value: metrics.outstandingRevenue,\n        type: ''Outstanding''\n      },\n      {\n        category: ''Summary'',\n        date: currentDate,\n        metric: ''Average Deal Size'',\n        value: metrics.avgDealSize,\n        type: ''Calculated''\n      },\n      {\n        category: ''Summary'',\n        date: currentDate,\n        metric: ''Gross Margin'',\n        value: metrics.grossMargin,\n        type: ''Percentage''\n      },\n      {\n        category: ''Summary'',\n        date: currentDate,\n        metric: ''Revenue Growth'',\n        value: metrics.revenueGrowth,\n        type: ''Percentage''\n      }\n    );\n\n    // Add top invoices\n    const topInvoices = invoices\n      .filter(inv => inv.Status === ''Paid'')\n      .sort((a, b) => (b.TotalAmount || 0) - (a.TotalAmount || 0))\n      .slice(0, 5);\n\n    topInvoices.forEach(invoice => {\n      exportData.push({\n        category: ''Top Invoices'',\n        date: invoice.InvoiceDate,\n        metric: `Invoice #$' + '{invoice.ID}`,\n        value: invoice.TotalAmount,\n        type: ''Invoice''\n      });\n    });\n\n    return exportData;\n  }, [invoices, deals, metrics]);\n\n  // Export columns configuration - memoized value\n  const exportColumns = React.useMemo(() => {\n    return [\n      { key: ''category'', label: ''Category'', type: ''string'' },\n      { key: ''date'', label: ''Date'', type: ''date'' },\n      { key: ''metric'', label: ''Metric'', type: ''string'' },\n      { key: ''value'', label: ''Value'', type: ''currency'' },\n      { key: ''type'', label: ''Type'', type: ''string'' }\n    ];\n  }, []);\n\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading financial data...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: ''20px'', backgroundColor: ''#FEE2E2'', borderRadius: ''8px'', margin: ''20px'' }}>\n        <div style={{ color: ''#991B1B'', fontWeight: ''bold'' }}>Error loading data</div>\n        <div style={{ color: ''#DC2626'', marginTop: ''8px'' }}>{error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div ref={(el) => {\n      dashboardRef.current = el;\n      console.log(''Dashboard ref callback:'', el);\n    }} style={{ height: ''100%'', display: ''flex'', flexDirection: ''column'' }}>\n      <style>{`\n        .ai-insights-content h1, .ai-insights-content h2, .ai-insights-content h3 {\n          margin-top: 16px;\n          margin-bottom: 8px;\n          color: #111827;\n        }\n        .ai-insights-content h1 { font-size: 1.5em; }\n        .ai-insights-content h2 { font-size: 1.3em; }\n        .ai-insights-content h3 { font-size: 1.1em; }\n        .ai-insights-content p {\n          margin: 8px 0;\n          line-height: 1.6;\n          color: #374151;\n        }\n        .ai-insights-content ul, .ai-insights-content ol {\n          margin: 8px 0;\n          padding-left: 24px;\n        }\n        .ai-insights-content li {\n          margin: 4px 0;\n          color: #374151;\n        }\n        .ai-insights-content strong {\n          color: #111827;\n          font-weight: 600;\n        }\n        .ai-insights-content code {\n          background: #F3F4F6;\n          padding: 2px 6px;\n          border-radius: 3px;\n          font-size: 0.9em;\n        }\n        .ai-insights-content blockquote {\n          border-left: 4px solid #3B82F6;\n          padding-left: 16px;\n          margin: 12px 0;\n          color: #4B5563;\n        }\n      `}</style>\n      \n      <div style={{ padding: ''20px'', borderBottom: ''1px solid #E5E7EB'' }}>\n        <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'', marginBottom: ''20px'' }}>\n          <h2 style={{ margin: 0, fontSize: ''24px'', fontWeight: ''bold'' }}>Financial Analytics</h2>\n          <div style={{ display: ''flex'', gap: ''12px'', alignItems: ''center'' }}>\n            <select\n              value={timeRange}\n              onChange={(e) => {\n                setTimeRange(e.target.value);\n                onSaveUserSettings({ ...savedUserSettings, timeRange: e.target.value });\n              }}\n              style={{\n                padding: ''8px 12px'',\n                border: ''1px solid #D1D5DB'',\n                borderRadius: ''6px''\n              }}\n            >\n              <option value=\"month\">Last Month</option>\n              <option value=\"quarter\">Last Quarter</option>\n              <option value=\"year\">Last Year</option>\n            </select>\n            \n            {/* AI Insights Button */}\n            <button\n              onClick={generateAIInsights}\n              disabled={loadingInsights || loading}\n              style={{\n                padding: ''8px 16px'',\n                backgroundColor: ''#3B82F6'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: loadingInsights || loading ? ''not-allowed'' : ''pointer'',\n                display: ''flex'',\n                alignItems: ''center'',\n                gap: ''8px'',\n                opacity: loadingInsights || loading ? 0.6 : 1\n              }}\n            >\n              <i className={`fa-solid fa-$' + '{loadingInsights ? ''spinner fa-spin'' : ''wand-magic-sparkles''}`}></i>\n              {loadingInsights ? ''Analyzing...'' : ''Get AI Insights''}\n            </button>\n            \n            {/* Export Button - hidden during PDF capture */}\n            <div className=\"no-print\">\n              {DataExportPanel ? (\n                console.log(''Rendering DataExportPanel with:'', {\n                  dashboardRef: dashboardRef,\n                  dashboardRefCurrent: dashboardRef.current,\n                  dashboardRefExists: !!dashboardRef.current,\n                  aiInsights: !!aiInsights,\n                  aiInsightsRef: aiInsightsRef,\n                  aiInsightsRefCurrent: aiInsightsRef.current\n                }) ||\n                <DataExportPanel\n                  data={exportData}\n                  columns={exportColumns}\n                  getHtmlElement={() => dashboardRef.current}\n                  aiInsightsText={aiInsights}  // Pass raw markdown text only\n                  filename={`financial-report-$' + '{new Date().toISOString().split(''T'')[0]}`}\n                  formats={[''csv'', ''excel'', ''pdf'']}\n                  buttonStyle=\"dropdown\"\n                  buttonText=\"Export\"\n                  icon=\"fa-download\"\n                  pdfOptions={{\n                    orientation: ''landscape'',\n                    pageSize: ''a4'',\n                    margins: { top: 40, bottom: 40, left: 40, right: 40 },\n                    title: ''Financial Analytics Report'',\n                    includeDataTable: true,\n                    multiPage: true  // Enable multi-page support for tall dashboards\n                  }}\n                  excelOptions={{\n                    sheetName: ''Financial Data'',\n                    includeFilters: true,\n                    autoWidth: true\n                  }}\n                  utilities={utilities}\n                  styles={styles}\n                  components={components}\n                  callbacks={callbacks}\n                />\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* AI Insights Panel */}\n      <div ref={(el) => {\n        aiInsightsRef.current = el;\n        console.log(''AI Insights ref callback:'', el);\n      }}>\n      {AIInsightsPanel ? (\n        <AIInsightsPanel\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n          savedUserSettings={savedUserSettings?.aiInsights}\n          onSaveUserSettings={(settings) => onSaveUserSettings?.({\n            ...savedUserSettings,\n            aiInsights: settings\n          })}\n          insights={aiInsights}\n          loading={loadingInsights}\n          error={insightsError}\n          onGenerate={generateAIInsights}\n          title=\"Financial Analytics Insights\"\n          icon=\"fa-wand-magic-sparkles\"\n          iconColor={styles?.colors?.primary || ''#8B5CF6''}\n          position=\"top\"\n          onClose={() => {\n            setAiInsights(null);\n            setInsightsError(null);\n          }}\n        />\n      ) : null}\n      </div>\n      \n      <div style={{ margin: ''20px'' }}>\n        <div style={{ display: ''grid'', gridTemplateColumns: ''repeat(5, 1fr)'', gap: ''16px'' }}>\n          <div \n            style={{ \n              padding: ''16px'', \n              backgroundColor: ''#F9FAFB'', \n              borderRadius: ''8px'',\n              cursor: ''pointer''\n            }}\n            onClick={() => {\n              const relevantData = [\n                ...invoices.filter(inv => inv.Status === ''Paid'').map(inv => ({...inv, Type: ''Paid Invoice'', EntityType: ''Invoices'', DisplayAmount: inv.TotalAmount})),\n                ...deals.filter(d => ![''Closed Won'', ''Closed Lost''].includes(d.Stage)).map(d => ({...d, Type: ''Projected Deal'', EntityType: ''Deals'', DisplayAmount: (d.Amount || 0) * (d.Probability || 0) / 100}))\n              ];\n              setDrillDownData(relevantData);\n              setDrillDownTitle(''Total Revenue Breakdown'');\n            }}\n          >\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Total Revenue</div>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#10B981'' }}>\n              {formatCurrency(metrics.totalRevenue)}\n            </div>\n          </div>\n          \n          <div \n            style={{ \n              padding: ''16px'', \n              backgroundColor: ''#F9FAFB'', \n              borderRadius: ''8px'',\n              cursor: ''pointer''\n            }}\n            onClick={() => {\n              const paidInvoices = invoices.filter(inv => inv.Status === ''Paid'').map(inv => ({...inv, Type: ''Paid Invoice'', EntityType: ''Invoices'', DisplayAmount: inv.TotalAmount}));\n              setDrillDownData(paidInvoices);\n              setDrillDownTitle(''Actual Revenue - Paid Invoices'');\n            }}\n          >\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Actual Revenue</div>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'' }}>\n              {formatCurrency(metrics.actualRevenue)}\n            </div>\n          </div>\n          \n          <div style={{ padding: ''16px'', backgroundColor: ''#F9FAFB'', borderRadius: ''8px'' }}>\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Projected</div>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#F59E0B'' }}>\n              {formatCurrency(metrics.projectedRevenue)}\n            </div>\n          </div>\n          \n          <div \n            style={{ \n              padding: ''16px'', \n              backgroundColor: ''#F9FAFB'', \n              borderRadius: ''8px'',\n              cursor: ''pointer''\n            }}\n            onClick={() => {\n              const unpaidInvoices = invoices.filter(inv => inv.Status !== ''Paid'' && inv.Status !== ''Cancelled'').map(inv => ({...inv, Type: ''Unpaid Invoice'', EntityType: ''Invoices'', DisplayAmount: inv.TotalAmount}));\n              setDrillDownData(unpaidInvoices);\n              setDrillDownTitle(''Outstanding Revenue - Unpaid Invoices'');\n            }}\n          >\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Outstanding</div>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#EF4444'' }}>\n              {formatCurrency(metrics.outstandingRevenue)}\n            </div>\n          </div>\n          \n          <div style={{ padding: ''16px'', backgroundColor: ''#F9FAFB'', borderRadius: ''8px'' }}>\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Avg Deal Size</div>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'' }}>\n              {formatCurrency(metrics.avgDealSize)}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div style={{ flex: 1, overflow: ''auto'', padding: ''20px'' }}>\n        <div style={{ display: ''grid'', gridTemplateColumns: ''2fr 1fr'', gap: ''20px'', marginBottom: ''20px'' }}>\n          <div style={{ backgroundColor: ''white'', padding: ''20px'', borderRadius: ''8px'', border: ''1px solid #E5E7EB'' }}>\n            <h3 style={{ marginTop: 0 }}>Revenue Trend</h3>\n            <RevenueTrendChart\n              loading={loading}\n              trendData={trendData}\n              chartRefs={chartRefs}\n              formatCurrency={formatCurrency}\n              styles={styles}\n              utilities={utilities}\n              components={components}\n              callbacks={callbacks}\n            />\n          </div>\n          <div style={{ backgroundColor: ''white'', padding: ''20px'', borderRadius: ''8px'', border: ''1px solid #E5E7EB'' }}>\n            <h3 style={{ marginTop: 0 }}>KPI Gauges</h3>\n            <KPIGauges\n              loading={loading}\n              metrics={metrics}\n              chartRefs={chartRefs}\n              styles={styles}\n              utilities={utilities}\n              components={components}\n              callbacks={callbacks}\n            />\n          </div>\n        </div>\n\n        <div style={{ display: ''grid'', gridTemplateColumns: ''1fr 1fr'', gap: ''20px'' }}>\n          <div style={{ backgroundColor: ''white'', padding: ''20px'', borderRadius: ''8px'', border: ''1px solid #E5E7EB'' }}>\n            <h3 style={{ marginTop: 0 }}>Cash Flow Analysis</h3>\n            <CashFlowChart\n              loading={loading}\n              metrics={metrics}\n              chartRefs={chartRefs}\n              formatCurrency={formatCurrency}\n              styles={styles}\n              utilities={utilities}\n              components={components}\n              callbacks={callbacks}\n            />\n          </div>\n          <div style={{ backgroundColor: ''white'', padding: ''20px'', borderRadius: ''8px'', border: ''1px solid #E5E7EB'' }}>\n            <h3 style={{ marginTop: 0 }}>Revenue Forecast</h3>\n            <ForecastModel\n              loading={loading}\n              forecastData={generateForecastData()}\n              scenarios={forecastScenarios}\n              chartRefs={chartRefs}\n              formatCurrency={formatCurrency}\n              onScenarioChange={(scenarioId) => {\n                console.log(''Scenario changed to:'', scenarioId);\n              }}\n              styles={styles}\n              utilities={utilities}\n              components={components}\n              callbacks={callbacks}\n            />\n          </div>\n        </div>\n      </div>\n      \n      {/* Drill-down Table */}\n      {drillDownData && (\n        <DrillDownTable\n          data={drillDownData}\n          title={drillDownTitle}\n          onClose={() => setDrillDownData(null)}\n          sortConfig={sortConfig}\n          setSortConfig={setSortConfig}\n          callbacks={callbacks}\n          styles={styles}\n          utilities={utilities}\n          components={components}\n        />\n      )}\n      \n      <DetailsPanel />\n    </div>\n  );\n}","functionalRequirements":"## Financial Analytics Dashboard\n\n### Purpose\nComprehensive financial overview with revenue trends, forecasting, and profitability analysis.\n\n### Core Features\n- **Revenue Trends**: Historical and projected revenue\n- **Cash Flow Analysis**: Income vs expenses tracking\n- **Profitability Metrics**: Margin analysis by product/customer\n- **Forecast Modeling**: AI-powered predictions\n- **Budget vs Actual**: Variance analysis\n- **Interactive Gauges**: Using Recharts for KPIs\n- **Slide-out Reports**: Detailed financial reports\n- **Export Options**: PDF and Excel export\n\n### Visualizations\n- Area charts for revenue trends\n- Gauge charts for KPIs\n- Waterfall charts for P&L\n- Scatter plots for correlation analysis","dataRequirements":{"mode":"views","entities":[{"name":"Invoices","displayFields":["InvoiceDate","TotalAmount","Status"],"filterFields":["InvoiceDate","Status"],"sortFields":["InvoiceDate"]},{"name":"Deals","displayFields":["CloseDate","Amount","Stage","Probability"],"filterFields":["CloseDate","Stage"],"sortFields":["CloseDate"]},{"name":"Products","displayFields":["Name","Price","Cost"],"sortFields":["Name"]}]},"technicalDesign":"## Implementation\n\n### Components\n- Main: FinancialAnalyticsDashboard\n- Sub-components:\n  - RevenueTrend: Time series analysis\n  - CashFlowChart: Income/expense flow\n  - ProfitabilityMatrix: Margin analysis\n  - ForecastModel: Predictive analytics\n  - KPIGauges: Performance indicators\n\n### Features\n- Real-time calculations\n- Statistical forecasting\n- Responsive charts\n- Export functionality","properties":[],"events":[],"dependencies":[{"name":"DrillDownTable","location":"registry","namespace":"Financial/Analytics","version":"^1.0.0"},{"name":"AIInsightsPanel","location":"registry","namespace":"Generic/UI/AI","version":"^1.0.0"},{"name":"DataExportPanel","location":"registry","namespace":"Generic/UI/Export","version":"^1.0.0"},{"name":"KPIGauges","location":"registry","namespace":"CRM/Finance","version":"^1.0.0"},{"name":"RevenueTrendChart","location":"registry","namespace":"CRM/Finance","version":"^1.0.0"},{"name":"CashFlowChart","location":"registry","namespace":"CRM/Finance","version":"^1.0.0"},{"name":"ForecastModel","location":"registry","namespace":"CRM/Finance","version":"^1.0.0"}],"libraries":[],"description":"Comprehensive financial overview with revenue trends, forecasting, and profitability analysis with export capabilities"}'
SET
  @FunctionalRequirements_0f0086a8 = N'## Financial Analytics Dashboard

### Purpose
Comprehensive financial overview with revenue trends, forecasting, and profitability analysis.

### Core Features
- **Revenue Trends**: Historical and projected revenue
- **Cash Flow Analysis**: Income vs expenses tracking
- **Profitability Metrics**: Margin analysis by product/customer
- **Forecast Modeling**: AI-powered predictions
- **Budget vs Actual**: Variance analysis
- **Interactive Gauges**: Using Recharts for KPIs
- **Slide-out Reports**: Detailed financial reports
- **Export Options**: PDF and Excel export

### Visualizations
- Area charts for revenue trends
- Gauge charts for KPIs
- Waterfall charts for P&L
- Scatter plots for correlation analysis'
SET
  @TechnicalDesign_0f0086a8 = N'## Implementation

### Components
- Main: FinancialAnalyticsDashboard
- Sub-components:
  - RevenueTrend: Time series analysis
  - CashFlowChart: Income/expense flow
  - ProfitabilityMatrix: Margin analysis
  - ForecastModel: Predictive analytics
  - KPIGauges: Performance indicators

### Features
- Real-time calculations
- Statistical forecasting
- Responsive charts
- Export functionality'
SET
  @FunctionalRequirementsVector_0f0086a8 = N'[-0.021724209189414978,0.040304772555828094,-0.04737601801753044,-0.041482336819171906,0.0461697056889534,-0.007708494085818529,0.01211797446012497,0.009684460237622261,-0.012995067052543163,0.009251639246940613,-0.02729739248752594,0.026332316920161247,0.03809896484017372,0.1499064713716507,0.0008865866111591458,-0.007705338764935732,-0.04074190929532051,0.009886367246508598,0.016858678311109543,0.028603892773389816,0.012986060231924057,-0.004082102794200182,-0.00031464945641346276,0.012744138948619366,-0.03351142629981041,-0.006880532018840313,-0.007791449781507254,-0.016810420900583267,-0.012573366984724998,-0.037427738308906555,0.006999874021857977,-0.02970661036670208,-0.023646889254450798,0.03575611859560013,0.0000024327657683897996,-0.031534917652606964,-0.05011288821697235,-0.0015512759564444423,-0.024990618228912354,0.054604873061180115,0.054855458438396454,-0.052355363965034485,0.022116852924227715,0.033901482820510864,0.024249492213129997,0.028165901079773903,-0.009336594492197037,0.07338147610425949,-0.018909012898802757,-0.051590390503406525,-0.013917787000536919,-0.05926067754626274,-0.040630560368299484,-0.02395709604024887,-0.04553288593888283,-0.0765158087015152,-0.02773933857679367,-0.006813318468630314,-0.03076467290520668,-0.09100835025310516,-0.0311994981020689,0.022231433540582657,0.00207254895940423,-0.011595468968153,0.07647880911827087,0.040645286440849304,0.04612501710653305,-0.043596088886260986,-0.0295054130256176,-0.01939806155860424,0.03127818927168846,0.004320782143622637,-0.004078710917383432,-0.028370950371026993,0.017050987109541893,-0.07198160141706467,-0.051008038222789764,-0.006617799401283264,0.010935354977846146,0.001249216846190393,-0.06358592212200165,0.026616360992193222,-0.019748391583561897,0.018674790859222412,0.0153439836576581,-0.05155624821782112,-0.02901453897356987,-0.007636681664735079,0.010313780978322029,0.008164997212588787,0.025792425498366356,0.022043509408831596,-0.023239532485604286,-0.02946441061794758,-0.030953535810112953,-0.01167857926338911,0.05153129994869232,-0.059543076902627945,0.010367784649133682,-0.030611183494329453,0.06671711802482605,0.004849710967391729,0.011562090367078781,0.06673270463943481,-0.00238456716760993,0.04046967253088951,-0.005124295596033335,-0.0744669958949089,0.025140006095170975,0.02296166867017746,0.03792450204491615,-0.012150993570685387,0.01285391952842474,0.024592505767941475,0.00018152692064177245,-0.004575769882649183,-0.043151210993528366,-0.013668997213244438,-0.04738260433077812,0.019354939460754395,0.05889448896050453,0.04360504075884819,0.0684916153550148,0.021560553461313248,-0.0024083973839879036,-0.003305270103737712,-0.05701921135187149,0.029119916260242462,-0.05225663259625435,-0.011915100738406181,-0.017116466537117958,-0.013937031850218773,-0.0140836201608181,0.008911010809242725,0.02923845499753952,0.048578232526779175,0.014685927890241146,0.031146129593253136,-0.04227765277028084,-0.015220352448523045,0.02240980602800846,0.008820091374218464,-0.04133708029985428,0.06607503443956375,0.05364713817834854,-0.024722358211874962,-0.02614380605518818,0.06440196931362152,-0.007281832862645388,-0.016613874584436417,-0.0011166747426614165,-0.035445380955934525,0.011317510157823563,0.008560271002352238,0.000814076280221343,-0.04266897961497307,0.03096855990588665,0.01889176107943058,-0.004113655537366867,-0.009208347648382187,0.014967274852097034,-0.02192547544836998,-0.00821039266884327,0.00737999752163887,0.016814852133393288,-0.03810429200530052,-0.05484669655561447,-0.0006330753676593304,-0.061069101095199585,-0.04576434940099716,-0.010034048929810524,-0.03993094339966774,0.03195442259311676,0.006786377169191837,0.005953773856163025,-0.013463572598993778,0.08121702820062637,-0.00896087009459734,-0.019576478749513626,-0.021259592846035957,0.020145749673247337,-0.15981073677539825,0.046716634184122086,0.03534896671772003,0.0038744353223592043,0.007138805463910103,-0.04980603605508804,0.02250858023762703,-0.021637529134750366,-0.009584208019077778,0.00024301663506776094,0.022957319393754005,-0.09879256784915924,0.04366420954465866,0.0018846357706934214,-0.004414000082761049,-0.003991107456386089,-0.04038657248020172,0.007684809155762196,-0.0514775812625885,-0.01163524854928255,-0.00940773356705904,0.1117844507098198,0.04219604283571243,0.0335623137652874,-0.047755397856235504,-0.009363447315990925,-0.03107798658311367,-0.052367568016052246,0.004723438527435064,0.018192877992987633,0.01696278713643551,-0.018599139526486397,0.009727168828248978,-0.01621858775615692,0.009825309738516808,0.03946084529161453,0.02099381946027279,-0.017140697687864304,0.024561163038015366,-0.010232712142169476,0.01293993555009365,0.011246824637055397,0.028874635696411133,0.06631631404161453,0.064866803586483,0.060783326625823975,0.0039141373708844185,0.06606195867061615,0.03362075611948967,-0.011982864700257778,0.02644042670726776,0.025257533416152,0.004970346577465534,0.05526420474052429,0.049597520381212234,0.13076677918434143,0.07955944538116455,-0.01805488020181656,0.02475743368268013,0.02585434727370739,-0.025897914543747902,-0.061147116124629974,-0.0013672348577529192,0.043023377656936646,-0.02840149588882923,-0.019183576107025146,0.014651517383754253,-0.01006618607789278,-0.011349586769938469,0.04750560596585274,0.05120360478758812,0.03152613714337349,0.01674746349453926,-0.007160819601267576,-0.03300235792994499,-0.03740060329437256,-0.04728832095861435,0.01113501563668251,0.09406086057424545,-0.02358890138566494,-0.04702179878950119,-0.021478597074747086,0.0004900844651274383,-0.0378364622592926,-0.05102326720952988,0.04573584720492363,-0.015859752893447876,-0.05397995933890343,0.05763457342982292,-0.0466294139623642,0.003781812032684684,-0.01430012658238411,-0.029433846473693848,-0.00925325695425272,0.0639297291636467,-0.05790742114186287,0.0043094577267766,-0.049808088690042496,-0.026737600564956665,-0.005337143782526255,0.023529235273599625,0.00871261116117239,0.0019135684706270695,-0.0094427689909935,0.012002835050225258,0.08981890231370926,-0.050521135330200195,0.03834443539381027,-0.03686169162392616,-0.0005608424544334412,-0.02018887922167778,0.004081763792783022,0.05173041298985481,-0.05011608079075813,-0.006034431513398886,-0.014644145034253597,0.019433341920375824,0.002842675196006894,0.01579376496374607,-0.06599220633506775,-0.0450914204120636,-0.01682395674288273,0.011888588778674603,0.002948958892375231,0.053765032440423965,0.061477180570364,0.009831647388637066,0.04153931885957718,-0.007402931805700064,-0.0028736151289194822,-0.01475565042346716,-0.04574843868613243,0.01556426752358675,0.0010495217284187675,-0.0020396816544234753,-0.022157708182930946,0.035619571805000305,-0.003174722893163562,0.0649726614356041,0.02417847141623497,-0.008833622559905052,-0.042887020856142044,0.00761692738160491,0.0020514645148068666,0.026510994881391525,-0.024910273030400276,-0.03097526729106903,-0.028276197612285614,-0.044971294701099396,-0.014906803146004677,-0.08415602892637253,-0.03474712371826172,0.035106949508190155,-0.002668777946382761,-0.02784981019794941,-0.019032061100006104,0.02757427655160427,0.02016880176961422,-0.05140656977891922,0.010118741542100906,0.0608249194920063,-0.04216263070702553,-0.028917888179421425,0.002675418509170413,-0.03367312625050545,0.04414448142051697,-0.008181874640285969,-0.06339897215366364,0.019062131643295288,0.026677170768380165,0.015405702404677868,0.001035000546835363,0.000016603411495452747,0.049784958362579346,-0.0546782948076725,-0.043390948325395584,0.006513162516057491,-0.006873674225062132,-0.05251152440905571,0.039886943995952606,-0.014635083265602589,-0.0006685618427582085,0.001646393327973783,0.030058108270168304,0.013035783544182777,-0.031742312014102936,0.007854038849473,0.040131766349077225,-0.004242361523211002,-0.03058702126145363,-0.004652516916394234,0.036692216992378235,0.01762387342751026,-0.010150681249797344,-0.02107193134725094,-0.004301790613681078,0.02368994615972042,-0.0023597704712301493,-0.00565449008718133,0.0421559140086174,0.024783864617347717,0.03711351007223129,0.0015751359751448035,0.07794396579265594,-0.0031593041494488716,-0.04008938744664192,-0.03119485266506672,-0.0646618902683258,0.027987489476799965,0.004256913438439369,-0.002038602251559496,-0.0384833961725235,-0.031888797879219055,0.0002323580556549132,-0.058743979781866074,-0.009758071042597294,-0.009710827842354774,-0.019952910020947456,0.009458347223699093,0.03151962533593178,-0.13967643678188324,-0.03205285593867302,-0.047497596591711044,0.0044602155685424805,-0.08650463074445724,0.019620325416326523,0.015521524474024773,-0.07580370455980301,0.02709231898188591,-0.06752682477235794,-0.003643638454377651,0.02079041674733162,-0.04168561100959778,0.053523626178503036,0.015156987123191357,-0.021899759769439697,0.02368885651230812,0.03629809617996216,0.0751538798213005,0.0654609426856041,0.048747289925813675,-0.008120441809296608,-0.01020493172109127,0.01061353087425232,-0.0004695890820585191,0.059915319085121155,-0.08064308762550354,0.008753052912652493,-0.00008804523531580344,-0.016061371192336082,0.00609763665124774,-0.037765320390462875,0.005257114302366972,-0.07907868176698685,0.03382495418190956,0.019271407276391983,0.011425165459513664,-0.11186400800943375,-0.012344220653176308,-0.013750342652201653,0.04584719240665436,-0.012731319293379784,-0.0024701403453946114,-0.020263737067580223,-0.01148455124348402,0.03292460739612579,-0.022680507972836494,-0.04667090252041817,0.020307481288909912,0.06057894229888916,-0.023635171353816986,0.03210372105240822,-0.025325313210487366,0.014319286681711674,-0.034101225435733795,0.08752448111772537,-0.02518445812165737,-0.0010682963766157627,0.008804013952612877,0.043220970779657364,-0.0010188763262704015,-0.07399545609951019,-0.015991810709238052,0.06840456277132034,-0.008320563472807407,0.022454435005784035,-0.05930129811167717,-0.049993064254522324,-0.014692967757582664,0.05455947294831276,-0.015326233580708504,-0.009169395081698895,0.0005137674743309617,-0.014834503643214703,-0.002654455602169037,0.02352677471935749,0.01979486271739006,0.024980925023555756,-0.010482218116521835,-0.004807941149920225,0.0074915229342877865,0.01747167855501175,-0.023940538987517357,-0.019393010064959526,-0.013019959442317486,-0.010963646695017815,-0.0008778188494034111,-0.018506519496440887,-0.017371773719787598,0.051971226930618286,-0.0044349245727062225,-0.0024258247576653957,0.07199535518884659,-0.0109431566670537,-0.09913299977779388,0.0063515580259263515,-0.005748974159359932,-0.03976716846227646,0.03375707194209099,-0.03886745870113373,0.006977951154112816,0.01971481740474701,-0.10980972647666931,-0.014881000854074955,0.00027132497052662075,0.029033998027443886,-0.01041056215763092,-0.019074592739343643,0.03289780393242836,0.0038686685729771852,-0.0038848298136144876,0.039168696850538254,-0.020955385640263557,0.04143867641687393,0.009634468704462051,-0.020958052948117256,-0.002157533308491111,0.005274855997413397,-0.03611515089869499,0.004815511871129274,0.028462957590818405,0.00844167172908783,-0.0032202231232076883,0.025324614718556404,-0.018489180132746696,-0.005132261663675308,-0.06330198049545288,-0.04770314320921898,0.05042829364538193,-0.0020832386799156666,-0.01600668765604496,-0.06451676785945892,0.01546745840460062,-0.03923290595412254,0.005030615255236626,0.06740424782037735,0.008189955726265907,-0.003802022198215127,0.04533829912543297,-0.0341864638030529,0.006688348017632961,0.04016469046473503,-0.05446232482790947,-0.019928688183426857,-0.005565009079873562,-0.024166874587535858,-0.016806060448288918,0.007672842592000961,0.004325176123529673,-0.00010954710160149261,-0.022027937695384026,-0.06242590770125389,-0.004855029750615358,-0.037651583552360535,-6.914132140577951e-33,-0.02275414764881134,0.0042986623011529446,-0.05153988301753998,-0.013479702174663544,-0.043606240302324295,-0.020309731364250183,0.020109178498387337,-0.01502696517854929,-0.044805627316236496,-0.006694325711578131,-0.0422917865216732,0.03439091145992279,0.01327585056424141,0.02803965099155903,0.04148732125759125,0.017138471826910973,-0.00600492674857378,-0.006578228902071714,0.016993656754493713,0.00990939699113369,-0.027682295069098473,0.06367463618516922,-0.006649698596447706,-0.048125021159648895,-0.008220115676522255,0.03813868761062622,-0.03376581519842148,0.03718049079179764,0.033235836774110794,0.03339352086186409,0.017221031710505486,-0.04225920885801315,-0.01799629256129265,-0.017055844888091087,-0.007893375121057034,-0.005061726551502943,0.031585920602083206,-0.03822162374854088,0.017954399809241295,0.011523433960974216,0.05399276316165924,0.02733328565955162,0.025339297950267792,0.007227649912238121,-0.0026367101818323135,-0.018885673955082893,0.03356943279504776,-0.0085111940279603,0.0010240280535072088,-0.010215342044830322,0.008746844716370106,0.0032525770366191864,-0.05569057539105415,0.09369882941246033,0.02442353218793869,0.11326684057712555,-0.0031454104464501143,-0.013585245236754417,-0.012277701869606972,-0.003728745738044381,-0.04388326033949852,-0.038205698132514954,-0.01303627248853445,0.052604541182518005,0.026439322158694267,0.013901589438319206,-0.013958889059722424,-0.0009723564726300538,-0.049929749220609665,0.0041351024992764,-0.017966629937291145,0.0327223464846611,0.0491955541074276,-0.061262961477041245,-0.06394677609205246,-0.032560884952545166,0.007121772039681673,0.03057321533560753,0.03877649083733559,0.04196204990148544,-0.009358084760606289,-0.03617985546588898,-0.009413633495569229,-0.015669923275709152,0.09632141888141632,0.018269704654812813,-0.012038744986057281,0.008869260549545288,0.02824568562209606,0.03225605934858322,-0.01696273311972618,0.006466696038842201,-0.032368071377277374,-0.02803230844438076,-0.026048388332128525,0.012388450093567371,0.05743896961212158,0.024172969162464142,0.03579976037144661,-0.032541338354349136,-0.010097258724272251,0.006622420158237219,-0.04615556448698044,0.03661193698644638,-0.016215968877077103,-0.06392841786146164,0.04869019612669945,-0.022705022245645523,-0.028776343911886215,0.033911313861608505,0.037697844207286835,0.04502219334244728,0.011499143205583096,-0.004338737577199936,-0.009001832455396652,0.031731411814689636,-0.008687229827046394,-0.021526580676436424,0.028408830985426903,0.040391065180301666,0.045236460864543915,-0.0018105485942214727,-0.003666045842692256,0.005457860883325338,0.02226736582815647,-0.02936321310698986,-0.01563980244100094,-0.002387488493695855,0.04316839575767517,-0.010393830947577953,-0.040114399045705795,-0.02326694130897522,3.1410473866344546e-7,0.040351398289203644,0.021745625883340836,-0.022698931396007538,0.01711759902536869,0.01788495108485222,0.005330878309905529,-0.013472537510097027,-0.0317792110145092,-0.019051600247621536,0.07136678695678711,0.054328545928001404,-0.01907484419643879,0.023665394634008408,0.02882249839603901,0.000010223020581179298,-0.07376660406589508,-0.05052958428859711,-0.003963406663388014,-0.06365825235843658,0.044113390147686005,-0.005751042626798153,0.044842638075351715,0.058544643223285675,0.0030146900098770857,0.02668260969221592,-0.016581926494836807,-0.03789084032177925,-0.011909734457731247,0.022029194980859756,-0.0014720936305820942,0.025883100926876068,0.0610855408012867,-0.06801525503396988,-0.025238102301955223,-0.024322835728526115,0.024978259578347206,-0.005578172393143177,-0.046654243022203445,0.024927441030740738,0.037561096251010895,0.03311364725232124,0.020105376839637756,-0.01861528307199478,-0.06607405841350555,0.015033982694149017,0.00936961267143488,-0.009238723665475845,-0.026431700214743614,0.037173591554164886,0.042425431311130524,0.013772503472864628,-0.0078765032812953,-0.0020054634660482407,-0.021327758207917213,0.02683834545314312,-0.014972039498388767,-0.003174053505063057,0.006200528237968683,0.02053189091384411,0.08008421957492828,-0.02413995750248432,0.06573747843503952,0.0021729315631091595,0.07902835309505463,0.04279542714357376,0.0030650042463093996,0.029300091788172722,2.9017557890515593e-34,0.029876887798309326,-0.023029223084449768,0.04441024735569954,-0.005705880466848612,0.04987259954214096,-0.02803797833621502,0.021512994542717934,0.030003948137164116,0.0003241582599002868,-0.0353345163166523,-0.009564907290041447]'
SET
  @TechnicalDesignVector_0f0086a8 = N'[-0.019179195165634155,0.045231301337480545,-0.04428224265575409,-0.06829584389925003,0.00895322673022747,0.00529170036315918,0.045255523175001144,0.019453775137662888,-0.0610012412071228,-0.0021294299513101578,-0.013865921646356583,0.01886884681880474,0.03396998345851898,0.15188325941562653,-0.0018479276914149523,-0.009430053643882275,-0.009574961848556995,-0.00493136839941144,-0.021821219474077225,0.002911714604124427,0.030028298497200012,0.0018203326035290956,0.0145338149741292,0.0006639501079916954,-0.0170986820012331,0.0008775494643487036,-0.021319406107068062,-0.008828128688037395,-0.004332272335886955,-0.0712493509054184,0.01967337355017662,0.0019856176804751158,-0.05567527189850807,0.009696783497929573,0.000002295287686138181,-0.0032872536685317755,-0.05457605421543121,0.012536056339740753,0.025935184210538864,0.01440458558499813,0.07263553142547607,-0.08114859461784363,0.03160805627703667,-0.011356583796441555,0.0009571730624884367,0.006039243657141924,-0.00366069539450109,0.09001541137695312,0.044149644672870636,-0.021647188812494278,0.008061659522354603,-0.04360143840312958,-0.013822166249155998,-0.0052741169929504395,0.012802688404917717,-0.06211715191602707,-0.010861203074455261,-0.00924436841160059,0.01573330909013748,-0.04413498938083649,-0.015382835641503334,-0.019031016156077385,0.007375400047749281,-0.044942185282707214,0.10241100192070007,0.03267735615372658,0.07202719151973724,-0.051984045654535294,-0.020919306203722954,-0.006922443863004446,0.0831025019288063,0.005016177427023649,0.010487296618521214,-0.009184599854052067,-0.009504948742687702,-0.03669256716966629,-0.022769533097743988,0.014276106841862202,-0.001777875004336238,-0.023628657683730125,-0.024405833333730698,0.005772056058049202,-0.05882323533296585,-0.0025556471664458513,0.014160387217998505,0.015510188415646553,-0.016346702352166176,-0.0383475199341774,0.05503712594509125,0.008591365069150925,0.01797611266374588,0.024447578936815262,-0.03536900132894516,-0.021323187276721,-0.009417853318154812,-0.008943740278482437,0.02938273176550865,-0.08075061440467834,0.005523955915123224,-0.023907605558633804,0.058390963822603226,0.023184169083833694,0.04175058379769325,0.02081344462931156,0.0075462618842720985,0.0625256672501564,-0.020846905186772346,-0.07352953404188156,0.007039803545922041,0.019443605095148087,-0.013129841536283493,-0.015949787572026253,0.011267142370343208,0.06983601301908493,0.0030641197226941586,0.03185764700174332,-0.02893739938735962,-0.005848820321261883,-0.034913718700408936,0.03197271749377251,0.08358073234558105,0.0031924666836857796,-0.0006112961564213037,0.037010446190834045,0.05283715948462486,-0.024037476629018784,-0.01962079294025898,-0.012002585455775261,-0.025859346613287926,0.022304942831397057,-0.007686554454267025,-0.025767061859369278,-0.02070632018148899,-0.01313015352934599,0.005073240026831627,0.006839480716735125,0.01859278790652752,0.018771685659885406,-0.00555172236636281,-0.024293813854455948,-0.0015199175104498863,-0.016918014734983444,-0.07058826088905334,0.0198625810444355,-0.004058280494064093,-0.028446463868021965,-0.026521215215325356,0.07345578819513321,0.009564129635691643,0.003585387719795108,0.008743243291974068,-0.004730939399451017,0.006898057647049427,-0.003089725272729993,-0.02539217099547386,-0.02660340443253517,0.02780894748866558,0.03779919072985649,-0.020707517862319946,-0.019334767013788223,0.001712506404146552,-0.004283227026462555,0.010337979532778263,-0.009076750837266445,-0.015463322401046753,-0.05411938205361366,-0.1258290708065033,0.016534719616174698,-0.020075390115380287,-0.07981013506650925,-0.02339733950793743,-0.05407882109284401,0.03000986948609352,0.008640805259346962,-0.002310936339199543,-0.027573246508836746,0.0742512196302414,0.032234542071819305,-0.020891601219773293,-0.054220255464315414,0.036535609513521194,-0.16927677392959595,0.055467188358306885,0.02042134664952755,0.05149172991514206,-0.0036628441885113716,-0.10734406858682632,0.051188912242650986,-0.0012156914453953505,0.008403355255723,-0.00028225540881976485,0.022877948358654976,-0.11705908179283142,0.01292751356959343,0.01757548749446869,0.002098567085340619,-0.0013085842365399003,-0.007771244738250971,0.03677523136138916,-0.04688150808215141,-0.010495901107788086,0.014219516888260841,0.09055572003126144,0.036782316863536835,0.01589832454919815,-0.0524044893682003,0.025995152071118355,-0.023531004786491394,-0.05579226091504097,0.022570563480257988,-0.011133159510791302,0.012637032195925713,-0.061991434544324875,0.011028305627405643,-0.004945044871419668,0.02967681735754013,0.038566235452890396,0.03786267340183258,-0.03548391908407211,-0.020427364856004715,-0.024899907410144806,-0.015293783508241177,0.008317165076732635,0.026620961725711823,0.059609171003103256,0.057277172803878784,0.054359011352062225,-0.03357826918363571,0.043851613998413086,0.03876258060336113,-0.04977525770664215,-0.0029469376895576715,0.02147953398525715,0.008404447697103024,0.032623421400785446,0.050902243703603745,0.09443708509206772,0.06898963451385498,-0.021793540567159653,-0.02175500988960266,0.006626829970628023,0.026665493845939636,-0.00800994224846363,0.025807993486523628,0.0240017119795084,-0.04680581018328667,-0.033826541155576706,-0.02173268236219883,-0.010050324723124504,-0.044649071991443634,0.030072716996073723,0.04956967756152153,0.02396467886865139,0.0020739948377013206,-0.0015541200991719961,-0.015320057980716228,-0.04243050888180733,-0.03635330870747566,0.04315834492444992,0.044682834297418594,0.005041522905230522,-0.03687501326203346,0.007796663325279951,0.00223294785246253,0.0033608018420636654,-0.007799582090228796,0.01632881723344326,0.006036728620529175,-0.024492308497428894,0.049004264175891876,0.00802535004913807,0.02502223663032055,0.00046058488078415394,-0.006988321430981159,0.0256195105612278,0.07900825887918472,-0.07626881450414658,-0.00812155194580555,-0.01700977236032486,-0.02913692221045494,-0.03889823704957962,0.006844963412731886,0.019157912582159042,-0.017923880368471146,-0.00773649150505662,0.04547775164246559,0.04997677728533745,-0.023923641070723534,0.026143433526158333,-0.05269906297326088,-0.005625152960419655,-0.03331318125128746,0.013937024399638176,0.009848898276686668,-0.03576302155852318,-0.020396674051880836,-0.024008387699723244,0.028189152479171753,-0.011036902666091919,0.05658179894089699,-0.039983008056879044,-0.035431429743766785,0.0041673071682453156,0.011160039342939854,-0.0208099577575922,0.05275193601846695,0.05021481588482857,0.015651779249310493,0.017696959897875786,0.051909491419792175,0.008385722525417805,-0.012236382812261581,-0.028692834079265594,0.014577771537005901,0.00030026628519408405,-0.009744304232299328,0.023411281406879425,0.007801292929798365,-0.0058312732726335526,0.04816487431526184,0.020152973011136055,-0.013267265632748604,-0.04102204367518425,-0.0006219520000740886,-0.04946459084749222,-0.00246380059979856,-0.04076357185840607,-0.015424727462232113,-0.0535920113325119,-0.04287710040807724,-0.002130333799868822,-0.040220193564891815,-0.02673073299229145,0.01970910280942917,0.007379095070064068,-0.016088394448161125,-0.010673873126506805,-0.006046549882739782,0.061121080070734024,-0.013395166024565697,0.031364791095256805,0.0496981255710125,-0.0226735919713974,-0.005672982428222895,-0.0038989796303212643,-0.003166144248098135,0.019202759489417076,-0.021723343059420586,-0.1041489690542221,0.052770763635635376,0.03203939273953438,-0.015361668542027473,-0.03108825907111168,-0.015683729201555252,0.031029867008328438,-0.03599665313959122,-0.021235743537545204,-0.032446444034576416,-0.025575239211320877,-0.05388931930065155,0.08974479883909225,-0.009665393270552158,-0.010391566902399063,0.03537581488490105,0.011821732856333256,0.01877422071993351,-0.012733960524201393,0.0019328960916027427,0.01646888628602028,-0.03983018547296524,-0.06577451527118683,-0.010338821448385715,-0.022031528875231743,0.04328589513897896,-0.013337992131710052,-0.03354281559586525,-0.00808040052652359,0.028030890971422195,-0.008524718694388866,-0.021360818296670914,0.04810784012079239,0.00933383870869875,0.054771605879068375,0.003457417944446206,0.07374747097492218,-0.0018573998240754008,-0.02340267039835453,-0.02323361299932003,-0.057117871940135956,0.045681845396757126,0.020501086488366127,-0.039085522294044495,-0.043704159557819366,-0.06489523500204086,-0.017706822603940964,-0.05050968378782272,-0.054812487214803696,0.019005106762051582,-0.004427457693964243,0.028572609648108482,0.0035780626349151134,-0.1304859220981598,-0.017438653856515884,-0.04087843745946884,0.044268567115068436,-0.10322251915931702,0.008366474881768227,0.027438363060355186,-0.05176683887839317,0.01067678164690733,-0.04976876452565193,-0.07109040021896362,-0.008495576679706573,-0.05866708606481552,-0.000341740291332826,0.010974627919495106,-0.017909888178110123,0.02456647902727127,0.03868970647454262,0.04865701124072075,0.05328011512756348,0.02152818813920021,0.019685637205839157,-0.01414667908102274,-0.008464624173939228,-0.033612266182899475,0.06581193953752518,-0.08459991216659546,-0.008918015286326408,-0.0025428745429962873,0.007274008821696043,-0.009713083505630493,-0.009768770076334476,-0.007248993963003159,-0.06370899826288223,0.0074542611837387085,0.016690118238329887,0.012082192115485668,-0.06971416622400284,-0.023785986006259918,0.002177889458835125,0.015373904258012772,0.06279619038105011,-0.0179684367030859,-0.02854500152170658,-0.036669742316007614,0.009594925679266453,-0.03770526126027107,-0.07403814047574997,0.01711330935359001,0.03253720700740814,0.004460921511054039,-0.0077748848125338554,-0.0026043038815259933,-0.009417057037353516,-0.059708546847105026,0.01807810738682747,0.0056775580160319805,-0.04959685727953911,0.05509420484304428,0.031699832528829575,0.024040453135967255,-0.05834357813000679,-0.021722177043557167,0.0652742013335228,0.006212112959474325,0.07166154682636261,-0.02556457370519638,-0.0155734121799469,-0.014817011542618275,0.008111965842545033,0.00990966521203518,-0.039782632142305374,-0.012550891377031803,0.027222543954849243,-0.0044282423332333565,0.0009941374883055687,0.02457672357559204,-0.013813303783535957,-0.03935813903808594,-0.009502590633928776,0.0326504148542881,0.016229843720793724,-0.08667000383138657,0.016666961833834648,0.025920487940311432,0.018894415348768234,-0.011889080516994,-0.009920863434672356,-0.018538933247327805,0.04312838241457939,-0.005583375692367554,-0.0028246776200830936,0.11121796816587448,0.019412366673350334,-0.06708540767431259,0.020437391474843025,-0.0016000528121367097,-0.02353500761091709,0.021628860384225845,-0.04165099933743477,-0.0053950087167322636,-0.020715687423944473,-0.107869952917099,-0.016251102089881897,-0.006300026550889015,0.03926011547446251,0.0034857706632465124,-0.03431488201022148,0.006436704192310572,0.0034283383283764124,-0.027673736214637756,-0.021529188379645348,-0.010645324364304543,0.02813519909977913,0.04351786896586418,-0.020981041714549065,0.010733311995863914,-0.004526139236986637,-0.022796539589762688,0.018448255956172943,0.020006535574793816,0.019796017557382584,-0.025448361411690712,0.05437334254384041,0.03167476877570152,-0.0030289599671959877,-0.03648114204406738,-0.03616431728005409,0.04582377150654793,0.002728454302996397,-0.0018330245511606336,-0.041857410222291946,-0.0008167411433532834,-0.03513536974787712,0.013581321574747562,0.062195923179388046,0.012028796598315239,-0.02150072157382965,-0.008067641407251358,-0.06426404416561127,0.009013636969029903,0.083376944065094,-0.02270423248410225,-0.026294397190213203,-0.01988784223794937,0.0009429783676750958,-0.021757343783974648,0.022068999707698822,0.041397225111722946,0.010753404349088669,-0.05892535299062729,-0.07635252177715302,-0.0016601413954049349,-0.0013945909449830651,-6.796208751355367e-33,-0.017166556790471077,0.002512523904442787,-0.054324839264154434,0.03901999071240425,-0.05397113040089607,-0.024813147261738777,0.029419751837849617,-0.04138542711734772,0.011436309665441513,-0.004222590010613203,-0.0016156922793015838,-0.004329771734774113,0.01004146970808506,0.012017498724162579,0.041260458528995514,0.015597602352499962,-0.0023406913969665766,0.0039006220176815987,0.023860281333327293,0.047158777713775635,-0.0016981823137030005,0.06799037754535675,0.015651248395442963,-0.00785829871892929,-0.02786516211926937,0.010540856048464775,-0.013310643844306469,0.03704679012298584,0.013131888583302498,0.044232383370399475,0.015397976152598858,-0.04243520647287369,-0.03636087849736214,-0.035009510815143585,-0.010442421771585941,-0.00713111087679863,0.02351120486855507,-0.027402294799685478,0.03365469351410866,0.013245661742985249,0.0657825917005539,0.013717460446059704,0.026253720745444298,0.00971281249076128,0.015617966651916504,-0.032723568379879,0.03514330834150314,0.025386447086930275,-0.00963100977241993,-0.03309062123298645,-0.02665788307785988,0.006863738875836134,-0.007784535177052021,0.09935255348682404,0.03886914998292923,0.08987116068601608,-0.00983512308448553,-0.016264189034700394,0.016837812960147858,-0.0021538815926760435,0.002046807436272502,-0.016688060015439987,-0.015886524692177773,0.03537474945187569,0.02809716947376728,0.012111485935747623,0.015068688429892063,0.03280015289783478,0.0000877528145792894,0.008726217783987522,0.010141583159565926,0.034020185470581055,0.06785950064659119,-0.04698657616972923,-0.029012147337198257,0.012255935929715633,0.01722058653831482,0.023502716794610023,0.013843419030308723,0.0680534690618515,0.004817227367311716,-0.052738990634679794,0.02925870753824711,-0.012960250489413738,0.06113719195127487,-0.001629031146876514,-0.003957449458539486,0.0075398716144263744,0.011588395573198795,0.02781502716243267,-0.028244061395525932,0.020954666659235954,-0.025724973529577255,0.0025774722453206778,0.01501185167580843,-0.01065320335328579,0.06695443391799927,0.03023478388786316,0.013732129707932472,-0.02698543667793274,-0.01449400931596756,0.013297547586262226,-0.02292048931121826,0.036449138075113297,-0.014742828905582428,-0.032317910343408585,0.040893882513046265,0.003539560828357935,-0.05409367382526398,-0.010566974990069866,0.008337611332535744,0.06201097369194031,-0.020139625295996666,0.011232336051762104,0.002449022838845849,0.016300635412335396,-0.006379158701747656,-0.012066817842423916,0.0008310906705446541,0.03035232052206993,0.03732840716838837,0.03570951893925667,0.02390396036207676,0.02669086866080761,0.03921665996313095,-0.03174435719847679,-0.01912364922463894,0.011481589637696743,-0.003333497792482376,-0.00917254202067852,-0.031296513974666595,0.0034506982192397118,3.2101431202136155e-7,-0.001219938974827528,0.023450367152690887,-0.04512994363903999,0.0075409067794680595,0.04139571636915207,-0.024188349023461342,-0.01786934770643711,-0.018651893362402916,-0.04238976910710335,0.017025168985128403,0.05340315029025078,-0.02418731525540352,0.036692261695861816,0.03062359243631363,0.005643021780997515,-0.038684744387865067,-0.08381617814302444,-0.030820991843938828,-0.06559569388628006,0.0072916410863399506,0.009680896066129208,0.029754173010587692,0.0331181064248085,0.013601751998066902,-0.0028142265509814024,0.02243507094681263,-0.0071377139538526535,-0.002654489828273654,0.045399196445941925,-0.005281677469611168,0.03086504526436329,0.07088158279657364,-0.05933334678411484,-0.018032914027571678,-0.009694820269942284,0.011956357397139072,-0.010397965088486671,-0.04408876970410347,-0.006893589626997709,0.09249728173017502,0.05479510501027107,0.030692683532834053,-0.02165493369102478,-0.06011584401130676,0.03170144185423851,0.010635140351951122,0.007090832572430372,-0.06979841738939285,-0.03670689836144447,0.023978983983397484,-0.0049571809358894825,-0.008816694840788841,-0.0011165767209604383,-0.014863879419863224,-0.000910526723600924,-0.007349271792918444,-0.007202439941465855,0.05562429502606392,0.014988604001700878,0.09017312526702881,-0.01705189421772957,0.019971271976828575,-0.008525347337126732,0.11275531351566315,0.06272464990615845,-0.02314874529838562,0.011827358044683933,3.937564447208955e-34,0.035315100103616714,-0.03226267546415329,0.017715632915496826,0.042161982506513596,0.030208494514226913,-0.025664377957582474,-0.0013602845137938857,0.01698007620871067,-0.023543991148471832,-0.062160130590200424,-0.004176707938313484]'
SET
  @HasCustomProps_0f0086a8 = 0
SET
  @HasCustomEvents_0f0086a8 = 0
SET
  @RequiresData_0f0086a8 = 1
SET
  @DependencyCount_0f0086a8 = 7
SET
  @TechnicalDesignVectorEmbeddingModelID_0f0086a8 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_0f0086a8 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_0f0086a8 = 0
SET
  @ID_0f0086a8 = 'D06D4A6B-F272-445D-8839-E5D1A4253381'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_0f0086a8,
  @Name = @Name_0f0086a8,
  @Version = @Version_0f0086a8,
  @VersionSequence = @VersionSequence_0f0086a8,
  @Title = @Title_0f0086a8,
  @Description = @Description_0f0086a8,
  @Type = @Type_0f0086a8,
  @Status = @Status_0f0086a8,
  @DeveloperName = @DeveloperName_0f0086a8,
  @DeveloperEmail = @DeveloperEmail_0f0086a8,
  @DeveloperOrganization = @DeveloperOrganization_0f0086a8,
  @SourceRegistryID = @SourceRegistryID_0f0086a8,
  @ReplicatedAt = @ReplicatedAt_0f0086a8,
  @LastSyncedAt = @LastSyncedAt_0f0086a8,
  @Specification = @Specification_0f0086a8,
  @FunctionalRequirements = @FunctionalRequirements_0f0086a8,
  @TechnicalDesign = @TechnicalDesign_0f0086a8,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_0f0086a8,
  @TechnicalDesignVector = @TechnicalDesignVector_0f0086a8,
  @HasCustomProps = @HasCustomProps_0f0086a8,
  @HasCustomEvents = @HasCustomEvents_0f0086a8,
  @RequiresData = @RequiresData_0f0086a8,
  @DependencyCount = @DependencyCount_0f0086a8,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_0f0086a8,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_0f0086a8,
  @HasRequiredCustomProps = @HasRequiredCustomProps_0f0086a8,
  @ID = @ID_0f0086a8;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_129dc9ce NVARCHAR(MAX),
@Name_129dc9ce NVARCHAR(500),
@Version_129dc9ce NVARCHAR(50),
@VersionSequence_129dc9ce INT,
@Title_129dc9ce NVARCHAR(1000),
@Description_129dc9ce NVARCHAR(MAX),
@Type_129dc9ce NVARCHAR(255),
@Status_129dc9ce NVARCHAR(50),
@DeveloperName_129dc9ce NVARCHAR(255),
@DeveloperEmail_129dc9ce NVARCHAR(255),
@DeveloperOrganization_129dc9ce NVARCHAR(255),
@SourceRegistryID_129dc9ce UNIQUEIDENTIFIER,
@ReplicatedAt_129dc9ce DATETIMEOFFSET,
@LastSyncedAt_129dc9ce DATETIMEOFFSET,
@Specification_129dc9ce NVARCHAR(MAX),
@FunctionalRequirements_129dc9ce NVARCHAR(MAX),
@TechnicalDesign_129dc9ce NVARCHAR(MAX),
@FunctionalRequirementsVector_129dc9ce NVARCHAR(MAX),
@TechnicalDesignVector_129dc9ce NVARCHAR(MAX),
@HasCustomProps_129dc9ce BIT,
@HasCustomEvents_129dc9ce BIT,
@RequiresData_129dc9ce BIT,
@DependencyCount_129dc9ce INT,
@TechnicalDesignVectorEmbeddingModelID_129dc9ce NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_129dc9ce NVARCHAR(MAX),
@HasRequiredCustomProps_129dc9ce BIT,
@ID_129dc9ce UNIQUEIDENTIFIER
SET
  @Namespace_129dc9ce = N'CRM/Analytics'
SET
  @Name_129dc9ce = N'WinLossAnalysis'
SET
  @Version_129dc9ce = N'1.0.0'
SET
  @VersionSequence_129dc9ce = 1
SET
  @Title_129dc9ce = N'Win/Loss Analysis'
SET
  @Description_129dc9ce = N'Analyze patterns in won and lost deals to identify success factors and improvement areas with AI-powered insights'
SET
  @Type_129dc9ce = N'Chart'
SET
  @Status_129dc9ce = N'Published'
SET
  @Specification_129dc9ce = N'{"name":"WinLossAnalysis","namespace":"CRM/Analytics","type":"Analysis","location":"embedded","code":"function WinLossAnalysis({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Load DataExportPanel component\n  const { DataExportPanel } = components;\n  \n  // Debug logging\n  console.log(''🔍 [WinLossAnalysis] Components available:'', Object.keys(components || {}));\n  console.log(''🔍 [WinLossAnalysis] DataExportPanel loaded:'', !!DataExportPanel);\n  \n  const [deals, setDeals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [viewMode, setViewMode] = useState(savedUserSettings?.viewMode || ''overview'');\n  const [timeRange, setTimeRange] = useState(savedUserSettings?.timeRange || ''quarter'');\n  const [selectedFactor, setSelectedFactor] = useState(null);\n  const [isPanelOpen, setIsPanelOpen] = useState(false);\n  const [drillDownData, setDrillDownData] = useState(null);\n  const [drillDownType, setDrillDownType] = useState(null);\n  const [filterReason, setFilterReason] = useState(''all'');\n  const [sortConfig, setSortConfig] = useState({ key: ''CloseDate'', direction: ''desc'' });\n  const [localSearchTerm, setLocalSearchTerm] = useState('''');\n  \n  const componentRef = useRef(null);\n  const gridRef = useRef(null);\n  const chartRefs = useRef({});\n\n  useEffect(() => {\n    loadDeals();\n  }, [timeRange]);\n\n  const loadDeals = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const dateFilter = getDateFilter();\n      const result = await utilities.rv.RunView({\n        EntityName: ''Deals'',\n        ExtraFilter: dateFilter ? `CloseDate >= ''$' + '{dateFilter}'' AND Stage IN (''Closed Won'', ''Closed Lost'')` : `Stage IN (''Closed Won'', ''Closed Lost'')`,\n        OrderBy: ''CloseDate DESC''\n      });\n\n      if (result.Success) {\n        setDeals(result.Results || []);\n      } else {\n        setError(result.ErrorMessage || ''Failed to load deals'');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getDateFilter = () => {\n    const now = new Date();\n    let months = 3;\n    \n    switch (timeRange) {\n      case ''month'': months = 1; break;\n      case ''quarter'': months = 3; break;\n      case ''year'': months = 12; break;\n      case ''all'': return null;\n      default: months = 3;\n    }\n    \n    const startDate = new Date(now.setMonth(now.getMonth() - months));\n    return startDate.toISOString().split(''T'')[0];\n  };\n\n  // Helper function to get filtered deals based on current filter\n  const getFilteredDeals = () => {\n    return deals.filter(d => {\n      if (filterReason !== ''all'' && d.LossReason !== filterReason) return false;\n      return true;\n    });\n  };\n\n  const calculateWinLossMetrics = () => {\n    const filteredDeals = getFilteredDeals();\n\n    const wonDeals = filteredDeals.filter(d => d.Stage === ''Closed Won'');\n    const lostDeals = filteredDeals.filter(d => d.Stage === ''Closed Lost'');\n    \n    const metrics = {\n      totalDeals: filteredDeals.length,\n      wonCount: wonDeals.length,\n      lostCount: lostDeals.length,\n      winRate: filteredDeals.length > 0 ? (wonDeals.length / filteredDeals.length * 100) : 0,\n      wonValue: wonDeals.reduce((sum, d) => sum + (d.Amount || 0), 0),\n      lostValue: lostDeals.reduce((sum, d) => sum + (d.Amount || 0), 0),\n      avgWonDealSize: wonDeals.length > 0 ? wonDeals.reduce((sum, d) => sum + (d.Amount || 0), 0) / wonDeals.length : 0,\n      avgLostDealSize: lostDeals.length > 0 ? lostDeals.reduce((sum, d) => sum + (d.Amount || 0), 0) / lostDeals.length : 0,\n      avgCycleTime: {\n        won: 0,\n        lost: 0\n      }\n    };\n    \n    // Calculate average cycle times\n    const wonCycleTimes = wonDeals.map(d => {\n      const created = new Date(d.CreatedAt || d.__mj_CreatedAt);\n      const closed = new Date(d.CloseDate);\n      return Math.floor((closed - created) / (1000 * 60 * 60 * 24));\n    });\n    \n    const lostCycleTimes = lostDeals.map(d => {\n      const created = new Date(d.CreatedAt || d.__mj_CreatedAt);\n      const closed = new Date(d.CloseDate);\n      return Math.floor((closed - created) / (1000 * 60 * 60 * 24));\n    });\n    \n    metrics.avgCycleTime.won = wonCycleTimes.length > 0 ? \n      Math.round(wonCycleTimes.reduce((a, b) => a + b, 0) / wonCycleTimes.length) : 0;\n    metrics.avgCycleTime.lost = lostCycleTimes.length > 0 ?\n      Math.round(lostCycleTimes.reduce((a, b) => a + b, 0) / lostCycleTimes.length) : 0;\n    \n    \n    // Loss reasons\n    metrics.lossReasons = {};\n    lostDeals.forEach(deal => {\n      const reason = deal.LossReason || ''Unknown'';\n      if (!metrics.lossReasons[reason]) {\n        metrics.lossReasons[reason] = { count: 0, value: 0, deals: [] };\n      }\n      metrics.lossReasons[reason].count++;\n      metrics.lossReasons[reason].value += deal.Amount || 0;\n      metrics.lossReasons[reason].deals.push(deal);\n    });\n    \n    // Competitor analysis\n    metrics.competitors = {};\n    lostDeals.forEach(deal => {\n      if (deal.Competitor) {\n        if (!metrics.competitors[deal.Competitor]) {\n          metrics.competitors[deal.Competitor] = { count: 0, value: 0, deals: [] };\n        }\n        metrics.competitors[deal.Competitor].count++;\n        metrics.competitors[deal.Competitor].value += deal.Amount || 0;\n        metrics.competitors[deal.Competitor].deals.push(deal);\n      }\n    });\n\n    // Monthly trend\n    metrics.monthlyTrend = {};\n    filteredDeals.forEach(deal => {\n      const month = new Date(deal.CloseDate).toISOString().substring(0, 7);\n      if (!metrics.monthlyTrend[month]) {\n        metrics.monthlyTrend[month] = { won: 0, lost: 0, wonValue: 0, lostValue: 0 };\n      }\n      if (deal.Stage === ''Closed Won'') {\n        metrics.monthlyTrend[month].won++;\n        metrics.monthlyTrend[month].wonValue += deal.Amount || 0;\n      } else {\n        metrics.monthlyTrend[month].lost++;\n        metrics.monthlyTrend[month].lostValue += deal.Amount || 0;\n      }\n    });\n    \n    return metrics;\n  };\n\n  const calculateCorrelationFactors = () => {\n    // Advanced correlation analysis\n    const factors = {\n      dealSize: { won: [], lost: [], correlation: 0 },\n      cycleTime: { won: [], lost: [], correlation: 0 },\n      discount: { won: [], lost: [], correlation: 0 },\n      interactions: { won: [], lost: [], correlation: 0 }\n    };\n    \n    deals.forEach(deal => {\n      const isWon = deal.Stage === ''Closed Won'';\n      const created = new Date(deal.CreatedAt || deal.__mj_CreatedAt);\n      const closed = new Date(deal.CloseDate);\n      const cycleTime = Math.floor((closed - created) / (1000 * 60 * 60 * 24));\n      const discount = deal.Discount || 0;\n      const interactions = Math.floor(Math.random() * 20) + 5; // Simulated\n      \n      if (isWon) {\n        factors.dealSize.won.push(deal.Amount || 0);\n        factors.cycleTime.won.push(cycleTime);\n        factors.discount.won.push(discount);\n        factors.interactions.won.push(interactions);\n      } else {\n        factors.dealSize.lost.push(deal.Amount || 0);\n        factors.cycleTime.lost.push(cycleTime);\n        factors.discount.lost.push(discount);\n        factors.interactions.lost.push(interactions);\n      }\n    });\n    \n    // Calculate averages and correlation strength\n    const avgFactors = {};\n    Object.keys(factors).forEach(factor => {\n      const wonAvg = factors[factor].won.length > 0 ? \n        factors[factor].won.reduce((a, b) => a + b, 0) / factors[factor].won.length : 0;\n      const lostAvg = factors[factor].lost.length > 0 ? \n        factors[factor].lost.reduce((a, b) => a + b, 0) / factors[factor].lost.length : 0;\n      \n      avgFactors[factor] = {\n        wonAvg,\n        lostAvg,\n        impact: ((wonAvg - lostAvg) / (lostAvg || 1)) * 100,\n        correlation: Math.abs(wonAvg - lostAvg) / (Math.max(wonAvg, lostAvg) || 1)\n      };\n    });\n    \n    return avgFactors;\n  };\n\n  const openDrillDown = (type, data) => {\n    setDrillDownType(type);\n    setDrillDownData(data);\n    setIsPanelOpen(true);\n  };\n\n  // Prepare data for export\n  const prepareExportData = () => {\n    const filteredDeals = getFilteredDeals();\n    \n    // Return simplified deal data with formatted amounts\n    return filteredDeals.map(deal => ({\n      DealName: deal.DealName || '''',\n      AccountName: deal.AccountName || '''',\n      Stage: deal.Stage || '''',\n      Status: deal.Status || '''',\n      Amount: deal.Amount ? `$$' + '{(deal.Amount / 1000).toFixed(1)}K` : ''$0'',\n      CloseDate: deal.CloseDate ? new Date(deal.CloseDate).toLocaleDateString() : '''',\n      LossReason: deal.LossReason || (deal.Stage === ''Closed Won'' ? ''Won'' : ''Unknown''),\n      Owner: deal.Owner || '''',\n      CreatedDate: deal.CreatedAt ? new Date(deal.CreatedAt || deal.__mj_CreatedAt).toLocaleDateString() : '''',\n      CycleTime: (() => {\n        if (deal.CloseDate && (deal.CreatedAt || deal.__mj_CreatedAt)) {\n          const created = new Date(deal.CreatedAt || deal.__mj_CreatedAt);\n          const closed = new Date(deal.CloseDate);\n          const days = Math.floor((closed - created) / (1000 * 60 * 60 * 24));\n          return `$' + '{days} days`;\n        }\n        return ''0 days'';\n      })()\n    }));\n  };\n\n  // Define export columns with correct key/label format\n  const getExportColumns = () => {\n    return [\n      { key: ''DealName'', label: ''Deal Name'' },\n      { key: ''AccountName'', label: ''Account'' },\n      { key: ''Stage'', label: ''Stage'' },\n      { key: ''Status'', label: ''Status'' },\n      { key: ''Amount'', label: ''Amount'' },\n      { key: ''CloseDate'', label: ''Close Date'' },\n      { key: ''LossReason'', label: ''Win/Loss Reason'' },\n      { key: ''Owner'', label: ''Owner'' },\n      { key: ''CreatedDate'', label: ''Created Date'' },\n      { key: ''CycleTime'', label: ''Cycle Time'' }\n    ];\n  };\n\n  // Enhanced Sub-component: Overview Cards with drill-down\n  const OverviewCards = () => {\n    const metrics = calculateWinLossMetrics();\n    \n    return (\n      <div style={{ display: ''grid'', gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'', gap: ''16px'', marginBottom: ''20px'' }}>\n        <div \n          style={{ \n            padding: ''16px'', \n            backgroundColor: ''white'', \n            borderRadius: ''8px'', \n            border: ''1px solid #E5E7EB'',\n            cursor: ''pointer'',\n            transition: ''all 0.2s'',\n            position: ''relative'',\n            overflow: ''hidden''\n          }}\n          onClick={() => openDrillDown(''winrate'', metrics)}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.transform = ''translateY(-2px)'';\n            e.currentTarget.style.boxShadow = ''0 4px 12px rgba(0,0,0,0.1)'';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = ''translateY(0)'';\n            e.currentTarget.style.boxShadow = ''none'';\n          }}\n        >\n          <div style={{\n            position: ''absolute'',\n            top: 0,\n            left: 0,\n            width: `$' + '{metrics.winRate}%`,\n            height: ''3px'',\n            backgroundColor: metrics.winRate > 50 ? ''#10B981'' : ''#EF4444'',\n            transition: ''width 0.5s''\n          }} />\n          <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Win Rate</div>\n          <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: metrics.winRate > 50 ? ''#10B981'' : ''#EF4444'' }}>\n            {(metrics.winRate || 0).toFixed(1)}%\n          </div>\n          <div style={{ fontSize: ''11px'', color: ''#6B7280'' }}>\n            {metrics.wonCount} won / {metrics.totalDeals} total\n          </div>\n          <div style={{ fontSize: ''10px'', color: ''#9CA3AF'', marginTop: ''4px'' }}>\n            Click to view details →\n          </div>\n        </div>\n        \n        <div \n          style={{ \n            padding: ''16px'', \n            backgroundColor: ''white'', \n            borderRadius: ''8px'', \n            border: ''1px solid #E5E7EB'',\n            cursor: ''pointer'',\n            transition: ''all 0.2s''\n          }}\n          onClick={() => openDrillDown(''revenue'', { type: ''won'', deals: deals.filter(d => d.Stage === ''Closed Won'') })}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.transform = ''translateY(-2px)'';\n            e.currentTarget.style.boxShadow = ''0 4px 12px rgba(0,0,0,0.1)'';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = ''translateY(0)'';\n            e.currentTarget.style.boxShadow = ''none'';\n          }}\n        >\n          <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Won Revenue</div>\n          <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: ''#10B981'' }}>\n            $' + '{(metrics.wonValue / 1000).toFixed(0)}K\n          </div>\n          <div style={{ fontSize: ''11px'', color: ''#6B7280'' }}>\n            Avg: $' + '{(metrics.avgWonDealSize / 1000).toFixed(0)}K\n          </div>\n          <div style={{ fontSize: ''11px'', color: ''#6B7280'' }}>\n            Cycle: {metrics.avgCycleTime.won} days avg\n          </div>\n        </div>\n        \n        <div \n          style={{ \n            padding: ''16px'', \n            backgroundColor: ''white'', \n            borderRadius: ''8px'', \n            border: ''1px solid #E5E7EB'',\n            cursor: ''pointer'',\n            transition: ''all 0.2s''\n          }}\n          onClick={() => openDrillDown(''revenue'', { type: ''lost'', deals: deals.filter(d => d.Stage === ''Closed Lost'') })}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.transform = ''translateY(-2px)'';\n            e.currentTarget.style.boxShadow = ''0 4px 12px rgba(0,0,0,0.1)'';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = ''translateY(0)'';\n            e.currentTarget.style.boxShadow = ''none'';\n          }}\n        >\n          <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Lost Revenue</div>\n          <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: ''#EF4444'' }}>\n            $' + '{(metrics.lostValue / 1000).toFixed(0)}K\n          </div>\n          <div style={{ fontSize: ''11px'', color: ''#6B7280'' }}>\n            Avg: $' + '{(metrics.avgLostDealSize / 1000).toFixed(0)}K\n          </div>\n          <div style={{ fontSize: ''11px'', color: ''#6B7280'' }}>\n            Cycle: {metrics.avgCycleTime.lost} days avg\n          </div>\n        </div>\n        \n        <div \n          style={{ \n            padding: ''16px'', \n            backgroundColor: ''white'', \n            borderRadius: ''8px'', \n            border: ''1px solid #E5E7EB'',\n            cursor: ''pointer'',\n            transition: ''all 0.2s''\n          }}\n          onClick={() => openDrillDown(''reasons'', metrics.lossReasons)}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.transform = ''translateY(-2px)'';\n            e.currentTarget.style.boxShadow = ''0 4px 12px rgba(0,0,0,0.1)'';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = ''translateY(0)'';\n            e.currentTarget.style.boxShadow = ''none'';\n          }}\n        >\n          <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Top Loss Reason</div>\n          <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#F59E0B'' }}>\n            {Object.keys(metrics.lossReasons).sort((a, b) => \n              metrics.lossReasons[b].count - metrics.lossReasons[a].count)[0] || ''N/A''}\n          </div>\n          <div style={{ fontSize: ''11px'', color: ''#6B7280'' }}>\n            {metrics.lossReasons[Object.keys(metrics.lossReasons)[0]]?.count || 0} occurrences\n          </div>\n          <div style={{ fontSize: ''10px'', color: ''#9CA3AF'', marginTop: ''4px'' }}>\n            View all reasons →\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n\n  // Drill-down Panel Component\n  const DrillDownPanel = () => {\n    if (!isPanelOpen || !drillDownData) return null;\n\n    const handleSort = (key) => {\n      setSortConfig(prev => ({\n        key,\n        direction: prev.key === key && prev.direction === ''asc'' ? ''desc'' : ''asc''\n      }));\n    };\n\n    const sortedDeals = (deals) => {\n      return [...deals].sort((a, b) => {\n        const aVal = a[sortConfig.key] || '''';\n        const bVal = b[sortConfig.key] || '''';\n        const multiplier = sortConfig.direction === ''asc'' ? 1 : -1;\n        \n        if (typeof aVal === ''number'' && typeof bVal === ''number'') {\n          return (aVal - bVal) * multiplier;\n        }\n        return aVal.toString().localeCompare(bVal.toString()) * multiplier;\n      });\n    };\n\n    const renderDrillDownContent = () => {\n      switch (drillDownType) {\n        case ''winrate'':\n          return (\n            <div>\n              <h3 style={{ margin: ''0 0 16px 0'' }}>Win Rate Analysis</h3>\n              <div style={{ display: ''grid'', gridTemplateColumns: ''1fr 1fr'', gap: ''16px'', marginBottom: ''20px'' }}>\n                <div style={{ padding: ''12px'', backgroundColor: ''#F0FDF4'', borderRadius: ''6px'' }}>\n                  <div style={{ fontSize: ''14px'', color: ''#166534'' }}>Won Deals</div>\n                  <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#10B981'' }}>\n                    {drillDownData.wonCount}\n                  </div>\n                  <div style={{ fontSize: ''12px'', color: ''#166534'' }}>\n                    $' + '{(drillDownData.wonValue / 1000).toFixed(0)}K total\n                  </div>\n                </div>\n                <div style={{ padding: ''12px'', backgroundColor: ''#FEF2F2'', borderRadius: ''6px'' }}>\n                  <div style={{ fontSize: ''14px'', color: ''#991B1B'' }}>Lost Deals</div>\n                  <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#EF4444'' }}>\n                    {drillDownData.lostCount}\n                  </div>\n                  <div style={{ fontSize: ''12px'', color: ''#991B1B'' }}>\n                    $' + '{(drillDownData.lostValue / 1000).toFixed(0)}K total\n                  </div>\n                </div>\n              </div>\n              <div>\n                <h4 style={{ margin: ''16px 0 8px 0'' }}>Monthly Trend</h4>\n                <div style={{ display: ''grid'', gap: ''4px'' }}>\n                  {Object.entries(drillDownData.monthlyTrend).sort().slice(-6).map(([month, data]) => (\n                    <div key={month} style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'' }}>\n                      <div style={{ width: ''80px'', fontSize: ''12px'' }}>{month}</div>\n                      <div style={{ flex: 1, display: ''flex'', height: ''20px'' }}>\n                        <div style={{\n                          width: `$' + '{(data.won / (data.won + data.lost)) * 100}%`,\n                          backgroundColor: ''#10B981'',\n                          borderRadius: ''4px 0 0 4px''\n                        }} />\n                        <div style={{\n                          flex: 1,\n                          backgroundColor: ''#EF4444'',\n                          borderRadius: ''0 4px 4px 0''\n                        }} />\n                      </div>\n                      <div style={{ fontSize: ''12px'', width: ''60px'', textAlign: ''right'' }}>\n                        {((data.won / (data.won + data.lost)) * 100).toFixed(0)}%\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          );\n\n        case ''revenue'':\n          const revenueDeals = drillDownData.deals || [];\n          return (\n            <div>\n              <h3 style={{ margin: ''0 0 16px 0'' }}>\n                {drillDownData.type === ''won'' ? ''Won'' : ''Lost''} Deal Details\n              </h3>\n              <div style={{ marginBottom: ''16px'' }}>\n                <input\n                  type=\"text\"\n                  placeholder=\"Search deals...\"\n                  value={localSearchTerm}\n                  onChange={(e) => setLocalSearchTerm(e.target.value)}\n                  style={{\n                    width: ''100%'',\n                    padding: ''8px'',\n                    border: ''1px solid #D1D5DB'',\n                    borderRadius: ''6px''\n                  }}\n                />\n              </div>\n              <div style={{ maxHeight: ''400px'', overflow: ''auto'' }}>\n                <table style={{ width: ''100%'', fontSize: ''12px'' }}>\n                  <thead>\n                    <tr style={{ borderBottom: ''2px solid #E5E7EB'' }}>\n                      <th \n                        style={{ padding: ''8px'', textAlign: ''left'', cursor: ''pointer'' }}\n                        onClick={() => handleSort(''DealName'')}\n                      >\n                        Deal {sortConfig.key === ''DealName'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n                      </th>\n                      <th \n                        style={{ padding: ''8px'', textAlign: ''right'', cursor: ''pointer'' }}\n                        onClick={() => handleSort(''Amount'')}\n                      >\n                        Amount {sortConfig.key === ''Amount'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n                      </th>\n                      <th \n                        style={{ padding: ''8px'', textAlign: ''center'', cursor: ''pointer'' }}\n                        onClick={() => handleSort(''CloseDate'')}\n                      >\n                        Close Date {sortConfig.key === ''CloseDate'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n                      </th>\n                      <th style={{ padding: ''8px'', width: ''40px'' }}></th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {sortedDeals(revenueDeals.filter(d => \n                      !localSearchTerm || d.DealName?.toLowerCase().includes(localSearchTerm.toLowerCase())\n                    )).map(deal => (\n                      <tr key={deal.ID} style={{ borderBottom: ''1px solid #F3F4F6'' }}>\n                        <td style={{ padding: ''8px'' }}>\n                          <div style={{ fontWeight: ''500'' }}>{deal.DealName}</div>\n                          <div style={{ fontSize: ''11px'', color: ''#6B7280'' }}>{deal.AccountName}</div>\n                        </td>\n                        <td style={{ padding: ''8px'', textAlign: ''right'', fontWeight: ''bold'' }}>\n                          $' + '{(deal.Amount / 1000).toFixed(1)}K\n                        </td>\n                        <td style={{ padding: ''8px'', textAlign: ''center'', fontSize: ''11px'' }}>\n                          {new Date(deal.CloseDate).toLocaleDateString()}\n                        </td>\n                        <td style={{ padding: ''8px'' }}>\n                          <button\n                            onClick={() => callbacks.OpenEntityRecord(''Deals'', [{ FieldName: ''ID'', Value: deal.ID }])}\n                            style={{\n                              background: ''none'',\n                              border: ''none'',\n                              color: ''#3B82F6'',\n                              cursor: ''pointer'',\n                              fontSize: ''12px''\n                            }}\n                          >\n                            View →\n                          </button>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          );\n\n        case ''reasons'':\n          return (\n            <div>\n              <h3 style={{ margin: ''0 0 16px 0'' }}>Loss Reason Analysis</h3>\n              {Object.entries(drillDownData)\n                .sort((a, b) => b[1].count - a[1].count)\n                .map(([reason, data]) => (\n                  <div key={reason} style={{ marginBottom: ''16px'' }}>\n                    <div style={{ display: ''flex'', justifyContent: ''space-between'', marginBottom: ''8px'' }}>\n                      <div>\n                        <div style={{ fontWeight: ''bold'' }}>{reason}</div>\n                        <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>\n                          {data.count} deals • $' + '{(data.value / 1000).toFixed(0)}K lost\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => {\n                          setDrillDownType(''reason-deals'');\n                          setDrillDownData(data);\n                        }}\n                        style={{\n                          padding: ''4px 8px'',\n                          fontSize: ''11px'',\n                          backgroundColor: ''#F3F4F6'',\n                          border: ''none'',\n                          borderRadius: ''4px'',\n                          cursor: ''pointer''\n                        }}\n                      >\n                        View Deals →\n                      </button>\n                    </div>\n                    <div style={{\n                      height: ''8px'',\n                      backgroundColor: ''#E5E7EB'',\n                      borderRadius: ''4px'',\n                      overflow: ''hidden''\n                    }}>\n                      <div style={{\n                        width: `$' + '{(data.count / deals.filter(d => d.Stage === ''Closed Lost'').length) * 100}%`,\n                        height: ''100%'',\n                        backgroundColor: ''#F59E0B''\n                      }} />\n                    </div>\n                  </div>\n                ))}\n            </div>\n          );\n\n\n        default:\n          return null;\n      }\n    };\n\n    return (\n      <div\n        style={{\n          position: ''fixed'',\n          right: isPanelOpen ? 0 : ''-500px'',\n          top: ''75px'',\n          bottom: 0,\n          width: ''500px'',\n          backgroundColor: ''white'',\n          boxShadow: ''-4px 0 20px rgba(0,0,0,0.15)'',\n          zIndex: 1000,\n          transition: ''right 0.3s ease'',\n          display: ''flex'',\n          flexDirection: ''column''\n        }}\n      >\n        <div style={{\n          padding: ''20px'',\n          borderBottom: ''1px solid #E5E7EB'',\n          background: ''linear-gradient(135deg, #3B82F6, #8B5CF6)'',\n          color: ''white''\n        }}>\n          <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n            <h2 style={{ margin: 0 }}>Analysis Details</h2>\n            <button\n              onClick={() => setIsPanelOpen(false)}\n              style={{\n                background: ''none'',\n                border: ''none'',\n                color: ''white'',\n                fontSize: ''24px'',\n                cursor: ''pointer'',\n                padding: 0\n              }}\n            >\n              ×\n            </button>\n          </div>\n        </div>\n        \n        <div style={{ flex: 1, overflow: ''auto'', padding: ''20px'' }}>\n          {renderDrillDownContent()}\n        </div>\n      </div>\n    );\n  };\n\n  // Correlation Factors Component\n  const CorrelationFactors = () => {\n    const factors = calculateCorrelationFactors();\n    \n    return (\n      <div style={{ backgroundColor: ''white'', borderRadius: ''8px'', padding: ''16px'', border: ''1px solid #E5E7EB'' }}>\n        <h3 style={{ margin: ''0 0 16px 0'', fontSize: ''18px'' }}>Win/Loss Correlation Factors</h3>\n        <div style={{ display: ''grid'', gap: ''12px'' }}>\n          {Object.entries(factors).map(([factor, data]) => {\n            const factorLabels = {\n              dealSize: { name: ''Deal Size'', icon: ''💰'', unit: ''$'' },\n              cycleTime: { name: ''Sales Cycle'', icon: ''⏱️'', unit: '' days'' },\n              discount: { name: ''Discount %'', icon: ''🏷️'', unit: ''%'' },\n              interactions: { name: ''Interactions'', icon: ''💬'', unit: '''' }\n            };\n            \n            const label = factorLabels[factor] || { name: factor, icon: ''📊'', unit: '''' };\n            const isPositive = data.wonAvg > data.lostAvg;\n            \n            return (\n              <div\n                key={factor}\n                style={{\n                  padding: ''12px'',\n                  backgroundColor: ''#F9FAFB'',\n                  borderRadius: ''6px'',\n                  cursor: ''pointer'',\n                  transition: ''all 0.2s''\n                }}\n                onClick={() => setSelectedFactor(factor)}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.backgroundColor = ''#F3F4F6'';\n                  e.currentTarget.style.transform = ''translateX(4px)'';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.backgroundColor = ''#F9FAFB'';\n                  e.currentTarget.style.transform = ''translateX(0)'';\n                }}\n              >\n                <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n                  <div style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'' }}>\n                    <span style={{ fontSize: ''20px'' }}>{label.icon}</span>\n                    <div>\n                      <div style={{ fontWeight: ''bold'', fontSize: ''14px'' }}>{label.name}</div>\n                      <div style={{ fontSize: ''11px'', color: ''#6B7280'' }}>\n                        Correlation: {(data.correlation * 100).toFixed(0)}%\n                      </div>\n                    </div>\n                  </div>\n                  <div style={{ textAlign: ''right'' }}>\n                    <div style={{ fontSize: ''11px'', color: ''#10B981'' }}>\n                      Won: {factor === ''dealSize'' ? ''$'' : ''''}{Math.round(data.wonAvg)}{label.unit}\n                    </div>\n                    <div style={{ fontSize: ''11px'', color: ''#EF4444'' }}>\n                      Lost: {factor === ''dealSize'' ? ''$'' : ''''}{Math.round(data.lostAvg)}{label.unit}\n                    </div>\n                  </div>\n                </div>\n                <div style={{ marginTop: ''8px'', display: ''flex'', gap: ''4px'', height: ''20px'' }}>\n                  <div style={{\n                    width: ''50%'',\n                    backgroundColor: ''#10B981'',\n                    opacity: 0.2 + (data.correlation * 0.8),\n                    borderRadius: ''4px 0 0 4px''\n                  }} />\n                  <div style={{\n                    width: ''50%'',\n                    backgroundColor: ''#EF4444'',\n                    opacity: 0.2 + ((1 - data.correlation) * 0.8),\n                    borderRadius: ''0 4px 4px 0''\n                  }} />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading win/loss data...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#EF4444'' }}>Error: {error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div ref={componentRef} style={{ padding: ''20px'', backgroundColor: ''#F3F4F6'', minHeight: ''100%'' }}>\n      <div style={{ marginBottom: ''20px'' }}>\n        <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'', marginBottom: ''16px'' }}>\n          <h2 style={{ margin: 0, fontSize: ''24px'', fontWeight: ''bold'' }}>Win/Loss Analysis</h2>\n          <div style={{ display: ''flex'', gap: ''8px'' }}>\n            <select\n              value={timeRange}\n              onChange={(e) => {\n                setTimeRange(e.target.value);\n                onSaveUserSettings({ ...savedUserSettings, timeRange: e.target.value });\n              }}\n              style={{\n                padding: ''6px 12px'',\n                border: ''1px solid #D1D5DB'',\n                borderRadius: ''6px'',\n                fontSize: ''14px''\n              }}\n            >\n              <option value=\"month\">Last Month</option>\n              <option value=\"quarter\">Last Quarter</option>\n              <option value=\"year\">Last Year</option>\n              <option value=\"all\">All Time</option>\n            </select>\n            {DataExportPanel && (\n              <DataExportPanel\n                data={prepareExportData()}\n                columns={getExportColumns()}\n                filename={`win-loss-analysis-$' + '{new Date().toISOString().split(''T'')[0]}`}\n                formats={[''csv'', ''excel'', ''pdf'']}\n                buttonStyle=\"dropdown\"\n                buttonText=\"Export\"\n                icon=\"fa-download\"\n                customStyles={{\n                  button: {\n                    padding: ''6px 12px'',\n                    backgroundColor: ''#10B981'',\n                    color: ''white'',\n                    border: ''none'',\n                    borderRadius: ''6px'',\n                    cursor: ''pointer'',\n                    fontSize: ''14px'',\n                    display: ''inline-flex'',\n                    alignItems: ''center'',\n                    gap: ''4px'',\n                    minWidth: ''80px''\n                  }\n                }}\n                getHtmlElement={() => componentRef.current}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n              />\n            )}\n            <button\n              onClick={() => setViewMode(viewMode === ''overview'' ? ''detailed'' : ''overview'')}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: ''#3B82F6'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              {viewMode === ''overview'' ? ''Detailed View'' : ''Overview''}\n            </button>\n          </div>\n        </div>\n        \n        <OverviewCards />\n        \n        {viewMode === ''overview'' && (\n          <div style={{ display: ''grid'', gridTemplateColumns: ''1fr'', gap: ''20px'' }}>\n            <CorrelationFactors />\n          </div>\n        )}\n        \n        <DrillDownPanel />\n      </div>\n    </div>\n  );\n}","functionalRequirements":"## Win/Loss Analysis\n\n### Purpose\nAnalyze patterns in won and lost deals to identify success factors and improvement areas.\n\n### Core Features\n- **Win/Loss Ratios**: By rep, product, industry\n- **Reason Analysis**: Common win/loss reasons\n- **Competitive Analysis**: Win rates vs competitors\n- **Time-based Trends**: Historical win rate changes\n- **Factor Correlation**: Key success indicators\n- **Interactive Sankey**: Using AG Grid for flow visualization\n- **Slide-out Insights**: AI-generated recommendations\n- **Comparative Views**: Side-by-side analysis\n\n### Visualizations\n- Sankey diagram for deal flow\n- Heatmap for factor correlation\n- Grouped bar charts for comparisons\n- Word cloud for reasons","dataRequirements":{"mode":"views","entities":[{"name":"Deals","displayFields":["DealName","Stage","Amount","CloseDate","Owner","LossReason","Competitor"],"filterFields":["Stage","CloseDate","Owner"],"sortFields":["CloseDate","Amount"]}]},"technicalDesign":"## Implementation\n\n### Components\n- Main: WinLossAnalysis\n- Sub-components:\n  - WinRateMatrix: Multi-dimensional analysis\n  - ReasonCloud: Visual reason distribution\n  - CompetitiveChart: Competitor comparison\n  - FactorAnalysis: Success correlation\n  - InsightsPanel: AI recommendations\n\n### Analysis Methods\n- Statistical correlation\n- Pattern recognition\n- Trend analysis\n- Comparative metrics","properties":[],"events":[{"name":"OpenEntityRecord","description":"View deal details"}],"dependencies":[{"name":"DataExportPanel","location":"registry","namespace":"Generic/UI/Export","version":"^1.0.0"}],"libraries":[],"description":"Analyze patterns in won and lost deals to identify success factors and improvement areas with AI-powered insights"}'
SET
  @FunctionalRequirements_129dc9ce = N'## Win/Loss Analysis

### Purpose
Analyze patterns in won and lost deals to identify success factors and improvement areas.

### Core Features
- **Win/Loss Ratios**: By rep, product, industry
- **Reason Analysis**: Common win/loss reasons
- **Competitive Analysis**: Win rates vs competitors
- **Time-based Trends**: Historical win rate changes
- **Factor Correlation**: Key success indicators
- **Interactive Sankey**: Using AG Grid for flow visualization
- **Slide-out Insights**: AI-generated recommendations
- **Comparative Views**: Side-by-side analysis

### Visualizations
- Sankey diagram for deal flow
- Heatmap for factor correlation
- Grouped bar charts for comparisons
- Word cloud for reasons'
SET
  @TechnicalDesign_129dc9ce = N'## Implementation

### Components
- Main: WinLossAnalysis
- Sub-components:
  - WinRateMatrix: Multi-dimensional analysis
  - ReasonCloud: Visual reason distribution
  - CompetitiveChart: Competitor comparison
  - FactorAnalysis: Success correlation
  - InsightsPanel: AI recommendations

### Analysis Methods
- Statistical correlation
- Pattern recognition
- Trend analysis
- Comparative metrics'
SET
  @FunctionalRequirementsVector_129dc9ce = N'[-0.005654240492731333,0.0632520392537117,-0.01349484920501709,-0.028831105679273605,-0.005590749904513359,-0.03702836111187935,-0.004311846569180489,-0.029924849048256874,-0.07579220086336136,-0.06329011172056198,-0.060029737651348114,0.003676516469568014,0.06798212975263596,0.1813276708126068,-0.01957247592508793,-0.004155596252530813,-0.04258113354444504,0.0155835822224617,-0.006555594503879547,0.02611970156431198,0.022271206602454185,-0.03091680072247982,-0.030041588470339775,0.043511323630809784,-0.0287762600928545,-0.013038376346230507,-0.027304287999868393,0.0022289948537945747,0.012918762862682343,-0.11301397532224655,0.027307849377393723,-0.01037557516247034,-0.02094864286482334,-0.005265691317617893,0.000002445981181153911,-0.03901591897010803,-0.05778660252690315,0.011275960132479668,0.02142108790576458,0.10847821086645126,0.06311782449483871,0.03828494995832443,0.0015993791166692972,0.02470623329281807,-0.000656594755128026,-0.05177575722336769,-0.0004401427286211401,0.051375795155763626,0.007433657068759203,0.01964310184121132,-0.006499257404357195,0.023554326966404915,-0.023496154695749283,-0.023226885125041008,-0.08862435817718506,-0.08169408142566681,-0.013210469856858253,-0.02051297016441822,-0.02333766408264637,-0.13314922153949738,-0.03232245519757271,-0.00037864147452637553,-0.013884857296943665,-0.052959103137254715,0.03673842176795006,0.013152411207556725,0.03602927178144455,0.0027363155968487263,-0.04075000807642937,0.006567846052348614,0.040691278874874115,0.023091377690434456,-0.02009435184299946,-0.059138908982276917,0.03230597451329231,-0.06945690512657166,-0.03470452502369881,0.02205025404691696,0.012658428400754929,0.02987266704440117,-0.06994462758302689,0.06672197580337524,-0.027993282303214073,-0.01111055351793766,0.024662885814905167,-0.004392118658870459,-0.024020252749323845,-0.002096309792250395,-0.0015216432511806488,8.662403274684038e-7,0.04691622033715248,-0.013902937062084675,0.01968446932733059,0.0026808788534253836,-0.06849201768636703,0.009239117614924908,0.04671299830079079,0.04434226080775261,0.006228384096175432,-0.050177201628685,0.020595207810401917,-0.017810668796300888,0.011891053058207035,0.026448866352438927,-0.004873890895396471,0.0175005029886961,-0.013105352409183979,-0.03173162788152695,-0.0536530576646328,0.037391941994428635,-0.015831008553504944,0.002902090083807707,0.01008189283311367,0.0499248132109642,0.009446561336517334,-0.0179915651679039,-0.0550483763217926,-0.016679050400853157,-0.07052824646234512,0.05731409788131714,0.05625490844249725,0.04286343231797218,0.0350261889398098,-0.0029132631607353687,-0.03956463560461998,0.049400076270103455,0.004235817585140467,0.01607147976756096,-0.014545263722538948,0.009172666817903519,0.01494333241134882,0.01065125409513712,-0.0064359400421381,-0.032599881291389465,0.0014627331402152777,0.02376769669353962,-0.005736756604164839,-0.00890134647488594,-0.054904527962207794,0.01017015241086483,0.044682227075099945,-0.011366904713213444,-0.0613313727080822,0.0050349668599665165,-0.013377558439970016,-0.05794619023799896,-0.017416294664144516,0.0063935136422514915,0.010780452750623226,-0.004571411292999983,0.0019148348364979029,-0.02531927451491356,-0.013499317690730095,0.029901882633566856,0.0019651553593575954,0.0014228355139493942,0.05716361105442047,0.012303096242249012,-0.007323248777538538,0.06353055685758591,0.0017951299669221044,-0.021318569779396057,-0.0003674197942018509,0.0006515313871204853,-0.02491026185452938,0.02182680368423462,-0.02973663993179798,0.01611805520951748,-0.008497514761984348,-0.01766301319003105,0.01810380257666111,-0.03188029304146767,0.012267234735190868,0.025515669956803322,0.03989872708916664,-0.003082823706790805,0.08481818437576294,0.017652902752161026,-0.01771618239581585,-0.032219212502241135,-0.0037901231553405523,-0.12780581414699554,0.03530457243323326,0.008693017065525055,0.03697168081998825,0.015342534519731998,-0.025793293491005898,0.030964244157075882,-0.014698421582579613,0.0021782165858894587,0.022874534130096436,0.031907275319099426,-0.02334016188979149,0.02595948614180088,0.0024365854915231466,-0.009485464543104172,-0.04771605506539345,-0.056259024888277054,-0.00741098215803504,0.013931531459093094,-0.023134641349315643,-0.0326654389500618,0.022999772801995277,-0.029541047289967537,0.013732003048062325,-0.00896668154746294,-0.011805039830505848,0.001752679469063878,-0.1033240482211113,0.007658655755221844,0.04514497518539429,0.02298891916871071,-0.021220441907644272,0.02352583222091198,-0.015691358596086502,0.021859390661120415,0.028099611401557922,0.05420220270752907,-0.0707239955663681,0.02803025022149086,-0.0283308494836092,0.08299537748098373,-0.01416513416916132,0.003113682847470045,0.11913715302944183,0.05716869607567787,0.024894682690501213,-0.011577626690268517,0.03299553319811821,0.021653536707162857,0.02720135636627674,0.025789765641093254,0.022932328283786774,0.011548439972102642,-0.04371155425906181,0.05766976997256279,0.09251610934734344,0.12663520872592926,-0.02132672443985939,-0.009682195261120796,-0.005184801295399666,-0.04752521216869354,-0.032962508499622345,0.012186029925942421,0.022159727290272713,-0.04261879250407219,0.005738464649766684,0.03379518911242485,0.04608519375324249,-0.009720689617097378,0.0025497160386294127,0.01512782834470272,0.03812088444828987,0.005496480036526918,-0.01132457796484232,-0.013654052279889584,-0.11398819088935852,0.0035903598181903362,-0.005640048533678055,0.06381291151046753,0.02885240875184536,-0.05956362932920456,-0.020254084840416908,-0.00969875231385231,0.02229754440486431,-0.04248172789812088,0.06685058772563934,0.01060826051980257,0.03145645558834076,0.04087755084037781,0.03312486410140991,0.026216160506010056,-0.03117120824754238,0.0034300952684134245,-0.010169063694775105,0.021492885425686836,-0.027419229969382286,0.0004167774459347129,-0.015457293950021267,-0.007877224124968052,0.03217865899205208,-0.021232089027762413,-0.010960311628878117,0.006358413957059383,-0.01783813163638115,0.04727733135223389,0.07132511585950851,0.03420381247997284,-0.10038642585277557,0.03177870810031891,0.013299371115863323,-0.047996871173381805,0.009643726982176304,-0.004559619352221489,-0.047584470361471176,0.032291654497385025,-0.0439944863319397,0.027318548411130905,-0.015672078356146812,0.07173091918230057,0.0187663733959198,-0.07240650057792664,-0.024492783471941948,-0.01530174445360899,-0.004538062494248152,0.031690798699855804,0.02810278907418251,-0.024944579228758812,0.0307454913854599,0.0208958238363266,0.03496410697698593,0.007524308282881975,0.01425895281136036,-0.017669709399342537,0.021325843408703804,-0.011895107105374336,-0.03239748254418373,-0.03418724611401558,-0.010518210008740425,0.07825291901826859,0.02688617818057537,-0.016401899978518486,-0.009928876534104347,0.018271006643772125,0.0010493505978956819,-0.038051411509513855,-0.020861519500613213,-0.04254758730530739,0.0195922888815403,-0.050349168479442596,-0.023075925186276436,-0.017554303631186485,-0.05597691610455513,-0.027023207396268845,-0.016484959051012993,0.024565676227211952,-0.017802298069000244,0.027903325855731964,-0.00774725154042244,-0.020522216334939003,-0.015685083344578743,0.05501435697078705,-0.02470795251429081,0.006896084640175104,0.0006792992353439331,-0.011804531328380108,0.09952734410762787,0.0075062839314341545,-0.06890874356031418,0.02754964306950569,0.01694631576538086,-0.015944695100188255,-0.012002521194517612,-0.040802765637636185,0.03437178209424019,0.030437136068940163,-0.004816590808331966,-0.026222020387649536,0.019812805578112602,-0.012166385538876057,0.004965428728610277,0.015591710805892944,-0.009939096868038177,0.005098350811749697,-0.04584493860602379,0.0059764389880001545,-0.010349578224122524,-0.006612513680011034,0.06046639382839203,-0.029780808836221695,-0.007383683696389198,-0.024502407759428024,0.07324346899986267,-0.03891881927847862,-0.009809284470975399,-0.04038826748728752,0.0527305081486702,0.02081393450498581,0.0023603299632668495,-0.006211180705577135,0.03458619862794876,-0.0012199328048154712,0.07833360880613327,-0.040723033249378204,0.029731694608926773,-0.01594914309680462,-0.007639088202267885,-0.03866876661777496,-0.059863559901714325,0.01618461310863495,-0.019920233637094498,0.02440943568944931,-0.0267323050647974,-0.024641307070851326,-0.023789918050169945,-0.09262511879205704,-0.03839972987771034,0.009728746488690376,-0.036972776055336,-0.02454351633787155,-0.0006439267308451235,-0.02414667047560215,0.023245258256793022,-0.019904404878616333,0.01219205278903246,-0.0335051491856575,0.018239762634038925,0.03567279502749443,-0.011904651299118996,0.006060597486793995,-0.013479979708790779,-0.016118280589580536,0.01435577031224966,-0.016262223944067955,0.08430930972099304,0.017928367480635643,0.0008093524374999106,0.018622945994138718,0.006143506616353989,0.015982311218976974,0.02716314233839512,0.09011027216911316,0.037035368382930756,-0.0005364544340409338,-0.008507227525115013,0.014469358138740063,-0.010549870319664478,-0.0348411425948143,0.010232553817331791,-0.006814233493059874,-0.02883102558553219,0.01125143002718687,-0.020640268921852112,0.0037962626665830612,0.0008702842169441283,-0.056870657950639725,0.007812747731804848,-0.003073572413995862,0.014669490046799183,-0.018381712958216667,-0.019998332485556602,0.038495827466249466,0.017089489847421646,-0.014056626707315445,0.033097993582487106,-0.04006902500987053,0.01080307550728321,0.011153463274240494,-0.023979471996426582,0.019905971363186836,0.04373028501868248,-0.0007165952119976282,0.07748167216777802,-0.03863045573234558,-0.03626101091504097,-0.020255355164408684,0.0018359317909926176,-0.03722912073135376,-0.006186672952026129,-0.04255624860525131,0.06530793756246567,0.018346955999732018,-0.051123347133398056,0.03439001366496086,0.02279793471097946,-0.0711495503783226,-0.04390214383602142,-0.017925245687365532,-0.06260225176811218,-0.012395006604492664,0.025064295157790184,-0.01759759522974491,-0.021634647622704506,0.0040730503387749195,-0.004957931116223335,0.01957976073026657,0.0061061386950314045,0.036706987768411636,0.020886559039354324,0.042429983615875244,0.01194852963089943,0.01596565917134285,0.013551625423133373,-0.04385965317487717,-0.018290989100933075,0.04358714446425438,-0.018132567405700684,0.02351612038910389,-0.0036602960899472237,0.012421912513673306,0.021554412320256233,-0.04067966714501381,0.0031473543494939804,0.0017704303609207273,-0.004504992160946131,-0.011981476098299026,-0.01574278436601162,0.05739561840891838,0.016704821959137917,0.04267067089676857,0.01519576832652092,0.039073944091796875,-0.00018586010264698416,-0.0654447004199028,0.015725407749414444,0.049197398126125336,0.019586753100156784,0.005663837771862745,-0.0035435562022030354,-0.04294930398464203,0.02111060731112957,0.014466064982116222,0.05986061319708824,-0.059523917734622955,0.018382642418146133,-0.04043176770210266,-0.0074243247509002686,-0.02597590908408165,0.003912690095603466,-0.04720548912882805,0.02104700170457363,0.005949920043349266,-0.005519512575119734,-0.06205108016729355,0.055693369358778,-0.02721036970615387,0.013894499279558659,-0.028921857476234436,0.02004445344209671,0.06540682166814804,0.026812661439180374,0.00918617844581604,-0.059094056487083435,0.02197323925793171,-0.009015975520014763,-0.014986618421971798,0.12121377885341644,0.05276085436344147,-0.022566335275769234,-0.0061853560619056225,-0.07416820526123047,0.019623806700110435,-0.019756557419896126,-0.04850895702838898,0.04592585936188698,-0.006572166457772255,-0.03802839294075966,-0.018964378163218498,0.027134714648127556,0.047332197427749634,-0.015985045582056046,-0.015252885408699512,-0.036394402384757996,-0.02301959879696369,-0.008928794413805008,-6.784365645770832e-33,0.02616390772163868,-0.05404074117541313,-0.01800527423620224,0.02716488391160965,-0.036101821810007095,-0.020061511546373367,0.022435611113905907,-0.007672934792935848,-0.023252936080098152,0.008600440807640553,-0.032878123223781586,-0.018553977832198143,0.024296119809150696,0.02368108741939068,0.02385205775499344,0.026114478707313538,-0.02723442018032074,0.033784884959459305,0.0011545411543920636,0.02783629298210144,-0.05531886965036392,0.03893713280558586,0.03336811810731888,-0.04401540011167526,-0.02301023155450821,0.02479945495724678,-0.05918652564287186,0.013424073345959187,-0.012293573468923569,0.004797925241291523,0.011620105244219303,-0.021208083257079124,-0.007413175422698259,-0.042514484375715256,0.023965420201420784,-0.07896824181079865,0.03610626235604286,0.01738191954791546,0.018588481470942497,-0.029101120308041573,0.053395021706819534,0.03523095324635506,0.013234465382993221,0.0295491311699152,0.030071930959820747,-0.013438324443995953,0.037423551082611084,-0.03314756602048874,-0.04226271063089371,0.03105715848505497,-0.019399968907237053,0.018983038142323494,-0.037656739354133606,0.03855890780687332,0.0039498936384916306,0.024798227474093437,0.012599524110555649,0.012290609069168568,-0.05500760301947594,0.0027536761481314898,-0.07418278604745865,0.01088506169617176,0.045206986367702484,-0.013879778794944286,-0.017272278666496277,-0.0017641555750742555,-0.04041365161538124,0.020677952095866203,0.022149065509438515,-0.06833721697330475,-0.02375909313559532,0.04786914587020874,0.003832376329228282,-0.06722508370876312,-0.02767753414809704,0.03876000642776489,0.007970154285430908,0.02470313012599945,-0.007160066626966,0.06743032485246658,-0.04125899821519852,0.009217185899615288,0.004462911281734705,0.025062447413802147,0.0376301109790802,-0.03325079008936882,-0.03803577274084091,-0.02401152066886425,0.01908876933157444,0.0006502740434370935,-0.028380492702126503,0.07036702334880829,-0.01809028722345829,0.0032280483283102512,-0.014792544767260551,-0.019956259056925774,0.024687204509973526,0.03182799369096756,-0.004865382332354784,-0.008152731694281101,0.006202681455761194,0.03671107813715935,-0.026304010301828384,0.028561223298311234,0.018335260450839996,-0.019862160086631775,0.015110400505363941,-0.001076541724614799,-0.027345776557922363,0.01582038588821888,0.0268473532050848,-0.015435376204550266,-0.04124423861503601,-0.09334123134613037,-0.06298103928565979,-0.0063561745919287205,-0.010127213783562183,0.024749230593442917,0.02401699498295784,0.004043345805257559,-0.012836729176342487,-0.031912662088871,-0.008894401602447033,-0.013763222843408585,0.007022379897534847,0.015474199317395687,0.032084688544273376,-0.03852476179599762,0.055925656110048294,0.010423156432807446,-0.03105965442955494,-0.05029428377747536,3.1213315310196776e-7,0.05927830934524536,0.031943757086992264,-0.04384802281856537,0.05767826735973358,-0.03647863492369652,0.04516015574336052,-0.035780005156993866,-0.028497202321887016,0.007800997234880924,-0.004887700546532869,0.06534460186958313,-0.0391443595290184,-0.00043474260019138455,0.027054334059357643,0.05229723080992699,-0.005166121292859316,-0.04829206317663193,-0.07130611687898636,-0.062295928597450256,-0.060748059302568436,0.039151035249233246,0.01460550632327795,0.06689528375864029,-0.00907741580158472,-0.003340920200571418,0.10048060119152069,-0.02279086969792843,-0.017472973093390465,0.020837899297475815,0.043920665979385376,0.03717392683029175,-0.08629800379276276,-0.06458447128534317,0.002237457549199462,-0.028993649408221245,0.003591319313272834,0.019420525059103966,-0.025503240525722504,0.054499078541994095,0.005031676962971687,-0.008436022326350212,-0.0018705324037000537,-0.004263371229171753,-0.058139897882938385,-0.007277847733348608,-0.06279853731393814,-0.015454727225005627,-0.04902234673500061,-0.024827051907777786,0.034147270023822784,0.03139602392911911,-0.002225263277068734,0.045791368931531906,0.01862085983157158,-0.02806483954191208,0.02449062652885914,0.033658500760793686,0.02391163818538189,0.01694534718990326,0.04277116432785988,-0.0043057710863649845,0.03653860464692116,-0.011666453443467617,0.019913243129849434,0.06508032977581024,0.017569411545991898,0.00016094595775939524,3.10003298744273e-34,0.006742366123944521,-0.03525570034980774,0.03880023956298828,0.06090124696493149,0.02462127059698105,-0.008323545567691326,-0.037328220903873444,-0.015024560503661633,-0.009531885385513306,-0.0247871782630682,-0.014358618296682835]'
SET
  @TechnicalDesignVector_129dc9ce = N'[-0.007887517102062702,0.08533894270658493,-0.02763781137764454,-0.003977862186729908,-0.022317616268992424,-0.019570214673876762,0.023542078211903572,-0.020616265013813972,-0.047621313482522964,-0.018660055473446846,0.031857024878263474,0.02032981440424919,0.0599139928817749,0.12472345679998398,-0.008008613251149654,-0.012912746518850327,0.008825955912470818,-0.021578209474682808,-0.012422566302120686,0.017927715554833412,0.0040485006757080555,-0.0018299095099791884,-0.007839800789952278,0.03254645690321922,-0.03085165098309517,-0.050677016377449036,-0.014499216340482235,0.004562339745461941,0.04374394193291664,-0.11369078606367111,-0.0149436816573143,-0.01938529685139656,-0.020909508690238,0.026064088568091393,0.0000022266115138336318,-0.0748753771185875,-0.0513632707297802,0.04289925470948219,0.03545376658439636,0.05880556255578995,0.05638199672102928,0.045744702219963074,0.022007564082741737,0.02387182228267193,-0.0001891609135782346,-0.009907175786793232,0.02406344935297966,0.048782676458358765,0.027846792712807655,-0.003953186795115471,-0.002121396828442812,0.005855202674865723,-0.013943658210337162,-0.008404155261814594,-0.06155133992433548,-0.04485265910625458,0.007166845258325338,-0.010091714560985565,0.03152889385819435,-0.08254574984312057,-0.006578190252184868,-0.02851426787674427,-0.017238829284906387,-0.03690393269062042,0.05316378176212311,0.01587492972612381,0.04115710407495499,-0.04216797649860382,-0.004181165248155594,0.019583677873015404,0.07503201067447662,0.014382824301719666,0.0016045895172283053,-0.03018416464328766,0.015346905216574669,-0.01628422550857067,-0.02438199706375599,0.0027382620610296726,0.0006420188583433628,0.03047560341656208,0.005078076384961605,0.04165192320942879,-0.024848697707057,-0.03142588213086128,0.0019308304181322455,0.08412937819957733,-0.014417744241654873,-0.00918619241565466,0.024021029472351074,-0.009024425409734249,0.08421268314123154,-0.016853991895914078,0.004406710620969534,-0.002211417304351926,-0.10148411989212036,-0.027566449716687202,0.05827847868204117,-0.027010822668671608,0.03581633418798447,-0.03127311170101166,0.04555058851838112,-0.007849933579564095,0.021069686859846115,0.02788359299302101,-0.0005924621364101768,0.06866905093193054,-0.00956656876951456,-0.025426262989640236,-0.06142423301935196,0.019072575494647026,-0.022381804883480072,0.007443075533956289,0.017989112064242363,0.057893771678209305,0.020216256380081177,0.032182250171899796,-0.07375293970108032,0.03177773952484131,-0.07334461808204651,0.056345656514167786,0.0186943206936121,0.020277831703424454,0.06757751107215881,0.039063356816768646,-0.004281409550458193,0.01710253581404686,-0.023169543594121933,0.00592360645532608,-0.023574981838464737,-0.0069369166158139706,-0.0006275030318647623,0.007513802498579025,0.0037823792081326246,-0.04830353334546089,0.01496194303035736,0.012822628021240234,0.010703138075768948,-0.0142006054520607,-0.007022349629551172,-0.015336690470576286,0.03733247146010399,-0.01640121266245842,-0.06291177868843079,-0.022124579176306725,-0.017833752557635307,-0.05412288010120392,0.01550181396305561,0.0157530028373003,-0.022799013182520866,0.006158007308840752,-0.01936849020421505,0.01544518768787384,-0.05704949423670769,-0.002444577869027853,-0.026512155309319496,0.012698409147560596,0.031229402869939804,0.027453718706965446,-0.03453267365694046,0.05577002838253975,0.01468215137720108,-0.027347110211849213,0.0303517933934927,-0.036371588706970215,-0.01657562330365181,-0.013182361610233784,-0.07816760241985321,0.043462999165058136,0.004715706687420607,-0.03245435282588005,0.012535966001451015,-0.015176689252257347,0.023948699235916138,0.044293783605098724,0.024268511682748795,0.07242558151483536,0.0586828887462616,-0.036099083721637726,-0.023511454463005066,-0.0036483039148151875,0.00732133025303483,-0.09840872138738632,0.02915479801595211,0.014737725257873535,0.01340144407004118,0.001321505755186081,-0.023354023694992065,0.05541368946433067,-0.02770180255174637,-0.038339510560035706,-0.014399060979485512,0.004349566530436277,-0.053689517080783844,0.004771725740283728,0.0157672967761755,-0.04455385357141495,-0.02353454940021038,-0.1439996063709259,-0.006148308515548706,-0.02063201367855072,-0.024230100214481354,-0.062135133892297745,0.0731988474726677,0.03389018028974533,0.019612323492765427,-0.03160016983747482,0.005969628691673279,-0.018967168405652046,-0.047780271619558334,-0.03294993191957474,-0.005717067513614893,0.007718717213720083,0.0014268041122704744,0.008530532009899616,-0.05289331078529358,0.01499998290091753,0.03521617501974106,0.014593755826354027,-0.05506564676761627,0.0434410497546196,-0.029952015727758408,0.03866647556424141,-0.03765136003494263,0.01036162581294775,0.09010914713144302,0.045872896909713745,0.039924200624227524,-0.008725001476705074,0.06595255434513092,0.04888338968157768,-0.02073630876839161,0.026733096688985825,0.033039212226867676,-0.018147863447666168,0.0009910843800753355,0.047620758414268494,0.09296309947967529,0.09978143125772476,-0.017674723640084267,-0.05842156708240509,0.012448783963918686,0.03942427039146423,-0.022234896197915077,0.020457809790968895,0.0450049489736557,-0.010844181291759014,0.0021939717698842287,0.01917659305036068,0.0018299655057489872,-0.042403444647789,0.03793332725763321,-0.0019431909313425422,0.017363697290420532,0.005085520446300507,-0.0299274493008852,0.02925904653966427,-0.09406939148902893,0.00405886210501194,0.010086232796311378,0.06669434159994125,0.00414514122530818,-0.04239451512694359,-0.0022341932635754347,-0.02014007978141308,-0.015613993629813194,-0.020716482773423195,0.0452895350754261,0.00700867036357522,0.02550649270415306,0.04608326777815819,-0.0011154187377542257,-0.01060574222356081,-0.033994030207395554,0.005973829422146082,0.011941878125071526,0.03976372629404068,-0.040895212441682816,-0.0025344467721879482,0.009833740070462227,0.02087746560573578,0.0041499510407447815,-0.03804715350270271,-0.012561396695673466,-0.009949490427970886,-0.04218817129731178,0.074472576379776,0.04264385253190994,0.030209071934223175,-0.0325963981449604,-0.0005849712761119008,-0.00554801058024168,-0.012103276327252388,-0.008039230480790138,0.023904383182525635,-0.018715357407927513,-0.009776467457413673,-0.01955808885395527,0.0955028161406517,0.004593847785145044,0.04574663192033768,0.04136298596858978,0.002262544585391879,-0.04668796807527542,0.02007242664694786,0.020946146920323372,0.05855421721935272,0.049538660794496536,-0.03755605220794678,0.027246713638305664,0.0217731986194849,-0.0024473185185343027,-0.02203145995736122,0.0026850909925997257,0.0416736975312233,-0.004836177919059992,-0.03717445582151413,-0.09066663682460785,-0.0715022012591362,-0.006666454952210188,0.06435394287109375,0.0017055938951671124,-0.054774194955825806,0.014279341325163841,-0.0003605166857596487,0.005839042365550995,-0.05449732765555382,-0.05382706969976425,-0.0023244398180395365,0.008893156424164772,-0.04742731526494026,0.011646974831819534,-0.04259290173649788,-0.010341441258788109,0.02004637010395527,-0.12228864431381226,0.024573953822255135,-0.04539079591631889,-0.01550627313554287,-0.019864387810230255,-0.03320656716823578,-0.02716454118490219,0.02016638033092022,-0.040254171937704086,0.00912576075643301,-0.04469598829746246,-0.013756196945905685,0.028793558478355408,-0.012853680178523064,-0.0338619165122509,0.026579394936561584,0.058033816516399384,-0.001103546703234315,-0.001277509843930602,-0.027134045958518982,0.0077614798210561275,0.01420747023075819,0.022409049794077873,-0.02230091392993927,0.02693449705839157,-0.013730578124523163,0.044142261147499084,0.022947043180465698,0.02517285943031311,-0.014266038313508034,-0.05201215296983719,0.0005672789993695915,0.013741837814450264,0.004351305775344372,0.022040951997041702,-0.03705424815416336,0.02049892023205757,0.005313694477081299,0.06804963946342468,0.04162805899977684,-0.013722216710448265,-0.05587930977344513,0.03062264993786812,-0.01567782647907734,0.0013597375946119428,0.016546761617064476,0.046689506620168686,-0.006826590746641159,0.0630296990275383,0.02123883180320263,0.040501441806554794,-0.047727320343256,-0.020453279837965965,-0.022595394402742386,-0.03656993806362152,0.05423460155725479,-0.022949393838644028,0.011919395998120308,-0.043157968670129776,-0.09969434142112732,-0.01280464231967926,-0.06604313105344772,-0.03369063884019852,-0.014990825206041336,-0.022010697051882744,0.011689201928675175,-0.007079889997839928,-0.07809969037771225,0.030271820724010468,-0.050388891249895096,0.002614259719848633,-0.010042348876595497,0.0449969507753849,0.028418447822332382,-0.052923500537872314,-0.06000956520438194,-0.024384578689932823,-0.058915529400110245,0.014834919944405556,-0.03031856007874012,0.04493285343050957,0.01850098744034767,-0.0035857660695910454,-0.030628100037574768,0.03464118763804436,0.008934530429542065,0.017556995153427124,0.06964905560016632,0.06394978612661362,0.01008934248238802,-0.025923173874616623,-0.03366991505026817,-0.003189686220139265,-0.05580757558345795,0.03102349303662777,-0.0012520879972726107,0.0011368149425834417,-0.004974544048309326,0.00867969635874033,-0.011055969633162022,0.006951430346816778,-0.025291843339800835,-0.02932744286954403,0.03949495404958725,-0.03254642337560654,-0.01602383516728878,-0.01571616530418396,0.00669094268232584,0.05464111268520355,-0.04530706629157066,0.031748153269290924,-0.06512708961963654,0.0008272569393739104,-0.03503616154193878,-0.007034898269921541,0.05884432792663574,0.07657681405544281,0.021829744800925255,0.08093436062335968,-0.042883437126874924,-0.01568002998828888,-0.03607753664255142,0.017862316220998764,0.01767140068113804,-0.022313348948955536,-0.020583733916282654,0.041741903871297836,0.026451004669070244,-0.0023731624241918325,0.017658734694123268,0.004599318839609623,0.002861766377463937,-0.02627718262374401,0.06026718392968178,-0.039760805666446686,-0.0033932363148778677,-0.04762334004044533,0.009854103438556194,-0.030290471389889717,0.01859343983232975,-0.009349959902465343,0.03585260733962059,-0.021466977894306183,0.005719159729778767,0.004906927235424519,0.03591740131378174,0.022389333695173264,0.05497487261891365,0.011138145811855793,-0.025810837745666504,-0.021879833191633224,0.03803740069270134,0.004728297702968121,0.01810738816857338,-0.00644522113725543,0.0033432580530643463,0.007631498388946056,-0.017038468271493912,-0.009777571074664593,0.030045591294765472,-0.02000325731933117,-0.03453797474503517,-0.0021825472358614206,0.03928953781723976,-0.016227897256612778,0.0811820924282074,-0.0001456514437450096,-0.0013539857463911176,-0.022227974608540535,-0.046151138842105865,-0.007333234418183565,0.056915123015642166,0.025685837492346764,-0.009905456565320492,-0.018475309014320374,-0.01316650491207838,0.012919479049742222,0.03431133180856705,-0.032333195209503174,-0.054838310927152634,0.04675696790218353,-0.0030548525974154472,0.036233291029930115,0.023216990754008293,0.01338879857212305,-0.005171981640160084,0.023431744426488876,0.018231399357318878,0.056776221841573715,-0.06361064314842224,0.08007781207561493,0.005245027132332325,0.03234750032424927,-0.04490773379802704,0.008309410884976387,0.062285564839839935,-0.030277978628873825,-0.0007045066449791193,-0.037440408021211624,-0.009507116861641407,-0.023183034732937813,0.007500092498958111,0.0691729485988617,0.09684435278177261,-0.06005709618330002,-0.03193023055791855,-0.060604602098464966,-0.04477912560105324,-0.006065703928470612,0.0015310439048334956,0.009793794713914394,0.009037417359650135,-0.004716076888144016,-0.00044794916175305843,0.021659020334482193,-0.027894677594304085,-0.012122277170419693,-0.04818373918533325,-0.06756623089313507,-0.014446877874433994,-0.006721038371324539,-7.204317614757818e-33,0.025752952322363853,-0.029806703329086304,-0.028005143627524376,0.007107398938387632,-0.07512397319078445,-0.0380592904984951,0.03131050616502762,-0.00259248074144125,-0.03676825761795044,0.024563202634453773,-0.05129101872444153,-0.004824814386665821,0.016756247729063034,-0.02213652990758419,0.01663895510137081,0.03657742217183113,-0.006992897484451532,0.05906763672828674,0.011873871088027954,0.02365954779088497,-0.021237744018435478,0.0176581721752882,0.010396668687462807,-0.10676448792219162,0.019615059718489647,0.049546126276254654,-0.017111830413341522,0.02104470133781433,0.001641052309423685,0.01611371338367462,0.018582060933113098,-0.029866650700569153,-0.009616036899387836,0.006199545692652464,0.00045935544767417014,-0.04306343197822571,0.008718490600585938,-0.024040762335062027,0.047991231083869934,-0.016645409166812897,0.0400775671005249,-0.02683302015066147,0.0217820405960083,-0.00016726618923712522,0.005171791650354862,0.028981609269976616,0.07201751321554184,-0.02633819170296192,-0.01947733759880066,-0.013158062472939491,-0.008526944555342197,0.014472473412752151,-0.05374227091670036,0.0848967507481575,-0.01290694810450077,0.0648655816912651,0.015284477733075619,0.036742281168699265,-0.05411048233509064,0.03185040503740311,-0.00843146350234747,-0.013359720818698406,0.05341024696826935,0.029765980318188667,0.001510027446784079,0.02064891904592514,0.010320201516151428,-0.03401271253824234,0.03497947007417679,-0.06674989312887192,-0.017035890370607376,0.05272015929222107,0.048748306930065155,-0.03110695816576481,0.022014819085597992,-0.011794217862188816,-0.04242157191038132,0.045697156339883804,0.025300567969679832,0.03962758928537369,0.025324862450361252,0.0013206438161432743,-0.00949613656848669,0.01117243617773056,0.026229575276374817,-0.0035065356642007828,-0.02458791993558407,-0.008906415663659573,0.009430822916328907,0.00620264420285821,-0.05540139973163605,0.0285576730966568,-0.015927957370877266,-0.021643413230776787,0.031347256153821945,-0.026818791404366493,0.04112739861011505,0.010194689966738224,0.007823371328413486,-0.02122950181365013,-0.04436979815363884,0.007224606350064278,-0.05140846222639084,0.0865422859787941,0.03291068598628044,-0.006312069017440081,0.0016573877073824406,-0.02677810564637184,-0.06147053837776184,0.002264105947688222,0.011445479467511177,0.02278013899922371,-0.056338079273700714,-0.07198097556829453,-0.01943618431687355,-0.00036658401950262487,0.01708708330988884,0.03168243169784546,0.00797341763973236,0.027330443263053894,0.0013437025481835008,-0.014793041162192822,-0.005590260028839111,0.003378461580723524,0.020561281591653824,-0.033606354147195816,-0.030825013294816017,-0.007275492884218693,0.04619016870856285,-0.04470735415816307,-0.022142251953482628,-0.03620839864015579,3.034801920875907e-7,-0.01859048753976822,0.01739252358675003,-0.05071495845913887,-0.017124436795711517,-0.008778918534517288,0.008627836592495441,-0.02059120126068592,0.0192258320748806,-0.01919148676097393,0.004123845603317022,0.031687911599874496,-0.0315367616713047,-0.018603041768074036,0.02285822480916977,0.006643961649388075,-0.05184875801205635,-0.049476757645606995,-0.060342494398355484,-0.07058104872703552,-0.011793009005486965,0.06611275672912598,0.007833549752831459,0.044899310916662216,0.0023721419274806976,0.017263345420360565,0.03615056350827217,-0.029820246621966362,-0.018168902024626732,0.04837729036808014,0.031755685806274414,0.06472177803516388,-0.050781745463609695,-0.0029040623921900988,0.040635060518980026,0.005182488355785608,0.0031837429851293564,-0.049656353890895844,-0.019215276464819908,0.034894999116659164,0.024302419275045395,0.006895692087709904,-0.02268439158797264,0.0012499557342380285,-0.06246994435787201,0.060456033796072006,-0.011699432507157326,-0.03671988099813461,-0.06077521666884422,-0.06281041353940964,0.015638062730431557,0.024746853858232498,0.0018368124729022384,0.01210746169090271,-0.014302347786724567,-0.04065379127860069,-0.015060069039463997,0.02331460639834404,0.03808673098683357,0.02551489695906639,-0.011616175994277,0.01594703271985054,-0.035811398178339005,0.005572526250034571,0.051433466374874115,0.07067640870809555,0.025597628206014633,0.01750146970152855,3.3064794123946344e-34,0.05205101519823074,-0.020116807892918587,0.03593568876385689,0.002669119043275714,0.012333608232438564,-0.005068341735750437,-0.11144401878118515,-0.010100399143993855,0.022748347371816635,-0.05119248107075691,-0.005600540898740292]'
SET
  @HasCustomProps_129dc9ce = 0
SET
  @HasCustomEvents_129dc9ce = 1
SET
  @RequiresData_129dc9ce = 1
SET
  @DependencyCount_129dc9ce = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_129dc9ce = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_129dc9ce = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_129dc9ce = 0
SET
  @ID_129dc9ce = '69A0DF56-869F-4D88-8EA3-BCBAB2AC96C3'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_129dc9ce,
  @Name = @Name_129dc9ce,
  @Version = @Version_129dc9ce,
  @VersionSequence = @VersionSequence_129dc9ce,
  @Title = @Title_129dc9ce,
  @Description = @Description_129dc9ce,
  @Type = @Type_129dc9ce,
  @Status = @Status_129dc9ce,
  @DeveloperName = @DeveloperName_129dc9ce,
  @DeveloperEmail = @DeveloperEmail_129dc9ce,
  @DeveloperOrganization = @DeveloperOrganization_129dc9ce,
  @SourceRegistryID = @SourceRegistryID_129dc9ce,
  @ReplicatedAt = @ReplicatedAt_129dc9ce,
  @LastSyncedAt = @LastSyncedAt_129dc9ce,
  @Specification = @Specification_129dc9ce,
  @FunctionalRequirements = @FunctionalRequirements_129dc9ce,
  @TechnicalDesign = @TechnicalDesign_129dc9ce,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_129dc9ce,
  @TechnicalDesignVector = @TechnicalDesignVector_129dc9ce,
  @HasCustomProps = @HasCustomProps_129dc9ce,
  @HasCustomEvents = @HasCustomEvents_129dc9ce,
  @RequiresData = @RequiresData_129dc9ce,
  @DependencyCount = @DependencyCount_129dc9ce,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_129dc9ce,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_129dc9ce,
  @HasRequiredCustomProps = @HasRequiredCustomProps_129dc9ce,
  @ID = @ID_129dc9ce;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_e00050c2 NVARCHAR(MAX),
@Name_e00050c2 NVARCHAR(500),
@Version_e00050c2 NVARCHAR(50),
@VersionSequence_e00050c2 INT,
@Title_e00050c2 NVARCHAR(1000),
@Description_e00050c2 NVARCHAR(MAX),
@Type_e00050c2 NVARCHAR(255),
@Status_e00050c2 NVARCHAR(50),
@DeveloperName_e00050c2 NVARCHAR(255),
@DeveloperEmail_e00050c2 NVARCHAR(255),
@DeveloperOrganization_e00050c2 NVARCHAR(255),
@SourceRegistryID_e00050c2 UNIQUEIDENTIFIER,
@ReplicatedAt_e00050c2 DATETIMEOFFSET,
@LastSyncedAt_e00050c2 DATETIMEOFFSET,
@Specification_e00050c2 NVARCHAR(MAX),
@FunctionalRequirements_e00050c2 NVARCHAR(MAX),
@TechnicalDesign_e00050c2 NVARCHAR(MAX),
@FunctionalRequirementsVector_e00050c2 NVARCHAR(MAX),
@TechnicalDesignVector_e00050c2 NVARCHAR(MAX),
@HasCustomProps_e00050c2 BIT,
@HasCustomEvents_e00050c2 BIT,
@RequiresData_e00050c2 BIT,
@DependencyCount_e00050c2 INT,
@TechnicalDesignVectorEmbeddingModelID_e00050c2 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_e00050c2 NVARCHAR(MAX),
@HasRequiredCustomProps_e00050c2 BIT,
@ID_e00050c2 UNIQUEIDENTIFIER
SET
  @Namespace_e00050c2 = N'CRM/Analytics'
SET
  @Name_e00050c2 = N'FunnelChart'
SET
  @Version_e00050c2 = N'1.0.0'
SET
  @VersionSequence_e00050c2 = 1
SET
  @Title_e00050c2 = N'Funnel Chart'
SET
  @Description_e00050c2 = N'Sub-component of SalesFunnelVisualization that renders the funnel visualization'
SET
  @Type_e00050c2 = N'Chart'
SET
  @Status_e00050c2 = N'Published'
SET
  @Specification_e00050c2 = N'{"name":"FunnelChart","namespace":"CRM/Analytics","type":"Chart","location":"embedded","code":"// FunnelChart Sub-component\nfunction FunnelChart ({ data, onStageClick, selectedStage, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous chart\n    containerRef.current.innerHTML = '''';\n\n    // Calculate dimensions\n    const width = containerRef.current.offsetWidth;\n    const height = 400;\n    const maxValue = Math.max(...data.map(d => d.value));\n\n    // Create SVG\n    const svg = document.createElementNS(''http://www.w3.org/2000/svg'', ''svg'');\n    svg.setAttribute(''width'', width);\n    svg.setAttribute(''height'', height);\n    svg.setAttribute(''viewBox'', `0 0 $' + '{width} $' + '{height}`);\n\n    // Draw funnel segments\n    const segmentHeight = height / data.length;\n    const padding = 20;\n\n    data.forEach((stage, index) => {\n      const widthRatio = stage.value / maxValue;\n      const topWidth = width * (1 - index * 0.15) * widthRatio;\n      const bottomWidth = width * (1 - (index + 1) * 0.15) * widthRatio;\n      const y = index * segmentHeight;\n\n      // Create trapezoid path\n      const path = document.createElementNS(''http://www.w3.org/2000/svg'', ''path'');\n      const d = `\n        M $' + '{(width - topWidth) / 2} $' + '{y}\n        L $' + '{(width + topWidth) / 2} $' + '{y}\n        L $' + '{(width + bottomWidth) / 2} $' + '{y + segmentHeight}\n        L $' + '{(width - bottomWidth) / 2} $' + '{y + segmentHeight}\n        Z\n      `;\n      path.setAttribute(''d'', d);\n      path.setAttribute(''fill'', stage.color || `hsl($' + '{200 + index * 20}, 70%, 50%)`);\n      path.setAttribute(''stroke'', ''#fff'');\n      path.setAttribute(''stroke-width'', ''2'');\n      path.style.cursor = ''pointer'';\n      path.style.opacity = selectedStage === stage.name ? ''1'' : ''0.8'';\n      \n      // Add hover effect\n      path.addEventListener(''mouseenter'', () => {\n        path.style.opacity = ''1'';\n      });\n      path.addEventListener(''mouseleave'', () => {\n        path.style.opacity = selectedStage === stage.name ? ''1'' : ''0.8'';\n      });\n      path.addEventListener(''click'', () => {\n        if (onStageClick) onStageClick(stage);\n      });\n\n      svg.appendChild(path);\n\n      // Add text labels\n      const text = document.createElementNS(''http://www.w3.org/2000/svg'', ''text'');\n      text.setAttribute(''x'', width / 2);\n      text.setAttribute(''y'', y + segmentHeight / 2);\n      text.setAttribute(''text-anchor'', ''middle'');\n      text.setAttribute(''dominant-baseline'', ''middle'');\n      text.setAttribute(''fill'', ''#fff'');\n      text.setAttribute(''font-size'', ''14'');\n      text.setAttribute(''font-weight'', ''bold'');\n      text.style.pointerEvents = ''none'';\n      text.textContent = `$' + '{stage.name}: $' + '{stage.value} ($' + '{stage.percentage}%)`;\n\n      svg.appendChild(text);\n    });\n\n    containerRef.current.appendChild(svg);\n  }, [data, selectedStage, onStageClick]);\n\n  return (\n    <div \n      ref={containerRef} \n      style={{ \n        width: ''100%'', \n        height: ''400px'',\n        position: ''relative''\n      }}\n    />\n  );\n};","functionalRequirements":"## Funnel Chart Component\n\n### Purpose\nRenders the interactive funnel visualization showing deal progression through pipeline stages.\n\n### Features\n- Display funnel segments for each stage\n- Show counts or values based on view mode\n- Calculate and display conversion rates\n- Animate segments on render\n- Handle click events for stage selection\n- Color-coded stages with gradients\n- Lost deals indicator\n\n### Visual Design\n- Decreasing width for funnel effect\n- Stage name and value labels\n- Conversion rate percentages\n- Hover effects with scale transform\n- CSS animations for smooth entry","dataRequirements":{"mode":"views","description":"Visualizes deal funnel data derived from Deals entity","entities":[{"name":"Deals","description":"Source data for funnel visualization","displayFields":["Stage","Amount","CloseDate"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Data is pre-aggregated by stage and passed via props for funnel visualization"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Props\n- funnelData: Array of stage data with counts, values, and conversion rates\n- closedLost: Data for lost deals\n- viewMode: ''count'' or ''value'' display mode\n- onStageClick: Callback for stage selection\n\n### Rendering\n- CSS-based funnel visualization\n- Inline styles for dynamic widths\n- Animation delays for staggered effect","properties":[{"name":"funnelData","type":"Array<{name: string, count: number, value: number, conversionRate?: number, color: string}>","required":true,"description":"Array of stage data with counts, values, and conversion rates"},{"name":"closedLost","type":"{count: number, value: number}","required":true,"description":"Lost deals summary data"},{"name":"viewMode","type":"''count'' | ''value''","required":true,"description":"Display mode for funnel segments"},{"name":"onStageClick","type":"(stageName: string) => void","required":true,"description":"Callback when stage is clicked"}],"events":[],"dependencies":[],"libraries":[],"description":"Sub-component of SalesFunnelVisualization that renders the funnel visualization"}'
SET
  @FunctionalRequirements_e00050c2 = N'## Funnel Chart Component

### Purpose
Renders the interactive funnel visualization showing deal progression through pipeline stages.

### Features
- Display funnel segments for each stage
- Show counts or values based on view mode
- Calculate and display conversion rates
- Animate segments on render
- Handle click events for stage selection
- Color-coded stages with gradients
- Lost deals indicator

### Visual Design
- Decreasing width for funnel effect
- Stage name and value labels
- Conversion rate percentages
- Hover effects with scale transform
- CSS animations for smooth entry'
SET
  @TechnicalDesign_e00050c2 = N'## Implementation

### Props
- funnelData: Array of stage data with counts, values, and conversion rates
- closedLost: Data for lost deals
- viewMode: ''count'' or ''value'' display mode
- onStageClick: Callback for stage selection

### Rendering
- CSS-based funnel visualization
- Inline styles for dynamic widths
- Animation delays for staggered effect'
SET
  @FunctionalRequirementsVector_e00050c2 = N'[-0.020884178578853607,-0.04554566368460655,-0.014865854755043983,-0.08848240226507187,0.007035273592919111,0.0021900709252804518,0.008739868178963661,-0.0006317899678833783,-0.072825126349926,0.034087542444467545,-0.05922139436006546,0.02079659514129162,0.02822009287774563,0.1698857694864273,-0.017798779532313347,-0.09315168857574463,-0.04614829644560814,0.007462549023330212,0.015284975059330463,0.026086103171110153,0.02435370348393917,-0.003955251537263393,-0.032088328152894974,-0.002388744382187724,-0.00952188391238451,-0.025217359885573387,-0.013835486024618149,-0.012411478906869888,0.027783814817667007,-0.11338081955909729,0.01904875785112381,0.016177304089069366,0.01187667902559042,-0.0033162871841341257,0.000002173795110138599,-0.011859411373734474,0.002071629511192441,0.009096481837332249,-0.0938200056552887,0.005666811019182205,0.07007340341806412,-0.05847150459885597,0.022117817774415016,0.00195324863307178,0.013109550811350346,-0.01197735033929348,-0.030276356264948845,0.08198513835668564,0.022771717980504036,-0.03457477688789368,0.0024718143977224827,-0.022535966709256172,-0.009089258499443531,0.0039142463356256485,-0.00020675476116593927,0.02112324722111225,-0.01905639097094536,-0.012245694175362587,-0.002386659849435091,-0.0009412824874743819,-0.0077490112744271755,0.02533550374209881,0.02440265379846096,-0.017281970009207726,0.07986319065093994,0.019241005182266235,0.10832163691520691,-0.049761127680540085,-0.024324467405676842,0.019660424441099167,0.01837393268942833,-0.002811518032103777,-0.03089996427297592,-0.050296563655138016,0.0011069073807448149,-0.052596814930438995,-0.04976241663098335,0.012978280894458294,0.00787153746932745,-0.01795842871069908,-0.0640774741768837,0.06404919177293777,-0.05569475516676903,-0.04118356853723526,0.031184734776616096,0.022094253450632095,-0.010983085259795189,-0.015336589887738228,-0.015980256721377373,-0.002160954289138317,0.07667919993400574,0.00018805429863277823,-0.009066835045814514,-0.024760618805885315,-0.06176047772169113,-0.020114870741963387,0.043316494673490524,0.032861266285181046,0.007820848375558853,-0.017011983320116997,0.016499539837241173,0.017425429075956345,0.06944948434829712,0.0189423318952322,0.03583869710564613,0.009512991644442081,0.013616731390357018,-0.06194452568888664,-0.031928010284900665,0.04713987559080124,0.019772110506892204,0.019323645159602165,-0.04401898756623268,-0.007893892005085945,-0.04285410791635513,-0.010687282308936119,-0.06129082664847374,-0.021202685311436653,-0.013800393790006638,0.026789596304297447,0.08312571793794632,0.0023399596102535725,-0.013742388226091862,0.036164790391922,0.00046502056648023427,0.054493196308612823,-0.02731284871697426,-0.028520530089735985,-0.01356857642531395,0.03335181996226311,-0.007374336943030357,0.016311321407556534,0.00886412151157856,-0.046087395399808884,-0.023861346766352654,0.038850992918014526,-0.004630934447050095,0.007655504159629345,-0.014806185849010944,-0.010075264610350132,0.028688501566648483,0.031057020649313927,-0.036067284643650055,0.03893427550792694,0.021002147346735,-0.010037551634013653,-0.00665414659306407,0.057268720120191574,0.012809795327484608,0.025893012061715126,0.001963298534974456,0.003649565391242504,0.05421546846628189,0.001636213157325983,-0.029446955770254135,-0.030142536386847496,-0.04052881523966789,-0.025111308321356773,0.01295405998826027,0.10574893653392792,0.000008224818884627894,-0.08885619044303894,0.0476030632853508,0.028346333652734756,-0.07777062058448792,0.03897888958454132,-0.01984037458896637,-0.04405475780367851,-0.08168257027864456,-0.0016338980058208108,0.04375169053673744,-0.01261270884424448,-0.034313030540943146,-0.014157905243337154,0.034194961190223694,-0.015901587903499603,0.11082205176353455,-0.07030715048313141,0.004214352462440729,0.06201549619436264,0.0019783522002398968,-0.09788326174020767,0.028550801798701286,-0.0011142786825075746,0.03402455151081085,-0.03295726329088211,-0.07656814157962799,0.013680664822459221,-0.005818249192088842,0.014434030279517174,0.009358136914670467,0.05333287641406059,-0.056422919034957886,-0.0060293651185929775,-0.020193830132484436,-0.007076462265104055,-0.033506665378808975,-0.05255943164229393,0.034032128751277924,0.03755643963813782,0.014544248580932617,0.05139118805527687,-0.034160930663347244,-0.018640276044607162,0.008789114654064178,0.028732597827911377,0.02785785309970379,-0.048364683985710144,-0.08476939052343369,0.007396632339805365,-0.013454768806695938,-0.0012796887895092368,-0.06867425888776779,0.024611661210656166,0.01399160921573639,0.0021101192105561495,0.003164607333019376,0.006876692641526461,-0.06249479204416275,-0.02643878385424614,-0.02230062149465084,-0.027377991005778313,0.058667443692684174,0.021540196612477303,0.1098591685295105,0.06327758729457855,0.01619497872889042,-0.026258880272507668,0.05697859078645706,-0.0005499105900526047,0.006310294847935438,-0.018216408789157867,0.025129646062850952,0.015412398613989353,-0.005517273675650358,0.050691280514001846,0.05211638659238815,0.009946057572960854,-0.006995745934545994,-0.0133622782304883,-0.0015553201083093882,-0.08351010084152222,-0.04496512562036514,0.027994200587272644,0.03734970465302467,-0.04880182445049286,-0.0340689979493618,0.017155520617961884,0.0032684393227100372,-0.014327067881822586,0.025873323902487755,0.01424885168671608,0.013399508781731129,-0.017408590763807297,-0.0055102515034377575,0.005322080105543137,-0.0043677352368831635,0.015718339011073112,0.009825650602579117,0.08282223343849182,-0.011870709247887135,0.0019524820381775498,-0.042785774916410446,-0.0021960523445159197,-0.019475148990750313,-0.04848489537835121,0.03837600722908974,0.06793411076068878,-0.007243975531309843,0.02503533475100994,0.031152084469795227,0.016630984842777252,-0.02474302425980568,0.0026903816033154726,-0.021200455725193024,0.03716045990586281,-0.029564347118139267,0.02833324670791626,-0.0420631468296051,-0.026410803198814392,-0.015386916697025299,-0.03235764801502228,0.009926456026732922,0.027654297649860382,-0.0018924481701105833,0.013364607468247414,0.06257498264312744,-0.026549778878688812,-0.04279876872897148,-0.08441860973834991,0.04643906652927399,-0.028457174077630043,0.018777376040816307,-0.011057681404054165,-0.04683750495314598,0.046995434910058975,0.02078675478696823,-0.007994023151695728,-0.00535683473572135,0.020755736157298088,-0.035518109798431396,-0.019196201115846634,-0.01967601105570793,0.009573115967214108,-0.06083675101399422,0.055633142590522766,-0.011609004810452461,-0.007148046046495438,0.04093962535262108,0.045834459364414215,0.039001401513814926,-0.004833434242755175,0.003937906119972467,-0.03754296153783798,-0.01188718993216753,0.03801758959889412,-0.03185185045003891,0.028820915147662163,0.004122458398342133,0.008371188305318356,0.016453729942440987,-0.02711624465882778,-0.012433863244950771,-0.03875343129038811,-0.04536648839712143,0.0091923912987113,-0.0321006141602993,-0.019974052906036377,-0.07558875530958176,0.0005208862130530179,-0.02236342802643776,-0.02181454934179783,-0.038937974721193314,0.025218889117240906,0.07791672646999359,-0.01941123604774475,-0.0156671404838562,0.02208438701927662,0.020320262759923935,-0.02246207371354103,-0.005964165553450584,0.0017985071754083037,-0.07202688604593277,-0.0429932102560997,0.04793405905365944,-0.016596803441643715,0.08385847508907318,-0.00436380784958601,-0.13808764517307281,0.016479192301630974,0.039139524102211,0.03579539805650711,-0.002511349506676197,-0.02266862243413925,0.023441394791007042,0.0230584517121315,-0.031276460736989975,-0.012683596462011337,0.021353978663682938,-0.08283919841051102,0.026042744517326355,0.047326039522886276,0.0010941695654764771,0.012770957313477993,-0.013104118406772614,-0.012754800729453564,0.0351015143096447,0.007084973156452179,0.0758514478802681,-0.0078097013756632805,0.03270355984568596,0.03981366753578186,0.043122515082359314,0.01674874871969223,-0.018453428521752357,-0.07776331156492233,0.04295527562499046,0.019067861139774323,0.0501500628888607,0.012351847253739834,0.02359929494559765,-0.012699214741587639,0.08451078832149506,-0.012566841207444668,0.06447767466306686,-0.006115493830293417,0.03408956900238991,-0.008625032380223274,-0.026798611506819725,0.03444630280137062,0.009913774207234383,-0.0000315463803417515,0.006851015146821737,-0.032078664749860764,-0.004701144993305206,0.045833054929971695,0.04334401711821556,0.029312726110219955,0.002799626439809799,0.0009445621399208903,0.011676235124468803,-0.017583340406417847,-0.017839500680565834,-0.01957531087100506,0.06603090465068817,0.004383182153105736,-0.07435646653175354,0.02129826508462429,-0.008709297515451908,-0.02488499879837036,-0.03853003680706024,-0.07863733172416687,0.005525003653019667,-0.003934497479349375,0.018077818676829338,0.026060469448566437,0.00010563881369307637,-0.02184625342488289,0.04159846901893616,0.009216181002557278,-0.015383430756628513,0.03954694792628288,0.0034348045010119677,-0.009763904847204685,-0.017557118088006973,-0.045127544552087784,0.030912578105926514,-0.08120274543762207,-0.008044665679335594,0.007732882630079985,-0.011733924970030785,0.053281720727682114,-0.031031478196382523,0.036995191127061844,-0.019438356161117554,-0.024948520585894585,0.021895648911595345,0.04357647895812988,-0.0543852224946022,0.006791652645915747,0.05536442622542381,-0.007742897141724825,0.053335174918174744,-0.018500829115509987,0.0034497100859880447,-0.03143676742911339,0.0002932249044533819,0.06959694623947144,0.05610407516360283,-0.03300081193447113,0.025939732789993286,-0.0661783292889595,0.032296787947416306,-0.040980931371450424,-0.04148871451616287,-0.046190280467271805,-0.021924583241343498,-0.09130614995956421,0.01695062592625618,-0.023735374212265015,0.021014058962464333,0.009224633686244488,-0.015267875045537949,0.0011836689664050937,0.0129170510917902,-0.053957171738147736,-0.053881168365478516,-0.0056190211325883865,-0.01334297563880682,-0.040359362959861755,0.060002297163009644,-0.010700030252337456,-0.05865083634853363,0.038940735161304474,0.050140175968408585,0.031123116612434387,-0.007796755991876125,0.01888299360871315,0.056350987404584885,-0.00011035550414817408,-0.029520096257328987,0.01626775600016117,-0.003999222535640001,-0.06689810007810593,0.011025018990039825,0.0433201901614666,0.018821541219949722,-0.026985906064510345,-0.004186531994491816,-0.014960103668272495,0.01164198201149702,-0.026625173166394234,-0.009108765050768852,-0.015610677190124989,0.012314814142882824,-0.006500537041574717,-0.045976415276527405,0.021305657923221588,0.03719862177968025,0.003460388630628586,-0.016028115525841713,-0.03375232592225075,0.03248351812362671,-0.06480071693658829,-0.0485091395676136,0.02196839638054371,0.029790349304676056,0.032868169248104095,-0.022616857662796974,0.001654361025430262,0.028126094490289688,0.015311822295188904,0.02871229499578476,0.03488107770681381,0.04284779354929924,-0.03542110696434975,-0.019176939502358437,0.054026857018470764,0.01751556806266308,-0.007263475097715855,0.024211563169956207,0.0041097113862633705,-0.03942430391907692,-0.043065767735242844,0.02723686210811138,-0.03300074487924576,0.02331388182938099,-0.019137607887387276,-0.010823631659150124,0.010141915641725063,0.006417427211999893,-0.006763248238712549,-0.04805263504385948,0.00048437793157063425,0.0006201330688782036,0.03401198238134384,-0.031052468344569206,0.06558743864297867,0.037460725754499435,0.0008628118084743619,-0.03892296180129051,0.011443955823779106,-0.016313942149281502,-0.04051172733306885,0.01944725587964058,0.012905989773571491,0.015212762169539928,-0.05001882091164589,-0.024035844951868057,-0.009228141978383064,0.023983219638466835,-0.06283508241176605,0.07611259073019028,0.019059037789702415,-0.06139267981052399,-6.768609613365998e-33,-0.005919241812080145,-0.02142324484884739,-0.03617483749985695,-0.005593320820480585,-0.04914528876543045,-0.02037481591105461,0.016291458159685135,-0.03498569503426552,0.021712690591812134,0.011133291758596897,-0.015751702710986137,-0.04371689260005951,0.016620175912976265,0.028142867609858513,0.021407682448625565,0.0250602588057518,0.049659136682748795,0.007498277351260185,-0.015346686355769634,0.021745137870311737,-0.03497953712940216,0.034453731030225754,0.009575826115906239,-0.03377649188041687,-0.023251187056303024,0.03517872095108032,-0.022803282365202904,0.022331876680254936,0.008131268434226513,0.01135995052754879,0.011194136925041676,0.0037505398504436016,-0.01939084380865097,-0.04054229333996773,-0.005969162564724684,-0.0011595665710046887,0.008598404936492443,-0.03747986629605293,-0.00825559627264738,0.026357531547546387,0.025593793019652367,0.025664007291197777,0.03565157204866409,-0.01596268080174923,0.011890366673469543,0.00862952135503292,0.011474992148578167,-0.005036435555666685,-0.0006006054463796318,-0.023202303797006607,-0.012892310507595539,0.021097349002957344,-0.000665804254822433,0.028990168124437332,0.035701315850019455,0.08631990849971771,0.07800229638814926,-0.013378068804740906,-0.06551868468523026,0.03464290127158165,-0.07305017858743668,-0.056614067405462265,0.0004790786188095808,0.05900713428854942,0.023340219631791115,0.04017866030335426,-0.007808852009475231,-0.0056535848416388035,-0.015984997153282166,0.05023249611258507,-0.007758797146379948,-0.02923118881881237,0.015521159395575523,-0.08935461938381195,-0.010696202516555786,0.020127994939684868,0.04959907755255699,0.012055473402142525,-0.013419550843536854,0.05448005720973015,-0.014950818382203579,0.010802126489579678,0.0023461172822862864,0.003982049413025379,-0.028024176135659218,-0.0245086457580328,0.0059852260164916515,-0.001089777098968625,0.016932537779211998,0.009749439544975758,0.015156671404838562,0.01880207099020481,-0.0346350260078907,0.06383712589740753,-0.06843916326761246,-0.014677523635327816,0.05478864908218384,0.04970372095704079,-0.0160120390355587,-0.05846747010946274,-0.0018767694709822536,-0.008387389592826366,-0.006521679926663637,-0.06563536077737808,0.008245515637099743,-0.0020001984667032957,0.010793626308441162,-0.031926531344652176,-0.049167703837156296,0.0012063542380928993,0.01699715107679367,0.020185772329568863,-0.008952531032264233,-0.024410827085375786,0.0015020502032712102,-0.023743245750665665,-0.031866125762462616,-0.003979504108428955,-0.0034056047443300486,0.001237400807440281,0.018795883283019066,0.023547351360321045,-0.027543028816580772,0.025928152725100517,-0.007135374471545219,0.0035909751895815134,-0.004469990264624357,-0.024288944900035858,0.015008363872766495,-0.05398622900247574,0.014391042292118073,-0.0019521515350788832,3.107083443865122e-7,0.007108638063073158,0.05133036896586418,-0.014478224329650402,0.03190268576145172,0.015508368611335754,-0.0007755397818982601,-0.037234243005514145,-0.02363530918955803,0.016588328406214714,-0.025876186788082123,-0.0011702417396008968,-0.013382754288613796,-0.006682844366878271,0.06746241450309753,0.010524631477892399,-0.08338107913732529,0.019514331594109535,-0.03630254790186882,-0.04203289374709129,0.014280231669545174,0.025340819731354713,0.04962718114256859,0.08137505501508713,-0.0003187797556165606,-0.009780146181583405,0.08746922761201859,-0.024111662060022354,0.00014150113565847278,0.02565142512321472,-0.010569751262664795,-0.04353738948702812,-0.011038731783628464,-0.015183198265731335,0.03317165747284889,-0.004363072104752064,0.015771090984344482,-0.0035525495186448097,-0.05951834097504616,0.02267843298614025,0.04057401791214943,0.0008693024865351617,0.010055635124444962,-0.017107060179114342,-0.04248650372028351,0.00470215966925025,-0.06951692700386047,-0.017331581562757492,0.012087917886674404,-0.01997196674346924,0.009657210670411587,-0.016120407730340958,0.026681657880544662,-0.0371759869158268,-0.0017869221046566963,0.040754396468400955,0.014195216819643974,0.01033785194158554,0.01716754026710987,0.02620595507323742,0.009156516753137112,-0.015029472298920155,-0.014111646451056004,0.023699425160884857,0.06634612381458282,-0.022723430767655373,0.04493096098303795,0.007141821086406708,3.7900203911378248e-34,0.045932382345199585,-0.025854911655187607,0.0476321280002594,-0.008056370541453362,0.040686555206775665,-0.03917115926742554,0.113116554915905,-0.00850093923509121,0.024255190044641495,-0.07351713627576828,-0.008063499815762043]'
SET
  @TechnicalDesignVector_e00050c2 = N'[-0.018275558948516846,0.008699010126292706,-0.03553782403469086,-0.06319372355937958,0.0004723244346678257,-0.04001975432038307,0.017999816685914993,0.010444478131830692,-0.09727055579423904,0.0122017627581954,-0.038567349314689636,-0.015156594105064869,0.022499043494462967,0.1988368183374405,0.01390178594738245,-0.07798773795366287,-0.05607505142688751,0.01775524765253067,-0.012342534027993679,0.01506788283586502,0.025397945195436478,-0.00617997907102108,-0.028157062828540802,0.004905418027192354,0.02790421061217785,-0.05129213258624077,-0.06441298127174377,-0.004934542812407017,0.0345304012298584,-0.08550778031349182,-0.009111936204135418,0.05088448151946068,-0.005632579792290926,0.014957239851355553,0.0000020494144337135367,-0.00783787202090025,-0.008877590298652649,0.0062256669625639915,-0.061745695769786835,0.0299496091902256,0.06320787966251373,-0.0034431263338774443,0.015868330374360085,0.024057060480117798,0.026933960616588593,-0.0512690506875515,-0.07136336714029312,0.023242374882102013,0.015224880538880825,-0.023237934336066246,0.008143896237015724,-0.025770029053092003,-0.0022039562463760376,0.020689908415079117,-0.013661199249327183,0.07998421788215637,-0.011274637654423714,-0.06255818903446198,0.028782444074749947,-0.016811231151223183,0.001223045983351767,0.004285541828721762,0.017288079485297203,-0.029295584186911583,0.036301080137491226,-0.0006720586097799242,0.03624793142080307,-0.04881192743778229,-0.04483610391616821,0.01936037465929985,0.09555435925722122,-0.01343547087162733,-0.02055390737950802,-0.02885638363659382,0.006186054088175297,-0.049041811376810074,-0.054867684841156006,-0.0046557351015508175,0.024986740201711655,0.000603813910856843,-0.11863674223423004,0.06077166646718979,-0.0551258809864521,-0.02457081899046898,0.05471071973443031,-0.0026957858353853226,-0.004658782389014959,-0.015933692455291748,-0.03845059126615524,0.015288793481886387,0.044151417911052704,-0.024500522762537003,0.018973510712385178,-0.029704438522458076,-0.03731994703412056,-0.009358095936477184,0.05883386731147766,-0.03986930474638939,0.017474621534347534,-0.06065116450190544,0.0514613538980484,0.018132034689188004,0.018845435231924057,0.0132224690169096,0.060768984258174896,0.02391909435391426,0.011813471093773842,-0.02610812708735466,-0.019012145698070526,0.08167171478271484,0.01116938702762127,0.02677953988313675,-0.012790520675480366,0.005818286910653114,-0.0383317731320858,0.024590248242020607,-0.05444246903061867,-0.005721894558519125,0.004332371987402439,0.013422159478068352,0.05662010610103607,-0.021597450599074364,-0.015064203180372715,0.03787575662136078,0.023952551186084747,0.0666951984167099,-0.02950340136885643,-0.03546993434429169,-0.008379403501749039,-0.0008533114450983703,-0.0026297150179743767,0.006134905386716127,0.03673823922872543,-0.008305090479552746,-0.019860535860061646,0.03284965455532074,-0.010169481858611107,0.00901368074119091,-0.006626808550208807,-0.017446232959628105,-0.008033603429794312,0.02717377059161663,-0.052632614970207214,0.036448001861572266,0.019578073173761368,0.010690986178815365,-0.0040821791626513,0.04657330736517906,-0.016734670847654343,0.04254329577088356,0.019278384745121002,-0.016357572749257088,0.05072501674294472,0.022665362805128098,-0.06627470254898071,0.005545326042920351,-0.04997944086790085,0.0077598560601472855,0.03225317224860191,0.07593975961208344,0.013469874858856201,-0.04232989624142647,0.044493477791547775,0.025097982957959175,-0.03442298620939255,0.06489259749650955,-0.12275516241788864,-0.024366682395339012,-0.027463095262646675,-0.003509245812892914,0.01664114184677601,-0.02229667641222477,-0.04215121269226074,0.02945391647517681,0.03917543217539787,-0.052354902029037476,0.09285868704319,-0.044849004596471786,-0.0029286693315953016,0.024297617375850677,0.01719527319073677,-0.09613978862762451,0.01587607152760029,-0.025344835594296455,0.027978895232081413,-0.016302524134516716,-0.02469300851225853,0.008926810696721077,-0.00034469194361008704,0.032407246530056,0.002808353863656521,0.03674127161502838,-0.04920151084661484,0.0036410957109183073,-0.02823258750140667,-0.017019595950841904,-0.02924727089703083,-0.08036654442548752,0.044712673872709274,0.018590757623314857,0.014489359222352505,0.04823930189013481,-0.03131868690252304,0.00018197698227595538,0.02480459026992321,0.018819650635123253,-0.008428272791206837,-0.03628092259168625,-0.06770357489585876,-0.0000053132648645259906,0.005462597124278545,0.007138533517718315,-0.04335325211286545,0.03660145401954651,0.014890886843204498,-0.0013025829102844,-0.005375226028263569,0.0027372175827622414,-0.0616312213242054,-0.003058646572753787,-0.04953927919268608,-0.021116234362125397,0.06057865172624588,0.0025655822828412056,0.09398426860570908,0.04788168519735336,-0.0134721789509058,-0.04292920231819153,0.074143186211586,0.02402953989803791,0.01079961471259594,-0.030399439856410027,0.03793729469180107,0.038134317845106125,0.016350124031305313,0.055091492831707,0.0510074608027935,0.0004562005924526602,-0.004205011762678623,0.04500919580459595,-0.018314270302653313,-0.06010730564594269,-0.0446346215903759,0.021371034905314445,0.04437212273478508,-0.022370414808392525,-0.039978645741939545,0.01941453292965889,0.0031252484768629074,-0.009695987217128277,0.0049398187547922134,0.046690683811903,0.036464229226112366,-0.00669159647077322,0.0009693839238025248,-0.0429498590528965,-0.028120141476392746,-0.010080959647893906,-0.008305114693939686,0.07804284244775772,-0.018789727240800858,-0.008108684793114662,-0.0344151146709919,0.0016583420801907778,0.00036165982601232827,-0.03974652662873268,0.06554252654314041,0.02356860227882862,0.009427119977772236,0.03157715126872063,0.008287597447633743,0.009757702238857746,-0.0092003820464015,-0.03244323283433914,0.018590381368994713,0.0190623477101326,-0.013428235426545143,0.022945592179894447,-0.02330559678375721,-0.040496837347745895,-0.01036742702126503,-0.06310229748487473,0.002530308673158288,0.02446841076016426,-0.019880961626768112,0.02000616118311882,0.03480355814099312,-0.011592385359108448,-0.01544674951583147,-0.1304854154586792,0.01620461605489254,-0.0021982239559292793,0.013758093118667603,-0.03580469638109207,-0.0656987726688385,0.01356237567961216,-0.013306709937751293,-0.033584192395210266,-0.02106117457151413,0.029118558391928673,-0.018830662593245506,-0.001705314265564084,-0.00576429907232523,0.027321994304656982,-0.05823236331343651,0.040434326976537704,-0.029432523995637894,-0.002596951788291335,0.03206442669034004,0.0442313589155674,0.06364528089761734,0.004438148811459541,0.007563823834061623,-0.032965850085020065,0.009513572789728642,0.017072226852178574,0.005249079316854477,0.019303010776638985,-0.006751066539436579,0.014183628372848034,0.018751468509435654,-0.002618589671328664,-0.0030149866361171007,-0.0398600772023201,-0.05655454099178314,-0.002244140487164259,0.005995884537696838,-0.039053723216056824,-0.04214789345860481,0.010670398361980915,0.01599891483783722,-0.012148321606218815,-0.010723290033638477,0.030626527965068817,0.07107750326395035,-0.005933284293860197,-0.028482766821980476,-0.007603410631418228,0.02583419531583786,-0.03602198511362076,0.009318357333540916,-0.00896275695413351,-0.040449533611536026,-0.05442557483911514,0.01994696632027626,-0.04287933558225632,0.020592806860804558,0.030854325741529465,-0.172217458486557,0.0008586446056142449,0.039391808211803436,0.05785880610346794,0.0061757927760481834,-0.02367374673485756,0.012784316204488277,0.018681352958083153,-0.0342266671359539,0.019750935956835747,-0.01529570110142231,-0.08811774104833603,0.046286534518003464,0.05365601181983948,0.04829271137714386,0.040859416127204895,-0.016522247344255447,0.020435793325304985,0.04335169121623039,0.0056087179109454155,0.04647151008248329,0.008206658065319061,0.04710265249013901,0.03640159219503403,0.04357859119772911,0.030390646308660507,-0.011609774082899094,-0.053821854293346405,0.04514225944876671,0.03393350541591644,0.050315745174884796,0.00146999373100698,0.033449381589889526,-0.006933170836418867,0.052018940448760986,0.0020694562699645758,0.08134587854146957,-0.019617503508925438,0.044261444360017776,-0.013344029895961285,-0.03896007314324379,0.04884154722094536,0.0046988194808363914,0.007254344876855612,0.014710702002048492,-0.06312856078147888,0.006904639303684235,0.037672873586416245,0.032462622970342636,0.027655936777591705,0.021064557135105133,0.01808927208185196,0.005257289391011,0.040948741137981415,-0.010551707819104195,-0.029532408341765404,0.05241246894001961,0.013054156675934792,-0.06827946752309799,0.02588251419365406,0.007990679703652859,-0.010301160626113415,-0.0531594417989254,-0.03984014317393303,0.0010257642716169357,-0.01028039213269949,-0.006958768703043461,0.03126964345574379,0.0025519123300909996,-0.03757621720433235,0.040852535516023636,0.0019225673750042915,-0.004331354517489672,0.015581589192152023,0.007385551929473877,0.022369008511304855,-0.007865560241043568,-0.034646134823560715,0.05071769654750824,-0.06490586698055267,-0.006919506471604109,-0.00026952833286486566,-0.010334465652704239,0.05765550583600998,-0.028045348823070526,0.02960417978465557,-0.03556893393397331,-0.019616136327385902,-0.0017154563684016466,0.03243177384138107,-0.0018786038272082806,-0.003325445344671607,0.06167454272508621,-0.008376996032893658,0.05741315707564354,-0.005119758192449808,-0.00016871964908204973,-0.03956955298781395,0.0030400122050195932,0.05527811497449875,0.03658269718289375,-0.026528924703598022,0.005929551087319851,-0.06989888846874237,0.01159668155014515,-0.030707132071256638,-0.04829439893364906,-0.04784930497407913,0.02626129612326622,-0.03332504630088806,-0.02031792141497135,-0.00799194909632206,0.0074818870052695274,0.027888568118214607,-0.014958915300667286,-0.007217596750706434,0.022830668836832047,-0.04894161969423294,-0.05201103538274765,-0.010298004373908043,-0.004294651094824076,-0.033191513270139694,0.05957520380616188,-0.0014821136137470603,-0.03390179201960564,0.02277013100683689,0.05026444420218468,0.04067966341972351,0.01789671741425991,0.021963858976960182,0.045623548328876495,-0.006330631207674742,-0.02240135706961155,0.0662124902009964,-0.011166783981025219,-0.07769989222288132,0.02589087001979351,0.01815538853406906,-0.009937228634953499,-0.013255449011921883,-0.02611360140144825,-0.03680380806326866,0.014232958666980267,-0.017004895955324173,-0.016864817589521408,0.019746093079447746,0.004249196033924818,-0.014137299731373787,-0.042049430310726166,0.02832653932273388,0.05095575749874115,-0.028519919142127037,-0.013637823052704334,-0.03407825902104378,0.0311801265925169,-0.06188133731484413,-0.030708830803632736,0.010935709811747074,0.016060225665569305,0.02748625911772251,-0.005387437995523214,-0.022266218438744545,0.01781599223613739,0.005598412360996008,0.023704225197434425,0.009483566507697105,0.029178274795413017,0.021890494972467422,-0.0693809762597084,0.05114154517650604,0.022860663011670113,-0.005867606028914452,0.008236786350607872,-0.0009527381625957787,-0.025282058864831924,-0.04787490889430046,0.05993807315826416,-0.052554868161678314,0.0206504724919796,0.009715569205582142,-0.006727405358105898,0.02342590130865574,0.03007275052368641,-0.02422984316945076,-0.03470630198717117,0.003081901930272579,0.010384401306509972,0.06087970361113548,-0.03464139997959137,0.060998205095529556,0.023743314668536186,-0.0044139353558421135,-0.04534124583005905,-0.0004487595579121262,0.012380387634038925,-0.03824178874492645,0.024966392666101456,-0.01433131005614996,0.011735264211893082,-0.08595331758260727,-0.012041616253554821,0.02444969303905964,0.020430173724889755,-0.025359025225043297,0.037718549370765686,0.0018971629906445742,0.001529052504338324,-6.966626044865828e-33,-0.01060160156339407,0.004176981747150421,-0.029911847785115242,-0.027772612869739532,-0.07409074902534485,-0.026367926970124245,-0.012800684198737144,-0.04016713425517082,0.02064896561205387,-0.018553433939814568,-0.009200444445014,-0.06235891953110695,0.00880896020680666,0.0356905423104763,0.01431389432400465,-0.0008018023800104856,0.040169112384319305,0.011685381643474102,-0.040867190808057785,0.021819956600666046,-0.016894005239009857,0.04513406753540039,0.0029931399039924145,-0.008824480697512627,-0.03681429848074913,0.031166691333055496,-0.021220048889517784,0.03188389912247658,-0.012385539710521698,-0.0029201526194810867,-0.003235244657844305,0.01405358873307705,-0.03572782501578331,-0.07235130667686462,-0.002761614276096225,0.017957234755158424,0.004624043125659227,-0.039102859795093536,0.015584190376102924,0.02559853158891201,0.014999856241047382,0.056286025792360306,0.02715269848704338,-0.029956959187984467,0.038206055760383606,-0.0020915488712489605,-0.0043874019756913185,-0.007049607113003731,0.0046597495675086975,0.02126661129295826,0.018308494240045547,0.03589243069291115,-0.03317417576909065,0.02194809727370739,0.01871369779109955,0.05704391747713089,0.07506173104047775,0.002031835727393627,-0.06231703609228134,0.018494175747036934,-0.08294349908828735,-0.04967807978391647,0.016765909269452095,0.037977077066898346,0.030062422156333923,0.04520159214735031,0.007099411450326443,0.0009018651326186955,-0.041339751332998276,0.012569701299071312,-0.007800387218594551,-0.03905053809285164,0.02851719781756401,-0.06561338901519775,-0.020448967814445496,0.03733333200216293,0.03288824111223221,0.004678461235016584,0.009852265939116478,-0.005579187069088221,-0.01845559850335121,0.04617157205939293,-0.019066525623202324,0.014243665151298046,-0.022834017872810364,-0.06103949621319771,0.01437576487660408,0.015630196779966354,0.0014907827135175467,0.021247485652565956,-0.023698948323726654,0.0028410025406628847,-0.041130468249320984,0.08869311213493347,-0.08556519448757172,-0.02904372848570347,0.06418804079294205,0.08034227788448334,-0.019487222656607628,-0.04239514470100403,0.04615016281604767,-0.014108123257756233,-0.020568430423736572,-0.027262220159173012,-0.011775103397667408,0.0015336039941757917,0.006633810233324766,0.005750591866672039,-0.019220853224396706,0.00973342452198267,0.04151376709342003,0.029809003695845604,-0.00568835623562336,-0.05339161306619644,0.03616373986005783,-0.01275301817804575,0.0024368013255298138,-0.040462180972099304,0.02678726799786091,0.024326112121343613,0.008055874146521091,0.012260416522622108,-0.02041918784379959,-0.009593955241143703,-0.00007411919796140864,-0.01446833461523056,-0.018579687923192978,-0.05151784047484398,-0.011168303899466991,-0.08623841404914856,0.007968402467668056,-0.04313782602548599,3.048710937036958e-7,0.009496576152741909,0.03291536495089531,-0.0347554087638855,0.018979884684085846,0.028771571815013885,0.001537384930998087,-0.029270948842167854,-0.010748377069830894,0.0325922816991806,-0.049013473093509674,0.010121949017047882,0.0023143200669437647,-0.0009283345425501466,0.0543719083070755,-0.023478206247091293,-0.04335380718111992,-0.017026163637638092,-0.024634722620248795,-0.04063069820404053,0.014039106667041779,-0.017417218536138535,0.04928147792816162,0.0972704216837883,0.0005954652442596853,-0.008303536102175713,0.055602844804525375,-0.010387490503489971,-0.005406729411333799,0.04160565510392189,0.0045037297531962395,-0.00892966240644455,-0.042648859322071075,-0.027723582461476326,0.00896200817078352,-0.038520947098731995,0.03360191360116005,-0.007044584956020117,-0.045458413660526276,0.044472601264715195,0.04531576856970787,0.018003705888986588,-0.026030678302049637,-0.006636408623307943,-0.04566315934062004,0.010243387892842293,-0.02075561136007309,-0.046617090702056885,0.04172182083129883,-0.016490040346980095,0.009978714399039745,-0.026222974061965942,0.013149422593414783,-0.034422580152750015,-0.011343634687364101,0.028546195477247238,-0.011792425997555256,-0.00024230418785009533,0.03266485407948494,0.026390010491013527,0.01625422202050686,-0.026530440896749496,-0.0035804654471576214,-0.008059723302721977,0.05314315855503082,0.003981480840593576,-0.012062846682965755,0.008749278262257576,3.6277778343178672e-34,0.05222104489803314,-0.0287676602602005,0.02313390001654625,-0.04133361577987671,0.019804565235972404,-0.042540550231933594,0.12411724030971527,-0.029675615951418877,0.03717102110385895,-0.05603766813874245,-0.031117310747504234]'
SET
  @HasCustomProps_e00050c2 = 1
SET
  @HasCustomEvents_e00050c2 = 0
SET
  @RequiresData_e00050c2 = 1
SET
  @DependencyCount_e00050c2 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_e00050c2 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_e00050c2 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_e00050c2 = 1
SET
  @ID_e00050c2 = '1ED87375-C64F-490B-A2F4-9AD267E9429B'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_e00050c2,
  @Name = @Name_e00050c2,
  @Version = @Version_e00050c2,
  @VersionSequence = @VersionSequence_e00050c2,
  @Title = @Title_e00050c2,
  @Description = @Description_e00050c2,
  @Type = @Type_e00050c2,
  @Status = @Status_e00050c2,
  @DeveloperName = @DeveloperName_e00050c2,
  @DeveloperEmail = @DeveloperEmail_e00050c2,
  @DeveloperOrganization = @DeveloperOrganization_e00050c2,
  @SourceRegistryID = @SourceRegistryID_e00050c2,
  @ReplicatedAt = @ReplicatedAt_e00050c2,
  @LastSyncedAt = @LastSyncedAt_e00050c2,
  @Specification = @Specification_e00050c2,
  @FunctionalRequirements = @FunctionalRequirements_e00050c2,
  @TechnicalDesign = @TechnicalDesign_e00050c2,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_e00050c2,
  @TechnicalDesignVector = @TechnicalDesignVector_e00050c2,
  @HasCustomProps = @HasCustomProps_e00050c2,
  @HasCustomEvents = @HasCustomEvents_e00050c2,
  @RequiresData = @RequiresData_e00050c2,
  @DependencyCount = @DependencyCount_e00050c2,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_e00050c2,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_e00050c2,
  @HasRequiredCustomProps = @HasRequiredCustomProps_e00050c2,
  @ID = @ID_e00050c2;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_45599631 NVARCHAR(MAX),
@Name_45599631 NVARCHAR(500),
@Version_45599631 NVARCHAR(50),
@VersionSequence_45599631 INT,
@Title_45599631 NVARCHAR(1000),
@Description_45599631 NVARCHAR(MAX),
@Type_45599631 NVARCHAR(255),
@Status_45599631 NVARCHAR(50),
@DeveloperName_45599631 NVARCHAR(255),
@DeveloperEmail_45599631 NVARCHAR(255),
@DeveloperOrganization_45599631 NVARCHAR(255),
@SourceRegistryID_45599631 UNIQUEIDENTIFIER,
@ReplicatedAt_45599631 DATETIMEOFFSET,
@LastSyncedAt_45599631 DATETIMEOFFSET,
@Specification_45599631 NVARCHAR(MAX),
@FunctionalRequirements_45599631 NVARCHAR(MAX),
@TechnicalDesign_45599631 NVARCHAR(MAX),
@FunctionalRequirementsVector_45599631 NVARCHAR(MAX),
@TechnicalDesignVector_45599631 NVARCHAR(MAX),
@HasCustomProps_45599631 BIT,
@HasCustomEvents_45599631 BIT,
@RequiresData_45599631 BIT,
@DependencyCount_45599631 INT,
@TechnicalDesignVectorEmbeddingModelID_45599631 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_45599631 NVARCHAR(MAX),
@HasRequiredCustomProps_45599631 BIT,
@ID_45599631 UNIQUEIDENTIFIER
SET
  @Namespace_45599631 = N'CRM/Analytics'
SET
  @Name_45599631 = N'StageDetailsPanel'
SET
  @Version_45599631 = N'1.0.0'
SET
  @VersionSequence_45599631 = 1
SET
  @Title_45599631 = N'Stage Details Panel'
SET
  @Description_45599631 = N'Slide-out panel showing details for a selected pipeline stage'
SET
  @Type_45599631 = N'Other'
SET
  @Status_45599631 = N'Published'
SET
  @Specification_45599631 = N'{"name":"StageDetailsPanel","namespace":"CRM/Analytics","type":"Other","location":"embedded","code":"// StageDetailsPanel Sub-component\nfunction StageDetailsPanel ({ stage, deals, isOpen, onClose, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  const [sortBy, setSortBy] = useState(''value'');\n  const [sortOrder, setSortOrder] = useState(''desc'');\n  const [filterText, setFilterText] = useState('''');\n\n  // Load SingleRecordView from component registry\n  const SingleRecordView = components?.SingleRecordView;\n\n  const sortedAndFilteredDeals = useMemo(() => {\n    if (!deals) return [];\n    \n    let filtered = deals;\n    if (filterText) {\n      filtered = deals.filter(deal => \n        deal.name?.toLowerCase().includes(filterText.toLowerCase()) ||\n        deal.accountName?.toLowerCase().includes(filterText.toLowerCase())\n      );\n    }\n\n    return [...filtered].sort((a, b) => {\n      const aVal = a[sortBy];\n      const bVal = b[sortBy];\n      const modifier = sortOrder === ''asc'' ? 1 : -1;\n      \n      if (typeof aVal === ''string'') {\n        return aVal.localeCompare(bVal) * modifier;\n      }\n      return (aVal - bVal) * modifier;\n    });\n  }, [deals, sortBy, sortOrder, filterText]);\n\n  const handleSort = (field) => {\n    if (sortBy === field) {\n      setSortOrder(sortOrder === ''asc'' ? ''desc'' : ''asc'');\n    } else {\n      setSortBy(field);\n      setSortOrder(''desc'');\n    }\n  };\n\n  const handleOpenDeal = (dealId) => {\n    if (callbacks?.OpenEntityRecord) {\n      callbacks.OpenEntityRecord(''Deals'', dealId);\n    }\n  };\n\n  return (\n    <div className={`stage-details-panel $' + '{isOpen ? ''open'' : ''''}`} style={{\n      position: ''fixed'',\n      top: 0,\n      right: isOpen ? 0 : ''-400px'',\n      width: ''400px'',\n      height: ''100%'',\n      backgroundColor: ''#fff'',\n      boxShadow: ''-2px 0 10px rgba(0,0,0,0.1)'',\n      transition: ''right 0.3s ease'',\n      zIndex: 1000,\n      display: ''flex'',\n      flexDirection: ''column'',\n      overflow: ''hidden''\n    }}>\n      <div style={{\n        padding: ''20px'',\n        borderBottom: ''1px solid #e0e0e0'',\n        backgroundColor: ''#f5f5f5''\n      }}>\n        <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n          <h3 style={{ margin: 0 }}>{stage?.name || ''Stage Details''}</h3>\n          <button \n            onClick={onClose}\n            style={{\n              background: ''none'',\n              border: ''none'',\n              fontSize: ''24px'',\n              cursor: ''pointer'',\n              padding: ''0'',\n              width: ''30px'',\n              height: ''30px''\n            }}\n          >×</button>\n        </div>\n        {stage && (\n          <div style={{ marginTop: ''10px'', fontSize: ''14px'', color: ''#666'' }}>\n            <div>{stage.count} deals</div>\n            <div>Total Value: $' + '{(stage.value || 0).toLocaleString()}</div>\n            <div>Avg Days: {stage.avgDays || 0}</div>\n          </div>\n        )}\n      </div>\n\n      <div style={{ padding: ''15px'', borderBottom: ''1px solid #e0e0e0'' }}>\n        <input\n          type=\"text\"\n          placeholder=\"Filter deals...\"\n          value={filterText}\n          onChange={(e) => setFilterText(e.target.value)}\n          style={{\n            width: ''100%'',\n            padding: ''8px'',\n            border: ''1px solid #ddd'',\n            borderRadius: ''4px''\n          }}\n        />\n      </div>\n\n      <div style={{ \n        flex: 1, \n        overflowY: ''auto'',\n        padding: ''15px''\n      }}>\n        <div style={{ marginBottom: ''10px'' }}>\n          <button \n            onClick={() => handleSort(''name'')}\n            style={{\n              marginRight: ''10px'',\n              padding: ''5px 10px'',\n              border: ''1px solid #ddd'',\n              borderRadius: ''4px'',\n              background: sortBy === ''name'' ? ''#007bff'' : ''#fff'',\n              color: sortBy === ''name'' ? ''#fff'' : ''#333'',\n              cursor: ''pointer''\n            }}\n          >\n            Name {sortBy === ''name'' && (sortOrder === ''asc'' ? ''↑'' : ''↓'')}\n          </button>\n          <button \n            onClick={() => handleSort(''value'')}\n            style={{\n              marginRight: ''10px'',\n              padding: ''5px 10px'',\n              border: ''1px solid #ddd'',\n              borderRadius: ''4px'',\n              background: sortBy === ''value'' ? ''#007bff'' : ''#fff'',\n              color: sortBy === ''value'' ? ''#fff'' : ''#333'',\n              cursor: ''pointer''\n            }}\n          >\n            Value {sortBy === ''value'' && (sortOrder === ''asc'' ? ''↑'' : ''↓'')}\n          </button>\n          <button \n            onClick={() => handleSort(''daysInStage'')}\n            style={{\n              padding: ''5px 10px'',\n              border: ''1px solid #ddd'',\n              borderRadius: ''4px'',\n              background: sortBy === ''daysInStage'' ? ''#007bff'' : ''#fff'',\n              color: sortBy === ''daysInStage'' ? ''#fff'' : ''#333'',\n              cursor: ''pointer''\n            }}\n          >\n            Days {sortBy === ''daysInStage'' && (sortOrder === ''asc'' ? ''↑'' : ''↓'')}\n          </button>\n        </div>\n\n        <div>\n          {sortedAndFilteredDeals.map((deal, index) => (\n            <div\n              key={deal.id || index}\n              style={{\n                padding: ''10px'',\n                marginBottom: ''10px'',\n                border: ''1px solid #e0e0e0'',\n                borderRadius: ''5px'',\n                backgroundColor: ''#fafafa''\n              }}\n            >\n              {/* Use SingleRecordView for consistent deal display */}\n              {SingleRecordView ? (\n                <div>\n                  <SingleRecordView\n                    entityName=\"Deals\"\n                    record={deal}\n                    fields={[\"DealName\", \"Amount\", \"Stage\", \"Account\"]}\n                    layout=\"inline\"\n                    showLabels={false}\n                    showEmptyFields={false}\n                    allowOpenRecord={true}\n                    utilities={utilities}\n                    styles={styles}\n                    components={components}\n                    callbacks={callbacks}\n                    savedUserSettings={savedUserSettings}\n                    onSaveUserSettings={onSaveUserSettings}\n                    onOpenRecord={(eventData) => {\n                      // Use our custom handler for deal opening\n                      handleOpenDeal(deal.id);\n                      eventData.cancel = true; // Prevent default behavior\n                    }}\n                  />\n                  <div style={{ marginTop: ''5px'', fontSize: ''12px'', color: ''#888'' }}>\n                    {deal.daysInStage} days in stage\n                  </div>\n                </div>\n              ) : (\n                // Fallback display if SingleRecordView is not available\n                <div>\n                  <div style={{ fontWeight: ''bold'', marginBottom: ''5px'' }}>\n                    {deal.name || deal.DealName}\n                  </div>\n                  <div style={{ fontSize: ''13px'', color: ''#666'', marginBottom: ''5px'' }}>\n                    {deal.accountName || deal.Account}\n                  </div>\n                  <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n                    <div>\n                      <span style={{ fontWeight: ''bold'' }}>$' + '{(deal.value || deal.Amount || 0).toLocaleString()}</span>\n                      <span style={{ marginLeft: ''10px'', color: ''#888'' }}>{deal.daysInStage} days</span>\n                    </div>\n                    <button\n                      onClick={() => handleOpenDeal(deal.id)}\n                      style={{\n                        padding: ''4px 8px'',\n                        fontSize: ''12px'',\n                        border: ''1px solid #007bff'',\n                        borderRadius: ''3px'',\n                        background: ''#fff'',\n                        color: ''#007bff'',\n                        cursor: ''pointer''\n                      }}\n                      title=\"Open in Explorer\"\n                    >\n                      ↗\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}","functionalRequirements":"## Stage Details Panel\n\n### Purpose\nSlide-out panel displaying deals for a selected pipeline stage with filtering and sorting, using SingleRecordView for consistent deal display.\n\n### Features\n- Slide in/out animation from right\n- Stage header with name and metrics using SingleRecordView\n- Toggle between card and list views with SingleRecordView for deal info\n- Sort deals by amount, date, or probability\n- Filter deals by name\n- Display deal cards or list items using standardized formatting\n- Close button and animation\n\n### Interactions\n- Click to open deal record\n- Sort and filter controls\n- View mode toggle\n- Smooth transitions","dataRequirements":{"mode":"views","description":"Displays deals for a selected pipeline stage","entities":[{"name":"Deals","description":"Deal entities filtered by stage","displayFields":["ID","DealName","Amount","CloseDate","Probability","Stage","Account"],"filterFields":["Stage","DealName"],"sortFields":["Amount","CloseDate","Probability"],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Displays deals for selected stage in cards or list view"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Props\n- selectedStage: Stage data object with deals\n- isPanelOpen: Boolean for visibility\n- displayMode: ''cards'' or ''list''\n- onClose: Callback to close panel\n- onDisplayModeChange: Callback for view mode\n- onOpenDeal: Callback to open deal record\n\n### State\n- sortBy: Current sort field\n- filterText: Search filter\n\n### Layout\n- Fixed position overlay\n- Transform-based animation\n- Scrollable content area","properties":[{"name":"selectedStage","type":"{name: string, deals: Array<{ID: string, DealName: string, Amount: number, CloseDate: string, Probability: number}>}","required":false,"description":"Selected stage data with deals array"},{"name":"isPanelOpen","type":"boolean","required":true,"description":"Panel visibility state"},{"name":"displayMode","type":"''cards'' | ''list''","required":true,"description":"View mode for deals display"},{"name":"onClose","type":"() => void","required":true,"description":"Callback to close panel"},{"name":"onDisplayModeChange","type":"(mode: ''cards'' | ''list'') => void","required":false,"description":"Callback when view mode changes"},{"name":"onOpenDeal","type":"(dealId: string) => void","required":false,"description":"Callback to open deal record"}],"events":[],"dependencies":[{"name":"SingleRecordView","location":"registry","namespace":"Generic/UI/Form","version":"^1.0.0"}],"libraries":[],"description":"Slide-out panel showing details for a selected pipeline stage"}'
SET
  @FunctionalRequirements_45599631 = N'## Stage Details Panel

### Purpose
Slide-out panel displaying deals for a selected pipeline stage with filtering and sorting, using SingleRecordView for consistent deal display.

### Features
- Slide in/out animation from right
- Stage header with name and metrics using SingleRecordView
- Toggle between card and list views with SingleRecordView for deal info
- Sort deals by amount, date, or probability
- Filter deals by name
- Display deal cards or list items using standardized formatting
- Close button and animation

### Interactions
- Click to open deal record
- Sort and filter controls
- View mode toggle
- Smooth transitions'
SET
  @TechnicalDesign_45599631 = N'## Implementation

### Props
- selectedStage: Stage data object with deals
- isPanelOpen: Boolean for visibility
- displayMode: ''cards'' or ''list''
- onClose: Callback to close panel
- onDisplayModeChange: Callback for view mode
- onOpenDeal: Callback to open deal record

### State
- sortBy: Current sort field
- filterText: Search filter

### Layout
- Fixed position overlay
- Transform-based animation
- Scrollable content area'
SET
  @FunctionalRequirementsVector_45599631 = N'[-0.005297153722494841,-0.005085117649286985,-0.009976825676858425,-0.03948461264371872,0.003069479949772358,-0.011431235820055008,0.0648949146270752,0.03918090835213661,-0.03319237381219864,-0.0011104288278147578,-0.03450758382678032,0.020694835111498833,0.029557617381215096,0.18924808502197266,-0.016227593645453453,-0.09569618105888367,-0.005368711426854134,-0.011067443527281284,0.04162168130278587,0.03412729501724243,0.01830403506755829,-0.013464809395372868,-0.035243913531303406,0.00046361732529476285,-0.02682994119822979,-0.035802777856588364,-0.04015351086854935,0.008814792148768902,0.016961639747023582,-0.09578710049390793,-0.009245673194527626,0.0479460209608078,-0.036914847791194916,-0.017457766458392143,0.0000025703086521389196,-0.04189306125044823,0.0044515361078083515,0.008600052446126938,-0.04837023466825485,0.04118989408016205,0.02203662320971489,-0.00726754916831851,0.03630686178803444,0.0026145046576857567,0.00042679088073782623,-0.08865359425544739,-0.023836852982640266,0.09478229284286499,0.024696771055459976,-0.016001839190721512,0.00772446021437645,-0.010075045749545097,-0.00672091543674469,-0.021562820300459862,-0.009930172935128212,-0.00009152809798251837,0.014532762579619884,-0.07032398879528046,0.060033347457647324,-0.022166814655065536,-0.014876588247716427,-0.020284729078412056,0.02294084243476391,-0.0543067492544651,0.02667684480547905,0.014556195586919785,0.07057052105665207,-0.07101190835237503,0.007963729090988636,0.030148006975650787,0.06673489511013031,0.00470982538536191,-0.033542826771736145,-0.09112219512462616,0.0013929447159171104,-0.04652727022767067,-0.023308267816901207,0.02647077850997448,0.00714862672612071,-0.02857632003724575,-0.0850214809179306,0.02861839532852173,-0.01516470406204462,-0.027579888701438904,-0.031718067824840546,0.007746758405119181,0.010689141228795052,-0.00864708423614502,-0.03466993197798729,-0.02368406392633915,0.04635128378868103,-0.03259095177054405,-0.019887179136276245,-0.007647631224244833,-0.0779016837477684,-0.024305662140250206,0.047387126833200455,0.03551274538040161,-0.016426052898168564,0.017212145030498505,-0.051045309752225876,0.02542031742632389,0.037240900099277496,0.018586747348308563,0.06000623106956482,0.022739479318261147,-0.023352911695837975,-0.007814965210855007,-0.06252963095903397,0.07510815560817719,0.01307252049446106,0.02017272263765335,-0.037052564322948456,0.03914671763777733,-0.08452314883470535,-0.030882762745022774,-0.056646864861249924,-0.029038600623607635,-0.009753184393048286,0.026188990101218224,0.14199034869670868,0.004294938873499632,0.029328638687729836,0.041801441460847855,0.0277563463896513,0.03178124502301216,-0.03988457843661308,-0.047007810324430466,0.017539026215672493,0.023771435022354126,-0.05064884573221207,0.005137302912771702,0.011752038262784481,-0.02881558984518051,-0.03872488811612129,-0.012575584463775158,-0.006484262179583311,0.027985690161585808,-0.02150076813995838,-0.005883949343115091,0.01615641638636589,-0.0028561647050082684,-0.03153752535581589,0.0690489411354065,0.003803066909313202,0.0173031073063612,-0.000747815181966871,0.03698650747537613,0.0285778995603323,0.009203680790960789,-0.015366639010608196,-0.022793656215071678,0.020226698368787766,0.02899777889251709,-0.04074391722679138,0.027107272297143936,-0.03309909999370575,-0.022828316316008568,0.02720179595053196,-0.0046100071631371975,-0.006772664375603199,-0.04028325900435448,0.07926684617996216,0.0351097472012043,-0.06013989821076393,0.005258127115666866,-0.03195156902074814,-0.017563406378030777,0.004589629825204611,-0.05084344372153282,0.021146273240447044,-0.06053413823246956,-0.04263504222035408,0.030489441007375717,0.02003428339958191,-0.040746815502643585,0.10704319924116135,-0.023633595556020737,-0.021579237654805183,0.031695909798145294,-0.006970969960093498,-0.07505296170711517,0.001414978294633329,0.032686054706573486,0.03543153777718544,-0.015621569938957691,-0.06684994697570801,0.020254015922546387,-0.01955450139939785,0.023429999127984047,-0.001011794782243669,0.023548809811472893,-0.07194734364748001,0.006199053954333067,-0.03317355364561081,0.03103300929069519,-0.04383636265993118,0.02419215813279152,0.06381867080926895,0.04268898442387581,-0.03200504556298256,-0.020265623927116394,-0.04213271290063858,0.032827019691467285,0.019084056839346886,0.008049209602177143,-0.00015765754505991936,-0.03371540457010269,-0.09212838858366013,0.03019070439040661,0.04992745444178581,-0.0004414617724251002,-0.042428892105817795,0.027388740330934525,-0.019921867176890373,-0.0062824697233736515,0.011968505568802357,0.035850442945957184,-0.0492076613008976,-0.01862523891031742,-0.047223590314388275,0.04905053973197937,0.06628052145242691,0.009579791687428951,0.030786754563450813,0.009536773897707462,0.03008006513118744,-0.012628011405467987,0.030914412811398506,-0.008173421956598759,-0.015628954395651817,-0.026935338973999023,0.05050278455018997,0.04940246045589447,0.050429780036211014,0.11040262132883072,0.006985380779951811,0.05639452487230301,-0.02593856491148472,0.06477528065443039,-0.012643654830753803,-0.07817938923835754,-0.028595061972737312,0.017582697793841362,0.006160142831504345,0.005622755736112595,-0.03935467451810837,0.030398104339838028,0.04151204228401184,0.0010460540652275085,0.009826169349253178,0.03490883857011795,0.06594263762235641,-0.022807786241173744,0.012324844487011433,0.02547677420079708,-0.07218466699123383,-0.004136489704251289,-0.041884537786245346,0.05848237872123718,0.03550674766302109,-0.04576693847775459,-0.08123090118169785,-0.046510301530361176,0.039193205535411835,-0.01156344823539257,0.03598226234316826,0.005536305718123913,-0.026498781517148018,0.019279129803180695,-0.0002395653718849644,0.012444619089365005,0.009788939729332924,-0.02398279495537281,-0.02057778276503086,0.0582563616335392,-0.021716665476560593,0.033898063004016876,-0.02980213053524494,-0.032223936170339584,0.021016571670770645,-0.06413126736879349,-0.00044816883746534586,0.04284794256091118,0.0074561662040650845,0.038758378475904465,0.0394657738506794,-0.0948764905333519,-0.05014851689338684,-0.08056517690420151,0.05969572812318802,-0.022795118391513824,0.024047760292887688,-0.005182494875043631,-0.03665280342102051,0.035011500120162964,-0.09335514903068542,0.03905339539051056,-0.03602580353617668,0.05209384858608246,-0.025389041751623154,-0.00530659593641758,-0.0175013467669487,0.02736293524503708,-0.00009971236431738362,0.02394065260887146,-0.0034487389493733644,0.035212643444538116,-0.0020540126133710146,0.08323154598474503,0.025549959391355515,0.028656678274273872,0.034407440572977066,-0.042129114270210266,0.00031561090145260096,-0.0015389051986858249,0.04619690775871277,-0.004860525950789452,-0.015466151759028435,0.04557707905769348,-0.00026976922526955605,0.00033025600714609027,0.0039773560129106045,-0.014635196886956692,-0.05223916098475456,0.002809025114402175,-0.009795485995709896,-0.006860106717795134,-0.023673932999372482,-0.008431175723671913,0.02138151042163372,-0.026374666020274162,-0.043335698544979095,-0.0068299733102321625,-0.011044422164559364,0.012398973107337952,0.0024947666097432375,-0.050017766654491425,-0.02614610083401203,-0.02357037365436554,-0.04317467659711838,-0.032866884022951126,-0.044480469077825546,-0.010121386498212814,0.04742039367556572,0.006903038825839758,0.04753280431032181,-0.008259514346718788,-0.14805829524993896,0.06180980056524277,0.012762167491018772,0.06164204329252243,-0.012467420659959316,-0.03055126965045929,0.014461168088018894,0.02392984740436077,-0.023144584149122238,0.0031191634479910135,0.004545531701296568,-0.06384801119565964,0.05712805688381195,-0.0053070527501404285,0.010355121456086636,0.05275311693549156,0.02700122259557247,0.008329370990395546,0.015001121908426285,-0.05117376893758774,0.00923642236739397,0.006821172311902046,-0.019192278385162354,0.013583308085799217,-0.002255854895338416,0.026287958025932312,-0.007458441890776157,-0.06630567461252213,0.024629659950733185,0.0461861677467823,0.015567628666758537,0.02396509051322937,0.035294849425554276,-0.004969074856489897,0.08988753706216812,-0.023550253361463547,0.06751254200935364,0.035985980182886124,-0.010793945752084255,-0.02357829362154007,-0.02045724354684353,0.032341308891773224,0.0029432433657348156,-0.027303701266646385,-0.030346481129527092,-0.02020427957177162,-0.016518382355570793,0.007497221231460571,0.011638048104941845,0.029183601960539818,-0.016724519431591034,-0.02339998260140419,-0.03125644102692604,0.07883378118276596,0.03879858925938606,-0.01869971677660942,0.04694619029760361,-0.022598549723625183,-0.012950330041348934,0.0057325540110468864,0.019885221496224403,0.030110178515315056,-0.013939079828560352,-0.05195951089262962,0.008068225346505642,-0.03022383712232113,0.003220157464966178,0.028018489480018616,-0.0015397456008940935,-0.024686628952622414,0.011785616166889668,0.046382054686546326,-0.03597072511911392,0.000925620028283447,0.01060235220938921,0.023078421130776405,-0.021525241434574127,-0.01729505881667137,0.001751090632751584,-0.06362714618444443,0.005520300008356571,0.02900126203894615,-0.006060222629457712,0.030122581869363785,-0.02055741846561432,0.03760296478867531,-0.014902100898325443,0.013074282556772232,0.030863018706440926,0.019634319469332695,0.008707043714821339,0.007787021808326244,-0.019106367602944374,-0.0035381156485527754,0.051121436059474945,-0.015085254795849323,0.016272926703095436,0.006223633885383606,0.006659336853772402,0.01764661632478237,0.008388949558138847,-0.009621785022318363,-0.026897398754954338,-0.05884436145424843,-0.017137840390205383,-0.006865786854177713,-0.011266367509961128,-0.05299212411046028,0.001824918668717146,0.0033249971456825733,-0.007075546775013208,-0.01965560019016266,-0.019741719588637352,0.03387058153748512,-0.03576408699154854,0.01696215383708477,0.029521312564611435,-0.016227032989263535,-0.03538357838988304,-0.014122825115919113,-0.008858393877744675,-0.02767328731715679,0.03921975567936897,-0.025559019297361374,-0.057458408176898956,-0.0030333600006997585,0.027920518070459366,0.029796572402119637,0.009165169671177864,0.014503469690680504,-0.03862457722425461,0.006621410604566336,0.024521194398403168,0.04300540313124657,0.029434744268655777,-0.12657858431339264,0.0010902152862399817,0.07072779536247253,-0.015536624938249588,0.003729854943230748,0.011495518498122692,0.008081115782260895,0.01965794898569584,-0.03202332183718681,-0.011313947848975658,0.08701028674840927,0.011496317572891712,0.031019240617752075,-0.01793007366359234,-0.036313824355602264,-0.005388258956372738,-0.11010687798261642,-0.021346082910895348,-0.010139808990061283,0.030456749722361565,0.0008549854974262416,-0.015061154961585999,-0.019176723435521126,0.009085091762244701,0.06292291730642319,-0.03368247300386429,0.003277805168181658,0.03577655553817749,-0.02263800799846649,0.013662739656865597,-0.02469232678413391,0.019163120537996292,0.06820128858089447,-0.036221567541360855,-0.003927484154701233,-0.0017403076635673642,-0.0002855858765542507,0.023827271535992622,0.0010043183574452996,0.0016205825377255678,-0.013121533207595348,0.004279046785086393,-0.048715364187955856,0.025229141116142273,-0.02588329277932644,-0.018388040363788605,0.03897717967629433,-0.047755807638168335,0.025270167738199234,-0.01552490796893835,0.00923866406083107,-0.009860212914645672,-0.031974710524082184,0.0029139029793441296,0.007919765077531338,-0.0050055040046572685,0.016105251386761665,-0.055032309144735336,0.044828228652477264,-0.023496925830841064,-0.03971254453063011,0.014017587527632713,-0.009484757669270039,-0.013139481656253338,-0.05321421101689339,0.01171606034040451,-0.01261996105313301,0.03205423429608345,-0.06917863339185715,0.052723176777362823,0.0019092512084171176,-0.0388062410056591,-7.641816775666703e-33,-0.03885374963283539,-0.03705945611000061,-0.031359706073999405,-0.012376591563224792,0.01922774128615856,-0.05455351993441582,-0.006180490367114544,-0.02752821519970894,-0.0042544277384877205,0.014086324721574783,-0.01194312609732151,-0.04377308115363121,0.017073052003979683,0.009674101136624813,0.00554400822147727,-0.0016693510115146637,0.04373688995838165,-0.009108652360737324,-0.00131964311003685,0.04385766759514809,-0.04549872875213623,0.027830708771944046,-0.0019274774240329862,0.019171971827745438,-0.031113004311919212,-0.007639150135219097,-0.007754068356007338,0.030286436900496483,-0.0418102890253067,0.015905864536762238,0.0006114516872912645,-0.04980785772204399,-0.01862144097685814,-0.04244476929306984,-0.00374817568808794,-0.01905665546655655,-0.035933878272771835,-0.015056943520903587,-0.01839412748813629,0.02346041612327099,0.08560049533843994,0.02391049452126026,0.009155448526144028,0.0059288484044373035,-0.016352389007806778,-0.01336487103253603,0.008951971307396889,0.028025448322296143,0.001862638513557613,-0.030679892748594284,-0.016636274755001068,0.009464707225561142,-0.006255398970097303,0.020820561796426773,0.04156213626265526,0.02462485432624817,0.053304269909858704,-0.045643776655197144,-0.06970858573913574,0.017707794904708862,-0.014771660789847374,-0.023630622774362564,0.02569252997636795,0.006964589469134808,0.024605976417660713,-0.0022958337794989347,0.007631412707269192,0.01389223150908947,0.04738809913396835,-0.026303675025701523,0.0044797430746257305,0.04121320694684982,-0.013728183694183826,-0.07587841898202896,-0.01061442494392395,0.05039976164698601,-0.0014848693972453475,0.006293769925832748,-0.009779560379683971,0.11249341815710068,0.008132267743349075,0.016927020624279976,0.015385747887194157,0.02007312700152397,-0.0380622036755085,-0.012370135635137558,-0.018941011279821396,0.008307595737278461,0.015996744856238365,0.010103926062583923,0.028550630435347557,-0.007185100112110376,-0.030622361227869987,0.058278389275074005,-0.09377511590719223,0.01724010519683361,0.054654840379953384,0.054333992302417755,0.003466280410066247,-0.011009017005562782,0.02357831597328186,0.010808474384248257,0.046055302023887634,-0.030660677701234818,0.01641608215868473,0.024662362411618233,0.019314702600240707,-0.011514058336615562,-0.06978938728570938,0.022259624674916267,0.03253205493092537,0.035461459308862686,-0.008932607248425484,-0.040306590497493744,-0.0073888786137104034,0.003911357372999191,-0.022920770570635796,-0.014418316073715687,0.01609678752720356,0.0367063470184803,-0.004660964012145996,0.07337938994169235,-0.009988891892135143,0.03332880511879921,0.03352021798491478,0.01985221356153488,-0.01895466446876526,-0.018482403829693794,0.053235914558172226,-0.01475488394498825,0.0006807671743445098,0.0287809818983078,3.4288549954908376e-7,-0.017642924562096596,0.03343166038393974,-0.045249033719301224,0.07528612017631531,0.040473856031894684,-0.004097417928278446,-0.03450463339686394,-0.022185971960425377,0.01672413758933544,-0.07110665738582611,0.03101944364607334,0.008885924704372883,0.0038396185263991356,0.02906440570950508,-0.003958899062126875,-0.0665951669216156,0.024150149896740913,-0.010749095119535923,-0.049200043082237244,-0.033138472586870193,0.03555338457226753,0.008406800217926502,0.04464602842926979,0.027079209685325623,0.006680231541395187,0.03563982620835304,-0.007033210713416338,-0.03978453204035759,0.009237352758646011,0.001255522365681827,0.06306211650371552,-0.06580152362585068,-0.010044357739388943,0.015741541981697083,-0.014974130317568779,0.006333275698125362,-0.054189182817935944,-0.004137218464165926,0.013137665577232838,0.034938134253025055,0.011766034178435802,0.03535239025950432,-0.008180249482393265,-0.031868502497673035,0.001858719508163631,-0.08385917544364929,0.006371687166392803,-0.026856154203414917,-0.06547409296035767,-0.012060419656336308,0.0073878285475075245,0.040289465337991714,0.04365817829966545,0.02418346144258976,0.03250395134091377,0.004825137089937925,0.003167069284245372,0.03225397318601608,0.01069160457700491,-0.0002639165031723678,-0.01954166777431965,0.00853764545172453,0.01785077340900898,-0.028011102229356766,0.008044746704399586,-0.05059497430920601,-0.011241883039474487,4.422404898222781e-34,0.018042849376797676,0.0046172672882676125,0.030084028840065002,-0.0021319265943020582,0.04652733355760574,-0.02992149069905281,0.06342899054288864,0.003837901633232832,0.014333833940327168,-0.08583729714155197,-0.019405469298362732]'
SET
  @TechnicalDesignVector_45599631 = N'[-0.0018881952855736017,0.0027624063659459352,0.012134326621890068,-0.05560331419110298,0.016833726316690445,-0.089006207883358,0.05203266814351082,0.07921452075242996,-0.03471223637461662,-0.025376511737704277,-0.006206184159964323,0.05224691331386566,0.0633830726146698,0.11548818647861481,-0.02040918916463852,-0.05338292568922043,-0.008547786623239517,0.0455351360142231,0.00893642008304596,-0.001442031585611403,0.023794904351234436,-0.030401527881622314,-0.019990909844636917,-0.011643912643194199,0.04146495461463928,-0.04931769147515297,-0.020085109397768974,-0.02440963126718998,0.05690363049507141,-0.05725546181201935,0.009697736240923405,0.022949937731027603,-0.024483827874064445,-0.0032211083453148603,0.000002017967290157685,-0.0038737428840249777,-0.00336163560859859,0.004034469369798899,-0.0012343829730525613,-0.01415625587105751,0.02020765095949173,-0.009856422431766987,0.03799904137849808,0.004039125982671976,-0.011315707117319107,-0.10440010577440262,-0.06487526744604111,0.08315788954496384,0.03448672965168953,0.02108572982251644,0.0002591983356978744,-0.011895428411662579,0.021165018901228905,-0.007200158666819334,0.03205442056059837,0.029176685959100723,0.006877204403281212,-0.10593809932470322,0.10726507753133774,-0.00688721239566803,0.007254042662680149,0.013125307857990265,0.01222442090511322,-0.05490783974528313,-0.0025014637503772974,-0.003200973616912961,0.03784016892313957,-0.0013429737882688642,0.01183564867824316,-0.0054664346389472485,0.05321402847766876,0.01285998523235321,-0.022964583709836006,-0.032277025282382965,-0.001979182241484523,0.013292567804455757,-0.009057401679456234,0.008884388953447342,-0.010938678868114948,-0.012066119350492954,-0.027398254722356796,0.02248559147119522,-0.005259539000689983,-0.004933497868478298,0.011978186666965485,0.06441081315279007,-0.0175936296582222,-0.014158014208078384,0.002061445964500308,-0.05342193692922592,0.06279896944761276,-0.03368866816163063,0.036222562193870544,0.02366550639271736,-0.02555178850889206,-0.0049480716697871685,0.028568297624588013,-0.07587293535470963,0.004761161282658577,-0.029122814536094666,-0.031560659408569336,0.026046112179756165,-0.009218096733093262,-0.0066316029988229275,0.07620575278997421,0.05405828729271889,-0.014738048426806927,0.0030437028035521507,-0.047503069043159485,0.02623763121664524,-0.0006468447973020375,-0.028269166126847267,-0.005301394034177065,0.05234934017062187,-0.02610763907432556,-0.0017726421356201172,-0.019690824672579765,-0.03625534102320671,0.011377111077308655,0.015532996505498886,0.08138585090637207,-0.029457133263349533,0.010566174052655697,-0.02023858204483986,0.04171339049935341,0.030414385721087456,0.02365240827202797,-0.05905682593584061,-0.015017632395029068,0.07478456199169159,-0.004034432116895914,-0.025226354598999023,0.02330559492111206,-0.028804849833250046,-0.032390296459198,-0.04211832955479622,-0.015080807730555534,-0.02404673770070076,0.01978863961994648,0.03915735334157944,-0.021434275433421135,0.03446684777736664,-0.021143650636076927,0.07880549132823944,-0.06875167042016983,-0.0014863767428323627,0.03308040648698807,-0.04783449321985245,0.005838015582412481,0.07060115784406662,0.02090648002922535,-0.04229314997792244,0.0005566510371863842,0.027457209303975105,-0.05768074840307236,0.04347113519906998,0.02962450310587883,-0.017728082835674286,0.06326466798782349,0.00799926184117794,0.010669405572116375,0.004718422424048185,0.08565962314605713,0.04877661168575287,-0.04784064367413521,0.006125111598521471,-0.08884751051664352,-0.030137643218040466,-0.015089335851371288,-0.009793667122721672,0.005403477232903242,-0.03553703427314758,-0.06306523084640503,-0.0037689220625907183,-0.020123636350035667,-0.0528440997004509,0.11751708388328552,-0.011684441938996315,-0.091145358979702,-0.007763891015201807,0.029533248394727707,-0.04444597661495209,0.0250262264162302,0.010326611809432507,0.02583710290491581,-0.035159774124622345,-0.05553538352251053,0.015326653607189655,0.016003038734197617,-0.011023900471627712,-0.030848665162920952,0.01331996638327837,-0.06355107575654984,0.004523024894297123,-0.026694567874073982,0.016185607761144638,-0.0639725849032402,0.014777702279388905,0.0008911712211556733,0.04487818479537964,0.003774266690015793,-0.011333029717206955,0.05997921898961067,0.045285433530807495,0.022251324728131294,-0.01909872144460678,-0.0249100923538208,-0.03707112371921539,-0.03934827819466591,0.0037934770807623863,-0.04334557428956032,0.004198754206299782,-0.0030525443144142628,0.020867489278316498,0.005196759011596441,0.009501450695097446,0.006744692102074623,-0.0017132762586697936,-0.04883844777941704,-0.01525960024446249,-0.021733829751610756,0.0020106208976358175,0.051931481808423996,0.0026972093619406223,0.08922085165977478,0.032053571194410324,-0.00852242112159729,-0.03364035114645958,0.018756268545985222,-0.0170048289000988,0.013667499646544456,-0.020918015390634537,-0.009082070551812649,0.039439305663108826,0.04710198566317558,0.05384386330842972,-0.0023557632230222225,0.019044624641537666,-0.012179628014564514,-0.01832152158021927,-0.005216527730226517,0.020302044227719307,-0.0432269386947155,0.02419419027864933,-0.04847411438822746,-0.010394693352282047,-0.006890877615660429,0.06307075172662735,-0.008720120415091515,-0.02193315140902996,0.018637239933013916,0.055458083748817444,0.004120131954550743,-0.05565597116947174,-0.01889709196984768,0.006905205547809601,0.013012787327170372,0.019318928942084312,0.009034614078700542,0.020453689619898796,0.04943329095840454,-0.01468939334154129,-0.027793386951088905,-0.011655987240374088,0.04101575165987015,0.0012996798614040017,0.008258619345724583,-0.011371282860636711,-0.014925776980817318,0.012205693870782852,-0.011181495152413845,0.004060009494423866,0.034531209617853165,-0.023667052388191223,0.014188479632139206,0.031846724450588226,-0.00949003640562296,0.059778425842523575,-0.01789955422282219,-0.03332106024026871,0.006382221356034279,-0.027045786380767822,0.0071098776534199715,0.030792631208896637,0.007618358358740807,0.009525115601718426,0.02558293007314205,-0.010920860804617405,-0.015848765149712563,-0.044919539242982864,-0.013014310039579868,-0.0067490022629499435,0.028250323608517647,-0.02620653808116913,-0.03082803077995777,0.016828011721372604,-0.056480325758457184,0.03190533071756363,0.0020617288537323475,0.017320821061730385,-0.012494595721364021,-0.020499426871538162,-0.014604042284190655,0.007447259966284037,0.017326083034276962,-0.01993611641228199,-0.021047653630375862,0.04051823168992996,0.04959307610988617,0.09476116299629211,-0.030559945851564407,0.03508062660694122,0.006671625189483166,-0.049309227615594864,-0.01880103535950184,0.011957356706261635,0.026351729407906532,-0.003178167389705777,-0.02154162898659706,0.03601481392979622,0.0009453301317989826,-0.024528993293642998,-0.01659221388399601,-0.011353694833815098,-0.049571093171834946,0.020276829600334167,0.04085851088166237,-0.01255763042718172,0.046419959515333176,-0.0007738239946775138,-0.0010031132260337472,0.0025618530344218016,-0.01355174370110035,0.006581868976354599,0.028337601572275162,-0.04778129979968071,-0.041644103825092316,-0.04315368831157684,-0.007195557001978159,0.007747357245534658,-0.018467433750629425,-0.00796058215200901,-0.041384175419807434,-0.054780106991529465,-0.0029848115518689156,-0.01034659706056118,-0.006656033918261528,-0.017674783244729042,-0.09631980210542679,0.003083425108343363,-0.013251748867332935,0.050369832664728165,0.0007176170474849641,-0.01507433783262968,0.003245033323764801,-0.002014879835769534,-0.007998949848115444,0.0429329015314579,-0.015914365649223328,0.003936311230063438,0.02345961704850197,0.015212769620120525,0.06742178648710251,0.02771763689815998,0.025114230811595917,0.044561710208654404,0.041767559945583344,-0.03805556148290634,-0.02419600822031498,-0.05460024252533913,-0.042810406535863876,0.028449678793549538,0.03218882530927658,-0.0042525650933384895,-0.008274346590042114,-0.0455121286213398,0.045773107558488846,0.003142048604786396,0.0070362030528485775,0.020566215738654137,0.07360992580652237,-0.01756388694047928,0.06315486878156662,-0.007295891176909208,0.045660004019737244,-0.015443536452949047,0.023805290460586548,-0.040654346346855164,-0.0088838841766119,0.02023039385676384,-0.028420349583029747,-0.025895802304148674,-0.04179461672902107,0.004700175020843744,-0.008265218697488308,0.02924325317144394,0.01828192174434662,0.06162908673286438,0.009963626973330975,-0.023240797221660614,-0.048012614250183105,0.16359911859035492,0.01671876199543476,0.018520591780543327,0.0755293220281601,-0.040529314428567886,-0.054142680019140244,0.041831497102975845,0.04295315220952034,0.014646428637206554,-0.059773948043584824,0.010338645428419113,-0.00025887484662234783,-0.03241389989852905,-0.0650167241692543,-0.01124004740267992,-0.006847835611552,-0.09452909231185913,-0.003131183097139001,0.05111687257885933,-0.03889825567603111,-0.01162128895521164,0.0034821457229554653,0.02475164085626602,0.012411586008965969,0.02470441535115242,-0.02466893382370472,-0.051004935055971146,-0.033209435641765594,-0.014593162573873997,0.014799294993281364,0.04070639610290527,0.009301910176873207,0.04196406900882721,0.0073667350225150585,-0.058361269533634186,0.0020278862211853266,0.0389532595872879,0.0822083055973053,-0.016322681680321693,0.035177621990442276,-0.04008073732256889,0.02982032671570778,0.015334651805460453,0.012609711848199368,-0.03326588496565819,-0.00798779632896185,0.05799657851457596,0.007638041861355305,-0.001203056424856186,-0.03169313818216324,-0.014174032025039196,-0.04049522802233696,0.013597410172224045,-0.06036030128598213,-0.049769315868616104,0.008163652382791042,0.06331772357225418,-0.0014973956858739257,0.02292739227414131,-0.030845804139971733,0.035597093403339386,-0.008767385967075825,-0.01140539813786745,0.004744652658700943,0.007222040556371212,0.0033405302092432976,-0.040342316031455994,-0.024983827024698257,0.05219446122646332,-0.0035491096787154675,0.022472038865089417,-0.0258014053106308,0.01345676090568304,0.00012047207565046847,-0.014857418835163116,-0.04848764091730118,-0.018144024536013603,-0.021324539557099342,-0.022012261673808098,0.02350958250463009,0.02868550643324852,-0.027488237246870995,-0.13098320364952087,-0.005883469711989164,0.034392014145851135,-0.01970120519399643,0.01021955069154501,0.016919462010264397,0.031812235713005066,0.004004518035799265,-0.002949353540316224,-0.0009274106123484671,0.09786654263734818,0.020560014992952347,0.01696823351085186,0.028845276683568954,0.03097728081047535,-0.04462096840143204,-0.09376515448093414,0.00021158951858524233,0.00004447628452908248,0.018407216295599937,0.03573762625455856,-0.030284354463219643,-0.01652565412223339,-0.03928082063794136,0.05476154014468193,-0.04210503771901131,-0.04191132262349129,0.017790956422686577,-0.02512262761592865,-0.04588738828897476,0.01040097326040268,0.004499717615544796,0.08241553604602814,-0.03581026941537857,-0.03348914161324501,0.041638702154159546,-0.008509323000907898,0.04131501913070679,0.03211484104394913,-0.030382802709937096,-0.021590212360024452,0.011553943157196045,-0.04053131863474846,0.024091685190796852,0.024402141571044922,0.02463129349052906,0.051632110029459,0.018245654180645943,0.0255547184497118,-0.013714666478335857,0.014652150683104992,0.029659876599907875,0.03251400962471962,0.027886437252163887,0.01998760923743248,-0.010105104185640812,-0.020671308040618896,-0.08011077344417572,0.04205914959311485,0.028335334733128548,-0.06029367446899414,0.023901106789708138,-0.031203879043459892,0.010223166085779667,-0.06550109386444092,0.018232138827443123,0.04746139794588089,0.013572976924479008,-0.06248505041003227,0.014859167858958244,-0.024044042453169823,0.007655774708837271,-6.338491087612338e-33,-0.012432485818862915,-0.009330203756690025,-0.013627734035253525,-0.03459813818335533,-0.031123489141464233,0.00035234904498793185,-0.034929752349853516,-0.028533020988106728,0.018457982689142227,-0.027552908286452293,-0.04642194136977196,-0.051965393126010895,-0.005341691896319389,0.04022300988435745,-0.04004235565662384,-0.0412934347987175,0.01499779149889946,0.01734131947159767,0.004651321563869715,0.015419496223330498,-0.009586000815033913,0.029567966237664223,0.022107284516096115,0.028368432074785233,-0.01913696713745594,-0.006044803187251091,-0.028849802911281586,0.008858692832291126,-0.1015387624502182,0.012222614139318466,-0.036855168640613556,-0.02479638159275055,-0.028255751356482506,-0.08061237633228302,0.04657785966992378,0.012013734318315983,0.03496640548110008,-0.053373947739601135,0.04619309678673744,0.0610564760863781,0.10255970805883408,0.009182984940707684,0.003782010870054364,0.03023364394903183,0.013295959681272507,-0.016583789139986038,-0.015622152015566826,-0.017983531579375267,-0.03699185326695442,-0.02027212455868721,0.006814492866396904,0.025929562747478485,-0.016420740634202957,-0.04509509354829788,0.017906129360198975,0.043326374143362045,0.07262364029884338,0.032203931361436844,-0.06753730028867722,0.0063807289116084576,-0.011351377703249454,-0.014083887450397015,0.03435853496193886,0.010557590052485466,0.0487927608191967,0.03873126208782196,0.01468366663902998,0.022388868033885956,-0.04314534738659859,-0.014663055539131165,-0.02074713259935379,-0.0018612812273204327,0.002559860935434699,-0.009574906900525093,0.05088736116886139,0.004658431280404329,-0.00367950857616961,-0.043838657438755035,-0.050227805972099304,0.05736571550369263,-0.006880104076117277,0.04446134716272354,0.020716458559036255,0.043889645487070084,-0.04745526239275932,-0.02566499449312687,0.04877496138215065,-0.0017923777922987938,-0.02822842076420784,0.016117211431264877,0.027154022827744484,0.0035145918373018503,-0.03446311503648758,0.05688874423503876,-0.028280677273869514,-0.02373768761754036,0.046019405126571655,0.059902314096689224,-0.009919840842485428,-0.016611143946647644,0.03282128646969795,0.004150830674916506,-0.03564412146806717,-0.035373181104660034,-0.01646924763917923,0.043653454631567,0.014299925416707993,0.03528710454702377,-0.037337809801101685,0.00849071517586708,0.053783055394887924,-0.017527492716908455,-0.04254520684480667,-0.02094525471329689,-0.0026306388899683952,0.016895851120352745,-0.029158687219023705,-0.025169378146529198,0.058313824236392975,0.08814351260662079,-0.01820271648466587,0.03904421254992485,-0.010686339810490608,0.015383541584014893,0.026293188333511353,0.01302445586770773,-0.02228456363081932,-0.019192401319742203,0.0021222326904535294,-0.04611797258257866,0.0206056647002697,-0.005952618550509214,3.089602955697046e-7,-0.0005146621842868626,0.021974051371216774,-0.0528750903904438,-0.02607741765677929,0.024713683873414993,-0.04059436172246933,-0.025521762669086456,-0.0887850746512413,-0.014084910973906517,-0.08130022883415222,0.03855294734239578,-0.015724262222647667,0.02243400365114212,0.02576340362429619,-0.050466734915971756,-0.022208506241440773,-0.011509733274579048,-0.04144654795527458,-0.018941793590784073,-0.050893381237983704,0.02947193570435047,-0.011864140629768372,0.10289809107780457,0.0021340171806514263,-0.024788128212094307,0.06026225537061691,0.04741375520825386,0.00408703088760376,0.03170919790863991,-0.05874066799879074,0.03710990026593208,-0.03822740912437439,-0.013456896878778934,-0.05855841189622879,0.04026900231838226,0.020111897960305214,0.011432336643338203,-0.003444334724918008,0.026817649602890015,0.050350774079561234,0.010485628619790077,0.03129592910408974,-0.0578702837228775,-0.0766642838716507,0.011923304758965969,-0.08498350530862808,-0.01742219179868698,-0.03149399533867836,-0.019238455221056938,0.025798466056585312,-0.016227776184678078,0.010842745192348957,0.003523207502439618,-0.009998591616749763,0.021269802004098892,-0.01752668060362339,-0.020092051476240158,0.03194620460271835,-0.02378500998020172,-0.0060985819436609745,-0.03127818554639816,-0.0004084223182871938,-0.010182887315750122,-0.02874121628701687,0.0013627123553305864,-0.03434920310974121,-0.001193794421851635,3.2813442666849326e-34,0.029343971982598305,-0.024129392579197884,-0.002082820748910308,0.0008270148537121713,0.05150577798485756,-0.04341075196862221,0.11175712198019028,-0.017089063301682472,0.03718196600675583,-0.03498738631606102,-0.005100415088236332]'
SET
  @HasCustomProps_45599631 = 1
SET
  @HasCustomEvents_45599631 = 0
SET
  @RequiresData_45599631 = 1
SET
  @DependencyCount_45599631 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_45599631 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_45599631 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_45599631 = 1
SET
  @ID_45599631 = '5DD52B0E-BBBA-41C7-8D1E-CDCEA4A64BAC'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_45599631,
  @Name = @Name_45599631,
  @Version = @Version_45599631,
  @VersionSequence = @VersionSequence_45599631,
  @Title = @Title_45599631,
  @Description = @Description_45599631,
  @Type = @Type_45599631,
  @Status = @Status_45599631,
  @DeveloperName = @DeveloperName_45599631,
  @DeveloperEmail = @DeveloperEmail_45599631,
  @DeveloperOrganization = @DeveloperOrganization_45599631,
  @SourceRegistryID = @SourceRegistryID_45599631,
  @ReplicatedAt = @ReplicatedAt_45599631,
  @LastSyncedAt = @LastSyncedAt_45599631,
  @Specification = @Specification_45599631,
  @FunctionalRequirements = @FunctionalRequirements_45599631,
  @TechnicalDesign = @TechnicalDesign_45599631,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_45599631,
  @TechnicalDesignVector = @TechnicalDesignVector_45599631,
  @HasCustomProps = @HasCustomProps_45599631,
  @HasCustomEvents = @HasCustomEvents_45599631,
  @RequiresData = @RequiresData_45599631,
  @DependencyCount = @DependencyCount_45599631,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_45599631,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_45599631,
  @HasRequiredCustomProps = @HasRequiredCustomProps_45599631,
  @ID = @ID_45599631;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_b62a9f68 NVARCHAR(MAX),
@Name_b62a9f68 NVARCHAR(500),
@Version_b62a9f68 NVARCHAR(50),
@VersionSequence_b62a9f68 INT,
@Title_b62a9f68 NVARCHAR(1000),
@Description_b62a9f68 NVARCHAR(MAX),
@Type_b62a9f68 NVARCHAR(255),
@Status_b62a9f68 NVARCHAR(50),
@DeveloperName_b62a9f68 NVARCHAR(255),
@DeveloperEmail_b62a9f68 NVARCHAR(255),
@DeveloperOrganization_b62a9f68 NVARCHAR(255),
@SourceRegistryID_b62a9f68 UNIQUEIDENTIFIER,
@ReplicatedAt_b62a9f68 DATETIMEOFFSET,
@LastSyncedAt_b62a9f68 DATETIMEOFFSET,
@Specification_b62a9f68 NVARCHAR(MAX),
@FunctionalRequirements_b62a9f68 NVARCHAR(MAX),
@TechnicalDesign_b62a9f68 NVARCHAR(MAX),
@FunctionalRequirementsVector_b62a9f68 NVARCHAR(MAX),
@TechnicalDesignVector_b62a9f68 NVARCHAR(MAX),
@HasCustomProps_b62a9f68 BIT,
@HasCustomEvents_b62a9f68 BIT,
@RequiresData_b62a9f68 BIT,
@DependencyCount_b62a9f68 INT,
@TechnicalDesignVectorEmbeddingModelID_b62a9f68 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_b62a9f68 NVARCHAR(MAX),
@HasRequiredCustomProps_b62a9f68 BIT,
@ID_b62a9f68 UNIQUEIDENTIFIER
SET
  @Namespace_b62a9f68 = N'CRM/Analytics'
SET
  @Name_b62a9f68 = N'DealCard'
SET
  @Version_b62a9f68 = N'1.0.0'
SET
  @VersionSequence_b62a9f68 = 1
SET
  @Title_b62a9f68 = N'Deal Card'
SET
  @Description_b62a9f68 = N'Card view component for individual deals'
SET
  @Type_b62a9f68 = N'Other'
SET
  @Status_b62a9f68 = N'Published'
SET
  @Specification_b62a9f68 = N'{"name":"DealCard","namespace":"CRM/Analytics","type":"Other","location":"embedded","code":"// DealCard Sub-component\nfunction DealCard ({ deal, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Load OpenRecordButton component\n  const OpenRecordButton = components[''OpenRecordButton''];\n  const getStageColor = (stage) => {\n    const colors = {\n      ''Prospecting'': ''#17a2b8'',\n      ''Qualification'': ''#007bff'',\n      ''Proposal'': ''#28a745'',\n      ''Negotiation'': ''#ffc107'',\n      ''Closed Won'': ''#28a745'',\n      ''Closed Lost'': ''#dc3545''\n    };\n    return colors[stage] || ''#6c757d'';\n  };\n\n\n  const cardStyle = {\n    border: ''1px solid #e0e0e0'',\n    borderRadius: ''8px'',\n    padding: ''15px'',\n    marginBottom: ''10px'',\n    backgroundColor: ''#fff'',\n    boxShadow: ''0 2px 4px rgba(0,0,0,0.05)'',\n    transition: ''box-shadow 0.2s''\n  };\n\n  return (\n    <div\n      style={cardStyle}\n      onMouseEnter={(e) => {\n        e.currentTarget.style.boxShadow = ''0 4px 8px rgba(0,0,0,0.1)'';\n      }}\n      onMouseLeave={(e) => {\n        e.currentTarget.style.boxShadow = ''0 2px 4px rgba(0,0,0,0.05)'';\n      }}\n    >\n      <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''flex-start'' }}>\n        <div style={{ flex: 1 }}>\n          <h4 style={{ margin: ''0 0 8px 0'', color: ''#333'' }}>{deal.name}</h4>\n          <div style={{ fontSize: ''14px'', color: ''#666'', marginBottom: ''5px'' }}>\n            {deal.accountName}\n          </div>\n          <div style={{ fontSize: ''13px'', color: ''#888'' }}>\n            Owner: {deal.ownerName}\n          </div>\n        </div>\n        <div style={{ textAlign: ''right'' }}>\n          <div style={{ fontSize: ''18px'', fontWeight: ''bold'', color: ''#333'', marginBottom: ''5px'' }}>\n            $' + '{(deal.value || 0).toLocaleString()}\n          </div>\n          <div style={{\n            display: ''inline-block'',\n            padding: ''3px 8px'',\n            borderRadius: ''12px'',\n            fontSize: ''11px'',\n            fontWeight: ''bold'',\n            color: ''#fff'',\n            backgroundColor: getStageColor(deal.stage)\n          }}>\n            {deal.stage}\n          </div>\n        </div>\n      </div>\n      \n      <div style={{\n        marginTop: ''10px'',\n        paddingTop: ''10px'',\n        borderTop: ''1px solid #f0f0f0'',\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center'',\n        fontSize: ''12px'',\n        color: ''#999''\n      }}>\n        <div style={{ display: ''flex'', flexDirection: ''column'', gap: ''2px'' }}>\n          <span>Close Date: {deal.closeDate ? new Date(deal.closeDate).toLocaleDateString() : ''TBD''}</span>\n          <span>Probability: {deal.probability || 0}%</span>\n        </div>\n        {OpenRecordButton && (\n          <OpenRecordButton\n            entityName=\"Deals\"\n            record={deal}\n            text=\"Open\"\n            variant=\"text\"\n            size=\"small\"\n            icon=\"↗\"\n            showIcon={true}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings}\n            onSaveUserSettings={onSaveUserSettings}\n          />\n        )}\n      </div>\n    </div>\n  );\n};","functionalRequirements":"## Deal Card Component\n\n### Purpose\nDisplay individual deal information in a card format with interactive elements.\n\n### Features\n- Deal name and amount display\n- Currency formatting\n- Date formatting\n- Probability indicator with color coding\n- Hover effects\n- Uses OpenRecordButton component for opening deal records\n\n### Visual Design\n- Card with border and padding\n- Hover scale effect\n- Probability badge with semantic colors\n- Clean typography","dataRequirements":{"mode":"views","description":"Displays individual deal information passed via props","entities":[{"name":"Deals","description":"Deal entity displayed in card format","displayFields":["ID","DealName","Amount","CloseDate","Probability","Stage"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Single deal object displayed as a card"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Props\n- deal: Deal entity object\n\n### Dependencies\n- OpenRecordButton: Generic button component for opening entity records\n\n### Styling\n- Background color based on state\n- Border and shadow effects\n- Probability color coding:\n  - >= 70%: Green\n  - >= 40%: Yellow\n  - < 40%: Red","properties":[{"name":"deal","type":"{ID: string, DealName: string, Amount: number, CloseDate: string, Probability: number, Stage?: string}","required":true,"description":"Deal entity object with key fields"}],"events":[],"dependencies":[{"name":"OpenRecordButton","location":"registry","namespace":"Generic/Navigation","version":"^1.0.0"}],"libraries":[{"name":"dayjs","version":"^1.11.10","globalVariable":"dayjs"}],"description":"Card view component for individual deals"}'
SET
  @FunctionalRequirements_b62a9f68 = N'## Deal Card Component

### Purpose
Display individual deal information in a card format with interactive elements.

### Features
- Deal name and amount display
- Currency formatting
- Date formatting
- Probability indicator with color coding
- Hover effects
- Uses OpenRecordButton component for opening deal records

### Visual Design
- Card with border and padding
- Hover scale effect
- Probability badge with semantic colors
- Clean typography'
SET
  @TechnicalDesign_b62a9f68 = N'## Implementation

### Props
- deal: Deal entity object

### Dependencies
- OpenRecordButton: Generic button component for opening entity records

### Styling
- Background color based on state
- Border and shadow effects
- Probability color coding:
  - >= 70%: Green
  - >= 40%: Yellow
  - < 40%: Red'
SET
  @FunctionalRequirementsVector_b62a9f68 = N'[-0.0032824298832565546,-0.02934425324201584,-0.00902540236711502,-0.03267310559749603,-0.014280361123383045,0.011846381239593029,-0.001979930093511939,0.09156974405050278,-0.05157330632209778,-0.01741189695894718,-0.011907518841326237,0.017483046278357506,0.05489438772201538,0.16175507009029388,-0.03798951953649521,-0.08281635493040085,-0.031816937029361725,0.009095952846109867,0.04385600611567497,0.016327593475580215,0.008466328494250774,-0.012255399487912655,-0.01770368404686451,-0.016414612531661987,-0.03475097194314003,-0.024188432842493057,-0.019339624792337418,-0.006602889392524958,0.009638657793402672,-0.11206237971782684,0.009795168414711952,0.06227937713265419,-0.035082101821899414,-0.03823589161038399,0.000001978042746486608,-0.019663991406559944,-0.026749595999717712,0.03459024429321289,0.003252760972827673,-0.002714750589802861,0.014767060056328773,-0.03156762570142746,0.07032875716686249,0.018901590257883072,-0.024143358692526817,-0.1135668009519577,0.011585171334445477,0.10817562788724899,0.0005416726926341653,-0.041910793632268906,0.0113335270434618,-0.0020878484938293695,0.017854155972599983,0.00011966313468292356,0.06405828148126602,0.071147121489048,-0.007762732449918985,0.00042601427412591875,0.01786578632891178,-0.008163444697856903,0.0035019132774323225,-0.02349485456943512,0.03756685554981232,-0.04059040546417236,0.06587322056293488,0.04876062273979187,0.03549159690737724,0.03906393423676491,-0.0036868273746222258,0.029583744704723358,0.07828871160745621,0.04256486892700195,-0.022205663844943047,-0.042846325784921646,-0.03262002393603325,-0.0726407989859581,-0.015474728308618069,0.05677332729101181,0.01095916423946619,-0.011261152103543282,-0.019443385303020477,0.05654260888695717,-0.013370099477469921,-0.015513376332819462,0.012167464941740036,0.030497150495648384,0.030173124745488167,-0.00809753779321909,-0.029585322365164757,-0.004820608533918858,0.021952247247099876,-0.0013681910932064056,-0.05268799886107445,0.00036975115654058754,-0.025110488757491112,0.0031198295764625072,0.0012166365049779415,-0.0359688438475132,0.03977254033088684,0.05189144238829613,0.000790705787949264,0.03387749567627907,0.0181171502918005,0.00506583834066987,0.07590889930725098,-0.01619594357907772,-0.03765611723065376,-0.05308804661035538,-0.034702468663454056,0.06046847999095917,0.027822345495224,-0.0183004941791296,-0.014218663796782494,0.06857084482908249,-0.08421062678098679,-0.027028579264879227,-0.051072221249341965,-0.025928808376193047,0.004714394919574261,0.02573992870748043,0.13736321032047272,0.0040720864199101925,-0.014126796275377274,0.018286725506186485,-0.04431992024183273,-0.0059521934017539024,-0.012438724748790264,-0.06672018766403198,0.006559744477272034,0.024227380752563477,-0.01522189099341631,-0.007674034219235182,0.0024553402327001095,-0.06298332661390305,-0.031055422499775887,-0.015544360503554344,0.02275858446955681,0.032420605421066284,0.0203848946839571,0.015899168327450752,0.03184094280004501,0.010759609751403332,0.0028668127488344908,0.019435418769717216,-0.028736377134919167,0.023067127913236618,0.011178595945239067,-0.0024477015249431133,0.039162393659353256,0.03356713429093361,-0.0015637553296983242,0.031580083072185516,-0.06174612045288086,-0.00572886923328042,-0.044994089752435684,0.007200854364782572,0.014584655873477459,-0.04780058562755585,0.020958788692951202,0.000503505754750222,-0.009198949672281742,-0.029547464102506638,0.06910796463489532,0.028274670243263245,-0.046723514795303345,-0.0048335399478673935,-0.017125533893704414,-0.020864345133304596,0.05338563024997711,-0.00626598484814167,0.009013338945806026,-0.028215326368808746,-0.04591641575098038,0.013015049509704113,0.027525519952178,-0.02554960921406746,0.028648056089878082,-0.02429257147014141,-0.051683209836483,-0.0019850069656968117,0.0017244989285245538,-0.10820844769477844,0.015979990363121033,0.03906498849391937,0.04930448159575462,0.012077934108674526,-0.05542527511715889,-0.009435104206204414,-0.01486785989254713,-0.0031104935333132744,-0.029933983460068703,-0.013469845056533813,0.019622746855020523,0.002812699880450964,-0.0006523837801069021,-0.01181198749691248,-0.0448685884475708,0.02379918470978737,0.06308481097221375,0.036869943141937256,-0.00220519513823092,-0.05046505853533745,0.02712935395538807,0.03992721065878868,0.04931068420410156,0.017739560455083847,0.09422324597835541,-0.05492556095123291,-0.10321357846260071,0.03789233788847923,0.0249940175563097,0.003969935700297356,-0.06643924117088318,-0.00957475695759058,-0.040203411132097244,0.005464343819767237,0.016483455896377563,0.026131005957722664,-0.024724584072828293,-0.013470727019011974,-0.006518837064504623,0.04130839183926582,0.024537334218621254,-0.0021211612038314342,0.1345251351594925,-0.00969458557665348,0.009704058058559895,-0.05425085127353668,0.028729690238833427,-0.007538109086453915,-0.03666892647743225,-0.02559482865035534,0.011181939393281937,0.027351099997758865,0.05065000802278519,0.0029963396955281496,0.009579557925462723,0.02506878972053528,-0.01735927350819111,-0.025383474305272102,-0.016187336295843124,-0.03357257694005966,-0.012589965015649796,0.005764218512922525,-0.00007458226173184812,-0.05229021981358528,-0.05743073299527168,0.002408720087260008,-0.017305482178926468,-0.003376944921910763,0.04810716584324837,0.044268302619457245,0.04498749226331711,-0.014516513794660568,-0.00011213104153284803,0.04706888273358345,0.009324111975729465,0.008297874592244625,-0.05371522903442383,0.017334522679448128,0.004060127306729555,0.00343146501109004,-0.01587708108127117,-0.020019959658384323,0.03124685026705265,-0.016407636925578117,0.034240834414958954,0.006167288403958082,0.005666910205036402,0.02668718434870243,0.002666841959580779,0.0011927790474146605,0.013571913354098797,-0.010093774646520615,-0.012936851941049099,0.041941359639167786,-0.10524234920740128,-0.01933780312538147,-0.0265948548913002,0.007538150064647198,-0.0024645559024065733,-0.024913353845477104,-0.004513401072472334,0.025229692459106445,0.024275310337543488,-0.013067995198071003,0.04015645384788513,-0.0214217696338892,-0.042107757180929184,-0.036693789064884186,0.037393368780612946,-0.016132041811943054,0.03322756662964821,-0.01564905419945717,-0.011774059385061264,0.0007780269952490926,-0.00398301612585783,0.03207648545503616,-0.04968046024441719,0.027354871854186058,-0.025562170892953873,-0.03515489771962166,-0.039712123572826385,0.0076982248574495316,-0.015089950524270535,0.049860477447509766,0.022377926856279373,-0.038298144936561584,-0.002533177612349391,0.07264269143342972,0.019274331629276276,0.031094806268811226,0.0124113280326128,-0.064307801425457,0.018573470413684845,0.031038427725434303,-0.054017286747694016,0.01856893114745617,0.006081428378820419,0.06524112075567245,0.012911299243569374,-0.046256955713033676,-0.009203738532960415,-0.007090750616043806,-0.02326856181025505,0.028138307854533195,-0.005358540918678045,0.0024590976536273956,0.02356072887778282,0.004755835514515638,-0.0026307497173547745,-0.01346427109092474,-0.01091772224754095,0.000998837174847722,-0.005972337443381548,-0.010471430607140064,-0.038409002125263214,-0.08876621723175049,0.012255283072590828,-0.03556406497955322,-0.028342582285404205,-0.010107031092047691,-0.022259509190917015,0.005546959117054939,0.02032587118446827,0.005927614867687225,0.0516962967813015,0.012471448630094528,-0.09224524348974228,0.05924157425761223,0.020018519833683968,0.0049851336516439915,-0.015453835017979145,0.0003562217461876571,0.020588703453540802,0.05031876638531685,0.007778059225529432,-0.025743206962943077,0.04290138557553291,-0.03899726644158363,-0.06599153578281403,0.02346494235098362,0.019462917000055313,0.04487767815589905,-0.005106454249471426,0.05813997983932495,0.014702368527650833,0.007667709141969681,-0.01134579163044691,0.0017900540260598063,-0.045355550944805145,0.0206399317830801,0.04549258574843407,0.03375069424510002,-0.0010977182537317276,-0.027230123057961464,-0.003963245078921318,0.030104679986834526,-0.014976575039327145,0.00003615071182139218,0.047217611223459244,-0.047520898282527924,0.07841536402702332,-0.034823548048734665,0.03423571586608887,-0.007999720983207226,-0.0011696630390360951,-0.010232276283204556,-0.0392112173140049,0.008920369669795036,-0.02335626259446144,0.028557749465107918,-0.08885763585567474,0.006348805036395788,-0.02899734489619732,0.034344207495450974,0.0020571451168507338,0.03420371934771538,-0.006756035145372152,-0.004342412110418081,-0.026864277198910713,0.053181517869234085,0.0614222027361393,-0.008131170645356178,0.05214017629623413,0.002514610067009926,-0.011509468778967857,0.020346514880657196,0.008456563577055931,-0.048541974276304245,-0.09997378289699554,-0.0758809745311737,-0.02690175175666809,-0.04387178272008896,0.026659812778234482,0.0002630503149703145,-0.013546369969844818,-0.03560327738523483,0.007674340158700943,0.008151900954544544,-0.036472637206315994,0.015248212032020092,0.042967285960912704,0.027156436815857887,0.018021613359451294,-0.044307418167591095,-0.048137117177248,-0.043365348130464554,0.0005820106598548591,-0.0053463163785636425,0.023692753165960312,-0.00568556459620595,-0.019856158643960953,0.0509912483394146,0.01660427264869213,0.04176468774676323,-0.0187794528901577,0.0006797787500545382,-0.006573452148586512,0.004601027350872755,-0.03467973321676254,-0.026296274736523628,0.0550723634660244,0.015582794323563576,-0.0013180207461118698,-0.03325134888291359,-0.010104453191161156,0.043255604803562164,0.042919259518384933,-0.03520646691322327,-0.041946716606616974,-0.017829064279794693,-0.02984650433063507,-0.0018749515293166041,-0.033101294189691544,-0.0449344702064991,-0.01765245385468006,0.019495075568556786,0.031875450164079666,0.006513264961540699,0.033270854502916336,0.02897091768682003,-0.059819336980581284,0.0198984295129776,-0.015676328912377357,-0.08406075835227966,-0.035403061658144,-0.017723368480801582,-0.03934086486697197,-0.032182980328798294,-0.00220437697134912,0.009381619282066822,-0.05401838943362236,-0.008288191631436348,0.02780030481517315,0.032014839351177216,-0.02276165969669819,-0.022544631734490395,0.020607536658644676,0.012390535324811935,0.012411002069711685,0.014634919352829456,-0.013957951217889786,-0.05387931689620018,-0.0015994214918464422,0.061519425362348557,-0.027161842212080956,-0.007297378033399582,0.0012786391889676452,-0.035786502063274384,0.009938234463334084,-0.03277686610817909,-0.026457540690898895,0.02387121692299843,0.006830200552940369,0.035163842141628265,0.015965957194566727,0.007152914069592953,-0.025031564757227898,-0.038439054042100906,-0.013291566632688046,-0.028046421706676483,0.02570011094212532,-0.013167810626327991,-0.04416847601532936,-0.0055362768471241,0.041691750288009644,0.023749087005853653,-0.028567658737301826,-0.05463137477636337,0.0580410361289978,-0.05737354978919029,0.02198762074112892,0.05520353838801384,0.05254950746893883,0.08752571046352386,-0.04168842360377312,0.027263367548584938,-0.06537490338087082,-0.01758033223450184,0.020716411992907524,0.00981184747070074,0.006446119863539934,0.0024378872476518154,0.0628717765212059,0.02061161957681179,0.029765302315354347,-0.01849387399852276,0.021278196945786476,0.030356762930750847,-0.04362785816192627,0.029271690174937248,-0.02895462140440941,0.0112010408192873,0.009694750420749187,0.05606286600232124,0.04803142324090004,0.01835833489894867,0.0031245071440935135,-0.027524422854185104,-0.05394737422466278,0.023998955264687538,0.06538436561822891,0.022053560242056847,0.0180899016559124,0.026949258521199226,0.002747094724327326,-0.055816419422626495,-0.024600813165307045,-0.0112023139372468,0.055472563952207565,0.004028130788356066,-0.042644061148166656,-0.004866497591137886,-0.04991281405091286,-6.615868081472058e-33,-0.045668408274650574,-0.013453413732349873,-0.020130489021539688,-0.0005778371123597026,0.018073471263051033,-0.001710966695100069,0.018173012882471085,-0.025311999022960663,0.01993831992149353,0.032602231949567795,-0.02265738882124424,-0.06674131751060486,0.020142003893852234,0.03988254442811012,-0.018043454736471176,-0.04071393236517906,0.015465076081454754,0.015092593617737293,0.03487388789653778,-0.015724608674645424,-0.08399197459220886,0.0019443518249318004,0.03551993519067764,-0.043013133108615875,-0.024450795724987984,-0.038824841380119324,-0.010062678717076778,0.030934082344174385,0.03280439227819443,0.04775286838412285,-0.010424012318253517,-0.013472216203808784,-0.05278807133436203,-0.016914812847971916,0.025799045339226723,0.028292521834373474,-0.042817097157239914,-0.047807369381189346,0.013049743138253689,0.023346763104200363,0.12378081679344177,-0.03280544653534889,-0.0009122308692894876,0.004811565391719341,-0.019452176988124847,-0.020084967836737633,0.01812322810292244,-0.01841079071164131,-0.027630405500531197,-0.07900358736515045,0.030310794711112976,0.02570413611829281,-0.0019767587073147297,0.051800087094306946,-0.00228184019215405,-0.05939023196697235,0.04333292692899704,0.016158081591129303,-0.06386930495500565,0.033491894602775574,0.03134097531437874,-0.033128608018159866,0.02264522574841976,0.007185699418187141,0.03299833834171295,0.04471629112958908,-0.010785987600684166,0.020165974274277687,0.011093723587691784,-0.012485616840422153,-0.020888233557343483,-0.030542971566319466,0.0221541840583086,0.008118322119116783,0.026530252769589424,0.04775293916463852,0.017289672046899796,0.007719493005424738,0.03627164289355278,0.051921386271715164,0.03337628021836281,0.024158630520105362,-0.01295593660324812,0.02477596141397953,-0.04334484785795212,-0.026950189843773842,0.002806276548653841,-0.06133393570780754,0.011792539618909359,0.013551983051002026,0.017797250300645828,0.022514091804623604,-0.020382583141326904,0.02738807164132595,-0.07434540241956711,-0.01653190888464451,0.07006466388702393,0.05933329835534096,-0.04632896929979324,-0.048407554626464844,0.022787397727370262,-0.04541478678584099,0.02766740322113037,-0.018453864380717278,-0.022044587880373,0.0270212572067976,0.024252422153949738,-0.028876174241304398,-0.08124909549951553,0.00964607298374176,0.03303907439112663,0.01092546433210373,-0.029132846742868423,-0.051688168197870255,-0.013371173292398453,-0.0037236909847706556,-0.034653909504413605,-0.057561907917261124,0.018830548971891403,0.06865347176790237,0.010295561514794827,-0.031884320080280304,-0.043923623859882355,0.014162181876599789,0.06275783479213715,0.0027398786041885614,-0.0170200876891613,0.0024279432836920023,0.0062316106632351875,0.006107105407863855,0.021608656272292137,0.03862885385751724,2.8480994274104887e-7,0.020972557365894318,0.04649908468127251,-0.053200412541627884,0.008540819399058819,0.009499126113951206,-0.039865195751190186,0.020586609840393066,-0.02091330848634243,0.003122990485280752,-0.05448346212506294,0.01518101803958416,0.008839271031320095,-0.0006787448655813932,0.02242095023393631,0.010842842049896717,0.003993452992290258,-0.0055607943795621395,-0.045934394001960754,-0.013917649164795876,0.013725537806749344,0.05278150737285614,0.036278218030929565,0.07237250357866287,0.016736222431063652,-0.01225326769053936,0.05782895162701607,0.00413498654961586,-0.07284916192293167,-0.0057421838864684105,-0.04971679300069809,-0.01603948324918747,0.002328376518562436,-0.013183043338358402,0.008251084014773369,0.020196562632918358,-0.009091836400330067,0.007970073260366917,0.000907990790437907,0.03366034850478172,0.10709179192781448,0.025365682318806648,0.009748482145369053,-0.015910226851701736,-0.021770386025309563,0.016447097063064575,-0.013306930661201477,-0.017989041283726692,-0.01445463765412569,-0.06914061307907104,-0.028242619708180428,0.022170577198266983,-0.016233397647738457,0.042821381241083145,-0.02266484871506691,0.02116001583635807,-0.015193928964436054,-0.008117768913507462,0.019409049302339554,-0.026108216494321823,-0.010096380487084389,0.014573010616004467,-0.01495798397809267,0.008532317355275154,-0.06824134290218353,0.037183307111263275,-0.06307435780763626,-0.009197697043418884,3.4547788154216646e-34,0.029142159968614578,-0.040806207805871964,-0.017491480335593224,0.10075154155492783,0.04642678424715996,-0.018220597878098488,0.09867303818464279,-0.02501711994409561,0.029295800253748894,-0.05495978519320488,-0.006094959564507008]'
SET
  @TechnicalDesignVector_b62a9f68 = N'[0.008192617446184158,0.05371181666851044,0.0006745386635884643,-0.05114585533738136,-0.03762247785925865,-0.038103148341178894,0.02108524553477764,0.06705368310213089,-0.06090853363275528,-0.08325742185115814,-0.009213331155478954,-0.023592926561832428,0.05737128108739853,0.09680955111980438,-0.004846707917749882,-0.07939097285270691,-0.0494232214987278,0.04103616997599602,-0.019623493775725365,0.0014582283329218626,0.0023560761474072933,-0.008272148668766022,-0.026311272755265236,-0.028117239475250244,-0.0028582981321960688,-0.01757880300283432,-0.04095466807484627,-0.009846676141023636,0.03595255687832832,-0.04677876830101013,-0.010591285303235054,0.08034705370664597,-0.050469979643821716,-0.027124809101223946,0.0000018203684248874197,-0.06041663885116577,-0.0343056246638298,0.005747278220951557,0.016264867037534714,-0.001233391580171883,0.0018280883086845279,-0.027352867648005486,0.007674925494939089,-0.006014887243509293,-0.005227285902947187,-0.08400101959705353,0.021465063095092773,0.08123935759067535,-0.004548847675323486,-0.021711260080337524,0.020982827991247177,0.0060545471496880054,0.06649484485387802,0.017395395785570145,0.10293799638748169,0.04430381953716278,0.01778489723801613,-0.03434830158948898,0.028275512158870697,-0.03525479510426521,-0.03008568286895752,-0.03048412874341011,0.04449548199772835,-0.010480455122888088,0.014661694876849651,0.021263884380459785,0.04946063831448555,0.048368167132139206,-0.007171604782342911,0.058095965534448624,0.11247812956571579,0.03780137002468109,-0.030483704060316086,0.028834929689764977,-0.04403233528137207,-0.044217851012945175,0.01718789152801037,0.005000888369977474,-0.0226457342505455,-0.00554833235219121,-0.007952404208481312,0.02779204584658146,-0.05202769488096237,0.028277119621634483,0.0013872948475182056,0.01759924367070198,0.034170687198638916,-0.043092358857393265,-0.006863897666335106,-0.020258493721485138,0.020594825968146324,0.006321208085864782,-0.016316620633006096,-0.02720407024025917,-0.01849265582859516,0.019413327798247337,0.021682655438780785,-0.07319917529821396,0.06653742492198944,0.04504631832242012,-0.0067911590449512005,0.06112654507160187,-0.003183569759130478,0.015894906595349312,0.08160752058029175,0.04435378685593605,-0.050234220921993256,-0.04456574469804764,0.016201281920075417,0.0034861427266150713,-0.00444280868396163,0.014258788898587227,0.007186991162598133,-0.004720466211438179,0.017192214727401733,0.014139988459646702,-0.02905040979385376,-0.057085223495960236,-0.006756058428436518,-0.025501184165477753,0.10158330947160721,-0.0222088061273098,-0.03648120537400246,-0.021232761442661285,-0.05648229271173477,-0.04341785982251167,0.02320423349738121,-0.0816669836640358,-0.03816932439804077,0.01997847855091095,0.004394839983433485,-0.060305673629045486,0.01455564983189106,-0.04507676512002945,-0.03402304649353027,0.024858983233571053,0.03248422592878342,0.02651483751833439,0.030747631564736366,0.028596099466085434,0.04238014668226242,0.016946004703640938,-0.022877836599946022,0.039512939751148224,-0.054310575127601624,-0.003734415164217353,0.007963983342051506,-0.03658946231007576,0.01346199307590723,0.041966091841459274,0.008408269844949245,-0.0035571944899857044,-0.08796139806509018,-0.02933424338698387,-0.05579068511724472,0.03562778979539871,-0.010491286404430866,-0.0182183925062418,-0.0026778988540172577,-0.01788170076906681,-0.009322917088866234,-0.018226545304059982,0.07681228965520859,0.037775684148073196,-0.03887081891298294,0.03505529463291168,-0.05119232460856438,-0.047408659011125565,0.047610364854335785,-0.0000071666663643554784,0.026751454919576645,-0.014720644801855087,-0.03820621222257614,-0.033261489123106,-0.02534325420856476,-0.05836192145943642,0.03694808855652809,-0.024931952357292175,-0.06736032664775848,-0.007476395461708307,-0.040810879319906235,-0.0797542929649353,-0.011219793930649757,0.04876047745347023,0.03033757582306862,0.001900679082609713,-0.05307014286518097,0.03347379341721535,0.000648408429697156,0.022862760350108147,-0.01777966134250164,0.023389622569084167,0.027699852362275124,-0.01400680560618639,0.0049782623536884785,0.0022061862982809544,-0.03171392157673836,0.032394491136074066,0.019294610247015953,0.06018000841140747,-0.0005609366926364601,-0.06431612372398376,0.005839151330292225,0.011389262042939663,0.025187499821186066,0.022407665848731995,0.010143362917006016,-0.05388854816555977,-0.01613526977598667,0.011522959917783737,-0.028344113379716873,0.027685904875397682,-0.006502658128738403,-0.018714727833867073,-0.02274017408490181,-0.008676639758050442,0.004594458732753992,-0.0047630625776946545,-0.04399506747722626,0.009511451236903667,-0.006598547101020813,0.015922704711556435,0.057322803884744644,-0.0016975447069853544,0.10192828625440598,-0.0008461129036732018,-0.002193209482356906,-0.03899679705500603,0.03436332568526268,-0.017252586781978607,-0.02300858497619629,-0.021521978080272675,-0.015234336256980896,0.03395579382777214,0.05107495188713074,-0.005443116184324026,-0.018487898632884026,0.043962303549051285,-0.003855253104120493,0.013415602035820484,-0.016444386914372444,-0.008809523656964302,-0.01976601965725422,0.03428739309310913,-0.004094264004379511,-0.0199525598436594,-0.02886839397251606,0.0069115846417844296,-0.02362009882926941,-0.016046306118369102,0.03136557713150978,0.018666796386241913,0.008416825905442238,-0.04295150190591812,-0.0031554833985865116,-0.0062321946024894714,0.01101698912680149,0.011708362028002739,-0.048813533037900925,0.011587802320718765,0.010138437151908875,0.007452439982444048,0.022100301459431648,-0.017244452610611916,0.03566214442253113,-0.032580841332674026,0.05714098736643791,-0.017292741686105728,0.00952113512903452,-0.005164896138012409,-0.00984231662005186,0.032729439437389374,-0.00990652572363615,-0.017796311527490616,-0.0031398904975503683,0.060625627636909485,-0.015687089413404465,0.026191633194684982,-0.00762985972687602,-0.04884163290262222,-0.014189469628036022,-0.09188801795244217,-0.006638278253376484,0.018733574077486992,0.004044470842927694,0.016903379932045937,-0.0004781759053003043,0.01628275401890278,-0.03568249195814133,-0.05452117696404457,0.018152698874473572,0.01746789738535881,0.03806433454155922,-0.03903225436806679,-0.0006816547247581184,-0.01855446770787239,0.03516232594847679,0.011736329644918442,-0.022209569811820984,0.001351909595541656,0.040010321885347366,-0.02691369317471981,-0.016036681830883026,0.01779334805905819,0.02526981197297573,0.06175074353814125,0.018393948674201965,-0.035371504724025726,0.03587809205055237,0.08156090974807739,0.021768843755126,0.010078983381390572,0.01629495434463024,-0.0638670101761818,0.02538268268108368,0.03258559852838516,-0.025120103731751442,-0.01112367957830429,-0.007940201088786125,0.07214341312646866,-0.022761985659599304,-0.04627907648682594,0.024383336305618286,-0.002749164355918765,-0.01963438093662262,0.007294042035937309,0.030338125303387642,-0.011694170534610748,0.08049411326646805,-0.0078543396666646,0.013954736292362213,-0.010052659548819065,0.015128809958696365,0.04145735502243042,0.07191920280456543,-0.029718099161982536,-0.015821155160665512,-0.039516717195510864,-0.02017034776508808,-0.013417119160294533,-0.0008795783505775034,-0.0069611817598342896,-0.018986376002430916,0.006411683280020952,-0.03129727765917778,-0.04985972121357918,-0.014148159883916378,0.01709475740790367,-0.0034812879748642445,0.03907797113060951,0.009665238671004772,0.021467698737978935,0.002952347742393613,0.0021678416524082422,0.029257936403155327,0.011042585596442223,-0.0032950902823358774,-0.014967439696192741,0.03362131491303444,-0.007188750896602869,0.03339427337050438,0.016062410548329353,0.07041311264038086,0.04415198042988777,-0.04729177802801132,0.032905224710702896,0.03433443605899811,0.038202688097953796,-0.031143242493271828,-0.03597951680421829,-0.01966061070561409,0.008667916059494019,0.03206292912364006,0.019607210531830788,-0.026961715891957283,-0.03886598348617554,0.017373420298099518,-0.026239929720759392,-0.005210681352764368,0.010550132021307945,0.06571528315544128,-0.011260476894676685,0.0390758290886879,-0.013931064866483212,-0.020686069503426552,-0.03971346467733383,0.016686515882611275,-0.00849759578704834,-0.013798010535538197,-0.023459941148757935,-0.030190162360668182,-0.004857826046645641,-0.07457028329372406,0.03480352833867073,0.01711924374103546,0.03529675304889679,-0.005146512296050787,0.040564633905887604,0.03145018592476845,-0.010600588284432888,-0.03757554665207863,0.14411765336990356,0.005711033008992672,0.03593739494681358,0.0013715006643906236,0.0200007613748312,0.04703166335821152,-0.020187702029943466,0.056213293224573135,-0.031585898250341415,-0.03631025552749634,-0.08173102140426636,-0.016535716131329536,0.010308156721293926,0.013209475204348564,0.014887425117194653,-0.004738448187708855,-0.07528592646121979,-0.007138213142752647,0.034267064183950424,-0.03853968158364296,0.021277431398630142,0.03989942744374275,0.005478717386722565,0.011770393699407578,-0.04854236915707588,-0.032981861382722855,-0.027177760377526283,-0.019814714789390564,-0.00980705488473177,-0.01154103223234415,-0.004120930097997189,-0.02858208306133747,0.0684715285897255,-0.006589846685528755,0.0015762831317260861,-0.0011171149089932442,-0.05170341208577156,0.023874931037425995,0.0033925629686564207,-0.0037644628901034594,-0.013919750228524208,0.05894525721669197,0.01675221510231495,0.008907140232622623,-0.018980082124471664,-0.03286338970065117,0.10686846822500229,0.01947709545493126,-0.012788764201104641,-0.012939142994582653,-0.014415498822927475,-0.0602804534137249,0.03081568516790867,-0.01887238398194313,-0.04877220466732979,-0.03163374960422516,0.07978052645921707,0.03147198259830475,0.06953851878643036,-0.020905952900648117,0.027091190218925476,-0.06428392231464386,0.006814608350396156,-0.059019628912210464,-0.09674292057752609,0.0003048967628274113,-0.04771897941827774,-0.02344040758907795,-0.031772416085004807,-0.017391903325915337,0.013699322007596493,-0.03616324067115784,0.0036335692275315523,0.023636560887098312,0.0315818153321743,-0.010228795930743217,-0.04690903052687645,0.04637893661856651,-0.00485855620354414,-0.005307395476847887,0.06216065585613251,-0.0037595403846353292,-0.037543151527643204,0.02878805436193943,0.046616967767477036,-0.011185535229742527,0.004245822783559561,-0.013711903244256973,-0.0001683031878201291,0.012049725279211998,-0.030190058052539825,0.003004669211804867,0.059115588665008545,0.03837902471423149,-0.0028730432968586683,0.034814320504665375,0.009834552183747292,0.03361430764198303,0.00045480713015422225,0.023218005895614624,-0.046569954603910446,0.001952916500158608,0.061518341302871704,-0.0034092043060809374,-0.005496473982930183,0.011475036852061749,0.06371377408504486,-0.04786323010921478,-0.0869283378124237,0.04387998953461647,-0.04843769967556,-0.03399496152997017,0.05940394103527069,0.03210310637950897,0.11632701009511948,0.003885667771100998,0.04604610428214073,-0.0035258193966001272,0.02106531709432602,0.013322708196938038,0.016895916312932968,0.00030134106054902077,0.0018566662911325693,0.06576404720544815,0.037798430770635605,0.01143956370651722,0.0042543793097138405,0.06876557320356369,-0.006656677462160587,0.02629857137799263,0.039207059890031815,-0.025107491761446,0.046367108821868896,0.046564631164073944,0.0902368351817131,0.02320360392332077,-0.034414488822221756,0.02759750373661518,-0.013366804458200932,-0.0510304793715477,0.012513169087469578,0.023459604009985924,-0.03188423067331314,0.029625147581100464,0.02232193946838379,0.013187352567911148,-0.047655265778303146,-0.0201360285282135,0.010117636993527412,0.04596160724759102,-0.014643773436546326,-0.07690675556659698,-0.04950585588812828,0.0019745773170143366,-6.262690803767502e-33,-0.007990413345396519,-0.033237192779779434,-0.02846745401620865,-0.0545753575861454,0.022451147437095642,-0.021269112825393677,-0.006633622571825981,-0.031306032091379166,0.022839326411485672,-0.008523020893335342,-0.020919736474752426,-0.0836460143327713,0.012569805607199669,0.044101133942604065,-0.03389916941523552,-0.021016988903284073,-0.0025558071210980415,0.021691493690013885,0.044146474450826645,0.006189873907715082,-0.07385265827178955,0.033458951860666275,0.008560765534639359,-0.03788851574063301,-0.03972155973315239,0.001037506852298975,-0.03443214297294617,0.04052181541919708,-0.04031754657626152,0.038314227014780045,-0.027247130870819092,-0.01710606925189495,-0.025761453434824944,-0.04400874674320221,0.014680108986794949,0.010158407501876354,-0.03628627955913544,-0.04909419268369675,-0.012450306676328182,-0.010823147371411324,0.0035784500651061535,-0.009396390989422798,0.0015570571413263679,-0.012890329584479332,0.015631722286343575,-0.00754264323040843,-0.01116358395665884,-0.02618090994656086,0.006005074363201857,-0.023767821490764618,0.025993922725319862,0.013739724643528461,0.0016922970535233617,0.009373754262924194,-0.04151751846075058,-0.012355796992778778,0.05175566300749779,-0.021016666665673256,-0.10795751214027405,-0.015173926949501038,-0.0028274650685489178,-0.06500504910945892,0.00524157052859664,0.04118362069129944,0.050559937953948975,0.038532912731170654,-0.0017726680962368846,0.008536528795957565,-0.08744655549526215,0.0016997321508824825,-0.003628889564424753,-0.05380057170987129,-0.0011760940542444587,0.011982234194874763,0.06601326167583466,0.014429328963160515,0.006922906264662743,-0.02566147968173027,-0.005271670874208212,0.05604255944490433,0.017262795940041542,0.04570896178483963,-0.009945630095899105,0.03782429173588753,-0.06947839260101318,-0.010841569863259792,0.02434447966516018,-0.046309761703014374,0.0061633591540157795,-0.02158551663160324,-0.026216724887490273,-0.012176751159131527,-0.007980146445333958,0.04627811536192894,-0.07569727301597595,0.03375370800495148,0.011091380380094051,0.042206548154354095,-0.019858932122588158,-0.02874218113720417,0.024557290598750114,-0.02152477763593197,0.015651706606149673,-0.012746061198413372,-0.013508018106222153,0.0389505997300148,-0.03867366909980774,-0.013514944352209568,-0.06022541597485542,0.02266988344490528,0.05712730437517166,0.018205707892775536,-0.02943105250597,-0.07084321975708008,-0.006053685210645199,-0.005919746123254299,-0.010285813361406326,-0.003020837903022766,0.042745206505060196,0.053684525191783905,-0.004649623297154903,0.009662599302828312,0.0011147920740768313,0.037453990429639816,0.02681664749979973,0.003217132994905114,-0.02187882922589779,-0.08903103321790695,-0.03411673754453659,-0.004815037827938795,0.02107340097427368,0.011250192299485207,2.7350967002348625e-7,-0.010677766986191273,0.007735476829111576,-0.025627611204981804,0.008710426278412342,0.012609150260686874,-0.024907050654292107,-0.001294263987801969,-0.03080093115568161,0.025105483829975128,-0.12036014348268509,-0.010357673279941082,0.014199375174939632,0.0081498296931386,0.06782379746437073,-0.03277285397052765,-0.03396321460604668,0.023367315530776978,-0.0205656960606575,-0.023454435169696808,0.01461042184382677,0.05222994089126587,0.030588580295443535,0.10059007257223129,0.014670517295598984,0.01343003660440445,0.08052393049001694,0.014862779527902603,-0.06417755782604218,0.04992171376943588,-0.024113895371556282,0.013972773216664791,-0.03186032548546791,-0.03493247926235199,0.03594150394201279,0.03527206927537918,0.0049927448853850365,-0.030537236481904984,0.01767987571656704,0.00674793403595686,0.06024588644504547,0.05261347442865372,0.017014550045132637,0.0019838628359138966,-0.017184358090162277,0.04626065492630005,0.03090604953467846,-0.03914859890937805,0.0054070912301540375,-0.017339827492833138,-0.019651688635349274,0.012057824060320854,-0.023672087118029594,-0.003380174981430173,-0.061009202152490616,-0.014608926139771938,-0.045668769627809525,-0.02026459202170372,0.020617598667740822,-0.005028494168072939,-0.004968093242496252,0.009714016690850258,-0.01405375637114048,0.02833898551762104,-0.0006202252698130906,0.018924249336123466,-0.05211041495203972,-0.021974964067339897,3.1298815899927405e-34,0.01675071008503437,-0.075608991086483,0.01888543926179409,0.06771809607744217,0.06973201781511307,-0.019403409212827682,0.06641495227813721,-0.04652292653918266,0.022236373275518417,-0.035418566316366196,-0.018663277849555016]'
SET
  @HasCustomProps_b62a9f68 = 1
SET
  @HasCustomEvents_b62a9f68 = 0
SET
  @RequiresData_b62a9f68 = 1
SET
  @DependencyCount_b62a9f68 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_b62a9f68 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_b62a9f68 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_b62a9f68 = 1
SET
  @ID_b62a9f68 = '4E58FCE0-E5DA-4930-8E84-987355D5F429'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_b62a9f68,
  @Name = @Name_b62a9f68,
  @Version = @Version_b62a9f68,
  @VersionSequence = @VersionSequence_b62a9f68,
  @Title = @Title_b62a9f68,
  @Description = @Description_b62a9f68,
  @Type = @Type_b62a9f68,
  @Status = @Status_b62a9f68,
  @DeveloperName = @DeveloperName_b62a9f68,
  @DeveloperEmail = @DeveloperEmail_b62a9f68,
  @DeveloperOrganization = @DeveloperOrganization_b62a9f68,
  @SourceRegistryID = @SourceRegistryID_b62a9f68,
  @ReplicatedAt = @ReplicatedAt_b62a9f68,
  @LastSyncedAt = @LastSyncedAt_b62a9f68,
  @Specification = @Specification_b62a9f68,
  @FunctionalRequirements = @FunctionalRequirements_b62a9f68,
  @TechnicalDesign = @TechnicalDesign_b62a9f68,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_b62a9f68,
  @TechnicalDesignVector = @TechnicalDesignVector_b62a9f68,
  @HasCustomProps = @HasCustomProps_b62a9f68,
  @HasCustomEvents = @HasCustomEvents_b62a9f68,
  @RequiresData = @RequiresData_b62a9f68,
  @DependencyCount = @DependencyCount_b62a9f68,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_b62a9f68,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_b62a9f68,
  @HasRequiredCustomProps = @HasRequiredCustomProps_b62a9f68,
  @ID = @ID_b62a9f68;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_a6d46eea NVARCHAR(MAX),
@Name_a6d46eea NVARCHAR(500),
@Version_a6d46eea NVARCHAR(50),
@VersionSequence_a6d46eea INT,
@Title_a6d46eea NVARCHAR(1000),
@Description_a6d46eea NVARCHAR(MAX),
@Type_a6d46eea NVARCHAR(255),
@Status_a6d46eea NVARCHAR(50),
@DeveloperName_a6d46eea NVARCHAR(255),
@DeveloperEmail_a6d46eea NVARCHAR(255),
@DeveloperOrganization_a6d46eea NVARCHAR(255),
@SourceRegistryID_a6d46eea UNIQUEIDENTIFIER,
@ReplicatedAt_a6d46eea DATETIMEOFFSET,
@LastSyncedAt_a6d46eea DATETIMEOFFSET,
@Specification_a6d46eea NVARCHAR(MAX),
@FunctionalRequirements_a6d46eea NVARCHAR(MAX),
@TechnicalDesign_a6d46eea NVARCHAR(MAX),
@FunctionalRequirementsVector_a6d46eea NVARCHAR(MAX),
@TechnicalDesignVector_a6d46eea NVARCHAR(MAX),
@HasCustomProps_a6d46eea BIT,
@HasCustomEvents_a6d46eea BIT,
@RequiresData_a6d46eea BIT,
@DependencyCount_a6d46eea INT,
@TechnicalDesignVectorEmbeddingModelID_a6d46eea NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_a6d46eea NVARCHAR(MAX),
@HasRequiredCustomProps_a6d46eea BIT,
@ID_a6d46eea UNIQUEIDENTIFIER
SET
  @Namespace_a6d46eea = N'CRM/Analytics'
SET
  @Name_a6d46eea = N'DealList'
SET
  @Version_a6d46eea = N'1.0.0'
SET
  @VersionSequence_a6d46eea = 1
SET
  @Title_a6d46eea = N'Deal List'
SET
  @Description_a6d46eea = N'List view component for deals with tabular display'
SET
  @Type_a6d46eea = N'Table'
SET
  @Status_a6d46eea = N'Published'
SET
  @Specification_a6d46eea = N'{"name":"DealList","namespace":"CRM/Analytics","type":"Table","location":"embedded","code":"// DealList Sub-component\nfunction DealList ({ deals, sortConfig, onSort, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Load OpenRecordButton component\n  const OpenRecordButton = components[''OpenRecordButton''];\n  const handleSort = (field) => {\n    const newOrder = sortConfig?.field === field && sortConfig?.order === ''asc'' ? ''desc'' : ''asc'';\n    if (onSort) {\n      onSort({ field, order: newOrder });\n    }\n  };\n\n  const getSortIcon = (field) => {\n    if (sortConfig?.field !== field) return ''↕'';\n    return sortConfig.order === ''asc'' ? ''↑'' : ''↓'';\n  };\n\n\n  return (\n    <div style={{ width: ''100%'', overflowX: ''auto'' }}>\n      <table style={{ \n        width: ''100%'', \n        borderCollapse: ''collapse'',\n        backgroundColor: ''#fff''\n      }}>\n        <thead>\n          <tr style={{ backgroundColor: ''#f8f9fa'', borderBottom: ''2px solid #dee2e6'' }}>\n            <th \n              onClick={() => handleSort(''name'')}\n              style={{\n                padding: ''12px'',\n                textAlign: ''left'',\n                cursor: ''pointer'',\n                userSelect: ''none'',\n                whiteSpace: ''nowrap''\n              }}\n            >\n              Deal Name {getSortIcon(''name'')}\n            </th>\n            <th \n              onClick={() => handleSort(''accountName'')}\n              style={{\n                padding: ''12px'',\n                textAlign: ''left'',\n                cursor: ''pointer'',\n                userSelect: ''none'',\n                whiteSpace: ''nowrap''\n              }}\n            >\n              Account {getSortIcon(''accountName'')}\n            </th>\n            <th \n              onClick={() => handleSort(''stage'')}\n              style={{\n                padding: ''12px'',\n                textAlign: ''left'',\n                cursor: ''pointer'',\n                userSelect: ''none'',\n                whiteSpace: ''nowrap''\n              }}\n            >\n              Stage {getSortIcon(''stage'')}\n            </th>\n            <th \n              onClick={() => handleSort(''value'')}\n              style={{\n                padding: ''12px'',\n                textAlign: ''right'',\n                cursor: ''pointer'',\n                userSelect: ''none'',\n                whiteSpace: ''nowrap''\n              }}\n            >\n              Value {getSortIcon(''value'')}\n            </th>\n            <th \n              onClick={() => handleSort(''probability'')}\n              style={{\n                padding: ''12px'',\n                textAlign: ''center'',\n                cursor: ''pointer'',\n                userSelect: ''none'',\n                whiteSpace: ''nowrap''\n              }}\n            >\n              Prob. {getSortIcon(''probability'')}\n            </th>\n            <th \n              onClick={() => handleSort(''closeDate'')}\n              style={{\n                padding: ''12px'',\n                textAlign: ''left'',\n                cursor: ''pointer'',\n                userSelect: ''none'',\n                whiteSpace: ''nowrap''\n              }}\n            >\n              Close Date {getSortIcon(''closeDate'')}\n            </th>\n            <th style={{ \n              padding: ''12px'', \n              textAlign: ''center'',\n              width: ''50px''\n            }}>\n              Action\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {deals && deals.map((deal, index) => (\n            <tr \n              key={deal.id || index}\n              style={{ \n                borderBottom: ''1px solid #dee2e6'',\n                transition: ''background-color 0.1s''\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = ''#f8f9fa'';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = ''transparent'';\n              }}\n            >\n              <td style={{ padding: ''12px'' }}>\n                <div style={{ fontWeight: ''500'' }}>{deal.name}</div>\n                <div style={{ fontSize: ''12px'', color: ''#6c757d'' }}>{deal.ownerName}</div>\n              </td>\n              <td style={{ padding: ''12px'' }}>{deal.accountName}</td>\n              <td style={{ padding: ''12px'' }}>\n                <span style={{\n                  display: ''inline-block'',\n                  padding: ''4px 8px'',\n                  borderRadius: ''4px'',\n                  fontSize: ''12px'',\n                  fontWeight: ''500'',\n                  backgroundColor: deal.stage === ''Closed Won'' ? ''#d4edda'' : \n                                   deal.stage === ''Closed Lost'' ? ''#f8d7da'' : ''#e7f3ff'',\n                  color: deal.stage === ''Closed Won'' ? ''#155724'' : \n                         deal.stage === ''Closed Lost'' ? ''#721c24'' : ''#004085''\n                }}>\n                  {deal.stage}\n                </span>\n              </td>\n              <td style={{ padding: ''12px'', textAlign: ''right'', fontWeight: ''500'' }}>\n                $' + '{(deal.value || 0).toLocaleString()}\n              </td>\n              <td style={{ padding: ''12px'', textAlign: ''center'' }}>\n                <div style={{\n                  display: ''inline-block'',\n                  width: ''40px'',\n                  height: ''40px'',\n                  borderRadius: ''50%'',\n                  background: `conic-gradient(#28a745 0deg $' + '{deal.probability * 3.6}deg, #e9ecef $' + '{deal.probability * 3.6}deg)`,\n                  display: ''flex'',\n                  alignItems: ''center'',\n                  justifyContent: ''center'',\n                  fontSize: ''11px'',\n                  fontWeight: ''bold''\n                }}>\n                  {deal.probability}%\n                </div>\n              </td>\n              <td style={{ padding: ''12px'' }}>\n                {deal.closeDate ? new Date(deal.closeDate).toLocaleDateString() : ''-''}\n              </td>\n              <td style={{ padding: ''12px'', textAlign: ''center'' }}>\n                {OpenRecordButton && (\n                  <OpenRecordButton\n                    entityName=\"Deals\"\n                    record={deal}\n                    text=\"↗\"\n                    variant=\"default\"\n                    size=\"small\"\n                    showIcon={false}\n                    utilities={utilities}\n                    styles={styles}\n                    components={components}\n                    callbacks={callbacks}\n                    savedUserSettings={savedUserSettings}\n                    onSaveUserSettings={onSaveUserSettings}\n                  />\n                )}\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      {(!deals || deals.length === 0) && (\n        <div style={{ \n          padding: ''40px'', \n          textAlign: ''center'',\n          color: ''#6c757d''\n        }}>\n          No deals found\n        </div>\n      )}\n    </div>\n  );\n}","functionalRequirements":"## Deal List Component\n\n### Purpose\nDisplay deals in a tabular format with sortable columns.\n\n### Features\n- Table layout with headers\n- Deal name, amount, and probability columns\n- Currency formatting\n- Uses OpenRecordButton component for opening deals\n- Hover effects on rows\n- Clean table styling","dataRequirements":{"mode":"views","description":"Displays list of deals passed via props","entities":[{"name":"Deals","description":"Deal entities displayed in table format","displayFields":["ID","DealName","Amount","CloseDate","Probability","Stage","Account"],"filterFields":[],"sortFields":["DealName","Amount","Probability"],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Array of deals displayed as sortable table rows"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Props\n- deals: Array of deal objects\n\n### Dependencies\n- OpenRecordButton: Generic button component for opening entity records\n\n### Table Structure\n- Header row with column labels\n- Data rows with deal information\n- Click handlers on rows","properties":[{"name":"deals","type":"Array<{ID: string, DealName: string, Amount: number, CloseDate: string, Probability: number, Stage?: string, Account?: string}>","required":true,"description":"Array of deal entities"}],"events":[],"dependencies":[{"name":"OpenRecordButton","location":"registry","namespace":"Generic/Navigation","version":"^1.0.0"}],"libraries":[],"description":"List view component for deals with tabular display"}'
SET
  @FunctionalRequirements_a6d46eea = N'## Deal List Component

### Purpose
Display deals in a tabular format with sortable columns.

### Features
- Table layout with headers
- Deal name, amount, and probability columns
- Currency formatting
- Uses OpenRecordButton component for opening deals
- Hover effects on rows
- Clean table styling'
SET
  @TechnicalDesign_a6d46eea = N'## Implementation

### Props
- deals: Array of deal objects

### Dependencies
- OpenRecordButton: Generic button component for opening entity records

### Table Structure
- Header row with column labels
- Data rows with deal information
- Click handlers on rows'
SET
  @FunctionalRequirementsVector_a6d46eea = N'[-0.007615955080837011,0.04751905798912048,0.007741496432572603,-0.04114147275686264,0.018646160140633583,0.038784466683864594,0.029300685971975327,0.06329822540283203,-0.0277843214571476,-0.032287437468767166,-0.05346309766173363,-0.01147887296974659,0.039817456156015396,0.12050306051969528,-0.013647550716996193,-0.03040941432118416,-0.0006174629088491201,0.005326094105839729,-0.0019303213339298964,0.016587520018219948,0.006657953839749098,-0.020401393994688988,-0.017605559900403023,-0.021016370505094528,0.008188262581825256,0.010406960733234882,-0.018610188737511635,-0.017879227176308632,-0.0038538400549441576,-0.0579325295984745,-0.0018020434072241187,0.03663701191544533,-0.017638983204960823,-0.046096447855234146,0.0000018612875010148855,0.005720945540815592,-0.06601282209157944,0.03057737834751606,-0.020765317603945732,0.006579629145562649,0.035765793174505234,-0.04462944343686104,0.02966216206550598,-0.0009205741807818413,-0.03584670275449753,-0.0857868418097496,-0.02908027172088623,0.09800159931182861,0.01618272252380848,0.009377624839544296,0.02904488518834114,-0.009365807287395,0.00788236502557993,-0.013508454896509647,0.12011263519525528,-0.0203947052359581,-0.005823185667395592,-0.017776302993297577,-0.010633663274347782,-0.008245334029197693,-0.011897257529199123,-0.041730836033821106,0.026111245155334473,-0.03386436402797699,0.039295997470617294,0.040584392845630646,-0.0013137877685949206,0.019992457702755928,0.006252357270568609,0.029903234913945198,0.11271198093891144,0.004343875218182802,-0.002057167701423168,-0.02665536291897297,-0.0052965497598052025,-0.08116590231657028,-0.03382507711648941,0.06199810653924942,0.00791659951210022,0.0015692472225055099,0.010545365512371063,0.04929273948073387,-0.01232678908854723,0.0036412677727639675,-0.03610451519489288,0.0013928307453170419,-0.020371729508042336,-0.02600681409239769,-0.02086513862013817,-0.041444893926382065,0.04500541836023331,0.0011417014757171273,-0.047104619443416595,0.005255592055618763,-0.06981800496578217,-0.01158727053552866,0.035642609000205994,-0.03316988795995712,0.04395792633295059,0.0340067483484745,-0.03734680637717247,0.03571546450257301,0.04159140586853027,-0.023492775857448578,0.013537677004933357,0.0031262433622032404,-0.06094333902001381,-0.06052326411008835,-0.01732015609741211,0.02579672634601593,0.007705438416451216,-0.005445527378469706,0.0006866632029414177,0.05693354830145836,-0.04154466837644577,0.0037545026279985905,-0.03530029207468033,-0.04061930254101753,-0.03740350902080536,0.04780501872301102,0.11511015146970749,0.0020024809055030346,0.008067247457802296,0.012541844509541988,-0.030472664162516594,-0.018814152106642723,0.026064997538924217,-0.061851851642131805,0.02115343138575554,0.03791548311710358,-0.030159609392285347,-0.006283388007432222,-0.007543553132563829,-0.05847346410155296,-0.007886799052357674,0.021728340536355972,0.011497758328914642,0.017208673059940338,0.07114339619874954,0.022749101743102074,-0.003160933731123805,0.007425388321280479,-0.03836945444345474,0.020867440849542618,-0.0364239364862442,-0.0012471849331632257,0.00839933566749096,-0.03902246057987213,0.03552251681685448,0.023368848487734795,-0.03632792457938194,0.03704828768968582,-0.018337782472372055,-0.013341829180717468,-0.026025623083114624,-0.010812616907060146,0.035320818424224854,-0.06708284467458725,-0.001750451629050076,0.02775477059185505,-0.029629478231072426,0.0038212991785258055,0.06726326048374176,-0.024789968505501747,-0.020904572680592537,-0.0317147895693779,-0.04887092858552933,0.01257652323693037,0.05022623762488365,0.0010767125058919191,0.010661591775715351,-0.02097422629594803,-0.03298621252179146,0.013459259644150734,0.012936720624566078,0.007286513224244118,0.058752380311489105,0.03814306855201721,-0.05115966498851776,-0.02765609510242939,0.022856008261442184,-0.09135566651821136,-0.0001555701019242406,0.012676091864705086,0.058584146201610565,-0.02214844338595867,-0.03772275522351265,0.0052994126453995705,0.004572375677525997,0.0029031778685748577,-0.02088112384080887,-0.01466451957821846,-0.019150063395500183,0.01754523627460003,-0.024836037307977676,0.0011267970548942685,-0.04121308773756027,0.0032114717178046703,0.0598679780960083,0.02385016158223152,-0.01749315671622753,-0.06993438303470612,0.034764718264341354,0.050543539226055145,0.0028252119664102793,0.0033436231315135956,0.012426208704710007,-0.035352181643247604,-0.05122867226600647,0.0195168349891901,0.04082147777080536,-0.011413035914301872,-0.05763252079486847,0.029447536915540695,-0.01438481267541647,0.0697467103600502,0.01527540571987629,0.03222857788205147,-0.04371758550405502,-0.024331500753760338,-0.015263207256793976,0.028461992740631104,0.01911611296236515,0.0011922017438337207,0.140335813164711,-0.014056839048862457,0.03983606770634651,-0.04657227545976639,0.028461677953600883,-0.033215321600437164,-0.013576283119618893,-0.018051516264677048,0.02896481566131115,0.02607475034892559,0.05232405290007591,-0.01359487883746624,-0.006870439276099205,0.06469117105007172,-0.021172048524022102,0.06332606077194214,-0.02452293038368225,-0.05549696460366249,-0.022090164944529533,0.014596252702176571,0.023604659363627434,-0.0013004958163946867,-0.12631669640541077,0.0149471340700984,-0.01692672073841095,0.014667718671262264,0.046977102756500244,-0.0002782168157864362,0.07127640396356583,-0.010080466978251934,-0.02122535929083824,0.06833978742361069,-0.08353976160287857,-0.002736699767410755,-0.055193815380334854,0.08275241404771805,0.0042097182013094425,0.001800740254111588,0.009632823057472706,-0.020082734525203705,0.04697767272591591,-0.001059937640093267,0.02741764485836029,-0.045923247933387756,0.03681863099336624,0.016944654285907745,-0.005167527124285698,0.011885750107467175,0.016203343868255615,-0.014109824784100056,-0.019168712198734283,0.01926656812429428,-0.08090737462043762,0.033677663654088974,-0.020029133185744286,0.010876111686229706,-0.03539156913757324,-0.010052322410047054,-0.01649024710059166,0.03138691931962967,0.029118547216057777,-0.0201244093477726,-0.018375365063548088,-0.026653103530406952,-0.004843500442802906,-0.0628964900970459,0.05887197330594063,-0.0033687676768749952,0.03549404442310333,0.002330377232283354,-0.013790477998554707,0.008012959733605385,-0.002052412601187825,0.0639093816280365,-0.00772210955619812,0.06721370667219162,-0.02275571972131729,-0.014103015884757042,-0.018564367666840553,0.010015214793384075,0.019240112975239754,0.04896147921681404,0.021236930042505264,-0.01229911670088768,-0.005483279936015606,0.07901453971862793,0.006297232583165169,0.029870323836803436,0.01482744887471199,-0.05886390432715416,0.019107716158032417,0.025030137971043587,-0.04585385322570801,0.0626237690448761,-0.025327587500214577,0.07552611082792282,0.02110160142183304,-0.006158706732094288,-0.021814996376633644,-0.008553458377718925,-0.007449799682945013,0.018550921231508255,-0.03101448155939579,-0.037596579641103745,-0.013916851952672005,-0.004240960348397493,-0.004056290723383427,-0.0975833535194397,-0.0029142992570996284,-0.006128629203885794,0.0394543819129467,-0.012820092961192131,-0.03232987970113754,0.0506756529211998,0.022781535983085632,-0.008634780533611774,-0.026581522077322006,0.010835801251232624,-0.024070922285318375,-0.06344060599803925,0.006579890381544828,0.004178947303444147,0.06509748846292496,0.002989661879837513,-0.07411876320838928,0.03785637021064758,0.049649644643068314,0.03023434430360794,-0.03383677080273628,-0.018109897151589394,0.007728511933237314,0.027886681258678436,0.0003446448827162385,-0.031160252168774605,0.014655264094471931,-0.021905813366174698,0.010541923344135284,0.02234768681228161,0.00920701865106821,0.047016240656375885,0.008224430494010448,0.05969769135117531,-0.01280440017580986,-0.023271512240171432,-0.01241628173738718,0.02063291147351265,-0.07853907346725464,0.01940649375319481,0.01776185631752014,0.02761710435152054,-0.005602756980806589,-0.026172498241066933,0.0014296597801148891,0.032785024493932724,0.006695397198200226,-0.008448577485978603,0.06481128185987473,-0.050312649458646774,0.05061779171228409,-0.03789417818188667,0.023843079805374146,0.02090410329401493,-0.02640388160943985,-0.04641393572092056,-0.02505633234977722,-0.000006547060365846846,-0.038679447025060654,-0.024011919274926186,-0.08133051544427872,0.0032945398706942797,-0.04121551662683487,-0.018260391429066658,0.040011752396821976,0.08792056143283844,-0.021240590140223503,0.0012594192521646619,-0.00817893911153078,0.061563123017549515,0.05237880349159241,-0.028462905436754227,0.04139094799757004,0.004191063344478607,0.018831538036465645,0.00488015403971076,-0.0026986696757376194,0.0011510038748383522,-0.09299754351377487,-0.05128054320812225,-0.017425566911697388,-0.020954467356204987,0.0324791818857193,0.012762242928147316,0.0057620154693722725,-0.029499638825654984,-0.018859051167964935,-0.0062647429294884205,-0.032835010439157486,0.020785478875041008,0.027984632179141045,-0.012551255524158478,0.0074127535335719585,0.01426463108509779,-0.02911178395152092,-0.07653284072875977,-0.02277836762368679,0.009819588623940945,0.03610952943563461,0.024360038340091705,-0.007116956170648336,-0.014042631722986698,0.008685320615768433,0.029025986790657043,0.007870943285524845,-0.01820078119635582,-0.019256869331002235,-0.011155158281326294,-0.029779458418488503,-0.00350587978027761,0.06175212562084198,-0.026517583057284355,0.02606095001101494,-0.05080379173159599,-0.02614568918943405,0.05788852646946907,-0.0037839908618479967,-0.016165174543857574,-0.032599080353975296,0.011111292988061905,-0.01775750331580639,0.0027605111245065928,-0.06723470240831375,-0.033956319093704224,-0.0171611737459898,-0.012935477308928967,0.01934332773089409,0.0005214032134972513,-0.0015823760768398643,0.03308013454079628,-0.07146479189395905,0.015714535489678383,0.007195224519819021,-0.12085071951150894,-0.01671748235821724,-0.06642982363700867,-0.024405768141150475,-0.053135041147470474,-0.037425071001052856,0.011929023079574108,-0.03990241140127182,-0.016004366800189018,0.03228238597512245,-0.0026594754308462143,-0.038615088909864426,-0.028090767562389374,0.0731826052069664,0.016129126772284508,-0.0011140647111460567,0.0379464216530323,0.018714357167482376,-0.11136326193809509,0.001601346768438816,0.0628407821059227,-0.05945640057325363,-0.008664584718644619,0.03285454958677292,-0.024452218785881996,0.03790796920657158,-0.027911650016903877,-0.014339886605739594,0.07593623548746109,0.020454928278923035,0.05645458400249481,0.005638040602207184,-0.018626200035214424,-0.025450238958001137,-0.03861556947231293,0.003476187353953719,-0.015826638787984848,0.0020458290819078684,0.03330431133508682,-0.021539412438869476,0.003235390642657876,0.014340824447572231,0.008220837451517582,-0.03617120534181595,-0.07356120645999908,0.06473186612129211,-0.010797188617289066,-0.04021940752863884,-0.02145235612988472,0.03830360621213913,0.08464166522026062,-0.06439736485481262,0.02446291595697403,-0.018450701609253883,0.015692971646785736,0.016360344365239143,0.03444071114063263,0.00001752611751726363,0.010643970221281052,0.07483042776584625,-0.013265403918921947,0.026753272861242294,-0.034775737673044205,0.020968515425920486,0.06067685782909393,0.01288200169801712,-0.024495499208569527,-0.0016497509786859155,-0.005735944956541061,-0.000305235997075215,0.06257493048906326,0.006475273985415697,0.00035562418634071946,-0.0030478541739284992,-0.027840688824653625,0.01132192276418209,0.01938524842262268,0.03285006433725357,0.01789170689880848,0.007890858687460423,0.0010422589257359505,-0.02650015987455845,-0.014763353392481804,-0.004507456440478563,0.06364434957504272,0.01625235192477703,-0.01993667148053646,-0.021998031064867973,-0.04389782249927521,-0.031698618084192276,-6.228010046998398e-33,-0.0376085601747036,-0.01991374045610428,-0.035828057676553726,-0.0234125554561615,0.029985373839735985,-0.02484074793756008,0.027204668149352074,-0.03274882584810257,0.035207923501729965,-0.008409836329519749,-0.025370696559548378,-0.010931713506579399,0.023264707997441292,0.006256728898733854,0.0071669830940663815,-0.058621346950531006,-0.0068357717245817184,-0.0036017559468746185,0.03314227983355522,0.019142935052514076,-0.08454260230064392,0.025542959570884705,0.029243167489767075,0.05854836478829384,-0.016377385705709457,-0.011218366213142872,-0.021782780066132545,0.020855000242590904,-0.012560982257127762,0.04907292500138283,-0.02788565307855606,-0.011087456718087196,-0.030519796535372734,-0.041775163263082504,-0.00046345641021616757,-0.045335058122873306,-0.043478261679410934,-0.017830440774559975,-0.01869698241353035,0.009352335706353188,0.10567642003297806,0.017172589898109436,0.017479021102190018,0.010788201354444027,-0.017989730462431908,-0.014811006374657154,0.017152832821011543,-0.013709135353565216,-0.0053112562745809555,-0.020368503406643867,0.031895533204078674,0.016978833824396133,0.014601580798625946,0.03678114339709282,0.054059892892837524,0.009044601581990719,0.0451945886015892,0.010244672186672688,-0.05291564762592316,-0.011552735231816769,0.0003084798518102616,-0.007540227845311165,0.03595468029379845,-0.01694454997777939,0.008163966238498688,-0.023356925696134567,-0.021315651014447212,0.03606521338224411,-0.029982592910528183,-0.06918897479772568,-0.0373862199485302,-0.022609001025557518,0.00843946635723114,0.016616806387901306,0.03981972858309746,0.06735699623823166,-0.025464266538619995,0.02115246094763279,0.023639366030693054,0.06963417679071426,-0.015497414395213127,0.017677929252386093,0.011889718472957611,0.012287192046642303,-0.01264189276844263,-0.014794779941439629,-0.0019437194569036365,-0.02405671961605549,-0.0076101357117295265,0.0004417654126882553,0.052030742168426514,0.03409428894519806,-0.02888689935207367,0.035786114633083344,-0.0829056054353714,0.04801643639802933,0.02794497460126877,0.04142015427350998,-0.013807869516313076,-0.030247049406170845,0.029449494555592537,0.006834463216364384,0.02787785977125168,-0.033168233931064606,-0.0005017969524487853,0.042674511671066284,0.03628614917397499,-0.0072031766176223755,-0.07500088959932327,0.014809087850153446,0.03852894529700279,0.05312514305114746,-0.012153643183410168,0.0020496489014476538,-0.032031718641519547,0.0094031672924757,-0.027197103947401047,0.0066598099656403065,0.03194444999098778,0.012358099222183228,0.008769084699451923,-0.017983244732022285,0.0003566080704331398,0.017591265961527824,0.05407430976629257,0.009716194123029709,0.011211391538381577,0.010172750800848007,-0.0004294330137781799,-0.0030067102052271366,0.02229536511003971,0.04544913396239281,2.743721836395707e-7,0.019467853009700775,0.04017433524131775,-0.04497576877474785,0.02929578721523285,-0.008751374669373035,-0.02828667126595974,-0.0032307899091392756,-0.010153152979910374,-0.020360613241791725,-0.08757334202528,0.039326902478933334,0.00025474224821664393,0.05497681722044945,0.04937908425927162,0.01546340063214302,-0.04280746728181839,-0.05374925956130028,-0.03966180980205536,-0.04628220945596695,-0.013083333149552345,0.04052123427391052,0.03403092548251152,0.01184996496886015,-0.006282242015004158,0.005683664232492447,0.12377975881099701,0.0010360332671552896,-0.09746114164590836,-0.013459887355566025,-0.04133058711886406,0.017722269520163536,-0.06422529369592667,-0.02565554901957512,0.029232611879706383,0.020956695079803467,-0.004306935705244541,-0.0042814272455871105,-0.013356741517782211,0.02861781418323517,0.08772168308496475,0.02788500115275383,-0.044628653675317764,-0.015626046806573868,-0.051094308495521545,0.013218752108514309,-0.03389767184853554,-0.0011235314887017012,-0.019546665251255035,-0.03710723668336868,0.003360294969752431,0.03723832592368126,0.006017763167619705,0.017536068335175514,-0.03058851882815361,0.023218775168061256,0.00546184740960598,0.01303135696798563,0.03187260776758194,-0.009292463771998882,0.015840929001569748,0.0015150951221585274,0.024383431300520897,0.013676962815225124,-0.07008284330368042,0.04681229591369629,-0.026014750823378563,-0.02542850561439991,3.3970220943554615e-34,0.025686822831630707,-0.04177441820502281,0.030796997249126434,0.07906436920166016,0.044721927493810654,-0.020786399021744728,0.028137315064668655,-0.016696680337190628,0.015186452306807041,-0.09690969437360764,-0.01863722689449787]'
SET
  @TechnicalDesignVector_a6d46eea = N'[0.011323907412588596,0.07996989786624908,-0.0016499588964506984,-0.03856104984879494,-0.009280230849981308,-0.007567092310637236,0.032811641693115234,0.047265417873859406,0.01446984801441431,-0.05581381171941757,-0.05354992300271988,0.01375390961766243,0.035382065922021866,0.09400615841150284,0.023857610300183296,-0.006469446234405041,0.014304496347904205,0.040714602917432785,-0.04475545883178711,-0.012077324092388153,0.01048088539391756,-0.03176249563694,-0.019092464819550514,-0.007832079194486141,-0.0004581149551086128,-0.01982891745865345,-0.03968261554837227,-0.03489883616566658,0.025642089545726776,-0.02297128736972809,0.028480609878897667,0.05733150243759155,-0.0038353970739990473,-0.008515589870512486,0.000001412289066138328,-0.010606905445456505,-0.04116327688097954,0.021153662353754044,-0.021455736830830574,0.016352681443095207,-0.00783141516149044,-0.04752625524997711,0.035534895956516266,-0.005973658058792353,-0.006269761361181736,-0.11491704732179642,-0.03869226574897766,0.06486601382493973,-0.007163089234381914,-0.007836115546524525,-0.0015108472434803843,-0.018503421917557716,0.07278979569673538,0.010565795935690403,0.11820266395807266,-0.007308426313102245,0.01903618685901165,-0.03172742575407028,0.05329538509249687,0.005344943143427372,-0.013073496520519257,-0.025904741138219833,0.025193775072693825,-0.016059542074799538,0.04203087463974953,0.02132345922291279,0.054420724511146545,0.05376405641436577,-0.013774045743048191,0.02952493168413639,0.15243315696716309,0.012440938502550125,0.023781638592481613,0.013038953766226768,-0.022240078076720238,-0.08680622279644012,-0.001448318944312632,-0.002610607771202922,-0.00833165179938078,0.006979373749345541,0.02697468176484108,0.01146454457193613,-0.04297232627868652,0.03472660481929779,0.014472301118075848,0.012058066204190254,-0.011781832203269005,-0.015507462434470654,-0.014247870072722435,-0.04324386268854141,0.042669422924518585,0.008628918789327145,-0.005917251110076904,0.0007926672697067261,-0.06733748316764832,0.01741752028465271,0.017900578677654266,-0.06705985218286514,0.03957604989409447,-0.02326851710677147,-0.014766600914299488,0.06500335037708282,0.028240982443094254,0.0020644934847950935,0.028396176174283028,0.028569499030709267,-0.044332996010780334,-0.0027934249956160784,-0.022559083998203278,-0.0036334972828626633,-0.05008135363459587,0.0026530837640166283,-0.006678200326859951,0.057080529630184174,0.013951144181191921,0.011233599856495857,-0.05105919763445854,-0.021481821313500404,-0.0057375323958694935,0.001962614245712757,0.008428271859884262,-0.005599723197519779,-0.025277506560087204,-0.003931520041078329,-0.02741698920726776,-0.04488912969827652,0.023122362792491913,-0.08259030431509018,-0.008488301187753677,0.014340173453092575,-0.01778380572795868,-0.013762669637799263,0.045741524547338486,-0.01764017902314663,-0.0037951332051306963,0.017557417973876,-0.009549944661557674,0.00808185338973999,0.00689342338591814,0.008108595386147499,0.001770534086972475,0.005934008862823248,-0.06046423688530922,0.029501689597964287,0.00011050282773794606,0.00034718276583589613,0.009065977297723293,-0.054775420576334,0.013190308585762978,0.047073304653167725,-0.02089337632060051,-0.009340404532849789,0.008565765805542469,-0.003256383817642927,-0.03847593441605568,0.02961236611008644,0.024959411472082138,-0.019612181931734085,0.02426794543862343,-0.036763809621334076,-0.028541013598442078,0.04648326709866524,0.08742138743400574,0.01509781926870346,-0.004537113476544619,0.00799750816076994,-0.02933872677385807,0.0008453307673335075,0.049549125134944916,0.0024496233090758324,0.011997990310192108,-0.01434639934450388,-0.05902327597141266,0.0403803214430809,0.008701637387275696,-0.030305176973342896,0.04415006935596466,0.03209581971168518,-0.06689237058162689,0.010210322216153145,-0.012276864610612392,-0.08564913272857666,-0.010392495431005955,0.03682598099112511,0.09758282452821732,-0.0527714341878891,-0.001290541491471231,0.010900789871811867,0.033575862646102905,0.0020071235485374928,-0.023195913061499596,0.01022614911198616,-0.04745425283908844,-0.035961829125881195,-0.023812197148799896,0.0028604089748114347,-0.07097344845533371,-0.009250695817172527,-0.015090644359588623,0.031192351132631302,-0.0145512530580163,-0.03031303733587265,0.037093911319971085,-0.025900010019540787,0.011413028463721275,0.0007856632582843304,-0.04078739881515503,-0.01972845569252968,-0.07597743719816208,-0.04739069193601608,0.011293033137917519,-0.027860701084136963,-0.03285590186715126,0.033132173120975494,0.006766919046640396,0.0409509651362896,0.013099771924316883,0.006292194128036499,-0.0404108464717865,-0.0010131439194083214,-0.030169041827321053,0.00720260851085186,0.06451210379600525,0.001222337014041841,0.11984807997941971,-0.018496060743927956,0.03168892115354538,-0.023454751819372177,0.03482851758599281,-0.026362717151641846,0.0011681774631142616,-0.027889160439372063,0.012084264308214188,0.038827650249004364,0.06765738874673843,-0.008965869434177876,-0.021163063123822212,0.0566130131483078,-0.029717199504375458,0.07924573123455048,-0.028079481795430183,-0.037437837570905685,-0.0152437100186944,0.005689674988389015,0.0008803835953585804,-0.03187987953424454,-0.08112090826034546,0.024012483656406403,-0.037769950926303864,-0.004596452694386244,0.030913813039660454,0.03160293400287628,0.04714089632034302,-0.0160349290817976,-0.03364421799778938,0.003194785211235285,-0.0458727590739727,0.04205053672194481,-0.03399389609694481,0.034393757581710815,0.005044058430939913,-0.007314207497984171,0.035446666181087494,-0.006929989438503981,0.029720500111579895,-0.014888720586895943,0.026807298883795738,-0.04497186839580536,0.055994004011154175,0.002536624204367399,-0.017689110711216927,0.013872817158699036,-0.004807175137102604,-0.01147436909377575,-0.007275759242475033,0.017697233706712723,0.00940124224871397,0.014664333313703537,-0.016667233780026436,-0.014092620462179184,-0.017793875187635422,-0.03916735202074051,0.006883053574711084,0.020689236000180244,-0.022288769483566284,-0.011112033389508724,-0.016325265169143677,0.001859093550592661,-0.018898479640483856,-0.08188312500715256,0.03351515159010887,0.008721509948372841,0.04401140287518501,-0.028755055740475655,-0.0008541412535123527,0.0048904805444180965,0.009330655448138714,0.02102591283619404,-0.06751107424497604,0.01219856645911932,0.051156915724277496,0.014180660247802734,-0.03434746339917183,0.0033827873412519693,0.015352894552052021,0.041640039533376694,0.007372072897851467,-0.016989467665553093,0.047769512981176376,0.07234156131744385,0.016567880287766457,0.03483717516064644,0.019199220463633537,-0.08915325999259949,0.029474569484591484,0.025809111073613167,-0.06661127507686615,-0.007635718211531639,-0.05331204831600189,0.03613414615392685,-0.015295559540390968,-0.03561233729124069,0.018509898334741592,-0.011526371352374554,-0.028043527156114578,-0.019881658256053925,0.03156359866261482,-0.02554972469806671,0.07496090978384018,0.012738832272589207,0.027941642329096794,-0.08998429775238037,0.0035897924099117517,0.020139304921030998,0.08838843554258347,0.000361232174327597,-0.01320622954517603,0.03327348455786705,0.028171323239803314,0.02258283831179142,-0.0099580567330122,-0.00028637255309149623,-0.01948867179453373,-0.014192520640790462,-0.001447930932044983,-0.03857208415865898,0.005759728141129017,0.013030599802732468,-0.06038106605410576,-0.0076932297088205814,0.04810177907347679,0.05771871656179428,-0.0015681482618674636,-0.015993667766451836,0.0033216821029782295,0.021674465388059616,0.004667597822844982,-0.009134429506957531,-0.010576860047876835,0.007465044967830181,0.03210446238517761,0.035919032990932465,0.04427966848015785,0.026432141661643982,-0.024391520768404007,0.038079120218753815,0.023802846670150757,0.03116513229906559,0.018521934747695923,-0.021568018943071365,-0.038384683430194855,-0.008157338947057724,0.01270341221243143,-0.022558430209755898,-0.020535985007882118,-0.030234869569540024,0.012080293148756027,0.06796503067016602,0.038867104798555374,-0.024114195257425308,0.06984109431505203,-0.07303143292665482,0.05130290985107422,-0.002906226087361574,0.022274939343333244,-0.04234122857451439,0.02565789595246315,-0.03371288254857063,-0.02754644677042961,0.01802808605134487,-0.02337881550192833,-0.02053642086684704,-0.09525929391384125,0.023081351071596146,0.018421132117509842,0.005612660199403763,0.013636440970003605,0.10166081041097641,0.021920623257756233,0.012336394749581814,-0.037108566612005234,0.1488669365644455,0.04360760375857353,-0.010563922114670277,0.007557103410363197,0.01737097278237343,-0.019706634804606438,0.0038235404063016176,0.06226830184459686,0.032051339745521545,-0.05167943984270096,-0.022088218480348587,-0.05971566215157509,-0.018901772797107697,-0.013134553097188473,0.018607912585139275,0.009373852983117104,-0.06845217943191528,-0.005054831504821777,-0.01274849008768797,-0.04300864785909653,-0.016038253903388977,0.03726103529334068,0.014213616028428078,0.02543799951672554,-0.030870268121361732,-0.047068167477846146,-0.025975404307246208,-0.019898978993296623,-0.01854032836854458,0.012475021183490753,0.024801194667816162,0.035263337194919586,-0.01246415451169014,-0.009642449207603931,0.008436082862317562,0.0676693320274353,-0.05491505190730095,0.01385179627686739,-0.016451410949230194,0.018597515299916267,0.014260608702898026,0.030997738242149353,0.01382868830114603,0.021838868036866188,-0.0465819276869297,-0.03273069113492966,0.08355942368507385,0.00602342514321208,0.016441531479358673,-0.03208624944090843,-0.023465408012270927,-0.027441810816526413,0.012782787904143333,-0.03864471614360809,-0.050188999623060226,-0.00622135866433382,0.07362830638885498,-0.004403050057590008,0.06179823353886604,-0.013752460479736328,0.02091800980269909,-0.056528057903051376,0.00333087588660419,-0.014173734933137894,-0.12182454764842987,0.021494140848517418,-0.050923798233270645,-0.01133023016154766,-0.016442010179162025,-0.013303544372320175,-0.01636003889143467,-0.01140662282705307,-0.005072043277323246,0.015697890892624855,-0.02143976092338562,-0.008522089570760727,-0.024608615785837173,0.04844047501683235,0.010175892151892185,-0.018940621986985207,0.05865446850657463,-0.005715490784496069,-0.07420109957456589,0.009625500999391079,0.0073743402026593685,0.0062766168266534805,0.01888243295252323,0.0008315425366163254,-0.015461249276995659,0.0013667047023773193,-0.011349945329129696,-0.021328890696167946,0.08712199330329895,0.03754769265651703,0.07923877984285355,0.04004589095711708,0.004641267936676741,-0.0010524546960368752,-0.05388294532895088,0.017593087628483772,-0.019939236342906952,-0.005680392496287823,0.03947128355503082,-0.0044526527635753155,-0.014437577687203884,-0.01197890006005764,0.07157084345817566,-0.03649364784359932,-0.08064097911119461,0.05448836460709572,-0.06491684913635254,-0.028187258169054985,0.03591708466410637,0.020756244659423828,0.02295871078968048,-0.05946972221136093,0.024801941588521004,0.015878543257713318,-0.018763145431876183,0.014163809828460217,0.025625457987189293,-0.009636661037802696,-0.018415790051221848,0.101582832634449,0.04409254342317581,0.008222842589020729,0.013974805362522602,0.0562920905649662,-0.005257624667137861,0.02939487434923649,0.014093906618654728,-0.019986726343631744,0.0216215793043375,0.009734677150845528,0.05912889540195465,0.013373887166380882,-0.04723179712891579,-0.011228005401790142,-0.030534666031599045,-0.012748169712722301,0.03836026415228844,-0.016307475045323372,-0.001498968224041164,0.00229353248141706,-0.028820451349020004,0.014126557856798172,-0.05925469473004341,0.03048977255821228,0.03518983721733093,-0.013854891993105412,-0.027894988656044006,-0.0034557711333036423,-0.05941932648420334,0.03331809490919113,-5.396333100112244e-33,0.012806796468794346,-0.013445648364722729,-0.04028959944844246,-0.047543078660964966,0.02517843246459961,-0.030080625787377357,-0.017828337848186493,-0.027749627828598022,0.01460228394716978,-0.047293584793806076,0.01380306389182806,-0.0217613335698843,-0.0028033482376486063,-0.009451571851968765,0.0005693162675015628,-0.0428415909409523,-0.00020370297715999186,-0.03274878114461899,0.012231552042067051,0.022357959300279617,-0.04116601124405861,0.019863832741975784,0.009124252013862133,-0.008014512248337269,0.013353446498513222,-0.02337673120200634,-0.03781493008136749,0.03484996035695076,-0.0603829026222229,0.031178122386336327,-0.07422060519456863,0.01191073376685381,-0.032693129032850266,-0.0375036895275116,0.029335560277104378,0.04255588352680206,-0.0980641320347786,-0.0030264193192124367,-0.0048635839484632015,0.01918122172355652,0.047948699444532394,0.0028081517666578293,-0.0020227893255650997,0.0007879827753640711,0.012614516541361809,-0.015714876353740692,-0.03410252556204796,0.011397558264434338,0.005713482853025198,0.014662867411971092,0.009160343557596207,-0.0024474298115819693,0.008385629393160343,0.031307198107242584,0.032674677670001984,0.013310885988175869,0.051295142620801926,0.003557023126631975,-0.05382784083485603,-0.03134690225124359,-0.030329691246151924,-0.033688973635435104,0.025096125900745392,-0.008070309646427631,0.05530703067779541,0.02185054123401642,0.015603488311171532,-0.008841589093208313,-0.0903548076748848,-0.033263448625802994,-0.012002240866422653,-0.01988893561065197,-0.008319705724716187,0.03051784262061119,0.07590050250291824,0.044818419963121414,-0.04739144816994667,-0.006734815891832113,-0.024391401559114456,0.0005247604567557573,-0.015816254541277885,0.04004831984639168,0.00756491394713521,0.035443466156721115,-0.02444549836218357,-0.024702731519937515,0.03607451170682907,-0.011818249709904194,-0.03510776534676552,0.0012451192596927285,0.0030347038991749287,0.013184884563088417,-0.017893759533762932,0.06479115039110184,-0.0662507638335228,-0.008462624624371529,0.041961491107940674,0.03908293694257736,-0.008387953042984009,0.003998028580099344,0.007854951545596123,-0.03407664597034454,0.00933847576379776,-0.02846653014421463,0.005049699451774359,0.0380454920232296,0.011040051467716694,0.02391788177192211,-0.041645292192697525,0.027225902304053307,0.01762424409389496,0.0455586239695549,-0.02274281159043312,-0.055582545697689056,-0.004539365880191326,0.020220240578055382,0.0008226772188208997,0.004736330360174179,0.049751874059438705,0.05723702907562256,0.0024973894469439983,0.020643364638090134,-0.01752185821533203,0.028589680790901184,0.05365898832678795,0.0114370072260499,-0.0202189814299345,-0.04753837361931801,-0.007765635382384062,-0.03595118969678879,0.0464542880654335,0.014754265546798706,2.297048240507138e-7,-0.024012481793761253,0.008832743391394615,-0.04712968319654465,-0.00515374168753624,-0.008740490302443504,-0.006370991002768278,-0.0012578954920172691,-0.0134766586124897,-0.01235878560692072,-0.14153586328029633,0.04148246720433235,-0.02183350920677185,0.04154546186327934,0.048905372619628906,-0.06315086781978607,-0.0317293182015419,-0.024237826466560364,-0.01730114035308361,-0.05625579133629799,-0.010531792417168617,0.023457292467355728,0.030429715290665627,0.040979236364364624,0.005635565612465143,-0.010575264692306519,0.09784718602895737,0.006011060904711485,-0.05933050066232681,0.015448867343366146,-0.027139801532030106,0.022680379450321198,-0.058397773653268814,-0.015217548236250877,0.03917471319437027,0.017842957749962807,0.023604875430464745,-0.011593869887292385,-0.0015170873375609517,0.028124844655394554,0.05449070408940315,0.05465107411146164,-0.04389519989490509,-0.020729755982756615,-0.021981649100780487,0.03870184347033501,-0.02490764856338501,-0.022707877680659294,0.06945882737636566,-0.010224362835288048,0.031911298632621765,-0.0057561504654586315,-0.0208733007311821,0.03457767143845558,-0.05909791588783264,0.0012933766702190042,-0.036451827734708786,0.009178371168673038,0.02002934366464615,0.01914628967642784,0.0566880963742733,-0.0029051529709249735,0.015022664330899715,0.04067709296941757,-0.05987008288502693,0.001367086311802268,-0.0247148796916008,-0.05189875140786171,2.8587508333219547e-34,-0.005276602692902088,-0.0761968195438385,0.018863225355744362,0.059653282165527344,0.04872477799654007,-0.02140776440501213,0.06595488637685776,-0.03402441740036011,0.03274853155016899,-0.07116808742284775,-0.04068654403090477]'
SET
  @HasCustomProps_a6d46eea = 1
SET
  @HasCustomEvents_a6d46eea = 0
SET
  @RequiresData_a6d46eea = 1
SET
  @DependencyCount_a6d46eea = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_a6d46eea = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_a6d46eea = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_a6d46eea = 1
SET
  @ID_a6d46eea = '3A79D7B7-5DCF-43A2-9233-41F44B710109'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_a6d46eea,
  @Name = @Name_a6d46eea,
  @Version = @Version_a6d46eea,
  @VersionSequence = @VersionSequence_a6d46eea,
  @Title = @Title_a6d46eea,
  @Description = @Description_a6d46eea,
  @Type = @Type_a6d46eea,
  @Status = @Status_a6d46eea,
  @DeveloperName = @DeveloperName_a6d46eea,
  @DeveloperEmail = @DeveloperEmail_a6d46eea,
  @DeveloperOrganization = @DeveloperOrganization_a6d46eea,
  @SourceRegistryID = @SourceRegistryID_a6d46eea,
  @ReplicatedAt = @ReplicatedAt_a6d46eea,
  @LastSyncedAt = @LastSyncedAt_a6d46eea,
  @Specification = @Specification_a6d46eea,
  @FunctionalRequirements = @FunctionalRequirements_a6d46eea,
  @TechnicalDesign = @TechnicalDesign_a6d46eea,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_a6d46eea,
  @TechnicalDesignVector = @TechnicalDesignVector_a6d46eea,
  @HasCustomProps = @HasCustomProps_a6d46eea,
  @HasCustomEvents = @HasCustomEvents_a6d46eea,
  @RequiresData = @RequiresData_a6d46eea,
  @DependencyCount = @DependencyCount_a6d46eea,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_a6d46eea,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_a6d46eea,
  @HasRequiredCustomProps = @HasRequiredCustomProps_a6d46eea,
  @ID = @ID_a6d46eea;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_f8d01522 NVARCHAR(MAX),
@Name_f8d01522 NVARCHAR(500),
@Version_f8d01522 NVARCHAR(50),
@VersionSequence_f8d01522 INT,
@Title_f8d01522 NVARCHAR(1000),
@Description_f8d01522 NVARCHAR(MAX),
@Type_f8d01522 NVARCHAR(255),
@Status_f8d01522 NVARCHAR(50),
@DeveloperName_f8d01522 NVARCHAR(255),
@DeveloperEmail_f8d01522 NVARCHAR(255),
@DeveloperOrganization_f8d01522 NVARCHAR(255),
@SourceRegistryID_f8d01522 UNIQUEIDENTIFIER,
@ReplicatedAt_f8d01522 DATETIMEOFFSET,
@LastSyncedAt_f8d01522 DATETIMEOFFSET,
@Specification_f8d01522 NVARCHAR(MAX),
@FunctionalRequirements_f8d01522 NVARCHAR(MAX),
@TechnicalDesign_f8d01522 NVARCHAR(MAX),
@FunctionalRequirementsVector_f8d01522 NVARCHAR(MAX),
@TechnicalDesignVector_f8d01522 NVARCHAR(MAX),
@HasCustomProps_f8d01522 BIT,
@HasCustomEvents_f8d01522 BIT,
@RequiresData_f8d01522 BIT,
@DependencyCount_f8d01522 INT,
@TechnicalDesignVectorEmbeddingModelID_f8d01522 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_f8d01522 NVARCHAR(MAX),
@HasRequiredCustomProps_f8d01522 BIT,
@ID_f8d01522 UNIQUEIDENTIFIER
SET
  @Namespace_f8d01522 = N'CRM/Dashboards'
SET
  @Name_f8d01522 = N'PipelineKanban'
SET
  @Version_f8d01522 = N'1.0.0'
SET
  @VersionSequence_f8d01522 = 1
SET
  @Title_f8d01522 = N'Pipeline Kanban'
SET
  @Description_f8d01522 = N'Kanban board visualization of sales pipeline stages'
SET
  @Type_f8d01522 = N'Chart'
SET
  @Status_f8d01522 = N'Published'
SET
  @Specification_f8d01522 = N'{"name":"PipelineKanban","namespace":"CRM/Dashboards","type":"Chart","location":"embedded","code":"function PipelineKanban ({ stages, deals, onDealClick, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  const getStageColor = (stageName) => {\n    const colors = {\n      ''Prospecting'': ''#6f42c1'',\n      ''Qualification'': ''#007bff'',\n      ''Proposal'': ''#17a2b8'',\n      ''Negotiation'': ''#ffc107'',\n      ''Closed Won'': ''#28a745'',\n      ''Closed Lost'': ''#dc3545''\n    };\n    return colors[stageName] || ''#6c757d'';\n  };\n\n  const handleDealClick = (deal) => {\n    if (onDealClick) {\n      onDealClick(deal);\n    } else if (callbacks?.OpenEntityRecord) {\n      callbacks.OpenEntityRecord(''Deals'', deal.id);\n    }\n  };\n\n  return (\n    <div style={{\n      display: ''flex'',\n      gap: ''15px'',\n      overflowX: ''auto'',\n      padding: ''10px'',\n      minHeight: ''400px''\n    }}>\n      {stages.map((stage, stageIndex) => (\n        <div \n          key={stage.name || stageIndex}\n          style={{\n            minWidth: ''280px'',\n            backgroundColor: ''#f8f9fa'',\n            borderRadius: ''8px'',\n            padding: ''10px'',\n            display: ''flex'',\n            flexDirection: ''column''\n          }}\n        >\n          <div style={{\n            padding: ''10px'',\n            marginBottom: ''10px'',\n            borderBottom: `3px solid $' + '{getStageColor(stage.name)}`,\n            backgroundColor: ''#fff'',\n            borderRadius: ''4px''\n          }}>\n            <h4 style={{ margin: ''0 0 5px 0'', fontSize: ''16px'' }}>{stage.name}</h4>\n            <div style={{ display: ''flex'', justifyContent: ''space-between'', fontSize: ''13px'', color: ''#666'' }}>\n              <span>{stage.count} deals</span>\n              <span>$' + '{(stage.totalValue / 1000000).toFixed(1)}M</span>\n            </div>\n          </div>\n\n          <div style={{\n            flex: 1,\n            overflowY: ''auto'',\n            display: ''flex'',\n            flexDirection: ''column'',\n            gap: ''8px''\n          }}>\n            {deals\n              .filter(deal => deal.stage === stage.name)\n              .map((deal, dealIndex) => (\n                <div\n                  key={deal.id || dealIndex}\n                  onClick={() => handleDealClick(deal)}\n                  style={{\n                    backgroundColor: ''#fff'',\n                    border: ''1px solid #e0e0e0'',\n                    borderRadius: ''6px'',\n                    padding: ''10px'',\n                    cursor: ''pointer'',\n                    transition: ''transform 0.1s, box-shadow 0.1s''\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.transform = ''translateY(-2px)'';\n                    e.currentTarget.style.boxShadow = ''0 4px 8px rgba(0,0,0,0.1)'';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.transform = ''translateY(0)'';\n                    e.currentTarget.style.boxShadow = ''none'';\n                  }}\n                >\n                  <div style={{ fontWeight: ''500'', fontSize: ''14px'', marginBottom: ''4px'' }}>\n                    {deal.name}\n                  </div>\n                  <div style={{ fontSize: ''12px'', color: ''#666'', marginBottom: ''8px'' }}>\n                    {deal.accountName}\n                  </div>\n                  <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n                    <span style={{ fontSize: ''14px'', fontWeight: ''bold'', color: ''#333'' }}>\n                      $' + '{(deal.value / 1000).toFixed(0)}K\n                    </span>\n                    <span style={{\n                      fontSize: ''11px'',\n                      padding: ''2px 6px'',\n                      borderRadius: ''10px'',\n                      backgroundColor: deal.probability >= 70 ? ''#d4edda'' : \n                                       deal.probability >= 40 ? ''#fff3cd'' : ''#f8d7da'',\n                      color: deal.probability >= 70 ? ''#155724'' : \n                             deal.probability >= 40 ? ''#856404'' : ''#721c24''\n                    }}>\n                      {deal.probability}%\n                    </span>\n                  </div>\n                  {deal.daysInStage > 30 && (\n                    <div style={{\n                      marginTop: ''6px'',\n                      fontSize: ''11px'',\n                      color: ''#dc3545'',\n                      fontStyle: ''italic''\n                    }}>\n                      ⚠ {deal.daysInStage} days in stage\n                    </div>\n                  )}\n                </div>\n              ))\n            }\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}","functionalRequirements":"## Pipeline Kanban Board\n\n### Purpose\nDisplay deals in a Kanban board layout organized by pipeline stages.\n\n### Features\n- Column-based layout for stages\n- Deal cards in each column\n- Stage totals and counts\n- Scrollable columns\n- Color-coded stage headers\n- Deal value formatting","dataRequirements":{"mode":"views","description":"Displays deals organized in kanban columns by stage","entities":[{"name":"Deals","description":"Deal entities grouped by pipeline stage","displayFields":["ID","DealName","Amount","Stage","CloseDate","Probability","Account"],"filterFields":["Stage"],"sortFields":["Amount","CloseDate"],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Deals organized into kanban columns by stage"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Props\n- dealsByStage: Object with stages as keys, deals arrays as values\n- stages: Array of stage definitions\n- onDealClick: Callback for deal selection\n\n### Layout\n- Flexbox horizontal columns\n- Fixed height with scroll\n- Stage headers with colors","properties":[{"name":"dealsByStage","type":"Record<string, Array<{ID: string, DealName: string, Amount: number, CloseDate: string, Probability: number}>>","required":true,"description":"Deals grouped by stage key"},{"name":"stages","type":"Array<{name: string, color: string}>","required":true,"description":"Stage definitions with names and colors"},{"name":"onDealClick","type":"(deal: {ID: string, DealName: string}) => void","required":true,"description":"Callback for deal selection"}],"events":[],"dependencies":[],"libraries":[],"description":"Kanban board visualization of sales pipeline stages"}'
SET
  @FunctionalRequirements_f8d01522 = N'## Pipeline Kanban Board

### Purpose
Display deals in a Kanban board layout organized by pipeline stages.

### Features
- Column-based layout for stages
- Deal cards in each column
- Stage totals and counts
- Scrollable columns
- Color-coded stage headers
- Deal value formatting'
SET
  @TechnicalDesign_f8d01522 = N'## Implementation

### Props
- dealsByStage: Object with stages as keys, deals arrays as values
- stages: Array of stage definitions
- onDealClick: Callback for deal selection

### Layout
- Flexbox horizontal columns
- Fixed height with scroll
- Stage headers with colors'
SET
  @FunctionalRequirementsVector_f8d01522 = N'[0.005352053325623274,-0.005218537990003824,-0.025808246806263924,-0.026198403909802437,0.037521641701459885,-0.014865024946630001,0.034907612949609756,0.020027725026011467,-0.003767825895920396,0.034548383206129074,-0.06291443109512329,0.015606262721121311,0.03419836238026619,0.2003110945224762,-0.005151256453245878,-0.0589027926325798,-0.02507476508617401,0.006361423991620541,-0.01989520899951458,0.031220031902194023,-0.01451450027525425,0.011296512559056282,-0.03241167590022087,0.018629062920808792,-0.03849567845463753,-0.01650816760957241,-0.04205384850502014,-0.021762356162071228,0.012835505418479443,-0.06158698722720146,0.01799677684903145,-0.002327299676835537,-0.041499216109514236,-0.03413596376776695,0.0000022580752556677908,-0.005088090896606445,-0.029519282281398773,-0.010098857805132866,-0.02226088009774685,0.021590515971183777,0.01030175480991602,-0.06617030501365662,-0.029966354370117188,-0.0064548226073384285,-0.01702876016497612,-0.09467664361000061,-0.0028723168652504683,0.08965738117694855,0.06466862559318542,-0.014336851425468922,0.008841248229146004,-0.05141039937734604,-0.011159030720591545,0.0013960637152194977,0.03346644714474678,-0.027779970318078995,-0.014484375715255737,-0.045529820024967194,0.03615357354283333,-0.037416573613882065,-0.0048220339231193066,-0.005777767393738031,0.01686086319386959,-0.07271666079759598,0.031370874494314194,0.03885618597269058,0.07516762614250183,-0.04983888939023018,0.02284540794789791,0.04481036588549614,0.03367278724908829,-0.013972937129437923,0.0017293955897912383,-0.06299930810928345,-0.0015452213119715452,-0.08971428871154785,-0.03822880610823631,0.051036518067121506,-0.011928140185773373,-0.04110090434551239,-0.060734059661626816,0.03727652505040169,-0.034645359963178635,-0.012091502547264099,0.02203180268406868,0.0165475532412529,0.010326034389436245,0.009149548597633839,-0.09391865879297256,-0.022514384239912033,0.019324202090501785,-0.03163694962859154,-0.024409782141447067,0.02638484723865986,-0.0818457305431366,0.005126188043504953,0.05976274982094765,-0.016010276973247528,-0.002810816513374448,0.020062541589140892,-0.01971329189836979,0.02207879163324833,0.04831930249929428,0.04541480541229248,0.02875128574669361,-0.0011846543056890368,-0.008281220681965351,-0.015140393748879433,-0.01625525765120983,0.07013876736164093,-0.007739950902760029,-0.02406919002532959,-0.03724057227373123,0.01622472144663334,-0.055423419922590256,-0.002179596573114395,-0.06328761577606201,0.014003324322402477,-0.01854528859257698,0.06301070004701614,0.17572593688964844,0.0097319595515728,0.018529558554291725,0.026135263964533806,0.009027142077684402,0.020757852122187614,-0.03968563303351402,-0.029717134311795235,-0.0014189460780471563,0.03830351680517197,-0.013124451041221619,0.0029611268546432257,-0.005723796784877777,-0.04059106111526489,-0.02245480939745903,-0.02985832467675209,0.011489679105579853,0.030064599588513374,0.001987897790968418,-0.009676903486251831,-0.0025552173610776663,0.0011482607806101441,-0.03228088095784187,0.04618220403790474,-0.008524445816874504,-0.05062086880207062,-0.009146959520876408,0.06008320301771164,-0.003795154858380556,-0.003281804732978344,0.029668068513274193,0.015370013192296028,0.047744933515787125,-0.0007040868513286114,-0.015933716669678688,0.020722704008221626,-0.020403441041707993,-0.04226139932870865,0.003370873164385557,0.05972447991371155,0.0016680026892572641,-0.01635735109448433,0.05918994918465614,-0.018713263794779778,-0.04141794517636299,-0.022229598835110664,-0.004127671476453543,-0.004514189437031746,0.01042262651026249,-0.029727807268500328,-0.020867692306637764,-0.03611443191766739,-0.02315106987953186,0.049873415380716324,0.04400866851210594,-0.00845728162676096,0.0942080095410347,-0.0004057000041939318,-0.02183900587260723,0.024796778336167336,0.0030416061636060476,-0.09126770496368408,0.0007667683530598879,0.06622885912656784,0.07713500410318375,-0.004732152447104454,-0.042212288826704025,0.018465539440512657,0.002314769895747304,0.005308972205966711,0.041074853390455246,0.02514027990400791,-0.09807133674621582,0.004050612449645996,-0.02401520125567913,0.010151848196983337,-0.048632942140102386,-0.029239391908049583,0.03650703653693199,-0.004193382803350687,-0.01525034662336111,-0.012247536331415176,0.06440457701683044,0.03398025035858154,-0.005522937048226595,-0.007556230761110783,0.01054704375565052,-0.009826275520026684,-0.0806291401386261,0.011517453007400036,0.03041205368936062,-0.0015782789560034871,-0.028759218752384186,0.027265485376119614,-0.006715287920087576,0.0024220445193350315,0.03174176812171936,-0.0010184048442170024,-0.034912724047899246,-0.021238477900624275,-0.050892580300569534,0.03290113806724548,0.05032818764448166,0.01805070973932743,0.06052606552839279,0.04811190441250801,0.01736106351017952,0.010434582829475403,0.05700042098760605,0.019732335582375526,-0.023378586396574974,-0.005475213285535574,0.07727552205324173,0.008776149712502956,0.011552262119948864,0.04699927940964699,0.02629769593477249,0.05534610524773598,0.0019224426941946149,0.061522290110588074,-0.015671756118535995,-0.04642674699425697,-0.03286067396402359,0.0031678483355790377,0.0869920402765274,0.01697014831006527,-0.04335756599903107,0.02258416824042797,0.007649579551070929,0.003325254190713167,-0.010593458078801632,0.01163075678050518,0.06310609728097916,0.010131532326340675,0.003156376536935568,0.008022616617381573,-0.08185022324323654,0.026309024542570114,0.00877182837575674,0.06093067675828934,0.06787256896495819,-0.0025230373721569777,-0.05326898768544197,-0.041211649775505066,0.039653729647397995,-0.02337813563644886,0.039528705179691315,-0.019775258377194405,-0.03025268390774727,0.02041458711028099,0.0069727227091789246,0.0239317175000906,-0.019434208050370216,-0.02435813844203949,-0.005220036022365093,0.009987895376980305,-0.01788179576396942,0.04064422845840454,-0.02922867424786091,-0.01910462975502014,0.01814158819615841,-0.007534955162554979,-0.013318129815161228,0.02318642847239971,0.016073551028966904,0.039941854774951935,0.04556915909051895,-0.10023104399442673,-0.017273616045713425,-0.08637548983097076,0.040974702686071396,-0.04185519367456436,0.016322797164320946,-0.029564715921878815,-0.040162354707717896,-0.014780749566853046,-0.0774156004190445,0.0059709129855036736,-0.03177759423851967,0.041237689554691315,-0.004643874708563089,-0.033203959465026855,-0.021403850987553596,0.012890234589576721,0.019896069541573524,-0.0029490110464394093,0.01703903265297413,0.012415257282555103,0.014971483498811722,0.01898888871073723,0.010416355915367603,0.0064225285314023495,-0.03558434545993805,-0.04637092724442482,0.03066081553697586,0.038207609206438065,0.037005312740802765,-0.017565667629241943,-0.006676869001239538,0.042271316051483154,-0.014806022867560387,0.03990840166807175,-0.027215981855988503,-0.005774584133177996,-0.03433941304683685,-0.0061449212953448296,0.03969799727201462,-0.030559010803699493,0.027650244534015656,-0.03432454541325569,0.022719474509358406,-0.05206822231411934,-0.045092906802892685,-0.018951470032334328,-0.009974528104066849,-0.018146811053156853,-0.023919617757201195,-0.07171064615249634,0.003402312519028783,-0.024317799136042595,-0.04271577298641205,-0.01536962203681469,-0.03304681554436684,0.034533966332674026,-0.013596992008388042,-0.0014385158428922296,0.11752922087907791,0.0040284981951117516,-0.08858062326908112,0.04958949610590935,0.0025628325529396534,0.02039303071796894,-0.014317765831947327,-0.021308930590748787,-0.0016286616446450353,0.06882458180189133,-0.010857220739126205,0.006036167498677969,0.010505812242627144,-0.017499003559350967,0.04791514202952385,0.03427611291408539,-0.056698739528656006,0.04238923639059067,0.03648701682686806,0.02848658710718155,0.008039642125368118,0.012176822870969772,0.008417941629886627,0.006224170792847872,-0.02419000118970871,0.00037537762545980513,0.007082602009177208,0.015815958380699158,0.013804723508656025,-0.000514040351845324,0.01804877258837223,0.03197409585118294,0.006876847706735134,-0.01705061085522175,0.03284342959523201,-0.028181292116642,0.0656130388379097,-0.024170400574803352,0.04183673486113548,0.0021956569980829954,-0.025967678055167198,-0.020512962713837624,-0.03513044863939285,0.005130686331540346,0.007857957854866982,-0.07178840041160583,-0.04382465034723282,-0.027126403525471687,-0.02830968052148819,-0.017764734104275703,-0.012103751301765442,0.029164988547563553,-0.012732444331049919,-0.0008498745737597346,0.011442514136433601,0.0026693169493228197,0.004177485592663288,-0.03129303455352783,0.026659920811653137,0.0005943764699622989,-0.04902172088623047,0.018245501443743706,0.0051837945356965065,0.0012328076409175992,-0.0020557884126901627,0.004714463837444782,-0.0017343651270493865,0.004205937031656504,-0.013975687325000763,-0.005857139825820923,-0.02116614393889904,-0.03406372293829918,-0.029602650552988052,0.003872068366035819,-0.011118603870272636,0.022011319175362587,0.0008398014470003545,0.02012951299548149,-0.001719484105706215,-0.013730007223784924,0.017104636877775192,-0.040148813277482986,-0.00025563043891452253,0.0035072665195912123,0.001868049381300807,0.008875506930053234,-0.009591723792254925,0.0002668978413566947,-0.044368065893650055,-0.0028237327933311462,0.019630275666713715,0.007680685259401798,0.006884983275085688,-0.035982392728328705,-0.028537893667817116,0.025621620938181877,0.06119106709957123,0.012799647636711597,0.03484158217906952,-0.04645395278930664,-0.011846446432173252,0.006456469651311636,-0.030616838485002518,-0.03785256668925285,0.007740550674498081,-0.03971007093787193,-0.001181272673420608,-0.02109023742377758,-0.04746679589152336,-0.014736347831785679,0.07195720821619034,-0.05938881263136864,-0.013619240373373032,-0.03425245359539986,0.018596401438117027,0.02798498049378395,-0.07141722738742828,0.046452973037958145,0.03297171741724014,-0.00840766541659832,-0.06635357439517975,-0.013827240094542503,-0.013551539741456509,-0.06752140820026398,0.0002546010073274374,-0.0069631002843379974,-0.039894286543130875,0.014246966689825058,0.02396395057439804,0.05281316116452217,0.0178832970559597,0.008763439022004604,0.09012098610401154,0.008503218181431293,-0.03589826077222824,-0.038192346692085266,-0.007224206812679768,-0.11764620244503021,0.005524372216314077,0.058199506253004074,-0.03567110002040863,-0.0052451202645897865,0.011084076948463917,-0.05029725283384323,0.03597429767251015,-0.03649521619081497,-0.00767348799854517,0.09743692725896835,0.028506681323051453,0.07717717438936234,0.016094736754894257,-0.05628269538283348,0.05761636421084404,-0.0327795147895813,-0.01198369637131691,-0.007032697554677725,-0.00266291038133204,-0.019160769879817963,-0.026449905708432198,0.02121610939502716,0.030479175969958305,-0.010119134560227394,-0.013514058664441109,-0.03445953503251076,0.028644787147641182,0.01032718364149332,0.0058184401132166386,-0.0634978860616684,0.043925508856773376,0.008242047391831875,0.011213390156626701,-0.013193505816161633,0.003071977524086833,-0.010480542667210102,0.008710748516023159,-0.008891507983207703,-0.0034162327647209167,-0.026326226070523262,0.012315204367041588,-0.047513771802186966,0.025559697300195694,0.009006022475659847,-0.014926365576684475,0.051103610545396805,-0.005040343850851059,0.01652924343943596,-0.018995771184563637,0.02817133069038391,-0.0033380722161382437,0.029965117573738098,0.05059470608830452,0.08654520660638809,-0.030239539220929146,-0.029842019081115723,-0.013620883226394653,0.013869883492588997,0.015895657241344452,0.016226209700107574,-0.012508953921496868,0.018500130623579025,0.00029094991623423994,-0.059740856289863586,0.06042942777276039,0.012793849222362041,0.023499244824051857,-0.0472458153963089,0.006347678601741791,0.020508036017417908,-0.016893070191144943,-6.884060791032009e-33,-0.05399785935878754,-0.05173901468515396,-0.00014686145004816353,-0.027963897213339806,-0.010202586650848389,-0.040988605469465256,-0.00932590663433075,-0.01666373945772648,0.003971290774643421,-0.00285306666046381,-0.024247106164693832,-0.003460596315562725,0.025880374014377594,0.011123359203338623,0.06260007619857788,-0.0066892364993691444,0.04305470362305641,0.00857237447053194,-0.01782519929111004,0.02228769287467003,-0.008081549778580666,0.020830189809203148,0.0067345197312533855,0.03946571424603462,-0.024725887924432755,-0.017628798261284828,-0.02009938284754753,0.014850694686174393,-0.03280530497431755,0.01858683116734028,-0.017612753435969353,-0.03444219380617142,-0.019498784095048904,-0.033465996384620667,0.007143217604607344,-0.03199296072125435,-0.04135541990399361,0.03617697209119797,-0.012844598852097988,0.041139811277389526,0.0362626351416111,0.014331421814858913,-0.0042990464717149734,0.003917404916137457,0.03721795603632927,-0.015950245782732964,0.00789505336433649,-0.0028088961262255907,-0.02632857859134674,-0.01622343435883522,0.0015920910518616438,-0.002132076770067215,-0.030750226229429245,0.07001297920942307,0.03780845180153847,-0.007132985163480043,0.0371265709400177,-0.08951074630022049,-0.0561005063354969,0.029229868203401566,-0.025127511471509933,-0.02433658018708229,0.014770646579563618,0.033100761473178864,0.005169030744582415,-0.0037255792412906885,-0.02966894768178463,0.0396772176027298,0.009362781420350075,-0.007722822017967701,-0.019368920475244522,0.012633869424462318,-0.012619015760719776,-0.07666505873203278,-0.04045776650309563,0.006281307432800531,0.009171637706458569,0.01059691235423088,0.043830506503582,0.14023357629776,0.007951786741614342,0.02072928287088871,0.012987344525754452,-0.0008882670081220567,0.0012142783962190151,-0.043880853801965714,-0.017205720767378807,0.04073009639978409,0.009186218492686749,0.0319828987121582,0.017175031825900078,0.0373963788151741,-0.026619164273142815,0.029600026085972786,-0.027575958520174026,0.061581801623106,0.07205898314714432,0.042436178773641586,-0.02192693017423153,-0.02735729329288006,0.029225027188658714,0.017726106569170952,0.05029706284403801,-0.06018906831741333,0.008369158022105694,0.017563121393322945,0.023997480049729347,0.020687256008386612,-0.06756024807691574,0.004235419910401106,0.012291064485907555,0.03509751707315445,0.0065406314097344875,0.005476473830640316,0.001680336077697575,0.0012365916045382619,0.00515169370919466,-0.08092954009771347,0.021354559808969498,0.031116195023059845,0.046612225472927094,0.11859066039323807,-0.019042814150452614,-0.00391367869451642,0.022188682109117508,-0.0026912742760032415,-0.03131451457738876,-0.047452252358198166,0.028443193063139915,-0.028586307540535927,0.014712453819811344,0.0013242075219750404,2.98735074011347e-7,-0.019344637170433998,0.027910061180591583,-0.04186820611357689,-0.007683464791625738,0.045221053063869476,-0.033864449709653854,-0.044887516647577286,-0.03450585529208183,-0.005335143301635981,-0.046266183257102966,0.04187332093715668,-0.02187000960111618,0.024469895288348198,0.011213678866624832,-0.036059822887182236,-0.07652381807565689,-0.015015724115073681,-0.023437868803739548,-0.06560181826353073,-0.029725903645157814,0.09001307189464569,0.027744580060243607,0.05100871995091438,0.015108656138181686,0.016216473653912544,0.07215963304042816,-0.022659238427877426,0.005317959934473038,0.02953990176320076,0.004154705908149481,0.019734283909201622,-0.0730883926153183,-0.057379912585020065,-0.01250202115625143,-0.0010044336086139083,-0.004858837462961674,-0.022156523540616035,-0.01449439488351345,0.042261753231287,0.0821790099143982,-0.04293162748217583,0.04257530719041824,-0.01627836376428604,-0.06810891628265381,0.022959651425480843,-0.027925120666623116,0.0041937874630093575,-0.04825592413544655,-0.0620289146900177,-0.03419295698404312,0.038663480430841446,0.04834902659058571,0.009696699678897858,0.02785545401275158,0.019607076421380043,0.005456971935927868,0.03436081111431122,-0.0055777342058718204,0.026098055765032768,-0.0173820611089468,-0.04152044281363487,0.031034190207719803,0.008673767559230328,0.007562523242086172,0.03334954008460045,-0.033038102090358734,-0.010661578737199306,3.389616939122762e-34,-0.016393518075346947,0.006700774189084768,0.0499272458255291,-0.05268706753849983,0.05134686455130577,-0.01816513016819954,0.005481247324496508,-0.016558675095438957,0.01783648505806923,-0.06397242099046707,-0.02409593015909195]'
SET
  @TechnicalDesignVector_f8d01522 = N'[0.02426481992006302,-0.0149120157584548,-0.03476541116833687,-0.06133129075169563,0.004089517053216696,-0.05713154375553131,0.05397578328847885,0.02591884694993496,-0.010595323517918587,-0.000020459989173104987,-0.03251964971423149,0.00035898888017982244,0.0515538826584816,0.1077549159526825,0.005274031311273575,-0.027486616745591164,-0.024357695132493973,0.027850016951560974,-0.012696130201220512,-0.011922120116651058,0.042090460658073425,-0.025787828490138054,-0.007959621027112007,-0.003620903007686138,-0.0066511365585029125,-0.031276144087314606,-0.04153149947524071,-0.005372718442231417,0.043595749884843826,-0.0316024124622345,0.0016028241952881217,0.04771736264228821,-0.04153413325548172,-0.023914076387882233,0.0000015432776763191214,0.007931787520647049,-0.025260653346776962,-0.013841486535966396,-0.0021819532848894596,-0.0035602219868451357,0.029279211536049843,-0.0436464361846447,0.017537467181682587,-0.02316621132194996,-0.01289673987776041,-0.10964710265398026,-0.061005789786577225,0.04055001586675644,0.03630788251757622,0.0064378771930933,0.017368927597999573,-0.01885959878563881,0.06891240924596786,0.017734067514538765,0.009499844163656235,0.04300438612699509,0.008513418026268482,-0.08836554735898972,0.06978822499513626,0.008546052500605583,0.015810862183570862,-0.0571560300886631,0.034211378544569016,-0.038130659610033035,0.007796735968440771,0.005600085482001305,0.0466054230928421,0.005579145159572363,0.004033604636788368,0.03860174119472504,0.09832500666379929,0.004907677881419659,-0.019107738509774208,-0.06468884646892548,0.012891479767858982,-0.00861150398850441,-0.008807528764009476,-0.006010810844600201,-0.024432841688394547,-0.023112082853913307,-0.03533029928803444,0.02541837841272354,-0.0408901609480381,0.01023561879992485,0.037772826850414276,-0.018179552629590034,-0.007862537167966366,-0.004986594896763563,-0.04291500896215439,-0.05372808873653412,0.03538932651281357,-0.007288181222975254,0.013065790757536888,0.006259568501263857,-0.049681778997182846,0.02111702226102352,0.012632233090698719,-0.11460639536380768,0.03543231636285782,-0.04560643807053566,-0.0065842182375490665,0.01851080171763897,0.04274982959032059,-0.009738924913108349,0.05757855251431465,0.061311520636081696,-0.017265141010284424,-0.03197583183646202,-0.056100454181432724,0.011495831422507763,-0.00707537867128849,-0.006156664341688156,-0.010782192461192608,0.0492589995265007,-0.007108705583959818,-0.006675431504845619,-0.04709022492170334,-0.004158223979175091,0.0041930885054171085,0.01802106574177742,0.07836452126502991,-0.010886058211326599,-0.04585915058851242,-0.01586201600730419,0.028367428109049797,0.01648242212831974,-0.028256362304091454,-0.08116903156042099,-0.004503773059695959,0.05788736417889595,-0.011244547553360462,-0.030927244573831558,0.03669920563697815,-0.03650761395692825,-0.041562192142009735,0.013412886299192905,-0.0042152139358222485,0.017817292362451553,0.03639569878578186,-0.005904285237193108,-0.014828170649707317,0.02054743841290474,-0.027346165850758553,0.059786491096019745,-0.039769455790519714,-0.024420088157057762,-0.009608853608369827,0.00663856603205204,0.0022668205201625824,0.05644165351986885,0.00010549215221544728,-0.024042420089244843,-0.01748834364116192,-0.0070823668502271175,-0.0632101371884346,0.02431470900774002,-0.019133172929286957,-0.002670180518180132,0.060225751250982285,0.04022419825196266,-0.016456786543130875,-0.005344563629478216,0.08061832189559937,0.023251788690686226,-0.0720687285065651,-0.016643615439534187,-0.08899525552988052,-0.044876765459775925,0.03498147428035736,0.008718155324459076,0.0017308718524873257,-0.04078292474150658,-0.05941656604409218,0.013052276335656643,0.012315856292843819,-0.019595395773649216,0.05091266334056854,0.03447714075446129,-0.057320255786180496,-0.024178650230169296,0.032503221184015274,-0.06261176615953445,0.011868273839354515,0.003641180694103241,0.06220606341958046,-0.01105844508856535,-0.09762204438447952,0.0351623110473156,0.016659259796142578,0.029657380655407906,-0.020613225176930428,0.018794503062963486,-0.06266473233699799,-0.007321874611079693,-0.0007974518812261522,-0.017734263092279434,-0.02981734834611416,0.007742375135421753,0.02251613512635231,0.050360921770334244,0.020215438678860664,0.027017010375857353,0.01831054873764515,0.008103705942630768,0.02020195871591568,0.01594187133014202,-0.059168197214603424,-0.027583416551351547,-0.04270964115858078,-0.00653901556506753,-0.010007469914853573,0.00006303194822976366,-0.04203912988305092,0.022919338196516037,-0.0036192722618579865,-0.022527150809764862,-0.01352048572152853,-0.01763392984867096,-0.051277101039886475,-0.019621333107352257,-0.04762694612145424,-0.011489588767290115,0.026691889390349388,-0.0009022528538480401,0.10934100300073624,0.019312823191285133,0.021755188703536987,-0.05843796581029892,0.04303792491555214,-0.0048832944594323635,-0.020033879205584526,-0.03422856703400612,0.012557638809084892,0.008250636048614979,0.07347958534955978,0.038824934512376785,-0.027244502678513527,0.030875738710165024,-0.015408557839691639,0.06459866464138031,-0.018231743946671486,-0.004944829270243645,-0.026687465608119965,0.001177542726509273,0.0416945181787014,-0.019458316266536713,-0.06788309663534164,0.03945445269346237,-0.029324602335691452,-0.025094835087656975,0.020404264330863953,0.0382571704685688,0.03938210383057594,-0.021032318472862244,-0.026566535234451294,-0.046099696308374405,0.03909832611680031,0.014005886390805244,0.030666636303067207,0.0433848612010479,0.03275997191667557,0.008516795001924038,-0.026441393420100212,0.016287347301840782,0.05757787078619003,-0.013424564152956009,0.025469694286584854,-0.051252808421850204,-0.0024493220262229443,0.0018059597350656986,-0.037170831114053726,0.0042590429075062275,-0.01889866776764393,-0.01012003980576992,0.0013054984156042337,0.01780899241566658,0.04955510050058365,0.04574152082204819,-0.025888916105031967,-0.032361969351768494,-0.020994486287236214,-0.06002422049641609,0.00033512074151076376,0.010981379076838493,-0.008586280979216099,0.015893204137682915,0.027738381177186966,0.02186243049800396,-0.005118175875395536,-0.14942550659179688,0.00801960937678814,0.009413523599505424,0.012757492251694202,-0.021157152950763702,-0.027388548478484154,-0.0105750672519207,-0.0757891833782196,0.03324771672487259,0.01557137817144394,0.043244268745183945,0.03553192317485809,0.016026295721530914,-0.012869780883193016,0.024236459285020828,-0.0071343183517456055,-0.0008350438438355923,-0.04000620171427727,0.023250069469213486,0.042426303029060364,0.0840863436460495,0.03278777748346329,0.03904478996992111,-0.002567825373262167,-0.040046289563179016,0.02932349406182766,0.04740811884403229,0.04794709011912346,-0.0016803359612822533,-0.058842189610004425,0.05720412731170654,-0.014840787276625633,-0.032002534717321396,0.02314569242298603,-0.040354371070861816,-0.03317727521061897,0.0025518645998090506,0.03419974073767662,-0.005533781833946705,0.014211006462574005,-0.0015048811910673976,0.033885762095451355,-0.030497675761580467,0.006154102738946676,0.03349881246685982,0.024302825331687927,-0.001094653969630599,-0.021141888573765755,-0.020014753565192223,-0.003290217136964202,0.022045107558369637,-0.03569793328642845,-0.03883703798055649,-0.02080445922911167,-0.03360134735703468,-0.01152997836470604,-0.002435264876112342,-0.007974477484822273,0.00019671865447890013,-0.10542876273393631,-0.009320675395429134,-0.004301060456782579,0.04063909873366356,-0.019075773656368256,0.005942261777818203,-0.026906423270702362,0.05903615057468414,0.003816599491983652,0.037242233753204346,0.021541068330407143,-0.04467368870973587,0.001364204683341086,0.03612455725669861,0.06301874667406082,0.0404413640499115,-0.021096955984830856,0.03918159753084183,0.028090037405490875,-0.02594219334423542,0.0019347623456269503,-0.03572806715965271,-0.023409275338053703,0.0258922278881073,0.02482624165713787,-0.019876757636666298,-0.02532128430902958,-0.044270433485507965,0.03828493878245354,0.038200151175260544,0.024780338630080223,-0.01270414050668478,0.06005547568202019,-0.0014061781112104654,0.01807618886232376,-0.001706804265268147,0.030692441388964653,-0.000026621781216817908,0.028374213725328445,-0.049889832735061646,-0.004658351186662912,0.007371905259788036,0.012462949380278587,-0.07693576067686081,-0.02295670099556446,0.02434488944709301,-0.006560383830219507,0.06385396420955658,0.0644308552145958,0.058533310890197754,0.018656836822628975,-0.006922690197825432,-0.028765439987182617,0.12896601855754852,0.035726841539144516,-0.023391183465719223,0.049869947135448456,-0.02485121227800846,-0.07019566744565964,-0.008611763827502728,0.026395129039883614,0.02592405304312706,-0.038295261561870575,-0.056311674416065216,-0.004097952041774988,0.0018977615982294083,-0.10241997241973877,-0.013919210061430931,-0.01470560859888792,-0.05634058266878128,-0.02359526790678501,-0.0208194050937891,-0.026769697666168213,-0.00004348557922639884,0.03895191103219986,0.02283809520304203,-0.012395651079714298,-0.033797167241573334,-0.02380053512752056,-0.09936947375535965,-0.029663072898983955,-0.02899244800209999,0.01394448708742857,0.004409933928400278,0.01498837023973465,0.00888479221612215,-0.024532245472073555,0.012503605335950851,-0.018953775987029076,0.007759833242744207,0.0890994518995285,-0.006585217081010342,0.02448924630880356,-0.012998197227716446,0.054696548730134964,-0.017059937119483948,0.018580947071313858,-0.019218452274799347,-0.03682032227516174,0.08144401758909225,0.03289645537734032,0.03764555603265762,-0.028288958594202995,-0.009975185617804527,-0.023279322311282158,0.009235622361302376,-0.0641004890203476,-0.04745348170399666,0.02352733537554741,0.0715867131948471,-0.0045500523410737514,-0.01115499995648861,-0.029559753835201263,0.022520538419485092,-0.026289338245987892,0.014421213418245316,0.010975965298712254,-0.001052740146405995,-0.029762500897049904,0.02136666141450405,-0.022303270176053047,-0.0072814044542610645,0.0011280409526079893,-0.0033543314784765244,-0.02054416388273239,0.0007392907282337546,0.005932244472205639,0.05007244646549225,-0.001138386083766818,-0.005454053170979023,0.04244240000844002,-0.01696903444826603,-0.024015692993998528,0.024045400321483612,-0.01952715590596199,-0.09549367427825928,0.026635080575942993,0.028383173048496246,0.02065444551408291,0.021130677312612534,0.0074277594685554504,-0.01784697361290455,0.0036463425494730473,-0.05295916274189949,0.005377542227506638,0.10671459883451462,0.032538846135139465,0.056064192205667496,0.05563639849424362,-0.007300469093024731,0.034188151359558105,-0.08936326205730438,-0.0067177703604102135,-0.041454944759607315,0.006222842261195183,0.0401252917945385,-0.0376528799533844,-0.017606057226657867,-0.00921257771551609,0.023725003004074097,-0.03430431708693504,-0.03613625839352608,0.003289164276793599,-0.027679283171892166,-0.0495452918112278,-0.02794453874230385,-0.013017857447266579,-0.0029274029657244682,-0.044333577156066895,0.016566146165132523,0.013674741610884666,0.006798585876822472,0.011726014316082,0.007477596867829561,-0.024548852816224098,-0.026123901829123497,0.06471293419599533,0.02955992892384529,0.0320090726017952,0.02134043350815773,0.044785384088754654,0.0360482856631279,0.03669678792357445,0.015819821506738663,-0.05345618352293968,0.0022155579645186663,0.007662023883312941,0.03332584723830223,-0.028968922793865204,0.06643256545066833,-0.00624327827244997,-0.03863780200481415,-0.05737599357962608,0.017615031450986862,0.0016546279657632113,-0.03190137818455696,0.034722283482551575,-0.007112232968211174,0.029423024505376816,-0.0496472492814064,0.04054507613182068,0.012853652238845825,0.031216615810990334,-0.04262181743979454,-0.01622883230447769,-0.022324595600366592,0.00858805887401104,-5.715141861734634e-33,-0.0019396210554987192,-0.008815153501927853,-0.02309214323759079,-0.037264514714479446,-0.03729784116148949,-0.020742742344737053,-0.01943727768957615,-0.011721067130565643,0.01451270654797554,-0.01449081115424633,0.0031367659103125334,-0.06573227047920227,0.003141562920063734,0.04579756408929825,0.029066365212202072,-0.010381199419498444,0.018780305981636047,-0.014593365602195263,0.019421396777033806,0.03115280345082283,0.0033987495116889477,0.04101762920618057,0.01176129188388586,0.08612651377916336,-0.05021537095308304,-0.0006853965460322797,0.005496098194271326,0.03938259929418564,-0.0470961257815361,0.013913847506046295,-0.019181078299880028,0.00358651764690876,-0.01787271723151207,-0.032011568546295166,0.0185086652636528,0.01771378144621849,-0.005430687218904495,-0.0270064864307642,0.014859436079859734,0.043328944593667984,0.05068586766719818,0.02988276816904545,0.027363404631614685,-0.010372709482908249,0.01740153320133686,-0.011573830619454384,-0.009892916306853294,-0.019580136984586716,-0.02916678786277771,-0.02420106902718544,0.015304419212043285,0.00009822293213801458,-0.01356672402471304,0.06335535645484924,0.009182960726320744,0.008584540337324142,0.060970183461904526,0.009710037149488926,0.003864274127408862,-0.027445122599601746,-0.0326361358165741,-0.058533020317554474,0.029539423063397408,0.03342539444565773,0.03290281444787979,0.03901292756199837,0.001286161132156849,-0.0009779076790437102,-0.02920443005859852,-0.017461121082305908,0.004105088766664267,-0.03845779225230217,0.0002873872872442007,0.004488861653953791,0.03195134922862053,0.06519033014774323,-0.004610433708876371,-0.04737851768732071,0.04838194698095322,0.09466513246297836,-0.025845728814601898,0.027836918830871582,0.029404062777757645,0.032449305057525635,-0.038325872272253036,-0.044400494545698166,0.04642071574926376,0.007626911159604788,-0.024733394384384155,0.017558662220835686,0.01614309474825859,0.02972654066979885,-0.02914610505104065,0.0624132975935936,-0.037003036588430405,0.0271978210657835,0.03145937621593475,0.07527583092451096,0.018826860934495926,-0.01550373062491417,0.03654960170388222,-0.00629908824339509,-0.030846690759062767,-0.050485190004110336,-0.026555262506008148,0.03881924971938133,-0.024906760081648827,-0.011611562222242355,-0.021874060854315758,0.02982710488140583,0.037040624767541885,0.030110936611890793,-0.041997991502285004,-0.040734052658081055,0.01632770709693432,-0.007351870648562908,-0.009082535281777382,-0.02679917961359024,0.04207928851246834,0.07546807825565338,0.006582857575267553,0.06795018166303635,-0.031692203134298325,0.04518153890967369,0.04592340439558029,0.000984814716503024,-0.032732121646404266,-0.04628488048911095,-0.009163137525320053,-0.03884821757674217,0.051366232335567474,0.018417952582240105,2.5173616791107634e-7,-0.03953041881322861,0.006467286963015795,-0.056035783141851425,0.021416306495666504,0.055286794900894165,0.012372845783829689,-0.017776284366846085,-0.05332417041063309,-0.03473951295018196,-0.08640442043542862,0.00044985892600379884,-0.039605721831321716,0.019489960744976997,0.05321405827999115,-0.03734162077307701,-0.01256273128092289,-0.026338357478380203,-0.03226764500141144,-0.05982653424143791,-0.03716777637600899,0.017306724563241005,0.008017631247639656,0.08878865838050842,-0.014471651054918766,-0.00750005804002285,0.07809128612279892,0.0488952174782753,0.0057200780138373375,0.06905072182416916,-0.02182931639254093,0.006849594879895449,-0.0925225168466568,-0.04553103446960449,0.027392050251364708,0.026221249252557755,0.020728202536702156,-0.025393716990947723,-0.003852482419461012,0.04327104240655899,0.05466613918542862,0.0480879582464695,-0.022556686773896217,-0.001337680034339428,-0.05298704281449318,0.042529426515102386,-0.022565366700291634,-0.010750181041657925,-0.03156503662467003,-0.051237739622592926,0.0027266736142337322,-0.026456091552972794,-0.008001837879419327,-0.0210450179874897,-0.004963350016623735,0.0074340663850307465,-0.03539368510246277,0.022723646834492683,0.020859409123659134,0.017686085775494576,0.05551476031541824,-0.03897598758339882,0.008770538493990898,0.02727806195616722,0.012135863304138184,0.017541587352752686,-0.02757778950035572,-0.0033482478465884924,2.9943532902389214e-34,-0.001320423441939056,-0.040135301649570465,0.025604287162423134,0.04137624427676201,0.016955900937318802,-0.019730767235159874,0.10691997408866882,-0.04416174814105034,0.0346943698823452,-0.05588722974061966,-0.0010651503689587116]'
SET
  @HasCustomProps_f8d01522 = 1
SET
  @HasCustomEvents_f8d01522 = 0
SET
  @RequiresData_f8d01522 = 1
SET
  @DependencyCount_f8d01522 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_f8d01522 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_f8d01522 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_f8d01522 = 1
SET
  @ID_f8d01522 = 'BDAF0B52-4947-42C9-BB7E-500850A5D546'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_f8d01522,
  @Name = @Name_f8d01522,
  @Version = @Version_f8d01522,
  @VersionSequence = @VersionSequence_f8d01522,
  @Title = @Title_f8d01522,
  @Description = @Description_f8d01522,
  @Type = @Type_f8d01522,
  @Status = @Status_f8d01522,
  @DeveloperName = @DeveloperName_f8d01522,
  @DeveloperEmail = @DeveloperEmail_f8d01522,
  @DeveloperOrganization = @DeveloperOrganization_f8d01522,
  @SourceRegistryID = @SourceRegistryID_f8d01522,
  @ReplicatedAt = @ReplicatedAt_f8d01522,
  @LastSyncedAt = @LastSyncedAt_f8d01522,
  @Specification = @Specification_f8d01522,
  @FunctionalRequirements = @FunctionalRequirements_f8d01522,
  @TechnicalDesign = @TechnicalDesign_f8d01522,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_f8d01522,
  @TechnicalDesignVector = @TechnicalDesignVector_f8d01522,
  @HasCustomProps = @HasCustomProps_f8d01522,
  @HasCustomEvents = @HasCustomEvents_f8d01522,
  @RequiresData = @RequiresData_f8d01522,
  @DependencyCount = @DependencyCount_f8d01522,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_f8d01522,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_f8d01522,
  @HasRequiredCustomProps = @HasRequiredCustomProps_f8d01522,
  @ID = @ID_f8d01522;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_f74f26c3 NVARCHAR(MAX),
@Name_f74f26c3 NVARCHAR(500),
@Version_f74f26c3 NVARCHAR(50),
@VersionSequence_f74f26c3 INT,
@Title_f74f26c3 NVARCHAR(1000),
@Description_f74f26c3 NVARCHAR(MAX),
@Type_f74f26c3 NVARCHAR(255),
@Status_f74f26c3 NVARCHAR(50),
@DeveloperName_f74f26c3 NVARCHAR(255),
@DeveloperEmail_f74f26c3 NVARCHAR(255),
@DeveloperOrganization_f74f26c3 NVARCHAR(255),
@SourceRegistryID_f74f26c3 UNIQUEIDENTIFIER,
@ReplicatedAt_f74f26c3 DATETIMEOFFSET,
@LastSyncedAt_f74f26c3 DATETIMEOFFSET,
@Specification_f74f26c3 NVARCHAR(MAX),
@FunctionalRequirements_f74f26c3 NVARCHAR(MAX),
@TechnicalDesign_f74f26c3 NVARCHAR(MAX),
@FunctionalRequirementsVector_f74f26c3 NVARCHAR(MAX),
@TechnicalDesignVector_f74f26c3 NVARCHAR(MAX),
@HasCustomProps_f74f26c3 BIT,
@HasCustomEvents_f74f26c3 BIT,
@RequiresData_f74f26c3 BIT,
@DependencyCount_f74f26c3 INT,
@TechnicalDesignVectorEmbeddingModelID_f74f26c3 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_f74f26c3 NVARCHAR(MAX),
@HasRequiredCustomProps_f74f26c3 BIT,
@ID_f74f26c3 UNIQUEIDENTIFIER
SET
  @Namespace_f74f26c3 = N'CRM/Analytics'
SET
  @Name_f74f26c3 = N'ProductMatrix'
SET
  @Version_f74f26c3 = N'1.0.0'
SET
  @VersionSequence_f74f26c3 = 1
SET
  @Title_f74f26c3 = N'Product Matrix'
SET
  @Description_f74f26c3 = N'Matrix grid showing products vs customers with revenue values'
SET
  @Type_f74f26c3 = N'Table'
SET
  @Status_f74f26c3 = N'Published'
SET
  @Specification_f74f26c3 = N'{"name":"ProductMatrix","namespace":"CRM/Analytics","type":"Table","location":"embedded","code":"function ProductMatrix ({ matrixData, products, customers, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Calculate max value for heat map coloring\n  const maxValue = matrixData && matrixData.length > 0\n    ? Math.max(...matrixData.flat().filter(v => v != null && v > 0))\n    : 0;\n\n  // Get heat color based on value intensity\n  const getHeatColor = (value) => {\n    if (!value || value <= 0) return ''#f8f9fa'';\n    const intensity = maxValue > 0 ? value / maxValue : 0;\n\n    // Green heat scale\n    const r = Math.floor(240 - (intensity * 110)); // 240 -> 130\n    const g = Math.floor(255 - (intensity * 40));  // 255 -> 215\n    const b = Math.floor(240 - (intensity * 110)); // 240 -> 130\n\n    return `rgb($' + '{r}, $' + '{g}, $' + '{b})`;\n  };\n\n  // Format currency\n  const formatCurrency = (value) => {\n    if (!value || value <= 0) return ''-'';\n    if (value >= 1000000) return `$$' + '{(value / 1000000).toFixed(1)}M`;\n    if (value >= 1000) return `$$' + '{(value / 1000).toFixed(0)}K`;\n    return `$$' + '{value.toFixed(0)}`;\n  };\n\n  // Calculate row totals\n  const rowTotals = matrixData && products\n    ? matrixData.map(row => row.reduce((sum, val) => sum + (val || 0), 0))\n    : [];\n\n  // Calculate column totals\n  const colTotals = matrixData && customers\n    ? customers.map((_, colIdx) =>\n        matrixData.reduce((sum, row) => sum + (row[colIdx] || 0), 0)\n      )\n    : [];\n\n  // Calculate grand total\n  const grandTotal = rowTotals.reduce((sum, val) => sum + val, 0);\n\n  return (\n    <div style={{ width: ''100%'', overflowX: ''auto'' }}>\n      <table style={{\n        width: ''100%'',\n        borderCollapse: ''collapse'',\n        backgroundColor: ''#fff''\n      }}>\n        <thead>\n          <tr style={{ backgroundColor: ''#f8f9fa'', borderBottom: ''2px solid #dee2e6'' }}>\n            <th style={{\n              padding: ''12px'',\n              textAlign: ''left'',\n              position: ''sticky'',\n              left: 0,\n              backgroundColor: ''#f8f9fa'',\n              zIndex: 10,\n              minWidth: ''150px''\n            }}>\n              Product\n            </th>\n            {customers && customers.map((customer, index) => (\n              <th\n                key={`customer-$' + '{index}`}\n                style={{\n                  padding: ''12px'',\n                  textAlign: ''right'',\n                  minWidth: ''100px'',\n                  whiteSpace: ''nowrap''\n                }}\n              >\n                {customer}\n              </th>\n            ))}\n            <th style={{\n              padding: ''12px'',\n              textAlign: ''right'',\n              backgroundColor: ''#e9ecef'',\n              fontWeight: ''bold'',\n              minWidth: ''100px''\n            }}>\n              Total\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {products && products.map((product, rowIndex) => (\n            <tr\n              key={`product-$' + '{rowIndex}`}\n              style={{ borderBottom: ''1px solid #dee2e6'' }}\n            >\n              <td style={{\n                padding: ''12px'',\n                fontWeight: ''500'',\n                position: ''sticky'',\n                left: 0,\n                backgroundColor: ''#fff'',\n                zIndex: 5,\n                borderRight: ''1px solid #dee2e6''\n              }}>\n                {product}\n              </td>\n              {customers && customers.map((_, colIndex) => {\n                const value = matrixData?.[rowIndex]?.[colIndex] || 0;\n                return (\n                  <td\n                    key={`cell-$' + '{rowIndex}-$' + '{colIndex}`}\n                    style={{\n                      padding: ''12px'',\n                      textAlign: ''right'',\n                      backgroundColor: getHeatColor(value),\n                      transition: ''background-color 0.2s'',\n                      fontVariantNumeric: ''tabular-nums''\n                    }}\n                    title={value > 0 ? `$$' + '{value.toLocaleString()}` : ''No revenue''}\n                  >\n                    {formatCurrency(value)}\n                  </td>\n                );\n              })}\n              <td style={{\n                padding: ''12px'',\n                textAlign: ''right'',\n                backgroundColor: ''#e9ecef'',\n                fontWeight: ''bold'',\n                fontVariantNumeric: ''tabular-nums''\n              }}>\n                {formatCurrency(rowTotals[rowIndex])}\n              </td>\n            </tr>\n          ))}\n          {/* Totals Row */}\n          <tr style={{\n            borderTop: ''2px solid #dee2e6'',\n            backgroundColor: ''#e9ecef'',\n            fontWeight: ''bold''\n          }}>\n            <td style={{\n              padding: ''12px'',\n              position: ''sticky'',\n              left: 0,\n              backgroundColor: ''#e9ecef'',\n              zIndex: 5,\n              borderRight: ''1px solid #dee2e6''\n            }}>\n              Total\n            </td>\n            {colTotals && colTotals.map((total, index) => (\n              <td\n                key={`col-total-$' + '{index}`}\n                style={{\n                  padding: ''12px'',\n                  textAlign: ''right'',\n                  fontVariantNumeric: ''tabular-nums''\n                }}\n              >\n                {formatCurrency(total)}\n              </td>\n            ))}\n            <td style={{\n              padding: ''12px'',\n              textAlign: ''right'',\n              backgroundColor: ''#d3d7dc'',\n              fontVariantNumeric: ''tabular-nums''\n            }}>\n              {formatCurrency(grandTotal)}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      {(!matrixData || !products || !customers || products.length === 0) && (\n        <div style={{ padding: ''40px'', textAlign: ''center'', color: ''#6c757d'' }}>\n          No data available\n        </div>\n      )}\n    </div>\n  );\n}","functionalRequirements":"## Product Matrix\n\n### Purpose\nDisplay products vs customers revenue matrix.\n\n### Features\n- Grid matrix layout\n- Products as rows\n- Customers as columns\n- Revenue values in cells\n- Heat coloring\n- Totals row/column","dataRequirements":{"mode":"views","description":"Displays product-customer revenue matrix","entities":[{"name":"Products","description":"Product entities for matrix rows","displayFields":["ID","ProductName"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Product names as matrix row headers"},{"name":"Accounts","description":"Customer entities for matrix columns","displayFields":["ID","AccountName"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Customer names as matrix column headers"},{"name":"Invoice Line Items","description":"Revenue data for matrix cells","displayFields":["ProductID","TotalPrice"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Revenue values for product-customer intersections"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Props\n- matrixData: 2D revenue array\n- products: Product names\n- customers: Customer names\n\n### Display\n- Table with fixed headers\n- Scrollable content\n- Color coding","properties":[{"name":"matrixData","type":"Array<Array<number>>","required":true,"description":"2D array of revenue values"},{"name":"products","type":"Array<string>","required":true,"description":"Product names for rows"},{"name":"customers","type":"Array<string>","required":true,"description":"Customer names for columns"}],"events":[],"dependencies":[],"libraries":[],"description":"Matrix grid showing products vs customers with revenue values"}'
SET
  @FunctionalRequirements_f74f26c3 = N'## Product Matrix

### Purpose
Display products vs customers revenue matrix.

### Features
- Grid matrix layout
- Products as rows
- Customers as columns
- Revenue values in cells
- Heat coloring
- Totals row/column'
SET
  @TechnicalDesign_f74f26c3 = N'## Implementation

### Props
- matrixData: 2D revenue array
- products: Product names
- customers: Customer names

### Display
- Table with fixed headers
- Scrollable content
- Color coding'
SET
  @FunctionalRequirementsVector_f74f26c3 = N'[0.02339390479028225,-0.027038056403398514,-0.01028753723949194,-0.018527967855334282,-0.016209950670599937,0.04542049393057823,0.039448805153369904,0.020313668996095657,-0.06415510177612305,-0.03113110177218914,-0.06871513277292252,-0.0223699938505888,0.05484467372298241,0.11821673065423965,-0.010839391499757767,-0.03966256231069565,-0.03643186762928963,0.005832070950418711,-0.09254256635904312,0.01159536000341177,0.03199754282832146,-0.016729343682527542,0.021741293370723724,-0.03452535346150398,-0.0759400725364685,-0.003938722889870405,-0.046334512531757355,0.03178383409976959,0.003920913208276033,-0.007917207665741444,-0.007441987749189138,0.040670111775398254,-0.002950741443783045,-0.04989231377840042,0.0000016440302488263114,-0.03960924595594406,-0.055944107472896576,0.019900677725672722,0.016733141615986824,0.033004309982061386,0.05876768380403519,-0.020944152027368546,0.012734583579003811,0.012135942466557026,-0.0341249480843544,0.01401494350284338,-0.03600184619426727,0.09557972103357315,0.015213586390018463,-0.01443247776478529,0.01762918010354042,-0.05182155594229698,0.0003649184654932469,0.03337180241942406,0.05167189612984657,-0.05945350602269173,-0.0012334681814536452,0.04247940331697464,-0.006176121067255735,-0.04551546275615692,-0.011278973892331123,0.0503743439912796,-0.009679085575044155,-0.03885011002421379,0.08861924707889557,0.04367899149656296,0.10243203490972519,0.005318027921020985,-0.013868164271116257,0.036451224237680435,0.03063827194273472,0.02277720719575882,0.03444185107946396,-0.040366243571043015,0.0015995114808902144,-0.08041209727525711,0.00230224197730422,0.020122528076171875,0.0012222491204738617,0.0026323411148041487,-0.09119758009910583,0.04346868768334389,-0.0507957860827446,0.028787709772586823,0.022181302309036255,0.005209864117205143,-0.0017025271663442254,-0.04310449957847595,-0.022961823269724846,-0.016965534538030624,0.03437599167227745,-0.0076120775192976,0.016106490045785904,0.03009522706270218,-0.040573589503765106,0.007785131223499775,0.022024087607860565,-0.1138831228017807,0.024645036086440086,-0.07147862017154694,0.07141392678022385,0.021886583417654037,0.04078858718276024,0.025351330637931824,-0.025918420404195786,0.005698066204786301,-0.052865490317344666,-0.0530490018427372,-0.046271976083517075,0.01148255169391632,-0.005440270993858576,-0.008821669034659863,-0.01724868454039097,-0.007573496084660292,-0.015413683839142323,0.04208318889141083,-0.015129572711884975,-0.031651951372623444,-0.048782967031002045,0.03680652379989624,0.06737662106752396,0.015959136188030243,-0.004827654454857111,-0.006127265281975269,0.03316535800695419,-0.05796577036380768,-0.041287124156951904,-0.02656560018658638,-0.015339703299105167,0.01676911860704422,0.007450318429619074,0.022778425365686417,0.006881600245833397,0.004180201794952154,-0.028303151950240135,0.04850583150982857,0.01600687950849533,-0.008654261939227581,0.00418891292065382,-0.03426382318139076,0.0024371386971324682,-0.010732008144259453,0.02286382019519806,0.028906220570206642,-0.025535166263580322,-0.03645034506917,-0.013680702075362206,0.11380405724048615,-0.010990211740136147,-0.01630386710166931,0.008159243501722813,0.02728724665939808,0.0023448935244232416,-0.015005561523139477,0.01343630813062191,-0.015217755921185017,0.060928355902433395,-0.030202573165297508,-0.003040847834199667,0.031965114176273346,0.01048280205577612,-0.011400534771382809,0.028889618813991547,-0.06113462522625923,-0.026894019916653633,-0.0015519827138632536,-0.11719085276126862,0.047524645924568176,0.02380301058292389,0.004042443819344044,-0.017002161592245102,-0.028168601915240288,0.0093919038772583,0.022488821297883987,-0.0018070621881633997,0.01077756192535162,-0.042681436985731125,0.04248396307229996,-0.030840126797556877,-0.024762040004134178,0.02716989442706108,-0.08716136962175369,0.07122694700956345,0.026270078495144844,0.01796823740005493,-0.02782379277050495,-0.025390297174453735,0.037537556141614914,-0.019264385104179382,0.01208263635635376,0.015135979279875755,-0.025350749492645264,0.001880370662547648,0.007231077644973993,-0.012021149508655071,-0.014357144944369793,-0.009664475917816162,-0.09418831765651703,0.021202361211180687,-0.03980503976345062,-0.01744987443089485,-0.04186621680855751,0.07255812734365463,0.07899323105812073,-0.02551116980612278,0.013263084925711155,-0.020339196547865868,-0.011471334844827652,-0.00035031858715228736,0.001914349151775241,-0.022582776844501495,0.01588081195950508,-0.03289342671632767,-0.028610579669475555,-0.003422010224312544,-0.013285468332469463,0.019239872694015503,0.022761618718504906,-0.05027046054601669,-0.08678155392408371,0.01758643612265587,0.03315939009189606,0.023575415834784508,-0.00823465920984745,0.045293111354112625,0.05834495276212692,0.044876523315906525,-0.04879707470536232,0.05449322238564491,0.006068797316402197,0.010448828339576721,-0.006662189029157162,0.010225595906376839,-0.010542669333517551,-0.03227696940302849,-0.028740013018250465,0.018152978271245956,0.046606242656707764,-0.019376223906874657,0.05090392753481865,-0.03456206992268562,-0.05732697993516922,-0.006510586012154818,0.023572789505124092,0.05664892494678497,-0.017922356724739075,-0.11124013364315033,0.007864338345825672,-0.010768670588731766,-0.02772032469511032,0.011742353439331055,-0.006403820123523474,0.07487061619758606,-0.006435028277337551,-0.029948627576231956,-0.0212361142039299,-0.11679597198963165,-0.0105014992877841,-0.0051368363201618195,0.08756483346223831,-0.008623634465038776,0.004261542111635208,0.017532508820295334,-0.05967485159635544,0.006661549676209688,-0.013491029851138592,0.09206301718950272,-0.008161495439708233,0.016163304448127747,0.03578593209385872,-0.04420521855354309,0.05415404215455055,-0.03471049666404724,0.006590608973056078,-0.02811465598642826,-0.020378997549414635,0.0010162194957956672,0.026406319811940193,-0.02964685671031475,-0.03017169050872326,-0.012636646628379822,-0.030023889616131783,-0.00130713009275496,0.008287299424409866,-0.013655468821525574,0.022368382662534714,0.00013745531032327563,-0.00879783183336258,0.013094051741063595,0.0006527308141812682,-0.02282632328569889,-0.0024048553314059973,0.011384259909391403,0.029787810519337654,-0.03698655962944031,-0.007459735963493586,0.024806145578622818,0.007180377840995789,0.021750198677182198,0.0216418094933033,-0.0023331574629992247,-0.028168436139822006,-0.006555379368364811,0.01809367537498474,-0.047001346945762634,0.06302902847528458,0.03846034035086632,-0.019889764487743378,0.015662916004657745,0.017744984477758408,0.011445284821093082,-0.013446691446006298,-0.013001317158341408,0.006651448551565409,0.02194877527654171,-0.0007862831698730588,-0.00978825706988573,0.010742862708866596,0.005977707449346781,0.05684793367981911,-0.0047791991382837296,-0.009320639073848724,0.0203349981456995,-0.006186817307025194,0.003911072853952646,0.009749099612236023,-0.014691611751914024,-0.0007547076093032956,-0.06882014870643616,0.012893841601908207,-0.015561225824058056,-0.1390838772058487,0.045688197016716,0.05420476943254471,-0.029897242784500122,-0.013394585810601711,-0.013554206117987633,0.06516309827566147,0.03162239119410515,-0.022887054830789566,0.018030190840363503,-0.007336026523262262,-0.012424257583916187,-0.022944070398807526,0.02998487278819084,0.006666701287031174,0.05891653895378113,0.007294830400496721,-0.007961545139551163,0.019738221541047096,0.02857053466141224,-0.02101348154246807,-0.023613743484020233,-0.019032714888453484,-0.023543504998087883,0.05326555669307709,-0.061037369072437286,0.030055608600378036,-0.0475747287273407,-0.06417151540517807,-0.0013789503136649728,-0.0018614808795973659,-0.039251115173101425,0.01770942099392414,0.0055605266243219376,0.052237190306186676,0.005906536243855953,0.02185000292956829,0.004489444196224213,-0.02990974672138691,-0.03625790402293205,0.000997763592749834,0.029921885579824448,0.0007980907685123384,-0.0028582534287124872,-0.01866038143634796,-0.0005409303121268749,0.0016793989343568683,0.005762508604675531,-0.002678460441529751,0.07209780812263489,0.031401362270116806,0.07413981109857559,-0.014758840203285217,0.04710987210273743,-0.0006744367419742048,-0.027970686554908752,-0.03832196444272995,-0.03568672761321068,-0.022125814110040665,-0.006938286125659943,0.012812568806111813,-0.09286423027515411,-0.0014965219888836145,-0.0009033265523612499,0.032158926129341125,0.035146284848451614,0.009296806529164314,0.01962670497596264,-0.005584869999438524,0.012242425233125687,0.050841934978961945,-0.037101861089468,-0.018868010491132736,0.0439583957195282,-0.06939328461885452,0.09323296695947647,0.017741236835718155,-0.03093479759991169,-0.07381314784288406,-0.034529201686382294,0.009274004027247429,-0.015207221731543541,-0.006896819453686476,0.02290157973766327,0.012979173101484776,-0.01867195963859558,-0.02304709516465664,-0.022458096966147423,0.030326977372169495,-0.0030991046223789454,0.019599955528974533,0.027425915002822876,0.024642396718263626,-0.036229558289051056,0.009309370070695877,-0.007231088355183601,-0.0655035600066185,-0.01460170652717352,0.027708398178219795,-0.0050235940143466,-0.026732569560408592,-0.027381721884012222,-0.0004615673387888819,-0.08553224802017212,0.03127279505133629,-0.02959304116666317,-0.058926381170749664,0.02300865575671196,-0.005711754318326712,-0.0014486301224678755,0.0393604151904583,0.05990263447165489,-0.0043167732656002045,-0.060607846826314926,-0.06234845146536827,-0.03561227023601532,0.05985694378614426,-0.06340272724628448,0.004061049781739712,0.04932451993227005,0.03299917280673981,0.00021878484403714538,0.015600576065480709,-0.043481968343257904,0.0009496218408457935,-0.10812991112470627,0.005767029244452715,-0.018821947276592255,0.016576092690229416,0.025889256969094276,0.026540527120232582,-0.06610884517431259,0.0006210152059793472,0.01994062401354313,-0.1034766361117363,0.0722971260547638,-0.01432920340448618,0.030341215431690216,-0.047222383320331573,0.004476441070437431,0.005464064422994852,-0.005134748760610819,-0.02310260571539402,0.024596011266112328,0.03873439133167267,0.030419550836086273,-0.03968091681599617,0.044537488371133804,0.009931650012731552,-0.03713502362370491,0.012051858007907867,0.05574768781661987,-0.056650303304195404,0.021550443023443222,0.022602669894695282,-0.010391425341367722,-0.010734054259955883,-0.017256727442145348,-0.02876315452158451,0.014474323950707912,0.01906324177980423,-0.00784769281744957,0.10263337194919586,0.007536864839494228,0.03126711770892143,0.0042748539708554745,-0.044247817248106,-0.02576555497944355,-0.0372680127620697,-0.03939036652445793,0.01981010101735592,-0.01786242239177227,0.05712103471159935,-0.009223397821187973,-0.005674149375408888,0.05554039403796196,-0.00065274239750579,0.0057838656939566135,-0.029863305389881134,-0.024384140968322754,0.019551781937479973,0.015099533833563328,-0.08074911683797836,0.028694406151771545,0.008475769311189651,-0.05105366185307503,0.020027870312333107,-0.03312292322516441,0.00008269707905128598,0.0039389003068208694,0.029047194868326187,0.029207946732640266,-0.03925855830311775,0.026473945006728172,0.016882121562957764,0.028711460530757904,-0.021739931777119637,-0.026438932865858078,0.04474084451794624,0.08058273047208786,-0.03041265346109867,-0.01879161410033703,-0.0300200916826725,0.009024775587022305,0.07640091329813004,0.03920091688632965,-0.012829517014324665,-0.005665595643222332,-0.018760990351438522,-0.027821607887744904,-0.032768476754426956,-0.011630426160991192,0.0220937617123127,0.015866464003920555,0.03336590901017189,0.002517213113605976,0.010654401034116745,0.006675285752862692,0.01958860456943512,0.010445086285471916,0.011990657076239586,-0.004957672208547592,-0.03698332607746124,0.012894758023321629,-5.815966583598554e-33,-0.03962342441082001,-0.05641767382621765,-0.05856601148843765,0.04702433571219444,-0.010236195288598537,-0.03972397744655609,0.04838002100586891,0.0007977721397764981,0.03450160101056099,0.006243281532078981,-0.009585926309227943,0.0018432437209412456,0.023948591202497482,0.0028644760604947805,0.018397599458694458,-0.025249628350138664,0.004614286124706268,0.008882413618266582,0.05267457664012909,0.011526639573276043,-0.04501892626285553,0.043767042458057404,0.0005220234161242843,-0.04056771099567413,-0.04307205602526665,-0.01986238919198513,-0.006994172465056181,0.04175044596195221,-0.053832512348890305,-0.02401604689657688,0.0026112296618521214,-0.006652995012700558,0.00801144354045391,0.03166626766324043,-0.04039667919278145,-0.025101078674197197,-0.02703954465687275,0.022466156631708145,0.024358894675970078,0.013921643607318401,-0.09000752866268158,0.016702163964509964,-0.0132916159927845,0.003063573967665434,-0.009738470427691936,-0.0008731778361834586,0.026377519592642784,-0.0023884635884314775,-0.034148480743169785,-0.013704611919820309,0.04629239812493324,0.01494470052421093,0.01335715688765049,0.06484562903642654,0.03474287688732147,-0.0038270405493676662,0.02566397376358509,0.036662206053733826,-0.016601083800196648,-0.04139407351613045,0.02765238843858242,-0.03740924596786499,0.012530108913779259,0.06985974311828613,0.011723999865353107,-0.05198192596435547,0.004977537784725428,0.05319642275571823,-0.06622316688299179,-0.08350162953138351,-0.03501883149147034,-0.0426439605653286,0.032636575400829315,-0.04758525639772415,0.02864972874522209,0.07617972791194916,0.0509561151266098,-0.006291222758591175,0.008827956393361092,0.005560615099966526,-0.014558319933712482,0.018876614049077034,0.020751578733325005,0.0035771778784692287,0.02373492158949375,-0.013595267198979855,-0.01351098157465458,0.007915860041975975,0.017518749460577965,0.004731691442430019,-0.016934774816036224,0.08268743008375168,-0.03156403452157974,0.024478338658809662,-0.04881769418716431,0.04460233822464943,0.034158919006586075,0.01876678504049778,0.0006069142837077379,-0.029225071892142296,-0.020093504339456558,0.037829793989658356,-0.02561718039214611,-0.04771759733557701,-0.03379400447010994,0.012513967230916023,0.019651740789413452,0.00017121960991062224,-0.02342226542532444,0.03296389430761337,0.035347770899534225,0.009116929024457932,0.010156412608921528,0.03291165456175804,-0.03823624551296234,0.005667089484632015,-0.001998503226786852,0.016612112522125244,0.02233109064400196,-0.007755342870950699,0.0047577000223100185,-0.019216163083910942,-0.0536833293735981,-0.046468935906887054,0.044263649731874466,-0.009400208480656147,-0.02506425976753235,-0.006615505553781986,0.04804861173033714,-0.0021398162934929132,0.01352760847657919,0.018324661999940872,2.4633976636323496e-7,0.022249873727560043,0.005990956444293261,-0.037223074585199356,0.022222237661480904,-0.008345017209649086,0.03656972199678421,0.003412196645513177,-0.004041710402816534,-0.03238673135638237,-0.06106998771429062,0.01268719881772995,-0.013524848036468029,0.03559400886297226,0.014579936861991882,0.032140545547008514,-0.03210722655057907,-0.048995308578014374,-0.03064921125769615,-0.023640533909201622,-0.03365228325128555,0.003658007364720106,0.0031821439042687416,0.059603940695524216,0.022060448303818703,0.032584551721811295,0.06175981089472771,0.0355784073472023,-0.03767435625195503,0.05272918939590454,0.00004473982335184701,0.08998863399028778,-0.04797790199518204,-0.03619692102074623,0.05470418184995651,0.03516151383519173,0.01828930899500847,-0.035124365240335464,-0.01389598473906517,0.06941308081150055,0.05078423023223877,0.023931318894028664,0.0047533814795315266,-0.006681161932647228,-0.03590249642729759,-0.031588565558195114,0.04120245948433876,-0.00681726448237896,-0.009105773642659187,-0.004566858988255262,0.01961163803935051,0.00005454464189824648,0.009815484285354614,-0.01638750359416008,0.0034522635396569967,-0.026482554152607918,-0.018082916736602783,0.028324143961071968,0.009897579438984394,0.03816676512360573,0.0310122761875391,-0.03885461390018463,0.03442055732011795,0.008760948665440083,0.09375222027301788,0.09922834485769272,0.012183054350316525,-0.0015166980447247624,3.0749697030087716e-34,0.04275403171777725,-0.01648467592895031,0.045521751046180725,0.05065903812646866,-0.0246109738945961,0.013721744529902935,-0.06577381491661072,-0.017922434955835342,0.004289761185646057,-0.060735441744327545,-0.011249941773712635]'
SET
  @TechnicalDesignVector_f74f26c3 = N'[0.03264481946825981,0.026416627690196037,-0.03130081295967102,-0.042992521077394485,0.01239811722189188,-0.009367022663354874,0.03508184105157852,0.060085173696279526,-0.01435159519314766,0.007841378450393677,-0.033316656947135925,-0.012883585877716541,0.054085493087768555,0.05492535978555679,0.029135260730981827,-0.043842341750860214,-0.009570964612066746,0.04761636257171631,-0.08270040154457092,-0.006552660372108221,0.03561980277299881,-0.03967617079615593,0.004472279455512762,-0.03310258686542511,-0.02248075045645237,-0.0064714886248111725,-0.02098504826426506,-0.012258131988346577,0.030123643577098846,-0.009548471309244633,0.04156308248639107,0.06960473954677582,-0.0011788203846663237,-0.0012700926745310426,0.0000014723633512403467,0.010800285264849663,-0.036276210099458694,0.019443051889538765,-0.012440887279808521,-0.01681271195411682,0.04283316805958748,-0.02712838165462017,0.020753230899572372,-0.007759291213005781,0.013163096271455288,-0.03545664995908737,-0.03436661884188652,0.06123262271285057,0.047557082027196884,-0.0011905687861144543,0.02376595139503479,-0.1197197213768959,0.015542129054665565,0.021468646824359894,0.06607958674430847,0.027906760573387146,0.003711127210408449,0.000757250003516674,-0.011665496043860912,-0.013125114142894745,-0.011724390089511871,-0.011951793916523457,0.002287300070747733,-0.03802836313843727,0.007788896560668945,0.026778174564242363,0.022110331803560257,0.01211079116910696,-0.004174855537712574,0.07836056500673294,0.1019740030169487,0.002428507199510932,0.011200441978871822,-0.02419343963265419,0.008565930649638176,-0.0558013841509819,0.00042523411684669554,-0.0019913925789296627,-0.0069213793613016605,0.003528023837134242,-0.06946353614330292,0.03627917915582657,-0.038957320153713226,-0.00952209997922182,0.034291017800569534,0.013028566725552082,-0.020940179005265236,-0.013816431164741516,-0.03329228609800339,-0.04566818103194237,0.07243942469358444,0.0176696814596653,-0.011741077527403831,0.00901409424841404,-0.01523078978061676,0.045565053820610046,0.011851037852466106,-0.18696275353431702,0.034960221499204636,-0.08880414813756943,0.11072581261396408,0.04129290580749512,0.004097057972103357,0.0065100849606096745,-0.03201400488615036,0.06818526983261108,-0.01776835136115551,-0.00709195202216506,-0.02102978341281414,-0.008938398212194443,0.01816563680768013,-0.020569587126374245,-0.011014960706233978,0.008702457882463932,-0.04326220974326134,0.04272528365254402,-0.013815944083034992,-0.01494230143725872,-0.018191881477832794,0.043074507266283035,0.05241638794541359,-0.011111613363027573,-0.0404132716357708,-0.016929570585489273,0.028582802042365074,-0.04711857810616493,-0.020011575892567635,-0.09628071635961533,-0.009416033513844013,0.014997552148997784,0.02917884849011898,0.008166198618710041,0.017712457105517387,0.005512356758117676,-0.004454880952835083,0.056005749851465225,0.004327346570789814,-0.027510622516274452,0.04519398882985115,0.012803339399397373,-0.023506270721554756,0.018146874383091927,0.035481054335832596,0.07395385205745697,0.007333768531680107,-0.010791677981615067,0.0236958097666502,-0.0055707283318042755,-0.006312994752079248,0.04693144932389259,-0.019638650119304657,0.03651311993598938,-0.021520745009183884,-0.003957129083573818,-0.014616155996918678,0.012634317390620708,0.009386920370161533,0.008191870525479317,0.02245650440454483,-0.008834036998450756,-0.002886950271204114,0.02312033623456955,0.04319322854280472,-0.010375412181019783,-0.01912861131131649,-0.01800946705043316,-0.15039579570293427,-0.010253808461129665,0.027659209445118904,0.00169970968272537,0.012573000974953175,-0.021409183740615845,-0.009039433673024178,0.006026595830917358,-0.008341429755091667,-0.02836977131664753,0.007788365241140127,0.030930448323488235,-0.03669103980064392,-0.004763795528560877,0.04016483947634697,-0.0667833536863327,0.04235825315117836,-0.008051800541579723,0.04727739468216896,-0.034732893109321594,-0.029701972380280495,0.014586209319531918,-0.004004033748060465,0.020810047164559364,0.00022434984566643834,-0.014741333201527596,-0.026516126468777657,0.008779216557741165,-0.02728608250617981,-0.02807832881808281,-0.04234457388520241,-0.08281711488962173,0.033198438584804535,0.01589822955429554,0.03620989993214607,-0.01003645546734333,0.08041241765022278,0.059909239411354065,0.008580313064157963,0.008734455332159996,-0.050086479634046555,-0.009167668409645557,0.0375426709651947,0.0032041508238762617,-0.020590048283338547,-0.012083032168447971,-0.04405799135565758,0.01339702494442463,0.018757501617074013,0.024747706949710846,-0.0074963318184018135,0.009585108608007431,-0.013019810430705547,-0.023086480796337128,0.009008746594190598,0.024014003574848175,0.005152109079062939,0.011780287139117718,0.08541583269834518,0.07545748353004456,0.010688915848731995,-0.045639898627996445,0.045777127146720886,-0.004991256166249514,-0.0032000732608139515,-0.0188103336840868,-0.0020043463446199894,-0.008205823600292206,0.016161445528268814,-0.04075228050351143,0.017094450071454048,0.02705111727118492,-0.018869249150156975,0.029559655115008354,-0.02667265385389328,-0.019204793497920036,-0.01154919434338808,0.01265986543148756,0.011693582870066166,-0.02705714851617813,-0.12918873131275177,0.04325329139828682,-0.033705614507198334,0.007159149274230003,0.05406263843178749,0.0194034893065691,0.043646931648254395,-0.01912522129714489,-0.005756236147135496,-0.07373151928186417,-0.04578222706913948,-0.011479152366518974,0.0198823232203722,0.04689896106719971,0.021903352811932564,0.018034374341368675,-0.006349052302539349,0.021996820345520973,0.02367895469069481,-0.012544427067041397,0.05580298975110054,-0.029557639732956886,0.010870884172618389,0.018509123474359512,-0.054269447922706604,0.009409655816853046,-0.029457487165927887,-0.01957576908171177,-0.00650885421782732,-0.01790446601808071,0.023162685334682465,0.026751777157187462,-0.005366387777030468,0.005470686592161655,-0.039095982909202576,-0.07879339903593063,-0.0013543907552957535,0.009472363628447056,-0.016367115080356598,-0.012902699410915375,-0.028275270015001297,-0.015039490535855293,0.01927466318011284,-0.13010069727897644,-0.016203653067350388,0.013598515652120113,0.01745207980275154,-0.0038848421536386013,-0.027159806340932846,0.01361441146582365,0.02845960296690464,0.012196146883070469,0.008476881310343742,0.02559642866253853,-0.0118168406188488,0.008035818114876747,0.022718876600265503,0.038780372589826584,-0.04372287541627884,-0.002034999430179596,0.022754935547709465,-0.013665647245943546,0.06576785445213318,0.04661275073885918,0.006191285327076912,0.02952577732503414,-0.044195570051670074,-0.03528747335076332,0.025804927572607994,0.035619087517261505,-0.012315693311393261,0.01732085831463337,-0.0371616967022419,0.03972328081727028,-0.002109487308189273,0.01071233581751585,-0.005259842146188021,-0.04383697733283043,-0.02255554497241974,0.04868899658322334,0.02967255190014839,-0.03359442949295044,0.012922930531203747,0.03377324715256691,0.029953667894005775,-0.09355050325393677,0.014606695622205734,0.03675280511379242,0.02067197486758232,0.012831993401050568,-0.014817171730101109,0.04376191273331642,0.015250222757458687,0.018544530496001244,0.007933474145829678,0.012218215502798557,-0.0043657636269927025,-0.05349024385213852,-0.011421690694987774,-0.043372977524995804,0.01703507825732231,-0.0014737594174221158,-0.07363160699605942,-0.030098656192421913,0.0254704300314188,0.04483812302350998,-0.006738509051501751,0.012085448950529099,-0.027967067435383797,0.03418424725532532,-0.028400156646966934,0.050965599715709686,-0.05753237009048462,-0.041518811136484146,0.01165649201720953,0.03170972689986229,-0.013282249681651592,0.057419002056121826,-0.0017954681534320116,0.05240173637866974,0.005237425211817026,0.027666285634040833,-0.005575948394834995,-0.013317032717168331,-0.054570138454437256,0.02268991991877556,0.04768703505396843,-0.019926683977246284,-0.021760569885373116,-0.0026339401956647635,0.02039952017366886,0.02785716950893402,-0.014183585532009602,-0.03440050408244133,0.04727255180478096,-0.003944637719541788,0.019696136936545372,0.014456498436629772,0.040400922298431396,-0.011472824960947037,-0.002502470975741744,-0.08243974298238754,0.008982712402939796,-0.011699064634740353,-0.015309176407754421,-0.02346615679562092,-0.11338473111391068,-0.01056166272610426,-0.0017730799736455083,0.06446503102779388,0.07932007312774658,0.03479008749127388,0.05736207962036133,-0.0012745417188853025,-0.002925809007138014,0.06893656402826309,0.007644849829375744,-0.02670968323945999,0.04311544448137283,-0.02895643562078476,0.03901789337396622,0.009825645014643669,0.025741159915924072,0.00045281180064193904,-0.05802546441555023,-0.04564985632896423,-0.01200992800295353,-0.002210005884990096,-0.03204435110092163,-0.04834568873047829,0.0015861800638958812,-0.07188106328248978,-0.03042304515838623,0.035438258200883865,0.0036239721812307835,0.022506961598992348,0.022726086899638176,0.03511020913720131,-0.020956313237547874,-0.02004821039736271,0.0036778037901967764,-0.07192894071340561,0.020377570763230324,0.0027681062929332256,0.0080372029915452,0.02946685440838337,0.023682935163378716,-0.03231818228960037,0.01115588378161192,0.028535831719636917,-0.022413503378629684,-0.013386906124651432,0.09708696603775024,-0.01171257346868515,0.028880871832370758,0.0025288425385951996,0.04241076484322548,0.014883373863995075,0.01154481153935194,-0.0367748886346817,-0.029889710247516632,0.07323125749826431,-0.032029520720243454,-0.029642906039953232,0.001793624134734273,-0.043208494782447815,0.001575732952915132,0.009728338569402695,-0.05339817330241203,-0.043892718851566315,-0.019472196698188782,0.035761430859565735,-0.0027347567956894636,0.00028137239860370755,-0.01329178735613823,0.02933097444474697,-0.0471062995493412,-0.020736489444971085,-0.008470236323773861,-0.07816090434789658,0.07925998419523239,-0.023990163579583168,-0.019011732190847397,-0.025454191491007805,-0.028510166332125664,0.0008395696640945971,0.007471057120710611,0.00779562396928668,0.010424613021314144,0.012182952836155891,0.016273539513349533,0.03249207139015198,0.07631829380989075,-0.020453760400414467,-0.023285305127501488,0.013413849286735058,-0.0016726972535252571,-0.1147041991353035,0.04329990595579147,-0.005922800395637751,-0.05356984585523605,-0.0003961947513744235,-0.002148902043700218,-0.0489317961037159,0.006992630194872618,-0.029933810234069824,-0.025585606694221497,0.08177141100168228,0.02182401902973652,0.028845136985182762,0.022454045712947845,-0.026896264404058456,-0.04820308834314346,-0.029081033542752266,0.000734239409212023,-0.028885388746857643,0.0037671776954084635,0.033450622111558914,-0.028541404753923416,-0.021022360771894455,0.014012148603796959,0.018005304038524628,-0.006077984813600779,-0.055976398289203644,-0.028538117185235023,0.003987567033618689,-0.027386846020817757,-0.05135118216276169,0.022671805694699287,0.06892388314008713,-0.07987534254789352,0.030022326856851578,-0.0003444506728556007,-0.004951634909957647,0.011402803473174572,0.027973098680377007,-0.00003622742588049732,-0.023305155336856842,0.039618007838726044,0.0489625446498394,0.014585190452635288,-0.004022913984954357,0.06080446392297745,0.029428958892822266,0.0880269706249237,-0.04517712444067001,-0.05104190856218338,-0.017195671796798706,0.0016875040018931031,0.05176730453968048,0.04801136255264282,0.00047241998254321516,-0.013989857397973537,-0.025479450821876526,-0.03256889432668686,0.005748550407588482,-0.008326888084411621,0.005809512920677662,0.01396348886191845,0.0018894337117671967,0.001811103313229978,-0.03402097150683403,0.012002725154161453,0.003840839024633169,0.018021060153841972,0.010911625809967518,-0.016424499452114105,-0.043889809399843216,0.05288778617978096,-5.601540250961245e-33,-0.03780098259449005,0.0032165758311748505,-0.03972889110445976,-0.001305317971855402,-0.06365291029214859,0.014257379807531834,-0.020462656393647194,-0.0039139692671597,0.013678859919309616,-0.03932248428463936,-0.021444177255034447,-0.023527786135673523,0.01123952679336071,0.018816640600562096,-0.021594742313027382,-0.08208486437797546,-0.014898938126862049,-0.013653211295604706,0.012954726815223694,0.03075605072081089,-0.049075376242399216,0.041124314069747925,-0.0043394435197114944,0.03299533575773239,-0.006453492678701878,0.009549090638756752,-0.002883832436054945,0.016485916450619698,-0.024718761444091797,-0.013973056338727474,-0.047101497650146484,0.004065531771630049,-0.013667607679963112,-0.04946364462375641,0.007441685535013676,0.0211611557751894,-0.06298604607582092,-0.017028305679559708,0.01195610873401165,0.04872749000787735,-0.007792310323566198,0.0641462653875351,0.005594670306891203,-0.010733472183346748,0.011607357300817966,0.008843171410262585,-0.012339442037045956,-0.007094910368323326,-0.034899938851594925,0.034161198884248734,0.048859771341085434,0.004782047588378191,0.0022040754556655884,0.06099585443735123,0.02799326740205288,-0.0002712422574404627,0.06467176228761673,0.04441235959529877,-0.0462975800037384,-0.05837126076221466,-0.057859186083078384,-0.054010722786188126,0.032810576260089874,0.020960716530680656,0.035234831273555756,0.019359664991497993,0.05496707931160927,0.02926778420805931,-0.07846144586801529,-0.02420036867260933,-0.03260837867856026,-0.07420367747545242,0.043236810714006424,-0.00537128234282136,0.05445088446140289,0.034342993050813675,-0.0019211260369047523,-0.018909713253378868,0.010822686366736889,-0.009886658750474453,0.01949715055525303,-0.00320594129152596,-0.03881954401731491,-0.004294188227504492,0.007264354731887579,-0.058989737182855606,0.0553579218685627,-0.018568003550171852,-0.020889226347208023,-0.00033001985866576433,-0.00643340777605772,0.015618056990206242,-0.020097944885492325,0.06570670753717422,-0.07705346494913101,0.03924667835235596,0.039988625794649124,0.041846197098493576,0.0076685575768351555,-0.009846930392086506,0.022163186222314835,-0.01983811892569065,-0.031868621706962585,-0.05850480869412422,-0.027539459988474846,0.019959677010774612,0.05914779379963875,-0.009184762835502625,-0.028826693072915077,0.033378224819898605,0.04273289069533348,0.04239412769675255,0.004964023362845182,0.027698170393705368,0.01179055031388998,0.038260143250226974,-0.005455266684293747,-0.005300877615809441,0.04112088307738304,0.043306056410074234,0.010373520664870739,0.0008068295428529382,-0.03614035248756409,0.0027407302986830473,0.03667180985212326,-0.003764502005651593,-0.02816377952694893,-0.04804783686995506,-0.016120515763759613,-0.07497675716876984,0.03397589549422264,-0.009249436669051647,2.2735825666586607e-7,-0.035114187747240067,-0.0248479675501585,-0.017433954402804375,-0.002149114152416587,0.008102131076157093,-0.017166608944535255,0.030604710802435875,-0.028286542743444443,-0.06051292642951012,-0.1019744798541069,0.00753566762432456,-0.004569617565721273,0.032427601516246796,-0.00022603948309551924,-0.0150200966745615,-0.04114581644535065,-0.0358918234705925,-0.012279117479920387,-0.04308301582932472,0.015257040970027447,0.009468629024922848,0.002030365401878953,0.0648689866065979,-0.0238016489893198,-0.007047218270599842,0.09050554037094116,0.010812981985509396,-0.034354716539382935,0.07313498854637146,-0.027264656499028206,0.056848399341106415,-0.035498544573783875,-0.03915420547127724,0.050141725689172745,0.016585618257522583,0.05458277836441994,-0.011775905266404152,-0.017012860625982285,0.0655410960316658,0.10773614794015884,0.046014029532670975,-0.02765027992427349,-0.01959194801747799,-0.03843626752495766,0.04928228259086609,0.02385457418859005,-0.03243699669837952,0.03470689058303833,-0.013748226687312126,0.03341033309698105,-0.013636545278131962,-0.01280501764267683,-0.01940171606838703,-0.025144467130303383,0.003330131759867072,-0.05618978291749954,0.03270655497908592,0.002054489217698574,0.02013017050921917,0.0035313228145241737,-0.04191682115197182,0.05335778370499611,0.0029342344496399164,0.05086255818605423,0.04943250119686127,-0.014614328742027283,-0.010294115170836449,2.8035700979229834e-34,0.024268459528684616,-0.04530789330601692,0.034165143966674805,-0.0024093405809253454,0.0016703159781172872,-0.008268551900982857,0.06057245656847954,-0.029638096690177917,0.016648776829242706,-0.049515251070261,-0.012000525370240211]'
SET
  @HasCustomProps_f74f26c3 = 1
SET
  @HasCustomEvents_f74f26c3 = 0
SET
  @RequiresData_f74f26c3 = 1
SET
  @DependencyCount_f74f26c3 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_f74f26c3 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_f74f26c3 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_f74f26c3 = 1
SET
  @ID_f74f26c3 = 'F790E008-8D7B-463F-8782-DB2F54940632'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_f74f26c3,
  @Name = @Name_f74f26c3,
  @Version = @Version_f74f26c3,
  @VersionSequence = @VersionSequence_f74f26c3,
  @Title = @Title_f74f26c3,
  @Description = @Description_f74f26c3,
  @Type = @Type_f74f26c3,
  @Status = @Status_f74f26c3,
  @DeveloperName = @DeveloperName_f74f26c3,
  @DeveloperEmail = @DeveloperEmail_f74f26c3,
  @DeveloperOrganization = @DeveloperOrganization_f74f26c3,
  @SourceRegistryID = @SourceRegistryID_f74f26c3,
  @ReplicatedAt = @ReplicatedAt_f74f26c3,
  @LastSyncedAt = @LastSyncedAt_f74f26c3,
  @Specification = @Specification_f74f26c3,
  @FunctionalRequirements = @FunctionalRequirements_f74f26c3,
  @TechnicalDesign = @TechnicalDesign_f74f26c3,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_f74f26c3,
  @TechnicalDesignVector = @TechnicalDesignVector_f74f26c3,
  @HasCustomProps = @HasCustomProps_f74f26c3,
  @HasCustomEvents = @HasCustomEvents_f74f26c3,
  @RequiresData = @RequiresData_f74f26c3,
  @DependencyCount = @DependencyCount_f74f26c3,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_f74f26c3,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_f74f26c3,
  @HasRequiredCustomProps = @HasRequiredCustomProps_f74f26c3,
  @ID = @ID_f74f26c3;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_30ef6202 NVARCHAR(MAX),
@Name_30ef6202 NVARCHAR(500),
@Version_30ef6202 NVARCHAR(50),
@VersionSequence_30ef6202 INT,
@Title_30ef6202 NVARCHAR(1000),
@Description_30ef6202 NVARCHAR(MAX),
@Type_30ef6202 NVARCHAR(255),
@Status_30ef6202 NVARCHAR(50),
@DeveloperName_30ef6202 NVARCHAR(255),
@DeveloperEmail_30ef6202 NVARCHAR(255),
@DeveloperOrganization_30ef6202 NVARCHAR(255),
@SourceRegistryID_30ef6202 UNIQUEIDENTIFIER,
@ReplicatedAt_30ef6202 DATETIMEOFFSET,
@LastSyncedAt_30ef6202 DATETIMEOFFSET,
@Specification_30ef6202 NVARCHAR(MAX),
@FunctionalRequirements_30ef6202 NVARCHAR(MAX),
@TechnicalDesign_30ef6202 NVARCHAR(MAX),
@FunctionalRequirementsVector_30ef6202 NVARCHAR(MAX),
@TechnicalDesignVector_30ef6202 NVARCHAR(MAX),
@HasCustomProps_30ef6202 BIT,
@HasCustomEvents_30ef6202 BIT,
@RequiresData_30ef6202 BIT,
@DependencyCount_30ef6202 INT,
@TechnicalDesignVectorEmbeddingModelID_30ef6202 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_30ef6202 NVARCHAR(MAX),
@HasRequiredCustomProps_30ef6202 BIT,
@ID_30ef6202 UNIQUEIDENTIFIER
SET
  @Namespace_30ef6202 = N'CRM/Finance'
SET
  @Name_30ef6202 = N'StatusOverview'
SET
  @Version_30ef6202 = N'1.0.0'
SET
  @VersionSequence_30ef6202 = 1
SET
  @Title_30ef6202 = N'Status Overview'
SET
  @Description_30ef6202 = N'Overview cards showing invoice status summary'
SET
  @Type_30ef6202 = N'Other'
SET
  @Status_30ef6202 = N'Published'
SET
  @Specification_30ef6202 = N'{"name":"StatusOverview","namespace":"CRM/Finance","type":"Other","location":"embedded","code":"// StatusOverview Sub-component\nfunction StatusOverview ({ statusData, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  const getStatusColor = (status) => {\n    const colors = {\n      ''Paid'': ''#28a745'',\n      ''Pending'': ''#ffc107'',\n      ''Overdue'': ''#dc3545'',\n      ''Draft'': ''#6c757d'',\n      ''Sent'': ''#17a2b8'',\n      ''Partial'': ''#fd7e14''\n    };\n    return colors[status] || ''#6c757d'';\n  };\n\n  const getStatusIcon = (status) => {\n    const icons = {\n      ''Paid'': ''✓'',\n      ''Pending'': ''⏰'',\n      ''Overdue'': ''⚠'',\n      ''Draft'': ''✎'',\n      ''Sent'': ''✉'',\n      ''Partial'': ''½''\n    };\n    return icons[status] || ''•'';\n  };\n\n  const totalAmount = Object.values(statusData || {}).reduce((sum, status) => \n    sum + (status.amount || 0), 0\n  );\n\n  return (\n    <div style={{\n      display: ''grid'',\n      gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'',\n      gap: ''15px'',\n      padding: ''20px'',\n      backgroundColor: ''#f8f9fa'',\n      borderRadius: ''8px''\n    }}>\n      {statusData && Object.entries(statusData).map(([status, data]) => (\n        <div\n          key={status}\n          style={{\n            backgroundColor: ''#fff'',\n            borderRadius: ''6px'',\n            padding: ''15px'',\n            borderLeft: `4px solid $' + '{getStatusColor(status)}`,\n            boxShadow: ''0 2px 4px rgba(0,0,0,0.05)'',\n            transition: ''transform 0.2s, box-shadow 0.2s'',\n            cursor: ''pointer''\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.transform = ''translateY(-2px)'';\n            e.currentTarget.style.boxShadow = ''0 4px 8px rgba(0,0,0,0.1)'';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = ''translateY(0)'';\n            e.currentTarget.style.boxShadow = ''0 2px 4px rgba(0,0,0,0.05)'';\n          }}\n        >\n          <div style={{ \n            display: ''flex'', \n            alignItems: ''center'', \n            marginBottom: ''10px'' \n          }}>\n            <div style={{\n              width: ''30px'',\n              height: ''30px'',\n              borderRadius: ''50%'',\n              backgroundColor: getStatusColor(status) + ''20'',\n              color: getStatusColor(status),\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              fontSize: ''16px'',\n              fontWeight: ''bold'',\n              marginRight: ''10px''\n            }}>\n              {getStatusIcon(status)}\n            </div>\n            <div>\n              <div style={{ \n                fontSize: ''14px'', \n                fontWeight: ''500'',\n                color: ''#333''\n              }}>\n                {status}\n              </div>\n              <div style={{ \n                fontSize: ''11px'', \n                color: ''#999'' \n              }}>\n                {data.count} invoices\n              </div>\n            </div>\n          </div>\n          \n          <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#333'' }}>\n            $' + '{(data.amount / 1000).toFixed(1)}K\n          </div>\n          \n          <div style={{ \n            marginTop: ''8px'',\n            paddingTop: ''8px'',\n            borderTop: ''1px solid #f0f0f0''\n          }}>\n            <div style={{\n              display: ''flex'',\n              justifyContent: ''space-between'',\n              fontSize: ''11px'',\n              color: ''#666''\n            }}>\n              <span>{((data.amount / totalAmount) * 100).toFixed(1)}% of total</span>\n              <span>{data.avgDays || 0} days avg</span>\n            </div>\n            <div style={{\n              marginTop: ''5px'',\n              height: ''4px'',\n              backgroundColor: ''#e9ecef'',\n              borderRadius: ''2px'',\n              overflow: ''hidden''\n            }}>\n              <div style={{\n                width: `$' + '{(data.amount / totalAmount) * 100}%`,\n                height: ''100%'',\n                backgroundColor: getStatusColor(status),\n                transition: ''width 0.3s''\n              }} />\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}","functionalRequirements":"## Status Overview\n\n### Purpose\nDisplay invoice status summary cards.\n\n### Features\n- Status counts\n- Total amounts\n- Color coding\n- Percentage breakdown","dataRequirements":{"mode":"views","description":"Displays invoice status summary","entities":[{"name":"Invoices","description":"Invoice records for status summary","displayFields":["ID","Status","TotalAmount"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Status aggregation data"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Props\n- statusData: Object with status counts and amounts\n\n### Display\n- Grid of status cards\n- Semantic colors","properties":[{"name":"statusData","type":"{draft: {count: number, amount: number}, sent: {count: number, amount: number}, paid: {count: number, amount: number}, overdue: {count: number, amount: number}}","required":true,"description":"Status summary data"}],"events":[],"dependencies":[],"libraries":[],"description":"Overview cards showing invoice status summary"}'
SET
  @FunctionalRequirements_30ef6202 = N'## Status Overview

### Purpose
Display invoice status summary cards.

### Features
- Status counts
- Total amounts
- Color coding
- Percentage breakdown'
SET
  @TechnicalDesign_30ef6202 = N'## Implementation

### Props
- statusData: Object with status counts and amounts

### Display
- Grid of status cards
- Semantic colors'
SET
  @FunctionalRequirementsVector_30ef6202 = N'[-0.018059344962239265,-0.01475560013204813,-0.015605604276061058,0.024187106639146805,-0.0009699999936856329,0.03816305845975876,-0.01627638377249241,0.07985778898000717,-0.05920884385704994,0.037001919001340866,0.006041961722075939,0.007579519413411617,0.04508940875530243,0.12957896292209625,-0.043515607714653015,-0.04038476571440697,-0.04768496751785278,0.003607400692999363,-0.020287320017814636,0.014131998643279076,-0.011037026531994343,0.03781195357441902,-0.012109960429370403,-0.008455564267933369,-0.04372699186205864,0.005967313889414072,0.010321276262402534,0.017674442380666733,0.024739090353250504,-0.08083770424127579,0.005079389549791813,0.03658616170287132,-0.011531511321663857,-0.06470824033021927,0.0000020576806036842754,-0.03755888715386391,0.013524370267987251,0.019359076395630836,-0.03249581530690193,0.034952014684677124,0.002667773049324751,-0.1294020712375641,0.01798357255756855,0.0232329573482275,0.060060735791921616,-0.028431426733732224,-0.042758867144584656,0.05327950045466423,0.0008464980637654662,-0.02704419195652008,0.0040735648944973946,0.006888337898999453,-0.02325408346951008,-0.03226502239704132,0.03619309514760971,-0.03001047484576702,-0.024911979213356972,0.01316142175346613,0.053167279809713364,-0.08774013817310333,-0.030078338459134102,0.05193622410297394,0.0422176793217659,-0.02959558367729187,0.008253679610788822,0.03232857212424278,0.061226554214954376,-0.013225942850112915,0.00024035581736825407,0.00044633852667175233,0.052174393087625504,0.02759910561144352,-0.008747551590204239,-0.022361742332577705,-0.010745439678430557,-0.08508838713169098,-0.014933585189282894,0.03844910487532616,0.005890296772122383,-0.02716130204498768,-0.09336954355239868,0.11507318168878555,-0.04689135402441025,0.013892542570829391,0.008117115125060081,-0.07339607924222946,-0.004367681220173836,-0.010450518690049648,-0.04390520229935646,0.01425965316593647,0.0015430358471348882,-0.015139974653720856,-0.024298686534166336,-0.024201752617955208,-0.01161765493452549,-0.032007236033678055,0.03323610499501228,-0.04849812015891075,0.05734981223940849,-0.029041167348623276,-0.04018840938806534,0.012738254852592945,-0.06818127632141113,0.05512680113315582,0.03606948256492615,0.005737410858273506,0.004087112378329039,-0.0328032560646534,-0.042800068855285645,0.01902209408581257,0.023920701816678047,-0.016609787940979004,-0.004797399044036865,0.017513751983642578,-0.008250130340456963,0.007005609106272459,-0.0018687790725380182,-0.0473649688065052,-0.0337337851524353,-0.005282259546220303,0.10914043337106705,0.0333499051630497,0.005817366298288107,0.01596350222826004,0.013649174012243748,-0.026347877457737923,-0.035818714648485184,-0.03553749993443489,0.0023151664063334465,0.008438890799880028,0.028096679598093033,-0.012653571553528309,0.0049988385289907455,-0.012160882353782654,0.01884380914270878,-0.009601453319191933,0.021508414298295975,-0.020154541358351707,0.003452333388850093,-0.005956616718322039,0.0449715331196785,-0.026998121291399002,-0.02412347123026848,0.02978421375155449,0.00775140943005681,0.006236656568944454,0.019385581836104393,0.0934581384062767,-0.01955041103065014,0.03018980287015438,0.01552970614284277,-0.003981010522693396,-0.04042593762278557,0.01523232739418745,0.023109257221221924,0.009349510073661804,0.04583863168954849,0.0009388757753185928,0.03204347938299179,-0.029922107234597206,0.03288041055202484,-0.03426647558808327,0.0031428730580955744,-0.028671573847532272,-0.03741782158613205,0.05030832439661026,-0.07664543390274048,-0.003976619336754084,-0.03929753229022026,-0.05545413866639137,-0.022868698462843895,-0.017505671828985214,-0.00006499047594843432,0.027878474444150925,0.02888326346874237,-0.011443342082202435,0.02353588491678238,-0.054230161011219025,-0.03432675823569298,-0.002338907215744257,0.007719941437244415,-0.12813401222229004,0.030168442055583,0.015182935632765293,0.002099428791552782,0.018006090074777603,-0.0349634513258934,-0.06434549391269684,-0.03509555757045746,-0.031023580580949783,-0.029765348881483078,-0.011967193335294724,-0.036075592041015625,0.024940334260463715,0.005303309299051762,0.03539018705487251,-0.013762789778411388,-0.12446524947881699,0.012539635412395,0.01079972181469202,0.018745724111795425,-0.013319257646799088,0.02667880617082119,0.11790541559457779,0.023937169462442398,-0.00134303979575634,0.03199972212314606,-0.005237223114818335,-0.024040892720222473,0.010102675296366215,-0.0446857213973999,0.017680905759334564,-0.019697310402989388,-0.0009309237939305604,0.009487912058830261,0.01937250792980194,0.02533191815018654,-0.005836830474436283,-0.041254039853811264,-0.0010424561332911253,-0.009711320511996746,-0.025048155337572098,-0.045277420431375504,-0.000042629457311704755,0.14279283583164215,0.017346862703561783,0.03810742124915123,-0.027898753061890602,0.050238799303770065,-0.0017175328684970737,-0.011464185081422329,0.010051772929728031,0.03009766712784767,0.025172827765345573,0.034782785922288895,0.01643182896077633,0.04149717465043068,0.08491776138544083,-0.0055320686660707,0.03106851316988468,-0.0016550557920709252,-0.054911162704229355,0.0032889568246901035,0.005831556394696236,-0.020166313275694847,-0.06525816768407822,0.011501163244247437,0.0013425748329609632,0.009150088764727116,0.014943955466151237,0.005890526343137026,0.025595922023057938,0.03969518840312958,-0.02063128724694252,-0.005893905647099018,0.05744737759232521,-0.10634090006351471,-0.02250778116285801,0.0055242967791855335,0.04117988422513008,0.030014125630259514,-0.03292367234826088,-0.004040418192744255,-0.043252937495708466,0.011792314238846302,-0.006782002747058868,0.059420015662908554,-0.0366520918905735,-0.022616688162088394,0.012380196712911129,-0.05415035039186478,0.02835276909172535,0.03033384680747986,-0.015825191512703896,0.008885783143341541,0.06837160885334015,-0.08097562193870544,0.04306260496377945,-0.016693713143467903,0.011488756164908409,0.011312440037727356,-0.03780754655599594,0.006906698923557997,0.02262856997549534,0.018098175525665283,-0.01830950193107128,0.027782658115029335,-0.12003376334905624,-0.03332650661468506,-0.036210574209690094,0.0181443989276886,-0.0036497479304671288,0.02971479669213295,-0.03282848373055458,-0.031562015414237976,0.02429262362420559,-0.06319082528352737,0.0016532421577721834,0.030643563717603683,0.06168467178940773,-0.03880268707871437,0.014615555293858051,-0.025198770686984062,0.007654773071408272,-0.015075811184942722,0.028726045042276382,0.05383755639195442,-0.010193842463195324,-0.011639991775155067,0.006345281843096018,0.054598357528448105,0.014555541798472404,-0.006504585966467857,-0.07645343244075775,0.010998351499438286,0.011917296797037125,0.0332249291241169,0.040604133158922195,0.00004186874139122665,0.10099242627620697,0.04101288318634033,0.006403161212801933,-0.01688516139984131,0.030185895040631294,-0.01653447560966015,-0.008968912996351719,-0.03528650104999542,-0.02450491115450859,0.025805050507187843,-0.01905258372426033,0.0012905903859063983,0.006831381935626268,-0.018627958372235298,0.05608386918902397,-0.03372527286410332,-0.004319080617278814,0.015277662314474583,0.010848024860024452,0.002483034273609519,-0.006703236605972052,0.010561698116362095,-0.013919095508754253,0.008901906199753284,-0.06489695608615875,0.0035653680097311735,0.030492320656776428,-0.020954716950654984,-0.0047978865914046764,-0.04361514002084732,0.0415789820253849,0.010923885740339756,0.050373729318380356,0.017819613218307495,-0.01646289974451065,0.015601751394569874,-0.03017779067158699,-0.05401859059929848,-0.009303971193730831,-0.01099651399999857,-0.0899132564663887,-0.004918972030282021,-0.004119696095585823,-0.025972649455070496,0.05127648264169693,0.05934477224946022,0.017385855317115784,0.006497095804661512,0.004395715426653624,0.017766019329428673,0.023965366184711456,-0.06544438004493713,-0.01969306357204914,0.009620550088584423,0.03748203441500664,0.021158527582883835,-0.04685000702738762,0.028755929321050644,0.02516484074294567,-0.0442667081952095,0.006325140129774809,-0.018837913870811462,0.02775891125202179,0.07835191488265991,0.004369357600808144,0.030463136732578278,0.001957878703251481,-0.023181654512882233,-0.00402277335524559,0.007414453662931919,0.04391263797879219,0.00026985901058651507,0.018162135034799576,-0.07035145163536072,0.007241812068969011,-0.008362006396055222,0.021111633628606796,-0.04064767435193062,0.0018783439882099628,0.02061651460826397,-0.024454064667224884,-0.0023821317590773106,-0.05362094193696976,0.02238176017999649,0.014039863832294941,0.019402295351028442,-0.07473485916852951,0.12971000373363495,0.009557289071381092,-0.06894601136445999,-0.004466236103326082,0.04393412917852402,-0.06595808267593384,-0.018886689096689224,-0.0164486113935709,0.059189602732658386,0.007609141059219837,-0.026064565405249596,-0.04951632395386696,-0.004487208090722561,0.04663829505443573,-0.003653826890513301,0.017638972029089928,-0.026423949748277664,0.012943138368427753,0.003204206470400095,-0.033956147730350494,0.03082500398159027,-0.03928300738334656,-0.04825056344270706,0.029836246743798256,-0.0062264190055429935,0.028792908415198326,-0.03882976993918419,0.05905815586447716,-0.02479640394449234,0.06517118215560913,-0.03321121633052826,-0.00031935342121869326,-0.060357604175806046,-0.02390425279736519,-0.049398839473724365,0.016143659129738808,0.006961460690945387,-0.022043222561478615,-0.016185609623789787,0.021463142707943916,-0.015535513870418072,-0.011187458410859108,-0.04719182476401329,-0.005027043633162975,0.0056907120160758495,-0.033162057399749756,-0.03705558180809021,-0.021931884810328484,0.01671893149614334,-0.021367233246564865,-0.03257175534963608,-0.0045073446817696095,0.015799248591065407,-0.027899404987692833,0.03326880931854248,0.02641018107533455,-0.06231071054935455,-0.03314691409468651,0.04996976628899574,-0.03876581788063049,-0.007414714898914099,-0.023784101009368896,-0.013338834047317505,-0.046360209584236145,0.009384211152791977,0.00786498561501503,-0.03706994280219078,-0.014866963028907776,-0.013145406730473042,0.02338438853621483,-0.020011544227600098,0.006075518671423197,0.0560748390853405,-0.010764209553599358,-0.0184048879891634,-0.0007540101651102304,-0.00013145481352694333,-0.09179317206144333,-0.00840673130005598,0.021074464544653893,-0.034324292093515396,-0.01467353105545044,-0.001792589551769197,-0.017426112666726112,0.038601599633693695,-0.021474435925483704,-0.042949922382831573,0.09607750177383423,0.027518926188349724,0.0133922528475523,0.060658048838377,-0.038380205631256104,-0.059969741851091385,-0.029094912111759186,-0.027990860864520073,-0.008554158732295036,-0.03186943009495735,-0.02118748426437378,-0.011917431838810444,0.04511939361691475,0.044179003685712814,-0.008040430024266243,-0.021970607340335846,0.0026889571454375982,0.005798073019832373,0.017964892089366913,0.014647647738456726,-0.039692480117082596,0.014060580171644688,0.04926261678338051,-0.00045635071001015604,-0.0016897785244509578,-0.010971137322485447,-0.013307360000908375,0.021673673763871193,-0.008298584260046482,0.06902432441711426,-0.013363836333155632,0.07496405392885208,-0.024339543655514717,0.0349898487329483,-0.016312722116708755,-0.03691650554537773,0.06624022871255875,-0.04876289516687393,0.03126354515552521,0.00016158154176082462,0.03697064891457558,0.008542267605662346,0.06748803704977036,0.007355584762990475,-0.013066602870821953,-0.010320296511054039,0.00313524785451591,-0.014015882275998592,-0.022091811522841454,0.08261911571025848,0.007582700811326504,0.010111723095178604,0.0008813362219370902,0.025987956672906876,-0.05073872208595276,-0.018345756456255913,-0.006350821815431118,0.02150723896920681,-0.06616336852312088,0.00231774034909904,0.011093820445239544,-0.007765510585159063,-6.521678657876545e-33,-0.07520090043544769,-0.07957794517278671,-0.031518541276454926,0.003969109151512384,0.03546164184808731,0.044735509902238846,-0.0004318520659580827,-0.05101259425282478,0.016835946589708328,0.024904821068048477,-0.018342483788728714,-0.011025314219295979,0.033172108232975006,-0.01699911430478096,0.059244439005851746,-0.02387010119855404,0.03417576104402542,0.023357346653938293,0.029450982809066772,-0.019432971253991127,-0.05120648816227913,0.005007036495953798,0.02774410881102085,-0.09447746723890305,0.01056960690766573,0.0022473379503935575,-0.035248447209596634,0.02022712491452694,-0.016990093514323235,-0.021108705550432205,0.01967351883649826,-0.057818301022052765,0.00633243378251791,0.05203169211745262,-0.004130584187805653,0.0026477992068976164,0.000956681848037988,-0.005148008931428194,0.019402306526899338,-0.008266541175544262,0.056801047176122665,0.025869978591799736,-0.01515705231577158,0.0311870276927948,-0.017470933496952057,-0.042578764259815216,0.024882014840841293,0.005605554673820734,0.03315521031618118,0.004571173340082169,-0.027568532153964043,0.046131912618875504,-0.022536277770996094,0.005784532055258751,-0.023416968062520027,0.05202220380306244,0.020872516557574272,-0.038968589156866074,-0.05721510946750641,-0.03344227373600006,-0.014561477117240429,-0.011377481743693352,0.024168288335204124,0.0012868576450273395,0.00929657369852066,-0.006386768538504839,-0.0041427006945014,0.09594091773033142,0.029563182964920998,-0.016125522553920746,-0.03745308890938759,0.018420226871967316,0.023233650252223015,-0.05594494938850403,0.0027391554322093725,-0.01068433653563261,-0.0026843601372092962,0.033327616751194,0.01625162735581398,0.0763307735323906,0.018475878983736038,0.012773724272847176,-0.04409203305840492,0.009011567570269108,0.02510000206530094,-0.061498794704675674,-0.0022828171495348215,0.0008313123253174126,0.022372590377926826,0.03546332195401192,0.07107183337211609,0.04549367353320122,-0.0415416918694973,0.021346107125282288,-0.07677359133958817,-0.0051419660449028015,0.06463059782981873,0.07660025358200073,-0.015903092920780182,-0.0535292774438858,0.017063673585653305,0.0515383780002594,-0.024926457554101944,0.027165783569216728,-0.000909774680621922,0.005537384655326605,0.03954491764307022,-0.04876452684402466,-0.029631679877638817,0.012983364053070545,0.02361214905977249,0.035767171531915665,-0.012326410040259361,0.04951692000031471,-0.015836598351597786,0.011129090562462807,0.005869000684469938,-0.013839957304298878,-0.036632586270570755,-0.07368117570877075,0.013766797259449959,0.05446188151836395,-0.009874988347291946,0.007064128760248423,0.03858570754528046,-0.03544836863875389,-0.023105856031179428,-0.007968942634761333,0.03904252126812935,0.06337659060955048,0.0039533767849206924,0.03445078060030937,2.811826789184124e-7,0.06633443385362625,-0.0021239060442894697,0.020445149391889572,0.019247667863965034,-0.0037720154505223036,0.005623828619718552,-0.00596880167722702,-0.017846159636974335,0.002522639464586973,0.005792391486465931,0.026217345148324966,-0.0026053001638501883,0.018048668280243874,0.04156104102730751,0.002673063427209854,-0.10192166268825531,0.011419234797358513,-0.05426539108157158,-0.024561144411563873,-0.005735154263675213,0.009321513585746288,-0.01433463767170906,0.024088628590106964,0.02540968358516693,0.040954556316137314,0.0066332439891994,-0.028081851080060005,-0.0767195075750351,-0.03161844611167908,-0.025905141606926918,-0.031014923006296158,-0.010085178539156914,0.011541757732629776,-0.008561620488762856,-0.005670369137078524,0.0011932533234357834,-0.044261351227760315,-0.006979852914810181,0.024290090426802635,0.026508552953600883,-0.01867067627608776,-0.003891749307513237,-0.014977909624576569,-0.02805977314710617,-0.009659930132329464,0.0525415800511837,0.007492456119507551,-0.007357240654528141,-0.03875471279025078,-0.023086026310920715,0.058175209909677505,-0.006236721761524677,-0.04689693823456764,0.0015655116876587272,0.039602700620889664,-0.016794349998235703,-0.017024777829647064,0.031556762754917145,0.05189264938235283,0.03173505514860153,-0.04789074510335922,-0.025165624916553497,0.013958119787275791,0.0630207285284996,0.04104899615049362,0.0230255089700222,-0.015352617017924786,2.65900059357241e-34,0.03578638285398483,0.002414827700704336,0.042485907673835754,0.042467888444662094,0.02063707262277603,-0.02099819853901863,-0.05678262561559677,-0.018839897587895393,-0.007206474896520376,-0.01519709825515747,-0.027815211564302444]'
SET
  @TechnicalDesignVector_30ef6202 = N'[-0.023666847497224808,-0.013055862858891487,-0.03234992176294327,-0.04494212195277214,0.03294379264116287,-0.026389850303530693,-0.029960857704281807,0.05777927115559578,-0.06788627058267593,0.010388483293354511,0.031064962968230247,0.012334243394434452,0.04806866496801376,0.08060836046934128,-0.017079446464776993,-0.03860689327120781,-0.020476792007684708,0.04260534793138504,-0.08364929258823395,-0.0011437749490141869,0.024690935388207436,0.0012556712608784437,0.014552030712366104,-0.026609128341078758,-0.03143254294991493,-0.036369118839502335,-0.017490895465016365,-0.0072678327560424805,0.03706001862883568,-0.07613847404718399,0.010306966491043568,0.062822125852108,-0.004282252863049507,-0.02116275019943714,0.000001545828581583919,-0.01634986884891987,-0.009576593525707722,0.04093718156218529,0.024055561050772667,-0.035180363804101944,0.019143586978316307,-0.055527642369270325,0.03129080310463905,-0.0009889558423310518,0.027894167229533195,-0.08853420615196228,-0.05103260651230812,0.003594838548451662,0.02711133100092411,-0.026053108274936676,0.014833184890449047,-0.0031726318411529064,0.04616498202085495,0.023443585261702538,0.0642627477645874,0.04267128184437752,-0.006627148017287254,0.03236447647213936,0.05275868996977806,-0.03862519934773445,-0.002812992548570037,0.0076370625756680965,0.05276888981461525,-0.021799741312861443,-0.0398532934486866,0.004385179840028286,0.14741550385951996,0.026927974075078964,0.03234405070543289,0.03445190191268921,0.0922614261507988,0.012090836651623249,-0.013664244674146175,0.014741905964910984,-0.002466128673404455,-0.05757952481508255,0.0027176307048648596,-0.005426438525319099,-0.001799742691218853,0.008767234161496162,-0.006642050575464964,0.06766053289175034,-0.048230383545160294,-0.0031950322445482016,0.027856066823005676,-0.012022558599710464,0.010425889864563942,-0.005944025237113237,-0.06399282068014145,-0.019079139456152916,0.011719249188899994,-0.018848450854420662,-0.010215465910732746,-0.00019120387150906026,-0.029671685770154,0.03008178435266018,0.027016790583729744,-0.14726833999156952,0.06642919778823853,-0.03428218513727188,-0.03049260750412941,0.06637253612279892,-0.05416949465870857,0.016755208373069763,0.07955490797758102,0.052084892988204956,0.02817823924124241,-0.02200259454548359,-0.030728209763765335,-0.041953641921281815,0.000005465628419187851,0.0020865811966359615,0.018808480352163315,0.0579049326479435,-0.026690548285841942,0.027274515479803085,-0.0579121895134449,0.0036959233693778515,0.011285343207418919,0.008241974748671055,0.016246046870946884,-0.043044786900281906,-0.03605201467871666,0.01760399527847767,0.020607247948646545,0.004172461573034525,0.0006248521385714412,-0.08407731354236603,-0.0038951768074184656,0.0353577584028244,0.033953022211790085,-0.03295275568962097,0.022671524435281754,0.011427960358560085,-0.03846044838428497,-0.0028044753707945347,0.030567413195967674,-0.02180236019194126,0.011861459352076054,-0.014044154435396194,0.023486949503421783,0.01464021299034357,0.05253353714942932,0.049374260008335114,-0.0625912994146347,0.008450666442513466,0.0415743887424469,-0.01394183374941349,-0.010993851348757744,0.04274803027510643,0.04319842904806137,-0.015940159559249878,-0.07031374424695969,0.00891035608947277,-0.04990648478269577,0.032655019313097,0.0023574468214064837,0.038823846727609634,0.0421932227909565,-0.016002895310521126,0.020023368299007416,-0.00159497931599617,0.05683889985084534,0.00794503279030323,-0.029060455039143562,0.044351641088724136,-0.11033831536769867,-0.02518313191831112,-0.0008494914509356022,-0.03293225169181824,0.002384998369961977,-0.03867032751441002,-0.04986776039004326,0.006967325694859028,0.002097324701026082,-0.018455656245350838,0.028113309293985367,-0.017623096704483032,-0.05517251789569855,-0.01274941861629486,0.0009592692949809134,-0.06374146044254303,0.02087174355983734,0.03430570662021637,0.019260013476014137,-0.0028725943993777037,-0.017113737761974335,0.002694664755836129,0.001696526538580656,-0.0077436077408492565,-0.016370823606848717,0.01302754133939743,-0.02321740798652172,-0.012013722211122513,-0.026535728946328163,-0.03123019076883793,-0.014250397682189941,-0.11534055322408676,0.028231250122189522,0.03889194875955582,0.03971248120069504,-0.031120996922254562,0.06765753030776978,0.07039041817188263,0.019759396091103554,-0.021003669127821922,-0.027857495471835136,-0.019173594191670418,-0.03461117297410965,0.021129433065652847,-0.023199673742055893,0.005434023216366768,-0.02363463304936886,0.022611724212765694,0.015392337925732136,0.014975267462432384,0.0024894503876566887,0.010705159977078438,-0.03730326145887375,0.023127013817429543,-0.032407909631729126,-0.05705642327666283,-0.0398440845310688,0.007597968447953463,0.1758185178041458,0.04511716961860657,0.006655903998762369,-0.07340949028730392,0.010151633061468601,0.006583315785974264,-0.012128711678087711,-0.028267674148082733,-0.031072085723280907,0.017459779977798462,0.01872880384325981,-0.0246335007250309,-0.016165662556886673,0.041182950139045715,0.03358310088515282,0.11854885518550873,-0.04203874617815018,0.05845535919070244,-0.022179879248142242,0.009001307189464569,0.000938733050134033,-0.03443369269371033,-0.03085489757359028,0.015189298428595066,-0.05267889425158501,0.005695836618542671,0.08115216344594955,0.05943602696061134,0.01920304447412491,-0.025868790224194527,-0.026326775550842285,-0.04150918871164322,-0.009448731318116188,-0.010137137025594711,-0.027995508164167404,0.0229521282017231,0.010039997287094593,-0.008934278972446918,0.019918983802199364,-0.001269531319849193,0.03436778113245964,-0.02122393436729908,0.06418643146753311,-0.024718977510929108,0.016482150182127953,0.010359239764511585,-0.018518123775720596,0.027354281395673752,-0.01893441565334797,-0.027705859392881393,0.02278704196214676,0.03424433618783951,0.019687075167894363,0.04749418795108795,0.00196862337179482,-0.021769657731056213,-0.023034026846289635,-0.06626015901565552,0.002223419025540352,0.01978307031095028,-0.02252664789557457,-0.014197664335370064,-0.026804301887750626,-0.06620875000953674,0.01613725908100605,-0.052087876945734024,-0.0003953567938879132,0.00597668020054698,0.048023805022239685,-0.05812225118279457,-0.030847959220409393,0.009834758006036282,0.0001289154461119324,-0.0024989524390548468,0.008851935155689716,0.05800608918070793,0.009622597135603428,-0.017768893390893936,-0.006767472717911005,-0.004656224977225065,-0.023580605164170265,0.015898698940873146,0.03039168007671833,-0.0017764472868293524,0.011692335829138756,0.03185151889920235,0.00377720152027905,0.023017069324851036,-0.00723141897469759,-0.05476020649075508,0.0018831075867637992,0.04519087076187134,0.03781375288963318,0.039822690188884735,0.005070830695331097,0.03823179379105568,0.006631600204855204,-0.034728553146123886,-0.008300731889903545,-0.020220952108502388,-0.01715548150241375,-0.004333161283284426,0.011282313615083694,-0.012529509142041206,0.04969554394483566,0.014521803706884384,0.026227323338389397,-0.04225118085741997,0.04964742809534073,0.03634677827358246,-0.022807622328400612,-0.06175941601395607,-0.036005012691020966,-0.08424548804759979,-0.002072808099910617,-0.0070199244655668736,-0.018130600452423096,-0.005871687550097704,0.005842301994562149,-0.02044288069009781,-0.03710183873772621,-0.011980080977082253,-0.10251754522323608,0.0063924165442585945,-0.04779024422168732,-0.017874715849757195,0.029537172988057137,0.03742551803588867,0.010875469073653221,0.006710764020681381,0.0015763095580041409,0.02306935004889965,0.018180062994360924,0.01759706623852253,-0.016109513118863106,-0.01252587791532278,0.03960614651441574,0.03581893444061279,0.010323386639356613,0.0415814183652401,-0.031315915286540985,0.004362793173640966,-0.00030573649564757943,0.042357057332992554,-0.02402995340526104,0.005747292656451464,-0.04103897511959076,0.00784829817712307,0.03659388795495033,0.0016843206249177456,-0.024325309321284294,0.00908669549971819,0.05408473312854767,0.023419514298439026,-0.04788719117641449,-0.004138940013945103,0.05083673819899559,-0.0018498590216040611,0.04536037519574165,0.00011877575161634013,0.024054305627942085,-0.03383280709385872,0.025642167776823044,-0.005514746066182852,0.0246402807533741,-0.011894469149410725,-0.01969561167061329,-0.08461538702249527,-0.061455726623535156,0.03573279455304146,0.012826208956539631,0.07897286862134933,0.0063949283212423325,-0.005673511419445276,0.0860728919506073,0.012165113352239132,-0.020547308027744293,0.04904922842979431,0.036459825932979584,0.016109978780150414,0.04221252351999283,-0.018454141914844513,0.048336826264858246,0.019950514659285545,0.00867694802582264,-0.0034244521521031857,0.010003991425037384,0.02124287746846676,-0.03565730154514313,-0.010707123205065727,-0.05614722892642021,-0.012987900525331497,-0.023595109581947327,-0.06224605068564415,-0.007604666519910097,0.024957280606031418,-0.05611118674278259,0.005557100288569927,0.03177523985505104,0.05107148364186287,0.019090430811047554,-0.04132424667477608,0.0037000239826738834,-0.02343185991048813,-0.04233105480670929,-0.00385468197055161,0.01610679179430008,0.020182108506560326,-0.017951807007193565,0.04429697245359421,-0.02607049234211445,-0.019303549081087112,-0.04964212328195572,0.02143040858209133,0.0579226128757,-0.03435250744223595,0.010744565166532993,-0.0017911480972543359,0.037443362176418304,-0.015523388050496578,0.02746020071208477,-0.040027789771556854,-0.039712511003017426,0.06793172657489777,0.021733926609158516,-0.007720522582530975,-0.00037688060547225177,0.012259270064532757,-0.07723905891180038,0.0008485151920467615,-0.004767507780343294,-0.04853137582540512,0.023619476705789566,0.12760597467422485,-0.0022591182496398687,0.023900719359517097,0.03172948956489563,0.03223925828933716,-0.1045592799782753,-0.02391141466796398,-0.009243070147931576,-0.06225285679101944,0.043555211275815964,-0.03100656345486641,-0.007505175657570362,-0.021858643740415573,0.021698547527194023,0.0032182566355913877,-0.028449906036257744,0.02303297445178032,0.03464663401246071,0.02834044024348259,0.00155860825907439,0.0036327752750366926,0.08939740806818008,-0.03441471606492996,-0.007391670253127813,0.007580514997243881,-0.012268297374248505,-0.10891735553741455,0.0546903982758522,-0.006478606723248959,-0.03616781160235405,-0.009284831583499908,0.007415409199893475,-0.046324022114276886,-0.011683553457260132,-0.03391193598508835,-0.03414700925350189,0.10529891401529312,0.06572683155536652,0.035525985062122345,0.015373281203210354,-0.02314138226211071,0.004341566003859043,-0.03750905022025108,-0.017988543957471848,-0.03441400080919266,-0.009934838861227036,-0.043800391256809235,-0.005964828655123711,0.011125043965876102,0.00863493699580431,0.019503289833664894,-0.02966916561126709,-0.04718582332134247,0.02726101502776146,-0.014685546047985554,-0.029516078531742096,-0.024660155177116394,0.014835781417787075,0.0969528928399086,-0.005903708748519421,0.0538531132042408,0.012751352973282337,0.013412325643002987,0.036772485822439194,-0.0071606989949941635,0.01261371560394764,-0.03933253884315491,0.08884916454553604,0.014323540963232517,0.01076902262866497,0.015700649470090866,0.02219868265092373,0.005841425154358149,0.00613124156370759,0.04179110378026962,0.006769974250346422,0.028293903917074203,0.029068438336253166,0.08835979551076889,-0.019739918410778046,0.011629253625869751,0.008114640600979328,-0.03219686448574066,-0.0637613832950592,-0.029105057939887047,0.10601674020290375,0.004615053068846464,0.037251487374305725,-0.005983513314276934,0.0015324706910178065,-0.07800036668777466,-0.01029994897544384,0.012297366745769978,0.04170997813344002,-0.021644925698637962,-0.03596406430006027,-0.003425384173169732,0.04976746812462807,-5.5221392809830455e-33,-0.058513179421424866,-0.04417268559336662,-0.006842181086540222,-0.03139583766460419,-0.00940759852528572,0.01789388619363308,-0.017874756827950478,-0.0523664616048336,0.0076507218182086945,-0.02690107561647892,-0.02418266423046589,-0.04035652428865433,0.009116756729781628,0.019458673894405365,-0.05121907591819763,-0.0062570772133767605,0.00900301057845354,0.004710825625807047,0.00424213195219636,-0.004205676261335611,-0.03614972531795502,-0.005373022984713316,0.023729661479592323,-0.058598946779966354,-0.026214974001049995,0.01012125238776207,0.009910001419484615,0.006488513201475143,-0.033529382199048996,-0.009740734472870827,-0.05222848057746887,0.005682771559804678,-0.0223737433552742,-0.0056965891271829605,0.005879370961338282,0.0774449035525322,0.011775190010666847,-0.01495353039354086,0.026343384757637978,-0.008968271315097809,0.03878593444824219,0.026857854798436165,-0.04675581306219101,-0.0002462828124407679,0.048773590475320816,0.012367830611765385,-0.04039924964308739,-0.008568979799747467,-0.019038241356611252,0.01755061373114586,0.013060569763183594,0.037002433091402054,-0.012600925751030445,0.0005121510475873947,0.0017881339881569147,-0.05730947107076645,0.07245989143848419,-0.010827005840837955,-0.022929608821868896,-0.05147710070014,-0.05903167650103569,-0.04301769286394119,0.035998038947582245,0.010441123507916927,0.025219997391104698,0.03634129837155342,0.028080211952328682,0.04503370076417923,-0.032300375401973724,0.01327445451170206,-0.01149540115147829,-0.06381159275770187,0.03390830010175705,-0.007409135811030865,-0.0013425704091787338,0.015300409868359566,-0.0501055009663105,-0.028329454362392426,-0.01579514518380165,0.0057218861766159534,0.016600748524069786,0.03238919377326965,-0.018414638936519623,0.021517274901270866,-0.04288787022233009,-0.07144100964069366,0.049753520637750626,0.020120128989219666,-0.012206610292196274,-0.0020678651053458452,-0.014386283233761787,0.036731332540512085,-0.013615948148071766,0.03336535766720772,-0.061081934720277786,-0.030678855255246162,0.03402082994580269,0.05280217528343201,-0.027090540155768394,-0.018739812076091766,0.052141472697257996,-0.01836504600942135,-0.017656711861491203,-0.007108010351657867,-0.01235344260931015,0.03725987300276756,0.023841962218284607,0.006690427660942078,-0.027916831895709038,0.03871908783912659,0.045342739671468735,0.05230552703142166,-0.039706602692604065,-0.03552544489502907,0.004629254341125488,0.011486695148050785,-0.004068904556334019,-0.011590607464313507,0.032374922186136246,0.05663605406880379,-0.03205098956823349,0.024254659190773964,-0.017769113183021545,-0.0071034240536391735,0.03625908121466637,-0.020777227357029915,-0.03363942727446556,-0.025950931012630463,0.009530945681035519,0.009313946589827538,0.035107627511024475,-0.014240567572414875,2.3732572174139932e-7,-0.01489792950451374,-0.0023572274949401617,-0.023132463917136192,-0.04570380598306656,-0.0029502601828426123,-0.02478676661849022,-0.0037024198099970818,-0.03924120217561722,0.012327892705798149,-0.07672463357448578,-0.028932224959135056,0.01127605326473713,0.00445183552801609,0.0583399198949337,-0.004453805275261402,-0.06416891515254974,0.032969675958156586,-0.028056714683771133,-0.02967340312898159,0.055101361125707626,0.010279557667672634,-0.019149890169501305,0.05505309998989105,0.010367103852331638,0.006875831168144941,0.03509106859564781,0.015071731992065907,-0.013620446436107159,0.023047013208270073,-0.04204314947128296,-0.05690351501107216,-0.004327932372689247,-0.00874647218734026,-0.010524037294089794,0.028228387236595154,0.04066459462046623,-0.01986679434776306,-0.0040816073305904865,0.02164558507502079,0.06013054773211479,0.015993701294064522,-0.00212787720374763,-0.029580477625131607,0.008983831852674484,0.016847005113959312,-0.0015036608092486858,-0.052751753479242325,0.030720695853233337,-0.02081151120364666,0.038276612758636475,-0.033585213124752045,-0.017248082906007767,-0.059939317405223846,-0.007356738671660423,0.02152612991631031,-0.03476515784859657,-0.008739104494452477,0.031116167083382607,0.008743139915168285,-0.07600023597478867,-0.009379178285598755,-0.019177939742803574,-0.008335077203810215,0.034800801426172256,0.01359078474342823,-0.008849984034895897,-0.0017782363574951887,2.5991782626088734e-34,0.04062742367386818,-0.05061306431889534,0.00811270996928215,0.015560387633740902,0.030603036284446716,-0.00868249498307705,0.037236928939819336,-0.03934771567583084,0.04239239916205406,-0.020496468991041183,-0.024860596284270287]'
SET
  @HasCustomProps_30ef6202 = 1
SET
  @HasCustomEvents_30ef6202 = 0
SET
  @RequiresData_30ef6202 = 1
SET
  @DependencyCount_30ef6202 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_30ef6202 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_30ef6202 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_30ef6202 = 1
SET
  @ID_30ef6202 = '0E82885F-8585-47D7-BEA6-45FF0A24A87C'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_30ef6202,
  @Name = @Name_30ef6202,
  @Version = @Version_30ef6202,
  @VersionSequence = @VersionSequence_30ef6202,
  @Title = @Title_30ef6202,
  @Description = @Description_30ef6202,
  @Type = @Type_30ef6202,
  @Status = @Status_30ef6202,
  @DeveloperName = @DeveloperName_30ef6202,
  @DeveloperEmail = @DeveloperEmail_30ef6202,
  @DeveloperOrganization = @DeveloperOrganization_30ef6202,
  @SourceRegistryID = @SourceRegistryID_30ef6202,
  @ReplicatedAt = @ReplicatedAt_30ef6202,
  @LastSyncedAt = @LastSyncedAt_30ef6202,
  @Specification = @Specification_30ef6202,
  @FunctionalRequirements = @FunctionalRequirements_30ef6202,
  @TechnicalDesign = @TechnicalDesign_30ef6202,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_30ef6202,
  @TechnicalDesignVector = @TechnicalDesignVector_30ef6202,
  @HasCustomProps = @HasCustomProps_30ef6202,
  @HasCustomEvents = @HasCustomEvents_30ef6202,
  @RequiresData = @RequiresData_30ef6202,
  @DependencyCount = @DependencyCount_30ef6202,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_30ef6202,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_30ef6202,
  @HasRequiredCustomProps = @HasRequiredCustomProps_30ef6202,
  @ID = @ID_30ef6202;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_a189ee19 NVARCHAR(MAX),
@Name_a189ee19 NVARCHAR(500),
@Version_a189ee19 NVARCHAR(50),
@VersionSequence_a189ee19 INT,
@Title_a189ee19 NVARCHAR(1000),
@Description_a189ee19 NVARCHAR(MAX),
@Type_a189ee19 NVARCHAR(255),
@Status_a189ee19 NVARCHAR(50),
@DeveloperName_a189ee19 NVARCHAR(255),
@DeveloperEmail_a189ee19 NVARCHAR(255),
@DeveloperOrganization_a189ee19 NVARCHAR(255),
@SourceRegistryID_a189ee19 UNIQUEIDENTIFIER,
@ReplicatedAt_a189ee19 DATETIMEOFFSET,
@LastSyncedAt_a189ee19 DATETIMEOFFSET,
@Specification_a189ee19 NVARCHAR(MAX),
@FunctionalRequirements_a189ee19 NVARCHAR(MAX),
@TechnicalDesign_a189ee19 NVARCHAR(MAX),
@FunctionalRequirementsVector_a189ee19 NVARCHAR(MAX),
@TechnicalDesignVector_a189ee19 NVARCHAR(MAX),
@HasCustomProps_a189ee19 BIT,
@HasCustomEvents_a189ee19 BIT,
@RequiresData_a189ee19 BIT,
@DependencyCount_a189ee19 INT,
@TechnicalDesignVectorEmbeddingModelID_a189ee19 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_a189ee19 NVARCHAR(MAX),
@HasRequiredCustomProps_a189ee19 BIT,
@ID_a189ee19 UNIQUEIDENTIFIER
SET
  @Namespace_a189ee19 = N'CRM/Customer'
SET
  @Name_a189ee19 = N'CustomerHeader'
SET
  @Version_a189ee19 = N'1.0.0'
SET
  @VersionSequence_a189ee19 = 1
SET
  @Title_a189ee19 = N'Customer Header'
SET
  @Description_a189ee19 = N'Header section with customer summary information'
SET
  @Type_a189ee19 = N'Other'
SET
  @Status_a189ee19 = N'Published'
SET
  @Specification_a189ee19 = N'{"name":"CustomerHeader","namespace":"CRM/Customer","type":"Other","location":"embedded","code":"function CustomerHeader ({ customer, metrics, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  const handleOpenCustomer = () => {\n    if (callbacks?.OpenEntityRecord && customer?.id) {\n      callbacks.OpenEntityRecord(''Accounts'', customer.id);\n    }\n  };\n\n  return (\n    <div style={{\n      backgroundColor: ''#fff'',\n      borderRadius: ''8px'',\n      padding: ''20px'',\n      boxShadow: ''0 2px 4px rgba(0,0,0,0.05)'',\n      marginBottom: ''20px''\n    }}>\n      <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''flex-start'' }}>\n        <div style={{ display: ''flex'', alignItems: ''center'', gap: ''20px'' }}>\n          {customer?.logo ? (\n            <img \n              src={customer.logo} \n              alt={customer.name}\n              style={{\n                width: ''60px'',\n                height: ''60px'',\n                borderRadius: ''8px'',\n                objectFit: ''contain'',\n                backgroundColor: ''#f8f9fa'',\n                padding: ''5px''\n              }}\n            />\n          ) : (\n            <div style={{\n              width: ''60px'',\n              height: ''60px'',\n              borderRadius: ''8px'',\n              backgroundColor: ''#007bff'',\n              color: ''#fff'',\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              fontSize: ''24px'',\n              fontWeight: ''bold''\n            }}>\n              {customer?.name?.charAt(0) || ''?''}\n            </div>\n          )}\n          \n          <div>\n            <h2 style={{ margin: ''0 0 5px 0'' }}>\n              {customer?.name || ''Customer''}\n              <button\n                onClick={handleOpenCustomer}\n                style={{\n                  marginLeft: ''10px'',\n                  padding: ''2px 6px'',\n                  fontSize: ''12px'',\n                  border: ''1px solid #007bff'',\n                  borderRadius: ''3px'',\n                  background: ''#fff'',\n                  color: ''#007bff'',\n                  cursor: ''pointer''\n                }}\n                title=\"Open in Explorer\"\n              >\n                ↗\n              </button>\n            </h2>\n            <div style={{ fontSize: ''14px'', color: ''#666'' }}>\n              {customer?.industry} • {customer?.type} • {customer?.status}\n            </div>\n            <div style={{ fontSize: ''13px'', color: ''#888'', marginTop: ''5px'' }}>\n              {customer?.website && (\n                <a href={customer.website} target=\"_blank\" rel=\"noopener noreferrer\" \n                   style={{ color: ''#007bff'', textDecoration: ''none'' }}>\n                  {customer.website}\n                </a>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div style={{ display: ''flex'', gap: ''30px'' }}>\n          <div style={{ textAlign: ''center'' }}>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#28a745'' }}>\n              $' + '{(metrics?.totalRevenue / 1000000).toFixed(1)}M\n            </div>\n            <div style={{ fontSize: ''12px'', color: ''#666'' }}>Total Revenue</div>\n          </div>\n          <div style={{ textAlign: ''center'' }}>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#007bff'' }}>\n              {metrics?.dealCount || 0}\n            </div>\n            <div style={{ fontSize: ''12px'', color: ''#666'' }}>Active Deals</div>\n          </div>\n          <div style={{ textAlign: ''center'' }}>\n            <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#17a2b8'' }}>\n              {metrics?.healthScore || 0}%\n            </div>\n            <div style={{ fontSize: ''12px'', color: ''#666'' }}>Health Score</div>\n          </div>\n        </div>\n      </div>\n\n      <div style={{\n        marginTop: ''15px'',\n        paddingTop: ''15px'',\n        borderTop: ''1px solid #e9ecef'',\n        display: ''flex'',\n        gap: ''20px'',\n        fontSize: ''13px''\n      }}>\n        <div><strong>Account Manager:</strong> {customer?.accountManager || ''Unassigned''}</div>\n        <div><strong>Created:</strong> {customer?.createdDate ? new Date(customer.createdDate).toLocaleDateString() : ''N/A''}</div>\n        <div><strong>Last Activity:</strong> {customer?.lastActivity ? new Date(customer.lastActivity).toLocaleDateString() : ''N/A''}</div>\n      </div>\n    </div>\n  );\n}","functionalRequirements":"## Customer Header\n\n### Purpose\nDisplay customer summary information at the top.\n\n### Features\n- Customer name and logo\n- Key metrics\n- Contact info\n- Status badges","dataRequirements":{"mode":"views","description":"Displays customer header information passed via props","entities":[{"name":"Accounts","description":"Customer/account entity for header display","displayFields":["ID","AccountName","Industry","Type","Status","Website","Phone","Email"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Customer information displayed in header section"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Props\n- customer: Customer entity\n- metrics: Key metrics object","properties":[{"name":"customer","type":"{ID: string, AccountName: string, Industry?: string, Type?: string, Status?: string, Website?: string, Phone?: string, Email?: string}","required":true,"description":"Customer/account entity"},{"name":"metrics","type":"{totalRevenue?: number, openDeals?: number, lifetime?: number, healthScore?: number}","required":true,"description":"Customer metrics summary"}],"events":[],"dependencies":[],"libraries":[],"description":"Header section with customer summary information"}'
SET
  @FunctionalRequirements_a189ee19 = N'## Customer Header

### Purpose
Display customer summary information at the top.

### Features
- Customer name and logo
- Key metrics
- Contact info
- Status badges'
SET
  @TechnicalDesign_a189ee19 = N'## Implementation

### Props
- customer: Customer entity
- metrics: Key metrics object'
SET
  @FunctionalRequirementsVector_a189ee19 = N'[0.041018612682819366,-0.07802661508321762,-0.020582133904099464,-0.01876765489578247,0.013400500640273094,0.061475951224565506,-0.02308877371251583,0.004848268814384937,-0.03853968158364296,0.03467432036995888,0.002861395012587309,-0.057573799043893814,0.052393022924661636,0.08174680918455124,-0.01287115179002285,-0.048524126410484314,-0.06402637809515,0.014805569313466549,0.01442551240324974,0.010523836128413677,0.01178247295320034,-0.005350856110453606,0.04030393064022064,-0.030278319492936134,-0.044015612453222275,0.03538926690816879,-0.005987025331705809,0.039209261536598206,0.023764321580529213,-0.0508093535900116,0.0403435118496418,0.00008013557817321271,-0.022096846252679825,-0.061274632811546326,0.0000017118715049946331,0.005831063259392977,0.0026916316710412502,0.043570276349782944,-0.1099281907081604,-0.014182536862790585,-0.019198104739189148,-0.04999113827943802,0.004816705826669931,-0.005077101290225983,0.025305522605776787,0.0654023066163063,-0.03952047973871231,0.09406942874193192,0.04301454871892929,0.009170993231236935,0.01548677310347557,-0.10501500219106674,-0.041595976799726486,-0.0007875973824411631,0.0621911883354187,0.025281840935349464,-0.02285626158118248,0.05746868997812271,-0.025010038167238235,0.013516197912395,0.006462121848016977,-0.013940212316811085,0.029451657086610794,-0.004314499441534281,0.032674651592969894,0.022143280133605003,0.0010629086755216122,-0.02697632648050785,0.0240511205047369,0.02833986096084118,0.09616614878177643,0.012370296753942966,0.0031781981233507395,-0.06347569078207016,-0.0038483350072056055,-0.126983642578125,0.007904714904725552,-0.0033401362597942352,0.005157026927918196,-0.0041473559103906155,-0.07297506928443909,0.0025320998392999172,-0.015621536411345005,-0.035185933113098145,-0.045745570212602615,-0.01960105635225773,-0.04187691584229469,-0.015312612056732178,-0.008722592145204544,0.02411551959812641,0.07579363882541656,0.036923713982105255,-0.04864627122879028,-0.007369086612015963,-0.02349715307354927,-0.01360225211828947,0.04901036620140076,-0.08520731329917908,0.04076877608895302,-0.03695468604564667,-0.007048844359815121,0.007506850175559521,-0.010241793468594551,0.033411506563425064,-0.038458194583654404,0.057720594108104706,0.04008854553103447,-0.046002596616744995,-0.026002245023846626,-0.004139757715165615,0.04072555527091026,-0.0020264803897589445,0.011464398354291916,0.04344692453742027,-0.019619576632976532,0.038543786853551865,-0.04485026001930237,0.022682690992951393,-0.012388774193823338,0.055282123386859894,0.10391643643379211,0.007656185422092676,-0.010655106976628304,0.016064129769802094,0.017717450857162476,-0.0837683156132698,-0.036487217992544174,-0.09507996588945389,-0.011610093526542187,-0.008795829489827156,-0.0039121308363974094,0.0036343643441796303,0.018290380015969276,0.007575098425149918,-0.0031258391682058573,-0.04441671445965767,0.02147863246500492,-0.03535816818475723,-0.005565534345805645,0.012891418300569057,0.023782741278409958,-0.03530949354171753,0.006243267562240362,0.04198602959513664,0.027636494487524033,0.007346722763031721,-0.02268718183040619,0.09619428217411041,0.01396467350423336,0.017396077513694763,-0.026100073009729385,-0.005897889379411936,-0.004694728180766106,0.01639760471880436,0.024230454117059708,-0.028433164581656456,0.004331730771809816,-0.0025920546613633633,-0.03814012557268143,0.05047526955604553,0.014685191214084625,0.023842450231313705,-0.030347034335136414,-0.040917329490184784,-0.04005204886198044,0.013471901416778564,-0.007597323507070541,0.011889301240444183,-0.04011542722582817,-0.032191913574934006,-0.027060484513640404,-0.0068830386735498905,0.019969213753938675,0.002763005904853344,-0.01460705790668726,-0.0006351415649987757,0.0005549745983444154,-0.03578215092420578,-0.0076977405697107315,0.03934308513998985,0.0074798837304115295,-0.0812225341796875,-0.010365433990955353,0.0004780842282343656,0.007847878150641918,0.003959746100008488,-0.08929888159036636,0.01938515715301037,-0.03706267103552818,0.015298656187951565,-0.0021286567207425833,-0.014714362099766731,-0.07503585517406464,0.025558853521943092,-0.0036328088026493788,0.016536496579647064,-0.028181685134768486,-0.10123079270124435,-0.002499846275895834,-0.008674075827002525,-0.017103789374232292,-0.004316279198974371,0.03651804476976395,0.07191140949726105,0.005770205054432154,0.03334931284189224,-0.007490350864827633,-0.024615392088890076,-0.03337081894278526,0.004319303669035435,0.07085128873586655,0.010726215317845345,-0.061195164918899536,0.019407937303185463,-0.052982766181230545,0.05649801716208458,0.018360329791903496,0.010042108595371246,-0.018944699317216873,-0.017285378649830818,0.023135608062148094,0.04247194528579712,-0.048768460750579834,0.0016585243865847588,0.09825140237808228,0.0726931020617485,0.0328972190618515,0.003665899857878685,0.05336781591176987,0.019425207749009132,-0.01262881699949503,-0.016374146565794945,0.04131825640797615,-0.007332494482398033,0.03950139880180359,0.007696227636188269,0.05629093199968338,0.05566490814089775,-0.022055838257074356,0.02414829470217228,-0.04237004369497299,-0.0018676347099244595,-0.03510409966111183,0.028125064447522163,0.00650237500667572,-0.062287602573633194,0.005129402503371239,-0.0063978685066103935,0.033657800406217575,0.041748084127902985,0.023754648864269257,-0.012911546975374222,0.05405457690358162,-0.020600195974111557,-0.030873211100697517,0.014039130881428719,-0.08695600926876068,-0.030757101252675056,-0.01924831233918667,0.025403108447790146,0.032935839146375656,-0.025587383657693863,0.004309062380343676,0.002048817928880453,-0.015650341287255287,-0.02974606119096279,0.07942064106464386,-0.07905230671167374,-0.03952819108963013,-0.0024605041835457087,-0.019034182652831078,0.021591398864984512,0.025318030267953873,-0.001806612708605826,0.004682963248342276,0.007036923430860043,-0.05195312201976776,0.0009525204077363014,-0.03357875719666481,-0.005388808902353048,0.00555933453142643,-0.07545645534992218,0.0019798297435045242,0.01856306567788124,0.004312839824706316,-0.02908775769174099,0.018655475229024887,-0.12893883883953094,0.023291422054171562,-0.10553567111492157,0.0020052555482834578,-0.036536622792482376,-0.003506049746647477,0.017005644738674164,-0.016959298402071,-0.009399873204529285,0.009258756414055824,0.039190977811813354,0.014340223744511604,0.06046076864004135,-0.07148566842079163,0.007153300568461418,-0.009356020949780941,0.01614285819232464,-0.03815628960728645,-0.011958981864154339,0.031051283702254295,-0.03679873049259186,0.033418577164411545,-0.043807778507471085,-0.00544273667037487,0.023237187415361404,-0.026624862104654312,-0.04285797104239464,0.011576573364436626,-0.017018256708979607,-0.04899069294333458,0.09036875516176224,-0.009769625030457973,0.08602097630500793,0.015234027989208698,0.01418938860297203,-0.025956304743885994,0.019679192453622818,-0.001481479499489069,0.04895133897662163,0.00150311051402241,-0.0015945659251883626,-0.004914645571261644,0.003988040145486593,0.045008957386016846,-0.010369863361120224,-0.028281595557928085,0.002911616349592805,-0.004902453627437353,0.028695592656731606,-0.017222553491592407,-0.06522534787654877,0.007870565168559551,-0.017008807510137558,-0.01832365058362484,-0.0055803703144192696,-0.00849425420165062,-0.033614397048950195,-0.01369739044457674,-0.0005797303165309131,-0.016612470149993896,-0.011283942498266697,-0.13597220182418823,-0.0014898903900757432,0.017697835341095924,-0.0042619891464710236,-0.015916984528303146,-0.0023485871497541666,0.019883079454302788,-0.04512817785143852,-0.04802321270108223,0.11180566251277924,-0.003724579466506839,-0.07563813775777817,-0.06792429834604263,-0.018416978418827057,0.0007047082181088626,0.06243522837758064,0.044121380895376205,-0.015934910625219345,-0.014354093931615353,-0.006425229366868734,0.005666659213602543,-0.022299809381365776,-0.028337717056274414,0.03966584429144859,0.059393104165792465,0.028583914041519165,0.013115980662405491,0.03739999234676361,-0.012679330073297024,0.027009693905711174,-0.04851736128330231,-0.004476612433791161,0.02865609899163246,0.014130708761513233,0.05190924182534218,0.0016455031000077724,0.032220322638750076,0.009365811944007874,0.002350212773308158,-0.0379866398870945,0.02415195107460022,0.018814336508512497,0.004788827616721392,0.028086863458156586,-0.08069006353616714,-0.0037278628442436457,-0.015021094121038914,-0.005458255764096975,-0.010159345343708992,0.0032949764281511307,0.004766344092786312,-0.03584032133221626,-0.0008735259179957211,-0.0008652928518131375,-0.036762259900569916,-0.0290010254830122,-0.0010073231533169746,-0.07325328886508942,0.08074477314949036,0.04718674719333649,0.015698038041591644,0.02668667770922184,-0.03961176425218582,-0.04360981285572052,0.03398042917251587,-0.0011288403766229749,-0.01929718442261219,-0.05720275640487671,-0.01357334479689598,-0.028610235080122948,-0.007197210099548101,0.011392902582883835,0.02395026944577694,0.012295623309910297,-0.038779117166996,-0.013871531933546066,-0.011826438829302788,-0.023758018389344215,0.04751305654644966,-0.07087333500385284,0.022772474214434624,0.020718537271022797,0.0018334140768274665,-0.0099942022934556,-0.03299533203244209,0.008138399571180344,0.04991322383284569,0.06749231368303299,0.026230551302433014,-0.0007012291462160647,-0.03974031284451485,-0.02148408442735672,0.006678021512925625,0.02855072356760502,0.0116141177713871,0.021932177245616913,-0.007996736094355583,-0.02096649445593357,-0.010011383332312107,-0.021345248445868492,-0.046941373497247696,-0.015927918255329132,0.04147043451666832,-0.08630990236997604,-0.02073267474770546,0.003932586871087551,-0.011486219242215157,-0.01563444547355175,-0.01960415579378605,0.01151470746845007,-0.016671955585479736,0.010051559656858444,0.012142717838287354,0.03025726228952408,-0.03769713267683983,0.01009129174053669,0.014361770823597908,-0.05790236219763756,0.040922146290540695,0.006290860008448362,0.02169419452548027,-0.04703653231263161,-0.007071835454553366,-0.017497818917036057,-0.01154085248708725,-0.0029647466726601124,-0.041833601891994476,-0.0022981201764196157,-0.03862845525145531,-0.018683087080717087,0.10430362075567245,-0.013398957438766956,0.022914525121450424,0.009942784905433655,0.019407648593187332,-0.07572474330663681,0.013725812546908855,0.029536351561546326,0.007875559851527214,0.027312694117426872,0.03364374488592148,-0.04697255417704582,0.0011530570918694139,-0.007740396074950695,-0.018915776163339615,0.05633290484547615,-0.03746699169278145,0.0026096024084836245,-0.008604703471064568,-0.01718156225979328,-0.10488444566726685,-0.011686603538691998,-0.032418761402368546,-0.01674923300743103,-0.010120644234120846,0.00286488002166152,0.00042603217298164964,0.00875004380941391,0.03801072761416435,-0.02607124112546444,0.001129512907937169,0.002050171373412013,-0.0017950873589143157,0.04027319699525833,0.0007129267323762178,-0.016042493283748627,0.02193130925297737,0.013409605249762535,-0.05057322606444359,0.05109622702002525,-0.03768131509423256,-0.04228505492210388,0.009483051486313343,-0.02225888893008232,0.027361229062080383,-0.0311704371124506,0.02292739413678646,-0.012545199133455753,0.051406051963567734,0.01162302028387785,-0.02162083052098751,0.06008805334568024,-0.040751244872808456,-0.04397951066493988,-0.043841652572155,0.033895984292030334,-0.037890996783971786,0.0519561767578125,0.06631536036729813,0.052564837038517,0.03602062538266182,-0.015038658864796162,-0.022205829620361328,0.0009772408520802855,0.04606219753623009,-0.000024166880393750034,0.020374268293380737,0.015964241698384285,0.007869714871048927,-0.061114031821489334,-0.013704078271985054,-0.020639974623918533,0.00023606675677001476,-0.06323912739753723,-0.031026875600218773,0.042844515293836594,0.02021164819598198,-6.155801265737308e-33,-0.0402594730257988,-0.026100875809788704,-0.06848742067813873,0.0764986053109169,-0.016742780804634094,0.031767502427101135,0.004401355050504208,-0.013416471891105175,-0.004167965147644281,-0.03377223387360573,-0.04673222079873085,0.0017756243469193578,0.035433270037174225,0.013449232093989849,-0.0174843892455101,0.006531964521855116,0.0276719368994236,0.020976141095161438,0.007280279416590929,-0.0103805772960186,-0.019331667572259903,0.012445485219359398,0.018174784258008003,-0.0653340220451355,-0.0096895145252347,-0.009169518016278744,-0.007720638997852802,0.02369661070406437,-0.008243127726018429,-0.014175121672451496,0.01759530045092106,-0.042695097625255585,-0.007810325361788273,0.027466949075460434,0.03564145043492317,0.015837041661143303,-0.028890633955597878,-0.028073275461792946,0.024115124717354774,0.03733883053064346,0.10525819659233093,0.016765698790550232,-0.020022595301270485,-0.023620590567588806,0.0023235001135617495,-0.004774349741637707,0.03506118804216385,0.011778161861002445,-0.006081906147301197,0.001106249401345849,-0.010544802062213421,0.012426164001226425,-0.011424876749515533,0.10799580067396164,0.03484944999217987,-0.02970695123076439,0.022383062168955803,-0.019739866256713867,-0.013279261998832226,-0.04088582098484039,0.025115851312875748,-0.07022373378276825,0.003685171715915203,0.07465502619743347,0.03822476044297218,0.01944991759955883,0.02863459289073944,0.1090155616402626,0.0023394215386360884,-0.049607083201408386,-0.0212593674659729,0.0049179731868207455,-0.02511759288609028,-0.04391910135746002,-0.05724151432514191,0.029535386711359024,0.014177992939949036,0.04783090949058533,0.04237987846136093,0.0712609589099884,0.00880836509168148,0.002107477281242609,-0.05401613563299179,0.00039641550392843783,0.04068514332175255,-0.04733048006892204,0.01127300038933754,0.034611478447914124,0.007245892193168402,0.039205119013786316,-0.03463027998805046,0.06270917505025864,-0.0505194328725338,0.024808833375573158,-0.018792321905493736,-0.004541755188256502,0.052472662180662155,0.0029614251106977463,-0.011603067629039288,-0.02921212464570999,0.0060693928971886635,0.029094936326146126,0.0010092835873365402,-0.03364762291312218,-0.015172560699284077,-0.005461879074573517,0.03897225484251976,-0.03357686847448349,-0.013961530290544033,0.004895917139947414,0.034648675471544266,0.053936757147312164,-0.041097138077020645,0.027135461568832397,0.0038121065590530634,0.013684369623661041,-0.011873684823513031,0.007380415685474873,-0.027532026171684265,0.004585884045809507,0.007518565282225609,0.05559905245900154,0.004360008053481579,0.015280691906809807,0.02765829488635063,-0.0076323701068758965,0.02347150258719921,-0.057019367814064026,0.10595943033695221,0.023254279047250748,-0.0029239687137305737,0.009846683591604233,2.535064425046585e-7,-0.02542473003268242,0.0006722217658534646,0.0015492679085582495,0.023037320002913475,0.0008706909138709307,0.01992001011967659,0.04287378489971161,-0.010751607827842236,-0.014008746482431889,-0.02428440935909748,0.041269272565841675,-0.005195912439376116,0.016544103622436523,-0.015615860000252724,-0.04474309831857681,-0.024104556068778038,0.068438820540905,-0.07868379354476929,-0.03292286768555641,0.031990762799978256,-0.0035990304313600063,-0.015467498451471329,0.014954251237213612,-0.01203108113259077,0.0329282209277153,0.10300315916538239,-0.021685851737856865,-0.08881361037492752,0.015203563496470451,-0.00636793440207839,0.03624911978840828,0.003713585902005434,-0.015730150043964386,0.05832930654287338,0.012045130133628845,0.02340409904718399,0.01981288380920887,0.01572459377348423,0.03202282264828682,0.03784005343914032,0.038653869181871414,0.022049879655241966,-0.02154170349240303,0.011192630976438522,0.0013776252744719386,-0.003931886982172728,-0.007679921109229326,0.004131144843995571,-0.045219093561172485,0.016525371000170708,0.010392464697360992,0.005023977719247341,-0.016741503030061722,-0.012583228759467602,0.019490042701363564,-0.03593017905950546,0.009059043601155281,-0.002198341768234968,0.05564037337899208,0.0166653823107481,-0.03159310296177864,-0.0074762930162250996,0.016249483451247215,0.040889766067266464,0.03865470364689827,0.04109175503253937,-0.006243473384529352,2.3901432246090154e-34,-0.003928712569177151,-0.03449920564889908,0.02908458188176155,-0.003859905293211341,0.021748024970293045,0.0032443974632769823,0.0023583637084811926,0.006929605267941952,-0.005466330796480179,-0.031028863042593002,-0.008841714821755886]'
SET
  @TechnicalDesignVector_a189ee19 = N'[-0.009899402968585491,0.041830819100141525,-0.021280528977513313,-0.02776411548256874,0.04103422164916992,-0.016644278541207314,0.011328659951686859,0.009723725728690624,-0.02507617138326168,-0.01585645042359829,0.005234149284660816,-0.04865194484591484,0.04881933331489563,0.05628591030836105,0.04690856486558914,-0.05846197158098221,-0.016241561621427536,0.04898946359753609,-0.08427579700946808,0.0016700319247320294,0.00003450491567491554,0.01352984644472599,0.025375578552484512,-0.000009160016816167627,-0.038905318826436996,0.012489928863942623,0.016223393380641937,-0.03500496968626976,0.011362808756530285,-0.04637497663497925,0.027405772358179092,0.02874746546149254,-0.04923302307724953,-0.051119569689035416,0.0000016080749674074468,0.018652401864528656,-0.022036345675587654,0.040450479835271835,-0.07156237959861755,0.007456597406417131,-0.007111294195055962,-0.03654932603240013,0.046622566878795624,-0.019039297476410866,-0.011237937957048416,-0.009107919409871101,-0.05482060834765434,-0.031203122809529305,0.014276351779699326,0.046843383461236954,0.006821724120527506,-0.03381992131471634,-0.020126745104789734,0.021856965497136116,0.025659121572971344,0.019282476976513863,-0.03977430984377861,0.018535643815994263,-0.039223991334438324,0.013215144164860249,0.005515602417290211,-0.06163013353943825,0.020652011036872864,-0.0030034601222723722,0.08902368694543839,-0.0018869604682549834,0.07496211677789688,-0.01742229051887989,0.0160361435264349,-0.007617859169840813,0.14017821848392487,0.030631929636001587,0.03480583429336548,0.027302637696266174,-0.04172798991203308,-0.06983105838298798,-0.001661930582486093,-0.05702689662575722,0.01489892415702343,-0.004727252759039402,-0.06341326236724854,0.013126778416335583,0.0017115642549470067,-0.034095313400030136,0.013881897553801537,0.019784223288297653,0.008556460961699486,0.022405922412872314,-0.016950633376836777,-0.006981743033975363,-0.06485558301210403,-0.015238163061439991,-0.027996990829706192,-0.011958105489611626,-0.02019854076206684,-0.026632072404026985,0.049159493297338486,-0.0567307248711586,0.07972732931375504,-0.09595577418804169,0.050731733441352844,0.00623346446081996,0.01524836104363203,0.005222652107477188,0.028417285531759262,0.11625397950410843,0.0668313279747963,0.0017763572977855802,0.002879774197936058,-0.008994311094284058,0.009219498373568058,0.007849869318306446,0.061488229781389236,0.014650857076048851,0.05689271166920662,0.07354512065649033,-0.01522389892488718,0.03255974128842354,-0.009800494648516178,0.01894964464008808,0.07624868303537369,-0.03074021264910698,-0.023223381489515305,-0.047873713076114655,-0.02783375047147274,-0.038748424500226974,-0.04002957418560982,-0.10075534880161285,-0.046171218156814575,0.03528372570872307,0.0006073424010537565,0.002970711328089237,-0.014012017287313938,0.00026190231437794864,0.01783418469130993,-0.012062868103384972,0.055947937071323395,-0.03515028953552246,0.03221483528614044,0.024234110489487648,0.023209163919091225,0.0037520979531109333,-0.028103694319725037,-0.0008976415847428143,-0.02723100036382675,0.026383621618151665,-0.009120985865592957,-0.0619715116918087,-0.011216921731829643,0.010415255092084408,-0.023523086681962013,-0.03505516052246094,-0.0010394020937383175,0.030624382197856903,-0.05114969611167908,0.01318338792771101,-0.007299461867660284,0.04154733568429947,0.024299951270222664,-0.04099230468273163,0.022817572578787804,0.03802758455276489,0.012199517339468002,0.019003890454769135,0.0016824692720547318,-0.005250278394669294,-0.04177483916282654,-0.012784415856003761,-0.006938791833817959,-0.021066775545477867,-0.03200795501470566,-0.02585321106016636,-0.007936570793390274,0.024611564353108406,-0.008956946432590485,-0.03460175171494484,0.03588083013892174,-0.04144701361656189,-0.05415716767311096,-0.011271442286670208,-0.013479053042829037,-0.08198803663253784,-0.025523951277136803,0.005684777162969112,0.05692482739686966,-0.0015222644433379173,0.008481009863317013,0.03867325559258461,-0.0029840688221156597,-0.0011751119745895267,-0.03546953573822975,0.014141513034701347,-0.11554114520549774,-0.03300149366259575,0.011440715752542019,0.042239829897880554,-0.011606987565755844,-0.0034681917168200016,-0.011603428050875664,0.035472601652145386,0.013483697548508644,-0.0012866293545812368,0.03498762100934982,0.016383375972509384,0.035815246403217316,-0.016774896532297134,-0.03566930815577507,0.03535648062825203,-0.03884857892990112,0.02132412977516651,0.07080256193876266,-0.00939389318227768,-0.035169731825590134,0.026320461183786392,-0.004832963924854994,0.028197407722473145,-0.004673135932534933,-0.04360013082623482,-0.024482272565364838,0.01809757761657238,-0.0021211043931543827,-0.06987742334604263,0.06227445602416992,0.010230796411633492,0.05001891776919365,0.04563915356993675,0.0005295728333294392,0.00563475489616394,-0.04123987257480621,0.04006185010075569,0.02092614583671093,-0.011679916642606258,-0.02166343480348587,0.018912728875875473,0.037818193435668945,-0.03601774200797081,0.019182465970516205,0.07229064404964447,0.034146975725889206,0.0958094522356987,-0.014419566839933395,0.014684800989925861,-0.004031285177916288,0.07471788674592972,-0.004241077695041895,-0.0017116428352892399,0.0014978079125285149,-0.008004850707948208,-0.013633593916893005,0.0191362127661705,0.01005258783698082,-0.0018885089084506035,-0.02299351803958416,-0.03759940713644028,-0.01811963878571987,-0.12412664294242859,-0.06793026626110077,-0.01015494018793106,0.05345271900296211,-0.000337636360200122,-0.01584269478917122,0.02080150879919529,0.03931326046586037,0.009929724037647247,-0.006534967105835676,-0.0006098659359849989,0.008971530944108963,-0.038715608417987823,0.04826781898736954,0.019817037507891655,0.02715243771672249,0.0037879806477576494,0.039334796369075775,-0.013014636002480984,0.037931378930807114,0.03915531933307648,-0.062674880027771,0.03873476758599281,-0.006091184914112091,-0.009485103189945221,-0.008837250992655754,-0.04351021349430084,0.027907496318221092,0.010438166558742523,-0.03378770127892494,0.02233770303428173,-0.06386828422546387,0.052482664585113525,0.03835383802652359,-0.05409855395555496,0.0014210103545337915,-0.05343705415725708,0.03357207775115967,-0.023923369124531746,0.02128564938902855,-0.007471463177353144,0.06212208420038223,0.016206203028559685,-0.02004210278391838,0.053183577954769135,-0.02765355259180069,0.010359987616539001,-0.005152502097189426,-0.03768448531627655,-0.022376473993062973,-0.012774690985679626,0.007835435681045055,0.01268667634576559,0.032267019152641296,-0.015023358166217804,-0.0407925583422184,-0.003300988581031561,-0.030441518872976303,0.07512297481298447,0.004688574001193047,-0.012054478749632835,-0.011931589804589748,0.06015603616833687,0.025163251906633377,0.030760057270526886,-0.008351403288543224,0.027489010244607925,-0.03541775792837143,-0.0027956662233918905,-0.008815387263894081,0.017611287534236908,0.035594642162323,0.0046937838196754456,0.03369777649641037,0.024583665654063225,0.015040361322462559,-0.013653343543410301,0.028193477541208267,0.019539834931492805,0.05153784155845642,-0.014835719019174576,-0.025302927941083908,-0.06012127175927162,0.048752181231975555,-0.037491168826818466,-0.00520015973597765,-0.014345992356538773,-0.006458223797380924,0.023317214101552963,0.013185957446694374,-0.03172316029667854,-0.08815927058458328,0.019913367927074432,-0.06961773335933685,0.007640760391950607,-0.03819136694073677,0.00423419987782836,-0.01712140254676342,0.005901840049773455,-0.0026276083663105965,-0.0398528128862381,0.04334850609302521,0.01192079670727253,0.015264080837368965,-0.06950253993272781,0.054206207394599915,0.03403748944401741,0.0932057723402977,-0.012216613627970219,-0.044833261519670486,-0.02022877335548401,-0.02737758494913578,0.0310235433280468,-0.025877462700009346,-0.010346831753849983,-0.046115461736917496,0.03028978407382965,0.03145382180809975,0.005722173489630222,-0.006250231526792049,0.05320657044649124,0.019480524584650993,0.026232726871967316,0.03021475300192833,-0.003837661584839225,0.019566120579838753,-0.08873327076435089,0.06366688758134842,0.02423890121281147,0.04350389540195465,-0.04374100640416145,0.01811438426375389,-0.03876465559005737,0.02077733539044857,-0.003425339935347438,0.014157186262309551,-0.0005253760609775782,-0.08213221281766891,-0.049089208245277405,0.029900390654802322,0.0006430858629755676,-0.001990008167922497,-0.032232679426670074,0.07147807627916336,0.038839612156152725,-0.046748146414756775,0.08258870244026184,0.0008630236843600869,-0.006318157073110342,-0.026153981685638428,-0.023612845689058304,-0.005908047314733267,0.021125486120581627,0.08713505417108536,0.024496277794241905,-0.07287895679473877,0.06935931742191315,-0.027208440005779266,-0.0014051240868866444,-0.048252541571855545,-0.03871893882751465,-0.012480556033551693,-0.03967279568314552,0.028935246169567108,-0.04210374504327774,0.02826765924692154,-0.013006981462240219,-0.00249332538805902,-0.01328127458691597,0.029767077416181564,-0.053561970591545105,0.0208798348903656,-0.01343738753348589,0.024074211716651917,-0.015731772407889366,-0.00508594885468483,0.0008913696510717273,0.020687522366642952,0.013694568537175655,-0.0032016874756664038,-0.045586228370666504,0.008455376140773296,0.004963019397109747,0.039392635226249695,-0.02818446233868599,0.04090050607919693,-0.02265290915966034,0.040135644376277924,0.0293667484074831,-0.007924633100628853,-0.016515204682946205,-0.0381191186606884,0.06767918169498444,0.0298593882471323,-0.004267268814146519,0.03454876318573952,-0.07170877605676651,-0.016090568155050278,0.010359113104641438,0.06064153090119362,-0.05119584500789642,0.035209912806749344,0.025451652705669403,-0.08054931461811066,0.053661126643419266,0.057469241321086884,0.03437357395887375,-0.037579674273729324,0.018933378159999847,0.03569718077778816,-0.01747985929250717,0.06402281671762466,-0.06291428953409195,-0.02329196222126484,-0.011753133498132229,-0.024210961535573006,-0.0398230142891407,0.006958100479096174,0.02715306729078293,-0.013967186212539673,-0.03606212139129639,0.007560380268841982,-0.0287966039031744,0.0024994879495352507,-0.056583866477012634,-0.02430151030421257,0.044856853783130646,-0.017248550429940224,0.007968286983668804,0.023134535178542137,-0.022457856684923172,-0.015587396919727325,0.025368422269821167,-0.0040663061663508415,-0.05513409525156021,-0.03910339996218681,0.034443311393260956,-0.062133073806762695,0.06754321604967117,0.04415940120816231,0.06739789247512817,-0.0029079781379550695,-0.021570444107055664,0.038836609572172165,0.029397040605545044,-0.018189938738942146,-0.052759330719709396,0.031688667833805084,-0.06264203786849976,-0.005595597438514233,-0.0032131082843989134,-0.009091258980333805,-0.034890368580818176,-0.01179654523730278,-0.031470999121665955,-0.03232331946492195,-0.014297548681497574,0.00549990264698863,0.02306058630347252,0.00042033291538245976,0.022016353905200958,-0.03066929616034031,0.04075021296739578,0.03805526718497276,-0.057509198784828186,0.01834079809486866,0.01236836425960064,-0.011367565020918846,-0.04388373717665672,0.0842941403388977,-0.028100013732910156,0.023353951051831245,0.047467190772295,0.035767730325460434,0.03856917470693588,0.0009317760705016553,0.034843478351831436,-0.0870833545923233,0.016345124691724777,-0.022874338552355766,0.038899701088666916,0.03776371106505394,-0.005723410751670599,0.002937525976449251,-0.05365820601582527,-0.02381465770304203,0.02483775094151497,0.04462738335132599,-0.019626909866929054,-0.02210836298763752,-0.02941533923149109,0.016148781403899193,-0.04103334993124008,-0.004385932814329863,-0.07067541033029556,0.041647858917713165,-0.06066836416721344,-0.0614570751786232,-0.0008735401788726449,0.08668866008520126,-5.6667394124715875e-33,-0.03632378578186035,-0.012403611093759537,-0.03695010393857956,0.0639638900756836,-0.06033118814229965,-0.019642196595668793,0.005287713371217251,-0.06618022918701172,-0.022350767627358437,-0.06995802372694016,0.005625516176223755,-0.030030474066734314,0.015612266026437283,-0.0012554441345855594,-0.001417480525560677,0.029896205291152,0.02799203433096409,-0.053638115525245667,-0.002462836680933833,0.0067450786009430885,-0.022627603262662888,-0.02110660821199417,0.00015778855595272034,-0.04451628029346466,0.020979758352041245,0.013044190593063831,-0.024565398693084717,0.053790271282196045,-0.03287452086806297,0.011519823223352432,-0.0008712916751392186,-0.01110206637531519,-0.018410958349704742,-0.029282301664352417,0.030591243878006935,0.03705478087067604,-0.01059233769774437,0.008221608586609364,-0.007484522648155689,0.01307098101824522,0.08560040593147278,-0.024553872644901276,-0.025613892823457718,-0.011479969136416912,0.037088893353939056,-0.028474170714616776,-0.01301890891045332,0.022340038791298866,0.004725798033177853,0.005832334514707327,0.0227409265935421,-0.009245858527719975,-0.012820648029446602,0.0944751426577568,0.013193896040320396,-0.03808974474668503,0.06451192498207092,-0.0063595836982131,-0.03928713500499725,-0.03801516816020012,0.000011746886229957454,-0.005773006472736597,0.006164473481476307,0.03925178200006485,0.028952140361070633,0.017869506031274796,-0.020649544894695282,0.0017151744104921818,-0.0040404219180345535,0.003513445146381855,0.010869189165532589,-0.032961808145046234,0.0030144425109028816,0.027648014947772026,-0.03999145328998566,0.0012000503484159708,-0.033508989959955215,0.04553956165909767,-0.023633403703570366,-0.028360098600387573,0.04941234737634659,-0.0011289585381746292,-0.04203306883573532,0.018364902585744858,-0.007338230032473803,-0.09562332928180695,0.02113283984363079,0.004886443726718426,-0.04763679578900337,0.019749343395233154,0.0032089322339743376,0.05033747851848602,-0.05446265637874603,0.024109283462166786,-0.001423153793439269,-0.027016282081604004,0.08227191120386124,0.017652137205004692,0.00001307132242800435,-0.008621620945632458,0.017348745837807655,0.006823045667260885,-0.02349277399480343,0.05459976941347122,0.007102197036147118,0.023001769557595253,-0.0019448985112830997,-0.01378475409001112,-0.016743415966629982,0.02817247249186039,0.044553376734256744,0.03966943919658661,-0.05930059030652046,0.012785193510353565,0.022486330941319466,-0.015624784864485264,0.011272823438048363,0.029445834457874298,-0.02074299566447735,0.06484827399253845,0.004903172142803669,0.03873014077544212,0.01569506898522377,-0.004919942934066057,0.05957139655947685,-0.021402109414339066,-0.018178192898631096,-0.1199471578001976,0.06104978546500206,-0.0009443966555409133,-0.013173146173357964,-0.07159937918186188,2.3876543764345115e-7,-0.05251212418079376,0.06441602110862732,-0.004815279506146908,-0.025109080597758293,-0.02291826717555523,0.03751920536160469,0.0034729756880551577,-0.01955398917198181,-0.0027227301616221666,-0.06100347638130188,0.005007146392017603,-0.01165144331753254,-0.0007867589592933655,0.032771166414022446,-0.06836856156587601,0.028123699128627777,0.004490065388381481,-0.051917821168899536,-0.039503443986177444,-0.004554795566946268,-0.03122330829501152,-0.02470569871366024,0.0604531429708004,0.0012709980364888906,-0.0226269643753767,0.042945656925439835,-0.014467548578977585,-0.01865168660879135,0.0011509633623063564,0.02863484062254429,0.06289885193109512,0.0035456139594316483,0.01827690377831459,0.07595723122358322,0.0018624848453328013,0.05884746462106705,0.04892772063612938,-0.009985868819057941,0.012762322090566158,-0.013667196035385132,-0.004232391249388456,-0.007881039753556252,-0.044253211468458176,-0.03199312463402748,0.05193397402763367,0.01239723153412342,-0.04638839140534401,-0.012265477329492569,-0.016208363696932793,0.014241623692214489,-0.01575819030404091,-0.019911881536245346,-0.024453775957226753,0.0010101926745846868,0.02429056353867054,-0.04503173381090164,0.013602636754512787,0.030297376215457916,0.0034248873125761747,0.02264520525932312,-0.005408767145127058,-0.00885305181145668,0.01718962751328945,0.058342937380075455,-0.026383304968476295,0.00031469520763494074,-0.025344466790556908,2.6932010506966075e-34,-0.02345586009323597,-0.02783128432929516,0.03596013784408569,-0.027544785290956497,0.03291311115026474,-0.021607069298624992,0.026822224259376526,-0.016168879345059395,0.00840805284678936,-0.028915882110595703,-0.00940531212836504]'
SET
  @HasCustomProps_a189ee19 = 1
SET
  @HasCustomEvents_a189ee19 = 0
SET
  @RequiresData_a189ee19 = 1
SET
  @DependencyCount_a189ee19 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_a189ee19 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_a189ee19 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_a189ee19 = 1
SET
  @ID_a189ee19 = '94A07EAB-6AA6-4E71-8AE5-744EAE855FB0'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_a189ee19,
  @Name = @Name_a189ee19,
  @Version = @Version_a189ee19,
  @VersionSequence = @VersionSequence_a189ee19,
  @Title = @Title_a189ee19,
  @Description = @Description_a189ee19,
  @Type = @Type_a189ee19,
  @Status = @Status_a189ee19,
  @DeveloperName = @DeveloperName_a189ee19,
  @DeveloperEmail = @DeveloperEmail_a189ee19,
  @DeveloperOrganization = @DeveloperOrganization_a189ee19,
  @SourceRegistryID = @SourceRegistryID_a189ee19,
  @ReplicatedAt = @ReplicatedAt_a189ee19,
  @LastSyncedAt = @LastSyncedAt_a189ee19,
  @Specification = @Specification_a189ee19,
  @FunctionalRequirements = @FunctionalRequirements_a189ee19,
  @TechnicalDesign = @TechnicalDesign_a189ee19,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_a189ee19,
  @TechnicalDesignVector = @TechnicalDesignVector_a189ee19,
  @HasCustomProps = @HasCustomProps_a189ee19,
  @HasCustomEvents = @HasCustomEvents_a189ee19,
  @RequiresData = @RequiresData_a189ee19,
  @DependencyCount = @DependencyCount_a189ee19,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_a189ee19,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_a189ee19,
  @HasRequiredCustomProps = @HasRequiredCustomProps_a189ee19,
  @ID = @ID_a189ee19;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_9ca03f88 NVARCHAR(MAX),
@Name_9ca03f88 NVARCHAR(500),
@Version_9ca03f88 NVARCHAR(50),
@VersionSequence_9ca03f88 INT,
@Title_9ca03f88 NVARCHAR(1000),
@Description_9ca03f88 NVARCHAR(MAX),
@Type_9ca03f88 NVARCHAR(255),
@Status_9ca03f88 NVARCHAR(50),
@DeveloperName_9ca03f88 NVARCHAR(255),
@DeveloperEmail_9ca03f88 NVARCHAR(255),
@DeveloperOrganization_9ca03f88 NVARCHAR(255),
@SourceRegistryID_9ca03f88 UNIQUEIDENTIFIER,
@ReplicatedAt_9ca03f88 DATETIMEOFFSET,
@LastSyncedAt_9ca03f88 DATETIMEOFFSET,
@Specification_9ca03f88 NVARCHAR(MAX),
@FunctionalRequirements_9ca03f88 NVARCHAR(MAX),
@TechnicalDesign_9ca03f88 NVARCHAR(MAX),
@FunctionalRequirementsVector_9ca03f88 NVARCHAR(MAX),
@TechnicalDesignVector_9ca03f88 NVARCHAR(MAX),
@HasCustomProps_9ca03f88 BIT,
@HasCustomEvents_9ca03f88 BIT,
@RequiresData_9ca03f88 BIT,
@DependencyCount_9ca03f88 INT,
@TechnicalDesignVectorEmbeddingModelID_9ca03f88 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_9ca03f88 NVARCHAR(MAX),
@HasRequiredCustomProps_9ca03f88 BIT,
@ID_9ca03f88 UNIQUEIDENTIFIER
SET
  @Namespace_9ca03f88 = N'CRM/Analytics'
SET
  @Name_9ca03f88 = N'CompetitiveAnalysis'
SET
  @Version_9ca03f88 = N'1.0.0'
SET
  @VersionSequence_9ca03f88 = 1
SET
  @Title_9ca03f88 = N'Competitive Analysis'
SET
  @Description_9ca03f88 = N'Competitive win/loss analysis by competitor'
SET
  @Type_9ca03f88 = N'Table'
SET
  @Status_9ca03f88 = N'Published'
SET
  @Specification_9ca03f88 = N'{"name":"CompetitiveAnalysis","namespace":"CRM/Analytics","type":"Table","location":"embedded","code":"// CompetitiveAnalysis Sub-component\nfunction CompetitiveAnalysis ({ competitorData, selectedCompetitor, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Define columns for competitive analysis table\n  const columns = [\n    { header: ''Competitor'', field: ''name'', align: ''left'' },\n    { header: ''Win Rate'', field: ''winRate'', align: ''center'', render: (val) => `$' + '{(val * 100).toFixed(1)}%` },\n    { header: ''Deals'', field: ''deals'', align: ''center'' },\n    { header: ''Revenue'', field: ''revenue'', align: ''right'', render: (val) => `$$' + '{val.toLocaleString()}` },\n    { header: ''Strengths'', field: ''strengths'', align: ''left'', render: (val) => Array.isArray(val) ? val.join('', '') : val },\n    { header: ''Weaknesses'', field: ''weaknesses'', align: ''left'', render: (val) => Array.isArray(val) ? val.join('', '') : val }\n  ];\n\n  return (\n    <div style={{ width: ''100%'', overflowX: ''auto'' }}>\n      <table style={{\n        width: ''100%'',\n        borderCollapse: ''collapse'',\n        backgroundColor: ''#fff''\n      }}>\n        <thead>\n          <tr style={{ backgroundColor: ''#f8f9fa'', borderBottom: ''2px solid #dee2e6'' }}>\n            {columns.map((col, index) => (\n              <th\n                key={col.field || index}\n                style={{\n                  padding: ''12px'',\n                  textAlign: col.align || ''left'',\n                  userSelect: ''none''\n                }}\n              >\n                {col.header}\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {competitorData && competitorData.map((row, rowIndex) => (\n            <tr\n              key={row.id || rowIndex}\n              style={{\n                borderBottom: ''1px solid #dee2e6'',\n                backgroundColor: selectedCompetitor === row.id ? ''#e7f3ff'' : ''transparent'',\n                transition: ''background-color 0.1s''\n              }}\n              onMouseEnter={(e) => {\n                if (selectedCompetitor !== row.id) {\n                  e.currentTarget.style.backgroundColor = ''#f8f9fa'';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (selectedCompetitor !== row.id) {\n                  e.currentTarget.style.backgroundColor = ''transparent'';\n                }\n              }}\n            >\n              {columns.map((col, colIndex) => (\n                <td\n                  key={col.field || colIndex}\n                  style={{\n                    padding: ''12px'',\n                    textAlign: col.align || ''left''\n                  }}\n                >\n                  {col.render ? col.render(row[col.field], row) : row[col.field]}\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      {(!competitorData || competitorData.length === 0) && (\n        <div style={{ padding: ''40px'', textAlign: ''center'', color: ''#6c757d'' }}>\n          No data available\n        </div>\n      )}\n    </div>\n  );\n}","functionalRequirements":"## Competitive Analysis\n\n### Purpose\nAnalyze competitive win/loss performance.\n\n### Features\n- Competitor comparison\n- Win rates by competitor\n- Strengths/weaknesses\n- Market positioning","dataRequirements":{"mode":"views","description":"Analyzes competitive win/loss performance","entities":[{"name":"Deals","description":"Deal data for competitive analysis","displayFields":["ID","Name","Amount","Stage","CompetitorID","WonLostReason"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Win/loss analysis against competitors"},{"name":"Competitors","description":"Competitor information","displayFields":["ID","Name","MarketPosition","Strengths","Weaknesses"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Competitor profiles and attributes"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Props\n- competitorData: Array of competitor metrics\n- selectedCompetitor: Currently selected","properties":[{"name":"competitorData","type":"Array<{id: string, name: string, winRate: number, deals: number, revenue: number, strengths: Array<string>, weaknesses: Array<string>}>","required":true,"description":"Competitor performance data"},{"name":"selectedCompetitor","type":"string","required":false,"description":"Selected competitor ID"}],"events":[],"dependencies":[],"libraries":[],"description":"Competitive win/loss analysis by competitor"}'
SET
  @FunctionalRequirements_9ca03f88 = N'## Competitive Analysis

### Purpose
Analyze competitive win/loss performance.

### Features
- Competitor comparison
- Win rates by competitor
- Strengths/weaknesses
- Market positioning'
SET
  @TechnicalDesign_9ca03f88 = N'## Implementation

### Props
- competitorData: Array of competitor metrics
- selectedCompetitor: Currently selected'
SET
  @FunctionalRequirementsVector_9ca03f88 = N'[-0.0049399216659367085,0.03733229264616966,-0.025522131472826004,-0.024642661213874817,-0.012012808583676815,-0.012083235196769238,0.003179203951731324,-0.023169295862317085,-0.09949564188718796,-0.08169359713792801,-0.0024582906626164913,-0.05575587600469589,0.0523512028157711,0.12728556990623474,0.019776344299316406,0.0021343582775443792,-0.04090619459748268,0.0008171153021976352,0.01164635457098484,-0.004529367201030254,-0.004847819916903973,-0.023306753486394882,-0.018878160044550896,0.019796621054410934,0.01274046115577221,0.025051863864064217,-0.05015236884355545,0.03156449645757675,-0.0034652219619601965,-0.143613800406456,0.037074975669384,-0.002189014572650194,-0.011186076328158379,-0.022426340728998184,0.000001501037331763655,-0.04647107049822807,-0.05603538081049919,0.0058198729529976845,0.029035400599241257,0.07626931369304657,0.09561532735824585,0.0322101004421711,0.012444807216525078,0.02704249881207943,-0.0014254174893721938,-0.027954261749982834,-0.016029031947255135,-0.026089174672961235,-0.001053307787515223,0.05055386573076248,0.015710165724158287,-0.020180771127343178,-0.05839848890900612,-0.016782816499471664,-0.10986858606338501,-0.10954305529594421,0.006999028846621513,-0.040072206407785416,0.011287037283182144,-0.07428702712059021,-0.024232273921370506,-0.00643512699753046,-0.011488664895296097,-0.02103610336780548,0.04670490697026253,0.0008451617322862148,0.012108827009797096,-0.0062587670981884,-0.03790706768631935,0.007091603707522154,0.057960737496614456,-0.005232864525169134,0.030352331697940826,-0.048102445900440216,0.036213696002960205,-0.09487292915582657,-0.01630345731973648,0.019929613918066025,0.04999704658985138,0.013128293678164482,-0.02659454382956028,0.06452275812625885,-0.04627866670489311,-0.03369623050093651,0.010523626580834389,-0.012782602570950985,-0.02333531156182289,-0.04663730412721634,0.026722434908151627,-0.018688494339585304,0.024415507912635803,0.03369147703051567,0.009160186164081097,0.012148418463766575,-0.025166070088744164,-0.0026409728452563286,0.04668278247117996,-0.029355691745877266,0.011114384047687054,-0.08697094768285751,0.04945405572652817,-0.025545798242092133,0.023856140673160553,0.019693920388817787,-0.013710732571780682,0.014226854778826237,0.01591702736914158,-0.017368318513035774,-0.06400834769010544,0.04502779245376587,-0.03409780189394951,-0.04003174602985382,0.0011359081836417317,0.053614430129528046,0.018680796027183533,0.045941226184368134,-0.056082624942064285,-0.010769314132630825,-0.05437733232975006,0.03938040882349014,0.012032455764710903,0.04384257644414902,0.03774850815534592,-0.0151203079149127,-0.02138301357626915,-0.029805604368448257,0.011222824454307556,-0.021955303847789764,-0.002638522069901228,-0.008596320636570454,0.011541897431015968,-0.0050678797997534275,-0.011978828348219395,-0.04393062740564346,0.00491168862208724,0.039119962602853775,0.005972420331090689,-0.007698541507124901,-0.0390198715031147,0.03477802872657776,0.05450514331459999,-0.03466154634952545,-0.07311360538005829,0.0048304358497262,0.0018200805643573403,-0.06854899972677231,-0.03953178972005844,0.05367790907621384,-0.008688736706972122,0.00044081860687583685,-0.008104650303721428,-0.010386982001364231,-0.01928974874317646,0.0077576786279678345,-0.01178377028554678,-0.0006366028683260083,0.04791126027703285,0.022041045129299164,-0.07552352547645569,0.003892126027494669,0.021940885111689568,-0.012585226446390152,-0.03596271574497223,-0.011309204623103142,-0.010481092147529125,-0.0022565661929547787,-0.013274112716317177,0.041322097182273865,-0.03197991102933884,-0.01643497310578823,-0.02207491360604763,-0.03930443152785301,0.01600736752152443,0.018703022971749306,0.02396021969616413,0.019989769905805588,0.07322489470243454,0.013886041007936,-0.024051116779446602,-0.02249007485806942,-0.039814841002225876,-0.11576931923627853,0.04394907504320145,-0.0356648787856102,-0.0009602444479241967,0.009675455279648304,-0.055401988327503204,0.014094796031713486,-0.015331718139350414,0.01025215070694685,0.015350613743066788,0.028161732479929924,-0.004522116854786873,0.024595344439148903,-0.0066867731511592865,0.006958250887691975,-0.033010803163051605,-0.04850754141807556,-0.016533395275473595,0.034897495061159134,-0.022674473002552986,-0.033121008425951004,0.03179173171520233,0.009189306758344173,-0.010500118136405945,-0.02617999166250229,0.03982279822230339,0.0017251663375645876,-0.07735153287649155,0.011334366165101528,0.07329463213682175,0.025204092264175415,-0.007068364880979061,0.01245089527219534,-0.009579251520335674,0.01440427079796791,0.030706215649843216,0.0464201495051384,-0.08073053508996964,0.02897610142827034,0.02093208022415638,0.04974018782377243,-0.014095648191869259,-0.011002365499734879,0.08474313467741013,0.01838344894349575,0.03331960365176201,0.00037481478648260236,0.018102465197443962,0.0206688791513443,-0.008953944779932499,0.014403083361685276,0.020989205688238144,0.0037825987674295902,0.0075208880007267,0.04991954565048218,0.10399558395147324,0.09987261891365051,-0.015444295480847359,-0.007150768768042326,0.004514949396252632,0.0021452968940138817,-0.0003566299274098128,0.015988515689969063,0.04196050018072128,-0.05264386907219887,-0.029835494235157967,-0.0011913442285731435,0.04212946072220802,-0.004756822716444731,-0.02118738740682602,-0.008093004114925861,0.0635647401213646,0.025471873581409454,0.012088953517377377,-0.0005324428784660995,-0.10603451728820801,0.020205100998282433,-0.055608686059713364,0.0026915872003883123,0.020295321941375732,-0.03564450517296791,-0.02997909113764763,-0.01006335113197565,0.01307432446628809,-0.004601776134222746,0.05765176936984062,-0.03935304284095764,0.03633454814553261,0.027216680347919464,0.041256628930568695,0.053233448415994644,-0.016188407316803932,0.006618107203394175,0.026044650003314018,0.022751493379473686,-0.08290376514196396,-0.035045474767684937,0.01620519906282425,0.0158669576048851,0.013208672404289246,-0.027311507612466812,-0.010228055529296398,-0.010210457257926464,-0.015679260715842247,0.06317590922117233,0.031478412449359894,0.03209191560745239,-0.05112169682979584,-0.006428317166864872,0.009285422042012215,0.001251451438292861,0.01500722300261259,-0.008108510635793209,-0.016891218721866608,-0.00434176716953516,-0.06615957617759705,0.035674747079610825,-0.02417062222957611,0.034179482609033585,0.029778413474559784,-0.039439063519239426,-0.017213599756360054,0.008615119382739067,0.013039839453995228,0.06824540346860886,-0.014821140095591545,-0.042818982154130936,0.008188254199922085,0.021423567086458206,0.0388178676366806,-0.021983128041028976,-0.005372048821300268,-0.02119298465549946,0.01854170858860016,-0.043854132294654846,-0.0795694887638092,0.0014174205716699362,-0.018133237957954407,0.07607637345790863,0.006061279680579901,-0.003553596558049321,-0.004628042224794626,0.01320650614798069,-0.0027250233106315136,-0.020550375804305077,-0.019831521436572075,-0.012143821455538273,0.03412840887904167,-0.03117416985332966,-0.027905140072107315,-0.021878518164157867,-0.03900592401623726,-0.017852546647191048,-0.03664042055606842,0.05473135784268379,-0.013640749268233776,0.008198912255465984,0.012608419172465801,-0.018880223855376244,-0.0398421548306942,0.03761434182524681,0.01091077271848917,-0.023107927292585373,0.0431395061314106,-0.022672634571790695,0.06129838153719902,0.06937742978334427,-0.029392056167125702,0.029252642765641212,0.02192748337984085,-0.003292331239208579,-0.024687523022294044,0.006659890059381723,0.01382104679942131,0.088410884141922,-0.0024267099797725677,0.006596591789275408,0.019506819546222687,-0.053989339619874954,0.03904634341597557,-0.011868362314999104,-0.000749445054680109,0.01995856501162052,-0.01040270272642374,0.03281863033771515,-0.018401270732283592,-0.016687843948602676,-0.005082861054688692,-0.05151272937655449,0.004000464454293251,0.008346236310899258,0.02517872117459774,0.0027526249177753925,-0.01403914112597704,0.027348194271326065,0.017990456894040108,0.009136677719652653,-0.0008547866600565612,-0.010572260245680809,0.07001838833093643,0.02145102620124817,0.10520397871732712,-0.033171817660331726,0.031016837805509567,-0.03838245943188667,-0.03850359842181206,-0.033369340002536774,-0.08840447664260864,0.012525930069386959,-0.02818351984024048,0.03676839545369148,-0.04269453510642052,0.017757467925548553,-0.027504952624440193,-0.0737004205584526,-0.04160722345113754,0.017112253233790398,-0.0169614739716053,-0.006239623762667179,0.02774617448449135,-0.036831602454185486,0.012496615760028362,-0.012741627171635628,0.030530525371432304,-0.08437075465917587,-0.006382023449987173,0.023651553317904472,-0.03294926881790161,0.013590776361525059,-0.028973130509257317,-0.12216413021087646,0.019417380914092064,0.014483433216810226,0.022168025374412537,-0.001848714891821146,-0.010249868966639042,0.02001475915312767,-0.016590997576713562,0.04605666920542717,0.05633505806326866,0.07352177798748016,0.02740408107638359,0.00849132426083088,-0.021620629355311394,0.025631872937083244,0.020898645743727684,-0.036074042320251465,0.005181284621357918,-0.006940147373825312,-0.01354936696588993,-0.010367238894104958,-0.015208018012344837,-0.020645614713430405,-0.06622735410928726,-0.010680200532078743,-0.0029799838084727526,0.030693212524056435,0.0005321346689015627,-0.02650326117873192,-0.015462270006537437,0.03388168290257454,0.056446969509124756,-0.022445281967520714,0.03557766601443291,-0.06818088889122009,-0.019535019993782043,-0.04282340407371521,-0.03563423827290535,0.05753307044506073,0.0051049827598035336,0.047780610620975494,0.027689168229699135,0.029102064669132233,-0.001042290241457522,-0.024922875687479973,-0.07109430432319641,-0.02824646234512329,-0.05380493775010109,-0.022572707384824753,0.05592744052410126,0.026476629078388214,-0.035377293825149536,0.008893479593098164,0.026739083230495453,0.020372958853840828,-0.04465983808040619,0.019814221188426018,-0.012570373713970184,0.002527387347072363,-0.05696061998605728,-0.014233925379812717,-0.010244941338896751,0.022804224863648415,-0.002314014593139291,0.02291167341172695,0.0013636734802275896,0.01759651117026806,0.018472643569111824,0.023822657763957977,0.025124501436948776,0.06752384454011917,0.008145351894199848,-0.08186490088701248,-0.0041000316850841045,0.03772104158997536,-0.0241384394466877,0.02326197363436222,-0.02049100026488304,-0.011392153799533844,0.02110658399760723,-0.016337377950549126,-0.015774229541420937,-0.021582534536719322,-0.001022490905597806,-0.032527606934309006,0.006906735245138407,0.08582207560539246,0.03127983212471008,0.05006438493728638,-0.02404768578708172,0.024054700508713722,-0.021985339000821114,-0.019610797986388206,-0.009049154818058014,0.0485883504152298,0.010605769231915474,-0.037810590118169785,-0.006551404017955065,-0.014783444814383984,0.03242485225200653,0.04530012235045433,0.04594789445400238,-0.008475573733448982,0.0013647082960233092,-0.014946729876101017,-0.025129374116659164,-0.012516527436673641,-0.036697421222925186,-0.005635012406855822,0.023587709292769432,0.03185199946165085,-0.009699384681880474,-0.07425446808338165,0.024587197229266167,0.01157150138169527,0.027221212163567543,-0.01586925983428955,0.025485379621386528,0.06582388281822205,0.08912964910268784,-0.0191965214908123,-0.048844803124666214,0.04565010219812393,-0.004729152657091618,0.004983644466847181,0.1033969596028328,0.09024734795093536,-0.016734758391976357,0.020753275603055954,-0.048294875770807266,0.008105939254164696,0.0214626993983984,0.00021207732788752764,0.05949635058641434,0.007163482252508402,0.010853989981114864,-0.020572403445839882,0.00184684491250664,0.034307003021240234,-0.037572719156742096,-0.020370623096823692,-0.02584683522582054,-0.020436782389879227,0.005394855979830027,-5.4520684300725136e-33,0.0019514575833454728,-0.03464433178305626,-0.029364507645368576,0.0042332932353019714,-0.029051993042230606,-0.05144777148962021,0.011182991787791252,-0.020946677774190903,-0.022460702806711197,-0.02713574841618538,-0.03888481855392456,-0.014743330888450146,0.02055075392127037,0.0001225105079356581,0.038877520710229874,-0.005959924776107073,-0.03188074752688408,0.0164660457521677,0.025376761332154274,-0.04781842604279518,-0.03785970062017441,0.05126986280083656,0.028370367363095284,-0.006908877287060022,-0.038845207542181015,-0.007025711238384247,-0.045730043202638626,-0.00005004094055038877,-0.035408273339271545,0.00006559109169756994,0.028005050495266914,-0.025204217061400414,0.0033473039511591196,-0.027671484276652336,0.03549657016992569,-0.07308956235647202,0.03632376343011856,0.016405316069722176,0.040899183601140976,-0.020657338201999664,0.0866212248802185,0.020400408655405045,0.050399161875247955,0.013065775856375694,0.024038538336753845,-0.020415745675563812,0.035807982087135315,-0.012404566630721092,-0.004794773645699024,0.038027748465538025,-0.002860692795366049,0.006412450689822435,-0.021178558468818665,0.12115003913640976,0.007163926027715206,0.02377941459417343,-0.0002050954644801095,-0.009853845462203026,-0.01797538436949253,-0.006145245395600796,-0.0341385081410408,0.019625268876552582,-0.0006776755326427519,0.036764029413461685,0.004632150754332542,0.021216684952378273,-0.059281714260578156,0.05635040998458862,0.026521295309066772,-0.05072793737053871,-0.01383054070174694,0.017215412110090256,0.02510799840092659,-0.07160613685846329,-0.028493814170360565,0.0157578494399786,0.018520543351769447,0.006761583033949137,0.032716359943151474,0.01015859842300415,-0.02629340998828411,-0.018720772117376328,0.01592821441590786,0.017481466755270958,0.041603654623031616,-0.03688186779618263,-0.008778371848165989,0.009330621920526028,0.03389124572277069,-0.007312318310141563,-0.0448688380420208,0.0936267301440239,-0.019655907526612282,0.031942639499902725,0.04613718017935753,-0.044259991496801376,0.032292429357767105,0.034386180341243744,-0.04941911622881889,-0.00688417162746191,0.006661546416580677,0.011759515851736069,-0.03145154193043709,0.03620438650250435,0.004460211377590895,-0.02484702691435814,-0.051010146737098694,-0.028646983206272125,-0.06633566319942474,0.017574580386281013,0.045963138341903687,0.033749938011169434,-0.022051820531487465,-0.00506703183054924,-0.04945383220911026,-0.019901221618056297,-0.01233387179672718,0.043231669813394547,-0.007553441915661097,-0.02208411879837513,-0.018463723361492157,0.00850460585206747,0.03420160710811615,-0.02351503260433674,0.03242181986570358,0.014319458045065403,0.050563994795084,0.03847731277346611,-0.02287793718278408,0.036031968891620636,-0.0412619523704052,-0.019934382289648056,2.2538610267019976e-7,0.029544183984398842,0.025206228718161583,-0.04452573508024216,0.031276885420084,-0.028770413249731064,0.028187643736600876,-0.03566228225827217,0.022779304534196854,-0.011181472800672054,-0.031062113121151924,0.07346530258655548,-0.03384250029921532,-0.004430856555700302,0.011776961386203766,0.0031624501571059227,-0.03294707089662552,-0.06618144363164902,-0.05071251094341278,-0.047863032668828964,-0.0875968411564827,0.06926371902227402,0.015414286404848099,0.036273274570703506,0.022387957200407982,-0.007390150800347328,0.018391363322734833,0.008543647825717926,0.01234063133597374,0.014033996500074863,0.016095392405986786,0.08163188397884369,-0.040621306747198105,-0.06924059987068176,0.03924604132771492,-0.009356494061648846,0.0280325748026371,0.017981795594096184,0.0037920570466667414,0.05246520787477493,-0.006431369110941887,0.007109745871275663,0.01339277159422636,-0.026569021865725517,-0.031638793647289276,0.02695360966026783,-0.016133150085806847,0.010336005128920078,-0.033347826451063156,-0.03586244955658913,0.012235934846103191,0.02548828162252903,-0.02769123762845993,0.04037013277411461,0.027128038927912712,-0.03851965069770813,-0.02421928197145462,0.05735916271805763,0.01467942539602518,0.01642625220119953,0.057395968586206436,-0.006635006051510572,0.003177749691531062,0.0170943234115839,0.05792620778083801,0.07180312275886536,-0.0015207661781460047,0.00982122216373682,1.9331840302287556e-34,0.026437772437930107,-0.04396674409508705,0.04763103276491165,-0.00015649873239453882,-0.0039354427717626095,0.00825422815978527,-0.07915637642145157,-0.016585294157266617,-0.014335180632770061,-0.014459608122706413,0.0036700726486742496]'
SET
  @TechnicalDesignVector_9ca03f88 = N'[-0.010196417570114136,0.061601247638463974,-0.025688335299491882,-0.054989662021398544,0.011826517060399055,-0.0516580194234848,-0.014205964282155037,0.004658868070691824,-0.07087960839271545,-0.025594281032681465,0.0078056990168988705,0.003699179971590638,0.04077022522687912,-0.016139991581439972,0.009288487955927849,-0.004205223172903061,-0.010595908388495445,0.02284441515803337,-0.039558567106723785,-0.013584303669631481,-0.012465744279325008,-0.01762826181948185,-0.007481793407350779,0.04460223764181137,0.021525651216506958,-0.023396167904138565,0.012248706072568893,0.006203475873917341,0.028239475563168526,-0.09853845089673996,0.025373606011271477,0.060995396226644516,-0.05033339560031891,-0.020435485988855362,0.0000016422080761913094,-0.019301392138004303,-0.014185873791575432,-0.002073755254969001,-0.06075965613126755,0.012459591962397099,0.056160133332014084,0.02380015142261982,0.04521557688713074,0.0034685072023421526,-0.03900793939828873,-0.11215808987617493,-0.045494966208934784,-0.08243328332901001,-0.009831021539866924,-0.006675642915070057,0.02336706407368183,0.04521382227540016,0.02398647740483284,-0.029675796627998352,-0.07100532203912735,0.005100572947412729,0.014113045297563076,-0.029893659055233,0.04198833927512169,0.03376546502113342,0.006980536971241236,-0.04400153085589409,-0.001924811047501862,-0.007771916687488556,0.05148174613714218,-0.012757168151438236,0.023272870108485222,0.03412624076008797,0.0021754251793026924,0.02149358205497265,0.12827050685882568,0.008393600583076477,0.01651330105960369,-0.037806808948516846,-0.007340404205024242,-0.04983967915177345,0.019422028213739395,-0.008676429279148579,-0.01899445243179798,0.03932502493262291,0.025981014594435692,0.045770008116960526,-0.030228810384869576,-0.00215659337118268,0.05043844133615494,0.026889309287071228,-0.009096967987716198,0.008829156868159771,0.004323470871895552,-0.014488221146166325,0.0009790004696696997,-0.04107494279742241,0.021356036886572838,-0.03954314440488815,-0.05925258994102478,-0.02040303312242031,0.01774449646472931,-0.12562118470668793,0.02919062413275242,-0.11366543918848038,0.09269207715988159,-0.003481135703623295,0.021061262115836143,0.02414347603917122,0.030164912343025208,0.07542655616998672,0.03259158506989479,0.0033344144467264414,-0.05967750772833824,-0.014665486291050911,-0.011115691624581814,0.005158067215234041,0.015000377781689167,0.0295951459556818,0.02537623420357704,0.0265837199985981,-0.004484090488404036,0.028858691453933716,-0.07755327224731445,0.027195477858185768,0.05923568457365036,-0.046852730214595795,-0.030226213857531548,-0.030449679121375084,-0.030573522672057152,0.008479052223265171,-0.009827327914536,-0.0988670289516449,-0.03756263852119446,-0.026397036388516426,0.003464754670858383,-0.0004073486488778144,0.028219107538461685,-0.06442168354988098,-0.01655937172472477,0.021982746198773384,0.02485400252044201,-0.03389236330986023,0.06734281033277512,-0.0010135858319699764,0.04349964112043381,0.006480300799012184,-0.016576450318098068,0.00801086239516735,-0.0325736366212368,-0.016888514161109924,0.023300888016819954,-0.06997695565223694,-0.02896578051149845,0.03853144496679306,-0.013021997176110744,0.017606813460588455,-0.030560536310076714,-0.0014443723484873772,-0.0663866400718689,-0.0033120696898549795,-0.03933129832148552,0.04047941789031029,-0.038639359176158905,-0.024338524788618088,0.011342138051986694,0.006627663969993591,0.01563461497426033,0.009051395580172539,-0.00018700220971368253,-0.02030564472079277,-0.15002892911434174,0.0013654199428856373,0.02252238616347313,-0.0163588784635067,-0.01986752450466156,-0.061060406267642975,-0.04501914605498314,0.0022168138530105352,0.05549600347876549,-0.03671913966536522,0.05707075074315071,-0.007018340285867453,-0.09139271080493927,-0.03324420377612114,-0.05800609663128853,-0.040032658725976944,0.01733218878507614,0.030165057629346848,0.027822038158774376,-0.013308574445545673,-0.011617745272815228,0.005835115443915129,0.012255118228495121,-0.001887081889435649,-0.02464393898844719,0.03420213237404823,-0.04198070988059044,-0.010854249820113182,0.005985455121845007,-0.0193030908703804,-0.04936766251921654,-0.018379272893071175,0.020484892651438713,0.0392838679254055,0.014242667704820633,-0.012634449638426304,0.048212889581918716,0.018836919218301773,0.02339210920035839,-0.04118829593062401,-0.027170326560735703,0.012081878259778023,-0.011153561994433403,-0.03387388214468956,0.07719801366329193,-0.0012817273382097483,-0.03855389356613159,-0.006884288974106312,-0.009371652267873287,0.013691349886357784,-0.01034467201679945,0.016455532982945442,-0.0523698516190052,0.014348318800330162,-0.02121109515428543,-0.012579443864524364,0.016139810904860497,-0.0038721130695194006,0.09944330155849457,-0.004449754953384399,0.043122515082359314,-0.03944244980812073,0.034380339086055756,-0.012048526667058468,-0.012387813068926334,-0.0384054034948349,0.012188182212412357,0.0013726337347179651,0.05591649189591408,0.016332194209098816,0.0398629792034626,-0.03714833781123161,-0.015871575102210045,0.030334044247865677,-0.045627158135175705,0.07903914898633957,-0.0047186571173369884,0.039368342608213425,-0.0018231287831440568,0.00682971253991127,-0.087481290102005,0.005266268737614155,-0.016438934952020645,0.00023567260359413922,0.005695384927093983,0.01802356354892254,0.018990930169820786,0.006853669881820679,-0.03669203817844391,-0.036627303808927536,-0.02539953589439392,-0.019329024478793144,-0.021568622440099716,0.009603031910955906,0.014421584084630013,0.011205782182514668,-0.001072888495400548,0.013395539484918118,0.018263688310980797,0.05070335790514946,-0.0009496959391981363,-0.0427335686981678,0.05239725485444069,0.01815294288098812,-0.002726647537201643,-0.009406239725649357,-0.014475577510893345,0.005034659057855606,0.06377553939819336,0.045139141380786896,0.005700052250176668,-0.022552309557795525,0.008549793623387814,-0.0012766981963068247,-0.031480055302381516,0.003883623518049717,0.002039905171841383,-0.017560189589858055,-0.009098049253225327,0.05461676046252251,-0.013239876367151737,0.053460150957107544,-0.00432357145473361,-0.09132763743400574,-0.015087578445672989,-0.02428656816482544,0.018555311486124992,0.01579000987112522,-0.009517094120383263,-0.011857377365231514,-0.06934702396392822,0.060757044702768326,0.012745917774736881,0.06758612394332886,0.0075327991507947445,0.009190765209496021,-0.034248579293489456,-0.004134192131459713,-0.021800944581627846,0.03947986289858818,0.009915411472320557,0.04223733767867088,-0.00613574031740427,0.008979243226349354,-0.013231515884399414,0.00037562812212854624,-0.019451739266514778,0.05614601448178291,-0.008677379228174686,-0.017178962007164955,-0.012778859585523605,-0.022571219131350517,-0.002650195499882102,0.03820277750492096,-0.019312210381031036,-0.02104417234659195,0.01459801010787487,-0.013030128553509712,-0.000038322006730595604,-0.024543393403291702,-0.007138495799154043,0.008460707031190395,0.003844215301796794,0.003362084273248911,0.008848283439874649,-0.06170681118965149,0.0421796552836895,0.029819099232554436,0.036689259111881256,0.008006898686289787,-0.045667778700590134,-0.006409808993339539,0.01414144691079855,0.0014198159333318472,-0.007188085932284594,-0.029296020045876503,-0.010239316150546074,0.0061910152435302734,0.02209188975393772,0.007602464407682419,-0.007604262791574001,0.054817307740449905,-0.046627093106508255,0.016939064487814903,-0.02283223159611225,0.019532937556505203,-0.02466481737792492,0.018445365130901337,-0.01912982203066349,0.029933549463748932,0.03444494679570198,0.012420200742781162,0.00935501791536808,-0.008281190879642963,0.029890967532992363,0.044565390795469284,0.1480417102575302,0.010068192146718502,-0.03278487175703049,0.025399236008524895,0.005776329431682825,0.0016009496757760644,0.01640569418668747,-0.06772027909755707,0.014415553770959377,0.03236682713031769,0.04362921416759491,0.005814986303448677,-0.03360782563686371,0.0054334127344191074,0.03726408630609512,0.04098787158727646,0.013584177941083908,-0.0019881504122167826,0.017945080995559692,-0.033467985689640045,0.05382419750094414,0.008005072362720966,0.02867867238819599,-0.044427890330553055,0.00602330407127738,-0.030251942574977875,-0.05281282588839531,0.025052091106772423,0.011204668320715427,-0.014750146307051182,-0.038416896015405655,0.010908923111855984,0.009045194834470749,-0.030819818377494812,0.010404640808701515,0.0035169345792382956,0.03491167724132538,0.042286451905965805,-0.013136300258338451,0.07940470427274704,0.046915534883737564,-0.022079860791563988,0.013642821460962296,-0.032850440591573715,-0.032589297741651535,0.02960297465324402,0.013773784041404724,0.037258248776197433,-0.03509155288338661,-0.1023068055510521,-0.036554817110300064,-0.01415101159363985,-0.01885910890996456,-0.014407234266400337,-0.02496238984167576,-0.04811208322644234,-0.01529827993363142,0.021357469260692596,0.004648289177566767,-0.0008126579923555255,0.02264929935336113,0.046938054263591766,0.02558942325413227,0.004135481081902981,-0.01703500747680664,-0.0005668055964633822,-0.010288283228874207,-0.01253626961261034,-0.009512953460216522,0.012758413329720497,-0.0014139924896880984,0.01086074486374855,-0.023168276995420456,0.025203781202435493,-0.0398469977080822,0.053377483040094376,0.017537150532007217,-0.025408737361431122,0.038663506507873535,0.05541359260678291,0.07521876692771912,-0.026514284312725067,0.01606808789074421,-0.008081820793449879,-0.041820622980594635,0.007019879296422005,0.023088427260518074,0.00047394525608979166,-0.009709371253848076,0.052991852164268494,-0.03738679736852646,0.032087452709674835,0.0204739049077034,-0.05849656090140343,0.01429822575300932,0.05310584232211113,-0.053842656314373016,-0.011640657670795918,0.03390393406152725,0.03681217133998871,-0.026144010946154594,-0.02326461672782898,0.02156449668109417,0.0307967197149992,-0.007642226293683052,0.05703092738986015,0.02246399037539959,0.03423731029033661,-0.06635147333145142,-0.007267792243510485,-0.004962776321917772,0.034884437918663025,0.0016440942417830229,0.03716930374503136,0.04808109253644943,0.03844742104411125,-0.029037941247224808,-0.030548853799700737,-0.011745868250727654,0.07513628154993057,-0.003993075340986252,-0.03410525992512703,0.007460478693246841,-0.01318873930722475,0.009273746982216835,0.04261408746242523,-0.042526617646217346,-0.009392174892127514,-0.017164822667837143,0.02647126279771328,-0.04552009701728821,0.013673223555088043,0.020992785692214966,0.125518798828125,-0.031436968594789505,0.02648169919848442,0.03729759901762009,0.024553842842578888,-0.02592097967863083,-0.0023116685915738344,0.0001860792690422386,-0.013139897026121616,0.009974534623324871,-0.008280478417873383,-0.012567910365760326,-0.010345663875341415,0.007457565050572157,-0.008643279783427715,0.034428395330905914,0.00722274836152792,-0.02640717104077339,0.013009540736675262,-0.006400333717465401,0.0694480910897255,0.006142288446426392,-0.00172541628126055,0.026632919907569885,-0.009937652386724949,0.02166067436337471,-0.00921506155282259,-0.030737631022930145,-0.060369908809661865,0.05093769356608391,0.03947732225060463,0.04054379090666771,0.027008971199393272,0.05971565097570419,0.06786857545375824,0.004914645105600357,0.017346980050206184,-0.10982944816350937,0.06603036820888519,0.017099345102906227,-0.0007386435172520578,0.010422485880553722,0.08619660139083862,0.005249103531241417,-0.036797285079956055,-0.016354745253920555,-0.0002048462920356542,0.04289989173412323,-0.03711742162704468,0.024181846529245377,-0.029423853382468224,0.015174238942563534,-0.04154374450445175,-0.006327909417450428,-0.032280083745718,0.0003546858497429639,-0.04444897174835205,-0.015026980079710484,-0.009143355302512646,0.04843300208449364,-6.038012323681099e-33,-0.016791844740509987,-0.014781765639781952,-0.03840956836938858,-0.006654570810496807,-0.049690570682287216,-0.0563407801091671,0.0030003455467522144,-0.05826941132545471,-0.027370987460017204,-0.03563662990927696,0.004963520914316177,-0.055174507200717926,0.013708905316889286,0.013896185904741287,0.017577718943357468,-0.04606153070926666,-0.004000755958259106,-0.01763317734003067,0.01992078498005867,-0.017238564789295197,-0.04853346198797226,-0.0034096052404493093,0.021259691566228867,-0.004272168967872858,-0.043583258986473083,0.049744073301553726,0.011149005964398384,0.025995932519435883,-0.044730328023433685,0.03904317319393158,0.005501026753336191,-0.0014256067806854844,-0.012984342873096466,-0.07037492841482162,-0.004634337965399027,-0.026997661218047142,0.016925925388932228,0.009296773001551628,0.007284229621291161,0.009053581394255161,0.11067675054073334,0.0160682275891304,0.002105648396536708,0.026921287178993225,0.04492884501814842,-0.024467166513204575,-0.0029078226070851088,-0.021533070132136345,-0.04670311510562897,0.040635839104652405,0.032048530876636505,0.00407234113663435,-0.015300028026103973,0.1061234250664711,0.01669919118285179,0.06052543967962265,0.03354926034808159,0.03761981800198555,-0.07284404337406158,-0.02173551172018051,-0.02748846635222435,-0.013557182624936104,0.008521641604602337,0.05399364233016968,0.042893312871456146,0.02931988425552845,0.00442034425213933,0.0015981672331690788,-0.00026714600971899927,-0.04127948731184006,-0.01924726739525795,-0.03736709803342819,0.035714611411094666,-0.016724102199077606,0.012239953503012657,-0.001289974432438612,0.0037309082690626383,-0.011572003364562988,0.01775326393544674,-0.0734264999628067,0.00919072050601244,0.016185635700821877,0.014318233355879784,0.024751774966716766,-0.030537404119968414,-0.12368694692850113,0.023204028606414795,-0.003001451026648283,-0.02507162094116211,-0.009721031412482262,-0.06886051595211029,0.1303565502166748,-0.023093724623322487,0.04744240641593933,-0.03872308507561684,-0.01911047473549843,0.03079961985349655,0.06261109560728073,-0.02844507060945034,-0.030180107802152634,0.020869355648756027,-0.002889203140512109,-0.027355654165148735,0.08629171550273895,-0.011270556598901749,0.03719870373606682,-0.03021658957004547,-0.046199724078178406,-0.0394170880317688,0.012510906904935837,0.024675939232110977,0.022873612120747566,-0.0472198948264122,-0.004478036891669035,0.04430242255330086,0.013799188658595085,0.02772698737680912,0.018756169825792313,0.038577236235141754,0.03643302619457245,-0.02999919094145298,-0.01623794063925743,-0.0016978505300357938,-0.02155177667737007,0.05440032109618187,0.006995409727096558,0.0006780155235901475,-0.018030134961009026,-0.04918370768427849,-0.012397917918860912,0.016071798279881477,-0.058792844414711,2.483191394730966e-7,-0.04121462255716324,0.04997400939464569,-0.051913782954216,-0.05302474647760391,-0.025309396907687187,0.0057924650609493256,-0.011002052575349808,-0.0033472988288849592,-0.0034798583947122097,-0.0956835076212883,0.04742207005620003,-0.01175368670374155,0.02410845272243023,0.06218982860445976,-0.04656434431672096,-0.014080923981964588,-0.04594476893544197,-0.031366460025310516,-0.05198028311133385,-0.06382929533720016,0.07565105706453323,-0.015828127041459084,0.05779373273253441,0.026219811290502548,-0.01243464183062315,0.027285492047667503,0.025701062753796577,-0.024982498958706856,0.030757078900933266,0.0036420468240976334,0.04825763404369354,-0.10398930311203003,-0.04763675853610039,0.04816636070609093,0.005636704154312611,0.034298285841941833,0.039245136082172394,0.00813872367143631,0.023506855592131615,-0.003429281758144498,0.024233106523752213,0.025620726868510246,-0.03204409033060074,-0.02593895234167576,0.07287465780973434,0.008554745465517044,-0.004838623106479645,-0.006413170602172613,-0.022927992045879364,0.0041412534192204475,-0.04684174060821533,0.006264391355216503,0.015669815242290497,0.015653032809495926,0.0023691679816693068,0.007319811265915632,-0.004466671962291002,0.02009848691523075,-0.007338198833167553,-0.01312174927443266,-0.01993483304977417,-0.014431437477469444,0.015373730100691319,0.0390564426779747,0.01759752631187439,0.02984681911766529,0.005253487732261419,2.857805846066489e-34,0.02395387925207615,-0.02711775340139866,0.015541920438408852,-0.01884416490793228,0.013528089970350266,0.0043505094945430756,0.04656976833939552,-0.007320717442780733,0.025315865874290466,-0.0636337623000145,0.0015665782848373055]'
SET
  @HasCustomProps_9ca03f88 = 1
SET
  @HasCustomEvents_9ca03f88 = 0
SET
  @RequiresData_9ca03f88 = 1
SET
  @DependencyCount_9ca03f88 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_9ca03f88 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_9ca03f88 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_9ca03f88 = 1
SET
  @ID_9ca03f88 = 'FDB1174B-38C3-42DB-BF4C-EAA441C3C60A'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_9ca03f88,
  @Name = @Name_9ca03f88,
  @Version = @Version_9ca03f88,
  @VersionSequence = @VersionSequence_9ca03f88,
  @Title = @Title_9ca03f88,
  @Description = @Description_9ca03f88,
  @Type = @Type_9ca03f88,
  @Status = @Status_9ca03f88,
  @DeveloperName = @DeveloperName_9ca03f88,
  @DeveloperEmail = @DeveloperEmail_9ca03f88,
  @DeveloperOrganization = @DeveloperOrganization_9ca03f88,
  @SourceRegistryID = @SourceRegistryID_9ca03f88,
  @ReplicatedAt = @ReplicatedAt_9ca03f88,
  @LastSyncedAt = @LastSyncedAt_9ca03f88,
  @Specification = @Specification_9ca03f88,
  @FunctionalRequirements = @FunctionalRequirements_9ca03f88,
  @TechnicalDesign = @TechnicalDesign_9ca03f88,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_9ca03f88,
  @TechnicalDesignVector = @TechnicalDesignVector_9ca03f88,
  @HasCustomProps = @HasCustomProps_9ca03f88,
  @HasCustomEvents = @HasCustomEvents_9ca03f88,
  @RequiresData = @RequiresData_9ca03f88,
  @DependencyCount = @DependencyCount_9ca03f88,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_9ca03f88,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_9ca03f88,
  @HasRequiredCustomProps = @HasRequiredCustomProps_9ca03f88,
  @ID = @ID_9ca03f88;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_1b1f1c0f NVARCHAR(MAX),
@Name_1b1f1c0f NVARCHAR(500),
@Version_1b1f1c0f NVARCHAR(50),
@VersionSequence_1b1f1c0f INT,
@Title_1b1f1c0f NVARCHAR(1000),
@Description_1b1f1c0f NVARCHAR(MAX),
@Type_1b1f1c0f NVARCHAR(255),
@Status_1b1f1c0f NVARCHAR(50),
@DeveloperName_1b1f1c0f NVARCHAR(255),
@DeveloperEmail_1b1f1c0f NVARCHAR(255),
@DeveloperOrganization_1b1f1c0f NVARCHAR(255),
@SourceRegistryID_1b1f1c0f UNIQUEIDENTIFIER,
@ReplicatedAt_1b1f1c0f DATETIMEOFFSET,
@LastSyncedAt_1b1f1c0f DATETIMEOFFSET,
@Specification_1b1f1c0f NVARCHAR(MAX),
@FunctionalRequirements_1b1f1c0f NVARCHAR(MAX),
@TechnicalDesign_1b1f1c0f NVARCHAR(MAX),
@FunctionalRequirementsVector_1b1f1c0f NVARCHAR(MAX),
@TechnicalDesignVector_1b1f1c0f NVARCHAR(MAX),
@HasCustomProps_1b1f1c0f BIT,
@HasCustomEvents_1b1f1c0f BIT,
@RequiresData_1b1f1c0f BIT,
@DependencyCount_1b1f1c0f INT,
@TechnicalDesignVectorEmbeddingModelID_1b1f1c0f NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_1b1f1c0f NVARCHAR(MAX),
@HasRequiredCustomProps_1b1f1c0f BIT,
@ID_1b1f1c0f UNIQUEIDENTIFIER
SET
  @Namespace_1b1f1c0f = N'CRM/Dashboard'
SET
  @Name_1b1f1c0f = N'PipelineMetricsCards'
SET
  @Version_1b1f1c0f = N'1.0.0'
SET
  @VersionSequence_1b1f1c0f = 1
SET
  @Title_1b1f1c0f = N'Pipeline Metrics Cards'
SET
  @Description_1b1f1c0f = N'Displays key pipeline metrics in a grid of interactive cards'
SET
  @Type_1b1f1c0f = N'Other'
SET
  @Status_1b1f1c0f = N'Published'
SET
  @Specification_1b1f1c0f = N'{"name":"PipelineMetricsCards","location":"embedded","code":"function PipelineMetricsCards({ metrics, deals, onCardClick }) {\n  const formatCurrency = (amount) => {\n    if (amount >= 1000000) return `$$' + '{(amount / 1000000).toFixed(1)}M`;\n    if (amount >= 1000) return `$$' + '{(amount / 1000).toFixed(0)}K`;\n    return `$$' + '{amount.toFixed(0)}`;\n  };\n\n  return (\n    <div style={{ display: ''grid'', gridTemplateColumns: ''repeat(auto-fit, minmax(150px, 1fr))'', gap: ''12px'', marginBottom: ''20px'' }}>\n      <div \n        style={{ \n          padding: ''16px'', \n          backgroundColor: ''white'', \n          borderRadius: ''8px'', \n          border: ''1px solid #E5E7EB'',\n          cursor: ''pointer'',\n          transition: ''transform 0.2s, box-shadow 0.2s''\n        }}\n        onClick={() => onCardClick(''All Pipeline Deals'', deals, ''all'', null)}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.transform = ''translateY(-2px)'';\n          e.currentTarget.style.boxShadow = ''0 4px 6px rgba(0,0,0,0.1)'';\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.transform = ''translateY(0)'';\n          e.currentTarget.style.boxShadow = ''none'';\n        }}\n      >\n        <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Pipeline Value</div>\n        <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#111827'' }}>\n          {formatCurrency(metrics.totalValue)}\n        </div>\n      </div>\n      \n      <div \n        style={{ \n          padding: ''16px'', \n          backgroundColor: ''white'', \n          borderRadius: ''8px'', \n          border: ''1px solid #E5E7EB'',\n          cursor: ''pointer'',\n          transition: ''transform 0.2s, box-shadow 0.2s''\n        }}\n        onClick={() => {\n          const activeDeals = deals.filter(d => ![''Closed Won'', ''Closed Lost''].includes(d.Stage));\n          onCardClick(''Active Deals'', activeDeals, ''active'', null);\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.transform = ''translateY(-2px)'';\n          e.currentTarget.style.boxShadow = ''0 4px 6px rgba(0,0,0,0.1)'';\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.transform = ''translateY(0)'';\n          e.currentTarget.style.boxShadow = ''none'';\n        }}\n      >\n        <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Active Deals</div>\n        <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#111827'' }}>\n          {metrics.activeCount}\n        </div>\n      </div>\n      \n      <div \n        style={{ \n          padding: ''16px'', \n          backgroundColor: ''white'', \n          borderRadius: ''8px'', \n          border: ''1px solid #E5E7EB'',\n          cursor: ''pointer'',\n          transition: ''transform 0.2s, box-shadow 0.2s''\n        }}\n        onClick={() => {\n          const wonDeals = deals.filter(d => d.Stage === ''Closed Won'');\n          onCardClick(''Won Deals'', wonDeals, ''won'', null);\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.transform = ''translateY(-2px)'';\n          e.currentTarget.style.boxShadow = ''0 4px 6px rgba(0,0,0,0.1)'';\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.transform = ''translateY(0)'';\n          e.currentTarget.style.boxShadow = ''none'';\n        }}\n      >\n        <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Win Rate</div>\n        <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#10B981'' }}>\n          {metrics.winRate.toFixed(0)}%\n        </div>\n      </div>\n      \n      <div style={{ padding: ''16px'', backgroundColor: ''white'', borderRadius: ''8px'', border: ''1px solid #E5E7EB'' }}>\n        <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Avg Deal Size</div>\n        <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#111827'' }}>\n          {formatCurrency(metrics.avgDealSize)}\n        </div>\n      </div>\n      \n      <div style={{ padding: ''16px'', backgroundColor: ''white'', borderRadius: ''8px'', border: ''1px solid #E5E7EB'' }}>\n        <div style={{ fontSize: ''12px'', color: ''#6B7280'', marginBottom: ''4px'' }}>Avg Cycle</div>\n        <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#111827'' }}>\n          {metrics.avgCycleTime.toFixed(0)} days\n        </div>\n      </div>\n    </div>\n  );\n}","description":"Displays key pipeline metrics in a grid of interactive cards","category":"Metrics","type":"metrics","dataRequirements":{"mode":"views","entities":[{"name":"Deals","displayFields":["ID","Dealname","Accountname","Stage","Amount","CloseDate","Probability","Owner","CreatedAt"],"filterFields":["CloseDate","Stage","Owner"],"sortFields":["CloseDate","Amount","Probability"],"permissions":["read"]}]},"properties":[{"name":"metrics","type":"object","description":"Object containing totalValue, activeCount, winRate, avgDealSize, avgCycleTime","required":true},{"name":"deals","type":"array","description":"Array of deal objects","required":true},{"name":"onCardClick","type":"function","description":"Callback when a metric card is clicked","required":true}],"events":[{"name":"onMetricClick","description":"Fired when a metric card is clicked","parameters":[{"name":"metricType","type":"string","description":"Type of metric clicked (pipeline, active, won)"},{"name":"deals","type":"array","description":"Filtered deals for the metric"}]}],"usageExample":"```javascript\n<PipelineMetricsCards \n  metrics={calculatedMetrics}\n  deals={allDeals}\n  onCardClick={(title, deals, type) => handleDrillDown(title, deals, type)}\n/>\n```","functionalRequirements":"- Display 5 key metrics: Pipeline Value, Active Deals, Win Rate, Avg Deal Size, Avg Cycle Time\n- Make Pipeline Value, Active Deals, and Win Rate cards clickable\n- Format currency values appropriately (K/M notation)\n- Show hover effects on clickable cards\n- Pass filtered deals to callback on click","technicalDesign":"Component renders a responsive grid of metric cards. Uses formatCurrency helper for value formatting. Implements hover states with transform and shadow effects. Filters deals based on metric type before passing to callback."}'
SET
  @FunctionalRequirements_1b1f1c0f = N'- Display 5 key metrics: Pipeline Value, Active Deals, Win Rate, Avg Deal Size, Avg Cycle Time
- Make Pipeline Value, Active Deals, and Win Rate cards clickable
- Format currency values appropriately (K/M notation)
- Show hover effects on clickable cards
- Pass filtered deals to callback on click'
SET
  @TechnicalDesign_1b1f1c0f = N'Component renders a responsive grid of metric cards. Uses formatCurrency helper for value formatting. Implements hover states with transform and shadow effects. Filters deals based on metric type before passing to callback.'
SET
  @FunctionalRequirementsVector_1b1f1c0f = N'[-0.03366594389081001,-0.008202067576348782,-0.02954839915037155,-0.020700877532362938,0.00924068596214056,0.01137195061892271,-0.018101638182997704,0.03474848344922066,-0.02806342951953411,-0.0022590302396565676,-0.03640585020184517,0.022494450211524963,0.026494989171624184,0.22247235476970673,-0.006629858165979385,-0.06073356047272682,-0.01753549836575985,0.012965572066605091,-0.010390004143118858,0.009076261892914772,0.00033163788612000644,-0.02447494864463806,-0.013960858806967735,0.00209344201721251,0.025762513279914856,-0.015339872799813747,-0.03934120759367943,-0.00845291092991829,-0.01744372397661209,-0.09175541251897812,-0.021187111735343933,0.038165055215358734,-0.05537775158882141,-0.0018464471213519573,0.0000018075913885695627,-0.029472602531313896,-0.021947598084807396,0.014768731780350208,-0.001809559646062553,0.03123549185693264,0.05524513125419617,-0.04057657718658447,0.06637824326753616,0.011214314959943295,-0.003218661295250058,-0.06922796368598938,-0.035981278866529465,0.05442284792661667,-0.004070137161761522,-0.03161819279193878,0.011899116449058056,0.017918964847922325,-0.01895415410399437,-0.011111593805253506,-0.03637518733739853,-0.05421818420290947,-0.006657938472926617,-0.019568515941500664,0.01295576523989439,-0.032985009253025055,-0.025271032005548477,0.0013638387899845839,0.008494267240166664,-0.0625978410243988,0.04867583513259888,-0.008232150226831436,0.05028841271996498,-0.033601973205804825,-0.0064186411909759045,0.008462716825306416,-0.0011826895643025637,-0.00006376248347805813,0.011756678111851215,-0.09078645706176758,-0.020123180001974106,-0.09679677337408066,-0.03250696510076523,0.024494023993611336,0.05576315522193909,-0.019854774698615074,-0.06258510798215866,0.05736445263028145,-0.004034225828945637,0.007263348437845707,0.010987966321408749,0.022117547690868378,-0.012635532766580582,0.01864500530064106,-0.0018321173265576363,0.03531993553042412,0.027550918981432915,-0.018736187368631363,-0.0009296059142798185,-0.011700328439474106,-0.1165890246629715,0.0005173998652026057,0.04805905744433403,0.06462173163890839,0.03259481489658356,-0.012928401120007038,-0.0009471048251725733,0.02793043851852417,0.045069918036460876,0.0266706682741642,0.03719522804021835,0.013094929978251457,-0.02289227396249771,-0.014841798692941666,-0.03498842939734459,0.04970507323741913,0.011602635495364666,-0.02297409065067768,0.004236664157360792,0.02668454684317112,-0.03133177012205124,-0.0029668204952031374,-0.09388530254364014,0.0052530188113451,-0.008437084965407848,0.03206411376595497,0.11507979780435562,-0.01699688844382763,0.0497094951570034,0.03110758773982525,-0.0005641361349262297,0.026357686147093773,-0.02927296981215477,-0.018805015832185745,-0.008672591298818588,0.016698481515049934,-0.02754923142492771,-0.004089255351573229,-0.031528133898973465,-0.042827993631362915,0.0053561716340482235,0.011153743602335453,0.03819722309708595,0.04482389613986015,0.004384604748338461,-0.013232972472906113,0.03794412314891815,0.0024496796540915966,-0.03815850242972374,0.03278346359729767,-0.002894375240430236,0.015877729281783104,-0.0019840530585497618,0.06171770021319389,-0.015342370606958866,0.014464312233030796,0.002709371969103813,0.02994942106306553,0.056617751717567444,0.004914631601423025,-0.04272514209151268,-0.010039735585451126,0.01625450886785984,0.00032909499714151025,-0.01448389608412981,0.03380967676639557,0.03490068390965462,-0.014915850013494492,0.006192243658006191,-0.008660626597702503,0.01125393807888031,0.01753954403102398,0.01102406345307827,0.012284388765692711,0.013584673404693604,-0.030565660446882248,0.041852351278066635,-0.036205973476171494,-0.045838452875614166,-0.011075674556195736,0.040992990136146545,-0.01590493693947792,0.08411909639835358,-0.06185782700777054,0.009334482252597809,-0.021472450345754623,0.025043539702892303,-0.08446104824542999,0.003679436631500721,0.018694614991545677,0.07154054194688797,0.008735504001379013,-0.0689685046672821,0.021418096497654915,-0.017743399366736412,0.022634079679846764,-0.012130087241530418,0.006059880834072828,-0.022363340482115746,0.012064280919730663,0.002564329421147704,-0.010627533309161663,-0.027773192152380943,-0.0353408120572567,0.04415467381477356,0.03644991293549538,0.009282475337386131,-0.051611002534627914,-0.003277685260400176,-0.007957832887768745,0.036605510860681534,0.033453118056058884,0.05592641979455948,-0.03192972019314766,-0.15259112417697906,0.019690068438649178,0.05686409771442413,0.00454719690605998,-0.05149398744106293,0.03108377195894718,-0.037761472165584564,0.020657019689679146,0.01957276649773121,0.017687790095806122,-0.040223926305770874,-0.01627393625676632,-0.03359268978238106,0.02008664608001709,0.02031059004366398,0.01021443959325552,0.1365799903869629,0.019889134913682938,0.013036121614277363,-0.025379665195941925,0.036546699702739716,0.006796920206397772,0.03746770694851875,-0.009677470661699772,0.008039137348532677,0.0496426485478878,-0.005245836917310953,0.05426322668790817,0.046590615063905716,0.1223396509885788,0.0075345635414123535,0.04865512624382973,0.023617621511220932,-0.026381488889455795,-0.02005758136510849,0.015878330916166306,0.015912700444459915,-0.017190266400575638,-0.048799775540828705,-0.0021565931383520365,0.013761715963482857,-0.0009788734605535865,-0.009492949582636356,0.041201312094926834,0.04746760055422783,-0.006552726496011019,0.02817183919250965,-0.00011876192002091557,-0.018503427505493164,-0.018178734928369522,-0.0734652578830719,0.0747222974896431,0.0014207526110112667,-0.010506379418075085,-0.031324852257966995,-0.02708989940583706,0.03877944126725197,-0.01863708347082138,0.04835948348045349,-0.010583228431642056,0.009268388152122498,0.018946737051010132,0.01624240353703499,0.013958120718598366,-0.010568344965577126,0.010738784447312355,-0.012187897227704525,0.04702167585492134,-0.09785207360982895,0.03783006593585014,-0.010283897630870342,-0.005868622567504644,-0.018420346081256866,-0.0032905032858252525,-0.02087104506790638,0.005012559704482555,0.013384987600147724,0.027187583968043327,0.021400948986411095,-0.0024992702528834343,-0.017713721841573715,-0.04975550249218941,0.052988745272159576,-0.038222022354602814,0.03890319913625717,-0.016034118831157684,-0.04709557443857193,0.051828593015670776,-0.08810529112815857,0.04951867461204529,-0.052750688046216965,0.04610786586999893,-0.0453428253531456,-0.022172579541802406,-0.02556401491165161,-0.021774934604763985,-0.03307710960507393,0.01139871310442686,0.016957798972725868,0.024097619578242302,0.045445144176483154,0.08467476814985275,-0.008508219383656979,0.009660794399678707,0.01884852722287178,-0.051554180681705475,0.012112338095903397,-0.006391902919858694,-0.035680994391441345,0.04241357371211052,-0.00004851421545026824,0.0294639952480793,0.03283210098743439,-0.01421211939305067,-0.04963571950793266,-0.0025751187931746244,-0.05087071657180786,0.006412061862647533,-0.0005395616171881557,-0.026932446286082268,-0.022802243009209633,-0.0017986284801736474,-0.003444655565544963,-0.09178048372268677,-0.027439897879958153,-0.0014805838000029325,-0.025088293477892876,0.04126862436532974,-0.033167704939842224,-0.029889142140746117,0.035172056406736374,-0.01743404008448124,-0.03412657603621483,-0.0034259818494319916,-0.029788849875330925,0.009842061437666416,0.03736107051372528,-0.00798969529569149,0.11638463288545609,-0.0026023853570222855,-0.06931757181882858,0.039015788584947586,0.06958965212106705,0.02801920846104622,-0.01675686240196228,-0.03562760725617409,0.005632944405078888,0.04347415640950203,-0.01940959319472313,-0.02823714353144169,-0.013184694573283195,-0.05958417057991028,0.0056435344740748405,0.05276460945606232,0.011849489994347095,-0.00019319518469274044,0.0049954974092543125,0.06115345656871796,0.0088972682133317,-0.020844504237174988,0.021368401125073433,-0.0025837367866188288,-0.0689232274889946,0.020398568361997604,0.04968501627445221,-0.005391913931816816,0.012217644602060318,-0.0340464822947979,0.014893398620188236,0.022875821217894554,-0.014252224937081337,-0.023349350318312645,0.052610043436288834,-0.01789889484643936,0.07331736385822296,-0.03831315413117409,0.07705464959144592,-0.028216591104865074,-0.033211641013622284,-0.01471906527876854,-0.0759616494178772,0.002281897235661745,-0.001524262479506433,-0.010637895204126835,-0.030391108244657516,-0.040184516459703445,-0.02556472271680832,-0.04210111126303673,0.004159437492489815,0.048452526330947876,0.006896074395626783,0.012288463301956654,-0.007542312610894442,0.04710637032985687,0.00551201868802309,-0.01866110973060131,0.02808835357427597,-0.06515992432832718,-0.0050181071273982525,0.037273209542036057,0.0316152460873127,-0.024600431323051453,-0.07285597175359726,-0.03148362413048744,-0.03466223180294037,-0.05099528282880783,0.017901869490742683,-0.004382624756544828,-0.006112049799412489,-0.0225272998213768,0.007020419929176569,0.014056299813091755,-0.001101627596653998,-0.005647049285471439,-0.010570446960628033,0.033916398882865906,-0.026149174198508263,0.0038255809340626,0.004302050918340683,-0.022006576880812645,0.027535628527402878,0.003778755897656083,-0.007836074568331242,0.04441813379526138,0.012187328189611435,0.004205305594950914,-0.0486350879073143,-0.09207848459482193,-0.02370123192667961,0.048898983746767044,-0.0017238546861335635,-0.023830413818359375,-0.0021006532479077578,-0.016240572556853294,0.06183170527219772,-0.005952929146587849,0.01658402755856514,0.015822185203433037,0.004003825597465038,0.006068313028663397,0.04161740466952324,-0.03754638880491257,-0.024813814088702202,-0.010602192021906376,0.016118953004479408,0.024733347818255424,-0.0352669432759285,-0.04840970039367676,0.07550571113824844,-0.050885699689388275,-0.007760823704302311,-0.02304312214255333,0.006314061116427183,0.04606965556740761,-0.08499068021774292,0.0003746383881662041,0.01890808530151844,-0.09891737252473831,-0.0218088049441576,-0.07003768533468246,-0.017810380086302757,-0.02423560619354248,0.03940277919173241,-0.015089056454598904,-0.03262825682759285,-0.013681960292160511,0.04140885919332504,0.027972031384706497,0.007124562747776508,-0.018658354878425598,0.03629448264837265,-0.010163144208490849,0.0038778996095061302,-0.010476507246494293,-0.011742915026843548,-0.08734150230884552,0.01578911393880844,0.04392746463418007,-0.04447426274418831,0.002843281254172325,-0.01419342216104269,0.0026465808041393757,0.009770643897354603,0.0028619172517210245,-0.030208030715584755,-0.029468849301338196,0.014508156105875969,-0.028770219534635544,-0.032211750745773315,-0.03188985958695412,-0.01761232689023018,-0.04478567838668823,-0.01517381239682436,-0.009106484241783619,0.01919257640838623,-0.04962867870926857,-0.025710226967930794,0.010866944678127766,0.04533186927437782,-0.0235618744045496,-0.001179203507490456,-0.022518634796142578,0.06146005541086197,-0.034964822232723236,0.0010759925935417414,0.019322454929351807,0.04895724728703499,0.016075527295470238,-0.025810299441218376,0.022381329908967018,-0.01940147951245308,-0.02942311204969883,0.016623375937342644,0.027358898892998695,-0.034883514046669006,-0.004520968999713659,0.09486201405525208,-0.05088014528155327,0.02196088619530201,-0.013765819370746613,0.0027171429246664047,0.022799232974648476,-0.054909005761146545,-0.013853595592081547,-0.016335921362042427,-0.003197403158992529,-0.00130406953394413,0.026161011308431625,0.04256906732916832,0.06601478159427643,-0.022285183891654015,0.002996673807501793,-0.048473138362169266,0.023424701765179634,0.003966976888477802,-0.011110254563391209,-0.013949218206107616,0.014370497316122055,0.009046843275427818,-0.014254283159971237,0.004882785025984049,0.022078394889831543,0.013042321428656578,0.004592969082295895,-0.043624065816402435,0.024215975776314735,-0.02848254144191742,-6.363606993785595e-33,-0.035433050245046616,-0.035357363522052765,-0.028448229655623436,0.026683367788791656,0.02107638120651245,-0.011671910062432289,0.024718152359128,-0.0425587072968483,0.012613242492079735,0.0040429215878248215,-0.007030779030174017,-0.03689419850707054,0.03035309910774231,-0.007589881774038076,0.007079288829118013,0.010467059910297394,0.03773672878742218,-0.023230278864502907,-0.014049909077584743,0.032088134437799454,-0.028818583115935326,0.00024445902090519667,-0.005680826026946306,-0.02738737128674984,0.00971366185694933,0.018333353102207184,-0.03312711790204048,0.03968535736203194,-0.013314172625541687,0.024851541966199875,-0.0102351950481534,-0.00842284131795168,-0.0431792289018631,-0.05672531947493553,-0.007175017613917589,-0.0605926588177681,-0.026081988587975502,-0.018009206280112267,0.013414270244538784,0.041933443397283554,0.10197135806083679,0.008012923412024975,0.05461021885275841,0.02466871775686741,0.010881857015192509,-0.021662740036845207,0.00863177515566349,0.018085215240716934,-0.016841260716319084,-0.06562075018882751,0.02159808576107025,0.0388256274163723,0.007097663823515177,0.07181672006845474,0.03328113257884979,0.015234684571623802,0.028395896777510643,0.031040074303746223,-0.08938658982515335,0.011268028989434242,-0.033554013818502426,-0.01698189042508602,0.024791091680526733,0.02797645330429077,0.03895385190844536,0.0029363136272877455,-0.01980714313685894,0.03273218497633934,0.026346923783421516,0.02010834403336048,-0.004883299116045237,-0.017175782471895218,0.04721783846616745,-0.06851513683795929,-0.0027661295607686043,0.053433049470186234,0.03296651691198349,0.002747234655544162,0.017558760941028595,0.060440029948949814,0.01297786831855774,0.0029560010880231857,-0.006786814425140619,0.022441072389483452,0.018733125180006027,-0.10619208961725235,0.007324875798076391,-0.016109639778733253,0.014279527589678764,0.05325592681765556,0.012439655140042305,0.05697953328490257,-0.039559461176395416,0.055354438722133636,-0.05073096603155136,-0.000052393326768651605,0.07332947105169296,0.09387973695993423,-0.03453613817691803,-0.08113250136375427,0.07800973951816559,0.021380634978413582,-0.01582229882478714,-0.04883768409490585,0.00923015084117651,0.010221867822110653,-0.012725614942610264,-0.011099684052169323,-0.04046114161610603,0.0068968599662184715,0.02060088701546192,0.043906450271606445,-0.009326926432549953,0.005659603979438543,-0.029672347009181976,-0.014083566144108772,-0.025461332872509956,-0.035251133143901825,0.004628665745258331,0.004877408966422081,0.01019279845058918,0.028769318014383316,-0.007499071769416332,0.04065566882491112,0.04555836692452431,-0.02213078923523426,-0.009742539376020432,0.02328861877322197,0.024665676057338715,0.009857949800789356,-0.011591902934014797,-0.014710667543113232,2.7342423436493846e-7,0.0034590072464197874,0.027900516986846924,-0.08128717541694641,0.04683137312531471,-0.026873819530010223,0.0029199665877968073,-0.0196624044328928,-0.03161802142858505,0.056685470044612885,-0.02686878852546215,0.007867410778999329,-0.009812532924115658,0.01375360693782568,0.042289648205041885,-0.011766341514885426,-0.044955044984817505,0.011568823829293251,-0.04704512655735016,0.00721977511420846,-0.011141365393996239,-0.005877562332898378,0.04089810326695442,0.0866844579577446,0.013746625743806362,0.011203288100659847,-0.010612222366034985,-0.011971419677138329,-0.03825536370277405,-0.021781403571367264,-0.014413777738809586,0.055999238044023514,-0.041954491287469864,-0.031393349170684814,0.061899758875370026,-0.014049064368009567,0.03880273550748825,-0.00959315150976181,-0.028777530416846275,0.03622139245271683,0.045312605798244476,-0.028218988329172134,-0.05418839305639267,-0.002348418114706874,-0.06860719621181488,-0.009953782893717289,-0.05202013999223709,0.01349868718534708,-0.03373373672366142,0.01587863825261593,-0.031927645206451416,0.02867051772773266,0.005093545652925968,0.029337523505091667,-0.016131818294525146,0.029391182586550713,-0.00015125064237508923,0.01676711067557335,0.023272167891263962,-0.015765560790896416,0.00871970970183611,0.012665333226323128,-0.032647740095853806,0.012457973323762417,-0.004148904234170914,0.04922104626893997,-0.041695915162563324,-0.0006432901718653738,3.742582536008674e-34,0.02640668675303459,-0.0019090641289949417,0.03877263516187668,0.03110954351723194,0.04044434428215027,-0.020868495106697083,0.038850076496601105,0.006946945562958717,0.025360697880387306,-0.05754600092768669,-0.012350989505648613]'
SET
  @TechnicalDesignVector_1b1f1c0f = N'[-0.06404464691877365,-0.01750602014362812,-0.00023732306726742536,-0.03969447314739227,0.0030684235971421003,-0.03415140509605408,0.014187621884047985,0.08132240176200867,-0.07675319910049438,-0.030888155102729797,0.0016157974023371935,0.02067660540342331,0.03138909488916397,0.13743238151073456,0.010157879441976547,-0.10134099423885345,-0.020308967679739,0.02339351363480091,-0.07447830587625504,0.010560283437371254,0.014809999614953995,-0.013044106774032116,-0.028326762840151787,-0.02739088237285614,-0.017710546031594276,-0.03281679004430771,0.008968072943389416,-0.008430742658674717,0.004660375416278839,0.01046844944357872,0.011116872541606426,0.03518972173333168,-0.07196429371833801,0.004332667216658592,0.000001828654717428435,-0.023045873269438744,-0.043356724083423615,0.0440652072429657,0.07258307188749313,-0.011726302094757557,0.030346328392624855,-0.03029416874051094,0.036788418889045715,0.001376610016450286,-0.025061901658773422,-0.10031715780496597,-0.04038581997156143,0.026816310361027718,0.025370631366968155,-0.04042553901672363,0.0058715748600661755,0.02156226895749569,-0.006593399681150913,0.02804466150701046,-0.017161579802632332,0.10655101388692856,-0.01919787935912609,0.011088008992373943,0.0260186605155468,-0.013215679675340652,0.004696772433817387,-0.004251046571880579,-0.0015910929068922997,-0.06816862523555756,0.032806772738695145,-0.01884390600025654,0.04913049563765526,0.0004417684976942837,0.004729104693979025,-0.010239515453577042,0.030092468485236168,0.014064747840166092,0.0010630289325490594,-0.00856660958379507,-0.02774631232023239,0.023251129314303398,-0.010145153850317001,-0.019044695422053337,0.013079085387289524,-0.01727810874581337,-0.053632549941539764,0.025726046413183212,-0.014827730134129524,-0.042912907898426056,-0.002409743843600154,0.054458893835544586,0.025561191141605377,-0.0038496332708746195,-0.06824136525392532,0.010899132117629051,0.025457778945565224,-0.02129601128399372,0.02383490838110447,-0.0011475211940705776,-0.030671430751681328,0.0047005112282931805,0.003729887306690216,-0.0689593032002449,0.05141761898994446,0.045833926647901535,0.04677926376461983,0.053966835141181946,-0.014297658577561378,0.016082890331745148,0.04276029393076897,0.05723981559276581,-0.014364575035870075,-0.09375777840614319,-0.031415943056344986,-0.009105891920626163,0.04020266234874725,-0.033262014389038086,0.019166523590683937,0.02474280819296837,-0.057922665029764175,0.02567736990749836,-0.02498345822095871,-0.0043361736461520195,-0.013975325040519238,0.03145419433712959,0.10732080042362213,-0.01966249570250511,-0.0011345292441546917,-0.014555314555764198,-0.014460024423897266,0.07929733395576477,0.005745980888605118,-0.07611332088708878,-0.003877539886161685,0.032282162457704544,-0.004489615559577942,-0.0034100471530109644,0.008869805373251438,-0.0335388258099556,-0.019009128212928772,-0.024575481191277504,-0.006395178381353617,0.039287202060222626,0.018118347972631454,0.028448013588786125,0.013018060475587845,0.049553029239177704,0.01500125415623188,0.031960196793079376,-0.04723811894655228,0.015321880578994751,0.038580819964408875,0.002204423537477851,-0.0027881718706339598,0.044852644205093384,0.041079550981521606,0.01629493571817875,-0.02411235310137272,-0.014257175847887993,-0.0376172810792923,-0.005812032613903284,0.03626599162817001,-0.004847600124776363,0.012771881185472012,-0.01579705812036991,0.030939459800720215,-0.0597081258893013,0.05848987028002739,0.0292685404419899,-0.015928072854876518,-0.00881052017211914,-0.07461010664701462,0.007625124882906675,0.012358000501990318,-0.026692459359765053,-0.012835637666285038,-0.0306185744702816,-0.03192754089832306,0.009673475287854671,0.014628099277615547,-0.04320129007101059,0.05270257219672203,0.019353823736310005,0.007500827312469482,-0.022450536489486694,0.009630812332034111,-0.06564071029424667,0.028666703030467033,0.021790239959955215,0.06862739473581314,0.007360938470810652,-0.02117534913122654,0.053797174245119095,-0.03145310655236244,-0.026862865313887596,-0.02217414416372776,0.0014119144761934876,0.0003519004094414413,-0.013032064773142338,0.021996252238750458,0.027094023302197456,-0.027768036350607872,0.0038063949905335903,0.03240393474698067,0.010591919533908367,0.013918956741690636,-0.04168017581105232,0.03662433102726936,0.048416342586278915,0.053042590618133545,-0.0166607778519392,0.011836857534945011,-0.06007492542266846,-0.044178806245326996,0.019405657425522804,0.0025189772713929415,0.004899906925857067,-0.011985705234110355,0.019066672772169113,0.012292884290218353,-0.004439562559127808,0.037173036485910416,0.01902838982641697,-0.060466039925813675,-0.0058029210194945335,-0.048102449625730515,-0.03282935172319412,0.08633867651224136,0.01228630356490612,0.18245156109333038,-0.018851717934012413,0.042951226234436035,-0.024147160351276398,-0.0017874866025522351,-0.01574586145579815,0.012079566717147827,-0.037262849509716034,-0.018292604014277458,0.03271805867552757,0.022498538717627525,-0.02574002556502819,-0.009665438905358315,0.05878658592700958,0.027747346088290215,0.007697900757193565,0.004562399350106716,-0.007853078655898571,-0.0296800434589386,-0.0032760014291852713,0.007905866019427776,0.012412214651703835,-0.07568328082561493,0.017441144213080406,-0.0393422432243824,-0.019626373425126076,0.03502500802278519,0.0603402778506279,0.008076218888163567,-0.054133493453264236,0.01928086392581463,-0.05404640734195709,0.09609019011259079,-0.01886550337076187,0.017718350514769554,0.027435302734375,-0.030791109427809715,-0.00048350318684242666,-0.029843773692846298,-0.018184492364525795,0.04366045072674751,0.024637946859002113,0.052659980952739716,0.012506147846579552,0.0014085144503042102,0.02566465735435486,0.0026196171529591084,0.02402748167514801,0.03255392238497734,0.01357701513916254,0.009018369019031525,-0.009903854690492153,-0.07378780841827393,0.036940086632966995,-0.023620743304491043,0.010609093122184277,-0.014449098147451878,-0.035295188426971436,0.017443304881453514,-0.0006189118721522391,-0.016933854669332504,0.013913550414144993,-0.006282500457018614,-0.013262763619422913,-0.007149763870984316,-0.06403326988220215,0.02692360058426857,0.0033353278413414955,0.014745237305760384,-0.027463609352707863,-0.0367945060133934,0.016488613560795784,0.010315940715372562,0.07516123354434967,-0.0026183566078543663,0.015320440754294395,-0.007091295439749956,-0.010036381892859936,-0.00620140228420496,0.0030087099876254797,-0.0509905107319355,0.03282017633318901,0.015172856859862804,0.022137535735964775,0.048443183302879333,0.07100477069616318,-0.052349649369716644,0.03279361501336098,0.01991996541619301,-0.032491154968738556,0.025090886279940605,0.059997495263814926,0.04252058267593384,0.0004899456980638206,0.021122902631759644,0.02941562421619892,0.025808338075876236,-0.033171188086271286,-0.012397498823702335,-0.042018819600343704,-0.06763414293527603,0.07481858879327774,0.01800389587879181,-0.012803660705685616,-0.03960626572370529,-0.008760332129895687,-0.039743490517139435,-0.02846444398164749,0.029382914304733276,0.04277258366346359,-0.0055197542533278465,0.002730059437453747,-0.04584687575697899,-0.032143350690603256,0.00782944168895483,-0.04157815873622894,-0.028081273660063744,-0.050270404666662216,-0.003175677265971899,0.0661567896604538,0.0781712532043457,0.004094697535037994,0.00024661762290634215,-0.011892784386873245,-0.05939770117402077,0.024850646033883095,0.030912872403860092,0.026815876364707947,-0.008092941716313362,-0.03261236101388931,0.01182610634714365,0.038833972066640854,-0.03116631507873535,-0.047114983201026917,-0.016282059252262115,0.01263341773301363,0.002487249905243516,0.05659349635243416,0.046197790652513504,-0.027204886078834534,-0.032481513917446136,0.022594688460230827,0.07333292067050934,0.043002501130104065,-0.008767214603722095,-0.019366901367902756,-0.05071946606040001,0.021157048642635345,0.00041698841960169375,-0.012146231718361378,-0.013303104788064957,-0.03406485915184021,-0.005187592469155788,-0.03043520450592041,0.0324818454682827,0.03881674259901047,0.08208158612251282,-0.034899063408374786,0.05466172844171524,-0.028882881626486778,0.09319839626550674,-0.04367981478571892,-0.001214181655086577,0.03301190212368965,0.004380202852189541,0.033775776624679565,-0.019059613347053528,0.0011260318569839,-0.030446162447333336,-0.03458184376358986,0.020494164898991585,0.0480244979262352,0.011121942661702633,-0.016041012480854988,0.012654253281652927,0.010751358233392239,-0.003179319202899933,0.037132907658815384,0.03981815651059151,-0.06378179043531418,0.06882677227258682,-0.037118248641490936,-0.021684395149350166,0.042339157313108444,0.042207133024930954,-0.05231337249279022,-0.09230849146842957,-0.04155914485454559,-0.052542734891176224,-0.07578185200691223,-0.08329091221094131,0.00027274145395495,-0.018988600000739098,-0.01877075433731079,0.021637864410877228,0.04067216068506241,0.004959318321198225,0.0016839192248880863,0.0011277245357632637,-0.006162992678582668,0.051556140184402466,-0.0033197805751115084,-0.04423726350069046,-0.02197261154651642,-0.02830045484006405,-0.016797395423054695,0.01855485513806343,0.007519069127738476,-0.024951204657554626,0.0019138796487823129,-0.0024660294875502586,-0.06837934255599976,-0.0701388418674469,0.037570931017398834,-0.010614322498440742,-0.012207752093672752,0.060735270380973816,-0.04618703946471214,0.04816276207566261,-0.01796216517686844,-0.04369649663567543,-0.05911923572421074,-0.02453649416565895,0.035633910447359085,0.04616572707891464,-0.07065888494253159,-0.026620466262102127,0.011783582158386707,-0.01529962569475174,0.03234683349728584,-0.03702917695045471,-0.052069082856178284,0.0012636692263185978,0.04202082380652428,-0.0004994076443836093,0.030630847439169884,0.0799182802438736,0.036108408123254776,-0.011419261805713177,0.005299899727106094,0.024634631350636482,-0.05742749944329262,0.049069877713918686,-0.07724309712648392,-0.037675388157367706,-0.005593983456492424,-0.009657067246735096,0.002337314188480377,-0.0404374860227108,-0.026090577244758606,-0.007189082447439432,0.031545449048280716,-0.019966842606663704,-0.0539579838514328,0.027217306196689606,-0.015129976905882359,-0.025364182889461517,0.04109468311071396,-0.033355772495269775,-0.0030527664348483086,0.04098477587103844,0.006792009342461824,-0.05870269238948822,-0.04205954074859619,-0.006100326776504517,0.010019856505095959,-0.017135368660092354,-0.0010200204560533166,-0.012882745824754238,0.04862581938505173,0.03401670977473259,-0.0021409697365015745,-0.01209659967571497,0.015974685549736023,-0.05358780920505524,-0.03883443400263786,-0.023941008374094963,-0.02537064254283905,0.0171955693513155,-0.024872956797480583,0.006402821280062199,-0.005024989601224661,-0.005282432306557894,0.019136827439069748,0.011771932244300842,-0.017639491707086563,0.02389616332948208,-0.00295976921916008,-0.02644416317343712,0.033016353845596313,-0.001323231728747487,0.0305696502327919,-0.053874317556619644,0.022044681012630463,-0.010761057958006859,-0.027797982096672058,0.03267625719308853,0.02635319158434868,-0.019856750965118408,0.021764012053608894,0.06972239166498184,-0.005455478094518185,0.0065384055487811565,0.005371421109884977,0.014052379876375198,0.010152210481464863,-0.0642150342464447,-0.037578728049993515,0.00298811262473464,-0.03583718463778496,0.014187457971274853,0.039117325097322464,-0.01985023356974125,0.016307227313518524,-0.005363186355680227,-0.05779186636209488,-0.060879580676555634,0.013668510131537914,0.018511326983571053,0.013160760514438152,-0.0027487208135426044,-0.01788984425365925,0.040917329490184784,-0.030863840132951736,0.022952241823077202,0.032450661063194275,0.02215711586177349,-0.001142551889643073,-0.04729627072811127,0.0057023437693715096,0.013346327468752861,-6.580320397619223e-33,-0.0652722716331482,0.020615192130208015,-0.012648796662688255,0.008109391666948795,0.01999029703438282,-0.03345372900366783,0.038066986948251724,-0.02889271080493927,0.015150826424360275,-0.016790980473160744,-0.016225382685661316,-0.05098194256424904,0.011676731519401073,0.02028738148510456,-0.03609014302492142,0.005144243128597736,0.047996968030929565,0.021097738295793533,-0.008030613884329796,0.021462928503751755,-0.05262352526187897,-0.005771625321358442,-0.012411846779286861,-0.07790175825357437,-0.03653411939740181,-0.015325983986258507,-0.00012963030894752592,0.03619173914194107,-0.020526297390460968,0.013422501273453236,-0.01004568301141262,0.018738629296422005,-0.05755893513560295,-0.018994903191924095,0.02861483208835125,0.07086855918169022,-0.0846896544098854,-0.033550143241882324,0.04410875588655472,0.04587305709719658,0.10305804759263992,0.0039622546173632145,-0.014485249295830727,0.019225088879466057,0.020964136347174644,-0.018129052594304085,-0.02209295518696308,0.011938049457967281,-0.012524296529591084,-0.08616430312395096,0.03634406998753548,0.026147611439228058,-0.038300562649965286,0.02617647871375084,-0.017007190734148026,0.0194147527217865,0.05040624365210533,0.0645868182182312,-0.04451398551464081,-0.021245507523417473,-0.031865041702985764,-0.024685269221663475,0.026895567774772644,0.05074327811598778,0.0592501200735569,0.0023872232995927334,0.0014724680222570896,0.052716780453920364,-0.05062605440616608,0.018847579136490822,0.004528608173131943,-0.0543861985206604,0.05834420770406723,-0.00546406302601099,0.02384309656918049,0.024827849119901657,0.03955143317580223,0.0018377251690253615,-0.004298289772123098,0.05430314689874649,-0.012037466280162334,0.03576412796974182,0.026693910360336304,0.014958173036575317,-0.0019975551404058933,-0.07904558628797531,0.015580852515995502,-0.004937336780130863,-0.004756968934088945,0.02104586362838745,0.023348474875092506,0.05564830079674721,-0.032350506633520126,0.06173905357718468,-0.015749454498291016,-0.06940766423940659,0.04987872764468193,0.06014544889330864,-0.02611350081861019,-0.023439284414052963,0.1262361705303192,-0.0477616973221302,-0.034892965108156204,0.012736291624605656,-0.015789182856678963,0.010844271630048752,0.007431748788803816,-0.01076882891356945,-0.08120907098054886,0.030588192865252495,0.036237604916095734,0.03498055040836334,-0.005498878192156553,-0.026195788756012917,-0.007813793607056141,0.043497681617736816,-0.011668486520648003,-0.005343151744455099,0.011961466632783413,0.02202272042632103,0.022624965757131577,-0.056062906980514526,-0.052995841950178146,0.04426553100347519,0.0009801421547308564,-0.04769115149974823,-0.03824499621987343,0.039794016629457474,0.03194647654891014,0.011364328674972057,-0.012168954126536846,0.00597608694806695,2.836667079009203e-7,0.03136453777551651,0.029125135391950607,-0.051113348454236984,-0.021532755345106125,0.009739280678331852,-0.04427440091967583,0.004118893761187792,-0.05233538895845413,0.020238390192389488,0.0009647268452681601,-0.005892250221222639,-0.04798654094338417,0.034608036279678345,0.018581751734018326,-0.01676851697266102,-0.0016896106535568833,0.012708217836916447,-0.048953574150800705,-0.016588261350989342,0.06130343675613403,-0.001027520396746695,-0.016960201784968376,0.06409242004156113,0.0005382371600717306,-0.004372291266918182,0.011729583144187927,0.024857191368937492,-0.026475630700588226,0.039334241300821304,-0.046217549592256546,0.02271612361073494,-0.007796269841492176,0.0030344813130795956,0.014782247133553028,0.003197040408849716,0.011993211694061756,-0.003605625359341502,0.01942554861307144,0.014582710340619087,0.07876129448413849,0.022763853892683983,-0.008580949157476425,-0.018096745014190674,-0.07052655518054962,0.005907893646508455,0.008911186829209328,-0.018836019560694695,-0.01694038324058056,-0.08511470258235931,0.004576621111482382,-0.04028520733118057,-0.015621349215507507,-0.0018650325946509838,-0.018470464274287224,0.031313858926296234,0.008995374664664268,-0.01039352547377348,0.03200757876038551,-0.0244805458933115,-0.011559652164578438,-0.004801060073077679,-0.022162405773997307,-0.015039261430501938,-0.035458873957395554,0.025530850514769554,0.021320641040802002,-0.05032860487699509,3.858490411597079e-34,0.03783934563398361,-0.022042619064450264,-0.0007382748299278319,0.07126644253730774,0.042362943291664124,-0.033400099724531174,0.04135972633957863,0.0039322408847510815,0.044804565608501434,-0.03004308231174946,-0.002330233110114932]'
SET
  @HasCustomProps_1b1f1c0f = 1
SET
  @HasCustomEvents_1b1f1c0f = 1
SET
  @RequiresData_1b1f1c0f = 1
SET
  @DependencyCount_1b1f1c0f = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_1b1f1c0f = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_1b1f1c0f = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_1b1f1c0f = 1
SET
  @ID_1b1f1c0f = '58241649-8AA4-493D-AFC1-1E33B1B68847'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_1b1f1c0f,
  @Name = @Name_1b1f1c0f,
  @Version = @Version_1b1f1c0f,
  @VersionSequence = @VersionSequence_1b1f1c0f,
  @Title = @Title_1b1f1c0f,
  @Description = @Description_1b1f1c0f,
  @Type = @Type_1b1f1c0f,
  @Status = @Status_1b1f1c0f,
  @DeveloperName = @DeveloperName_1b1f1c0f,
  @DeveloperEmail = @DeveloperEmail_1b1f1c0f,
  @DeveloperOrganization = @DeveloperOrganization_1b1f1c0f,
  @SourceRegistryID = @SourceRegistryID_1b1f1c0f,
  @ReplicatedAt = @ReplicatedAt_1b1f1c0f,
  @LastSyncedAt = @LastSyncedAt_1b1f1c0f,
  @Specification = @Specification_1b1f1c0f,
  @FunctionalRequirements = @FunctionalRequirements_1b1f1c0f,
  @TechnicalDesign = @TechnicalDesign_1b1f1c0f,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_1b1f1c0f,
  @TechnicalDesignVector = @TechnicalDesignVector_1b1f1c0f,
  @HasCustomProps = @HasCustomProps_1b1f1c0f,
  @HasCustomEvents = @HasCustomEvents_1b1f1c0f,
  @RequiresData = @RequiresData_1b1f1c0f,
  @DependencyCount = @DependencyCount_1b1f1c0f,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_1b1f1c0f,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_1b1f1c0f,
  @HasRequiredCustomProps = @HasRequiredCustomProps_1b1f1c0f,
  @ID = @ID_1b1f1c0f;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_0c968a5d NVARCHAR(MAX),
@Name_0c968a5d NVARCHAR(500),
@Version_0c968a5d NVARCHAR(50),
@VersionSequence_0c968a5d INT,
@Title_0c968a5d NVARCHAR(1000),
@Description_0c968a5d NVARCHAR(MAX),
@Type_0c968a5d NVARCHAR(255),
@Status_0c968a5d NVARCHAR(50),
@DeveloperName_0c968a5d NVARCHAR(255),
@DeveloperEmail_0c968a5d NVARCHAR(255),
@DeveloperOrganization_0c968a5d NVARCHAR(255),
@SourceRegistryID_0c968a5d UNIQUEIDENTIFIER,
@ReplicatedAt_0c968a5d DATETIMEOFFSET,
@LastSyncedAt_0c968a5d DATETIMEOFFSET,
@Specification_0c968a5d NVARCHAR(MAX),
@FunctionalRequirements_0c968a5d NVARCHAR(MAX),
@TechnicalDesign_0c968a5d NVARCHAR(MAX),
@FunctionalRequirementsVector_0c968a5d NVARCHAR(MAX),
@TechnicalDesignVector_0c968a5d NVARCHAR(MAX),
@HasCustomProps_0c968a5d BIT,
@HasCustomEvents_0c968a5d BIT,
@RequiresData_0c968a5d BIT,
@DependencyCount_0c968a5d INT,
@TechnicalDesignVectorEmbeddingModelID_0c968a5d NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_0c968a5d NVARCHAR(MAX),
@HasRequiredCustomProps_0c968a5d BIT,
@ID_0c968a5d UNIQUEIDENTIFIER
SET
  @Namespace_0c968a5d = N'CRM/Dashboard'
SET
  @Name_0c968a5d = N'DealCards'
SET
  @Version_0c968a5d = N'1.0.0'
SET
  @VersionSequence_0c968a5d = 1
SET
  @Title_0c968a5d = N'Deal Cards'
SET
  @Description_0c968a5d = N'Displays deals in an interactive card layout with open action'
SET
  @Type_0c968a5d = N'Other'
SET
  @Status_0c968a5d = N'Published'
SET
  @Specification_0c968a5d = N'{"name":"DealCards","location":"embedded","code":"function DealCards({ deals, stageColors = {}, onDealClick, onOpenClick }) {\n  return (\n    <div style={{ display: ''grid'', gap: ''12px'' }}>\n      {deals.map((deal, index) => (\n        <div\n          key={deal.ID || index}\n          style={{\n            padding: ''16px'',\n            backgroundColor: ''#F9FAFB'',\n            borderRadius: ''8px'',\n            border: ''1px solid #E5E7EB'',\n            cursor: ''pointer'',\n            transition: ''all 0.2s''\n          }}\n          onClick={() => onDealClick && onDealClick(deal)}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.backgroundColor = ''#F3F4F6'';\n            e.currentTarget.style.transform = ''translateY(-2px)'';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.backgroundColor = ''#F9FAFB'';\n            e.currentTarget.style.transform = ''translateY(0)'';\n          }}\n        >\n          <div style={{ display: ''flex'', justifyContent: ''space-between'', marginBottom: ''8px'' }}>\n            <div style={{ fontWeight: ''bold'', flex: 1 }}>{deal.DealName}</div>\n            <div style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'' }}>\n              <div style={{ fontWeight: ''bold'', color: ''#059669'' }}>\n                $' + '{((deal.Amount || 0) / 1000).toFixed(0)}K\n              </div>\n              {onOpenClick && (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    onOpenClick(''Deals'', [{ FieldName: ''ID'', Value: deal.ID }]);\n                  }}\n                  style={{\n                    background: ''none'',\n                    border: ''none'',\n                    color: ''#6B7280'',\n                    cursor: ''pointer'',\n                    padding: ''2px'',\n                    fontSize: ''14px''\n                  }}\n                  title=\"Open in Explorer\"\n                >\n                  <i className=\"fa-solid fa-up-right-from-square\"></i>\n                </button>\n              )}\n            </div>\n          </div>\n          <div style={{ fontSize: ''14px'', color: ''#6B7280'', marginBottom: ''4px'' }}>\n            {deal.AccountName || ''No Account''}\n          </div>\n          <div style={{ display: ''flex'', justifyContent: ''space-between'', fontSize: ''12px'', color: ''#9CA3AF'' }}>\n            <span>Close: {deal.CloseDate ? new Date(deal.CloseDate).toLocaleDateString() : ''TBD''}</span>\n            <span>{deal.Probability || 0}% probability</span>\n          </div>\n          {deal.Stage && stageColors[deal.Stage] && (\n            <div style={{ \n              marginTop: ''8px'',\n              padding: ''4px 8px'',\n              backgroundColor: stageColors[deal.Stage] || ''#6B7280'',\n              color: ''white'',\n              borderRadius: ''4px'',\n              fontSize: ''11px'',\n              display: ''inline-block''\n            }}>\n              {deal.Stage}\n            </div>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}","description":"Displays deals in an interactive card layout with open action","category":"Deals","type":"cards","dataRequirements":{"mode":"views","entities":[{"name":"Deals","displayFields":["ID","Dealname","Accountname","Stage","Amount","CloseDate","Probability","Owner","CreatedAt"],"filterFields":["CloseDate","Stage","Owner"],"sortFields":["CloseDate","Amount","Probability"]}]},"properties":[{"name":"deals","type":"array","description":"Array of deal objects to display","required":true},{"name":"stageColors","type":"object","description":"Optional object mapping stage names to colors","required":true},{"name":"onDealClick","type":"function","description":"Callback when a deal card is clicked","required":true},{"name":"onOpenClick","type":"function","description":"Callback when the open icon is clicked, receives entityName and primaryKey array","required":true}],"events":[{"name":"onDealSelect","description":"Fired when a deal card is clicked","parameters":[{"name":"deal","type":"object","description":"The deal object that was clicked"}]},{"name":"onDealOpen","description":"Fired when the open icon is clicked","parameters":[{"name":"entityName","type":"string","description":"Name of the entity (Deals)"},{"name":"primaryKey","type":"array","description":"Array of key-value pairs for composite primary key"}]}],"usageExample":"```javascript\n<DealCards\n  deals={filteredDeals}\n  stageColors={stageColors}\n  onDealClick={(deal) => console.log(''Deal clicked:'', deal)}\n  onOpenClick={(entityName, primaryKey) => callbacks.OpenEntityRecord(entityName, primaryKey)}\n/>\n```","functionalRequirements":"- Display deal cards in a responsive grid\n- Show deal name, amount, account, close date, probability, and stage\n- Format currency values appropriately\n- Include open icon button for external navigation\n- Show hover effects on cards\n- Color-code stage badges","technicalDesign":"Renders deal information in card format with hover states. Uses formatCurrency for amounts. Includes Font Awesome icon for opening deals externally. Stage badges use dynamic colors from stageColors prop."}'
SET
  @FunctionalRequirements_0c968a5d = N'- Display deal cards in a responsive grid
- Show deal name, amount, account, close date, probability, and stage
- Format currency values appropriately
- Include open icon button for external navigation
- Show hover effects on cards
- Color-code stage badges'
SET
  @TechnicalDesign_0c968a5d = N'Renders deal information in card format with hover states. Uses formatCurrency for amounts. Includes Font Awesome icon for opening deals externally. Stage badges use dynamic colors from stageColors prop.'
SET
  @FunctionalRequirementsVector_0c968a5d = N'[-0.010120376944541931,-0.018447402864694595,-0.013489312492311,-0.026303905993700027,0.022069651633501053,0.016718324273824692,0.045063164085149765,0.07693605870008469,-0.04200735688209534,-0.025223586708307266,-0.02470339648425579,0.01369867566972971,0.021452879533171654,0.18218736350536346,-0.01091085746884346,-0.08094757050275803,-0.016070937737822533,-0.02761564590036869,0.023877177387475967,0.014828415587544441,-0.03000529296696186,-0.02490789070725441,-0.02520141936838627,-0.0003720677923411131,0.03685994818806648,-0.01354319415986538,-0.06121775880455971,0.02014048770070076,-0.0023046359419822693,-0.07537636905908585,-0.011226105503737926,0.038751691579818726,-0.05054233968257904,-0.04189620912075043,0.0000018042545661955955,-0.032556381076574326,-0.0085072610527277,-0.004793067928403616,0.015233729965984821,0.028072750195860863,0.035698939114809036,0.004295636899769306,0.06024094298481941,0.012833804823458195,0.006973532028496265,-0.14594009518623352,-0.026805030182003975,0.11662957817316055,-0.01841866783797741,-0.036126744002103806,0.006717746611684561,-0.027098121121525764,0.002371865091845393,-0.013220536522567272,0.023465491831302643,0.013277861289680004,0.007986471988260746,-0.041779935359954834,-0.013887089677155018,-0.01197837758809328,0.01807939074933529,-0.005887174978852272,0.033902574330568314,-0.02854429930448532,0.024519966915249825,0.028568971902132034,0.013400241732597351,-0.0019523632945492864,0.007203134708106518,-0.02170448750257492,0.0043708644807338715,0.013000180944800377,-0.02806011028587818,-0.052235860377550125,0.006694726180285215,-0.0092129185795784,-0.018184177577495575,0.049044013023376465,0.046707235276699066,-0.01831611432135105,-0.030639462172985077,-0.0015843649161979556,-0.017384439706802368,-0.003499366343021393,0.030629608780145645,0.003713333047926426,0.025994226336479187,-0.0008581613656133413,-0.015467946417629719,-0.0064565143547952175,-0.015963690355420113,-0.020183177664875984,-0.030588552355766296,-0.01899401657283306,-0.04577116295695305,-0.0028607791755348444,0.022898033261299133,0.03437552601099014,0.014811725355684757,0.03614823892712593,-0.027819138020277023,0.027242502197623253,0.05169186741113663,0.007877591997385025,0.05535832792520523,-0.004999141208827496,-0.028127005323767662,-0.016405392438173294,-0.027605459094047546,0.07711722701787949,0.03618696331977844,0.007061703596264124,-0.021224694326519966,0.051331426948308945,-0.094889335334301,-0.02186795137822628,-0.038535814732313156,-0.004248379729688168,0.060359831899404526,0.02476806938648224,0.1405821591615677,0.014362828806042671,-0.00825873576104641,0.027966761961579323,0.003058236325159669,0.020185044035315514,-0.04441225156188011,-0.03536245971918106,0.024187691509723663,0.040640417486429214,-0.02214221842586994,0.008167019113898277,-0.012249826453626156,-0.025299884378910065,-0.025115853175520897,-0.021225063130259514,0.03849773481488228,0.028494512662291527,-0.009339598938822746,0.014718718826770782,-0.004439693875610828,0.007026744540780783,-0.015574543736875057,0.011572287417948246,-0.016814587637782097,0.02889104001224041,-0.00972343236207962,0.05936391279101372,0.023722080513834953,0.027070514857769012,0.003694789484143257,-0.007822927087545395,0.004737428855150938,-0.005546298809349537,-0.050396375358104706,0.023969003930687904,-0.0005294679431244731,-0.06175490841269493,0.01198903564363718,0.02668716013431549,0.001491780043579638,-0.045452605932950974,0.0387556292116642,0.013011069037020206,-0.057309720665216446,-0.003051724284887314,0.005999316461384296,-0.020858976989984512,0.044236160814762115,-0.005770325195044279,0.0006314472993835807,-0.013502644374966621,-0.061523180454969406,0.014356194995343685,0.015131290070712566,-0.021043799817562103,0.04509530961513519,-0.025752613320946693,-0.03152278810739517,-0.03769027069211006,0.05772726237773895,-0.07383282482624054,0.021251030266284943,0.013932966627180576,0.06655222177505493,0.006071928888559341,-0.049852121621370316,0.006038007792085409,-0.007192679215222597,-0.0017467226134613156,-0.01240033470094204,-0.012345192953944206,-0.04106319323182106,0.011839876882731915,-0.010678702034056187,-0.018689025193452835,-0.0546441376209259,-0.04646959528326988,0.056600652635097504,-0.011942722834646702,-0.00819210521876812,-0.048080358654260635,0.0035557271912693977,0.04673147201538086,0.06586915254592896,0.056239064782857895,0.048110559582710266,-0.063761867582798,-0.10915853083133698,0.05044756457209587,0.060059648007154465,0.008715135045349598,-0.05356255918741226,0.01074740756303072,-0.03728139400482178,0.0027397177182137966,0.012923418544232845,0.03929828107357025,-0.021224703639745712,-0.030514497309923172,-0.029069531708955765,0.012172927148640156,0.038998525589704514,0.005960521753877401,0.1634872555732727,-0.03889398276805878,-0.006415798328816891,-0.031553372740745544,0.04136752709746361,0.006206999532878399,-0.005406523123383522,-0.03014097735285759,0.017753735184669495,0.023138271644711494,0.040432218462228775,0.027614999562501907,0.02202737145125866,0.03686351329088211,0.020706312730908394,0.038503874093294144,-0.01771317794919014,-0.005541480612009764,-0.004309036303311586,0.026648610830307007,0.01946987211704254,-0.008218592964112759,-0.015087692067027092,-0.002457072027027607,0.008882999420166016,0.018386509269475937,-0.007502453867346048,0.04617738351225853,0.08032730221748352,-0.015407441183924675,0.022100117057561874,0.04803499951958656,-0.015557087026536465,-0.0029871338047087193,-0.05104236677289009,0.047815948724746704,0.006052977405488491,-0.025878215208649635,-0.03487199917435646,-0.02418138086795807,0.03340279683470726,-0.009977279230952263,0.057767536491155624,-0.01073934230953455,-0.0100385257974267,0.01584615185856819,0.014859577640891075,0.028344938531517982,0.009188851341605186,-0.02786652185022831,-0.003987564705312252,0.060623183846473694,-0.037823520600795746,0.010820056311786175,-0.01099469792097807,0.0051114363595843315,0.010400347411632538,-0.04851411655545235,-0.010020778514444828,0.015491005033254623,0.002560768974944949,0.0002995130780618638,0.017925744876265526,-0.05600651726126671,0.01629059575498104,-0.041993360966444016,0.056166503578424454,-0.010228795930743217,0.039050403982400894,-0.03490264713764191,-0.06149744242429733,0.025983942672610283,-0.05638726055622101,0.0193528663367033,-0.05673735961318016,0.010732520371675491,-0.030274342745542526,-0.04608312249183655,-0.03259141743183136,0.008703636936843395,-0.010049257427453995,-0.02028404362499714,-0.02545078471302986,-0.007330887019634247,0.01908986270427704,0.08569806069135666,0.013411051593720913,0.045221392065286636,0.029061565175652504,-0.07278364151716232,0.011452686041593552,0.00796772912144661,-0.001937731052748859,0.05267813801765442,0.0012245997786521912,0.016595665365457535,0.009200495667755604,-0.025737406685948372,-0.007772084791213274,-0.024781346321105957,-0.04789811000227928,0.008948015980422497,0.014414781704545021,-0.0108853280544281,0.0052428292110562325,-0.03245101496577263,0.014069040305912495,0.011783894151449203,-0.010103580541908741,-0.031106770038604736,-0.04240941256284714,0.022496910765767097,-0.020824074745178223,-0.08943013101816177,0.04801882058382034,-0.028297530487179756,-0.04918989911675453,-0.01665511168539524,-0.014931212179362774,-0.01489074807614088,0.05580531805753708,0.007498395163565874,0.0849313735961914,0.014816822484135628,-0.13726691901683807,0.054411668330430984,0.04322154447436333,0.03346028923988342,-0.011461079120635986,-0.018757561221718788,0.019253330305218697,0.025283867493271828,-0.002472060266882181,-0.011973229236900806,-0.014683551155030727,-0.05812665447592735,-0.021680837497115135,0.007713068276643753,0.0258480254560709,-0.0032352048438042402,0.02874169684946537,0.05623854696750641,0.02360313944518566,-0.018437476828694344,0.022604873403906822,0.014864642173051834,-0.03444560244679451,0.02030581794679165,0.038563065230846405,0.04859394207596779,-0.005192715208977461,-0.014700174331665039,0.0005662078037858009,0.013771574944257736,-0.015551800839602947,-0.0018181126797571778,0.06363991647958755,-0.025748230516910553,0.07855785638093948,-0.03815215453505516,0.07629154622554779,0.03050120919942856,0.0065024239011108875,0.018291572108864784,-0.037654269486665726,0.016246821731328964,-0.0029031888116151094,-0.0047153206542134285,-0.03171350434422493,0.03157832473516464,-0.039424508810043335,0.026249246671795845,0.01666591688990593,0.038646817207336426,-0.02229120582342148,-0.014285106211900711,-0.029557639732956886,0.04567401856184006,0.06055627763271332,-0.024461979046463966,0.040575459599494934,-0.03512421250343323,-0.055660881102085114,0.02216007187962532,0.03622875362634659,-0.08154700696468353,-0.07706058025360107,-0.047707974910736084,-0.018673740327358246,-0.033134136348962784,-0.04704609140753746,0.0012113346019759774,0.011765772476792336,-0.010011618956923485,0.000680931843817234,0.01395114790648222,-0.04185215011239052,-0.0029162114951759577,0.0018982859328389168,0.00738472118973732,-0.003226678119972348,-0.02130155824124813,-0.0285484679043293,-0.07470148056745529,0.009026442654430866,0.021903978660702705,0.025420239195227623,-0.006994524970650673,-0.015057006850838661,0.03706737607717514,-0.03662513941526413,0.04636944457888603,-0.044068798422813416,0.05811285600066185,0.008939234539866447,-0.002359276870265603,-0.02526233159005642,-0.012644819915294647,0.029212357476353645,-0.0025891626719385386,-0.04295767843723297,-0.07397231459617615,0.013043835759162903,0.019060956314206123,0.031290508806705475,-0.05873614177107811,-0.05429287999868393,0.02187219075858593,-0.019857805222272873,-0.017513178288936615,-0.05194784328341484,-0.0290619395673275,0.004467392340302467,0.05235845595598221,0.006397934630513191,-0.01807541400194168,0.025828633457422256,0.0332481674849987,-0.0437786690890789,0.032883282750844955,0.02382139302790165,-0.09344244003295898,-0.015650980174541473,-0.041242826730012894,-0.012832235544919968,-0.009550217539072037,0.03996790945529938,0.005442813038825989,-0.046600259840488434,-0.034861791878938675,0.02181103080511093,-0.0006922230822965503,0.031118756160140038,-0.00572747690603137,-0.0010206528240814805,0.001065511372871697,0.0037839249707758427,0.026363473385572433,-0.016301091760396957,-0.12087797373533249,0.010716118849813938,0.06744701415300369,-0.04400307312607765,-0.023378588259220123,0.020352046936750412,-0.013063146732747555,0.033450428396463394,0.01999557390809059,0.015395707450807095,0.036621518433094025,0.0135642783716321,-0.005051656160503626,-0.025965232402086258,-0.01206960342824459,-0.002963168080896139,-0.06049412116408348,-0.04651356860995293,-0.02277805656194687,-0.017096756026148796,-0.039109889417886734,-0.034598641097545624,-0.03780779987573624,0.030640456825494766,0.019930696114897728,-0.038493938744068146,-0.02296360395848751,0.05626535788178444,-0.04296899959445,-0.002938550431281328,-0.019096896052360535,0.018975041806697845,0.07530320435762405,-0.026228995993733406,0.04074929654598236,-0.05498020723462105,-0.01133575290441513,0.022422078996896744,0.011148236691951752,-0.05657975375652313,0.016954194754362106,0.05559491738677025,0.012046393938362598,0.0395389087498188,-0.015735242515802383,-0.006528656464070082,0.017971761524677277,-0.034571144729852676,0.015781095251441002,0.0014815578470006585,0.012061966583132744,-0.0002943613799288869,0.025292104110121727,-0.00838978961110115,0.08757274597883224,-0.014099746942520142,-0.02237556129693985,-0.03866427391767502,0.028247999027371407,0.05007863789796829,0.013312768191099167,0.003399487119168043,0.035799749195575714,-0.028724990785121918,-0.06485455483198166,0.01604866236448288,0.0009136152802966535,0.00883589219301939,0.008384657092392445,-0.060242775827646255,0.03849000111222267,-0.06180701404809952,-6.1057659813525725e-33,-0.051354698836803436,-0.033716652542352676,-0.013375104404985905,0.013248913921415806,0.030241308733820915,-0.0006035066326148808,-0.007949955761432648,-0.03789062798023224,0.011872704140841961,0.013821749947965145,0.004575959872454405,-0.06417933851480484,0.022503862157464027,0.014540770091116428,0.0029431588482111692,-0.032408457249403,0.029749508947134018,-0.001535358838737011,0.013919185847043991,0.005839931778609753,-0.045825108885765076,0.01745305396616459,0.005090989638119936,0.0015939142322167754,-0.03553901985287666,-0.06730742007493973,-0.0007320953300222754,0.025959568098187447,0.04212457686662674,0.03656082600355148,-0.02718958631157875,-0.017187684774398804,-0.06364887952804565,-0.03650021553039551,0.029245873913168907,0.012295873835682869,-0.011214091442525387,-0.013155803084373474,0.011025398969650269,0.04391897842288017,0.08351285755634308,-0.0003103805356658995,0.01679898612201214,0.007629636209458113,-0.011860344558954239,0.008307046256959438,-0.004860320128500462,-0.0070626200176775455,-0.0062585435807704926,-0.060939282178878784,0.0028945954982191324,0.020661626011133194,0.020294222980737686,0.04620034992694855,0.0018082361202687025,-0.013439121656119823,0.04649992659687996,-0.049439381808042526,-0.009262689389288425,0.030077580362558365,-0.03255057334899902,-0.040595218539237976,0.044580765068531036,0.006110501475632191,0.020746393129229546,0.02036510407924652,-0.03551763668656349,0.018887117505073547,0.005911724641919136,0.018637841567397118,-0.008771922439336777,0.002222125418484211,0.03030207008123398,-0.026898253709077835,-0.017335129901766777,0.07226114720106125,0.02831476740539074,0.0003363005816936493,0.03894044831395149,0.11381959915161133,-0.007038474082946777,0.023031217977404594,-0.0018473248928785324,0.02483871579170227,-0.0058613973669707775,-0.03772244229912758,0.003040322568267584,-0.010804388672113419,0.053355198353528976,0.02211637794971466,0.005788980983197689,0.04959632083773613,-0.024718450382351875,0.018269797787070274,-0.04790190979838371,-0.013687578029930592,0.10028482973575592,0.051612257957458496,-0.02531055174767971,-0.05460475757718086,0.05298732966184616,-0.04975870996713638,0.02337491139769554,-0.05619043484330177,-0.02058175392448902,-0.0058667403645813465,-0.021113356575369835,-0.012744160369038582,-0.0513550266623497,0.0005802058731205761,0.027743453159928322,0.02013392187654972,-0.005560616962611675,-0.02970086969435215,-0.010489202104508877,-0.005618324503302574,-0.030926957726478577,-0.049667466431856155,0.016506964340806007,0.041072744876146317,0.01769363507628441,0.022185135632753372,-0.009889796376228333,0.0071158939972519875,0.08036623895168304,-0.00782497227191925,-0.01800508424639702,0.02840329334139824,-0.013942018151283264,0.019569572061300278,-0.006642986088991165,0.04285138100385666,2.7268947633274365e-7,0.018503300845623016,0.03714417293667793,-0.04678940400481224,-0.014371694065630436,0.0019845818169414997,-0.04928351566195488,-0.01878325827419758,-0.06703163683414459,0.03140907362103462,-0.03435351699590683,0.021482938900589943,0.004561669658869505,0.019570011645555496,0.05608101934194565,0.01577063463628292,-0.024044623598456383,0.012265687808394432,-0.05021393299102783,-0.036761168390512466,0.03960176184773445,0.06205699220299721,0.015437157824635506,0.058231521397829056,0.03104090876877308,-0.006133714225143194,-0.019241565838456154,0.010175052098929882,-0.02183976210653782,-0.007470421027392149,-0.053745221346616745,-0.044973213225603104,0.02495872974395752,-0.03484894707798958,0.010206547565758228,0.025927459821105003,0.021708426997065544,0.0021998437587171793,-0.012214180082082748,0.057313960045576096,0.07185041159391403,0.02030772715806961,-0.04306309297680855,-0.02055775374174118,-0.06293563544750214,-0.010036849416792393,-0.05857156217098236,0.0054516904056072235,0.014003234915435314,-0.045215729624032974,-0.009307682514190674,0.022689852863550186,-0.009885682724416256,0.04664352908730507,-0.03835677728056908,0.01169843040406704,-0.009319714270532131,-0.03417652100324631,0.03997499495744705,-0.015171995386481285,0.028979774564504623,0.004884229972958565,-0.013784256763756275,0.02348451316356659,-0.037469055503606796,0.043681319802999496,-0.0651186853647232,-0.001957037951797247,3.368117101528474e-34,0.03711235150694847,-0.02312791347503662,0.002601711545139551,0.05142795667052269,0.024141492322087288,-0.028239518404006958,0.09713214635848999,-0.03242029622197151,0.015913458541035652,-0.084006667137146,-0.011438394896686077]'
SET
  @TechnicalDesignVector_0c968a5d = N'[-0.019101090729236603,-0.027092644944787025,-0.00958795566111803,-0.010615847073495388,-0.00492442399263382,0.0014313248684629798,0.005125262308865786,0.08388848602771759,-0.11490485817193985,-0.0511668398976326,0.0027269364800304174,0.017376156523823738,0.03763362020254135,0.18132953345775604,0.01001681387424469,-0.10222528874874115,-0.03485143184661865,-0.014804111793637276,0.009113348089158535,0.009142868220806122,0.017401577904820442,-0.0069245509803295135,-0.039739467203617096,-0.013526336289942265,-0.014126171357929707,-0.044865645468235016,-0.04610813781619072,0.016914164647459984,0.024793947115540504,-0.06376935541629791,0.0005608114297501743,0.04532945528626442,-0.058602459728717804,-0.02080174721777439,0.0000017933715525941807,-0.028771549463272095,0.0018014343222603202,0.01110685896128416,-0.004120388999581337,0.03578661382198334,0.05046427622437477,-0.007749105338007212,0.05492933467030525,-0.0035126798320561647,0.003539344295859337,-0.1584225296974182,-0.003955972380936146,0.10570627450942993,0.04434845596551895,-0.010072261095046997,0.008143569342792034,0.009762639179825783,-0.0030919003766030073,0.006764302961528301,0.011913060210645199,0.07398895919322968,0.010504767298698425,-0.049078550189733505,0.013841959647834301,0.0213854368776083,0.012682930566370487,-0.0181503277271986,0.006469324231147766,-0.027599532157182693,0.017750360071659088,0.01998061127960682,-0.0007509596180170774,0.013878093101084232,0.004196378868073225,0.025314277037978172,0.04572967067360878,0.022027548402547836,-0.02397347427904606,-0.011069021187722683,-0.009529581293463707,-0.027317272499203682,-0.007711725775152445,0.029012514278292656,0.0027338939253240824,-0.024146709591150284,-0.04849632456898689,-0.013089070096611977,-0.02106633596122265,-0.01833377592265606,0.025737354531884193,0.0260077603161335,0.031090933829545975,-0.008100748062133789,-0.038584548979997635,-0.012863804586231709,-0.022232715040445328,-0.03626267611980438,-0.05034728720784187,0.020905643701553345,-0.010071733966469765,-0.005576280411332846,0.005010711960494518,0.01946619153022766,0.014024519361555576,0.04099513590335846,0.0035077505744993687,0.06371234357357025,-0.07383240759372711,0.024103811010718346,0.05481063947081566,0.016401736065745354,-0.026625949889421463,-0.049897510558366776,-0.01339910738170147,0.03753875195980072,0.008456015028059483,0.00015803561836946756,-0.03464650735259056,0.04116025194525719,-0.06736660748720169,-0.009968669153749943,-0.015414267778396606,-0.021560367196798325,-0.002286452567204833,0.028050947934389114,0.14798639714717865,-0.007780816406011581,-0.0008208574145101011,0.022982165217399597,-0.0017008924623951316,0.03478153422474861,-0.03792470693588257,-0.04090390354394913,0.031039921566843987,0.02039797604084015,-0.02267453633248806,-0.011036060750484467,0.016251176595687866,-0.02775825746357441,-0.031979307532310486,-0.037078067660331726,0.014320552349090576,0.030514493584632874,-0.005942950956523418,0.033609453588724136,0.0356883779168129,0.02464982308447361,-0.031353410333395004,0.015307284891605377,-0.019059401005506516,0.00924508273601532,0.008494599722325802,-0.006744306068867445,-0.007121620699763298,0.0030428178142756224,0.020390314981341362,0.015430513769388199,-0.05708104744553566,-0.006906741764396429,-0.08105610311031342,0.0037847196217626333,-0.02185169793665409,-0.01428203284740448,-0.015756266191601753,0.026556346565485,0.0001619177928660065,-0.04860817641019821,0.051602598279714584,0.0207310039550066,-0.038428205996751785,0.015324645675718784,-0.07855740189552307,-0.019972242414951324,0.025393368676304817,-0.022352442145347595,-0.020701201632618904,-0.008476353250443935,-0.03921155631542206,-0.014988596551120281,0.013910139910876751,-0.0666976049542427,0.05700892582535744,-0.026829233393073082,-0.03453955426812172,-0.005048263818025589,0.08385533094406128,-0.11740227043628693,0.03162556141614914,0.014338649809360504,0.043697334825992584,-0.0016818840522319078,-0.09553882479667664,0.004470860585570335,-0.01753540150821209,-0.015494701452553272,-0.04930251091718674,-0.0029836201574653387,-0.00947667472064495,0.023901667445898056,-0.017008734866976738,-0.006683304440230131,-0.03335988521575928,-0.015539972111582756,0.0661887526512146,0.00841455440968275,0.021978918462991714,-0.013974678702652454,0.03549277037382126,0.09121201932430267,0.03488431125879288,0.029816802591085434,0.043510161340236664,-0.053406473249197006,-0.08833107352256775,0.05479066073894501,0.020047646015882492,-0.01175073441118002,-0.009027468971908092,-0.009952208027243614,-0.029838865622878075,-0.04462025314569473,0.042346417903900146,0.015232274308800697,-0.0650617927312851,0.0005359801580198109,-0.02934339828789234,0.0029167947359383106,0.06483541429042816,-0.006521956529468298,0.1764581799507141,-0.040059566497802734,0.009817440994083881,-0.03318757563829422,0.04071573540568352,0.014849048107862473,-0.04043669253587723,-0.024224966764450073,0.005643360782414675,0.013630696572363377,0.0271050576120615,0.06829802691936493,0.061813030391931534,0.022541293874382973,0.03343266621232033,-0.0005563791492022574,-0.03155273199081421,-0.015496491454541683,-0.025496911257505417,-0.012149497866630554,-0.009164783172309399,-0.02120424434542656,-0.022638674825429916,0.0017281301552429795,-0.026681626215577126,0.009521040134131908,0.04181458801031113,0.058762192726135254,0.0375431552529335,-0.0449848547577858,-0.010167496278882027,0.03406462445855141,0.06418293714523315,-0.01611226610839367,-0.029663581401109695,0.020402472466230392,-0.0195383932441473,-0.0047697885893285275,-0.018429357558488846,-0.043094757944345474,0.012200628407299519,-0.0025034782011061907,0.08370325714349747,0.004127217456698418,-0.010484986007213593,0.001023240271024406,0.008843389339745045,0.026121603325009346,-0.0011665973579511046,-0.023126645013689995,0.010915400460362434,0.01609184220433235,-0.039831649512052536,-0.011966231279075146,-0.02128816582262516,0.005494200624525547,0.0013632334303110838,-0.04116780310869217,-0.023022692650556564,0.02231871336698532,0.017890876159071922,-0.004373136907815933,-0.01328031625598669,-0.02563193067908287,-0.006499962415546179,-0.08960913866758347,0.02599431201815605,-0.023975662887096405,0.01964261755347252,-0.036578468978405,-0.03604564070701599,-0.0017753832507878542,-0.03379097208380699,0.02232498861849308,-0.011980203911662102,0.029368510469794273,-0.03189043328166008,-0.05482323095202446,0.0029782422352582216,0.001402715570293367,-0.0004808855301234871,0.02294284664094448,-0.01685907505452633,0.0057082949206233025,0.023653944954276085,0.11062245815992355,0.013833969831466675,0.025133812800049782,-0.008891352452337742,-0.045917168259620667,0.006804193835705519,0.006399034522473812,-0.006061261519789696,0.06296157836914062,0.0241891760379076,0.055847857147455215,0.028446964919567108,-0.016708627343177795,-0.018950704485177994,-0.034344471991062164,-0.022215822711586952,0.038869328796863556,0.008058561012148857,-0.01886053942143917,-0.04753204807639122,-0.016780344769358635,0.0011396438349038363,-0.006827940233051777,0.006295949220657349,0.02662692219018936,-0.01364453136920929,0.019502978771924973,-0.016330109909176826,-0.08956976979970932,0.03133230283856392,-0.016431836411356926,-0.025258265435695648,-0.024637063965201378,-0.0023235823027789593,-0.010423139669001102,0.038140617311000824,-0.010407607071101665,0.015393972396850586,0.018156027421355247,-0.10222733020782471,0.05384154990315437,0.020109158009290695,0.033932823687791824,0.00861155241727829,-0.01978057436645031,0.017139406874775887,0.05738360434770584,-0.026557324454188347,-0.02467627450823784,0.002176170004531741,-0.05391139164566994,-0.057588424533605576,0.010940843261778355,0.05198613181710243,0.04583005607128143,0.006811534985899925,0.052445851266384125,0.029277540743350983,0.0020905155688524246,0.010750923305749893,-0.001117792446166277,-0.052221834659576416,0.028003912419080734,0.05000476539134979,0.062252044677734375,-0.0029454512987285852,-0.01803399622440338,0.020442191511392593,0.006643252447247505,-0.040139660239219666,0.0005135972169227898,0.03008481301367283,-0.09136562049388885,0.07279583066701889,-0.034146614372730255,0.05641687288880348,0.019037609919905663,-0.017479373142123222,0.03889383375644684,0.03075694851577282,-0.02314538136124611,-0.012012442573904991,-0.02394135296344757,-0.008335773833096027,0.029044583439826965,-0.011499786749482155,0.022389205172657967,0.010166984051465988,0.0006534225540235639,0.0017725544748827815,0.008047820068895817,0.012158122844994068,0.0599382109940052,0.01893014647066593,-0.002205935074016452,0.06719028204679489,-0.0070085362531244755,-0.028772413730621338,0.026026081293821335,-0.005735515151172876,-0.06070459261536598,-0.06324417144060135,-0.0587318018078804,-0.0017227291828021407,-0.036190666258335114,-0.07396232336759567,0.0022431877441704273,-0.03326285630464554,-0.01196568924933672,0.0325203612446785,0.034696076065301895,-0.021386126056313515,0.010793972760438919,-0.020138463005423546,0.005886160768568516,-0.016351407393813133,-0.04135206341743469,-0.05903824418783188,-0.04353808984160423,0.015130843967199326,0.008914592675864697,0.024974340572953224,0.006310094613581896,-0.037057410925626755,0.021506140008568764,-0.012636328116059303,-0.0006426934851333499,-0.036545827984809875,0.08189044147729874,0.02804902009665966,-0.021183596923947334,-0.028560344129800797,-0.023739006370306015,0.022128086537122726,-0.025965312495827675,-0.028724435716867447,-0.055744439363479614,-0.006446952000260353,0.02447289414703846,0.07253657281398773,-0.06843286007642746,-0.033098381012678146,0.019874174147844315,-0.04865489900112152,-0.006802757270634174,-0.025736821815371513,-0.049901265650987625,0.008017895743250847,0.02439502254128456,0.009816006757318974,0.02742963470518589,0.04244523495435715,0.03200248256325722,-0.044966720044612885,0.017644371837377548,0.0016184046398848295,-0.0031582252122461796,-0.0008579886634834111,0.022707289084792137,0.0009969923412427306,-0.023821856826543808,-0.001826025079935789,0.016777342185378075,-0.043960969895124435,-0.02447287179529667,0.04614928364753723,0.02537466585636139,0.011022436432540417,0.038628995418548584,0.009335434064269066,0.0023224824108183384,0.016881706193089485,0.02106572315096855,-0.029347654432058334,-0.051905516535043716,0.03658867999911308,0.051556751132011414,-0.029105212539434433,-0.019450679421424866,0.0013607572764158249,-0.024217937141656876,0.03833009675145149,-0.01178067922592163,0.006328725256025791,0.07402242720127106,0.044627752155065536,0.010817119851708412,-0.013623231090605259,0.015748197212815285,0.023720648139715195,-0.06652938574552536,-0.005480973515659571,-0.023819154128432274,-0.015816224738955498,-0.035453375428915024,-0.05292193964123726,-0.02555861882865429,0.03497988358139992,0.03854464367032051,-0.015855584293603897,-0.016023900359869003,0.06726505607366562,0.00045840427628718317,0.03510234132409096,-0.009872865863144398,0.02564903348684311,0.07962319254875183,-0.021432189270853996,0.018301285803318024,-0.01458002720028162,-0.01978115364909172,0.025118334218859673,-0.002279919106513262,-0.007948643527925014,0.002650592476129532,0.030890680849552155,0.04994216933846474,0.019083654507994652,-0.007178702391684055,-0.007398296147584915,0.04909743741154671,-0.04007769748568535,0.04655488580465317,0.009068013168871403,0.048210106790065765,-0.014786120504140854,0.060395147651433945,-0.06279461830854416,0.051469165831804276,-0.001347999437712133,-0.016922371461987495,-0.038536712527275085,-0.017459720373153687,0.06787177920341492,0.0016157920472323895,0.018764572218060493,0.014357739128172398,-0.008461665362119675,-0.06270269304513931,0.014846510253846645,-0.008797766640782356,0.042976949363946915,0.0035064888652414083,-0.07155817002058029,0.016470076516270638,-0.014499503187835217,-6.455081025430708e-33,-0.04815444350242615,-0.013733386993408203,-0.0116862952709198,-0.006719882134348154,0.002162246499210596,0.019858507439494133,-0.03128250315785408,-0.04223056137561798,-0.01528015173971653,0.027248511090874672,-0.017075566574931145,-0.045476626604795456,0.018190883100032806,0.04266982525587082,-0.0020511189941316843,-0.027057234197854996,0.030363403260707855,0.036727651953697205,0.009248005226254463,0.0008598252898082137,-0.050104547291994095,-0.002691016998142004,0.028961023315787315,-0.042696595191955566,-0.025431068614125252,-0.057307060807943344,-0.024945726618170738,0.05262398719787598,0.026965202763676643,0.04083450883626938,-0.028851928189396858,-0.0008416505879722536,-0.051213596016168594,0.005538449622690678,0.037087880074977875,0.005755409132689238,0.011511960998177528,-0.026649734005331993,0.023191899061203003,0.0145426569506526,0.06511847674846649,-0.011942491866648197,-0.0027737109921872616,0.02992221526801586,0.0017495612846687436,0.009625762701034546,-0.00352524034678936,0.0010918662883341312,-0.021296042948961258,-0.047616973519325256,0.014723792672157288,0.018664363771677017,-0.023846939206123352,0.042471181601285934,-0.01374933309853077,-0.006373843643814325,0.03263159468770027,-0.039324238896369934,-0.01844996213912964,0.003317157970741391,-0.059198684990406036,-0.05317660793662071,0.013280948624014854,0.038261789828538895,0.0447993129491806,0.014304730109870434,-0.0383281409740448,0.06446003168821335,-0.017301693558692932,0.037500251084566116,-0.0015387932071462274,0.00018901364819612354,0.05040021613240242,-0.016173314303159714,-0.07303865253925323,0.042112693190574646,0.06617185473442078,0.0055583445355296135,0.11658108979463577,0.0795949399471283,-0.009180876426398754,0.0370149239897728,0.0060768271796405315,0.026932524517178535,-0.03601187467575073,-0.03619324415922165,0.011079664342105389,-0.005907441955059767,0.020555198192596436,0.01937808282673359,0.02693670056760311,0.05398790165781975,-0.02694418653845787,0.04398602992296219,-0.03187976032495499,-0.006880598608404398,0.05838129296898842,0.06605564802885056,-0.015202982351183891,-0.04991336539387703,0.051172539591789246,-0.00476630125194788,-0.01162664033472538,-0.03231438621878624,-0.02378246560692787,0.006525435484945774,-0.009726046584546566,0.002050559502094984,-0.06085667759180069,0.0012981436448171735,0.028790706768631935,0.0036446747835725546,-0.02796490117907524,-0.07693705707788467,0.012849402613937855,-0.0006366000161506236,-0.015363967977464199,-0.06019566208124161,0.012610681354999542,0.04445091634988785,0.050565533339977264,0.027513042092323303,-0.005444523878395557,0.013212250545620918,0.019916564226150513,-0.01566215418279171,-0.035296931862831116,-0.020250972360372543,-0.007482501212507486,-0.0069068619050085545,-0.0002182276948587969,0.015796255320310593,2.7738366270568804e-7,0.01731915771961212,0.046484336256980896,-0.014697222039103508,0.00608266843482852,0.017952026799321175,-0.04685404151678085,-0.022295111790299416,-0.034509483724832535,-0.00040885520866140723,-0.04474804177880287,0.006389707792550325,0.010245689190924168,0.002032411517575383,0.03306052088737488,0.043941281735897064,-0.022000545635819435,-0.0542871356010437,-0.06407566368579865,-0.03289264440536499,0.02438640594482422,0.04780813306570053,0.00726458290591836,0.05860893055796623,0.02334582805633545,0.010948327369987965,0.0014981915010139346,0.04073002561926842,-0.005159256514161825,0.0028675682842731476,-0.05080030485987663,-0.01544075645506382,-0.017914239317178726,-0.020650064572691917,-0.013856901787221432,0.03408404439687729,0.004832059610635042,-0.004843336064368486,0.014843042008578777,0.04861925169825554,0.10473566502332687,0.002138793235644698,-0.008976894430816174,-0.023013202473521233,-0.05072007700800896,0.04000917449593544,0.022398730739951134,-0.0031280312687158585,-0.04937261343002319,-0.08038656413555145,-0.017306417226791382,-0.01812249980866909,-0.01797219179570675,0.005858137737959623,-0.0019387690117582679,0.010255496017634869,0.0011301558697596192,-0.008634976111352444,0.02850327640771866,-0.0024376569781452417,-0.016218507662415504,-0.018659083172678947,-0.020662998780608177,-0.0023949698079377413,0.0017301946645602584,0.04336782544851303,-0.031503282487392426,-0.02658892050385475,2.9660530341541344e-34,0.023081405088305473,-0.038118015974760056,-0.017180582508444786,0.0169250275939703,0.02150743082165718,-0.0224233977496624,0.05557572841644287,-0.03700984641909599,0.0072332220152020454,-0.0796363353729248,-0.012964085675776005]'
SET
  @HasCustomProps_0c968a5d = 1
SET
  @HasCustomEvents_0c968a5d = 1
SET
  @RequiresData_0c968a5d = 1
SET
  @DependencyCount_0c968a5d = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_0c968a5d = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_0c968a5d = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_0c968a5d = 1
SET
  @ID_0c968a5d = '7DF575B5-271A-44D2-B580-20E15C5561D1'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_0c968a5d,
  @Name = @Name_0c968a5d,
  @Version = @Version_0c968a5d,
  @VersionSequence = @VersionSequence_0c968a5d,
  @Title = @Title_0c968a5d,
  @Description = @Description_0c968a5d,
  @Type = @Type_0c968a5d,
  @Status = @Status_0c968a5d,
  @DeveloperName = @DeveloperName_0c968a5d,
  @DeveloperEmail = @DeveloperEmail_0c968a5d,
  @DeveloperOrganization = @DeveloperOrganization_0c968a5d,
  @SourceRegistryID = @SourceRegistryID_0c968a5d,
  @ReplicatedAt = @ReplicatedAt_0c968a5d,
  @LastSyncedAt = @LastSyncedAt_0c968a5d,
  @Specification = @Specification_0c968a5d,
  @FunctionalRequirements = @FunctionalRequirements_0c968a5d,
  @TechnicalDesign = @TechnicalDesign_0c968a5d,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_0c968a5d,
  @TechnicalDesignVector = @TechnicalDesignVector_0c968a5d,
  @HasCustomProps = @HasCustomProps_0c968a5d,
  @HasCustomEvents = @HasCustomEvents_0c968a5d,
  @RequiresData = @RequiresData_0c968a5d,
  @DependencyCount = @DependencyCount_0c968a5d,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_0c968a5d,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_0c968a5d,
  @HasRequiredCustomProps = @HasRequiredCustomProps_0c968a5d,
  @ID = @ID_0c968a5d;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_983bef97 NVARCHAR(MAX),
@Name_983bef97 NVARCHAR(500),
@Version_983bef97 NVARCHAR(50),
@VersionSequence_983bef97 INT,
@Title_983bef97 NVARCHAR(1000),
@Description_983bef97 NVARCHAR(MAX),
@Type_983bef97 NVARCHAR(255),
@Status_983bef97 NVARCHAR(50),
@DeveloperName_983bef97 NVARCHAR(255),
@DeveloperEmail_983bef97 NVARCHAR(255),
@DeveloperOrganization_983bef97 NVARCHAR(255),
@SourceRegistryID_983bef97 UNIQUEIDENTIFIER,
@ReplicatedAt_983bef97 DATETIMEOFFSET,
@LastSyncedAt_983bef97 DATETIMEOFFSET,
@Specification_983bef97 NVARCHAR(MAX),
@FunctionalRequirements_983bef97 NVARCHAR(MAX),
@TechnicalDesign_983bef97 NVARCHAR(MAX),
@FunctionalRequirementsVector_983bef97 NVARCHAR(MAX),
@TechnicalDesignVector_983bef97 NVARCHAR(MAX),
@HasCustomProps_983bef97 BIT,
@HasCustomEvents_983bef97 BIT,
@RequiresData_983bef97 BIT,
@DependencyCount_983bef97 INT,
@TechnicalDesignVectorEmbeddingModelID_983bef97 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_983bef97 NVARCHAR(MAX),
@HasRequiredCustomProps_983bef97 BIT,
@ID_983bef97 UNIQUEIDENTIFIER
SET
  @Namespace_983bef97 = N'CRM/Dashboard'
SET
  @Name_983bef97 = N'DealList'
SET
  @Version_983bef97 = N'1.0.0'
SET
  @VersionSequence_983bef97 = 1
SET
  @Title_983bef97 = N'Deal List'
SET
  @Description_983bef97 = N'Displays deals in a sortable table format with open action'
SET
  @Type_983bef97 = N'Other'
SET
  @Status_983bef97 = N'Published'
SET
  @Specification_983bef97 = N'{"name":"DealList","location":"embedded","code":"function DealList({ deals, stageColors = {}, onDealClick, onOpenClick }) {\n  return (\n    <table style={{ width: ''100%'', borderCollapse: ''collapse'' }}>\n      <thead>\n        <tr style={{ borderBottom: ''2px solid #E5E7EB'' }}>\n          <th style={{ padding: ''8px'', textAlign: ''left'', fontSize: ''12px'', color: ''#6B7280'' }}>Deal</th>\n          <th style={{ padding: ''8px'', textAlign: ''left'', fontSize: ''12px'', color: ''#6B7280'' }}>Stage</th>\n          <th style={{ padding: ''8px'', textAlign: ''right'', fontSize: ''12px'', color: ''#6B7280'' }}>Amount</th>\n          <th style={{ padding: ''8px'', width: ''30px'' }}></th>\n        </tr>\n      </thead>\n      <tbody>\n        {deals.map((deal, index) => (\n          <tr\n            key={deal.ID || index}\n            style={{\n              borderBottom: ''1px solid #F3F4F6'',\n              cursor: ''pointer'',\n              transition: ''background-color 0.2s''\n            }}\n            onClick={() => onDealClick && onDealClick(deal)}\n            onMouseEnter={(e) => e.currentTarget.style.backgroundColor = ''#F9FAFB''}\n            onMouseLeave={(e) => e.currentTarget.style.backgroundColor = ''transparent''}\n          >\n            <td style={{ padding: ''12px 8px'' }}>\n              <div style={{ fontWeight: ''500'' }}>{deal.DealName}</div>\n              <div style={{ fontSize: ''12px'', color: ''#9CA3AF'' }}>{deal.AccountName}</div>\n            </td>\n            <td style={{ padding: ''12px 8px'' }}>\n              {deal.Stage && (\n                <span style={{\n                  padding: ''2px 6px'',\n                  backgroundColor: stageColors[deal.Stage] || ''#6B7280'',\n                  color: ''white'',\n                  borderRadius: ''3px'',\n                  fontSize: ''11px''\n                }}>\n                  {deal.Stage}\n                </span>\n              )}\n            </td>\n            <td style={{ padding: ''12px 8px'', textAlign: ''right'', fontWeight: ''500'' }}>\n              $' + '{((deal.Amount || 0) / 1000).toFixed(0)}K\n            </td>\n            <td style={{ padding: ''12px 8px'', textAlign: ''center'' }}>\n              {onOpenClick && (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    onOpenClick(''Deals'', [{ FieldName: ''ID'', Value: deal.ID }]);\n                  }}\n                  style={{\n                    background: ''none'',\n                    border: ''none'',\n                    color: ''#6B7280'',\n                    cursor: ''pointer'',\n                    padding: ''2px'',\n                    fontSize: ''14px''\n                  }}\n                  title=\"Open in Explorer\"\n                >\n                  <i className=\"fa-solid fa-up-right-from-square\"></i>\n                </button>\n              )}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}","description":"Displays deals in a sortable table format with open action","category":"Deals","type":"list","dataRequirements":{"mode":"views","entities":[{"name":"Deals","displayFields":["ID","Dealname","Accountname","Stage","Amount","CloseDate","Probability","Owner","CreatedAt"],"filterFields":["CloseDate","Stage","Owner"],"sortFields":["CloseDate","Amount","Probability"],"permissions":["read"]}]},"properties":[{"name":"deals","Type":"array","description":"Array of deal objects to display","required":true},{"name":"stageColors","Type":"object","description":"Optional object mapping stage names to colors","required":true},{"name":"onDealClick","Type":"function","description":"Callback when a deal row is clicked","required":true},{"name":"onOpenClick","Type":"function","description":"Callback when the open icon is clicked, receives entityName and primaryKey array","required":true}],"events":[{"name":"onDealSelect","description":"Fired when a deal row is clicked","parameters":[{"name":"deal","type":"object","description":"The deal object that was clicked"}]},{"name":"onDealOpen","description":"Fired when the open icon is clicked","parameters":[{"name":"entityName","type":"string","description":"Name of the entity (Deals)"},{"name":"primaryKey","type":"array","description":"Array of key-value pairs for composite primary key"}]}],"usageExample":"```javascript\n<DealList\n  deals={filteredDeals}\n  stageColors={stageColors}\n  onDealClick={(deal) => console.log(''Deal clicked:'', deal)}\n  onOpenClick={(entityName, primaryKey) => callbacks.OpenEntityRecord(entityName, primaryKey)}\n/>\n```","functionalRequirements":"- Display deals in a clean table format\n- Show deal name, account, stage, and amount\n- Include open icon button for external navigation\n- Show hover effects on rows\n- Color-code stage badges\n- Support row click for selection","technicalDesign":"Renders deals in table format with hover states. Formats currency values. Includes Font Awesome icon for opening deals externally. Stage badges use dynamic colors from stageColors prop."}'
SET
  @FunctionalRequirements_983bef97 = N'- Display deals in a clean table format
- Show deal name, account, stage, and amount
- Include open icon button for external navigation
- Show hover effects on rows
- Color-code stage badges
- Support row click for selection'
SET
  @TechnicalDesign_983bef97 = N'Renders deals in table format with hover states. Formats currency values. Includes Font Awesome icon for opening deals externally. Stage badges use dynamic colors from stageColors prop.'
SET
  @FunctionalRequirementsVector_983bef97 = N'[-0.016335902735590935,-0.011102886870503426,-0.003450617892667651,-0.019292565062642097,-0.004948796704411507,0.01774371601641178,0.04201719909906387,0.07556761801242828,-0.05159278213977814,-0.01005236990749836,-0.057116638869047165,0.04299014061689377,0.00539042241871357,0.163469597697258,0.03003486804664135,-0.039362113922834396,-0.0059814415872097015,-0.013580190017819405,0.026883581653237343,0.0028878962621092796,0.00215995404869318,-0.01921059936285019,-0.03732959181070328,-0.028172943741083145,-0.008736500516533852,0.0032292641699314117,-0.06515305489301682,0.012350806966423988,-0.012710771523416042,-0.04588688537478447,-0.003850493812933564,0.06910521537065506,-0.03621552512049675,-0.028808295726776123,0.0000015999952438505716,-0.010601614601910114,-0.0610225610435009,-0.019446661695837975,-0.04182935133576393,0.047603365033864975,0.05435223504900932,-0.03758974373340607,0.07096466422080994,-0.025119606405496597,-0.0022549047134816647,-0.07083858549594879,-0.027918145060539246,0.13116049766540527,-0.0016834697453305125,-0.0382409505546093,0.02514818124473095,-0.004385680425912142,-0.007128222845494747,-0.005598888732492924,0.015401680022478104,0.007940003648400307,-0.0007397494628094137,0.0013325369218364358,0.002059685066342354,0.0004960674559697509,-0.011667621321976185,-0.021313946694135666,0.026670217514038086,-0.01449519395828247,0.055235207080841064,0.010116605088114738,-0.002053056377917528,-0.0008893141057342291,0.011158877983689308,0.0027333139441907406,0.009761538356542587,-0.009840377606451511,-0.01023157499730587,-0.06839977204799652,0.007616215851157904,-0.05367337912321091,-0.013195645064115524,0.0279233381152153,0.027187909930944443,-0.030750438570976257,-0.018827080726623535,-0.01265876553952694,-0.017162464559078217,0.024358579888939857,-0.007389206904917955,-0.04166075959801674,0.0016102754743769765,-0.024701446294784546,0.023833144456148148,-0.017989832907915115,-0.004451217129826546,-0.012718956917524338,-0.017858488485217094,0.002774889813736081,-0.10009325295686722,-0.019348325207829475,0.04178794473409653,0.056288786232471466,0.018405234441161156,0.036993078887462616,-0.020062074065208435,0.04731287434697151,0.04394104704260826,0.005700556095689535,0.009680957533419132,0.012487397529184818,-0.04191073775291443,0.007930368185043335,-0.02627888135612011,0.05621904879808426,0.0242209043353796,0.02869095467031002,-0.054241422563791275,0.05709656700491905,-0.07013754546642303,-0.015634508803486824,-0.03822788968682289,-0.02446332387626171,0.0030022559221833944,0.0228717140853405,0.13446521759033203,0.018776562064886093,-0.010544711723923683,0.0056067262776196,0.03550148382782936,-0.05285263806581497,-0.04200547933578491,-0.031287092715501785,-0.00948880985379219,0.00758550688624382,-0.040722280740737915,-0.01130077987909317,0.018525997176766396,-0.03879297524690628,-0.017093194648623466,0.009903847239911556,-0.0008210355881601572,0.045024044811725616,0.010586796328425407,0.023463981226086617,-0.011701657436788082,0.004057744983583689,-0.028116904199123383,0.04406760260462761,-0.006418162025511265,0.019477033987641335,-0.018980899825692177,0.01629803329706192,0.03426934778690338,0.01408823300153017,0.025181293487548828,0.0038648119661957026,0.0056035020388662815,-0.0034265120048075914,-0.044224631041288376,0.018834812566637993,-0.03927773982286453,-0.06529740244150162,-0.0027309334836900234,0.03896224498748779,-0.005789532326161861,-0.021980958059430122,0.06426248699426651,0.007916079834103584,-0.037713754922151566,-0.010703049600124359,-0.01435515284538269,0.006381116807460785,0.014161359518766403,-0.023645520210266113,0.00900493748486042,-0.01669894903898239,-0.03556210175156593,-0.002989121712744236,0.013073655776679516,0.0023941670078784227,0.07952429354190826,0.03211800754070282,-0.03272470086812973,-0.01997535303235054,0.0836409255862236,-0.08680291473865509,0.015009279362857342,0.012349646538496017,0.08770282566547394,-0.019331926479935646,-0.061751239001750946,-0.0009726016432978213,0.004155140835791826,0.020832009613513947,-0.006111852824687958,0.019438903778791428,-0.04497276991605759,0.009644533507525921,-0.02420586533844471,-0.021753385663032532,-0.03516031801700592,-0.08093102276325226,0.04980101436376572,-0.006153782829642296,-0.015484871342778206,-0.03509870171546936,-0.01135027315467596,0.03140048682689667,0.020620232447981834,0.04878854751586914,-0.003233636263757944,-0.057054631412029266,-0.0802660658955574,0.024000076577067375,0.03649228438735008,-0.017066584900021553,-0.05246751010417938,0.01515043806284666,-0.03675012290477753,0.039268411695957184,0.00046958812163211405,0.011461068876087666,-0.036031175404787064,-0.02804267778992653,-0.016474854201078415,-0.03425765037536621,0.02114751935005188,0.023688683286309242,0.16085857152938843,0.008871466852724552,0.03242466226220131,-0.04051421955227852,0.06755267828702927,0.006418991833925247,0.034946247935295105,-0.03743675351142883,0.026727579534053802,0.012595344334840775,0.04924757406115532,0.031472522765398026,0.020526420325040817,0.05198841169476509,-0.03514767065644264,0.051273804157972336,-0.028476567938923836,-0.024612806737422943,-0.02418503351509571,0.003244581166654825,0.006068394985049963,-0.020044662058353424,-0.052855007350444794,-0.013771863654255867,0.005494642537087202,0.0036817514337599277,0.011871731840074062,0.04577544704079628,0.10284610837697983,-0.034628380089998245,-0.006331952754408121,0.04146197810769081,-0.029675062745809555,0.0008410770096816123,-0.057500336319208145,0.0725814625620842,-0.02016710676252842,-0.03152353689074516,0.0042794751934707165,-0.023122111335396767,0.04894070327281952,-0.0016889972612261772,0.07888071984052658,-0.05135685205459595,-0.015977634117007256,0.011436659842729568,0.0017347383545711637,0.015840718522667885,-0.010181053541600704,-0.01164200622588396,-0.03940223529934883,0.041109923273324966,0.014651085250079632,0.01408921368420124,-0.010157130658626556,-0.006707454100251198,-0.02561033144593239,-0.02849740907549858,-0.031981874257326126,0.023906705901026726,0.007028417196124792,-0.02642352320253849,0.005319282412528992,-0.04585420712828636,-0.0006538263987749815,-0.03166530653834343,0.049316443502902985,0.0028180815279483795,0.044239308685064316,-0.020374838262796402,-0.04483634606003761,0.03234298527240753,-0.07934488356113434,0.04551002383232117,-0.05548418313264847,0.05146188661456108,-0.03822071850299835,-0.014898194000124931,-0.003758581355214119,0.004380588885396719,0.009241423569619656,0.052037499845027924,0.043257322162389755,0.006951809860765934,0.024285070598125458,0.04428964480757713,0.014747888781130314,0.040065448731184006,0.04103011265397072,-0.08621875941753387,0.014493130147457123,0.017063330858945847,-0.04295489564538002,0.07320861518383026,-0.015222758054733276,0.035147059708833694,-0.012442406266927719,-0.016049416735768318,-0.02459191158413887,-0.010098949074745178,-0.018783720210194588,0.03906938433647156,-0.009014452807605267,-0.00037757272366434336,-0.013181951828300953,0.008532779291272163,-0.0005734013975597918,-0.034456539899110794,-0.0027222854550927877,-0.01633111760020256,0.018918229267001152,0.04663964360952377,-0.0006888869684189558,0.010647378861904144,0.047054219990968704,-0.011500073596835136,-0.051500361412763596,-0.035625290125608444,-0.006985757499933243,-0.07977599650621414,0.04930964857339859,-0.000758553680498153,0.08868400752544403,0.0005969586200080812,-0.06835616379976273,0.0355059839785099,0.0562683530151844,0.03608636558055878,-0.005725464317947626,-0.024305911734700203,0.014887298457324505,0.02248152531683445,-0.03988587111234665,-0.016057083383202553,-0.024472614750266075,-0.07840286940336227,-0.034853070974349976,0.013609320856630802,-0.00889330543577671,0.04334639757871628,0.025295089930295944,0.05549297481775284,0.006909397896379232,-0.018044697120785713,0.007548853289335966,-0.0013379791053012013,-0.06448971480131149,0.018696025013923645,0.0358598493039608,0.03880181163549423,-0.04195500910282135,-0.04105130583047867,0.01483237836509943,0.02114275097846985,-0.01972208544611931,-0.01009155809879303,0.05553784221410751,-0.05844554305076599,0.09045305848121643,-0.06102028861641884,0.026731789112091064,0.014164360240101814,0.0031973840668797493,0.0019260846311226487,-0.021660562604665756,-0.013776580803096294,-0.01613549143075943,-0.029154153540730476,-0.01889055222272873,0.0574994757771492,-0.0035344085190445185,0.008341563865542412,0.0223942119628191,0.06785524636507034,-0.025873228907585144,0.016642380505800247,-0.035325780510902405,0.08051197230815887,0.02652488835155964,-0.012522964738309383,0.04979296028614044,-0.042519111186265945,-0.025161046534776688,0.03423580527305603,0.022572726011276245,-0.02826167456805706,-0.037802934646606445,-0.041087109595537186,-0.028873968869447708,-0.022957153618335724,0.0029578437097370625,0.03787604346871376,0.00030899528064765036,-0.025273408740758896,-0.027109390124678612,0.03310012072324753,-0.0402059368789196,-0.00710925692692399,0.0022287508472800255,0.004230516497045755,0.008721552789211273,0.02903124876320362,-0.0311404000967741,-0.08841324597597122,0.0031045617070049047,0.009152657352387905,0.016881726682186127,-0.005611129570752382,-0.0031690888572484255,0.021085428074002266,-0.02831428125500679,0.048467300832271576,0.01898866891860962,0.0006354081560857594,0.01676570437848568,-0.000662906386423856,-0.0384545773267746,0.03608482703566551,0.05457963049411774,-0.0072747268714010715,-0.01964256912469864,-0.05553551763296127,-0.004692623391747475,0.04682200774550438,-0.011361546814441681,-0.04015304893255234,-0.0561927929520607,0.04105165973305702,0.01330725196748972,-0.021345404908061028,-0.06099234148859978,-0.01621834747493267,-0.06690460443496704,0.06585146486759186,0.02814149670302868,-0.01314791664481163,-0.007793497294187546,0.033543508499860764,-0.055966105312108994,0.02658158726990223,0.0223837997764349,-0.10280616581439972,-0.04429135099053383,-0.024168863892555237,-0.016212860122323036,-0.0400705523788929,0.04451391473412514,0.009256976656615734,-0.04193010553717613,-0.04012979194521904,0.022277729585766792,0.04220247641205788,-0.000717713322956115,-0.0207198578864336,0.032023217529058456,-0.002025764901190996,-0.021248457953333855,0.04502580314874649,0.03542681038379669,-0.1455930471420288,0.027193764224648476,0.05783639848232269,-0.046204593032598495,-0.010396303609013557,0.02081250585615635,0.02727494016289711,0.0410759337246418,0.0008972997311502695,-0.018144721165299416,0.05384243652224541,0.028916988521814346,0.022710662335157394,-0.07740067690610886,-0.004026513546705246,-0.0175849050283432,-0.08226660639047623,-0.028935985639691353,-0.016143890097737312,-0.0413469597697258,-0.008981898427009583,-0.009301531128585339,-0.032785478979349136,0.03106585331261158,0.06062140688300133,-0.04816022142767906,-0.02594326063990593,0.051132991909980774,-0.0063490839675068855,-0.009445500560104847,0.02288343757390976,0.022064434364438057,0.020356589928269386,-0.038057390600442886,0.03629877418279648,-0.02173980325460434,0.028081437572836876,0.02045910619199276,0.0059557450003921986,-0.026439184322953224,-0.0004901132779195905,0.048861630260944366,0.004007868934422731,0.02773268148303032,-0.0223289392888546,0.014604407362639904,0.028155332431197166,-0.012093170545995235,-0.014422552660107613,0.009607053361833096,-0.005484732799232006,-0.01001857127994299,0.06744617223739624,-0.0005649449885822833,0.04116560146212578,0.008361662738025188,-0.007121196482330561,-0.016132038086652756,0.02073306031525135,0.009983697906136513,-0.007699721492826939,-0.011656048707664013,0.00947642419487238,0.0008242411422543228,-0.03652334585785866,0.006363390479236841,0.002172489184886217,0.0038129782769829035,-0.026018092408776283,-0.016386376693844795,-0.0032448386773467064,-0.05746082589030266,-5.7608417760167426e-33,-0.019033992663025856,-0.02916085347533226,-0.03697991743683815,-0.005071945954114199,0.027979254722595215,-0.02563299983739853,-0.005669379606842995,-0.04499358311295509,-0.0052234213799238205,0.0065216259099543095,0.0032523476984351873,-0.016544075682759285,0.015677064657211304,0.020360087975859642,0.026243189349770546,-0.009839286096394062,0.029104573652148247,-0.012166556902229786,0.01737244799733162,0.026929687708616257,-0.0670425221323967,0.008898591622710228,-0.0011820433428511024,0.04415055736899376,-0.03115740790963173,-0.028049886226654053,-0.024977490305900574,0.021200386807322502,0.01133792009204626,0.034832265228033066,-0.04296807199716568,-0.032822053879499435,-0.03065633773803711,-0.023225367069244385,0.014756342396140099,-0.0417875200510025,-0.024679411202669144,-0.022194834426045418,-0.023426029831171036,0.04055633395910263,0.07244555652141571,0.007817860692739487,0.028468981385231018,-0.010675651021301746,-0.012669337913393974,0.0035835495218634605,-0.015880916267633438,-0.009609327651560307,-0.0038742967881262302,-0.026668710634112358,-0.020959075540304184,0.009092709049582481,0.025000371038913727,0.02974742278456688,0.03290907293558121,0.025295164436101913,0.0468856506049633,-0.07433655858039856,-0.03084130398929119,-0.02457268163561821,-0.013606295920908451,-0.04218388721346855,0.017149269580841064,0.01721923053264618,0.026102213189005852,-0.006656909827142954,-0.019401397556066513,0.00914708897471428,0.0027434041257947683,-0.022148236632347107,-0.029484888538718224,0.038604456931352615,0.03153819218277931,-0.03485482558608055,-0.02765592373907566,0.0936485081911087,0.0216195248067379,-0.00310015631839633,0.00040478588198311627,0.08995939046144485,-0.010613979771733284,0.010364856570959091,0.006752875167876482,0.009927457198500633,0.02549006976187229,-0.05862241983413696,0.015548070892691612,0.010180969722568989,0.03900973126292229,0.005838518496602774,0.03600659593939781,0.06183579936623573,-0.03532510623335838,0.04658188670873642,-0.06874531507492065,0.012969255447387695,0.0495590977370739,0.056774649769067764,-0.006398428697139025,-0.05504770576953888,0.0225047767162323,-0.006017850246280432,-0.01819196343421936,-0.04647476598620415,-0.008704868145287037,0.010124698281288147,-0.004723747726529837,-0.04542124643921852,-0.061741527169942856,0.0019249279284849763,0.017126087099313736,0.019218159839510918,-0.01451066043227911,-0.04038483276963234,-0.013576838187873363,-0.024592699483036995,-0.03839658573269844,-0.003095532301813364,0.02397981658577919,-0.0049774376675486565,0.01888852007687092,0.02221318520605564,0.0038306687492877245,-0.008226705715060234,0.08056878298521042,-0.007260344456881285,0.010284285992383957,0.04152819514274597,0.0076858876273036,0.012269321829080582,0.004748755134642124,0.041454508900642395,2.4709422064006503e-7,0.015465090982615948,0.03589751943945885,-0.040567632764577866,0.009182233363389969,-0.010214796289801598,-0.043315548449754715,0.006997642107307911,-0.040301207453012466,-0.000010844082680705469,-0.08413419127464294,0.020335223525762558,0.012124153785407543,0.04919818788766861,0.06034629046916962,0.05872721970081329,-0.041988059878349304,0.008852161467075348,-0.06611508876085281,-0.052742816507816315,0.010708063840866089,0.05284295231103897,0.006850747857242823,0.036651454865932465,0.01805512048304081,-0.01328680757433176,0.01203983649611473,0.01774180680513382,-0.030514942482113838,-0.006312008015811443,-0.04278842359781265,0.032357145100831985,-0.03820503503084183,-0.033656686544418335,0.046868376433849335,0.0188001561909914,0.01601245440542698,-0.010208952240645885,-0.01584390364587307,0.026173558086156845,0.08887991309165955,0.034006401896476746,-0.049590736627578735,-0.013646971434354782,-0.06327756494283676,0.022834820672869682,-0.07480151951313019,0.0035716574639081955,0.025130175054073334,0.005557081196457148,0.022675780579447746,0.039757099002599716,0.003202663967385888,0.03185373544692993,-0.03739621490240097,0.015456752851605415,0.00713930232450366,-0.03130931779742241,0.03873647749423981,0.006167643703520298,0.06934874504804611,0.006230455823242664,-0.0030100210569798946,0.02735086902976036,-0.025569334626197815,0.043009012937545776,-0.04889156296849251,-0.010231988504529,3.282434354024328e-34,0.02017393708229065,-0.053742773830890656,0.05671018362045288,0.06731041520833969,0.03728818520903587,-0.012518145143985748,0.06863189488649368,-0.025874299928545952,0.025454619899392128,-0.08231765776872635,-0.012588605284690857]'
SET
  @TechnicalDesignVector_983bef97 = N'[0.0026493053883314133,-0.026035482063889503,-0.012299398891627789,-0.0067767854779958725,-0.01966853253543377,-0.010475614108145237,0.011791545897722244,0.07584792375564575,-0.11751160770654678,-0.027594681829214096,-0.02493472769856453,0.029898691922426224,0.02842581644654274,0.18918295204639435,0.02773907594382763,-0.12115631997585297,-0.011944974772632122,-0.003432471537962556,-0.01369750127196312,0.002561393426731229,0.012534905225038528,-0.007360001560300589,-0.03050883300602436,-0.02831524796783924,-0.001950749778188765,-0.020628513768315315,-0.052994001656770706,0.011259255930781364,0.025989724323153496,-0.052284952253103256,-0.02062450908124447,0.027192385867238045,-0.030427034944295883,-0.03262975066900253,0.0000018704735111896298,-0.026783326640725136,-0.031293947249650955,0.007417531218379736,-0.013585052452981472,0.04616139456629753,0.05121175944805145,-0.00897609256207943,0.02799384295940399,0.007935723289847374,-0.003323847893625498,-0.14080391824245453,-0.006592897232621908,0.10192585736513138,0.049845047295093536,-0.002112966263666749,0.013724632561206818,0.02859046496450901,-0.04454657807946205,0.005331892054527998,0.011485571041703224,0.00230377446860075,0.01651860401034355,-0.06889868527650833,0.008977510035037994,0.018554219976067543,0.002216799883171916,-0.015917383134365082,-0.00273928907699883,-0.018103066831827164,0.019666556268930435,0.028813697397708893,0.014571795240044594,-0.008173031732439995,-0.00337875890545547,0.016589103266596794,0.03892636299133301,0.014695688150823116,-0.023936297744512558,-0.003080811584368348,-0.015430258587002754,-0.02491004765033722,-0.012135526165366173,0.025767920538783073,0.006259887013584375,-0.01704411953687668,-0.06346163898706436,-0.002757477341219783,-0.029617521911859512,-0.00742162624374032,0.015868758782744408,0.016138941049575806,0.011787374503910542,-0.01113480981439352,-0.04415113478899002,-0.004761149175465107,-0.022971220314502716,-0.04531695693731308,-0.028383715078234673,0.032033368945121765,-0.014914884231984615,-0.010695219971239567,0.03023175336420536,0.03512367606163025,0.006596802733838558,0.034186288714408875,-0.02369796857237816,0.06457912176847458,-0.06715379655361176,0.032307762652635574,0.039337851107120514,-0.013952617533504963,-0.01879979483783245,-0.04026108980178833,-0.0017120101256296039,0.043362200260162354,0.023538226261734962,0.017409389838576317,-0.05524083599448204,0.03836708888411522,-0.05331175774335861,-0.014120670966804028,-0.02810320444405079,-0.01919165626168251,0.010915318503975868,0.05311524495482445,0.15997178852558136,0.008397601544857025,0.0038408543914556503,0.02191634103655815,-0.00040984724182635546,0.017708536237478256,-0.03625790402293205,-0.02138429321348667,0.0361417755484581,0.020899396389722824,-0.02583797462284565,-0.024159668013453484,0.02765347622334957,-0.03579089418053627,-0.033634066581726074,-0.02596897818148136,0.00016194859927054495,0.024776997044682503,-0.009307267144322395,0.04746437445282936,0.016795089468359947,0.02307109162211418,-0.06293193995952606,0.03800911083817482,-0.013715236447751522,-0.00691209314391017,0.013168751262128353,-0.023421425372362137,-0.02755456231534481,-0.000735902285668999,0.030785374343395233,0.0050016301684081554,-0.02479562535881996,-0.0011176305124536157,-0.0795854851603508,0.008755224756896496,-0.057312700897455215,-0.01792866550385952,-0.002973617985844612,0.05853987857699394,-0.00544659374281764,-0.044651489704847336,0.03996748477220535,0.011044522747397423,-0.03552444279193878,0.029101915657520294,-0.050184980034828186,-0.013222992420196533,0.020397644490003586,-0.04542439430952072,-0.03049338422715664,-0.03976208344101906,-0.0257580429315567,0.008393026888370514,0.007549908943474293,-0.06413621455430984,0.04603848606348038,-0.017627069726586342,-0.02603031136095524,0.0015747572761029005,0.08608188480138779,-0.11955375969409943,0.03416812792420387,0.0016561602242290974,0.07495120912790298,-0.017900804057717323,-0.07519640028476715,0.028040876612067223,-0.015548106282949448,-0.009439811110496521,-0.025108300149440765,0.01600104384124279,0.01186800841242075,0.04948408529162407,-0.020938696339726448,-0.003381239017471671,-0.03890122100710869,-0.028917504474520683,0.044305894523859024,0.00932855624705553,0.03855357691645622,-0.02525562047958374,0.01053418219089508,0.08968988060951233,0.017844324931502342,0.018373379483819008,0.046345729380846024,-0.03465212136507034,-0.05689748004078865,0.046247221529483795,0.013864917680621147,-0.0016410649986937642,0.0024340692907571793,0.003021366661414504,-0.036236003041267395,-0.02313970774412155,0.02818223275244236,0.004829922690987587,-0.04558711126446724,-0.018178358674049377,-0.032572679221630096,-0.019240833818912506,0.07434955984354019,-0.019187888130545616,0.17197009921073914,-0.017476998269557953,0.013387242332100868,-0.013932903297245502,0.04756801202893257,0.011753915809094906,-0.014052770100533962,-0.013011286966502666,0.025055309757590294,0.04522307962179184,0.03186402842402458,0.05284663662314415,0.08410050719976425,0.030490750446915627,0.032991450279951096,0.01955881528556347,-0.04738163948059082,-0.02161644585430622,-0.036338869482278824,-0.004086840432137251,0.013898910023272038,-0.003681297181174159,-0.0445140041410923,0.022814715281128883,-0.016274936497211456,0.011905117891728878,0.02791474387049675,0.06098025664687157,0.038886237889528275,-0.049690332263708115,-0.01498280931264162,0.034266140311956406,0.04896702989935875,-0.0021076486445963383,-0.03425520658493042,0.04846703261137009,-0.02602652832865715,-0.022887980565428734,-0.03163350000977516,-0.04643683508038521,0.020275752991437912,0.013577856123447418,0.07479280233383179,-0.010059872642159462,-0.006262552924454212,0.004919953178614378,-0.008629067800939083,0.029960548505187035,0.0019266594899818301,-0.031142262741923332,0.006122330203652382,0.0018792608752846718,-0.020381446927785873,0.013935464434325695,-0.036357030272483826,-0.00039048190228641033,-0.0005315020680427551,-0.044068846851587296,-0.02731928601861,0.032211948186159134,0.009302513673901558,-0.01674579456448555,-0.022407209500670433,-0.02489943988621235,-0.016214042901992798,-0.09070655703544617,-0.0010275908280164003,-0.0030379206873476505,0.026824645698070526,-0.0628235712647438,-0.038324810564517975,-0.004339537583291531,-0.022380415350198746,0.0038768108934164047,-0.016772259026765823,0.049229443073272705,-0.01257449109107256,-0.041225776076316833,0.0032693948596715927,-0.002029647585004568,-0.0031932913698256016,0.021189717575907707,-0.002972561400383711,-0.008152117021381855,0.0325617715716362,0.0957038626074791,0.04488210007548332,0.03244652971625328,-0.021600311622023582,-0.032596126198768616,0.022446556016802788,0.011408437974750996,0.012219035066664219,0.08949805796146393,0.012264503166079521,0.0560002438724041,0.016362017020583153,0.009487774223089218,-0.012571313418447971,-0.026923656463623047,-0.00501906918361783,0.021460693329572678,-0.002647634595632553,-0.02183307148516178,-0.05342560634016991,-0.03453105315566063,0.012376422062516212,-0.044842030853033066,0.0081058694049716,0.027443470433354378,0.003827579552307725,0.010009486228227615,-0.03042007051408291,-0.051311202347278595,0.01766127720475197,-0.022369667887687683,-0.00960969552397728,-0.033440910279750824,0.007839098572731018,-0.05338286608457565,0.014577269554138184,-0.009198981337249279,0.010395179502665997,0.030856551602482796,-0.061919864267110825,0.038353871554136276,0.033736277371644974,0.05186277627944946,0.0025498338509351015,-0.02099216729402542,-0.009448069147765636,0.06930205225944519,-0.027562033385038376,-0.03910703584551811,-0.01009125541895628,-0.045172858983278275,-0.04034017026424408,0.010372629389166832,0.06263116747140884,0.05073840916156769,0.02155514806509018,0.05333874002099037,0.033509448170661926,0.0008005477720871568,-0.007447404786944389,0.014833892695605755,-0.062209032475948334,0.020802577957510948,0.06313664466142654,0.05444449558854103,-0.013474518433213234,-0.009893704205751419,0.028569146990776062,0.018403058871626854,-0.03677264600992203,-0.010246255435049534,0.04077805578708649,-0.1008102148771286,0.0805169865489006,-0.03170014172792435,0.023430893197655678,0.027883846312761307,-0.0022599862422794104,0.015207449905574322,0.04357914254069328,-0.02032821998000145,-0.008925518952310085,-0.028344500809907913,-0.03140023350715637,0.017862020060420036,-0.0037971509154886007,0.016595598310232162,0.016689561307430267,0.03480413556098938,0.010951057076454163,0.013767684809863567,0.012533877044916153,0.09345106035470963,-0.019885603338479996,0.01814640313386917,0.05265992134809494,0.0016943048685789108,-0.0072723389603197575,0.0193487461656332,-0.011263790540397167,-0.03145231306552887,-0.05354025587439537,-0.036564890295267105,0.014570385217666626,-0.023400161415338516,-0.06217778101563454,0.008747615851461887,-0.03502980247139931,-0.017046818509697914,0.009896867908537388,0.07123523205518723,-0.020215464755892754,0.01661493629217148,-0.029676830396056175,0.010504046455025673,-0.02555377408862114,-0.015904845669865608,-0.030292866751551628,-0.04406734183430672,0.011599177494645119,0.01338130235671997,0.014616736210882664,0.025508524850010872,-0.03902280703186989,0.02557074837386608,-0.03560306876897812,-0.014993303455412388,-0.017156541347503662,0.03971771523356438,0.03539544343948364,-0.02442530170083046,-0.034212104976177216,0.0017434997716918588,0.04015902802348137,-0.024627769365906715,-0.02195584401488304,-0.07690700888633728,0.018138866871595383,0.037401288747787476,0.02717795968055725,-0.06255581974983215,-0.03050069697201252,0.023033589124679565,-0.05221039801836014,-0.005341903306543827,-0.04988650232553482,-0.03278075531125069,-0.02491842769086361,0.014665546827018261,0.009180608205497265,0.02478376217186451,0.02263084426522255,0.029034961014986038,-0.04200972989201546,0.027227431535720825,-0.021918339654803276,0.0008454599301330745,-0.033991482108831406,0.004006970673799515,-0.007121932227164507,-0.04370088130235672,0.011443580500781536,0.021176669746637344,-0.03949160501360893,-0.02406787872314453,0.04052169993519783,0.024952327832579613,0.004479263909161091,0.015733536332845688,0.02694033645093441,0.006859261076897383,0.005520709790289402,0.04422687366604805,-0.015665164217352867,-0.08048070222139359,0.04916088655591011,0.04813211411237717,-0.043102435767650604,-0.0202940646559,0.007775343023240566,-0.018736671656370163,0.04039055109024048,-0.0349893718957901,-0.005351863335818052,0.09933993220329285,0.04984664544463158,0.021064765751361847,0.00007494611054426059,-0.017860719934105873,0.028298625722527504,-0.07739805430173874,0.008488677442073822,-0.0030652987770736217,-0.03147375211119652,-0.019780049100518227,-0.04684077575802803,-0.037082087248563766,0.032186947762966156,0.03075183928012848,-0.015394642017781734,-0.05430091172456741,0.05729072168469429,0.0025988270062953234,-0.003148695919662714,-0.011994303204119205,0.028293680399656296,0.052979957312345505,-0.02734203264117241,0.03771698474884033,-0.0006559268804267049,-0.0018988195806741714,0.014404530636966228,0.011997697874903679,-0.015640849247574806,-0.01140082161873579,0.023605434224009514,0.02495284378528595,0.008841889910399914,0.004502603784203529,0.0009462403832003474,0.05167936533689499,0.015690317377448082,0.007984793744981289,0.003541144309565425,0.042279429733753204,-0.025657273828983307,0.09462098032236099,-0.07375035434961319,0.04914037510752678,0.007567616645246744,-0.029772009700536728,-0.00789716187864542,-0.021458102390170097,0.05546751990914345,0.022051798179745674,0.004854802042245865,0.009275528602302074,-0.022134386003017426,-0.04980945587158203,0.008680945262312889,0.003913354594260454,0.031709350645542145,-0.018779965117573738,-0.038181476294994354,-0.010713929310441017,0.009100466966629028,-6.677757124358882e-33,-0.05224759876728058,-0.011232552118599415,0.006652158685028553,-0.02519497275352478,-0.0009495647973380983,-0.010132343508303165,-0.046840161085128784,-0.053221024572849274,-0.021346816793084145,0.00002202334326284472,-0.03166234865784645,-0.019850172102451324,0.02660745568573475,0.0375959612429142,0.003936918452382088,-0.03608042746782303,0.050124041736125946,0.02481856569647789,0.004418980795890093,0.02075636386871338,-0.06566347181797028,0.009744319133460522,0.007237243931740522,-0.0005265375948511064,-0.022717753425240517,0.002140604890882969,-0.052572015672922134,0.06301014125347137,0.02760172262787819,0.025689082220196724,-0.04008227959275246,-0.018954042345285416,-0.04249844327569008,0.00539476377889514,0.019846348091959953,-0.010822970420122147,-0.014650709927082062,-0.025542082265019417,0.0019362464081496,0.024570170789957047,0.03788619115948677,0.0036461330018937588,0.00815250352025032,0.016282323747873306,0.0053168837912380695,-0.010096556507050991,-0.015177298337221146,-0.005872972775250673,-0.010863915085792542,-0.02576582506299019,0.024752026423811913,0.002669602632522583,-0.022827107459306717,0.04070913419127464,0.007201749365776777,0.037838149815797806,0.02903515100479126,-0.03465763106942177,-0.011026729829609394,0.006541653070598841,-0.047812122851610184,-0.04510173201560974,0.013737475499510765,0.024836862459778786,0.03457046300172806,-0.0046910010278224945,-0.05723058432340622,0.04767056554555893,-0.06153314560651779,0.019882017746567726,-0.004883476532995701,0.020811758935451508,0.04470057040452957,-0.012704667635262012,-0.08401429653167725,0.032533615827560425,0.0545913428068161,0.005856755655258894,0.11952468752861023,0.06693708896636963,-0.03434230387210846,0.04247339069843292,0.018956562504172325,0.023891210556030273,-0.03319632261991501,-0.03720135986804962,0.007801605388522148,-0.024077434092760086,0.027149014174938202,0.0037216527853161097,0.018549978733062744,0.04757974296808243,-0.0277788657695055,0.03557557985186577,-0.0570877380669117,0.021145813167095184,0.058849237859249115,0.05877538025379181,-0.0017875327030196786,-0.04760274291038513,0.061151981353759766,0.012343424372375011,-0.00909140519797802,-0.0370614267885685,-0.013196173124015331,0.027680877596139908,-0.03785458952188492,0.011952461674809456,-0.06465018540620804,0.008038537576794624,0.027997244149446487,-0.0014964340953156352,-0.015026280656456947,-0.07687828689813614,0.01594483107328415,-0.014145282097160816,-0.011519616469740868,-0.04320474714040756,0.019211018458008766,0.04380491375923157,0.0596192330121994,0.05077315866947174,0.00772317498922348,0.024154191836714745,0.008591177873313427,-0.01228856761008501,-0.0412013866007328,0.009497787803411484,-0.009818075224757195,-0.018230421468615532,-0.001073574647307396,0.005954085849225521,2.7614083819571533e-7,0.02610882930457592,0.035053614526987076,-0.023640180006623268,0.020295076072216034,0.0049538323655724525,-0.049604158848524094,-0.034427426755428314,-0.030337819829583168,-0.0010676499223336577,-0.053346335887908936,0.027528924867510796,0.003181979525834322,-0.009410799480974674,0.043303538113832474,0.05945002660155296,-0.0381961390376091,-0.05249388888478279,-0.053282544016838074,-0.028986988589167595,0.026613764464855194,0.05266420915722847,0.024975422769784927,0.05452347546815872,0.020079871639609337,0.014507678337395191,0.03098391741514206,0.03763134777545929,0.0037601585499942303,-0.00186530826613307,-0.051796671003103256,-0.01854785718023777,-0.05338093265891075,-0.0173738244920969,-0.029917605221271515,0.016320640221238136,0.019569914788007736,-0.018575653433799744,0.022880518808960915,0.03844214975833893,0.11661411076784134,-0.011562133207917213,-0.010360299609601498,-0.019806042313575745,-0.08338026702404022,0.038659583777189255,-0.00390662020072341,0.0015139380702748895,-0.003916974179446697,-0.07050211727619171,-0.01470885518938303,-0.005344732664525509,-0.005426555871963501,-0.02484131045639515,-0.002943833824247122,0.003040607552975416,0.00994199700653553,-0.015989098697900772,0.024102402850985527,0.004423850681632757,-0.006669697817414999,-0.02380458451807499,0.004626073874533176,-0.0028702819254249334,0.010307809337973595,0.02685016393661499,-0.0048782359808683395,-0.03943968936800957,2.812573879555053e-34,0.010366647504270077,-0.048623278737068176,0.011038224212825298,-0.007755553815513849,0.03817620873451233,-0.019796524196863174,0.049722496420145035,-0.041820380836725235,0.0030836325604468584,-0.08038843423128128,-0.022571805864572525]'
SET
  @HasCustomProps_983bef97 = 1
SET
  @HasCustomEvents_983bef97 = 1
SET
  @RequiresData_983bef97 = 1
SET
  @DependencyCount_983bef97 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_983bef97 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_983bef97 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_983bef97 = 1
SET
  @ID_983bef97 = '7FDE3B05-BE26-4E6C-881D-A352690DCC31'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_983bef97,
  @Name = @Name_983bef97,
  @Version = @Version_983bef97,
  @VersionSequence = @VersionSequence_983bef97,
  @Title = @Title_983bef97,
  @Description = @Description_983bef97,
  @Type = @Type_983bef97,
  @Status = @Status_983bef97,
  @DeveloperName = @DeveloperName_983bef97,
  @DeveloperEmail = @DeveloperEmail_983bef97,
  @DeveloperOrganization = @DeveloperOrganization_983bef97,
  @SourceRegistryID = @SourceRegistryID_983bef97,
  @ReplicatedAt = @ReplicatedAt_983bef97,
  @LastSyncedAt = @LastSyncedAt_983bef97,
  @Specification = @Specification_983bef97,
  @FunctionalRequirements = @FunctionalRequirements_983bef97,
  @TechnicalDesign = @TechnicalDesign_983bef97,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_983bef97,
  @TechnicalDesignVector = @TechnicalDesignVector_983bef97,
  @HasCustomProps = @HasCustomProps_983bef97,
  @HasCustomEvents = @HasCustomEvents_983bef97,
  @RequiresData = @RequiresData_983bef97,
  @DependencyCount = @DependencyCount_983bef97,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_983bef97,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_983bef97,
  @HasRequiredCustomProps = @HasRequiredCustomProps_983bef97,
  @ID = @ID_983bef97;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_f9c939a3 NVARCHAR(MAX),
@Name_f9c939a3 NVARCHAR(500),
@Version_f9c939a3 NVARCHAR(50),
@VersionSequence_f9c939a3 INT,
@Title_f9c939a3 NVARCHAR(1000),
@Description_f9c939a3 NVARCHAR(MAX),
@Type_f9c939a3 NVARCHAR(255),
@Status_f9c939a3 NVARCHAR(50),
@DeveloperName_f9c939a3 NVARCHAR(255),
@DeveloperEmail_f9c939a3 NVARCHAR(255),
@DeveloperOrganization_f9c939a3 NVARCHAR(255),
@SourceRegistryID_f9c939a3 UNIQUEIDENTIFIER,
@ReplicatedAt_f9c939a3 DATETIMEOFFSET,
@LastSyncedAt_f9c939a3 DATETIMEOFFSET,
@Specification_f9c939a3 NVARCHAR(MAX),
@FunctionalRequirements_f9c939a3 NVARCHAR(MAX),
@TechnicalDesign_f9c939a3 NVARCHAR(MAX),
@FunctionalRequirementsVector_f9c939a3 NVARCHAR(MAX),
@TechnicalDesignVector_f9c939a3 NVARCHAR(MAX),
@HasCustomProps_f9c939a3 BIT,
@HasCustomEvents_f9c939a3 BIT,
@RequiresData_f9c939a3 BIT,
@DependencyCount_f9c939a3 INT,
@TechnicalDesignVectorEmbeddingModelID_f9c939a3 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_f9c939a3 NVARCHAR(MAX),
@HasRequiredCustomProps_f9c939a3 BIT,
@ID_f9c939a3 UNIQUEIDENTIFIER
SET
  @Namespace_f9c939a3 = N'CRM/Dashboard'
SET
  @Name_f9c939a3 = N'DrillDownPanel'
SET
  @Version_f9c939a3 = N'1.0.0'
SET
  @VersionSequence_f9c939a3 = 1
SET
  @Title_f9c939a3 = N'Drill Down Panel'
SET
  @Description_f9c939a3 = N'Slide-out panel for drilling down into deal details with filtering and sorting'
SET
  @Type_f9c939a3 = N'Other'
SET
  @Status_f9c939a3 = N'Published'
SET
  @Specification_f9c939a3 = N'{"name":"DrillDownPanel","location":"embedded","code":"function DrillDownPanel({ isOpen, drillDownData, stageColors = {}, onClose, onOpenDeal, components }) {\n  const [localFilter, setLocalFilter] = useState('''');\n  const [localSort, setLocalSort] = useState(''Amount'');\n  const [displayMode, setDisplayMode] = useState(''cards'');\n  \n  if (!drillDownData) return null;\n  \n  // Get sub-components from registry\n  const DealCards = components?.[''DealCards''];\n  const DealList = components?.[''DealList''];\n  \n  const filteredDeals = drillDownData.deals.filter(deal => \n    deal.DealName?.toLowerCase().includes(localFilter.toLowerCase()) ||\n    deal.AccountName?.toLowerCase().includes(localFilter.toLowerCase())\n  );\n  \n  const sortedDeals = [...filteredDeals].sort((a, b) => {\n    switch (localSort) {\n      case ''Amount'':\n        return (b.Amount || 0) - (a.Amount || 0);\n      case ''CloseDate'':\n        return new Date(b.CloseDate || 0) - new Date(a.CloseDate || 0);\n      case ''Probability'':\n        return (b.Probability || 0) - (a.Probability || 0);\n      default:\n        return 0;\n    }\n  });\n  \n  const formatCurrency = (amount) => {\n    if (amount >= 1000000) return `$$' + '{(amount / 1000000).toFixed(1)}M`;\n    if (amount >= 1000) return `$$' + '{(amount / 1000).toFixed(0)}K`;\n    return `$$' + '{amount.toFixed(0)}`;\n  };\n  \n  return (\n    <div\n      style={{\n        position: ''fixed'',\n        right: isOpen ? 0 : ''-500px'',\n        top: ''75px'',\n        bottom: 0,\n        width: ''500px'',\n        backgroundColor: ''#fff'',\n        boxShadow: ''-4px 0 20px rgba(0,0,0,0.1)'',\n        zIndex: 1000,\n        display: ''flex'',\n        flexDirection: ''column'',\n        transition: ''right 0.3s ease''\n      }}\n    >\n      <div style={{\n        padding: ''20px'',\n        borderBottom: ''1px solid #E5E7EB'',\n        backgroundColor: drillDownData.type === ''stage'' ? stageColors[drillDownData.metadata] : ''#3B82F6'',\n        color: ''white''\n      }}>\n        <div style={{ display: ''flex'', justifyContent: ''space-between'', alignItems: ''center'' }}>\n          <h3 style={{ margin: 0 }}>{drillDownData.title}</h3>\n          <button\n            onClick={onClose}\n            style={{\n              background: ''none'',\n              border: ''none'',\n              color: ''white'',\n              fontSize: ''24px'',\n              cursor: ''pointer''\n            }}\n          >\n            ×\n          </button>\n        </div>\n        <div style={{ marginTop: ''8px'', fontSize: ''14px'', opacity: 0.9 }}>\n          {sortedDeals.length} deals • {formatCurrency(sortedDeals.reduce((sum, d) => sum + (d.Amount || 0), 0))}\n        </div>\n      </div>\n      \n      <div style={{ padding: ''16px'', borderBottom: ''1px solid #E5E7EB'' }}>\n        <input\n          type=\"text\"\n          placeholder=\"Filter deals...\"\n          value={localFilter}\n          onChange={(e) => setLocalFilter(e.target.value)}\n          style={{\n            width: ''100%'',\n            padding: ''8px 12px'',\n            border: ''1px solid #D1D5DB'',\n            borderRadius: ''6px'',\n            marginBottom: ''12px''\n          }}\n        />\n        <div style={{ display: ''flex'', gap: ''8px'' }}>\n          <button\n            onClick={() => setDisplayMode(''cards'')}\n            style={{\n              padding: ''6px 12px'',\n              backgroundColor: displayMode === ''cards'' ? ''#3B82F6'' : ''#F3F4F6'',\n              color: displayMode === ''cards'' ? ''white'' : ''#374151'',\n              border: ''none'',\n              borderRadius: ''6px'',\n              cursor: ''pointer''\n            }}\n          >\n            Cards\n          </button>\n          <button\n            onClick={() => setDisplayMode(''list'')}\n            style={{\n              padding: ''6px 12px'',\n              backgroundColor: displayMode === ''list'' ? ''#3B82F6'' : ''#F3F4F6'',\n              color: displayMode === ''list'' ? ''white'' : ''#374151'',\n              border: ''none'',\n              borderRadius: ''6px'',\n              cursor: ''pointer''\n            }}\n          >\n            List\n          </button>\n          <select\n            value={localSort}\n            onChange={(e) => setLocalSort(e.target.value)}\n            style={{\n              padding: ''6px 12px'',\n              border: ''1px solid #D1D5DB'',\n              borderRadius: ''6px'',\n              flex: 1\n            }}\n          >\n            <option value=\"Amount\">Sort by Amount</option>\n            <option value=\"CloseDate\">Sort by Close Date</option>\n            <option value=\"Probability\">Sort by Probability</option>\n          </select>\n        </div>\n      </div>\n      \n      <div style={{ flex: 1, overflowY: ''auto'', padding: ''16px'' }}>\n        {displayMode === ''cards'' ? (\n          <DealCards \n            deals={sortedDeals} \n            stageColors={stageColors}\n            onOpenClick={onOpenDeal}\n          />\n        ) : (\n          <DealList \n            deals={sortedDeals}\n            stageColors={stageColors}\n            onOpenClick={onOpenDeal}\n          />\n        )}\n      </div>\n    </div>\n  );\n}","description":"Slide-out panel for drilling down into deal details with filtering and sorting","category":"Panel","type":"panel","properties":[{"name":"isOpen","type":"boolean","description":"Whether the panel is open","required":true},{"name":"drillDownData","type":"object","description":"Object containing title, deals array, type, and metadata","required":true},{"name":"stageColors","type":"object","description":"Object mapping stage names to colors","required":true},{"name":"onClose","type":"function","description":"Callback when panel is closed","required":true},{"name":"onOpenDeal","type":"function","description":"Callback to open a deal in external app","required":true}],"events":[{"name":"onPanelClose","description":"Fired when the panel is closed","parameters":[]},{"name":"onDealOpen","description":"Fired when a deal open action is triggered","parameters":[{"name":"entityName","type":"string","description":"Name of the entity"},{"name":"primaryKey","type":"array","description":"Primary key array"}]}],"dataRequirements":{"mode":"views","entities":[{"name":"Deals","displayFields":["ID","Dealname","Accountname","Stage","Amount","CloseDate","Probability","Owner","CreatedAt"],"filterFields":["CloseDate","Stage","Owner"],"sortFields":["CloseDate","Amount","Probability"],"permissions":["read"]}]},"usageExample":"```javascript\n<DrillDownPanel\n  isOpen={isPanelOpen}\n  drillDownData={drillDownData}\n  stageColors={stageColors}\n  onClose={() => setIsPanelOpen(false)}\n  onOpenDeal={(entityName, pk) => callbacks.OpenEntityRecord(entityName, pk)}\n/>\n```","functionalRequirements":"- Slide in from right side at top: 75px\n- Display title and deal count/value summary\n- Allow filtering deals by text search\n- Support sorting by Amount, CloseDate, Probability\n- Toggle between card and list views\n- Include close button in header\n- Use appropriate background color based on drill-down type","technicalDesign":"Fixed position panel with CSS transitions. Contains local state for filter text, sort order, and display mode. Reuses DealCards and DealList components for display. Header color determined by drillDownData type/metadata."}'
SET
  @FunctionalRequirements_f9c939a3 = N'- Slide in from right side at top: 75px
- Display title and deal count/value summary
- Allow filtering deals by text search
- Support sorting by Amount, CloseDate, Probability
- Toggle between card and list views
- Include close button in header
- Use appropriate background color based on drill-down type'
SET
  @TechnicalDesign_f9c939a3 = N'Fixed position panel with CSS transitions. Contains local state for filter text, sort order, and display mode. Reuses DealCards and DealList components for display. Header color determined by drillDownData type/metadata.'
SET
  @FunctionalRequirementsVector_f9c939a3 = N'[0.013854253105819225,0.005382989067584276,-0.005613735411316156,-0.030959494411945343,-0.011081614531576633,0.005692694801837206,0.02739526890218258,0.036794669926166534,0.009900320321321487,-0.03854367136955261,-0.04020577669143677,0.02201698161661625,-0.010341433808207512,0.11547282338142395,-0.027207382023334503,-0.09386280179023743,-0.028217582032084465,-0.0025043252389878035,0.02682581916451454,0.0033802019897848368,0.02932383120059967,-0.019063888117671013,-0.013358029536902905,-0.04360978305339813,0.050406429916620255,0.013199003413319588,-0.06295102089643478,0.05191640555858612,-0.024141421541571617,-0.07118473201990128,0.0010641904082149267,0.03755873814225197,-0.039792124181985855,-0.024957533925771713,0.0000018496032225812087,-0.020202655345201492,-0.0024730751756578684,-0.020455410704016685,-0.01678813248872757,0.04731862246990204,0.029003281146287918,-0.033720120787620544,0.07275702059268951,0.0009605941013433039,-0.017942339181900024,-0.090433269739151,-0.050184208899736404,0.10002341866493225,0.006503256503492594,-0.01595727913081646,0.01567786931991577,-0.0436844639480114,-0.009153748862445354,-0.045956578105688095,0.10275334119796753,-0.02536643296480179,0.008940530940890312,-0.022638658061623573,0.06356339156627655,-0.013625923544168472,0.023170506581664085,0.007894757203757763,0.0034116690512746572,-0.04933180287480354,0.01212639082223177,0.022914251312613487,0.004802908282727003,-0.05808570235967636,-0.0178704671561718,-0.03234754502773285,0.020876819267868996,-0.01909385435283184,-0.017690440639853477,-0.04976166412234306,-0.02256125584244728,-0.06897825002670288,-0.044710222631692886,0.033955786377191544,0.02329559437930584,-0.02517235092818737,0.01367232296615839,0.05584373697638512,-0.03133620321750641,0.0019171817693859339,0.017917849123477936,-0.005672857630997896,-0.008314707316458225,-0.036374837160110474,0.013876049779355526,0.005298983305692673,0.0669078454375267,0.011079045943915844,-0.0342923067510128,-0.0027870533522218466,-0.07053516060113907,-0.02775152027606964,0.052825670689344406,0.06258770823478699,0.04260433837771416,-0.0052625276148319244,-0.07007891684770584,0.030040448531508446,0.07635375112295151,0.03300388157367706,0.03610548749566078,-0.03174290060997009,-0.01171281561255455,-0.0344415046274662,-0.07969867438077927,0.06283384561538696,0.036325935274362564,0.008639300242066383,-0.0071479557082057,0.028446340933442116,-0.04753217101097107,-0.040832631289958954,-0.0021919505670666695,-0.016371840611100197,0.03412601351737976,0.006724962033331394,0.08397747576236725,0.02136245369911194,0.024538539350032806,0.0248247180134058,0.001308472827076912,-0.03932199999690056,-0.015973880887031555,-0.05958076938986778,-0.001071344711817801,0.002543517155572772,-0.03289816156029701,0.02744871936738491,-0.0022146841511130333,-0.027517596259713173,0.008772377856075764,-0.040517259389162064,-0.00043017163989134133,0.024713044986128807,-0.050299420952796936,0.0445728525519371,0.03501233458518982,0.029731417074799538,-0.05227615311741829,0.055190231651067734,0.0029710072558373213,0.012647487223148346,-0.03600979968905449,0.054386939853429794,0.005840768106281757,0.020428812131285667,-0.01672181859612465,0.010982201434671879,-0.0009831358911469579,0.016339875757694244,0.013278283178806305,0.0051967678591609,0.005551985464990139,-0.01264229603111744,-0.06524886190891266,0.05167273059487343,0.007932780310511589,-0.02418377622961998,0.032097265124320984,0.013318437151610851,-0.04673684760928154,0.016048366203904152,-0.016844145953655243,-0.008336924947798252,-0.04323659837245941,0.011279198341071606,0.003470005700364709,0.014290472492575645,-0.04049934074282646,0.032698482275009155,0.025990305468440056,0.013649346306920052,0.09520319104194641,-0.017400028184056282,-0.0025647126603871584,0.002094532363116741,0.04220466688275337,-0.06756722927093506,-0.014609037898480892,-0.0031777743715792894,0.009080998599529266,0.011284722946584225,-0.07310976833105087,-0.03559932857751846,-0.008873156271874905,0.014503156766295433,-0.0028579258359968662,0.02365405485033989,0.029753023758530617,0.02006515860557556,-0.023469677194952965,0.009023641236126423,-0.007165633141994476,-0.04652482271194458,0.02549515664577484,0.0076878126710653305,-0.01696670986711979,-0.03209304064512253,0.0439436249434948,0.06804783642292023,0.05367976054549217,0.025358593091368675,0.04011879861354828,-0.03747503086924553,-0.07598592340946198,0.049838289618492126,0.11307002604007721,-0.0014987706672400236,-0.07435495406389236,-0.009751263074576855,-0.029680956155061722,0.017926987260580063,0.03279957175254822,0.021730035543441772,-0.019168807193636894,-0.01973564550280571,-0.011113300919532776,0.02627532370388508,0.046945665031671524,0.02082012966275215,0.11051195859909058,-0.0019066629465669394,0.02580215595662594,0.005295002367347479,0.02643103525042534,-0.0008543080184608698,0.018737182021141052,-0.01505933329463005,0.023311613127589226,0.021051550284028053,0.034920286387205124,0.02019936591386795,0.01326174195855856,0.09515691548585892,0.006367370020598173,-0.00042116770055145025,0.0074808537028729916,-0.04591793194413185,-0.014756141230463982,0.03295564651489258,-0.02808041125535965,-0.017788639292120934,-0.014680294319987297,-0.003696073079481721,0.01418840978294611,-0.02982426807284355,-0.001871279557235539,0.010668045841157436,0.09683552384376526,0.006675302516669035,0.010265578515827656,0.08580853790044785,-0.06985938549041748,-0.0009351861081086099,-0.05732681229710579,0.05720335617661476,-0.017856230959296227,-0.03117532469332218,-0.004800992086529732,-0.025235207751393318,0.05878453329205513,-0.008344972506165504,0.07269993424415588,-0.030218616127967834,-0.012919723987579346,-0.007497115526348352,-0.012525185942649841,0.030926698818802834,0.04741434380412102,-0.029989443719387054,-0.012958218343555927,0.040501225739717484,-0.02224893867969513,-0.008635449223220348,-0.030308661982417107,0.005202017724514008,0.027785878628492355,-0.0192117877304554,-0.05548074468970299,0.026302486658096313,0.012908924371004105,-0.02635910175740719,0.029321717098355293,-0.04913303256034851,-0.014861495234072208,-0.0531255342066288,0.06712841242551804,-0.028682386502623558,0.062173034995794296,0.007962523028254509,-0.04431641101837158,-0.024516675621271133,-0.08830345422029495,0.07049179822206497,0.013840197585523129,0.03362739458680153,-0.03435249999165535,-0.0007269299239851534,-0.004132185131311417,0.016495289281010628,-0.010454573668539524,0.059015240520238876,0.010027405805885792,-0.0108981654047966,-0.014273186214268208,0.06496129930019379,0.0021628662943840027,0.02997344546020031,0.030465928837656975,-0.08508188277482986,0.011332894675433636,-0.011317447759211063,-0.032241884618997574,0.052487585693597794,-0.010072414763271809,0.08420421928167343,0.02197764441370964,-0.031137609854340553,-0.028886504471302032,0.003491931362077594,-0.01116885058581829,-0.011112219654023647,-0.037124667316675186,-0.025059422478079796,0.012060604989528656,-0.0025359694845974445,0.00945232156664133,-0.047485604882240295,-0.0139321843162179,-0.013945274986326694,0.017983566969633102,0.03479960560798645,-0.009496056474745274,0.008316392078995705,-0.014167862944304943,-0.04564623162150383,-0.07014813274145126,0.017093554139137268,-0.02857723832130432,-0.0806347206234932,-0.001523716957308352,-0.020127370953559875,0.1079559251666069,0.03847208246588707,-0.13005481660366058,0.05510605126619339,0.04755660146474838,0.061453014612197876,-0.0013080476783216,-0.027745787054300308,0.02275235764682293,-0.03288775682449341,-0.04412902146577835,-0.035737015306949615,-0.03279872238636017,-0.04807112365961075,-0.00011138407717226073,-0.02071845345199108,-0.006650171708315611,0.0550568513572216,0.029860207810997963,0.024553507566452026,0.02462867647409439,0.00988699495792389,-0.005927639547735453,0.003917251247912645,-0.08519802987575531,0.057074885815382004,0.04625702276825905,0.04021012783050537,0.002689640736207366,-0.041440609842538834,-0.010275213979184628,-0.0016035318840295076,-0.008243396878242493,0.005166756454855204,0.028596987947821617,0.022316791117191315,0.04304214194417,-0.02695334702730179,0.0590936616063118,0.008548103272914886,-0.02971409633755684,-0.02972828596830368,-0.003336692927405238,0.004585593473166227,-0.012085235677659512,0.006263385992497206,0.036845602095127106,-0.0032417166512459517,-0.07243014872074127,-0.03617732971906662,0.008402160368859768,0.05586623772978783,-0.06974218040704727,-0.024429408833384514,-0.023206479847431183,0.013580095954239368,0.06883867084980011,-0.003057558089494705,0.04467011243104935,-0.07783190160989761,-0.0005138833075761795,0.03952844813466072,0.02305840700864792,-0.027037493884563446,-0.07444614171981812,-0.039822064340114594,0.0003506327047944069,-0.03618576005101204,0.012053463608026505,-0.034258242696523666,0.02459513023495674,-0.002608009148389101,0.002954520285129547,0.0343111976981163,0.010115005075931549,-0.0033550614025443792,-0.042857199907302856,0.005505810491740704,-0.019775955006480217,-0.012015650980174541,-0.00484042102470994,-0.0412394143640995,0.012144266627728939,0.0498194694519043,0.002246866701170802,0.026447895914316177,-0.05473680421710014,0.015472481027245522,0.05240882188081741,-0.024848636239767075,-0.00258884159848094,-0.007621795404702425,0.0030905595049262047,0.013028859160840511,-0.011834326200187206,-0.03832263872027397,-0.003146532690152526,0.015298813581466675,-0.031668007373809814,-0.042429935187101364,0.01976124197244644,0.006177348084747791,-0.04895283654332161,-0.002598621416836977,-0.01827789470553398,-0.04143819957971573,0.03338806331157684,0.0490824393928051,-0.06537256389856339,-0.01465863361954689,0.02573172003030777,0.0003818661207333207,0.030368607491254807,-0.04043765366077423,0.02446524053812027,0.037466756999492645,-0.06750275194644928,-0.01821478269994259,0.03041166625916958,-0.07856075465679169,-0.0021263491362333298,-0.024387631565332413,-0.03793655335903168,-0.03437209501862526,0.012722049839794636,0.018890324980020523,-0.029783112928271294,-0.04490954801440239,-0.021043363958597183,-0.03781736642122269,-0.03525343909859657,-0.007490646559745073,0.045212674885988235,0.0117427883669734,0.017812427133321762,0.014466670341789722,0.01414403971284628,-0.0960608497262001,0.03171800822019577,0.07655028253793716,-0.03194967657327652,-0.04197628051042557,0.04042913019657135,0.0010756428819149733,0.050346359610557556,-0.0027238549664616585,0.0047587002627551556,0.05983676761388779,-0.0044621555134654045,0.001130425138399005,-0.009668609127402306,-0.026884766295552254,-0.05195300653576851,-0.08956891298294067,0.005686200223863125,-0.009873691946268082,-0.012491079047322273,-0.035460129380226135,-0.03179080784320831,0.003382874419912696,0.025526493787765503,0.017589066177606583,-0.03569970652461052,-0.024858597666025162,0.031860850751399994,-0.013456654734909534,-0.026649339124560356,-0.08963928371667862,0.03141806274652481,0.0494421012699604,-0.06610769033432007,-0.02293735183775425,-0.01568727381527424,0.011275320313870907,0.025225596502423286,0.0023059966042637825,-0.004944751970469952,0.005821445491164923,0.04145136475563049,-0.03250713273882866,0.051182836294174194,0.003366079181432724,-0.025189869105815887,0.048887211829423904,-0.07514730095863342,-0.02004064992070198,0.0447012223303318,0.005092144012451172,-0.019971054047346115,0.03103385865688324,0.02647729404270649,0.05555923655629158,0.010643238201737404,-0.04959242418408394,-0.05844123661518097,0.051718518137931824,0.012426353991031647,-0.016567710787057877,0.0076334523037076,0.030844364315271378,-0.013601780869066715,-0.014426072128117085,-0.015074942260980606,0.022658471018075943,0.004144817590713501,-0.034067027270793915,-0.03787783160805702,0.02369241788983345,-0.04902122542262077,-5.963979322124327e-33,-0.01896035298705101,-0.00824685674160719,-0.023843150585889816,0.02242804318666458,0.07241825759410858,-0.06349443644285202,0.0031704844441264868,-0.019426947459578514,0.016213487833738327,0.005330175161361694,0.0025620919186621904,-0.04762395843863487,0.02142815850675106,-0.01182903815060854,0.02050194889307022,0.008851666934788227,0.0004123516846448183,-0.012121643871068954,0.02666892111301422,-0.010366559028625488,-0.10391417890787125,0.009339514188468456,-0.024492856115102768,0.02636650763452053,-0.05100810155272484,-0.029589960351586342,-0.01910370960831642,0.029826927930116653,0.0014076005900278687,0.018178096041083336,-0.0063478522934019566,-0.03853057697415352,-0.03347767889499664,0.01376901101320982,0.02857339382171631,-0.032930951565504074,-0.012831812724471092,0.009048179723322392,0.0227451603859663,0.018492640927433968,0.08318041265010834,0.040537137538194656,0.009780650958418846,0.0005304858786985278,0.011935625225305557,0.007322148885577917,0.0080938208848238,-0.02043217234313488,-0.015965236350893974,-0.009767516516149044,0.005389707628637552,0.0179591067135334,0.00027363075059838593,-0.009347100742161274,0.028682401403784752,0.030094927176833153,0.028829319402575493,-0.015269782394170761,-0.026336930692195892,0.027838055044412613,-0.004908856935799122,-0.054615214467048645,0.0010513331508263946,-0.03427174687385559,0.040536846965551376,0.008040842600166798,0.01605905033648014,-0.0007790587260387838,0.042350251227617264,-0.0173233263194561,-0.02181590348482132,0.03385340794920921,0.00911932997405529,-0.027312660589814186,0.030023744329810143,0.06844915449619293,0.03214934468269348,0.020590486004948616,0.02672831155359745,0.10527394711971283,-0.01298051793128252,0.028537079691886902,-0.005679656285792589,0.014242265373468399,0.0281640887260437,-0.04786181449890137,-0.007589914835989475,-0.0434340238571167,0.037594985216856,0.03898205980658531,-0.034735262393951416,0.004868031479418278,-0.05055885761976242,0.04405791684985161,-0.043363336473703384,0.0037895268760621548,0.04909748584032059,0.03427927568554878,-0.003981880843639374,-0.08087197691202164,0.025255603715777397,-0.018391111865639687,-0.006898860447108746,-0.04825243726372719,-0.03749517723917961,0.0036382500547915697,-0.0009300647070631385,-0.004933255724608898,-0.019890569150447845,0.005433722864836454,0.05118647590279579,0.0022552029695361853,0.007561059668660164,-0.012079182080924511,-0.029187088832259178,-0.006349058821797371,-0.03753698617219925,-0.014237532392144203,0.009659131988883018,-0.015114235691726208,0.022581137716770172,-0.00628381734713912,0.03086909092962742,-0.0021319701336324215,0.04531287029385567,-0.020075252279639244,0.022488977760076523,-0.028163475915789604,0.044442228972911835,0.012041970156133175,-0.010491307824850082,0.04099084809422493,2.7302601779410907e-7,0.023127753287553787,0.02042999304831028,-0.03890606015920639,0.05172170326113701,0.017232021316885948,-0.040858980268239975,0.0033716396428644657,-0.02297583594918251,0.008986230008304119,-0.07513667643070221,0.053894516080617905,0.01957007497549057,0.03546608239412308,0.035800155252218246,-0.028582220897078514,-0.032270126044750214,0.05089538171887398,-0.08239661157131195,-0.012616772204637527,-0.006351808086037636,0.040911342948675156,0.020490139722824097,0.03594021871685982,0.019883418455719948,0.03692714497447014,0.018147582188248634,-0.016264060512185097,-0.0790407806634903,0.018130844458937645,-0.03324175253510475,0.02153661660850048,-0.0018800186226144433,-0.004816022701561451,-0.01568150334060192,0.027918178588151932,-0.014264950528740883,0.02601088583469391,0.013650789856910706,0.036889784038066864,0.03724948689341545,0.007731430232524872,-0.07315048575401306,0.003143695881590247,-0.08995478600263596,-0.032363902777433395,-0.025452150031924248,0.057882629334926605,-0.023106733337044716,-0.04677262529730797,-0.019644392654299736,0.036344632506370544,0.000046219618525356054,0.049869880080223083,-0.024911418557167053,0.021244261413812637,-0.013693340122699738,-0.0026963946875184774,0.04226883128285408,0.016775954514741898,0.002638325560837984,0.002971677342429757,-0.010317688807845116,0.008831621147692204,-0.022058656439185143,0.006879099179059267,-0.001092221005819738,0.011678204871714115,2.7531804203585744e-34,0.049318842589855194,0.0164343174546957,0.035344403237104416,0.038464922457933426,0.02862096019089222,-0.01607651263475418,0.0072648609057068825,-0.029846124351024628,0.0177561454474926,-0.0652979388833046,-0.0018112461548298597]'
SET
  @TechnicalDesignVector_f9c939a3 = N'[0.009236537851393223,-0.00621275557205081,0.006890708580613136,-0.051591359078884125,-0.01940242573618889,-0.0012250171275809407,0.042895179241895676,0.06434503197669983,-0.013213284313678741,-0.04813307523727417,-0.00969556625932455,0.010361826978623867,0.04762771725654602,0.11141957342624664,0.00201439275406301,-0.05405646562576294,-0.039730772376060486,0.05856456235051155,0.015018340200185776,0.010571555234491825,0.024275215342640877,-0.0359090231359005,-0.06021186709403992,-0.03157321363687515,0.012785524129867554,-0.014045397751033306,-0.07307058572769165,0.019936643540859222,0.02489442192018032,-0.03592069074511528,0.030093306675553322,0.06219314783811569,-0.060953326523303986,0.004347304347902536,0.000001909288812385057,-0.020270105451345444,-0.02487645111978054,-0.0038595751393586397,-0.002050223993137479,0.021086793392896652,-0.015944402664899826,0.019519273191690445,0.01688479818403721,-0.0038494188338518143,0.00773937301710248,-0.1021188274025917,-0.020556848496198654,0.05472409725189209,0.05587112158536911,-0.00614059017971158,0.020897869020700455,-0.012670084834098816,-0.02308814786374569,0.0038288491778075695,0.015220253728330135,0.04254292696714401,0.02769521065056324,0.01854815147817135,0.06510040163993835,0.0015598965110257268,0.007445840630680323,-0.0158980805426836,-0.006466065067797899,-0.04568193107843399,-0.04198026284575462,0.003962111193686724,-0.011355377733707428,-0.05530250072479248,0.004615345038473606,0.025321675464510918,0.07527274638414383,-0.04124342277646065,0.005166445858776569,-0.05533246323466301,0.007286270149052143,0.009949639439582825,0.0000526107796758879,0.031045252457261086,-0.007012347225099802,0.008367315866053104,-0.02876139245927334,0.026970433071255684,-0.014380118809640408,-0.027845347300171852,-0.0497535765171051,0.10679028183221817,-0.005826619453728199,-0.011999176815152168,-0.075060173869133,-0.020510904490947723,0.11559354513883591,-0.02098006382584572,-0.028533946722745895,0.018547791987657547,-0.03498091176152229,0.008747615851461887,0.02593449130654335,-0.015619306825101376,0.008245663717389107,0.019853714853525162,-0.06626472622156143,0.04039308428764343,0.031412843614816666,0.021750837564468384,0.050027571618556976,0.030437298119068146,0.01256526354700327,-0.012854129076004028,-0.05412574112415314,0.012979480437934399,0.01837945356965065,0.010203290730714798,0.005101500079035759,0.026108117774128914,-0.006159614305943251,-0.028850296512246132,-0.00954144075512886,0.0015390539774671197,0.00719040259718895,0.06211462616920471,0.08352071046829224,0.022689402103424072,-0.0009647788247093558,-0.030340297147631645,0.036287110298871994,-0.004137933719903231,0.018084844574332237,-0.08315763622522354,0.03395975008606911,-0.028927689418196678,-0.021275639533996582,-0.03395991772413254,-0.00534779392182827,-0.011054771952331066,-0.047083303332328796,-0.05802669748663902,-0.010297904722392559,0.03382240608334541,0.007332597393542528,0.0761597603559494,0.018303802236914635,0.017292577773332596,-0.03985355794429779,0.10369453579187393,-0.01647128164768219,0.053395871073007584,-0.0003261901729274541,-0.02187797799706459,0.008027832955121994,0.02015146054327488,0.000747570360545069,-0.00015697737399023026,-0.008897943422198296,0.01046060025691986,-0.04180976748466492,0.02134443074464798,0.029983943328261375,0.0022499843034893274,-0.007842409424483776,0.07839769124984741,0.018029771745204926,-0.052603334188461304,0.02171989344060421,0.028268450871109962,-0.048318784683942795,-0.014559008181095123,-0.09343277662992477,-0.020329266786575317,-0.06312904506921768,-0.08101804554462433,-0.019805908203125,-0.06198529154062271,0.007443833164870739,-0.005588192492723465,0.005674560088664293,0.009262179024517536,0.12612631916999817,-0.0007720084977336228,-0.07158450037240982,0.03528852015733719,0.04678112268447876,-0.045327283442020416,0.02195698395371437,-0.005429049488157034,0.01564813405275345,-0.027828125283122063,-0.05664690583944321,0.015183073468506336,-0.02458248659968376,0.023903487250208855,-0.026811886578798294,0.05067038536071777,0.0047986325807869434,0.03910824656486511,-0.03452055901288986,0.006114010699093342,-0.01730879209935665,0.03259814903140068,0.034866247326135635,0.04610776528716087,-0.016917981207370758,0.0012715680059045553,0.028388751670718193,0.07325001806020737,0.025811458006501198,-0.03623633459210396,-0.0028342348523437977,-0.037366971373558044,0.031522925943136215,0.07388769835233688,0.03511812165379524,0.02017715759575367,-0.07122179865837097,0.020372537896037102,-0.05313164368271828,-0.013975894078612328,0.033705033361911774,0.0239468552172184,-0.04986048862338066,-0.028415288776159286,-0.007036952767521143,0.0758342370390892,0.03656725585460663,0.025208251550793648,0.12357241660356522,0.0252686757594347,-0.01935398578643799,-0.03018997795879841,0.02617611549794674,-0.02638106979429722,-0.00886486191302538,-0.0016218391247093678,0.024963706731796265,0.0718437060713768,0.02697066217660904,0.017941730096936226,0.006470027845352888,0.03499215468764305,0.0070617529563605785,0.03494888171553612,0.04043000563979149,0.003224015235900879,-0.06331183016300201,0.010941947810351849,-0.0011151486542075872,-0.03354862332344055,-0.057260945439338684,0.01096357498317957,-0.020535549148917198,0.008547896519303322,0.031318068504333496,0.0296584814786911,0.06430229544639587,-0.05557963252067566,-0.010516747832298279,0.06140351668000221,0.005267948377877474,0.009342866018414497,-0.02052585780620575,0.06296515464782715,0.04585718736052513,-0.06040046736598015,-0.015930144116282463,-0.030432233586907387,0.01099275890737772,-0.004744141362607479,0.0626368448138237,0.004380217753350735,-0.004656320903450251,-0.012415563687682152,0.00520352041348815,0.03004341945052147,0.006744985468685627,-0.017416218295693398,-0.004349318332970142,-0.002906311536207795,-0.0019006526563316584,0.04419272765517235,-0.03945852816104889,-0.014606581069529057,0.009970786981284618,-0.029025757685303688,-0.044949375092983246,0.01757424883544445,0.035095974802970886,0.008740333840250969,-0.02310352772474289,-0.09040471166372299,-0.04642032831907272,0.004251196049153805,0.029238909482955933,-0.012817468494176865,0.03308315575122833,-0.031015796586871147,-0.0244189091026783,-0.003339241025969386,-0.06881102919578552,0.09734772145748138,0.0422905758023262,0.03241748735308647,-0.07897919416427612,-0.015562884509563446,-0.012658742256462574,0.020969262346625328,-0.023099273443222046,0.09012533724308014,0.002820901572704315,0.0004645136359613389,0.00397495785728097,0.06772484630346298,-0.020103422924876213,0.03364617004990578,-0.0010403568157926202,0.014437957666814327,0.00769937364384532,0.029460933059453964,0.004747365135699511,0.04319845512509346,-0.023781824856996536,0.06980805844068527,-0.01810932531952858,0.005260968115180731,-0.02172655239701271,-0.015611161477863789,-0.03116529807448387,0.045339327305555344,-0.02258525975048542,-0.026846183463931084,-0.04812879115343094,0.00604909798130393,-0.003967771772295237,-0.04140410199761391,-0.014367109164595604,-0.017016533762216568,0.017612233757972717,-0.0022592730820178986,-0.04422256723046303,-0.011897306889295578,0.01213398203253746,0.012452342547476292,-0.053767088800668716,-0.027233581990003586,-0.05423221364617348,-0.0062837316654622555,0.04773576930165291,0.004574889782816172,0.042165666818618774,0.02168649435043335,-0.12583290040493011,0.05721842870116234,0.04274370148777962,0.06510311365127563,-0.004402677528560162,0.017327092587947845,-0.017025653272867203,0.019340863451361656,-0.040964629501104355,0.018100135028362274,-0.03782516345381737,-0.008012240752577782,-0.018127622082829475,0.04750094935297966,-0.0007699657580815256,0.012815771624445915,0.01761220023036003,-0.01479009073227644,0.049405958503484726,-0.01578911580145359,-0.00851080659776926,-0.03705992549657822,-0.032180558890104294,0.026472918689250946,0.046857379376888275,0.03489426523447037,-0.019023295491933823,-0.05459028482437134,0.006355104502290487,0.0036128289066255093,0.00862104818224907,0.01006622426211834,0.029421169310808182,0.005852094851434231,0.05111875757575035,-0.031711895018815994,0.0066744922660291195,0.04360217601060867,-0.01797361671924591,-0.023519955575466156,0.022855523973703384,0.0005909103783778846,0.007913162931799889,-0.050753675401210785,0.06809788197278976,0.04695015773177147,-0.03361603617668152,0.025676682591438293,-0.011117508634924889,0.034199900925159454,-0.004680909216403961,0.010830149054527283,0.0012410677736625075,0.017489027231931686,-0.0017600503051653504,-0.006599299609661102,0.08895322680473328,-0.0018857362447306514,-0.02754119597375393,0.047974180430173874,-0.01381414383649826,-0.048102766275405884,-0.0319896936416626,-0.08503948152065277,0.00911001581698656,-0.03808733820915222,-0.04308437928557396,-0.032696813344955444,-0.022264430299401283,-0.039431266486644745,0.0015058601275086403,0.07150506228208542,0.020440053194761276,-0.01193638052791357,-0.0011453956831246614,-0.03572079539299011,0.03093530982732773,-0.006987002678215504,-0.034434471279382706,-0.06930118799209595,-0.007244134787470102,0.025919124484062195,-0.01071257796138525,0.012917054817080498,-0.07353916764259338,0.015058694407343864,0.020990785211324692,-0.05156252160668373,-0.036449383944272995,0.0014707992086187005,-0.004394934047013521,-0.008605034090578556,-0.004583200439810753,-0.0425272099673748,0.030850503593683243,0.005886806640774012,-0.012898655608296394,-0.1079130694270134,-0.003628307254984975,-0.005241276230663061,-0.01282794214785099,-0.03759822994470596,-0.00948914885520935,0.013352730311453342,-0.042685367166996,0.018085122108459473,-0.0598607137799263,-0.04234471544623375,0.003799556288868189,0.028125949203968048,-0.0032104705460369587,-0.002656647004187107,0.008107378147542477,0.03533543646335602,-0.061157356947660446,-0.018834559246897697,0.01312921941280365,-0.03190019354224205,-0.007359954994171858,0.008142597042024136,-0.020491642877459526,-0.04742308333516121,-0.0454915314912796,-0.0046333130449056625,-0.038052670657634735,-0.012954963371157646,-0.012602587230503559,0.00968744233250618,-0.03577696159482002,0.02373233437538147,0.01796623319387436,0.01586047187447548,-0.0022191551979631186,-0.023639453575015068,0.011767885647714138,-0.11560327559709549,0.043267760425806046,0.07324239611625671,-0.04973100870847702,-0.019075972959399223,-0.010266650468111038,0.029740165919065475,0.032706182450056076,-0.02714873105287552,0.005305920727550983,0.1070534735918045,0.033051490783691406,0.04142434895038605,0.027714336290955544,-0.005387955345213413,-0.08181313425302505,-0.0683683529496193,-0.020100895315408707,-0.007364221848547459,0.0017045167041942477,0.03540629521012306,0.002631004434078932,0.0325097031891346,0.015844834968447685,0.07758872956037521,0.03089899942278862,-0.0010513578308746219,0.004900365136563778,0.05891698598861694,-0.03460656479001045,-0.025714438408613205,0.011963623575866222,0.04883759096264839,-0.024365346878767014,0.01538971159607172,0.0128680020570755,0.03236342594027519,0.02214045077562332,0.025597555562853813,-0.009971929714083672,0.0452868826687336,-0.0013177491491660476,-0.07333580404520035,0.05375320836901665,-0.004140309989452362,0.035876329988241196,0.04233303293585777,0.04024338349699974,-0.05147083103656769,-0.01582878641784191,-0.02402598410844803,-0.01484511699527502,0.0475614108145237,-0.03922424465417862,0.04842618852853775,-0.013535398058593273,-0.04196520894765854,-0.09593060612678528,-0.001659683301113546,0.013188334181904793,-0.009307191707193851,0.02666747011244297,0.006496086250990629,0.0010378058068454266,-0.017323050647974014,0.027775418013334274,-0.0009903225582093,-0.001019056304357946,-0.042431700974702835,-0.04827864468097687,0.012501053512096405,-0.025064555928111076,-6.401501992920228e-33,-0.05308801308274269,-0.021768953651189804,-0.0415193997323513,0.01705881953239441,0.01946358196437359,-0.05835047364234924,-0.003180930856615305,-0.021945619955658913,0.012464611791074276,-0.004192324820905924,-0.02951701544225216,0.001083202543668449,0.014292840845882893,0.007895325310528278,-0.06953715533018112,-0.03509600833058357,0.007373272906988859,0.018068810924887657,-0.008808252401649952,0.012134852819144726,-0.037771210074424744,0.018974225968122482,-0.004980915691703558,0.014518835581839085,-0.06809316575527191,-0.01279121171683073,0.01935955323278904,-0.008645079098641872,-0.06229083985090256,-0.0048985774628818035,-0.012040268629789352,-0.03237937390804291,-0.01918507181107998,0.002063607797026634,0.04883689805865288,-0.028584061190485954,-0.009731574915349483,-0.004091788548976183,0.04457475244998932,0.0556974783539772,0.07562661170959473,0.048905450850725174,0.009148535318672657,0.013173752464354038,0.003055238164961338,-0.0026896395720541477,0.013580786064267159,-0.03176295384764671,-0.020106658339500427,-0.001875082845799625,0.040480680763721466,0.007931572385132313,-0.02740408666431904,0.01952836476266384,0.00849838089197874,0.022898662835359573,0.043754592537879944,0.03841803967952728,-0.013754214160144329,-0.0009210772113874555,0.04022476449608803,0.011734000407159328,0.024271737784147263,0.03307490795850754,0.035722024738788605,0.059053223580121994,0.013770967721939087,0.0557122528553009,-0.04593781754374504,-0.0317489318549633,-0.02012971229851246,0.0070864250883460045,0.015864236280322075,-0.07756395637989044,-0.0014386314433068037,0.029004713520407677,0.01921038329601288,-0.009161720052361488,0.003806469962000847,0.08482131361961365,-0.018605558201670647,0.04253730922937393,0.010682511143386364,0.01787804439663887,-0.003964050207287073,0.0282070804387331,0.01599663309752941,-0.04803844913840294,0.02811584807932377,0.032848671078681946,-0.045599162578582764,0.014865316450595856,-0.03623109683394432,0.03801074996590614,-0.038804374635219574,0.01650376431643963,0.029869675636291504,0.004791004117578268,-0.026239527389407158,-0.048683132976293564,0.02634187787771225,0.018773404881358147,-0.006682899314910173,-0.01328154094517231,-0.05539313331246376,0.010790655389428139,-0.01510827336460352,0.017924413084983826,-0.036871448159217834,0.009189530275762081,0.0008969003683887422,-0.022833190858364105,-0.03591460362076759,-0.017139829695224762,-0.016513250768184662,0.004849444609135389,-0.0397857129573822,-0.001522490056231618,0.03629090264439583,0.010818523354828358,0.04475657269358635,-0.011031342670321465,-0.03611275181174278,-0.0015774376224726439,0.044135842472314835,-0.027726512402296066,-0.024199513718485832,0.01190547551959753,0.006143874954432249,-0.01689440757036209,0.01931217685341835,0.01970767229795456,2.8032613386130834e-7,0.0262107253074646,0.0021255870815366507,0.0022702498827129602,0.007321276236325502,0.0838397815823555,-0.0708330050110817,-0.026864588260650635,-0.03193892911076546,0.02681286260485649,-0.1440916508436203,0.0014942414127290249,-0.013514728285372257,0.03772351145744324,0.005321654956787825,-0.026212573051452637,-0.03850371763110161,0.031576428562402725,-0.06514721363782883,-0.02928187884390354,-0.0025642248801887035,0.028149932622909546,-0.006611800752580166,0.02337745577096939,0.024494508281350136,0.006806185003370047,0.00669733015820384,0.014386304654181004,0.0034980271011590958,0.030465109273791313,-0.02085970528423786,0.07187405973672867,-0.018757961690425873,-0.025091174989938736,-0.019010761752724648,0.023496011272072792,0.004423070233315229,-0.007498804945498705,0.015429338440299034,0.04160699620842934,0.06144874170422554,-0.03401917219161987,-0.023044049739837646,-0.017995651811361313,-0.01938002184033394,0.03897700086236,-0.01799619197845459,0.027542952448129654,0.012559725902974606,-0.07121507078409195,-0.01924150250852108,-0.017401156947016716,0.038602761924266815,0.005262637045234442,-0.009778453037142754,0.000017838305211625993,-0.026644540950655937,-0.01609986461699009,0.0029035075567662716,-0.041079163551330566,-0.06404361873865128,-0.04079604148864746,-0.01694084331393242,-0.020383313298225403,-0.020407062023878098,0.0152540048584342,0.021474994719028473,-0.05273834988474846,3.1444405007874072e-34,0.04331027343869209,-0.00035499854129739106,-0.004102964419871569,0.033488061279058456,0.022568251937627792,-0.01771186664700508,0.01042516902089119,-0.009034975431859493,0.017618725076317787,-0.04984389618039131,0.007431535515934229]'
SET
  @HasCustomProps_f9c939a3 = 1
SET
  @HasCustomEvents_f9c939a3 = 1
SET
  @RequiresData_f9c939a3 = 1
SET
  @DependencyCount_f9c939a3 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_f9c939a3 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_f9c939a3 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_f9c939a3 = 1
SET
  @ID_f9c939a3 = '42690037-7F0B-49F4-9617-182D7567BB64'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_f9c939a3,
  @Name = @Name_f9c939a3,
  @Version = @Version_f9c939a3,
  @VersionSequence = @VersionSequence_f9c939a3,
  @Title = @Title_f9c939a3,
  @Description = @Description_f9c939a3,
  @Type = @Type_f9c939a3,
  @Status = @Status_f9c939a3,
  @DeveloperName = @DeveloperName_f9c939a3,
  @DeveloperEmail = @DeveloperEmail_f9c939a3,
  @DeveloperOrganization = @DeveloperOrganization_f9c939a3,
  @SourceRegistryID = @SourceRegistryID_f9c939a3,
  @ReplicatedAt = @ReplicatedAt_f9c939a3,
  @LastSyncedAt = @LastSyncedAt_f9c939a3,
  @Specification = @Specification_f9c939a3,
  @FunctionalRequirements = @FunctionalRequirements_f9c939a3,
  @TechnicalDesign = @TechnicalDesign_f9c939a3,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_f9c939a3,
  @TechnicalDesignVector = @TechnicalDesignVector_f9c939a3,
  @HasCustomProps = @HasCustomProps_f9c939a3,
  @HasCustomEvents = @HasCustomEvents_f9c939a3,
  @RequiresData = @RequiresData_f9c939a3,
  @DependencyCount = @DependencyCount_f9c939a3,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_f9c939a3,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_f9c939a3,
  @HasRequiredCustomProps = @HasRequiredCustomProps_f9c939a3,
  @ID = @ID_f9c939a3;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_1a465b36 NVARCHAR(MAX),
@Name_1a465b36 NVARCHAR(500),
@Version_1a465b36 NVARCHAR(50),
@VersionSequence_1a465b36 INT,
@Title_1a465b36 NVARCHAR(1000),
@Description_1a465b36 NVARCHAR(MAX),
@Type_1a465b36 NVARCHAR(255),
@Status_1a465b36 NVARCHAR(50),
@DeveloperName_1a465b36 NVARCHAR(255),
@DeveloperEmail_1a465b36 NVARCHAR(255),
@DeveloperOrganization_1a465b36 NVARCHAR(255),
@SourceRegistryID_1a465b36 UNIQUEIDENTIFIER,
@ReplicatedAt_1a465b36 DATETIMEOFFSET,
@LastSyncedAt_1a465b36 DATETIMEOFFSET,
@Specification_1a465b36 NVARCHAR(MAX),
@FunctionalRequirements_1a465b36 NVARCHAR(MAX),
@TechnicalDesign_1a465b36 NVARCHAR(MAX),
@FunctionalRequirementsVector_1a465b36 NVARCHAR(MAX),
@TechnicalDesignVector_1a465b36 NVARCHAR(MAX),
@HasCustomProps_1a465b36 BIT,
@HasCustomEvents_1a465b36 BIT,
@RequiresData_1a465b36 BIT,
@DependencyCount_1a465b36 INT,
@TechnicalDesignVectorEmbeddingModelID_1a465b36 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_1a465b36 NVARCHAR(MAX),
@HasRequiredCustomProps_1a465b36 BIT,
@ID_1a465b36 UNIQUEIDENTIFIER
SET
  @Namespace_1a465b36 = N'CRM/Customer'
SET
  @Name_1a465b36 = N'Customer360Overview'
SET
  @Version_1a465b36 = N'1.0.0'
SET
  @VersionSequence_1a465b36 = 1
SET
  @Title_1a465b36 = N'Customer 360 Overview'
SET
  @Description_1a465b36 = N'Overview tab showing customer summary and key metrics'
SET
  @Type_1a465b36 = N'Report'
SET
  @Status_1a465b36 = N'Published'
SET
  @Specification_1a465b36 = N'{"name":"Customer360Overview","location":"embedded","code":"function Customer360Overview({ account, contacts, deals, engagementScore }) {\n  // Ensure arrays are defined\n  const safeDeals = deals || [];\n  const safeContacts = contacts || [];\n  const safeEngagementScore = engagementScore || 0;\n  \n  const formatCurrency = (value) => {\n    if (!value) return ''$0'';\n    if (value >= 1000000) return `$$' + '{(value / 1000000).toFixed(1)}M`;\n    if (value >= 1000) return `$$' + '{(value / 1000).toFixed(0)}K`;\n    return `$$' + '{value.toFixed(0)}`;\n  };\n\n  const getEngagementColor = (score) => {\n    if (score >= 70) return ''#10B981'';\n    if (score >= 40) return ''#F59E0B'';\n    return ''#EF4444'';\n  };\n\n  const totalRevenue = safeDeals\n    .filter(d => d.Stage === ''Closed Won'')\n    .reduce((sum, d) => sum + (d.Amount || 0), 0);\n  \n  const activeDeals = safeDeals.filter(d => ![''Closed Won'', ''Closed Lost''].includes(d.Stage));\n\n  return (\n    <div style={{ display: ''grid'', gridTemplateColumns: ''repeat(auto-fit, minmax(250px, 1fr))'', gap: ''20px'' }}>\n      <div style={{\n        padding: ''20px'',\n        backgroundColor: ''white'',\n        borderRadius: ''8px'',\n        boxShadow: ''0 1px 3px rgba(0, 0, 0, 0.1)''\n      }}>\n        <h3 style={{ margin: ''0 0 16px 0'', fontSize: ''14px'', color: ''#6B7280'' }}>Engagement Score</h3>\n        <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: getEngagementColor(safeEngagementScore) }}>\n          {safeEngagementScore}%\n        </div>\n        <div style={{ marginTop: ''8px'', fontSize: ''12px'', color: ''#9CA3AF'' }}>\n          {safeEngagementScore >= 70 ? ''Highly Engaged'' : safeEngagementScore >= 40 ? ''Moderately Engaged'' : ''Low Engagement''}\n        </div>\n      </div>\n\n      <div style={{\n        padding: ''20px'',\n        backgroundColor: ''white'',\n        borderRadius: ''8px'',\n        boxShadow: ''0 1px 3px rgba(0, 0, 0, 0.1)''\n      }}>\n        <h3 style={{ margin: ''0 0 16px 0'', fontSize: ''14px'', color: ''#6B7280'' }}>Lifetime Value</h3>\n        <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: ''#111827'' }}>\n          {formatCurrency(totalRevenue)}\n        </div>\n        <div style={{ marginTop: ''8px'', fontSize: ''12px'', color: ''#9CA3AF'' }}>\n          {safeDeals.filter(d => d.Stage === ''Closed Won'').length} closed deals\n        </div>\n      </div>\n\n      <div style={{\n        padding: ''20px'',\n        backgroundColor: ''white'',\n        borderRadius: ''8px'',\n        boxShadow: ''0 1px 3px rgba(0, 0, 0, 0.1)''\n      }}>\n        <h3 style={{ margin: ''0 0 16px 0'', fontSize: ''14px'', color: ''#6B7280'' }}>Active Opportunities</h3>\n        <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: ''#4F46E5'' }}>\n          {activeDeals.length}\n        </div>\n        <div style={{ marginTop: ''8px'', fontSize: ''12px'', color: ''#9CA3AF'' }}>\n          Worth {formatCurrency(activeDeals.reduce((sum, d) => sum + (d.Amount || 0), 0))}\n        </div>\n      </div>\n\n      <div style={{\n        padding: ''20px'',\n        backgroundColor: ''white'',\n        borderRadius: ''8px'',\n        boxShadow: ''0 1px 3px rgba(0, 0, 0, 0.1)''\n      }}>\n        <h3 style={{ margin: ''0 0 16px 0'', fontSize: ''14px'', color: ''#6B7280'' }}>Contacts</h3>\n        <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: ''#111827'' }}>\n          {safeContacts.length}\n        </div>\n        <div style={{ marginTop: ''8px'', fontSize: ''12px'', color: ''#9CA3AF'' }}>\n          Key relationships\n        </div>\n      </div>\n    </div>\n  );\n}","description":"Overview tab showing customer summary and key metrics","category":"Customer","type":"overview","dataRequirements":{"mode":"views","entities":[{"name":"Accounts","displayFields":["AccountName","Industry","AnnualRevenue","CreatedAt"],"filterFields":["ID"]},{"name":"Contacts","displayFields":["FirstName","LastName","Email","Phone","AccountID"],"filterFields":["AccountID"]},{"name":"Deals","displayFields":["DealName","Stage","Amount","CloseDate","AccountID"],"filterFields":["AccountID"]},{"name":"Activities","displayFields":["Subject","Type","CreatedAt","AccountID"],"filterFields":["AccountID"]}]},"properties":[{"name":"account","type":"object","required":true,"description":"Account entity object"},{"name":"contacts","type":"array","required":true,"description":"Array of contact objects"},{"name":"deals","type":"array","required":true,"description":"Array of deal objects"},{"name":"engagementScore","type":"number","required":true,"description":"Calculated engagement score (0-100)"}],"usageExample":"```javascript\n<Customer360Overview\n  account={account}\n  contacts={contacts}\n  deals={deals}\n  engagementScore={engagementScore}\n/>\n```","functionalRequirements":"- Display customer key information\n- Show engagement score with color coding\n- Display total revenue and active deals\n- Show number of contacts\n- Calculate and display customer lifetime value\n- Use color-coded metrics based on values","technicalDesign":"Renders metric cards in a grid layout. Calculates lifetime value from deals. Color codes engagement score (green/yellow/red). Uses formatCurrency helper for monetary values."}'
SET
  @FunctionalRequirements_1a465b36 = N'- Display customer key information
- Show engagement score with color coding
- Display total revenue and active deals
- Show number of contacts
- Calculate and display customer lifetime value
- Use color-coded metrics based on values'
SET
  @TechnicalDesign_1a465b36 = N'Renders metric cards in a grid layout. Calculates lifetime value from deals. Color codes engagement score (green/yellow/red). Uses formatCurrency helper for monetary values.'
SET
  @FunctionalRequirementsVector_1a465b36 = N'[0.03847891092300415,-0.015357354655861855,-0.028180982917547226,-0.027031609788537025,-0.01650710590183735,0.042794421315193176,0.02821091189980507,0.01703835278749466,-0.05390351638197899,-0.008452780544757843,-0.033518530428409576,-0.048156045377254486,0.04319809749722481,0.2031991183757782,-0.036120083183050156,-0.06535444408655167,-0.0665198266506195,0.010873544029891491,0.007734478916972876,0.034422650933265686,0.013379329815506935,0.002586754271760583,0.004626867827028036,-0.044036705046892166,-0.0500834621489048,0.01564943976700306,-0.03628142923116684,0.01063421182334423,0.011410785838961601,-0.06621119379997253,0.005454525351524353,0.04435084015130997,-0.06692858785390854,-0.04718351736664772,0.0000014216020645108074,-0.05351828783750534,-0.06414315104484558,0.024976082146167755,-0.05353591963648796,0.0374486967921257,0.07722501456737518,0.007896595634520054,0.07158012688159943,0.007295905612409115,-0.010007702745497227,0.02452715113759041,-0.020980218425393105,0.07135964184999466,0.0181577168405056,-0.01355171762406826,0.018055066466331482,-0.030481724068522453,-0.04717378690838814,0.01971917599439621,-0.04854843020439148,0.015466750599443913,0.008934352546930313,0.04613477364182472,0.02384408749639988,-0.04531855136156082,-0.010828775353729725,-0.008803050965070724,0.02462089993059635,-0.024314871057868004,0.06861412525177002,0.009926443919539452,0.04810110479593277,-0.01671718806028366,-0.015427285805344582,0.0009036191622726619,0.039242539554834366,0.05054038390517235,0.005127763841301203,-0.013853914104402065,-0.011527147144079208,-0.08647470921278,-0.0055042291060090065,-0.014519497752189636,0.03156207501888275,-0.015092575922608376,-0.10320176929235458,0.027894800528883934,-0.04186699166893959,-0.025613022968173027,-0.03710757568478584,-0.03821186348795891,0.004090305417776108,-0.02981487661600113,-0.0029499344527721405,0.00918550044298172,0.025737334042787552,0.01947328820824623,0.0139452014118433,0.005520197097212076,-0.03777756541967392,-0.028384318575263023,0.05096779763698578,0.0223858542740345,0.03147072717547417,-0.05814477801322937,0.01303263008594513,0.0214130450040102,0.0012189493281766772,0.047823965549468994,0.003208523616194725,0.04818644002079964,0.022675640881061554,-0.06606054306030273,-0.033117495477199554,0.031206291168928146,0.017212187871336937,-0.023363962769508362,0.01619110256433487,0.05398077517747879,0.014983640983700752,0.03696597367525101,-0.07824400067329407,0.010422889143228531,-0.009653545916080475,0.04149681702256203,0.10830358415842056,0.037694431841373444,0.038707610219717026,0.003918157424777746,0.009702087379992008,-0.05469973012804985,-0.03515158221125603,-0.06203805282711983,-0.0127676697447896,-0.03085099719464779,0.033661313354969025,0.003511467482894659,-0.005187878850847483,-0.006649242248386145,0.005087333731353283,0.011760466732084751,0.04598003998398781,0.031619176268577576,-0.05923732742667198,-0.024840282276272774,0.014376163482666016,0.01526737678796053,-0.017432736232876778,0.02802850306034088,-0.02124376781284809,0.016292521730065346,-0.048578836023807526,0.04258622229099274,-0.012637173756957054,0.002369941445067525,-0.004025413654744625,-0.0001771566312527284,-0.03501024842262268,0.018929265439510345,-0.03343783691525459,-0.024145886301994324,0.07998760044574738,-0.03619034215807915,-0.02093726396560669,-0.013933968730270863,1.239382072526496e-7,-0.023985793814063072,0.004675215110182762,-0.0020249199587851763,-0.029513409361243248,0.007989456877112389,-0.020772740244865417,0.0007466074312105775,0.002111956011503935,-0.0674038976430893,-0.03652947023510933,-0.02680209092795849,-0.008340374566614628,0.007555969059467316,-0.009989139623939991,-0.04718168452382088,0.020947696641087532,-0.06466854363679886,-0.010051045566797256,-0.0400894358754158,0.04807965084910393,-0.04822114482522011,0.03740094602108002,0.02807234227657318,0.0007107539568096399,-0.02646155282855034,-0.06810324639081955,0.018686704337596893,-0.029756898060441017,0.010943861678242683,0.013666114769876003,0.012504540383815765,0.03746528923511505,0.03772633895277977,-0.007741635665297508,0.01715257577598095,0.017249392345547676,-0.032699793577194214,0.025998560711741447,-0.02183082140982151,-0.009631803259253502,-0.05058782920241356,0.010695393197238445,0.04736674576997757,0.01864149235188961,0.04209650680422783,0.006244505289942026,-0.02977093495428562,-0.037400614470243454,0.015788240358233452,0.04786607250571251,-0.008143948391079903,-0.05797836184501648,0.004709212109446526,-0.021193288266658783,0.025464149191975594,0.028146501630544662,-0.0005191699601709843,-0.0343191958963871,-0.00794093869626522,-0.02349107153713703,0.014576775953173637,0.0038547709118574858,-0.011719745583832264,0.07979295402765274,0.04892433434724808,0.017492732033133507,0.023176049813628197,0.048018794506788254,0.06185254082083702,0.01853036694228649,0.0037355211097747087,0.016243113204836845,0.007675775792449713,0.025957103818655014,0.036454785615205765,0.06598366051912308,0.11638402938842773,0.027217183262109756,0.05589701980352402,-0.03917671740055084,-0.05580052733421326,-0.013109961524605751,0.02451104111969471,-0.008253353647887707,-0.0258779339492321,-0.010248349979519844,0.004824575502425432,0.018132252618670464,0.014714901335537434,0.012833677232265472,0.011153362691402435,0.02533838152885437,-0.03327800706028938,0.013144627213478088,0.008925997652113438,-0.0765601322054863,-0.014596808701753616,-0.04407976195216179,0.06446678191423416,-0.04296112805604935,-0.018538063392043114,-0.0037257056683301926,-0.04622636362910271,-0.002730373525992036,-0.02758592925965786,0.09500706195831299,-0.01144956424832344,0.0019359966972842813,0.028959183022379875,-0.021979687735438347,0.031208980828523636,0.026451462879776955,-0.0030455603264272213,-0.01676810160279274,0.029903369024395943,-0.07600859552621841,0.0014916346408426762,-0.009132402949035168,-0.005160901695489883,-0.009862305596470833,-0.06440072506666183,0.00901636853814125,0.014804279431700706,-0.0008204735931940377,-0.005367353558540344,0.033088456839323044,-0.06949105858802795,0.03709177300333977,-0.0477062463760376,0.021325521171092987,-0.03961581736803055,0.017083238810300827,-0.01450788602232933,-0.03498410806059837,0.017173966392874718,0.015798887237906456,0.02216903679072857,-0.009251573123037815,0.01901044324040413,-0.09774377942085266,-0.05092742294073105,0.0227147676050663,0.0026802727952599525,-0.03802064433693886,0.012094257399439812,0.0628456175327301,-0.05561046302318573,0.04295158386230469,0.014726883731782436,-0.006976958829909563,-0.004411766771227121,0.0009083254844881594,-0.04879861697554588,0.020470239222049713,-0.02867189422249794,-0.05046028643846512,0.021621687337756157,-0.022750934585928917,0.03845934942364693,0.010387387126684189,0.024620722979307175,-0.03494836017489433,0.02889847569167614,0.014403453096747398,0.04947536066174507,-0.02901596389710903,0.007231420371681452,-0.0325692854821682,0.004946866538375616,-0.0003027603088412434,-0.040784914046525955,-0.021398305892944336,0.02775787189602852,-0.028172176331281662,0.04694957286119461,-0.030500497668981552,0.0029994212090969086,0.022608567029237747,-0.08042709529399872,-0.027422260493040085,0.02373221144080162,-0.02284928411245346,-0.008821181021630764,0.029865533113479614,-0.008273882791399956,0.025001930072903633,0.04965714365243912,-0.05344090610742569,0.02662910521030426,0.0256377961486578,-0.016604728996753693,-0.021688783541321754,0.027501245960593224,0.03805701807141304,0.0004971014568582177,-0.06722718477249146,0.019935140386223793,-0.021527810022234917,-0.09829721599817276,-0.013651409186422825,0.018809907138347626,-0.08444518595933914,0.03699377551674843,0.007505868095904589,0.02143622189760208,-0.01056827325373888,-0.008675255812704563,0.012347106821835041,-0.0014711307594552636,-0.03597128018736839,0.031889479607343674,0.0923549085855484,0.02597714401781559,-0.002052917145192623,-0.05631573498249054,-0.007945403456687927,-0.00997479073703289,-0.09770487993955612,-0.009291802532970905,0.02321504056453705,-0.026653021574020386,0.10159733891487122,-0.02197982743382454,0.03376337140798569,0.00039299787022173405,-0.0062347473576664925,-0.02496485412120819,-0.019009839743375778,-0.01471254788339138,0.005944339092820883,0.027652960270643234,-0.048447880893945694,0.02797641046345234,-0.007206960581243038,-0.022771073505282402,0.006333177909255028,0.01794362999498844,0.02879062108695507,0.0013410462997853756,-0.004033911973237991,-0.011384192854166031,-0.038194216787815094,-0.018380140885710716,0.027772556990385056,-0.08012215793132782,0.053048182278871536,0.04532124102115631,-0.0037591340951621532,-0.008662152104079723,-0.024844735860824585,0.017985399812459946,0.014076081104576588,-0.031556110829114914,0.04251768812537193,0.005582732148468494,0.0038893003948032856,0.027072736993432045,0.03627802059054375,0.03731410950422287,0.022676074877381325,0.0009510718518868089,-0.01639373227953911,0.007506102789193392,0.00675642816349864,0.016488632187247276,0.00930300448089838,-0.05670630931854248,0.0019033979624509811,0.04129062220454216,-0.0315249003469944,-0.0105521185323596,-0.05127681791782379,0.055960770696401596,-0.03456171229481697,-0.018184639513492584,-0.02432057447731495,-0.008360512554645538,-0.009214171208441257,0.014291181229054928,0.022616634145379066,0.04201517999172211,0.019435744732618332,0.019260888919234276,-0.03906567767262459,-0.06785537302494049,-0.017123401165008545,0.048076651990413666,-0.048052266240119934,-0.03705394268035889,0.04234807565808296,-0.049075815826654434,0.019788913428783417,-0.025449469685554504,-0.0649200975894928,-0.03364291042089462,-0.14041370153427124,0.01275599468499422,-0.0033293545711785555,0.028432490304112434,0.03261496126651764,0.03296574950218201,-0.04770107567310333,0.005255816970020533,-0.008745764382183552,-0.10926663130521774,0.027765536680817604,-0.003285144455730915,-0.02974364347755909,-0.07146399468183517,0.047638341784477234,-0.0056340014562010765,-0.007346218917518854,-0.0013582872925326228,-0.004779432900249958,0.019299382343888283,-0.010693604126572609,-0.02940603904426098,0.027516981586813927,-0.0033662039786577225,0.026226885616779327,0.028176961466670036,0.0513417012989521,-0.05243844911456108,0.018535397946834564,0.015852520242333412,-0.026232590898871422,-0.020829619839787483,-0.006774717941880226,-0.007684210781008005,0.011649621650576591,0.05583557114005089,-0.010203389450907707,0.00784016028046608,0.0273065734654665,-0.052904143929481506,-0.04226743057370186,0.007476663216948509,0.03610773757100105,0.00024494691751897335,-0.02255004085600376,-0.012060035951435566,-0.008111964911222458,-0.0275055430829525,-0.00021226117678452283,0.015781385824084282,0.05202106386423111,0.015493439510464668,-0.031844887882471085,0.016018785536289215,0.04639177769422531,0.027196144685149193,0.009802293963730335,-0.005058398470282555,0.03675448149442673,0.011470184661448002,-0.020797355100512505,0.07396815717220306,-0.04314054548740387,-0.04536538943648338,-0.0025022337213158607,-0.010989803820848465,-0.0036355112679302692,0.018417954444885254,0.07309829443693161,-0.04808395355939865,0.034496814012527466,-0.0034333723597228527,-0.04350600391626358,0.03289462998509407,0.009784527122974396,-0.048058271408081055,-0.07540390640497208,-0.020276110619306564,-0.03305552899837494,0.0639609843492508,0.07702794671058655,0.021496448665857315,0.014605743810534477,0.029526935890316963,-0.031033238396048546,0.00284015410579741,0.10487741231918335,-0.030178366228938103,0.010230695828795433,0.0043189190328121185,0.0098657151684165,-0.05021287128329277,-0.013264939188957214,0.036456722766160965,-0.0024085224140435457,-0.0076734633184969425,-0.03357286378741264,0.02618582360446453,0.021564804017543793,-5.776585686136084e-33,-0.040070075541734695,-0.038030076771974564,-0.05632786080241203,0.058144811540842056,-0.02033851109445095,0.02530904859304428,0.028238005936145782,-0.035692404955625534,0.00287625496275723,0.007824860513210297,-0.01164374127984047,-0.03377458453178406,0.017741326242685318,0.0017855967162176967,-0.0011427111458033323,-0.013676606118679047,0.03981718793511391,0.015264992602169514,-0.0002627511275932193,-0.03316542133688927,-0.07874487340450287,0.02838830277323723,-0.0064345598220825195,-0.04515937715768814,-0.011998158879578114,0.04443001374602318,-0.0168747641146183,0.03791138529777527,-0.009399117901921272,0.03279498592019081,0.011275401338934898,-0.0620078407227993,0.0008877392974682152,0.038934074342250824,0.007207660470157862,-0.0046632844023406506,-0.05416440591216087,-0.009293756447732449,0.03524767607450485,0.03832101821899414,0.007022118661552668,0.02105545625090599,0.02198673225939274,-0.036214109510183334,-0.02604065090417862,-0.002028335817158222,0.005857049487531185,-0.02123972401022911,-0.023152437061071396,0.008961588144302368,0.04653998836874962,0.009105143137276173,0.023075764998793602,0.10497838258743286,-0.006362568587064743,0.010977332480251789,0.0023236111737787724,0.013791556470096111,-0.05054683983325958,-0.020218804478645325,-0.009491733275353909,-0.04195258021354675,-0.012562313117086887,0.06615700572729111,0.05392889305949211,-0.02455584891140461,-0.04344018176198006,0.00037436693673953414,-0.0019224704010412097,-0.012427671812474728,-0.052606161683797836,-0.008702930994331837,0.05251671373844147,-0.04270875081419945,-0.09650998562574387,0.017828766256570816,0.05674092099070549,0.012588524259626865,0.026552116498351097,0.002580860862508416,0.015214674174785614,-0.012603902257978916,-0.020327165722846985,-0.0019474892178550363,0.07236043363809586,0.001205773325636983,-0.028307413682341576,-0.012433084659278393,0.0358181856572628,0.028470713645219803,-0.05553736537694931,0.06994614750146866,-0.016146395355463028,0.007587905041873455,-0.04327499121427536,0.006372272036969662,0.0783541351556778,0.052067652344703674,0.004439700394868851,-0.05516728758811951,-0.002181531861424446,0.04471048712730408,-0.04640286788344383,-0.04835599288344383,-0.018999315798282623,0.005058911629021168,0.005648448597639799,-0.03968286141753197,-0.018943769857287407,0.021169662475585938,0.05302794277667999,0.019948164001107216,0.010377290658652782,-0.018099883571267128,-0.003063499229028821,-0.018937155604362488,-0.007442086469382048,0.02521817944943905,-0.0015852592187002301,-0.03342195227742195,0.015084655955433846,-0.0527188703417778,0.0046223001554608345,-0.03961749002337456,0.0046968464739620686,-0.025817198678851128,0.015155783854424953,-0.07857384532690048,-0.03311169892549515,0.020087799057364464,-0.00783542264252901,-0.004699129611253738,2.3056645659380592e-7,0.03117937222123146,-0.0011884557316079736,-0.03529730066657066,0.0593641996383667,0.0011682851472869515,-0.03738420084118843,0.018966618925333023,-0.026134932413697243,0.08164553344249725,-0.048929210752248764,0.02703842893242836,-0.017736077308654785,0.009331293404102325,0.03388575464487076,0.012585533782839775,-0.01555198896676302,0.04565319046378136,-0.08191720396280289,-0.00747256213799119,0.042213764041662216,0.03959580883383751,0.0009497032151557505,0.03960132226347923,0.01411021314561367,0.026937223970890045,0.020397162064909935,0.02348426729440689,-0.03259926661849022,0.02933374233543873,-0.007616343908011913,0.02198600582778454,0.021344412118196487,-0.008259548805654049,0.07012932747602463,-0.001517535070888698,0.034509021788835526,-0.001403388916514814,0.005815685261040926,0.04557834938168526,0.05458379164338112,0.056578923016786575,-0.03839683532714844,-0.0031751750502735376,0.0005145915201865137,0.025203434750437737,0.026356348767876625,-0.009951728396117687,-0.01854383572936058,0.01009723637253046,0.0016527487896382809,0.018529247492551804,0.024714931845664978,-0.035330288112163544,-0.024735627695918083,0.01576603390276432,0.004529457073658705,-0.019291918724775314,0.054314274340867996,0.007232350762933493,0.011981620453298092,-0.012301168404519558,-0.017623137682676315,0.02421831339597702,0.06596316397190094,0.04731244593858719,0.026482276618480682,-0.023880453780293465,2.7090500206235537e-34,0.025603678077459335,-0.04355168715119362,0.07036048918962479,0.045686446130275726,-0.022564992308616638,0.0008339339401572943,0.011603315360844135,-0.024982362985610962,0.023266514763236046,-0.052737269550561905,-0.018710467964410782]'
SET
  @TechnicalDesignVector_1a465b36 = N'[-0.011010770685970783,-0.006105659995228052,-0.003765055676922202,-0.022738458588719368,0.002820073626935482,0.05494347959756851,0.01732812076807022,0.0830555111169815,-0.04512916877865791,-0.004167133942246437,-0.004988443572074175,0.031337764114141464,0.0338805615901947,0.19112366437911987,-0.05160607397556305,-0.04470337927341461,-0.02554536983370781,-0.001037711394019425,0.007015143986791372,0.011424041353166103,0.012289810925722122,-0.01899011991918087,-0.029567735269665718,-0.0119656752794981,-0.0899268090724945,-0.019123930484056473,-0.038372136652469635,0.007568372879177332,-0.021421857178211212,-0.034499213099479675,0.009222904220223427,0.03388095647096634,-0.07681651413440704,0.008681477047502995,0.0000017257722220165306,-0.025663573294878006,-0.03467714414000511,0.014375942759215832,0.05208897963166237,0.012604055926203728,0.040761880576610565,-0.015594204887747765,0.055408164858818054,0.004004843533039093,-0.025126444175839424,-0.05577607825398445,-0.0019817512948065996,0.043839309364557266,0.0383712500333786,-0.025575362145900726,0.0091449785977602,-0.007237348239868879,-0.03998275101184845,0.0007957892958074808,-0.04279521852731705,0.030413469299674034,-0.022463461384177208,0.07270263880491257,0.0025317047256976366,-0.03374648466706276,0.0030558109283447266,0.0005744460504502058,0.02560468576848507,-0.06651085615158081,0.060557685792446136,0.008689661510288715,0.058480482548475266,-0.01198625098913908,0.013061301782727242,-0.00011218897998332977,0.0485045462846756,0.04711711406707764,-0.019596563652157784,-0.031115848571062088,-0.010575116612017155,-0.11891154199838638,0.01831226609647274,-0.0022493875585496426,0.018440470099449158,-0.03110516630113125,-0.07687029242515564,0.010673614218831062,-0.04361772537231445,-0.022740192711353302,-0.007755523081868887,0.009189227595925331,0.017014911398291588,-0.029775673523545265,-0.05633869767189026,0.03169960901141167,0.03953612223267555,-0.017874334007501602,-0.0163737703114748,-0.0016916696913540363,-0.05039019137620926,-0.015898942947387695,0.015511324629187584,-0.021357210353016853,0.028301164507865906,0.025548886507749557,0.014079008251428604,0.05514224246144295,0.03638714179396629,0.052493318915367126,0.04502730071544647,0.045046113431453705,-0.0007662174175493419,-0.05664343759417534,-0.04980531334877014,0.04460090026259422,-0.017793666571378708,-0.01266129594296217,-0.010119485668838024,0.07805662602186203,-0.05320540443062782,-0.014461408369243145,-0.04079124704003334,-0.020251404494047165,-0.0012230881256982684,0.04072798416018486,0.14799794554710388,0.024020858108997345,0.02146526239812374,0.03070279024541378,-0.04192988574504852,0.01627521403133869,-0.05065842345356941,-0.041291967034339905,0.008084448054432869,0.014147205278277397,-0.0071302191354334354,0.01713438704609871,-0.02376825176179409,-0.03122703731060028,-0.0043259067460894585,-0.04417072981595993,0.015758294612169266,0.03520645201206207,0.0062847076915204525,-0.009667007252573967,0.02348853461444378,-0.0019309550989419222,-0.009562773630023003,-0.001417868072167039,-0.007285254076123238,0.024694615975022316,0.003889826126396656,0.03038262389600277,0.01143527589738369,-0.009884198196232319,-0.004780706018209457,0.037557777017354965,-0.014338606968522072,0.019175568595528603,-0.03984178975224495,-0.005523061379790306,0.07608655840158463,-0.003375454805791378,0.007782171480357647,-0.012132166884839535,0.018600596114993095,-0.011751842685043812,0.02142329514026642,0.002248072298243642,-0.05880086123943329,-0.0003483288164716214,-0.01358681172132492,0.0290632713586092,0.026423435658216476,0.002452534157782793,-0.0008465650607831776,-0.008817236870527267,-0.04302721470594406,0.044943373650312424,0.015568476170301437,-0.017552359029650688,0.0808832198381424,-0.030680302530527115,-0.017501695081591606,-0.050459831953048706,0.06380078196525574,-0.1440158188343048,0.004072804469615221,0.024845823645591736,0.05884793773293495,0.011910365894436836,-0.04512631893157959,0.024141043424606323,-0.009800301864743233,-0.03205576911568642,-0.006584720686078072,-0.026049779728055,0.053185589611530304,0.00833989679813385,0.016962097957730293,0.008813180029392242,-0.0335969403386116,-0.057217128574848175,0.01944897323846817,-0.04619402810931206,-0.013814212754368782,-0.03497635945677757,0.0700550377368927,0.07107385993003845,0.04968030005693436,0.016465414315462112,0.05068254470825195,-0.04260465130209923,-0.09435997903347015,0.042440690100193024,0.0310197863727808,-0.01135923620313406,-0.028824521228671074,0.0015716427005827427,-0.03301391005516052,-0.00721164932474494,0.03339853882789612,0.03150944784283638,-0.014682034030556679,-0.029180264100432396,-0.05033965781331062,0.035204049199819565,-0.006901844404637814,0.012460797093808651,0.12410590797662735,-0.013387499377131462,0.028733881190419197,-0.005914400797337294,0.038971804082393646,0.03633463382720947,-0.00845653098076582,0.0020210733637213707,-0.0077719902619719505,0.018825596198439598,0.0129295838996768,0.020490676164627075,0.04664985463023186,0.0897325873374939,0.055609092116355896,0.045091938227415085,-0.043014150112867355,-0.04967699199914932,-0.010488482192158699,0.010420219972729683,-0.00818279106169939,0.000046148539695423096,-0.04866914451122284,0.003849754808470607,-0.019153110682964325,0.004602694418281317,-0.002119881333783269,0.03304002434015274,0.05645747482776642,-0.01048923097550869,0.005447880364954472,-0.002863314701244235,-0.03408234938979149,0.007628495804965496,-0.025580748915672302,0.05881572887301445,-0.0398588553071022,-0.008312374353408813,0.009463204070925713,-0.03904300183057785,0.05977265536785126,-0.02869374491274357,0.06020483002066612,0.03306363523006439,-0.01292870007455349,0.02477595955133438,0.00608852319419384,0.041442710906267166,-0.03144286572933197,0.002269685734063387,-0.012251995503902435,0.03331667557358742,-0.05174517259001732,0.0032072525937110186,-0.017334548756480217,0.001569318468682468,-0.010769573971629143,0.017272505909204483,0.008425191976130009,0.03265738859772682,-0.0034882407635450363,0.014756549149751663,0.013204236514866352,-0.012297620996832848,-0.015990687534213066,-0.0732426568865776,0.01808059588074684,-0.024953309446573257,0.03346608579158783,-0.039851486682891846,-0.02372419275343418,0.022578390315175056,-0.024485494941473007,0.04055849835276604,-0.01934541016817093,0.005091887433081865,-0.03910626843571663,-0.04460745304822922,-0.000685912265907973,-0.0048486716113984585,0.007892316207289696,0.012083983048796654,0.028865812346339226,0.005668522324413061,-0.00021203850337769836,0.07470922917127609,-0.01700214110314846,0.030753523111343384,-0.01638910174369812,-0.05605287477374077,0.02993321605026722,0.0021600043401122093,-0.009868962690234184,0.0418054535984993,0.013814845122396946,0.06512175500392914,0.02703753486275673,-0.0007162922411225736,-0.018982795998454094,-0.004219955764710903,-0.026601260527968407,0.018679844215512276,0.00423076469451189,-0.013468031771481037,-0.05167262628674507,0.010064700618386269,-0.007752294186502695,-0.0369332991540432,0.020438237115740776,0.01765243336558342,-0.0468972884118557,0.017565341666340828,-0.03414571285247803,-0.02128269523382187,0.033668726682662964,-0.048179108649492264,-0.052597906440496445,0.0022431709803640842,0.002525140531361103,0.03677431866526604,0.020227717235684395,0.027888894081115723,0.008926915004849434,0.03285973519086838,-0.07758624106645584,0.045495495200157166,0.05561361834406853,0.010069760493934155,-0.02613079734146595,-0.00772591819986701,0.015249580144882202,0.03932929039001465,-0.05263914540410042,-0.0449921116232872,-0.0031423361506313086,-0.08041253685951233,-0.0324377678334713,0.011000498197972775,-0.08179112523794174,0.029994098469614983,-0.01395346038043499,0.039049070328474045,0.025527451187372208,0.02103109285235405,-0.0000070683754529454745,0.002849266631528735,-0.07222559303045273,0.025760965421795845,0.011522178538143635,0.02967911958694458,0.012490162625908852,-0.042556557804346085,-0.01742376945912838,-0.014112423174083233,0.006874910090118647,0.014419486746191978,0.04506099969148636,-0.06520868837833405,0.09548319876194,-0.027164991945028305,0.08068523555994034,-0.016625240445137024,-0.01749398373067379,0.006992193404585123,-0.05680077522993088,-0.016864139586687088,-0.0003725635469891131,-0.01769249141216278,-0.04177926480770111,0.02758023701608181,-0.04216447472572327,0.0032800715416669846,0.02771054022014141,0.020180463790893555,0.018444139510393143,0.010408284142613411,-0.010972664691507816,0.004297973122447729,0.05913340300321579,-0.029268886893987656,0.03332486003637314,-0.05514848232269287,0.0593005008995533,0.06728697568178177,0.016733020544052124,-0.09102483838796616,-0.06829265505075455,0.03228074684739113,-0.03594226390123367,-0.055979687720537186,-0.02671930007636547,-0.0273739080876112,-0.012949342839419842,0.04640331119298935,0.027895018458366394,0.012155098840594292,0.014379401691257954,0.019329624250531197,-0.023886656388640404,0.02018146589398384,0.04533744603395462,0.009342419914901257,-0.03002600558102131,-0.02631755731999874,0.003563291858881712,0.024013686925172806,-0.004365605767816305,-0.033952318131923676,-0.03767501935362816,0.03682083263993263,-0.0649050921201706,-0.03355405107140541,-0.054664045572280884,0.015823910012841225,0.008781779557466507,0.003107293276116252,0.00009199060878017917,0.009078607894480228,0.03951708599925041,-0.021587233990430832,-0.053900960832834244,-0.11643962562084198,-0.024714911356568336,0.016559913754463196,0.014126821421086788,-0.04020220413804054,-0.0013930597342550755,-0.05598965659737587,-0.016801895573735237,0.0042135389521718025,-0.043257422745227814,-0.025583835318684578,0.008111312985420227,0.05612117052078247,0.02786617912352085,0.014738403260707855,0.071236751973629,0.0367562361061573,-0.042337194085121155,0.0020920669194310904,0.03621205314993858,-0.12458349019289017,0.04454224929213524,-0.025735484436154366,-0.01126067154109478,-0.05006575956940651,0.042218148708343506,-0.02406884729862213,-0.015961458906531334,-0.027600698173046112,0.024425482377409935,0.023160578683018684,0.023604724556207657,-0.004674914292991161,0.04905064031481743,0.0025130475405603647,0.007837793789803982,-0.0066804420202970505,-0.012600190937519073,-0.06392645835876465,0.017499227076768875,0.028692346066236496,-0.07848774641752243,-0.045030780136585236,-0.015050963498651981,-0.04179701581597328,0.01999497599899769,0.02136261947453022,0.007456985767930746,0.05191097408533096,0.013622931204736233,0.044038135558366776,0.013246884569525719,-0.009629189036786556,0.012048783712089062,-0.041601985692977905,-0.010088018141686916,-0.05062311887741089,0.005127917975187302,-0.08701319992542267,-0.03386439383029938,-0.0025219465605914593,0.036306772381067276,0.002003704197704792,-0.008518200367689133,0.026997815817594528,0.05772046744823456,0.0005745915113948286,0.03268638998270035,-0.013668500818312168,0.04270460084080696,0.028267877176404,-0.04875592514872551,0.01569289341568947,-0.04724067077040672,-0.01172063872218132,-0.002318510552868247,0.004863511770963669,-0.005836193915456533,0.016971342265605927,0.06092324107885361,0.0019752264488488436,0.03806692734360695,-0.010702948085963726,0.007790791802108288,0.04990510642528534,-0.07558436691761017,-0.011836727149784565,0.014053999446332455,-0.020992232486605644,-0.030594320967793465,0.050485529005527496,0.016506828367710114,0.043787166476249695,-0.05232168734073639,-0.04907739534974098,-0.07679660618305206,0.012986238114535809,0.036513425409793854,0.023809557780623436,-0.02382883056998253,0.02438565157353878,-0.00801997259259224,-0.019952405244112015,0.0010985431727021933,0.03875122591853142,0.020880671218037605,0.01022674236446619,-0.08158626407384872,0.023412903770804405,0.002456768648698926,-6.206826904112611e-33,-0.06210290640592575,-0.022428520023822784,0.012738277204334736,0.026914792135357857,0.037751853466033936,0.006181510630995035,0.015198545530438423,-0.04118574038147926,0.007297111209481955,0.024922622367739677,-0.00846006628125906,-0.05128660798072815,0.016274409368634224,0.016785606741905212,0.0030144706834107637,-0.007003026083111763,0.044498518109321594,0.00581918191164732,-0.01241154596209526,-0.030001381412148476,-0.06397973746061325,0.001403852947987616,-0.006018207874149084,-0.056840382516384125,-0.02877688780426979,0.002473314292728901,-0.015174808911979198,0.04114791005849838,-0.004716354887932539,0.0530514270067215,0.002926142420619726,-0.04518459737300873,-0.055504005402326584,0.02349858172237873,0.02947888895869255,0.0013187769800424576,-0.0903538390994072,0.03258804976940155,0.020586654543876648,0.025617925450205803,0.052898868918418884,-0.005821065977215767,-0.0007150396704673767,-0.0000182224866875913,-0.021228613331913948,-0.02394477277994156,-0.008023465052247047,-0.008750105276703835,-0.04529277980327606,-0.05796787515282631,0.01206210721284151,0.018360869958996773,-0.001712149940431118,0.05794357508420944,-0.0021881372667849064,-0.04057798534631729,-0.006190898362547159,0.02410059981048107,-0.03186681866645813,0.0023213541135191917,-0.014017220586538315,-0.047708190977573395,-0.00032318339799530804,0.015634236857295036,0.027264416217803955,-0.01046897191554308,-0.006245474796742201,0.03315284103155136,-0.011908398941159248,-0.04470360279083252,-0.03176897391676903,-0.039176277816295624,0.05885348096489906,-0.013427705504000187,-0.04115751385688782,0.051617953926324844,0.04787389561533928,-0.009863053448498249,0.053473927080631256,0.07471638172864914,-0.0020979016553610563,0.02297724038362503,0.009037219919264317,0.017814654856920242,0.020930280908942223,-0.04613080248236656,-0.02468354068696499,-0.02154511772096157,0.011159997433423996,0.04041193798184395,0.0008840722148306668,0.01790229231119156,-0.026331480592489243,0.016748905181884766,0.016678474843502045,0.003097357926890254,0.08000466972589493,0.05337473377585411,-0.02335665002465248,-0.030767008662223816,0.02612435072660446,-0.0006828674813732505,-0.024320879951119423,-0.03142299875617027,-0.006624581757932901,-0.010281791910529137,0.026352237910032272,-0.030064040794968605,-0.07095607370138168,0.005331104621291161,0.03173638880252838,0.023552563041448593,-0.011170404963195324,-0.01337621733546257,-0.03566273674368858,-0.010714003816246986,-0.010187184438109398,-0.04127206280827522,0.009645283222198486,0.002831476042047143,0.04032275080680847,-0.023503616452217102,0.01849573478102684,-0.009373701177537441,0.03551388904452324,-0.04254607483744621,-0.030484257265925407,0.008746959269046783,0.038319721817970276,0.05283753573894501,-0.016615288332104683,0.00477964524179697,2.5897040245581593e-7,0.04101948067545891,0.056474316865205765,-0.04738743230700493,-0.033161137253046036,-0.0009631402790546417,-0.03828763589262962,0.009567715227603912,-0.03895450383424759,0.013794534839689732,0.009258603677153587,0.02977321296930313,-0.006407776847481728,0.026582220569252968,0.009021908044815063,0.015602939762175083,0.010878600180149078,-0.0002670438261702657,-0.07976612448692322,-0.02098028175532818,0.017149543389678,0.012033797800540924,0.006434777285903692,0.053067397326231,0.023977914825081825,0.038416679948568344,0.010140698403120041,0.02605890855193138,-0.001939689158461988,0.011092840693891048,-0.06815069913864136,0.0038772018160670996,-0.01286325789988041,0.0013229296309873462,0.01888785883784294,0.02181878127157688,0.007670808583498001,0.022174380719661713,0.03328874707221985,0.022659193724393845,0.0672844648361206,0.010371898300945759,-0.02250383421778679,-0.0096283545717597,-0.04417085647583008,0.0064950366504490376,0.05254904180765152,0.007831760682165623,-0.04325718432664871,-0.08760221302509308,-0.008291480131447315,0.010232469998300076,0.005516007076948881,0.0009107623482123017,-0.01138990093022585,0.03559303283691406,0.012393953278660774,-0.013292646035552025,0.055394839495420456,0.007722618989646435,-0.016274411231279373,-0.022651057690382004,-0.02691340632736683,0.019959570840001106,0.0868617370724678,0.04370550811290741,-0.05679786205291748,-0.031913332641124725,3.0024848642462307e-34,0.019530344754457474,-0.024130817502737045,0.015924964100122452,0.04644451662898064,0.034862011671066284,-0.018034562468528748,0.002828762400895357,-0.03205794468522072,0.03703015670180321,-0.06708493828773499,-0.0010091132717207074]'
SET
  @HasCustomProps_1a465b36 = 1
SET
  @HasCustomEvents_1a465b36 = 0
SET
  @RequiresData_1a465b36 = 1
SET
  @DependencyCount_1a465b36 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_1a465b36 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_1a465b36 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_1a465b36 = 1
SET
  @ID_1a465b36 = 'D8B66E3D-AA5E-4C28-90CB-343F8A223AF3'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_1a465b36,
  @Name = @Name_1a465b36,
  @Version = @Version_1a465b36,
  @VersionSequence = @VersionSequence_1a465b36,
  @Title = @Title_1a465b36,
  @Description = @Description_1a465b36,
  @Type = @Type_1a465b36,
  @Status = @Status_1a465b36,
  @DeveloperName = @DeveloperName_1a465b36,
  @DeveloperEmail = @DeveloperEmail_1a465b36,
  @DeveloperOrganization = @DeveloperOrganization_1a465b36,
  @SourceRegistryID = @SourceRegistryID_1a465b36,
  @ReplicatedAt = @ReplicatedAt_1a465b36,
  @LastSyncedAt = @LastSyncedAt_1a465b36,
  @Specification = @Specification_1a465b36,
  @FunctionalRequirements = @FunctionalRequirements_1a465b36,
  @TechnicalDesign = @TechnicalDesign_1a465b36,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_1a465b36,
  @TechnicalDesignVector = @TechnicalDesignVector_1a465b36,
  @HasCustomProps = @HasCustomProps_1a465b36,
  @HasCustomEvents = @HasCustomEvents_1a465b36,
  @RequiresData = @RequiresData_1a465b36,
  @DependencyCount = @DependencyCount_1a465b36,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_1a465b36,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_1a465b36,
  @HasRequiredCustomProps = @HasRequiredCustomProps_1a465b36,
  @ID = @ID_1a465b36;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_0d1aef4b NVARCHAR(MAX),
@Name_0d1aef4b NVARCHAR(500),
@Version_0d1aef4b NVARCHAR(50),
@VersionSequence_0d1aef4b INT,
@Title_0d1aef4b NVARCHAR(1000),
@Description_0d1aef4b NVARCHAR(MAX),
@Type_0d1aef4b NVARCHAR(255),
@Status_0d1aef4b NVARCHAR(50),
@DeveloperName_0d1aef4b NVARCHAR(255),
@DeveloperEmail_0d1aef4b NVARCHAR(255),
@DeveloperOrganization_0d1aef4b NVARCHAR(255),
@SourceRegistryID_0d1aef4b UNIQUEIDENTIFIER,
@ReplicatedAt_0d1aef4b DATETIMEOFFSET,
@LastSyncedAt_0d1aef4b DATETIMEOFFSET,
@Specification_0d1aef4b NVARCHAR(MAX),
@FunctionalRequirements_0d1aef4b NVARCHAR(MAX),
@TechnicalDesign_0d1aef4b NVARCHAR(MAX),
@FunctionalRequirementsVector_0d1aef4b NVARCHAR(MAX),
@TechnicalDesignVector_0d1aef4b NVARCHAR(MAX),
@HasCustomProps_0d1aef4b BIT,
@HasCustomEvents_0d1aef4b BIT,
@RequiresData_0d1aef4b BIT,
@DependencyCount_0d1aef4b INT,
@TechnicalDesignVectorEmbeddingModelID_0d1aef4b NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_0d1aef4b NVARCHAR(MAX),
@HasRequiredCustomProps_0d1aef4b BIT,
@ID_0d1aef4b UNIQUEIDENTIFIER
SET
  @Namespace_0d1aef4b = N'CRM/Customer'
SET
  @Name_0d1aef4b = N'Customer360Timeline'
SET
  @Version_0d1aef4b = N'1.0.0'
SET
  @VersionSequence_0d1aef4b = 1
SET
  @Title_0d1aef4b = N'Customer 360 Timeline'
SET
  @Description_0d1aef4b = N'Timeline view of customer activities and interactions'
SET
  @Type_0d1aef4b = N'Report'
SET
  @Status_0d1aef4b = N'Published'
SET
  @Specification_0d1aef4b = N'{"name":"Customer360Timeline","location":"embedded","code":"function Customer360Timeline({ activities, onActivityClick }) {\n  const getActivityIcon = (type) => {\n    const icons = {\n      ''Call'': ''📞'',\n      ''Email'': ''✉️'',\n      ''Meeting'': ''🤝'',\n      ''Task'': ''✅'',\n      ''Note'': ''📝''\n    };\n    return icons[type] || ''📌'';\n  };\n\n  const getActivityColor = (type) => {\n    const colors = {\n      ''Call'': ''#3B82F6'',\n      ''Email'': ''#8B5CF6'',\n      ''Meeting'': ''#10B981'',\n      ''Task'': ''#F59E0B'',\n      ''Note'': ''#6B7280''\n    };\n    return colors[type] || ''#9CA3AF'';\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return '''';\n    const date = new Date(dateString);\n    return date.toLocaleDateString(''en-US'', { month: ''short'', day: ''numeric'', year: ''numeric'' });\n  };\n\n  if (!activities || activities.length === 0) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'', color: ''#9CA3AF'' }}>\n        No activities found for this customer\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ position: ''relative'', paddingLeft: ''40px'' }}>\n      {/* Timeline line */}\n      <div style={{\n        position: ''absolute'',\n        left: ''20px'',\n        top: ''0'',\n        bottom: ''0'',\n        width: ''2px'',\n        backgroundColor: ''#E5E7EB''\n      }} />\n\n      {activities.map((activity, index) => (\n        <div\n          key={activity.ID || index}\n          onClick={() => onActivityClick && onActivityClick(activity)}\n          style={{\n            position: ''relative'',\n            marginBottom: ''24px'',\n            cursor: onActivityClick ? ''pointer'' : ''default''\n          }}\n        >\n          {/* Timeline dot */}\n          <div style={{\n            position: ''absolute'',\n            left: ''-26px'',\n            top: ''8px'',\n            width: ''12px'',\n            height: ''12px'',\n            borderRadius: ''50%'',\n            backgroundColor: getActivityColor(activity.Type),\n            border: ''2px solid white'',\n            boxShadow: ''0 1px 3px rgba(0, 0, 0, 0.1)''\n          }} />\n\n          {/* Activity card */}\n          <div style={{\n            padding: ''16px'',\n            backgroundColor: ''white'',\n            borderRadius: ''8px'',\n            boxShadow: ''0 1px 3px rgba(0, 0, 0, 0.1)'',\n            transition: ''transform 0.2s, box-shadow 0.2s'',\n            '':hover'': {\n              transform: ''translateX(4px)'',\n              boxShadow: ''0 4px 6px rgba(0, 0, 0, 0.1)''\n            }\n          }}\n          onMouseEnter={(e) => {\n            if (onActivityClick) {\n              e.currentTarget.style.transform = ''translateX(4px)'';\n              e.currentTarget.style.boxShadow = ''0 4px 6px rgba(0, 0, 0, 0.1)'';\n            }\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = ''translateX(0)'';\n            e.currentTarget.style.boxShadow = ''0 1px 3px rgba(0, 0, 0, 0.1)'';\n          }}>\n            <div style={{ display: ''flex'', alignItems: ''center'', gap: ''12px'', marginBottom: ''8px'' }}>\n              <span style={{ fontSize: ''20px'' }}>{getActivityIcon(activity.Type)}</span>\n              <span style={{ \n                fontWeight: ''bold'', \n                color: ''#111827'',\n                flex: 1\n              }}>\n                {activity.Subject || `$' + '{activity.Type} Activity`}\n              </span>\n              <span style={{ fontSize: ''12px'', color: ''#9CA3AF'' }}>\n                {formatDate(activity.CreatedAt)}\n              </span>\n            </div>\n            <div style={{ \n              display: ''inline-block'',\n              padding: ''4px 8px'',\n              backgroundColor: getActivityColor(activity.Type) + ''20'',\n              color: getActivityColor(activity.Type),\n              borderRadius: ''4px'',\n              fontSize: ''12px'',\n              fontWeight: ''500''\n            }}>\n              {activity.Type}\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}","description":"Timeline view of customer activities and interactions","category":"Customer","type":"timeline","dataRequirements":{"mode":"views","entities":[{"name":"Accounts","displayFields":["AccountName","Industry","AnnualRevenue","CreatedAt"],"filterFields":["ID"]},{"name":"Contacts","displayFields":["FirstName","LastName","Email","Phone","AccountID"],"filterFields":["AccountID"]},{"name":"Deals","displayFields":["DealName","Stage","Amount","CloseDate","AccountID"],"filterFields":["AccountID"]},{"name":"Activities","displayFields":["Subject","Type","CreatedAt","AccountID"],"filterFields":["AccountID"]}]},"properties":[{"name":"activities","type":"array","required":true,"description":"Array of activity objects sorted by date"},{"name":"onActivityClick","type":"function","required":true,"description":"Callback when an activity is clicked"}],"events":[{"name":"onActivitySelect","description":"Fired when an activity is selected","parameters":[{"name":"activity","type":"object","description":"The selected activity object"}]}],"usageExample":"```javascript\n<Customer360Timeline\n  activities={activities}\n  onActivityClick={(activity) => handleActivityClick(activity)}\n/>\n```","functionalRequirements":"- Display activities in chronological order\n- Show activity type with appropriate icons\n- Format dates in readable format\n- Use different colors for activity types\n- Support click interaction on activities\n- Show activity subject and type","technicalDesign":"Renders vertical timeline with activity items. Uses type-based icons and colors. Formats dates using toLocaleDateString. Implements hover effects for interactive items."}'
SET
  @FunctionalRequirements_0d1aef4b = N'- Display activities in chronological order
- Show activity type with appropriate icons
- Format dates in readable format
- Use different colors for activity types
- Support click interaction on activities
- Show activity subject and type'
SET
  @TechnicalDesign_0d1aef4b = N'Renders vertical timeline with activity items. Uses type-based icons and colors. Formats dates using toLocaleDateString. Implements hover effects for interactive items.'
SET
  @FunctionalRequirementsVector_0d1aef4b = N'[0.012211167253553867,-0.07890826463699341,-0.02399766631424427,0.023037225008010864,0.02611944079399109,-0.017313053831458092,0.043996673077344894,0.03884359076619148,-0.038396015763282776,-0.013562552630901337,-0.0010822988115251064,0.015730123966932297,-0.008063911460340023,0.1034841388463974,-0.03663733974099159,-0.10329868644475937,-0.04022722318768501,-0.021019646897912025,0.044137585908174515,0.04448872059583664,0.0005900525720790029,-0.013042052276432514,-0.007374716456979513,-0.018406542018055916,0.05517631769180298,-0.008027981035411358,-0.07645070552825928,0.011641093529760838,-0.011334430426359177,-0.058217428624629974,-0.02611047588288784,0.036031972616910934,-0.022782694548368454,-0.017247464507818222,0.000001333070485998178,-0.014506341889500618,0.021734677255153656,-0.017172597348690033,0.011583458632230759,0.06151933595538139,0.01840442419052124,-0.021051427349448204,0.07051311433315277,-0.0329713374376297,0.005934778600931168,-0.015196111984550953,-0.00445972615852952,0.06407181173563004,0.031648844480514526,-0.0021433366928249598,0.000839622225612402,0.04294149950146675,0.032860323786735535,-0.013345200568437576,0.041281960904598236,0.09306081384420395,-0.007242627441883087,0.03318638354539871,0.07927732914686203,0.12004511058330536,0.06795922666788101,-0.04988550394773483,0.000982197467237711,0.039307206869125366,-0.018372001126408577,-0.0029084382113069296,0.060024552047252655,-0.007724299095571041,0.025703608989715576,0.0015006707981228828,0.04117104038596153,-0.0013319659046828747,-0.006767340935766697,-0.02590145356953144,0.015116231516003609,-0.03352099657058716,-0.022207919508218765,0.004933161195367575,0.03155576437711716,-0.046335842460393906,0.03966864198446274,0.05684928223490715,-0.034707821905612946,-0.0061622136272490025,0.06045571342110634,-0.06488370895385742,0.001331825158558786,-0.014162804000079632,-0.02809157967567444,0.00020915431377943605,0.08755042403936386,0.012406307272613049,0.03344712406396866,-0.04200064390897751,-0.05596202239394188,-0.03805607557296753,-0.004922942724078894,0.013232656754553318,0.00740074785426259,-0.023740945383906364,0.01878291368484497,0.040523260831832886,0.06127040460705757,-0.00316910189576447,0.03380979970097542,0.025440337136387825,-0.013805048540234566,-0.032378509640693665,-0.048781003803014755,0.06089602783322334,0.038949742913246155,0.005722747649997473,-0.05135064199566841,0.04256255179643631,-0.03852500021457672,0.023670686408877373,-0.05036917328834534,0.03849475458264351,0.001350473496131599,-0.04382358863949776,0.1127014309167862,0.0224575474858284,-0.036932628601789474,-0.01865803264081478,-0.030419524759054184,-0.056484464555978775,-0.01319397334009409,0.018956385552883148,-0.00566562544554472,0.027635226026177406,-0.002356910612434149,-0.027459461241960526,0.007179350592195988,-0.04250103607773781,-0.022719545289874077,-0.007095314562320709,-0.020093334838747978,0.02276764251291752,-0.06130526587367058,-0.019344890490174294,0.03097577765583992,0.03356092423200607,-0.07021395117044449,-0.0008380518411286175,0.001593410619534552,-0.006817333400249481,-0.05348897725343704,0.04882758483290672,-0.007620464079082012,-0.019494591280817986,-0.005181971937417984,-0.012491385452449322,-0.015423435717821121,0.027772082015872,-0.02868597023189068,0.016550123691558838,-0.02548931911587715,-0.045609526336193085,-0.0032055480405688286,0.04196150600910187,0.0047498359344899654,0.00792200118303299,0.021012339740991592,0.0018273795722052455,-0.05693100020289421,0.008154082112014294,0.02896846830844879,-0.055346593260765076,-0.017204659059643745,-0.025288447737693787,0.0000855706530273892,-0.014731223694980145,-0.022959204390645027,-0.027317184954881668,0.03238823264837265,-0.025739995762705803,-0.003034521359950304,-0.016297325491905212,0.05064002424478531,-0.039754610508680344,0.07095647603273392,-0.03865364193916321,0.00921674631536007,0.02793440967798233,0.035855021327733994,-0.02686917409300804,-0.10775265842676163,0.01807999052107334,-0.028318045660853386,-0.003233289113268256,-0.005999978166073561,0.013930005021393299,0.04691055789589882,-0.02202448435127735,0.017606237903237343,-0.014175161719322205,-0.001643429510295391,0.012950808741152287,-0.02971833385527134,0.019365394487977028,-0.015339185483753681,0.013846976682543755,-0.0038924887776374817,0.0509183369576931,-0.028967441990971565,0.02002323605120182,-0.046706974506378174,-0.01080008689314127,0.04265359789133072,0.01903158240020275,0.010132258757948875,0.013553798198699951,0.0024760598316788673,-0.009257032535970211,-0.05741192027926445,0.0015997873852029443,0.01772806979715824,0.01877860352396965,-0.05626041814684868,-0.016505060717463493,0.02308201789855957,-0.016605732962489128,-0.09293551743030548,0.001373595790937543,0.057656195014715195,-0.005725536495447159,0.014738590456545353,-0.014480099081993103,0.04519255459308624,0.05675148591399193,0.03360079601407051,-0.010661812499165535,0.04418351501226425,-0.025174463167786598,0.030066847801208496,0.07291416823863983,-0.002529221586883068,0.0530054084956646,-0.01196657121181488,0.008648325689136982,0.01597527787089348,-0.05495763570070267,-0.006320081651210785,-0.051259785890579224,-0.03401227295398712,0.056625284254550934,0.022715594619512558,0.017446698620915413,0.04520491138100624,0.02981419861316681,-0.05494057387113571,0.02315714955329895,0.04310399666428566,-0.029520146548748016,0.01228677574545145,0.09190080314874649,-0.01493871584534645,-0.030371569097042084,-0.09845918416976929,-0.0065720234997570515,-0.0024679708294570446,-0.05452895909547806,-0.022219184786081314,-0.033465683460235596,0.01549640204757452,-0.004300215281546116,0.03135136142373085,-0.059632591903209686,-0.026445304974913597,-0.02809124067425728,0.0016054537845775485,0.021006975322961807,0.010641951113939285,-0.004851240199059248,-0.03826408088207245,0.02789655700325966,-0.0030914158560335636,-0.0037823314778506756,0.05167018622159958,-0.007671280764043331,0.010130888782441616,0.020065149292349815,0.015261503867805004,0.016362136229872704,-0.040864408016204834,-0.036428555846214294,0.03541706129908562,-0.010073651559650898,0.0021996547002345324,0.02545088715851307,0.07250301539897919,0.0032110537867993116,0.018751652911305428,-0.017300063744187355,-0.0041311923414468765,0.007361631374806166,0.03520685434341431,0.059570666402578354,-0.012281985022127628,0.06496026366949081,-0.0008879572269506752,0.004267731215804815,0.020959502086043358,-0.022451460361480713,-0.0076039014384150505,0.05904700607061386,-0.0008998681441880763,-0.05921459197998047,0.0006967582739889622,0.04263513535261154,0.0017083524726331234,0.043808624148368835,0.021071404218673706,-0.05867511406540871,-0.03437720984220505,0.04102221131324768,0.024260224774479866,-0.02795417606830597,-0.02248181775212288,0.01641635037958622,-0.03717555105686188,0.010897500440478325,0.0005607163766399026,0.022863199934363365,-0.02581741474568844,0.020900940522551537,-0.021688077598810196,0.003284408478066325,0.026923811063170433,0.026256300508975983,0.009747069329023361,0.02067066915333271,-0.01980196312069893,-0.01402960903942585,0.020278647541999817,0.10783033818006516,-0.0064909434877336025,0.015206302516162395,-0.006433235015720129,-0.03521711379289627,-0.07208463549613953,-0.027010010555386543,-0.005088033154606819,-0.04660642519593239,0.08034320920705795,-0.017007336020469666,-0.03854341804981232,0.026093078777194023,-0.07758591324090958,0.0243854857981205,0.019012125208973885,0.003294293535873294,-0.0002664624189492315,0.012469077482819557,0.027104506269097328,0.03911629691720009,-0.025632817298173904,0.007275216281414032,-0.11643058806657791,-0.05601518973708153,-0.04596288874745369,0.018009386956691742,-0.0405382364988327,-0.02794635109603405,-0.014053471386432648,-0.03038814291357994,0.029934925958514214,0.00517665408551693,-0.014173814095556736,0.013405713252723217,0.07876850664615631,0.010122654028236866,0.06457584351301193,0.03754265233874321,-0.03876769170165062,-0.06832610070705414,-0.0027051917277276516,0.026377985253930092,-0.03840947151184082,0.02073039300739765,0.009971627965569496,0.023417426273226738,0.06080062687397003,-0.08958522975444794,-0.016149861738085747,0.0069992514327168465,0.010823266580700874,0.034791648387908936,0.02712266705930233,-0.04602932557463646,0.007403910625725985,-0.06882471591234207,-0.017652997747063637,-0.010071557946503162,-0.02955833449959755,-0.055193327367305756,-0.04611894488334656,0.007736110594123602,0.0027638734318315983,-0.0016924400115385652,-0.03014725260436535,0.017427334561944008,-0.0037637974601238966,0.0066879563964903355,0.0239276010543108,0.012709669768810272,-0.023862037807703018,0.027828296646475792,-0.041873980313539505,-0.020750921219587326,-0.050327807664871216,0.022747667506337166,-0.0195335540920496,-0.017627961933612823,-0.023882189765572548,0.04129612818360329,0.01567390188574791,-0.017939742654561996,0.03496289998292923,0.016136951744556427,-0.023437703028321266,-0.008091618306934834,0.03848365694284439,-0.011144472286105156,0.033221516758203506,-0.02098950184881687,-0.09039235860109329,0.013528670184314251,-0.031731877475976944,-0.045390043407678604,0.014578762464225292,0.011337937787175179,-0.036171942949295044,0.041367582976818085,-0.006050861440598965,-0.02231811173260212,-0.045667607337236404,-0.025487292557954788,-0.010602711699903011,0.023232266306877136,-0.03463434427976608,-0.004709317814558744,0.03689742833375931,0.01813356950879097,-0.005960009526461363,0.0020387896802276373,0.0067612300626933575,-0.025248778983950615,0.007794416043907404,0.07382133603096008,-0.01601211540400982,0.017253631725907326,-0.09536157548427582,0.003087169025093317,-0.022803394123911858,0.02046145871281624,-0.040376465767621994,0.01141059584915638,0.02044898271560669,-0.03573239594697952,0.03174944967031479,0.012871037237346172,-0.029529277235269547,-0.010781027376651764,0.06933749467134476,-0.07641614228487015,-0.01822531782090664,0.06429994106292725,-0.04119470342993736,-0.010410794056952,0.024481890723109245,0.021370775997638702,-0.029538268223404884,-0.03698784485459328,-0.019730517640709877,-0.04237348586320877,-0.009088321588933468,-0.11404372751712799,-0.07369586080312729,-0.01722061261534691,0.016181165352463722,0.045702382922172546,0.02171078883111477,-0.08731388300657272,0.0019132747547701001,-0.0305743720382452,-0.04315129667520523,-0.01594093069434166,-0.003337747883051634,0.09208308160305023,0.030916452407836914,0.03000665083527565,-0.008234936743974686,0.04469556733965874,0.02405915968120098,-0.018913237378001213,-0.06295005977153778,0.042804472148418427,0.002962944796308875,0.0024492463562637568,0.006600479129701853,-0.0011514389188960195,-0.0402013324201107,0.029154451563954353,-0.009503294713795185,-0.016689106822013855,-0.0096295066177845,0.029632696881890297,-0.04588751122355461,0.051540475338697433,0.0037109595723450184,0.019343949854373932,-0.005704021546989679,0.08352850377559662,0.0009618732728995383,0.014658231288194656,0.0035719568841159344,-0.0031398360151797533,0.03803360089659691,0.0004071446310263127,0.025115249678492546,0.018764639273285866,0.04897274821996689,0.028760122135281563,0.05167338624596596,0.012477799318730831,0.023282811045646667,0.013834688812494278,-0.033880867063999176,0.060879096388816833,-0.0705920159816742,-0.02504575438797474,0.06524151563644409,-0.050344765186309814,0.015508842654526234,-0.000904193555470556,-0.0016010717954486609,0.04725164547562599,-0.03075176291167736,-0.017646102234721184,-0.01555715687572956,0.0166238471865654,0.026308149099349976,-0.023544365540146828,0.00451192632317543,0.0266791433095932,-0.017087412998080254,-0.0036234103608876467,0.01937178522348404,0.020126642659306526,-0.005836315918713808,-0.05710689350962639,-0.05625809356570244,0.010861562564969063,-0.05644999444484711,-5.058348719550081e-33,0.0039568799547851086,-0.03557785600423813,-0.04694657027721405,0.015500699169933796,0.03624887391924858,0.03785719349980354,-0.030419059097766876,0.006420545279979706,-0.0021966653876006603,-0.0006526827346533537,0.009241882711648941,-0.039121951907873154,0.0068257092498242855,-0.06433656066656113,0.05115407332777977,0.07884347438812256,0.04252735152840614,-0.03228551149368286,0.03362704813480377,-0.01274576224386692,-0.001586913364008069,-0.030503250658512115,-0.050148576498031616,-0.020630765706300735,0.002230958081781864,0.024059420451521873,0.025405529886484146,0.02127307653427124,-0.0005613354733213782,0.012856760062277317,-0.02394273318350315,-0.035521186888217926,0.027124980464577675,0.07186803966760635,0.0003452697128523141,-0.0454133115708828,-0.0286655705422163,-0.010954715311527252,0.009528030641376972,0.020083539187908173,-0.023123327642679214,0.00903053767979145,-0.010595500469207764,-0.026265284046530724,0.004903176333755255,0.008546682074666023,0.012612694874405861,-0.02875305525958538,-0.03244972601532936,-0.021826302632689476,-0.01592501625418663,0.03442245349287987,0.04096490144729614,0.022645430639386177,-0.007891750894486904,-0.00186245352961123,0.044929321855306625,-0.0507834292948246,-0.07499416917562485,0.01668837107717991,-0.09696049988269806,-0.006119149271398783,-0.023999610915780067,0.03849691525101662,0.02588285505771637,-0.023638185113668442,-0.08780752122402191,0.062341608107089996,-0.04014771804213524,0.04978165403008461,-0.011468961834907532,0.06633669137954712,0.009952631779015064,-0.03684882074594498,-0.004355801269412041,0.014467360451817513,0.03508744761347771,-0.02431667223572731,0.07703276723623276,-0.0002504987351130694,-0.052133988589048386,0.057955801486968994,-0.008417308330535889,0.021251972764730453,0.044140879064798355,0.039151325821876526,0.01731485314667225,-0.037130944430828094,0.03488365188241005,0.018926601856946945,-0.03663916140794754,0.03111313097178936,-0.03507154807448387,0.023975443094968796,-0.020684855058789253,0.010369489900767803,0.047359008342027664,0.028703870251774788,-0.011188839562237263,-0.008233617059886456,-0.02184908092021942,-0.0493461899459362,-0.03802211955189705,0.006990950088948011,-0.0335833840072155,0.002507432596758008,-0.013680472038686275,-0.005884886719286442,0.0197230763733387,-0.018885591998696327,0.013109056279063225,-0.017293278127908707,0.012160261161625385,-0.03526948019862175,0.011662005446851254,-0.05267804116010666,-0.0512017086148262,0.08415602892637253,-0.014241041615605354,-0.06444215029478073,0.013182728551328182,-0.02754349075257778,0.030007096007466316,-0.03192926570773125,0.045445505529642105,-0.05414308235049248,-0.04883867874741554,0.05020188167691231,-0.012578238733112812,0.0514962375164032,-0.009941810742020607,0.04837053641676903,2.2527548537709663e-7,0.002411162480711937,-0.028517836704850197,-0.0227932408452034,0.0731097161769867,0.013355928473174572,-0.035319119691848755,0.020559880882501602,-0.047563258558511734,0.026065053418278694,0.02614264376461506,0.027101466432213783,0.020390585064888,0.0032515483908355236,0.058397602289915085,0.022382106631994247,-0.03295589238405228,0.07504699379205704,-0.05884662643074989,-0.03142068162560463,0.02030637115240097,0.11433499306440353,0.019392255693674088,0.04445852339267731,0.0745307058095932,0.01280251145362854,-0.04474598541855812,0.01235633622854948,0.015983527526259422,0.020603297278285027,-0.023796018213033676,-0.01755288802087307,-0.019931118935346603,-0.05122802034020424,0.0375455804169178,-0.014316575601696968,-0.02654438465833664,0.021372618153691292,0.019182316958904266,-0.015794184058904648,0.016666671261191368,0.04603685438632965,-0.021615274250507355,-0.008414474315941334,0.01060777623206377,-0.009585030376911163,-0.020041517913341522,0.009523121640086174,0.04606601223349571,-0.009581380523741245,0.03726637735962868,-0.005542644765228033,0.008695336058735847,0.003101554000750184,-0.025748318061232567,0.014440510421991348,-0.02626480907201767,-0.06501854956150055,0.028149889782071114,-0.011843690648674965,0.00647503137588501,0.010267992503941059,-0.02448527328670025,-0.017041128128767014,0.03043917380273342,0.06024400517344475,0.0046028802171349525,-0.003156692488119006,2.5786222643263494e-34,-0.015948200598359108,0.0033634318970143795,0.04948488250374794,0.05486052483320236,-0.006137983873486519,0.013657472096383572,0.02547886036336422,-0.01704171672463417,0.004052130505442619,-0.0015529680531471968,-0.029281863942742348]'
SET
  @TechnicalDesignVector_0d1aef4b = N'[0.0009291453752666712,-0.0555485375225544,-0.01931607723236084,-0.030600549653172493,-0.04267116263508797,-0.015581866726279259,0.08650736510753632,0.09911440312862396,-0.030169757083058357,-0.008889972232282162,0.05358172580599785,0.009103190153837204,0.00619936641305685,0.12350541353225708,-0.035701148211956024,-0.11874794960021973,-0.034058090299367905,0.003490177448838949,-0.01812005043029785,0.023450033739209175,-0.009773023426532745,0.00022641010582447052,-0.0385160818696022,-0.047944411635398865,0.006685111206024885,-0.03797312080860138,-0.03468136116862297,0.0005685251671820879,0.011332673020660877,-0.05883859470486641,-0.014359546825289726,0.021495111286640167,-0.04946805536746979,0.020151928067207336,0.0000016065416730270954,-0.0184711292386055,0.009086711332201958,0.004222139250487089,0.03181927651166916,0.02901390753686428,0.030277861282229424,0.015277853235602379,0.043202824890613556,-0.009855903685092926,-0.02398599684238434,-0.03961535915732384,-0.031543534249067307,0.04698261246085167,0.0031399133149534464,-0.026089642196893692,0.003715133760124445,0.0576508603990078,0.03626735880970955,-0.006092799361795187,0.07249277830123901,0.09866141527891159,-0.025584395974874496,0.026787955313920975,0.08166525512933731,0.06120783090591431,0.04380066692829132,-0.00026716708089224994,0.009093278087675571,0.010492457076907158,-0.000652473361697048,-0.002710508881136775,0.020885929465293884,-0.023002970963716507,0.015315131284296513,-0.014350437559187412,0.08119024336338043,-0.006398720201104879,-0.02374027483165264,0.042756278067827225,-0.021036777645349503,-0.04528399184346199,-0.006232629530131817,-0.014944254420697689,-0.0013419330352917314,-0.04154516011476517,-0.027568913996219635,0.025175346061587334,-0.034209318459033966,-0.023564394563436508,0.0349813736975193,-0.0441155843436718,0.033169373869895935,-0.006257679779082537,-0.0321907103061676,-0.012749558314681053,0.09165120869874954,-0.039229925721883774,0.033300403505563736,-0.0018279296346008778,-0.014263972640037537,-0.03650088608264923,0.01440400630235672,0.0005210735253058374,0.011693604290485382,0.0049393498338758945,0.046770211309194565,0.05513692647218704,-0.026148615404963493,0.011678584851324558,0.038044918328523636,0.0729714184999466,-0.02847851999104023,-0.11003835499286652,-0.03841932490468025,0.010279671289026737,0.024238483980298042,-0.00990495178848505,0.006139594130218029,-0.0009748101001605392,-0.06137635186314583,0.032948318868875504,-0.006341403350234032,-0.00143711781129241,0.00738063408061862,0.014722592197358608,0.036365386098623276,0.023104995489120483,-0.019024919718503952,0.006641404237598181,-0.02951895445585251,-0.00938181858509779,-0.004503883887082338,-0.024909326806664467,0.0036927189212292433,0.0015992078697308898,-0.00785999745130539,-0.015969013795256615,0.008315172977745533,-0.003346869256347418,-0.02475857362151146,-0.029856182634830475,-0.04151664301753044,0.023577794432640076,-0.03557242453098297,0.009179249405860901,0.00353240966796875,0.048390571027994156,-0.019273309037089348,0.006242513656616211,-0.013975972309708595,-0.013323095627129078,-0.02141864411532879,-0.005781679879873991,0.0017500331159681082,0.005685882642865181,0.014487509615719318,-0.013806682080030441,-0.05897646024823189,0.009506477043032646,-0.07130412012338638,0.016314318403601646,-0.0006081392639316618,-0.03516991063952446,0.047091610729694366,0.07584311068058014,0.0001267401676159352,-0.02076885849237442,-0.008891231380403042,0.015627974644303322,-0.05835028737783432,0.016245035454630852,-0.12784378230571747,-0.008002696558833122,-0.03529279679059982,-0.05407530069351196,-0.028259119018912315,-0.004868058022111654,0.0012964725028723478,-0.024833986535668373,0.026523826643824577,-0.02448735013604164,-0.0031946077942848206,-0.0032217204570770264,-0.005470493342727423,-0.05390331894159317,0.06057950481772423,-0.11285760253667831,0.02866317890584469,0.014029666781425476,0.0074805268086493015,-0.02095111273229122,-0.09448797255754471,0.031365495175123215,-0.03436615690588951,-0.04175982251763344,-0.05701266974210739,0.029201453551650047,0.049690164625644684,0.022409114986658096,0.007617397699505091,0.003970786929130554,0.006408573128283024,-0.01864372193813324,0.01973138563334942,0.024787459522485733,0.019783353433012962,0.04292658716440201,0.06597481667995453,0.10667640715837479,0.009129391983151436,0.021429598331451416,0.005151892546564341,-0.02498992159962654,-0.0024524314794689417,0.09284567087888718,-0.00012237839109729975,-0.010223004966974258,-0.00867703091353178,0.01863567717373371,-0.035247862339019775,0.00694582425057888,0.018625391647219658,0.0311322882771492,-0.054822348058223724,0.014150405302643776,-0.006084194872528315,-0.07634995132684708,0.00002077274075418245,-0.0051601049490273,0.06710910052061081,-0.012313988991081715,0.002217225031927228,-0.014198753982782364,0.030737191438674927,0.024180162698030472,-0.010985204018652439,-0.0393792986869812,-0.0021849959157407284,-0.02409496158361435,0.024969829246401787,0.05542837455868721,0.05517074093222618,0.07203010469675064,0.012397801503539085,-0.014344040304422379,-0.003218370722606778,-0.0214714165776968,-0.011908345855772495,-0.017804058268666267,-0.041224155575037,0.05628080666065216,-0.00526771042495966,0.018280088901519775,-0.03174290806055069,-0.0007188737508840859,0.03704528883099556,0.028844047337770462,0.014615201391279697,-0.07572498172521591,-0.03105243667960167,0.06634487956762314,0.03020372800529003,-0.03938308358192444,-0.021033303812146187,0.031135668978095055,-0.005257183685898781,-0.021858222782611847,-0.04279981926083565,-0.0415511429309845,0.030975963920354843,-0.020972389727830887,0.017893724143505096,-0.042217377573251724,-0.01652287133038044,-0.012800232507288456,0.015149648301303387,0.011427285149693489,0.03240899369120598,-0.00017848059360403568,-0.020847948268055916,-0.006384608335793018,-0.02862769179046154,-0.012757373973727226,0.030819864943623543,-0.002978104166686535,0.0034743251744657755,0.0014346725074574351,0.010530276224017143,0.005203327164053917,-0.023280609399080276,0.010612765327095985,-0.01463586650788784,-0.05905893072485924,0.019713275134563446,-0.034989360719919205,-0.004024080000817776,-0.003193123731762171,0.01121484488248825,0.0011794536840170622,0.014234963804483414,0.03200065717101097,0.06229917332530022,0.09331406652927399,0.006104311440140009,0.018455613404512405,-0.027877027168869972,-0.044669754803180695,-0.0024830864276736975,0.02736791782081127,-0.004151723347604275,0.05616685748100281,-0.004427007399499416,-0.02212829887866974,-0.005932503845542669,0.0645964965224266,-0.007001598831266165,0.04423333704471588,0.004534142557531595,-0.05196597799658775,-0.016803134232759476,0.02929668314754963,0.05457747355103493,0.01754196546971798,0.010164950974285603,0.04182392358779907,-0.012502726167440414,-0.01662019081413746,-0.024779535830020905,-0.05014016479253769,-0.02591565251350403,0.060736283659935,-0.026080943644046783,-0.01715395599603653,0.009912063367664814,0.009226491674780846,-0.02235824428498745,0.017147246748209,-0.0008922602864913642,0.03846104070544243,0.01211527269333601,-0.016375266015529633,-0.047697581350803375,-0.007666115183383226,-0.02995285764336586,-0.06495167315006256,-0.014365418814122677,-0.03489916771650314,-0.00693167932331562,0.01771845854818821,0.08709124475717545,-0.0024475217796862125,-0.0932258814573288,0.022794904187321663,-0.06712999194860458,0.03998681902885437,-0.026039572432637215,0.051536887884140015,0.008198384195566177,0.0016841072356328368,0.010759229771792889,0.034486085176467896,-0.03657734766602516,-0.02328439988195896,-0.06591875851154327,0.0219715628772974,-0.037235062569379807,0.019357718527317047,0.07254845649003983,-0.01156825665384531,-0.008369752205908298,0.047984082251787186,0.017832333222031593,0.03172457963228226,-0.02003040537238121,-0.010073128156363964,0.03558792918920517,0.04081695154309273,0.03717900812625885,0.04440334811806679,-0.04172781482338905,-0.08832238614559174,0.0069866240955889225,0.007525725290179253,-0.01747153140604496,0.023595349863171577,0.029008638113737106,-0.015197628177702427,0.061850398778915405,-0.04948651045560837,0.01480801310390234,-0.001415529870428145,-0.008969459682703018,0.03143444284796715,0.04650396108627319,-0.04631097987294197,-0.0023758516181260347,-0.013752823695540428,0.022961456328630447,-0.004922626540064812,-0.009093429893255234,0.008703771978616714,0.03397272154688835,-0.03331539407372475,-0.01058342307806015,0.011200904846191406,0.010450325906276703,-0.01094204280525446,-0.012138609774410725,0.03777248039841652,0.07230884581804276,-0.0074105579406023026,0.008720390498638153,0.031311504542827606,-0.00238005886785686,0.013615096919238567,-0.1189277246594429,0.03188322111964226,0.020810529589653015,-0.042076628655195236,-0.07840810716152191,0.04161037877202034,-0.016864771023392677,-0.009512918069958687,0.05396198853850365,0.044817354530096054,0.0016507247928529978,0.014291017316281796,0.014209466986358166,-0.010176783427596092,0.06202330067753792,-0.008182479068636894,-0.04902789369225502,-0.016465183347463608,-0.023696929216384888,-0.023074081167578697,0.02038111351430416,0.01806875318288803,-0.034477345645427704,0.0034076001029461622,-0.022372540086507797,-0.06764756143093109,-0.03908473998308182,0.005145781207829714,-0.018865438178181648,0.0018992485711351037,-0.03202686458826065,-0.0075811599381268024,0.06277855485677719,-0.010237853974103928,-0.02092882990837097,-0.08506017923355103,-0.008147538639605045,-0.02079308032989502,0.03584149107336998,-0.015978166833519936,-0.0211598239839077,0.06357813626527786,-0.042951539158821106,-0.02246999368071556,-0.03060903772711754,-0.032898373901844025,0.043082986027002335,-0.0067039979621768,0.02553347498178482,0.010126546956598759,0.03611806035041809,0.03639698401093483,-0.0075526125729084015,0.021386677399277687,0.06709524244070053,0.054732128977775574,0.005857314448803663,0.09940848499536514,-0.0027978913858532906,-0.0520077645778656,-0.0007513312739320099,0.020775865763425827,-0.02376483753323555,-0.06338296085596085,0.011006992310285568,0.008351819589734077,0.007268402725458145,-0.023298852145671844,-0.01988915726542473,-0.025950103998184204,-0.028922853991389275,0.05663300305604935,0.01828647218644619,-0.05580676347017288,0.046101164072752,0.022975917905569077,-0.04276306554675102,-0.01585165597498417,-0.005047771148383617,0.022948825731873512,-0.007476877886801958,-0.03082966059446335,-0.0055604069493710995,0.05826163291931152,0.03190033882856369,0.0021318793296813965,-0.03276027366518974,-0.006949993781745434,-0.045350585132837296,0.0018933407263830304,-0.03235336020588875,-0.019911471754312515,-0.01988307014107704,0.03165508061647415,-0.04614132270216942,0.009961896575987339,0.0023248696234077215,0.031093791127204895,-0.038606539368629456,0.04736477509140968,-0.0019242704147472978,0.01302642934024334,-0.04231835529208183,0.07997182011604309,0.012972868047654629,0.017330190166831017,0.005959653295576572,-0.017712945118546486,0.027279671281576157,-0.00723238056525588,0.02761484682559967,0.022329747676849365,-0.02402964048087597,0.018914159387350082,0.04062819108366966,-0.0022802145686000586,0.012152819894254208,0.020610688254237175,-0.003338062670081854,0.03872384876012802,-0.036373868584632874,0.007305870298296213,0.1000656709074974,0.004993909504264593,-0.005062255077064037,-0.0002192782994825393,0.002872064709663391,-0.003944702912122011,0.009401747956871986,-0.025655055418610573,-0.04760605841875076,0.008047964423894882,0.11142891645431519,-0.01956404373049736,0.01881321147084236,0.0017695499118417501,-0.020559221506118774,-0.010800612159073353,0.029971182346343994,-0.020621338859200478,0.041507430374622345,-0.023935725912451744,-0.08482228964567184,-0.008937445469200611,-0.05874909088015556,-6.671352149514839e-33,-0.03952469304203987,-0.010788889601826668,-0.03156903758645058,0.015413827262818813,-0.0031556084286421537,0.037967246025800705,-0.01188522670418024,-0.03219360113143921,-0.019615354016423225,0.00933052133768797,-0.04211006313562393,-0.029466873034834862,0.02949887327849865,-0.015456592664122581,-0.006359753664582968,0.03223199024796486,0.03249196708202362,-0.0012812067288905382,0.010615496896207333,-0.002544922986999154,-0.0017553423531353474,-0.020502477884292603,-0.01139296218752861,-0.04780068248510361,-0.03444236144423485,-0.009992745704948902,0.01505860686302185,0.041884444653987885,0.03043360635638237,0.03350367769598961,-0.02277650311589241,-0.005324012599885464,-0.017154527828097343,0.07443848252296448,0.027239089831709862,-0.019294828176498413,-0.0790235623717308,-0.02820134535431862,0.034040991216897964,0.0009743876289576292,0.03592866659164429,-0.012444836087524891,-0.023294582962989807,0.008156711235642433,0.0036959461867809296,-0.0030609448440372944,-0.01010581199079752,-0.031122399494051933,-0.04763862118124962,-0.032814327627420425,0.03435540571808815,0.011612176895141602,0.007489978335797787,0.005795089993625879,-0.018489321693778038,0.004870455712080002,0.04569339379668236,-0.029515478760004044,-0.08941586315631866,-0.00655439542606473,-0.12260248512029648,-0.0032098388765007257,-0.001263818354345858,0.0414777547121048,0.0329134501516819,0.02840528078377247,-0.00987874437123537,0.07380769401788712,-0.05702357739210129,0.0432095043361187,-0.016807133331894875,0.0004470167332328856,0.0408477857708931,-0.028969675302505493,0.008906248025596142,0.03545546531677246,0.05445651710033417,-0.00907980278134346,0.0937894880771637,0.05710393562912941,-0.03137651085853577,0.026091571897268295,-0.0015524143818765879,0.031470514833927155,-0.0026016971096396446,-0.018745804205536842,0.0071605537086725235,-0.07917609065771103,0.027073705568909645,0.027169350534677505,0.010407678782939911,0.02676299214363098,-0.02114756777882576,0.05679606273770332,0.004601880442351103,-0.01318686455488205,0.04451974853873253,0.04420742392539978,-0.016039511188864708,-0.0018081102753058076,0.05761310085654259,-0.010218401439487934,-0.02846510335803032,-0.004583356902003288,-0.02239394746720791,-0.015745854005217552,0.018543334677815437,0.03029833547770977,-0.05911785364151001,0.0006963520427234471,0.011364621110260487,0.009585028514266014,-0.003541582962498069,-0.04711800441145897,0.014934939332306385,-0.007202556822448969,-0.024283278733491898,0.09493014961481094,-0.001328253885731101,0.006051233038306236,0.06837043911218643,-0.09310445189476013,-0.000039943046431289986,0.015869949012994766,-0.013322542421519756,-0.017387237399816513,-0.07373763620853424,0.03065323457121849,-0.04797707125544548,0.013510419055819511,-0.003366300603374839,0.042030688375234604,2.5696547822917637e-7,-0.023476876318454742,0.022531529888510704,0.008766405284404755,0.037070538848638535,0.036866843700408936,-0.0763774961233139,0.010057365521788597,-0.033356521278619766,-0.015101770870387554,0.0015922135207802057,0.016253087669610977,-0.00188489502761513,0.02512308955192566,0.05689423531293869,0.06206539273262024,-0.04921097308397293,0.039812035858631134,-0.08162623643875122,-0.04581877216696739,0.06338409334421158,0.12360092252492905,-0.01191550400108099,0.08071278780698776,0.027177972719073296,-0.015874136239290237,-0.049445681273937225,0.04554593935608864,-0.011849047616124153,-0.011914178729057312,-0.033502012491226196,-0.00801246240735054,0.0056938594207167625,-0.01699363812804222,-0.021500403061509132,0.007926259189844131,-0.03387456387281418,-0.03488435223698616,0.018124094232916832,-0.008139836601912975,0.042617589235305786,0.023702412843704224,0.0030095966067165136,-0.024376265704631805,0.007458739914000034,0.02082981914281845,0.04150776192545891,-0.016574613749980927,0.027160178869962692,-0.015791840851306915,0.03444423899054527,-0.03688656911253929,0.0115470290184021,-0.011936679482460022,-0.02821166440844536,0.03030266799032688,0.0013343599857762456,-0.03135490044951439,0.016015544533729553,-0.024491602554917336,-0.034747835248708725,-0.016529111191630363,-0.0026901275850832462,-0.029250187799334526,0.02935868687927723,0.005920608062297106,0.007638886570930481,-0.051929015666246414,3.2395708249588068e-34,0.029256165027618408,-0.01973746530711651,-0.0004523085372056812,0.009829769842326641,0.009456506930291653,0.01208979357033968,0.047152481973171234,-0.027313223108649254,0.01757727563381195,-0.07016053795814514,-0.006016232073307037]'
SET
  @HasCustomProps_0d1aef4b = 1
SET
  @HasCustomEvents_0d1aef4b = 1
SET
  @RequiresData_0d1aef4b = 1
SET
  @DependencyCount_0d1aef4b = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_0d1aef4b = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_0d1aef4b = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_0d1aef4b = 1
SET
  @ID_0d1aef4b = '8E9F75DF-F187-45E7-A15B-424946217C1F'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_0d1aef4b,
  @Name = @Name_0d1aef4b,
  @Version = @Version_0d1aef4b,
  @VersionSequence = @VersionSequence_0d1aef4b,
  @Title = @Title_0d1aef4b,
  @Description = @Description_0d1aef4b,
  @Type = @Type_0d1aef4b,
  @Status = @Status_0d1aef4b,
  @DeveloperName = @DeveloperName_0d1aef4b,
  @DeveloperEmail = @DeveloperEmail_0d1aef4b,
  @DeveloperOrganization = @DeveloperOrganization_0d1aef4b,
  @SourceRegistryID = @SourceRegistryID_0d1aef4b,
  @ReplicatedAt = @ReplicatedAt_0d1aef4b,
  @LastSyncedAt = @LastSyncedAt_0d1aef4b,
  @Specification = @Specification_0d1aef4b,
  @FunctionalRequirements = @FunctionalRequirements_0d1aef4b,
  @TechnicalDesign = @TechnicalDesign_0d1aef4b,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_0d1aef4b,
  @TechnicalDesignVector = @TechnicalDesignVector_0d1aef4b,
  @HasCustomProps = @HasCustomProps_0d1aef4b,
  @HasCustomEvents = @HasCustomEvents_0d1aef4b,
  @RequiresData = @RequiresData_0d1aef4b,
  @DependencyCount = @DependencyCount_0d1aef4b,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_0d1aef4b,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_0d1aef4b,
  @HasRequiredCustomProps = @HasRequiredCustomProps_0d1aef4b,
  @ID = @ID_0d1aef4b;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_3432f783 NVARCHAR(MAX),
@Name_3432f783 NVARCHAR(500),
@Version_3432f783 NVARCHAR(50),
@VersionSequence_3432f783 INT,
@Title_3432f783 NVARCHAR(1000),
@Description_3432f783 NVARCHAR(MAX),
@Type_3432f783 NVARCHAR(255),
@Status_3432f783 NVARCHAR(50),
@DeveloperName_3432f783 NVARCHAR(255),
@DeveloperEmail_3432f783 NVARCHAR(255),
@DeveloperOrganization_3432f783 NVARCHAR(255),
@SourceRegistryID_3432f783 UNIQUEIDENTIFIER,
@ReplicatedAt_3432f783 DATETIMEOFFSET,
@LastSyncedAt_3432f783 DATETIMEOFFSET,
@Specification_3432f783 NVARCHAR(MAX),
@FunctionalRequirements_3432f783 NVARCHAR(MAX),
@TechnicalDesign_3432f783 NVARCHAR(MAX),
@FunctionalRequirementsVector_3432f783 NVARCHAR(MAX),
@TechnicalDesignVector_3432f783 NVARCHAR(MAX),
@HasCustomProps_3432f783 BIT,
@HasCustomEvents_3432f783 BIT,
@RequiresData_3432f783 BIT,
@DependencyCount_3432f783 INT,
@TechnicalDesignVectorEmbeddingModelID_3432f783 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_3432f783 NVARCHAR(MAX),
@HasRequiredCustomProps_3432f783 BIT,
@ID_3432f783 UNIQUEIDENTIFIER
SET
  @Namespace_3432f783 = N'CRM/Analytics'
SET
  @Name_3432f783 = N'SalesFunnelVisualization'
SET
  @Version_3432f783 = N'1.0.0'
SET
  @VersionSequence_3432f783 = 1
SET
  @Title_3432f783 = N'Sales Funnel Visualization'
SET
  @Description_3432f783 = N'Interactive sales funnel visualization with conversion metrics and drill-down capabilities'
SET
  @Type_3432f783 = N'Chart'
SET
  @Status_3432f783 = N'Published'
SET
  @Specification_3432f783 = N'{"name":"SalesFunnelVisualization","namespace":"CRM/Analytics","type":"Chart","location":"embedded","code":"function SalesFunnelVisualization({ utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings }) {\n  // Extract sub-components from components\n  const {\n    AIInsightsPanel,\n    SalesFunnelChart,\n    SalesFunnelStagePanel\n  } = components;\n\n  if (!AIInsightsPanel) {\n    console.warn(''AIInsightsPanel component not available'');\n  }\n\n  const [deals, setDeals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedStage, setSelectedStage] = useState(null);\n  const [viewMode, setViewMode] = useState(savedUserSettings?.viewMode || ''count'');\n  const [timeFilter, setTimeFilter] = useState(savedUserSettings?.timeFilter || ''quarter'');\n  const [startDate, setStartDate] = useState(savedUserSettings?.startDate || null);\n  const [endDate, setEndDate] = useState(savedUserSettings?.endDate || null);\n  const [isPanelOpen, setIsPanelOpen] = useState(false);\n\n  // AI Insights state\n  const [aiInsights, setAiInsights] = useState(null);\n  const [loadingInsights, setLoadingInsights] = useState(false);\n  const [insightsError, setInsightsError] = useState(null);\n\n  // Debounce settings saves\n  const saveSettingsTimeoutRef = useRef(null);\n\n  // Define pipeline stages in order\n  const pipelineStages = [\n    { name: ''Lead'', color: ''#3B82F6'' },\n    { name: ''Qualified'', color: ''#6366F1'' },\n    { name: ''Proposal'', color: ''#8B5CF6'' },\n    { name: ''Negotiation'', color: ''#A855F7'' },\n    { name: ''Closed Won'', color: ''#10B981'' },\n    { name: ''Closed Lost'', color: ''#EF4444'' }\n  ];\n\n  useEffect(() => {\n    loadDeals();\n  }, [timeFilter, startDate, endDate]);\n\n  const loadDeals = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const dateFilter = getDateFilter();\n      const result = await utilities.rv.RunView({\n        EntityName: ''Deals'',\n        ExtraFilter: dateFilter,\n        OrderBy: ''CloseDate DESC''\n      });\n\n      if (result.Success) {\n        setDeals(result.Results || []);\n      } else {\n        setError(result.ErrorMessage || ''Failed to load deals'');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getDateFilter = () => {\n    // If custom dates are set, use them\n    if (startDate && endDate) {\n      return `CloseDate >= ''$' + '{startDate}'' AND CloseDate <= ''$' + '{endDate}''`;\n    }\n    \n    // Otherwise use preset filter\n    const now = new Date();\n    let filterStart;\n    \n    switch (timeFilter) {\n      case ''month'':\n        filterStart = new Date(now);\n        filterStart.setMonth(now.getMonth() - 1);\n        break;\n      case ''quarter'':\n        filterStart = new Date(now);\n        filterStart.setMonth(now.getMonth() - 3);\n        break;\n      case ''year'':\n        filterStart = new Date(now);\n        filterStart.setFullYear(now.getFullYear() - 1);\n        break;\n      case ''all'':\n        return '''';\n      default:\n        return '''';\n    }\n    \n    return filterStart ? `CloseDate >= ''$' + '{filterStart.toISOString().split(''T'')[0]}''` : '''';\n  };\n  \n  const handleDateRangeChange = (start, end) => {\n    setStartDate(start);\n    setEndDate(end);\n    setTimeFilter(''custom'');\n\n    // Debounce settings save to avoid excessive writes\n    if (saveSettingsTimeoutRef.current) {\n      clearTimeout(saveSettingsTimeoutRef.current);\n    }\n    saveSettingsTimeoutRef.current = setTimeout(() => {\n      if (onSaveUserSettings) {\n        onSaveUserSettings({\n          ...savedUserSettings,\n          startDate: start,\n          endDate: end,\n          timeFilter: ''custom''\n        });\n      }\n    }, 500);\n  };\n\n  const handlePresetChange = (preset) => {\n    setTimeFilter(preset);\n    setStartDate(null);\n    setEndDate(null);\n\n    // Debounce settings save to avoid excessive writes\n    if (saveSettingsTimeoutRef.current) {\n      clearTimeout(saveSettingsTimeoutRef.current);\n    }\n    saveSettingsTimeoutRef.current = setTimeout(() => {\n      if (onSaveUserSettings) {\n        onSaveUserSettings({\n          ...savedUserSettings,\n          timeFilter: preset,\n          startDate: null,\n          endDate: null\n        });\n      }\n    }, 500);\n  };\n\n  const calculateFunnelData = () => {\n    const funnelData = [];\n    const closedLost = { count: 0, value: 0 };\n    \n    // Calculate metrics for each stage\n    pipelineStages.forEach((stage, index) => {\n      let stageDeals;\n      \n      if (stage.name === ''Closed Lost'') {\n        stageDeals = deals.filter(d => d.Stage === ''Closed Lost'');\n        closedLost.count = stageDeals.length;\n        closedLost.value = stageDeals.reduce((sum, d) => sum + (d.Amount || 0), 0);\n      } else if (stage.name === ''Closed Won'') {\n        stageDeals = deals.filter(d => d.Stage === ''Closed Won'');\n      } else {\n        // For other stages, include all deals at or after this stage (except closed lost)\n        stageDeals = deals.filter(d => {\n          if (d.Stage === ''Closed Lost'') return false;\n          const dealStageIndex = pipelineStages.findIndex(s => s.name === d.Stage);\n          return dealStageIndex >= index;\n        });\n      }\n      \n      if (stage.name !== ''Closed Lost'') {\n        const totalValue = stageDeals.reduce((sum, d) => sum + (d.Amount || 0), 0);\n        const prevStageCount = index > 0 ? funnelData[index - 1].count : 0;\n        const conversionRate = prevStageCount > 0 ? (stageDeals.length / prevStageCount) * 100 : 100;\n        \n        funnelData.push({\n          stage: stage.name,\n          count: stageDeals.length,\n          value: totalValue,\n          color: stage.color,\n          width: Math.max(30, 100 - (index * 15)), // Visual width for funnel effect\n          conversionRate,\n          deals: stageDeals\n        });\n      }\n    });\n    \n    return { funnelData, closedLost };\n  };\n\n  const handleStageClick = (stageData) => {\n    setSelectedStage({\n      ...stageData,\n      title: `$' + '{stageData.stage} Stage`\n    });\n    setIsPanelOpen(true);\n  };\n\n  const formatCurrency = (amount) => {\n    if (amount >= 1000000) {\n      return `$$' + '{(amount / 1000000).toFixed(1)}M`;\n    } else if (amount >= 1000) {\n      return `$$' + '{(amount / 1000).toFixed(0)}K`;\n    }\n    return `$$' + '{amount.toFixed(0)}`;\n  };\n\n  const formatNumber = (num) => {\n    if (num >= 1000000) return `$' + '{(num / 1000000).toFixed(1)}M`;\n    if (num >= 1000) return `$' + '{(num / 1000).toFixed(0)}K`;\n    return num.toString();\n  };\n  \n  // Format insights text using marked library for proper markdown rendering\n\n  const generateAIInsights = async () => {\n    setLoadingInsights(true);\n    setInsightsError(null);\n    \n    try {\n      const { funnelData, closedLost } = calculateFunnelData();\n      const totalDeals = deals.length;\n      const totalValue = deals.reduce((sum, d) => sum + (d.Amount || 0), 0);\n      const avgDealSize = totalDeals > 0 ? totalValue / totalDeals : 0;\n      const winRate = totalDeals > 0 ? \n        (deals.filter(d => d.Stage === ''Closed Won'').length / totalDeals * 100) : 0;\n      \n      const prompt = `Analyze this sales funnel data and provide insights:\n\nTime Filter: $' + '{timeFilter}$' + '{startDate && endDate ? ` ($' + '{startDate} to $' + '{endDate})` : ''''}\nTotal Deals: $' + '{totalDeals}\nTotal Value: $' + '{formatCurrency(totalValue)}\nWin Rate: $' + '{winRate.toFixed(1)}%\nAverage Deal Size: $' + '{formatCurrency(avgDealSize)}\n\nFunnel Stage Breakdown:\n$' + '{funnelData.map(stage => `$' + '{stage.stage}: $' + '{stage.count} deals ($' + '{formatCurrency(stage.value)}) - $' + '{stage.conversionRate?.toFixed(1) || ''0''}% conversion`).join(''\\n'')}\n\nClosed Lost: $' + '{closedLost.count} deals ($' + '{formatCurrency(closedLost.value)})\n\nConversion Analysis:\n$' + '{funnelData.map((stage, index) => {\n  if (index === 0) return `$' + '{stage.stage}: Entry point`;\n  const prevStage = funnelData[index - 1];\n  const dropoff = prevStage.count - stage.count;\n  const dropoffRate = prevStage.count > 0 ? (dropoff / prevStage.count * 100) : 0;\n  return `$' + '{prevStage.stage} → $' + '{stage.stage}: $' + '{dropoff} deals lost ($' + '{dropoffRate.toFixed(1)}% drop-off)`;\n}).join(''\\n'')}\n\nProvide:\n1. Sales funnel performance analysis and trends\n2. Conversion rate analysis between stages\n3. Identification of bottlenecks and drop-off points\n4. Win rate and deal velocity insights\n5. Specific recommendations to improve conversion rates\n6. Strategies to reduce drop-offs at critical stages\n7. Deal size and value optimization opportunities\n\nFocus on actionable recommendations to improve sales performance and funnel efficiency.`;\n      \n      const result = await utilities.ai.ExecutePrompt({\n        systemPrompt: ''You are an expert sales analyst with deep knowledge of sales funnels, conversion optimization, and revenue growth strategies. Provide clear, actionable insights with specific recommendations. Format your response in clear markdown.'',\n        messages: prompt,\n        preferredModels: [''GPT-OSS-120B'', ''Qwen3 32B''],\n        modelPower: ''high'',\n        temperature: 0.7,\n        maxTokens: 1500\n      });\n      \n      if (result?.success && result?.result) {\n        setAiInsights(result.result);\n      } else {\n        setInsightsError(''Failed to generate insights. Please try again.'');\n      }\n    } catch (error) {\n      setInsightsError(error.message || ''Failed to generate AI insights'');\n    } finally {\n      setLoadingInsights(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#6B7280'' }}>Loading sales funnel data...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'' }}>\n        <div style={{ fontSize: ''18px'', color: ''#EF4444'' }}>Error: {error}</div>\n      </div>\n    );\n  }\n\n  const { funnelData, closedLost } = calculateFunnelData();\n  const totalDeals = deals.length;\n  const totalValue = deals.reduce((sum, d) => sum + (d.Amount || 0), 0);\n  const avgDealSize = totalDeals > 0 ? totalValue / totalDeals : 0;\n  const winRate = totalDeals > 0 ? \n    (deals.filter(d => d.Stage === ''Closed Won'').length / totalDeals * 100) : 0;\n\n  return (\n    <div style={{ display: ''flex'', flexDirection: ''column'', height: ''100%'', backgroundColor: ''#F3F4F6'' }}>\n      <style>{`\n        @keyframes fadeInUp {\n          from { \n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to { \n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n      `}</style>\n      <style>{`\n        .ai-insights-content h1, .ai-insights-content h2, .ai-insights-content h3 {\n          margin-top: 16px;\n          margin-bottom: 8px;\n          color: #111827;\n        }\n        .ai-insights-content h1 { font-size: 1.5em; }\n        .ai-insights-content h2 { font-size: 1.3em; }\n        .ai-insights-content h3 { font-size: 1.1em; }\n        .ai-insights-content p {\n          margin: 8px 0;\n          line-height: 1.6;\n          color: #374151;\n        }\n        .ai-insights-content ul, .ai-insights-content ol {\n          margin: 8px 0;\n          padding-left: 24px;\n        }\n        .ai-insights-content li {\n          margin: 4px 0;\n          color: #374151;\n        }\n        .ai-insights-content strong {\n          color: #111827;\n          font-weight: 600;\n        }\n        .ai-insights-content code {\n          background: #F3F4F6;\n          padding: 2px 6px;\n          border-radius: 3px;\n          font-size: 0.9em;\n        }\n        .ai-insights-content blockquote {\n          border-left: 4px solid #10B981;\n          padding-left: 16px;\n          margin: 12px 0;\n          color: #4B5563;\n        }\n      `}</style>\n      \n      <div style={{ padding: ''20px'', borderBottom: ''1px solid #E5E7EB'', backgroundColor: ''white'' }}>\n        <div style={{ marginBottom: ''16px'' }}>\n          <h2 style={{ margin: 0, fontSize: ''24px'', fontWeight: ''bold'' }}>Sales Funnel</h2>\n        </div>\n        \n        <div style={{ display: ''flex'', gap: ''8px'', alignItems: ''center'', flexWrap: ''wrap'' }}>\n          <select\n            value={timeFilter}\n            onChange={(e) => handlePresetChange(e.target.value)}\n            style={{\n              padding: ''6px 12px'',\n              border: ''1px solid #D1D5DB'',\n              borderRadius: ''6px''\n            }}\n          >\n            <option value=\"month\">Last Month</option>\n            <option value=\"quarter\">Last Quarter</option>\n            <option value=\"year\">Last Year</option>\n            <option value=\"all\">All Time</option>\n            <option value=\"custom\">Custom Range</option>\n          </select>\n          \n          {timeFilter === ''custom'' && (\n            <>\n              <input\n                type=\"date\"\n                value={startDate || ''''}\n                onChange={(e) => handleDateRangeChange(e.target.value, endDate)}\n                style={{\n                  padding: ''6px 12px'',\n                  border: ''1px solid #D1D5DB'',\n                  borderRadius: ''6px''\n                }}\n              />\n              <span>to</span>\n              <input\n                type=\"date\"\n                value={endDate || ''''}\n                onChange={(e) => handleDateRangeChange(startDate, e.target.value)}\n                style={{\n                  padding: ''6px 12px'',\n                  border: ''1px solid #D1D5DB'',\n                  borderRadius: ''6px''\n                }}\n              />\n            </>\n          )}\n          \n          <button\n            onClick={() => {\n              setViewMode(viewMode === ''count'' ? ''value'' : ''count'');\n              onSaveUserSettings({ ...savedUserSettings, viewMode: viewMode === ''count'' ? ''value'' : ''count'' });\n            }}\n            style={{\n              padding: ''6px 12px'',\n              backgroundColor: ''#3B82F6'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''6px'',\n              cursor: ''pointer''\n            }}\n          >\n            Show {viewMode === ''count'' ? ''Values'' : ''Counts''}\n          </button>\n          \n          {/* AI Insights Button */}\n          <button\n            onClick={generateAIInsights}\n            disabled={loadingInsights || loading}\n            style={{\n              padding: ''6px 12px'',\n              backgroundColor: ''#10B981'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''6px'',\n              cursor: loadingInsights || loading ? ''not-allowed'' : ''pointer'',\n              display: ''flex'',\n              alignItems: ''center'',\n              gap: ''8px'',\n              opacity: loadingInsights || loading ? 0.6 : 1\n            }}\n          >\n            <i className={`fa-solid fa-$' + '{loadingInsights ? ''spinner fa-spin'' : ''wand-magic-sparkles''}`}></i>\n            {loadingInsights ? ''Analyzing...'' : ''Get AI Insights''}\n          </button>\n        </div>\n        \n        <div style={{ marginTop: ''16px'', display: ''grid'', gridTemplateColumns: ''repeat(4, 1fr)'', gap: ''12px'' }}>\n          <div style={{ padding: ''12px'', backgroundColor: ''#F9FAFB'', borderRadius: ''8px'' }}>\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Total Deals</div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'' }}>\n              {totalDeals}\n            </div>\n          </div>\n          <div style={{ padding: ''12px'', backgroundColor: ''#F9FAFB'', borderRadius: ''8px'' }}>\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Total Value</div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'' }}>\n              {formatCurrency(totalValue)}\n            </div>\n          </div>\n          <div style={{ padding: ''12px'', backgroundColor: ''#F9FAFB'', borderRadius: ''8px'' }}>\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Win Rate</div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'' }}>\n              {winRate.toFixed(1)}%\n            </div>\n          </div>\n          <div style={{ padding: ''12px'', backgroundColor: ''#F9FAFB'', borderRadius: ''8px'' }}>\n            <div style={{ fontSize: ''12px'', color: ''#6B7280'' }}>Avg Deal Size</div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'' }}>\n              {formatCurrency(avgDealSize)}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* AI Insights Panel - Outside header to preserve funnel width */}\n      <AIInsightsPanel\n        utilities={utilities}\n        styles={styles}\n        components={components}\n        callbacks={callbacks}\n        savedUserSettings={savedUserSettings?.aiInsights}\n        onSaveUserSettings={(settings) => onSaveUserSettings?.({\n          ...savedUserSettings,\n          aiInsights: settings\n        })}\n        insights={aiInsights}\n        loading={loadingInsights}\n        error={insightsError}\n        onGenerate={generateAIInsights}\n        title=\"Sales Funnel Insights\"\n        icon=\"fa-wand-magic-sparkles\"\n        iconColor={styles?.colors?.primary || ''#8B5CF6''}\n        position=\"top\"\n        onClose={() => {\n          setAiInsights(null);\n          setInsightsError(null);\n        }}\n      />\n      \n      {SalesFunnelChart && (\n        <SalesFunnelChart\n          funnelData={funnelData}\n          viewMode={viewMode}\n          onStageClick={handleStageClick}\n          closedLost={closedLost}\n          formatCurrency={formatCurrency}\n          styles={styles}\n          utilities={utilities}\n          components={components}\n        />\n      )}\n\n      {SalesFunnelStagePanel && (\n        <SalesFunnelStagePanel\n          isOpen={isPanelOpen}\n          stageData={selectedStage}\n          onClose={() => {\n            setIsPanelOpen(false);\n            setSelectedStage(null);\n          }}\n          components={components}\n          callbacks={callbacks}\n          formatCurrency={formatCurrency}\n          styles={styles}\n          utilities={utilities}\n        />\n      )}\n      \n    </div>\n  );\n}","functionalRequirements":"## Sales Funnel Visualization\n\n### Purpose\nVisualize the sales pipeline as an interactive funnel showing conversion rates and deal values at each stage.\n\n### Core Features\n- **Interactive Funnel Chart**: Visual representation of deal flow through stages\n- **Dual View Modes**: \n  - Count view: Number of deals at each stage\n  - Value view: Total deal value at each stage\n- **Conversion Metrics**: Show conversion rates between stages\n- **Time Period Filtering**: Filter by date ranges (month, quarter, year)\n- **Slide-out Details Panel**: Click stage to see deals list\n- **Card/List View Toggle**: For deals display\n- **Sorting & Filtering**: Sort by value, date, probability\n\n### Visual Design\n- Animated funnel segments using Framer Motion\n- Color-coded stages with gradients\n- Percentage labels and value annotations\n- Smooth transitions between views\n- Side panel slides in from right","dataRequirements":{"mode":"views","entities":[{"name":"Deals","displayFields":["DealName","Stage","Amount","CloseDate","Probability","AccountID"],"filterFields":["Stage","CloseDate"],"sortFields":["Amount","CloseDate","Probability"],"fields":[{"name":"ID","type":"string","description":"Unique identifier"},{"name":"DealName","type":"string","description":"Name of the deal"},{"name":"Stage","type":"string","description":"Current stage in pipeline"},{"name":"Amount","type":"number","description":"Deal value"},{"name":"CloseDate","type":"date","description":"Expected close date"},{"name":"Probability","type":"number","description":"Win probability percentage"}]}]},"technicalDesign":"## Implementation Details\n\n### Component Architecture\n- Main component: SalesFunnelVisualization\n- Sub-components:\n  - FunnelChart: Renders the funnel visualization\n  - StageDetailsPanel: Slide-out panel for stage details\n  - DealCard: Card view for individual deals\n  - FilterBar: Time period and view mode controls\n\n### Animation Strategy\n- Framer Motion for smooth transitions\n- Stagger animations for funnel segments\n- Spring physics for panel slide\n- Opacity transitions for view changes\n\n### State Management\n- deals: Array of all deals\n- selectedStage: Currently selected stage\n- viewMode: ''count'' or ''value''\n- displayMode: ''cards'' or ''list''\n- timeFilter: Selected time period\n- sortBy: Current sort field\n- filterBy: Active filters","properties":[],"events":[{"name":"OpenEntityRecord","description":"Open deal record in explorer"}],"dependencies":[{"name":"SalesFunnelChart","location":"registry","namespace":"CRM/Analytics","version":"^1.0.0"},{"name":"SalesFunnelStagePanel","location":"registry","namespace":"CRM/Analytics","version":"^1.0.0"},{"name":"AIInsightsPanel","location":"registry","namespace":"Generic/UI/AI","version":"^1.0.0"}],"libraries":[],"description":"Interactive sales funnel visualization with conversion metrics and drill-down capabilities"}'
SET
  @FunctionalRequirements_3432f783 = N'## Sales Funnel Visualization

### Purpose
Visualize the sales pipeline as an interactive funnel showing conversion rates and deal values at each stage.

### Core Features
- **Interactive Funnel Chart**: Visual representation of deal flow through stages
- **Dual View Modes**: 
  - Count view: Number of deals at each stage
  - Value view: Total deal value at each stage
- **Conversion Metrics**: Show conversion rates between stages
- **Time Period Filtering**: Filter by date ranges (month, quarter, year)
- **Slide-out Details Panel**: Click stage to see deals list
- **Card/List View Toggle**: For deals display
- **Sorting & Filtering**: Sort by value, date, probability

### Visual Design
- Animated funnel segments using Framer Motion
- Color-coded stages with gradients
- Percentage labels and value annotations
- Smooth transitions between views
- Side panel slides in from right'
SET
  @TechnicalDesign_3432f783 = N'## Implementation Details

### Component Architecture
- Main component: SalesFunnelVisualization
- Sub-components:
  - FunnelChart: Renders the funnel visualization
  - StageDetailsPanel: Slide-out panel for stage details
  - DealCard: Card view for individual deals
  - FilterBar: Time period and view mode controls

### Animation Strategy
- Framer Motion for smooth transitions
- Stagger animations for funnel segments
- Spring physics for panel slide
- Opacity transitions for view changes

### State Management
- deals: Array of all deals
- selectedStage: Currently selected stage
- viewMode: ''count'' or ''value''
- displayMode: ''cards'' or ''list''
- timeFilter: Selected time period
- sortBy: Current sort field
- filterBy: Active filters'
SET
  @FunctionalRequirementsVector_3432f783 = N'[-0.002227198565378785,-0.014755385927855968,-0.04086282104253769,-0.08990203589200974,0.004513751715421677,0.010710869915783405,0.009932121261954308,0.00196011527441442,-0.08380730450153351,0.002506187418475747,-0.05731147900223732,0.012120639905333519,0.03435728698968887,0.1634455919265747,-0.04742829501628876,-0.10072588175535202,-0.03442169725894928,-0.014470158144831657,0.022299442440271378,0.025510013103485107,0.028247009962797165,-0.009473307989537716,-0.030685167759656906,-0.005632140673696995,-0.01863880455493927,-0.04124903678894043,-0.01860428974032402,0.0041253152303397655,0.00865900982171297,-0.11269388347864151,-0.006766557693481445,0.015242923982441425,0.00606179516762495,0.0005588745116256177,0.0000024247112833108986,-0.0025451770052313805,-0.016375690698623657,0.006818937137722969,-0.08455250412225723,0.01982937566936016,0.10454131662845612,-0.06141657382249832,0.02746761217713356,0.006262786686420441,0.003580376273021102,-0.0025197979994118214,-0.03546585142612457,0.06726017594337463,0.02292819134891033,-0.0183296836912632,0.005480462685227394,-0.040257930755615234,-0.023712407797574997,0.02039259672164917,-0.019032204523682594,0.025742096826434135,-0.02932191640138626,-0.025092838332057,0.009273188188672066,-0.03290583938360214,-0.02486109547317028,0.003912787884473801,0.025824157521128654,-0.037818554788827896,0.05272678658366203,0.026127923280000687,0.06640738993883133,-0.030584251508116722,-0.011957158334553242,-0.0031176938209682703,0.011986170895397663,0.01061915047466755,-0.0256364643573761,-0.0441398099064827,-0.004565965849906206,-0.05656983703374863,-0.039729055017232895,0.028592145070433617,0.018687309697270393,-0.009697525762021542,-0.1120934709906578,0.058068469166755676,-0.048702675849199295,-0.0381406806409359,-0.00019062665523961186,0.007147002499550581,0.0004058276826981455,-0.00999909546226263,-0.01833866350352764,-0.012499786913394928,0.08614328503608704,-0.007689306512475014,-0.012696731835603714,-0.02330482378602028,-0.0621289424598217,-0.027154749259352684,0.03329090029001236,0.030163725838065147,0.013965504243969917,-0.043085116893053055,-0.014336919412016869,0.005495448596775532,0.059408530592918396,0.018383774906396866,0.041655708104372025,-0.009843990206718445,0.01100478321313858,-0.008305791765451431,-0.05783351883292198,0.05911386385560036,0.016723021864891052,0.02953578531742096,-0.02187669649720192,-0.0011465977877378464,-0.05982203781604767,-0.0007549260626547039,-0.0668569952249527,-0.038835667073726654,-0.01321957167237997,0.01358355488628149,0.06023460626602173,0.023572053760290146,0.014966308139264584,0.04156384989619255,0.018481848761439323,0.06199343875050545,-0.0278541948646307,-0.033422261476516724,-0.01216962095350027,0.04039108753204346,0.0014632303500548005,0.005569311790168285,0.011305220425128937,-0.03502502664923668,-0.031465593725442886,0.011667548678815365,0.004622886423021555,0.03616156429052353,-0.02065560221672058,-0.01121990941464901,0.03768821805715561,0.018710458651185036,-0.017069000750780106,0.04292318969964981,0.021197833120822906,-0.015181131660938263,-0.02599860168993473,0.07959990203380585,0.023678777739405632,0.032048843801021576,0.002099326578900218,-0.0016645347932353616,0.024100814014673233,0.027508022263646126,0.0023541359696537256,-0.030918274074792862,-0.008840205147862434,-0.011723709292709827,0.03042571060359478,0.07775305956602097,-0.028188081458210945,-0.07671913504600525,0.04026293009519577,0.023485355079174042,-0.07555695623159409,0.02234397456049919,-0.0484994538128376,-0.027249842882156372,-0.05687330663204193,-0.03709916025400162,0.032759930938482285,-0.022651441395282745,-0.02608485519886017,0.016646910458803177,0.023302508518099785,-0.031992193311452866,0.1217246949672699,-0.07662104070186615,0.014275661669671535,0.03461107239127159,-0.008875103667378426,-0.13648273050785065,0.03306329995393753,0.012054973281919956,0.04581855237483978,-0.01240655966103077,-0.0828198790550232,0.021220503374934196,-0.013679597526788712,0.034497570246458054,-0.0018266383558511734,0.03426920250058174,-0.0416092611849308,0.01451361458748579,-0.02291691303253174,-0.0043862792663276196,-0.00512907188385725,-0.00908579956740141,0.03075365163385868,0.023605432361364365,-0.02791668474674225,0.021063894033432007,-0.04771954566240311,-0.013601160608232021,0.014858609065413475,0.04242527112364769,0.019409241154789925,-0.06915434449911118,-0.0888618603348732,0.013218913227319717,-0.00776949618011713,-0.0007079180795699358,-0.07674553990364075,0.02209603041410446,0.0038688655477017164,0.019472636282444,0.0006973319686949253,0.027333121746778488,-0.047962795943021774,-0.023366626352071762,-0.020486239343881607,0.0020810544956475496,0.028880193829536438,0.014929846860468388,0.1018635481595993,0.07401763647794724,0.00875886995345354,-0.013794239610433578,0.029527392238378525,0.002581480424851179,-0.020142093300819397,-0.0012572823325172067,0.046239014714956284,0.013354803435504436,0.0512603260576725,0.09414152055978775,0.050466980785131454,0.0710340067744255,-0.010891636833548546,0.02389528416097164,-0.01438035536557436,-0.09091245383024216,-0.023928478360176086,0.02426011487841606,0.041134756058454514,-0.03528853878378868,-0.04116465151309967,0.018663156777620316,0.036945048719644547,-0.015426629222929478,0.017254989594221115,0.007065156940370798,0.03337627649307251,-0.012494191527366638,-0.01434988435357809,0.023224735632538795,-0.07083961367607117,-0.005981779657304287,0.014012421481311321,0.0812499076128006,-0.009527641348540783,-0.028688332065939903,-0.04529203847050667,-0.042509544640779495,0.011292942799627781,-0.046218305826187134,0.05688153952360153,0.03360959142446518,-0.017594901844859123,0.024680765345692635,0.015523552894592285,0.03462960571050644,-0.029154911637306213,0.0063747079111635685,-0.03416290879249573,0.049663856625556946,-0.03863467276096344,0.028267255052924156,-0.02344275265932083,-0.027345504611730576,-0.0010085060494020581,-0.03074702061712742,0.023539315909147263,0.031147047877311707,-0.022454354912042618,0.010854070074856281,0.06280093640089035,-0.05179540812969208,-0.05117594078183174,-0.049913447350263596,0.041000496596097946,-0.023793036118149757,0.022612489759922028,0.016194259747862816,-0.04921894147992134,0.035097669810056686,0.0013303076848387718,0.01152263954281807,0.019490541890263557,-0.001840887009166181,-0.0015488435747101903,-0.04871643707156181,-0.012574461288750172,0.018093368038535118,-0.03396894410252571,0.04052310809493065,0.007169321179389954,-0.015219192951917648,0.036538951098918915,0.04264121502637863,0.016823936253786087,0.0024764344561845064,0.02300422452390194,-0.07182461023330688,-0.012562056072056293,0.013331204652786255,-0.003643817501142621,0.026586147025227547,0.005209529306739569,0.05007534474134445,0.009656512178480625,-0.009249276481568813,-0.022202620282769203,-0.012332616373896599,-0.045084148645401,0.01087717805057764,-0.03384222462773323,-0.032194584608078,-0.0770159587264061,0.006614317651838064,-0.009048297069966793,-0.04562825709581375,-0.024855442345142365,0.026445306837558746,0.022134389728307724,-0.023370424285531044,-0.007042146287858486,0.03329618647694588,-0.00639081746339798,-0.0303597841411829,-0.03850746527314186,0.0021877968683838844,-0.059227798134088516,-0.0481114499270916,0.028597336262464523,-0.003011515364050865,0.05609293654561043,0.005025817081332207,-0.1422884464263916,0.04167885333299637,0.032914064824581146,0.023740770295262337,0.0002094142691930756,-0.01209383923560381,0.02866196073591709,-0.009390609338879585,-0.033972665667533875,0.008624913170933723,0.0030971704982221127,-0.09304031729698181,0.029882006347179413,0.03572521731257439,-0.00008688748494023457,0.06801121681928635,-0.015073668211698532,-0.017307177186012268,0.022435981780290604,-0.008224107325077057,0.07577735930681229,0.0020942026749253273,0.027929220348596573,0.05829111114144325,0.011137319728732109,0.027718693017959595,-0.01504456251859665,-0.08805452287197113,0.01896706596016884,0.011235098354518414,0.024042490869760513,0.008763592690229416,0.0398784764111042,-0.02095378190279007,0.10752785205841064,-0.017497366294264793,0.0468159057199955,0.007938831113278866,0.019958142191171646,-0.019417796283960342,-0.034645840525627136,0.02605883590877056,0.017112959176301956,-0.000379802193492651,0.004561679903417826,-0.003162666456773877,-0.02527455799281597,0.03623608872294426,0.0341196209192276,0.01352132111787796,-0.005566739942878485,-0.0027109109796583652,-0.0007715524989180267,-0.01285416167229414,0.023439966142177582,-0.007903135381639004,0.03476035222411156,-0.07791858911514282,-0.004873093217611313,0.027564657852053642,-0.017851905897259712,-0.02082482911646366,-0.05578490346670151,-0.013523535802960396,0.014559037052094936,-0.0037839701399207115,0.02093845047056675,0.011365288868546486,0.01070457324385643,0.017931628972291946,0.024104107171297073,-0.0058927820064127445,-0.0021406570449471474,0.0292138010263443,0.02778584137558937,0.00492812180891633,0.004410180728882551,-0.025624070316553116,0.035663120448589325,-0.10906615108251572,-0.003266842570155859,0.0037851755041629076,-0.01508694514632225,0.040005408227443695,-0.044109512120485306,0.06006375700235367,-0.01287124864757061,-0.022079112008213997,0.03700551763176918,0.028470946475863457,-0.017493071034550667,0.021403448656201363,0.040296345949172974,0.02385890483856201,0.03578056022524834,-0.013638480566442013,0.006896308157593012,-0.011872781440615654,-0.01975105330348015,0.053314823657274246,0.028907906264066696,-0.03537525609135628,0.039581652730703354,-0.06546417623758316,0.03180316463112831,-0.04961426183581352,-0.023457437753677368,-0.02263461798429489,-0.003405587049201131,-0.06950398534536362,0.018094131723046303,-0.03214609995484352,0.023854240775108337,0.005995774641633034,-0.03913794457912445,0.0288820993155241,0.02832627296447754,-0.07075242698192596,-0.04843945801258087,-0.021487683057785034,-0.03774654492735863,-0.05036021023988724,0.07315557450056076,-0.009027727879583836,-0.04715120047330856,0.023950638249516487,0.016289519146084785,0.03740982338786125,-0.019699912518262863,0.02814405970275402,0.0803428515791893,0.022323409095406532,-0.01691054366528988,0.05249379947781563,0.03265013173222542,-0.08454307913780212,0.010202886536717415,0.035154443234205246,-0.01587941125035286,-0.024641361087560654,-0.018310341984033585,-0.03265009820461273,0.02868618071079254,-0.02714012935757637,0.0034735072404146194,0.00669501256197691,0.016983171924948692,-0.02464638091623783,-0.023848287761211395,0.01668139360845089,0.0651252344250679,-0.0008170082583092153,-0.03764967992901802,-0.025540614500641823,0.025191299617290497,-0.06129271537065506,-0.024267764762043953,0.04006560519337654,0.03824928030371666,0.051200855523347855,-0.03262656554579735,0.016591938212513924,0.024647897109389305,0.008856624364852905,0.028055699542164803,-0.018462179228663445,0.049622561782598495,-0.033776815980672836,-0.0173990149050951,0.017056820914149284,-0.012260610237717628,-0.008301972411572933,0.017942121252417564,-0.012635341845452785,-0.025932500138878822,-0.02160353772342205,0.01387950498610735,-0.037040263414382935,0.028693081811070442,-0.023816516622900963,-0.018761157989501953,0.029937967658042908,-0.012069673277437687,-0.0009217659826390445,-0.04362722858786583,0.004274431150406599,-0.0169126745313406,0.03617185354232788,0.0026680727023631334,0.07201754301786423,0.03782154247164726,0.0018943079048767686,-0.061087336391210556,0.013276664540171623,0.0024772020988166332,-0.0581078864634037,0.023118624463677406,0.009602141566574574,-0.011317478492856026,-0.05020955204963684,-0.0348813496530056,-0.026673048734664917,0.005578432697802782,-0.03216034919023514,0.06974879652261734,0.013343024998903275,-0.09175000339746475,-7.098763364841761e-33,-0.009788233786821365,-0.025649163872003555,-0.020083865150809288,-0.029058920219540596,-0.019793430343270302,-0.04828279837965965,0.033329613506793976,-0.01709723472595215,-0.006450981833040714,0.01921015791594982,-0.032360732555389404,-0.048079077154397964,0.018051359802484512,0.01890268735587597,0.017577815800905228,0.0455288328230381,0.025534192100167274,-0.01829530857503414,-0.006966201588511467,0.010169710963964462,-0.047890834510326385,0.034266259521245956,0.025149276480078697,-0.012525280006229877,-0.050100941210985184,0.028007328510284424,-0.014883468858897686,0.00638851011171937,-0.009902509860694408,-0.008354314602911472,0.035701435059309006,-0.02581210620701313,-0.01962689310312271,-0.02596166916191578,-0.009115203283727169,-0.022846238687634468,0.0047834780998528,-0.017611831426620483,-0.014664415270090103,0.018858835101127625,0.030296647921204567,0.02536039985716343,0.019728947430849075,-0.026529232040047646,0.020870115607976913,0.004997896030545235,0.019189802929759026,-0.009497779421508312,-0.0035849648993462324,0.0008435675990767777,-0.01842251978814602,0.025055790320038795,-0.002018956933170557,0.023439781740307808,0.053865946829319,0.0869276151061058,0.04961899667978287,-0.037809379398822784,-0.04981280490756035,0.0428282767534256,-0.009203275665640831,-0.06358695030212402,0.010963204316794872,0.027820955961942673,0.02184222638607025,0.020658858120441437,0.008941239677369595,0.012962629087269306,0.027554968371987343,0.02249395288527012,-0.00015507660282310098,-0.0055248429998755455,-0.0024325503036379814,-0.07799189537763596,-0.0009187209652736783,0.05496220663189888,0.03307081758975983,-0.00023234551190398633,-0.0279881339520216,0.06631201505661011,-0.014825623482465744,0.013228784315288067,0.006030184682458639,0.00859442912042141,-0.003627315629273653,-0.036093227565288544,-0.006584850139915943,-0.0013717180117964745,0.025161368772387505,0.0058192783035337925,-0.0162774957716465,0.0128420265391469,-0.026231320574879646,0.04747172072529793,-0.0797986164689064,-0.013232419267296791,0.052705131471157074,0.04152489826083183,-0.011976792477071285,-0.01698330231010914,0.018476001918315887,0.007048880681395531,-0.0015895565738901496,-0.05167115852236748,-0.003591196844354272,0.02521134354174137,0.031089380383491516,-0.04908766970038414,-0.033989693969488144,0.012574643827974796,0.03560999780893326,0.04559075087308884,-0.02987935207784176,0.0015003795269876719,0.006105830892920494,-0.024943875148892403,-0.019582975655794144,-0.013248040340840816,-0.01414569467306137,-0.010577049106359482,0.0048340242356061935,0.019782232120633125,-0.027225350961089134,0.01916196197271347,0.004279068671166897,0.0007285251631401479,-0.011952397413551807,-0.0692412331700325,0.022400690242648125,-0.027312975376844406,0.02481512352824211,0.00869033019989729,3.3184667813657143e-7,0.02236335165798664,0.025275003165006638,-0.03651377931237221,0.06428899616003036,0.020343776792287827,0.009457462467253208,-0.00853735487908125,-0.03929255157709122,0.04778694733977318,-0.018164560198783875,0.0034772679209709167,-0.014575778506696224,-0.00047726044431328773,0.05151892453432083,0.005220592487603426,-0.08883105963468552,0.023048847913742065,-0.052226196974515915,-0.030367283150553703,-0.0034791743382811546,0.0317094586789608,0.05166248604655266,0.06338295340538025,0.0013711977517232299,0.015823693946003914,0.0786135345697403,-0.020040279254317284,-0.04163813218474388,0.02677740715444088,0.0023783680517226458,-0.033654626458883286,-0.06899843364953995,-0.002128973137587309,0.03493513911962509,-0.002114324364811182,0.008701639249920845,-0.03575245663523674,-0.040230412036180496,0.008345810696482658,0.013083899393677711,0.009841181337833405,0.015746844932436943,-0.02692767046391964,-0.058542244136333466,0.001539499149657786,-0.0766628310084343,-0.02073422074317932,-0.024897532537579536,-0.031586822122335434,0.029889926314353943,0.012196407653391361,0.034386973828077316,-0.011982683092355728,0.0055951024405658245,0.038769081234931946,0.01890965923666954,0.0029791125562042,0.037348177284002304,0.022057078778743744,-0.02250114642083645,-0.015725981444120407,0.024377215653657913,0.015267463400959969,0.06314384192228317,-0.005432168487459421,0.027076097205281258,0.0054833185859024525,4.0540462946483475e-34,0.02739712968468666,-0.008598262444138527,0.0670909583568573,0.015647513791918755,0.0481383390724659,-0.0107494555413723,0.08937379717826843,-0.006999049335718155,0.013660887256264687,-0.04910748079419136,-0.007038600277155638]'
SET
  @TechnicalDesignVector_3432f783 = N'[-0.0027369402814656496,0.0004573173064272851,-0.013671659864485264,-0.08583221584558487,0.021986011415719986,-0.019124140962958336,0.024317389354109764,0.021154776215553284,-0.07047702372074127,0.02215028554201126,-0.019588666036725044,0.03278669714927673,0.052096933126449585,0.15330421924591064,-0.02574939653277397,-0.05254887416958809,-0.01346023753285408,0.033798906952142715,-0.013109992258250713,0.01519815158098936,0.02415982261300087,-0.02034030482172966,-0.01600397564470768,-0.01203979179263115,0.020041538402438164,-0.057157739996910095,-0.0284828320145607,-0.0019296703394502401,0.05967129021883011,-0.09686565399169922,0.010355626232922077,0.029285874217748642,-0.0016140651423484087,-0.01119576208293438,0.000002126934532498126,-0.003996700048446655,0.0005951427156105638,-0.003791447263211012,-0.028945107012987137,0.016631893813610077,0.051867738366127014,-0.04583533853292465,0.038258664309978485,0.008815520443022251,-0.0014115009689703584,-0.055890873074531555,-0.06913827359676361,0.10151945799589157,0.04895307496190071,-0.02492726594209671,-0.013133542612195015,-0.01945894956588745,-0.0034469198435544968,0.019248291850090027,-0.029218874871730804,0.06762919574975967,0.012893524020910263,-0.08080653846263885,0.09851841628551483,-0.037186507135629654,-0.020961105823516846,0.005325783509761095,0.035174887627363205,-0.05081674084067345,0.056124623864889145,-0.009144952520728111,0.06439851969480515,-0.009534375742077827,-0.010840469971299171,0.000100915422081016,0.0705554410815239,0.006866291631013155,-0.020003868266940117,-0.04561302065849304,-0.004552803467959166,-0.0027145850472152233,-0.015149599872529507,0.011522837914526463,0.02942751534283161,-0.012402752414345741,-0.020108263939619064,0.054518211632966995,-0.0491226427257061,-0.0469946414232254,-0.00913800485432148,0.07442940026521683,0.004664937034249306,-0.02109600603580475,-0.042492300271987915,-0.031571950763463974,0.09352552890777588,-0.019820479676127434,0.011791504919528961,0.016045499593019485,-0.0888528823852539,-0.009861662983894348,0.02216515503823757,-0.024317454546689987,0.004850475583225489,-0.030614731833338737,-0.0063164448365569115,0.024913230910897255,0.082026906311512,0.017183929681777954,0.08202285319566727,0.035787761211395264,-0.006432367954403162,-0.01764332875609398,-0.060011621564626694,0.03240763396024704,-0.012313851155340672,0.017623601481318474,0.008536403998732567,0.05872755125164986,-0.05017201602458954,-0.013813291676342487,-0.05827458202838898,-0.016153935343027115,0.0014611006481572986,0.0036752717569470406,0.04692436754703522,-0.026313109323382378,0.009274173527956009,0.03515166789293289,0.04371828958392143,0.04691815748810768,-0.0037867857608944178,-0.05687326192855835,-0.016251515597105026,0.045181754976511,-0.02677903138101101,-0.013314640149474144,0.014716976322233677,-0.03959256783127785,-0.032364439219236374,-0.02706032618880272,0.0013592294417321682,0.010607240721583366,-0.004748214967548847,-0.0033296174369752407,0.013211078941822052,0.022123001515865326,-0.0380195677280426,0.04755206033587456,-0.012344736605882645,0.0016438968013972044,0.01492476649582386,0.065984345972538,0.008554617874324322,0.022245662286877632,0.0018394326325505972,-0.027743523940443993,0.03109603561460972,0.028693048283457756,-0.06296446919441223,0.0032376463059335947,0.04985326528549194,-0.009081459604203701,0.04315830394625664,0.03282005339860916,-0.02002522721886635,-0.02820615842938423,0.10987664014101028,0.0467151403427124,-0.07564438879489899,0.029066719114780426,-0.07253643125295639,-0.04699930176138878,-0.035873960703611374,-0.03948056325316429,0.02095654420554638,-0.034857578575611115,-0.053217556327581406,0.06576680392026901,0.002324505243450403,-0.05511239543557167,0.10181297361850739,-0.037906378507614136,-0.030645599588751793,0.0030180439352989197,0.024243488907814026,-0.07680075615644455,0.03757641464471817,0.004582440014928579,0.04564030095934868,-0.04350980743765831,-0.07632949948310852,0.02058577723801136,-0.016719747334718704,0.014468347653746605,0.008281825110316277,-0.0010069546988233924,-0.04986538365483284,-0.0028882555197924376,-0.01294721569865942,0.020482495427131653,-0.026302605867385864,-0.004926696419715881,0.04870886355638504,0.02590791881084442,0.003809600370004773,0.03991427645087242,-0.019661350175738335,0.04412328079342842,0.033320698887109756,0.011319446377456188,0.00813879631459713,-0.03226396441459656,-0.07853730022907257,-0.0019706906750798225,0.001317526213824749,-0.0005778514896519482,-0.05063329637050629,0.042321834713220596,0.015154310502111912,0.005949446465820074,0.014935506507754326,0.02046165056526661,-0.06149487569928169,-0.04047810658812523,-0.07016780227422714,0.0420270673930645,0.05408317595720291,0.006497765891253948,0.06976830959320068,0.03518419340252876,0.009503364562988281,-0.04376702383160591,0.05483768880367279,-0.015049026347696781,-0.007251054514199495,-0.03775697201490402,0.025654800236225128,0.009502002969384193,0.03409257158637047,0.085955910384655,0.02007569745182991,0.013897396624088287,0.008425229229032993,0.02486904338002205,-0.004963735118508339,-0.035652562975883484,-0.0313519686460495,-0.009042216464877129,0.015505097806453705,-0.018677175045013428,-0.06397835165262222,0.044600751250982285,0.02252105250954628,-0.023512808606028557,0.028706707060337067,0.03904534876346588,0.006649103481322527,-0.023946063593029976,-0.01596425659954548,-0.0009466690244153142,-0.05737363174557686,-0.005582697689533234,0.011453215032815933,0.06327436864376068,0.01707165502011776,-0.008529146201908588,-0.0629987046122551,-0.039261594414711,0.02104165218770504,-0.020082049071788788,0.03062944859266281,0.014646496623754501,-0.020794589072465897,0.0352570004761219,0.0005843264516443014,0.0116554731503129,0.009242351166903973,-0.004750354681164026,0.0178099125623703,0.0530150942504406,-0.0061149587854743,0.02664068154990673,-0.033058129251003265,-0.03265664726495743,-0.015838678926229477,-0.048686571419239044,0.01592901721596718,0.03192674741148949,-0.01658458821475506,0.02285539172589779,0.033137280493974686,-0.04152689129114151,-0.018830345943570137,-0.10031038522720337,0.03557055443525314,-0.017726583406329155,0.008908078074455261,-0.02090219408273697,-0.059984005987644196,0.018597785383462906,-0.021764010190963745,0.018658889457583427,-0.0018254760652780533,0.02161717414855957,-0.019137008115649223,-0.021527236327528954,-0.012602441012859344,0.005147244315594435,-0.028892934322357178,0.04488383233547211,-0.03967094048857689,0.02901495061814785,0.047605227679014206,0.0935945063829422,0.0008463347912766039,0.03368791192770004,-0.00021225365344434977,-0.06064935773611069,0.00754528446123004,0.0031803424935787916,0.05014719069004059,-0.010734638199210167,-0.012658338993787766,0.024016518145799637,0.012212365865707397,-0.007456888910382986,0.0012829042971134186,-0.014065048657357693,-0.0563177689909935,0.008374732919037342,-0.013803139328956604,-0.027232887223362923,-0.05207177624106407,0.020029865205287933,-0.007729344069957733,-0.02213417924940586,-0.002060264814645052,0.01602916233241558,0.01952459290623665,-0.041045624762773514,-0.01645880937576294,-0.017090030014514923,0.009101822040975094,-0.015946468338370323,-0.021958986297249794,-0.00437531853094697,-0.0501333624124527,-0.01945096254348755,0.01751301996409893,-0.005086771212518215,0.03993210196495056,0.0023494367487728596,-0.16362768411636353,0.015421093441545963,0.041508935391902924,0.05132832005620003,-0.01248056162148714,-0.015521506778895855,0.009593402035534382,-0.016041239723563194,-0.0007633741479367018,0.009782526642084122,0.028296226635575294,-0.07597698271274567,0.06854255497455597,0.02262360043823719,0.0720771998167038,0.05018724873661995,-0.005236389115452766,0.010747515596449375,0.041647057980298996,-0.028039563447237015,0.00949596706777811,-0.030437352135777473,0.017367511987686157,0.03435402363538742,0.007578677032142878,0.025120960548520088,-0.0024736057966947556,-0.06529641896486282,0.04737848415970802,0.016482479870319366,0.02639814279973507,0.014844239689409733,0.05739988386631012,-0.004934098571538925,0.1054089143872261,-0.011505482718348503,0.061713118106126785,-0.01057695597410202,0.047959212213754654,-0.028357839211821556,-0.0394684262573719,0.04088740423321724,0.02199322171509266,-0.024719154462218285,-0.016668934375047684,0.007412703242152929,-0.009525259956717491,0.025490177795290947,0.03516826778650284,0.03852282837033272,-0.00023434567265212536,0.0012918765423819423,-0.026088399812579155,0.03800474479794502,0.02930006943643093,0.00122583017218858,0.0848195031285286,-0.029650015756487846,-0.07560572773218155,0.02074917033314705,0.018315346911549568,-0.007998730055987835,-0.018866054713726044,-0.0575563870370388,-0.006008742842823267,-0.052231576293706894,-0.05027933046221733,0.00517316535115242,-0.012851722538471222,-0.01111887488514185,0.018601465970277786,0.007995480671525002,-0.03501809388399124,0.008075651712715626,0.01684848964214325,0.004096767399460077,0.012360595166683197,-0.030939359217882156,-0.0006360586849041283,-0.08718548715114594,-0.018419964239001274,0.001017450587823987,-0.013848747126758099,0.04050604999065399,0.001886176411062479,0.021569551900029182,0.0050749871879816055,-0.031806912273168564,-0.014865278266370296,0.06799601018428802,0.032779037952423096,0.008414505049586296,0.039282362908124924,-0.02118571661412716,0.05202511325478554,-0.011170096695423126,0.02296494133770466,-0.028316430747509003,-0.03259127959609032,0.05918129161000252,0.005416139494627714,-0.029375871643424034,0.010155383497476578,-0.0353909432888031,-0.004531333688646555,-0.0504521019756794,-0.047305259853601456,-0.06311056017875671,-0.04474522918462753,0.026535524055361748,-0.024955131113529205,0.0227814894169569,0.016378603875637054,0.027185937389731407,0.000271285796770826,-0.019404688850045204,0.01950840838253498,-0.022501923143863678,-0.008916543796658516,-0.009258674457669258,-0.013634376227855682,-0.001566590159200132,0.03323201835155487,-0.013471916317939758,-0.04653841257095337,0.02432865835726261,0.030158283188939095,0.024938974529504776,-0.01811579242348671,-0.004233813378959894,0.012694637291133404,-0.0210425928235054,0.019883815199136734,0.031644657254219055,0.004476903472095728,-0.10472693294286728,0.03449447080492973,0.025027891620993614,-0.016191815957427025,-0.030360454693436623,0.00019332970259711146,-0.007631649263203144,0.01088755764067173,0.004446583334356546,-0.009113792330026627,0.03883930668234825,0.016422158107161522,0.009893864393234253,0.030247751623392105,0.01223151758313179,0.014437174424529076,-0.06539634615182877,-0.03780394047498703,-0.02097354643046856,0.04017667472362518,-0.022873183712363243,-0.009707602672278881,-0.006352015305310488,0.02548242174088955,0.07177503407001495,-0.03582349792122841,0.004755109548568726,-0.005272513721138239,-0.0163645651191473,-0.03588120639324188,-0.00593772204592824,0.026721931993961334,0.04430611804127693,-0.05537043884396553,0.003783425083383918,0.04201187193393707,-0.012335455976426601,0.029184984043240547,-0.0024815616197884083,-0.03891081362962723,-0.04160977527499199,0.05742715299129486,-0.018566537648439407,0.010426796041429043,-0.007946652360260487,-0.0007867435924708843,0.0362665019929409,0.0011660157470032573,0.007909323088824749,-0.024625228717923164,-0.0005204094341024756,-0.015512234531342983,0.036531105637550354,-0.049341440200805664,0.039576977491378784,0.005038614850491285,-0.023895561695098877,-0.1163763627409935,0.0406532809138298,0.04319974035024643,-0.03750572353601456,0.03163759410381317,-0.02568398043513298,0.005283604841679335,-0.10376933962106705,-0.0031832517124712467,0.03179303556680679,0.023279454559087753,-0.07475260645151138,0.06827910989522934,-0.01764214038848877,-0.017604036256670952,-6.868846220712522e-33,-0.032855574041604996,-0.0025415963027626276,-0.007813820615410805,-0.034790121018886566,-0.04535290598869324,-0.04026677459478378,-0.013383557088673115,-0.03926993906497955,-0.0015943702310323715,-0.0024146137293428183,-0.007451202720403671,-0.051729682832956314,0.006452295463532209,0.01797487586736679,0.010419128462672234,-0.02423533983528614,0.021356023848056793,0.01398850791156292,-0.011901413090527058,0.027530811727046967,-0.043305784463882446,0.030222347006201744,0.015928324311971664,-0.00407462939620018,-0.05504705756902695,0.015492021106183529,-0.022349625825881958,0.022538863122463226,-0.06757409870624542,0.0248112715780735,-0.009204918518662453,-0.03408801183104515,-0.031988855451345444,-0.0371200330555439,0.026355793699622154,-0.006787967402487993,0.01970226876437664,-0.03545377776026726,0.014383157715201378,0.03550273925065994,0.06203856319189072,-0.007558158133178949,0.004944855347275734,0.0053947726264595985,0.013276842422783375,-0.01207844540476799,0.009455225430428982,0.001237149816006422,0.0014860598603263497,-0.037750743329524994,-0.026816515251994133,0.010247549042105675,-0.015545657835900784,0.008402232080698013,0.01733163557946682,0.06803381443023682,0.06665728241205215,0.019550858065485954,-0.02636413462460041,0.0338030569255352,-0.025100892409682274,-0.06277070939540863,0.021940892562270164,0.02333616465330124,0.05139085650444031,0.025118861347436905,-0.001308934180997312,0.017398670315742493,-0.027691740542650223,0.019689014181494713,-0.009554616175591946,-0.02248028852045536,0.03099016845226288,-0.06542889028787613,0.024909980595111847,0.03162552788853645,0.02249942533671856,-0.020544782280921936,-0.041356515139341354,0.07683854550123215,-0.024870609864592552,0.047223612666130066,0.007526569068431854,0.01961367577314377,-0.019064530730247498,-0.05595387890934944,0.018970344215631485,0.027081869542598724,-0.024404173716902733,0.007913676090538502,0.01722150668501854,-0.005145936738699675,-0.05271587893366814,0.05717255175113678,-0.10046233981847763,-0.011438076384365559,0.05134309455752373,0.057590000331401825,0.002419354859739542,-0.012723410502076149,0.0006366668967530131,-0.009542291983962059,-0.0012961250031366944,-0.012540215626358986,-0.023999454453587532,0.021043118089437485,0.031910721212625504,0.005740813910961151,-0.02534218318760395,0.0015843190485611558,0.045810766518116,0.01598435640335083,-0.02428450994193554,-0.011619048193097115,0.02072717249393463,-0.014109616167843342,-0.014858459122478962,-0.058860961347818375,0.024358438327908516,0.006780117284506559,0.018312357366085052,0.046446722000837326,0.0012468736385926604,0.013985887169837952,0.04330437257885933,0.024188870564103127,-0.042144499719142914,-0.017653942108154297,0.010050456039607525,-0.058845654129981995,0.022923558950424194,-0.00046191472210921347,3.1462025162909413e-7,-0.007306163664907217,0.030614472925662994,-0.07472337037324905,-0.005716011859476566,0.05497971177101135,-0.009092153050005436,-0.036740757524967194,-0.06787952780723572,-0.004791344050318003,-0.031675148755311966,0.023175787180662155,0.008567199110984802,0.022617699578404427,0.01816490851342678,0.001970083685591817,-0.016187777742743492,-0.006582527421414852,-0.03140519931912422,-0.04597758874297142,-0.02726088836789131,0.018277248367667198,0.025854535400867462,0.08177269250154495,0.0048890672624111176,-0.01448094379156828,0.07703623920679092,0.012129394337534904,-0.009953557513654232,0.03349427506327629,-0.037610746920108795,-0.01222500391304493,-0.017183538526296616,-0.005864337552338839,-0.009448209777474403,-0.005367364268749952,0.03803131356835365,-0.04679393395781517,-0.041275739669799805,0.01843603327870369,0.033365461975336075,0.02193037047982216,0.012434251606464386,-0.04144512861967087,-0.019619032740592957,0.0162778589874506,-0.09379162639379501,-0.018362000584602356,-0.04096997529268265,-0.05175750330090523,0.03730649873614311,-0.015216237865388393,0.03938562795519829,-0.015698328614234924,0.014645854011178017,0.033508867025375366,-0.006015254650264978,-0.01702013984322548,0.03592747077345848,0.015087698586285114,0.023545948788523674,-0.02391405589878559,0.010478179901838303,0.01821216568350792,0.05982431024312973,0.01957959309220314,-0.025745635852217674,-0.00849553756415844,4.259871682057484e-34,0.04311143234372139,-0.039834845811128616,0.034627821296453476,0.026267269626259804,0.036929599940776825,-0.03821453079581261,0.07301803678274155,-0.002409765962511301,0.04357133433222771,-0.07263003289699554,-0.009751275181770325]'
SET
  @HasCustomProps_3432f783 = 0
SET
  @HasCustomEvents_3432f783 = 1
SET
  @RequiresData_3432f783 = 1
SET
  @DependencyCount_3432f783 = 3
SET
  @TechnicalDesignVectorEmbeddingModelID_3432f783 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_3432f783 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_3432f783 = 0
SET
  @ID_3432f783 = '50E31AC5-B851-4927-821D-CFFCC13EA9A0'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_3432f783,
  @Name = @Name_3432f783,
  @Version = @Version_3432f783,
  @VersionSequence = @VersionSequence_3432f783,
  @Title = @Title_3432f783,
  @Description = @Description_3432f783,
  @Type = @Type_3432f783,
  @Status = @Status_3432f783,
  @DeveloperName = @DeveloperName_3432f783,
  @DeveloperEmail = @DeveloperEmail_3432f783,
  @DeveloperOrganization = @DeveloperOrganization_3432f783,
  @SourceRegistryID = @SourceRegistryID_3432f783,
  @ReplicatedAt = @ReplicatedAt_3432f783,
  @LastSyncedAt = @LastSyncedAt_3432f783,
  @Specification = @Specification_3432f783,
  @FunctionalRequirements = @FunctionalRequirements_3432f783,
  @TechnicalDesign = @TechnicalDesign_3432f783,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_3432f783,
  @TechnicalDesignVector = @TechnicalDesignVector_3432f783,
  @HasCustomProps = @HasCustomProps_3432f783,
  @HasCustomEvents = @HasCustomEvents_3432f783,
  @RequiresData = @RequiresData_3432f783,
  @DependencyCount = @DependencyCount_3432f783,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_3432f783,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_3432f783,
  @HasRequiredCustomProps = @HasRequiredCustomProps_3432f783,
  @ID = @ID_3432f783;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_4714950d NVARCHAR(MAX),
@Name_4714950d NVARCHAR(500),
@Version_4714950d NVARCHAR(50),
@VersionSequence_4714950d INT,
@Title_4714950d NVARCHAR(1000),
@Description_4714950d NVARCHAR(MAX),
@Type_4714950d NVARCHAR(255),
@Status_4714950d NVARCHAR(50),
@DeveloperName_4714950d NVARCHAR(255),
@DeveloperEmail_4714950d NVARCHAR(255),
@DeveloperOrganization_4714950d NVARCHAR(255),
@SourceRegistryID_4714950d UNIQUEIDENTIFIER,
@ReplicatedAt_4714950d DATETIMEOFFSET,
@LastSyncedAt_4714950d DATETIMEOFFSET,
@Specification_4714950d NVARCHAR(MAX),
@FunctionalRequirements_4714950d NVARCHAR(MAX),
@TechnicalDesign_4714950d NVARCHAR(MAX),
@FunctionalRequirementsVector_4714950d NVARCHAR(MAX),
@TechnicalDesignVector_4714950d NVARCHAR(MAX),
@HasCustomProps_4714950d BIT,
@HasCustomEvents_4714950d BIT,
@RequiresData_4714950d BIT,
@DependencyCount_4714950d INT,
@TechnicalDesignVectorEmbeddingModelID_4714950d NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_4714950d NVARCHAR(MAX),
@HasRequiredCustomProps_4714950d BIT,
@ID_4714950d UNIQUEIDENTIFIER
SET
  @Namespace_4714950d = N'CRM/Analytics'
SET
  @Name_4714950d = N'SalesFunnelChart'
SET
  @Version_4714950d = N'1.0.0'
SET
  @VersionSequence_4714950d = 1
SET
  @Title_4714950d = N'Sales Funnel Chart'
SET
  @Description_4714950d = N'Funnel chart visualization sub-component for displaying sales pipeline stages'
SET
  @Type_4714950d = N'Chart'
SET
  @Status_4714950d = N'Published'
SET
  @Specification_4714950d = N'{"name":"SalesFunnelChart","namespace":"CRM/Analytics","type":"Chart","location":"embedded","code":"function SalesFunnelChart({ funnelData, viewMode, onStageClick, closedLost, formatCurrency }) {\n  return (\n    <div style={{ \n      flex: 1, \n      display: ''flex'', \n      justifyContent: ''center'',\n      alignItems: ''center'',\n      padding: ''40px 20px'',\n      width: ''100%'',\n      overflow: ''hidden''\n    }}>\n      <div style={{\n        display: ''flex'',\n        flexDirection: ''column'',\n        alignItems: ''center'',\n        width: ''650px'',\n        maxWidth: ''90%''\n      }}>\n      {funnelData.map((stage, index) => (\n        <div\n          key={stage.stage}\n          className=\"funnel-stage\"\n          style={{\n            width: `$' + '{stage.width}%`,\n            marginBottom: ''4px'',\n            position: ''relative'',\n            cursor: ''pointer'',\n            opacity: 0,\n            transform: ''translateY(20px)'',\n            animation: `fadeInUp 0.5s $' + '{index * 0.1}s forwards`,\n            transition: ''transform 0.2s ease''\n          }}\n          onClick={() => onStageClick(stage)}\n          onMouseEnter={(e) => e.currentTarget.style.transform = ''scale(1.02)''}\n          onMouseLeave={(e) => e.currentTarget.style.transform = ''scale(1)''}\n          onMouseDown={(e) => e.currentTarget.style.transform = ''scale(0.98)''}\n          onMouseUp={(e) => e.currentTarget.style.transform = ''scale(1.02)''}\n        >\n          <div\n            style={{\n              background: `linear-gradient(135deg, $' + '{stage.color}dd, $' + '{stage.color}99)`,\n              padding: ''20px'',\n              borderRadius: ''8px'',\n              boxShadow: ''0 2px 8px rgba(0,0,0,0.1)'',\n              display: ''flex'',\n              justifyContent: ''space-between'',\n              alignItems: ''center'',\n              minHeight: ''60px''\n            }}\n          >\n            <div style={{ color: ''white'' }}>\n              <div style={{ fontSize: ''14px'', opacity: 0.9 }}>{stage.stage}</div>\n              <div style={{ fontSize: ''20px'', fontWeight: ''bold'' }}>\n                {viewMode === ''count'' ? stage.count : formatCurrency(stage.value)}\n              </div>\n            </div>\n            {index > 0 && (\n              <div style={{ color: ''white'', textAlign: ''right'' }}>\n                <div style={{ fontSize: ''12px'', opacity: 0.8 }}>Conversion</div>\n                <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>\n                  {stage.conversionRate.toFixed(1)}%\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      ))}\n      \n      {/* Lost deals indicator */}\n      {closedLost.count > 0 && (\n        <div\n          style={{\n            marginTop: ''20px'',\n            padding: ''12px 20px'',\n            backgroundColor: ''#FEE2E2'',\n            borderRadius: ''8px'',\n            color: ''#991B1B'',\n            opacity: 0,\n            animation: ''fadeIn 0.5s 0.5s forwards''\n          }}\n        >\n          <div style={{ fontSize: ''14px'' }}>Lost Deals</div>\n          <div style={{ fontSize: ''18px'', fontWeight: ''bold'' }}>\n            {closedLost.count} deals ({formatCurrency(closedLost.value)})\n          </div>\n        </div>\n      )}\n      </div>\n    </div>\n  );\n}","functionalRequirements":"## Sales Funnel Chart Sub-Component\n\n### Purpose\nDisplay the visual funnel representation of deal stages with interactive elements.\n\n### Core Features\n- **Funnel Visualization**: Animated funnel stages\n- **Stage Metrics**: Count and value per stage\n- **Conversion Rates**: Between stages\n- **Interactive Stages**: Click to drill down\n- **View Mode Toggle**: Count vs value display","dataRequirements":{"mode":"views","description":"Visualizes sales funnel with deal stages","entities":[{"name":"Deals","description":"Deal records for funnel visualization","displayFields":["ID","Name","Amount","Stage","Probability"],"filterFields":[],"sortFields":[],"fieldMetadata":[],"permissionLevelNeeded":["read"],"usageContext":"Funnel stage data passed via props"}],"queries":[]},"technicalDesign":"## Implementation\n\n### Visual Design\n- Animated funnel with gradient colors\n- Responsive width based on data\n- Hover effects and transitions\n- Lost deals indicator\n\n### Interaction\n- Click handlers for drill-down\n- Smooth animations on load","properties":[{"name":"funnelData","type":"Array<{stage: string, count: number, value: number, percentage: number, color: string}>","description":"Array of stage data with metrics","required":true},{"name":"viewMode","type":"''count'' | ''value''","description":"Display mode: ''count'' or ''value''","required":true},{"name":"onStageClick","type":"(stage: string) => void","description":"Handler for stage click events","required":true},{"name":"closedLost","type":"{count: number, value: number}","description":"Closed lost deals data","required":true},{"name":"formatCurrency","type":"(value: number) => string","description":"Function to format currency values","required":true}],"events":[],"dependencies":[],"libraries":[],"description":"Funnel chart visualization sub-component for displaying sales pipeline stages"}'
SET
  @FunctionalRequirements_4714950d = N'## Sales Funnel Chart Sub-Component

### Purpose
Display the visual funnel representation of deal stages with interactive elements.

### Core Features
- **Funnel Visualization**: Animated funnel stages
- **Stage Metrics**: Count and value per stage
- **Conversion Rates**: Between stages
- **Interactive Stages**: Click to drill down
- **View Mode Toggle**: Count vs value display'
SET
  @TechnicalDesign_4714950d = N'## Implementation

### Visual Design
- Animated funnel with gradient colors
- Responsive width based on data
- Hover effects and transitions
- Lost deals indicator

### Interaction
- Click handlers for drill-down
- Smooth animations on load'
SET
  @FunctionalRequirementsVector_4714950d = N'[-0.037832070142030716,-0.021565739065408707,-0.03808058053255081,-0.07149319350719452,0.009482174180448055,0.024936029687523842,0.002242948394268751,0.003260224824771285,-0.05542530491948128,0.02344101294875145,-0.06695505976676941,-0.0006834593950770795,0.022833971306681633,0.17765353620052338,-0.03218940645456314,-0.09179024398326874,-0.03362135589122772,0.000809695920906961,0.019046515226364136,0.018929634243249893,0.011925597675144672,0.0022407325450330973,-0.04534522444009781,-0.008043396286666393,-0.03131171688437462,-0.04543538764119148,-0.010634809732437134,-0.027217350900173187,0.021418096497654915,-0.11417030543088913,0.006959764752537012,-0.0019885723013430834,0.03674853593111038,0.0080078961327672,0.0000025963413463614415,-0.009826459921896458,-0.007233945652842522,0.0033899613190442324,-0.10829319059848785,0.024284526705741882,0.07286221534013748,-0.054724618792533875,0.00836863275617361,-0.023538585752248764,0.039076291024684906,-0.0036919990088790655,-0.030292056500911713,0.089595727622509,0.018930260092020035,-0.03504762053489685,0.005367514211684465,-0.002333521144464612,-0.03792635723948479,0.004949956201016903,-0.020713673904538155,0.02330201305449009,-0.016304263845086098,-0.04225209355354309,0.020751001313328743,-0.004228728823363781,-0.009465043433010578,0.02032003551721573,0.01950112171471119,-0.02121581882238388,0.02834128588438034,0.019146481528878212,0.09522298723459244,-0.061687953770160675,-0.001568965264596045,0.008827810175716877,0.04518726095557213,-0.016660118475556374,-0.030061431229114532,-0.049748942255973816,0.003521343693137169,-0.004949022550135851,-0.055935755372047424,0.010207007639110088,0.008228292688727379,-0.022528627887368202,-0.09568537026643753,0.06108972430229187,-0.0468016155064106,-0.04095489904284477,0.029515057802200317,-0.004624045453965664,-0.011579502373933792,-0.02208760939538479,-0.03490901738405228,-0.014380424283444881,0.04105302691459656,-0.009130732156336308,-0.030471226200461388,-0.025520283728837967,-0.06798353046178818,-0.023089757189154625,0.029505325481295586,0.027131851762533188,0.011082449927926064,-0.056936319917440414,0.02330361120402813,-0.00326280714944005,0.029797334223985672,0.019067799672484398,0.05979866907000542,-0.0204230435192585,-0.00483301468193531,-0.05361500009894371,-0.03021726943552494,0.03772616758942604,0.011138569563627243,0.01915927417576313,-0.029805157333612442,0.0031560298521071672,-0.030181532725691795,-0.01345520094037056,-0.05547425523400307,-0.016402119770646095,-0.018967099487781525,0.02088458091020584,0.04794301837682724,-0.0037114885635674,0.00780849251896143,0.03419217839837074,0.008108139038085938,0.037541862577199936,-0.044263944029808044,-0.015801457688212395,-0.027663081884384155,0.037112005054950714,-0.01285972073674202,0.0153600312769413,0.02378091961145401,-0.04364777356386185,-0.03823884576559067,-0.004165428690612316,-0.004298479296267033,0.03642573952674866,-0.008995265699923038,-0.019797958433628082,0.005142429377883673,0.012405302375555038,-0.029775109142065048,0.04010743275284767,0.024971263483166695,-0.027677645906805992,-0.018267188221216202,0.09197726100683212,0.015464549884200096,0.0302998386323452,0.009336688555777073,-0.00872965157032013,0.04456775262951851,0.004436330404132605,-0.01835925690829754,-0.02361023984849453,0.00002522098111512605,-0.012884121388196945,0.028042322024703026,0.07152371853590012,-0.0015734568005427718,-0.07027484476566315,0.037191350013017654,0.01491586398333311,-0.07258833944797516,0.01773706264793873,-0.03185863047838211,-0.03975973278284073,-0.07878047972917557,-0.02350817620754242,0.011599917896091938,-0.05852396413683891,-0.019918691366910934,-0.01068188063800335,0.04089023917913437,-0.008281162939965725,0.09725017845630646,-0.05667640641331673,0.018327143043279648,0.06937330216169357,0.0228461604565382,-0.0963047444820404,0.02783522754907608,0.009559429250657558,0.05026940628886223,-0.016464263200759888,-0.1009715124964714,-0.018754318356513977,0.0018423808505758643,0.012044234201312065,-0.009267513640224934,0.058617495000362396,-0.078406423330307,0.017180761322379112,-0.032485973089933395,0.0014066863805055618,0.008866926655173302,-0.010432213544845581,0.029496314004063606,0.017215073108673096,-0.02001621387898922,0.045082975178956985,-0.016520142555236816,-0.014639342203736305,-0.005582989193499088,0.003976594656705856,0.005655680783092976,-0.03486380726099014,-0.06521381437778473,0.00804693903774023,-0.013075114227831364,-0.00544443354010582,-0.06537759304046631,0.029984991997480392,0.0016437711892649531,-0.015513380989432335,0.00830963347107172,0.021207759156823158,-0.047609422355890274,-0.023251555860042572,-0.04718455672264099,-0.03371165692806244,0.04546947777271271,0.008745417930185795,0.11625221371650696,0.06618469208478928,0.011951061896979809,-0.0053424108773469925,0.04902614280581474,0.0073028006590902805,-0.013048205524682999,-0.006671790964901447,0.042815715074539185,0.010956798680126667,0.020327717065811157,0.06829416006803513,0.0607723705470562,0.002737354254350066,-0.0014922565314918756,0.05533754825592041,-0.0011644897749647498,-0.06793858855962753,-0.031147027388215065,0.009861838072538376,0.042727719992399216,-0.0620952807366848,-0.050096336752176285,0.018297690898180008,-0.0015255991602316499,-0.01969054341316223,0.010514700785279274,0.008728104643523693,0.010660763829946518,-0.013560794293880463,-0.02368645742535591,0.0029521510004997253,-0.02052347920835018,0.01677132211625576,0.02039147913455963,0.0757504254579544,-0.006724451202899218,-0.013931906782090664,-0.045636627823114395,-0.016993897035717964,-0.0038076944183558226,-0.03819815814495087,0.035312116146087646,0.04577646777033806,-0.024701101705431938,0.03750429302453995,0.013313745148479939,0.009714372456073761,-0.026359528303146362,-0.007842306979000568,-0.02338436432182789,0.037669770419597626,-0.015197149477899075,0.04561369866132736,-0.04081755876541138,-0.02692675217986107,-0.025565505027770996,-0.014381308108568192,0.01908409595489502,0.021637851372361183,0.0037773526273667812,0.0014344471273943782,0.05517835170030594,-0.030894191935658455,-0.003038017312064767,-0.08618275821208954,0.02276461571455002,-0.03248203545808792,0.02148228883743286,-0.03630963712930679,-0.04775542765855789,0.04733739048242569,-0.03556611016392708,-0.01462063193321228,0.005328277125954628,0.03275556489825249,-0.03744753450155258,-0.028493186458945274,-0.0021128382068127394,0.0035275104455649853,-0.04488084465265274,0.04838666319847107,0.004625399596989155,-0.001105590839870274,0.029542991891503334,0.05438373610377312,0.05486397072672844,0.003925826866179705,0.006277985405176878,-0.05150126293301582,-0.0036353825125843287,0.022580817341804504,-0.01401110552251339,0.01988735981285572,-0.021506352350115776,-0.0030620850156992674,-0.002020535757765174,-0.012336589395999908,-0.008625291287899017,-0.01861262321472168,-0.021326357498764992,0.008490543812513351,-0.022619890049099922,-0.026756998151540756,-0.07106487452983856,-0.003306485014036298,-0.006830019410699606,-0.007002632133662701,-0.029415881261229515,0.033213794231414795,0.08949141204357147,0.002126056468114257,-0.011080893687903881,0.010206704959273338,0.012822112068533897,-0.02040668949484825,-0.020544828847050667,-0.0017989968182519078,-0.06425593793392181,-0.03627315163612366,0.050864238291978836,-0.0006572986603714526,0.07852715998888016,-0.015645552426576614,-0.13008135557174683,0.0008742118952795863,0.04019736871123314,0.01791341044008732,0.02748742327094078,-0.021566983312368393,0.017567262053489685,0.011185035109519958,-0.03909984976053238,0.033100973814725876,0.004391991067677736,-0.0833829715847969,0.040021371096372604,0.04814900457859039,-0.016936015337705612,0.04814823344349861,0.01814417541027069,-0.0026465440168976784,0.026165397837758064,0.015085331164300442,0.07064312696456909,-0.01068948395550251,0.03699241206049919,0.030268732458353043,0.03940870240330696,0.03146766498684883,-0.021235419437289238,-0.04923410341143608,0.0277031771838665,0.02234327420592308,0.053226448595523834,0.007754895370453596,0.005164640489965677,-0.03351310268044472,0.09310150891542435,-0.009302865713834763,0.05794514715671539,0.01362014003098011,0.02102593332529068,-0.006735485512763262,-0.03980221971869469,0.04808461666107178,0.01724720187485218,-0.0023535308428108692,0.07011803984642029,-0.005009708926081657,-0.0018642344512045383,0.0513298436999321,0.011146518401801586,0.02003599889576435,-0.005810227710753679,0.0024843255523592234,0.008090198040008545,-0.038550350815057755,-0.0016144055407494307,0.012413869611918926,0.05016765370965004,-0.05690908804535866,-0.0694447010755539,0.05459411069750786,-0.024961037561297417,0.009958612732589245,-0.024297993630170822,-0.052791088819503784,0.01106269657611847,0.0062217931263148785,0.03009026311337948,0.02595389448106289,-0.005193485878407955,-0.01974952034652233,0.03923557326197624,0.021011298522353172,0.010228535160422325,0.01757345348596573,0.014413190074265003,0.0007336484850384295,0.0020912466570734978,-0.036743778735399246,0.047053027898073196,-0.10446462780237198,-0.02502097189426422,0.01726650819182396,-0.007068165577948093,0.043515194207429886,-0.012054587714374065,0.03488805145025253,-0.031142566353082657,0.005984797608107328,0.046658895909786224,0.02149135433137417,-0.04029921442270279,-0.0005843573017045856,0.025415051728487015,0.01148923672735691,0.025372080504894257,-0.02354065515100956,0.007130759768188,-0.003112055594101548,-0.02539496123790741,0.03761929273605347,0.025415103882551193,-0.0314418263733387,0.049214452505111694,-0.0616750493645668,0.03556769713759422,-0.06161070987582207,-0.03527654707431793,-0.03133673593401909,-0.034397706389427185,-0.07595852017402649,0.0022505871020257473,-0.01662003993988037,0.038713905960321426,0.002567099407315254,-0.00981823354959488,0.004995951894670725,0.011992150917649269,-0.045992616564035416,-0.08597510308027267,-0.021050097420811653,-0.02500203810632229,-0.03690769523382187,0.06947421282529831,-0.018045630306005478,-0.035266295075416565,0.03487253561615944,0.048975635319948196,0.03233683481812477,-0.0334031879901886,0.03942827507853508,0.05390032008290291,0.011117675341665745,-0.005978863686323166,0.03698931634426117,0.013054942712187767,-0.06930191069841385,0.01022669393569231,0.03707372769713402,0.0016422922490164638,-0.027750588953495026,-0.01566479541361332,-0.016755033284425735,0.022431962192058563,-0.04630372300744057,-0.020968466997146606,0.03940404951572418,0.020067036151885986,0.015487505123019218,-0.04357428476214409,0.04661994427442551,0.07989619672298431,-0.030069952830672264,-0.020172158256173134,-0.017580440267920494,0.019215615466237068,-0.07550059258937836,-0.03587837144732475,0.02731786109507084,0.05347134917974472,0.04599160701036453,-0.03338427096605301,-0.010964024811983109,0.02931387722492218,0.023014206439256668,0.03300480544567108,-0.0002293580473633483,0.036085642874240875,-0.06199073791503906,-0.023476287722587585,0.0251503586769104,0.006255153100937605,-0.003129353979602456,0.007850979454815388,-0.005770364310592413,-0.01853405125439167,-0.0357549786567688,0.02986576221883297,-0.018304605036973953,0.016180824488401413,-0.028605205938220024,-0.0008978787227533758,0.0054169148206710815,-0.004427121952176094,-0.023820076137781143,-0.03852450102567673,0.012526058591902256,-0.025514541193842888,0.05497610941529274,-0.03256324678659439,0.10616973787546158,0.022212672978639603,0.011441237293183804,-0.051237352192401886,-0.0005717730382457376,0.012023345567286015,-0.051413726061582565,0.020216641947627068,-0.00309792160987854,0.015540325082838535,-0.06100420653820038,-0.014233345165848732,-0.0024055331014096737,0.017334584146738052,-0.06579767167568207,0.08093518763780594,0.02005184069275856,-0.05589551851153374,-7.467204436691745e-33,0.005968976300209761,-0.03288201987743378,-0.02319413051009178,-0.004520550835877657,-0.0535084567964077,-0.017580827698111534,0.024731585755944252,-0.027684815227985382,-0.011388230137526989,0.02522997185587883,-0.013557528145611286,-0.03712644800543785,0.009180575609207153,0.033850155770778656,0.04217490553855896,0.044975120574235916,0.03769444674253464,-0.018510054796934128,-0.02836204133927822,0.027699273079633713,-0.01464504562318325,0.020848460495471954,0.04007843881845474,-0.04326310381293297,-0.02838851325213909,0.02019480988383293,-0.007025644648820162,0.022306058555841446,0.0041021318174898624,-0.009563043713569641,0.014391083270311356,-0.013210747390985489,-0.0074440534226596355,-0.0078027560375630856,-0.00928562507033348,0.026732418686151505,0.016802746802568436,-0.047241270542144775,-0.008692302741110325,0.014569303952157497,0.030744370073080063,0.04480777680873871,-0.008185786195099354,-0.014911454170942307,0.010936100967228413,-0.009101908653974533,-0.002448291052132845,-0.026290109381079674,-0.007750725373625755,-0.0044862679205834866,-0.03057180903851986,0.03576849028468132,0.0006090847891755402,0.01277960930019617,0.039064835757017136,0.11638682335615158,0.0629219263792038,-0.05353045091032982,-0.04425390437245369,0.04645037278532982,-0.030609749257564545,-0.05563629791140556,0.011133234947919846,0.0203501358628273,0.01985243707895279,0.026644093915820122,-0.01134057529270649,0.018091393634676933,-0.013048131950199604,0.05756767839193344,-0.01741892099380493,0.040849506855010986,0.030235057696700096,-0.07133151590824127,-0.06752839684486389,0.029664842411875725,0.035568855702877045,0.00843752920627594,-0.004340217914432287,0.04217855632305145,-0.021455809473991394,0.019534872844815254,-0.02813778817653656,-0.003859684569761157,0.0132742365822196,0.0006511127576231956,-0.004926974885165691,0.016725780442357063,0.023511651903390884,0.0035176232922822237,0.00722435163334012,0.013541875407099724,-0.03529940918087959,0.04694828391075134,-0.06839125603437424,-0.015581952407956123,0.07544457912445068,0.03262641280889511,-0.0018319982336834073,-0.056901127099990845,-0.005930701270699501,0.03564507141709328,0.0030157172586768866,-0.035234421491622925,0.0015131571562960744,0.007367805112153292,0.006820676848292351,-0.03380269557237625,-0.03628323972225189,0.022032318636775017,0.028910767287015915,0.0230565182864666,-0.02252078242599964,-0.01596515253186226,0.028607279062271118,-0.036104150116443634,-0.016717756167054176,-0.015671279281377792,-0.010735388845205307,-0.01826835237443447,0.005980036687105894,0.04714285954833031,-0.034653134644031525,0.010549216531217098,0.024341771379113197,0.0033981017768383026,-0.02140660583972931,-0.06362739205360413,0.006979178171604872,-0.043005187064409256,0.016359848901629448,0.015528015792369843,3.395687713236839e-7,-0.0164651982486248,0.04635973274707794,-0.015623124316334724,0.030343180522322655,0.033877745270729065,0.014194311574101448,-0.029730256646871567,-0.024561336264014244,0.014428555965423584,-0.011831308715045452,0.0066089811734855175,-0.03647764399647713,0.010329372249543667,0.07375743240118027,0.021924184635281563,-0.09901663661003113,0.014933601021766663,-0.043051060289144516,-0.03901580348610878,0.01441302988678217,0.041938964277505875,0.045994579792022705,0.05166870728135109,0.003940662369132042,0.029411762952804565,0.06812286376953125,-0.020250825211405754,-0.009999074973165989,-0.006352969445288181,0.013551627285778522,-0.061104800552129745,-0.02000010386109352,-0.006114654242992401,0.024273132905364037,-0.03369893133640289,0.029125960543751717,-0.023748453706502914,-0.06030798330903053,0.02554214373230934,0.031346678733825684,0.007252250798046589,0.005192473530769348,-0.02489558979868889,-0.06573973596096039,0.01155133731663227,-0.08111335337162018,-0.024588827043771744,0.006402779370546341,-0.005849826615303755,0.019883237779140472,0.009361231699585915,0.014121104963123798,-0.03428620100021362,0.0010013383580371737,0.03680281713604927,0.014867580495774746,0.0070861163549125195,0.023109659552574158,0.014810984954237938,0.030466338619589806,-0.023781439289450645,-0.005137212108820677,0.02858932502567768,0.064521424472332,0.013484058901667595,0.029659908264875412,-0.00033547193743288517,3.8788301372861506e-34,0.044587135314941406,-0.03258557990193367,0.05821116268634796,0.00858195312321186,0.02859673649072647,-0.024469120427966118,0.09543649107217789,-0.001056217122823,0.022345388308167458,-0.0663953498005867,-0.010584368370473385]'
SET
  @TechnicalDesignVector_4714950d = N'[0.0008472042391076684,0.019174590706825256,-0.01908700354397297,-0.02908480539917946,-0.022267263382673264,-0.014564934186637402,0.020643526688218117,0.046184878796339035,-0.10444341599941254,-0.00864154752343893,-0.01508946344256401,0.020803621038794518,0.003412362188100815,0.1430966705083847,-0.006008385680615902,-0.09653811156749725,-0.06049559637904167,0.03732959181070328,-0.06741686165332794,0.026473265141248703,0.04670264199376106,-0.024109577760100365,-0.035145096480846405,-0.005831179209053516,0.03438107296824455,-0.03028487041592598,-0.05569383502006531,0.025809267535805702,0.014078360982239246,-0.09865102916955948,0.05723924562335014,0.08177248388528824,-0.04993473365902901,0.0038080608937889338,0.0000018747989543044241,-0.028041452169418335,0.010078388266265392,0.01015798095613718,-0.030296990647912025,0.020964546129107475,0.03832782432436943,-0.06042421981692314,0.04695507138967514,-0.01602845825254917,-0.009277529083192348,-0.037527408450841904,-0.03555343300104141,0.10032588243484497,0.013799848966300488,-0.04255639389157295,0.006055232137441635,-0.010272936895489693,0.016507789492607117,-0.0017698905430734158,0.0518571138381958,0.017923612147569656,0.009181645698845387,0.026429906487464905,0.08172598481178284,-0.00004562261528917588,-0.02412085421383381,0.0030133260879665613,0.009421181865036488,-0.02738317660987377,0.044044774025678635,-0.010331806726753712,0.0722237378358841,-0.08213314414024353,-0.03399857506155968,0.059376418590545654,0.01877661980688572,-0.0011866472195833921,-0.005341248121112585,-0.029241440817713737,-0.00498198764398694,-0.039363376796245575,-0.04018732160329819,-0.01039232686161995,-0.0006169527769088745,-0.01630639098584652,-0.08448219299316406,0.025070935487747192,-0.037188053131103516,0.018436169251799583,0.06726493686437607,-0.0019706501625478268,-0.00455060601234436,-0.002574653597548604,-0.013089781627058983,0.0009738157968968153,0.09168410301208496,0.0017400472424924374,-0.003052708925679326,0.011784344911575317,-0.08750109374523163,-0.0229218490421772,0.02937754988670349,0.022170525044202805,0.05250364542007446,-0.016357017681002617,0.07346463948488235,0.05588996037840843,0.009327903389930725,0.028115425258874893,0.03745754435658455,0.05011284351348877,-0.055946506559848785,-0.09101764112710953,-0.03774259611964226,0.05502285435795784,0.024915466085076332,0.021527117118239403,-0.027599764987826347,0.014928697608411312,-0.0647772029042244,0.014727878384292126,-0.011800948530435562,0.050960175693035126,-0.00032750892569310963,0.01358952559530735,0.021023649722337723,0.044265806674957275,-0.011588764376938343,-0.004049226175993681,-0.02299199253320694,-0.005019486881792545,-0.02276192605495453,-0.022763213142752647,-0.012813589535653591,0.0206019077450037,-0.024087820202112198,0.007506009191274643,-0.017622418701648712,-0.03097178228199482,-0.0025198464281857014,0.0642632395029068,-0.002951411297544837,0.016467807814478874,-0.06653638929128647,-0.013735584914684296,0.028811583295464516,0.02444944530725479,-0.07924309372901917,0.02264835499227047,0.0045455507934093475,-0.001394858816638589,-0.02070949226617813,0.010136209428310394,0.005814005620777607,0.027713796123862267,0.017419371753931046,-0.03363817185163498,0.004813173785805702,0.010301320813596249,-0.062154389917850494,-0.011951032094657421,-0.024855010211467743,0.028081122785806656,0.011794737540185452,0.08323684334754944,-0.012272174470126629,-0.05303513631224632,0.025739533826708794,0.005876407492905855,-0.051361098885536194,0.0256993118673563,0.0011099855182692409,-0.01647806353867054,-0.06579860299825668,-0.011063836514949799,0.04184609651565552,-0.013985561206936836,-0.03734111785888672,-0.029712988063693047,0.00791298970580101,0.0108299246057868,0.07276725023984909,-0.007097065914422274,-0.025204245001077652,0.012712324038147926,0.004392449278384447,-0.05562388151884079,0.019887184724211693,0.00837262999266386,0.035815730690956116,-0.03044091910123825,-0.11108706891536713,0.023147039115428925,-0.051790013909339905,0.0016919771442189813,-0.00853455625474453,0.03704895079135895,0.0006113346316851676,0.0029215668328106403,-0.016998762264847755,-0.009942874312400818,-0.0318867489695549,-0.04475338011980057,0.03464115038514137,0.016993137076497078,-0.0018909582868218422,0.04530703276395798,-0.018140282481908798,-0.007678796537220478,-0.025769785046577454,0.024562841281294823,-0.017374208196997643,-0.03092310205101967,-0.04457463324069977,0.04547561705112457,0.0003205783141311258,0.019420884549617767,-0.04744988679885864,0.005177521146833897,-0.01494455337524414,-0.019121626392006874,0.03403210639953613,0.005234553012996912,-0.07509069889783859,0.012544363737106323,-0.013035641983151436,0.023053273558616638,0.017788993194699287,0.022277390584349632,0.08728691935539246,0.0443272739648819,0.02937808446586132,-0.03368160501122475,0.05559742450714111,0.012965956702828407,0.007964158430695534,-0.03329244628548622,0.014691651798784733,0.045469965785741806,-0.01641542837023735,0.034523800015449524,0.041970524936914444,0.062436528503894806,-0.001898463349789381,-0.008682248182594776,0.05418873950839043,-0.05256755277514458,-0.04393656179308891,0.013531820848584175,0.03725823014974594,-0.024618303403258324,-0.027374841272830963,0.017759906128048897,0.009372123517096043,-0.041043587028980255,0.04333152994513512,0.03541162610054016,-0.026953496038913727,-0.010426359251141548,0.018184762448072433,0.01129385456442833,0.08100298792123795,0.013892890885472298,-0.051460325717926025,0.05476520210504532,-0.007009569555521011,-0.025574389845132828,0.0007755556143820286,-0.012810240499675274,-0.017094779759645462,-0.033464644104242325,0.06322437524795532,0.04178331419825554,0.007547022309154272,0.03575269505381584,0.04859805479645729,0.02336127683520317,0.040835388004779816,-0.016518060117959976,0.006376830395311117,0.0503818541765213,-0.048180367797613144,0.039948225021362305,-0.04034080356359482,-0.028111815452575684,-0.011623712256550789,-0.031299151480197906,-0.0004824016068596393,0.01798025518655777,-0.0058473446406424046,0.0015932397218421102,0.007474740035831928,-0.06089232489466667,-0.051281124353408813,-0.09292571246623993,0.04763893783092499,-0.021870506927371025,0.03852543607354164,-0.05204349756240845,-0.035756684839725494,0.05127599462866783,0.021698735654354095,0.048209428787231445,-0.03153469040989876,0.06562776863574982,-0.029694238677620888,-0.033370885998010635,-0.03478633239865303,0.01763627864420414,-0.04737820848822594,0.05505179613828659,0.008255723863840103,0.02567623183131218,0.037248753011226654,0.10617894679307938,-0.027856608852744102,-0.008964871056377888,0.025829579681158066,-0.080891914665699,0.012008296325802803,0.028273943811655045,0.021455345675349236,-0.001790085923857987,0.005551282782107592,0.03233204409480095,-0.005103373900055885,-0.027914980426430702,0.013248380273580551,-0.017042143270373344,-0.059742845594882965,0.0420086607336998,-0.030623888596892357,-0.022876843810081482,-0.028146695345640182,-0.02033136785030365,-0.038285043090581894,0.01292580645531416,-0.007937172427773476,0.021427102386951447,0.058351702988147736,-0.0011866544373333454,-0.030190587043762207,-0.009178530424833298,0.024388007819652557,-0.03189929574728012,-0.005635794717818499,-0.014200626872479916,-0.06511271744966507,0.005859096068888903,0.005711551755666733,-0.03312699496746063,0.056685853749513626,-0.01661313697695732,-0.0898313820362091,0.04053926840424538,0.02778330259025097,-0.011217602528631687,0.012069526128470898,0.0039263153448700905,0.009819834493100643,0.007265287451446056,-0.04023738577961922,-0.018261682242155075,-0.017698846757411957,-0.023644203320145607,0.044515758752822876,0.04302379488945007,0.0815945416688919,0.005407785996794701,-0.04366878420114517,0.03764383867383003,0.049666937440633774,0.016978243365883827,0.030097411945462227,-0.03525765985250473,0.0018175921868532896,0.03694431483745575,0.038975127041339874,0.020578205585479736,-0.030566483736038208,-0.055156007409095764,0.024427510797977448,0.023211073130369186,0.05726407840847969,-0.008389781229197979,0.04596303775906563,-0.047663722187280655,0.03321600332856178,-0.023672381415963173,0.0461062453687191,-0.015745658427476883,0.005100207403302193,-0.001328716054558754,0.0062919058836996555,0.02197752147912979,0.01345094945281744,0.060116641223430634,0.048474665731191635,-0.06991107761859894,-0.025240005925297737,0.030272552743554115,-0.004580947104841471,0.04686887934803963,0.003462652675807476,0.02215047925710678,0.004856877028942108,-0.0014025247655808926,-0.06568089872598648,-0.024002717807888985,0.043606359511613846,-0.04857423156499863,-0.03263188526034355,0.01925499178469181,0.009925084188580513,-0.008694623596966267,-0.04646803438663483,-0.09684477001428604,-0.020575374364852905,-0.027003200724720955,0.0559910386800766,0.017820069566369057,0.013103770092129707,-0.05900353193283081,0.029225684702396393,-0.012682362459599972,0.00183625309728086,-0.010009159334003925,0.029531322419643402,-0.031598642468452454,-0.018319176509976387,-0.06387948244810104,-0.04880312457680702,-0.06830047070980072,0.0006812483770772815,-0.005420631263405085,-0.007223774679005146,0.023921897634863853,-0.008109886199235916,-0.004075765609741211,-0.033407505601644516,-0.05940970033407211,0.024639973416924477,0.05269404873251915,-0.03315964713692665,0.008913680911064148,0.02009657397866249,-0.03749590367078781,0.045315589755773544,0.0008124128798954189,-0.00448357779532671,-0.04396514222025871,-0.0100783109664917,0.02929980494081974,0.04209120199084282,0.007582046557217836,0.0077097793109714985,-0.03515173867344856,0.014412643387913704,0.03444552421569824,-0.021413428708910942,-0.03814045712351799,0.008762260898947716,-0.0817832425236702,-0.012828757986426353,-0.009935718961060047,0.023662522435188293,0.040016550570726395,-0.030902553349733353,-0.013756775297224522,0.013624145649373531,-0.062296509742736816,-0.014363421127200127,-0.023214587941765785,-0.018429724499583244,-0.04615839570760727,0.02396460995078087,-0.006514274049550295,-0.046288929879665375,-0.016639690846204758,0.020518101751804352,0.01828850619494915,0.005208943970501423,0.009442375041544437,0.04272681102156639,-0.016124367713928223,-0.025386027991771698,0.04799189046025276,0.015310022979974747,-0.08906546980142593,0.030940398573875427,0.063546322286129,0.02602486126124859,-0.02560642547905445,-0.022012241184711456,0.014894766733050346,-0.011650562286376953,-0.04263082146644592,0.001400980749167502,-0.0014923441922292113,0.013387510553002357,-0.04906803369522095,-0.02108205482363701,0.04254969581961632,0.01602746918797493,-0.003969104494899511,-0.018065107986330986,-0.018053341656923294,0.01871555671095848,-0.0056374832056462765,-0.03818753734230995,0.037667304277420044,0.0302202720195055,0.01404532790184021,-0.014166180044412613,0.0016304623568430543,-0.006135145667940378,0.005134607665240765,0.007301525212824345,0.03195932134985924,0.017245275899767876,-0.010887169279158115,-0.02622601017355919,0.010543872602283955,0.03629491850733757,0.0015879095299169421,0.022184355184435844,0.004498437512665987,-0.0009957922156900167,-0.0340273380279541,0.039515845477581024,-0.024421535432338715,0.022684630006551743,0.0006972326664254069,-0.01844021864235401,0.004955250769853592,-0.010953343473374844,-0.0048936461098492146,-0.023589784279465675,-0.01564800553023815,0.01876039244234562,0.06640789657831192,0.027535490691661835,0.05338498577475548,-0.003940499387681484,-0.037549275904893875,-0.08715411275625229,0.01565987430512905,-0.009745078161358833,-0.03842432051897049,0.02736441045999527,0.015638912096619606,0.0265683401376009,-0.039374757558107376,0.004355357028543949,0.006027736235409975,0.021033290773630142,-0.0616622231900692,-0.048253655433654785,-0.0136185921728611,-0.06457789242267609,-6.738718261392526e-33,0.010319788008928299,0.0009138963068835437,-0.0645664855837822,0.04135039076209068,-0.04032224416732788,-0.02515437640249729,0.00794418714940548,-0.01229795627295971,-0.0006770526524633169,-0.0077773891389369965,-0.0057377261109650135,-0.05599629133939743,0.01453486643731594,0.021534984931349754,-0.01918708346784115,0.029886487871408463,0.02142607606947422,0.030363522469997406,-0.007956184446811676,0.03651850298047066,-0.03848154470324516,0.037266481667757034,0.008401407860219479,-0.049821216613054276,-0.013327229768037796,-0.0051387036219239235,0.02906407043337822,0.024593601003289223,0.022131754085421562,0.04435088112950325,-0.029769381508231163,0.0237561147660017,-0.01735888607800007,0.05235869809985161,0.0023083684500306845,0.011738220229744911,-0.052781037986278534,-0.05233225226402283,-0.0042265779338777065,0.05723297968506813,0.0005587878404185176,0.02157423086464405,0.05998232215642929,-0.016687631607055664,-0.013419236056506634,-0.0015262917149811983,0.007183239329606295,-0.0034225154668092728,0.019579796120524406,-0.00304053514264524,-0.013818235136568546,0.0324942022562027,-0.002886040834710002,0.013990417122840881,0.03293211758136749,0.034085486084222794,0.05900171771645546,-0.04120756685733795,-0.05434192717075348,-0.029310021549463272,-0.0663905218243599,-0.05289645120501518,-0.009066913276910782,0.07863475382328033,0.02991739846765995,0.05715925619006157,-0.0027205345686525106,0.052531007677316666,0.0020780623890459538,0.03616838902235031,0.00747951352968812,0.00202712370082736,0.012027505785226822,-0.06330248713493347,0.05124092474579811,0.02416544035077095,0.03974492475390434,0.018037570640444756,0.02413271553814411,0.08837383985519409,0.01753583550453186,0.03716803342103958,-0.008035358972847462,-0.005433437414467335,-0.0027201296761631966,-0.040532588958740234,0.008700373582541943,-0.036135926842689514,0.012412124313414097,0.012815270572900772,0.004765592515468597,0.023987622931599617,-0.035800423473119736,0.059999268501996994,-0.07846586406230927,-0.03034847415983677,0.040926795452833176,0.033376917243003845,-0.0023090364411473274,-0.04579892009496689,0.06028575077652931,-0.032567474991083145,-0.060858115553855896,-0.025554589927196503,0.00039814517367631197,0.004122601822018623,-0.035247158259153366,-0.017605634406208992,-0.03378966078162193,-0.009896052069962025,0.008587133139371872,0.002127528889104724,0.020814042538404465,-0.050771478563547134,-0.0037716426886618137,-0.017465148121118546,-0.03348422050476074,0.053269289433956146,0.015030629001557827,0.005829630419611931,0.009540838189423084,-0.036858800798654556,-0.02262471430003643,0.04211634770035744,0.004490236286073923,-0.01899893768131733,-0.012000386603176594,0.0030681919306516647,0.012173066847026348,-0.06317232549190521,-0.005202681757509708,-0.0011840492952615023,2.908721512540069e-7,-0.0005036747897975147,0.039696287363767624,0.0022188860457390547,0.003760170890018344,0.0028217085637152195,-0.03297199308872223,-0.02841424010694027,-0.03860258683562279,0.014857316389679909,-0.07452528178691864,-0.012537944130599499,-0.012240986339747906,0.014183297753334045,0.05569931119680405,0.002280553337186575,-0.07999548316001892,0.08408325165510178,-0.02988295815885067,-0.020511532202363014,0.007257997058331966,0.003547030035406351,0.021403664723038673,0.10851981490850449,0.02647308073937893,-0.03174879401922226,0.015239209868013859,-0.012805728241801262,0.014251763932406902,0.08570575714111328,0.0009048059000633657,-0.028720960021018982,0.0027399794198572636,-0.011391040869057178,0.023207832127809525,0.020433949306607246,-0.01082594133913517,-0.004009047523140907,-0.04724225774407387,-0.006309787277132273,0.07397047430276871,0.017674170434474945,-0.027159852907061577,-0.015919500961899757,-0.05405502766370773,0.01246458850800991,-0.07770147174596786,-0.033879101276397705,0.019219089299440384,-0.0032454810570925474,0.007001602556556463,-0.007071214262396097,0.030303025618195534,-0.018521901220083237,-0.02547389827668667,0.02364405244588852,0.01296141091734171,-0.01022745855152607,0.021912477910518646,0.0017689834348857403,0.07446614652872086,-0.008892359212040901,-0.030076535418629646,-0.019168710336089134,0.00019482788047753274,0.004565622191876173,-0.029104311019182205,-0.004934203345328569,3.5732541818939063e-34,0.03877950832247734,-0.026456739753484726,0.04866223782300949,0.0829695463180542,0.042651429772377014,-0.034044716507196426,0.07808583974838257,-0.009260578081011772,0.07021141797304153,-0.05807998776435852,-0.01786532625555992]'
SET
  @HasCustomProps_4714950d = 1
SET
  @HasCustomEvents_4714950d = 0
SET
  @RequiresData_4714950d = 1
SET
  @DependencyCount_4714950d = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_4714950d = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_4714950d = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_4714950d = 1
SET
  @ID_4714950d = 'ECAEA5F2-8E3B-4C25-B896-3132AFE8F477'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_4714950d,
  @Name = @Name_4714950d,
  @Version = @Version_4714950d,
  @VersionSequence = @VersionSequence_4714950d,
  @Title = @Title_4714950d,
  @Description = @Description_4714950d,
  @Type = @Type_4714950d,
  @Status = @Status_4714950d,
  @DeveloperName = @DeveloperName_4714950d,
  @DeveloperEmail = @DeveloperEmail_4714950d,
  @DeveloperOrganization = @DeveloperOrganization_4714950d,
  @SourceRegistryID = @SourceRegistryID_4714950d,
  @ReplicatedAt = @ReplicatedAt_4714950d,
  @LastSyncedAt = @LastSyncedAt_4714950d,
  @Specification = @Specification_4714950d,
  @FunctionalRequirements = @FunctionalRequirements_4714950d,
  @TechnicalDesign = @TechnicalDesign_4714950d,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_4714950d,
  @TechnicalDesignVector = @TechnicalDesignVector_4714950d,
  @HasCustomProps = @HasCustomProps_4714950d,
  @HasCustomEvents = @HasCustomEvents_4714950d,
  @RequiresData = @RequiresData_4714950d,
  @DependencyCount = @DependencyCount_4714950d,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_4714950d,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_4714950d,
  @HasRequiredCustomProps = @HasRequiredCustomProps_4714950d,
  @ID = @ID_4714950d;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_cb443684 NVARCHAR(MAX),
@Name_cb443684 NVARCHAR(500),
@Version_cb443684 NVARCHAR(50),
@VersionSequence_cb443684 INT,
@Title_cb443684 NVARCHAR(1000),
@Description_cb443684 NVARCHAR(MAX),
@Type_cb443684 NVARCHAR(255),
@Status_cb443684 NVARCHAR(50),
@DeveloperName_cb443684 NVARCHAR(255),
@DeveloperEmail_cb443684 NVARCHAR(255),
@DeveloperOrganization_cb443684 NVARCHAR(255),
@SourceRegistryID_cb443684 UNIQUEIDENTIFIER,
@ReplicatedAt_cb443684 DATETIMEOFFSET,
@LastSyncedAt_cb443684 DATETIMEOFFSET,
@Specification_cb443684 NVARCHAR(MAX),
@FunctionalRequirements_cb443684 NVARCHAR(MAX),
@TechnicalDesign_cb443684 NVARCHAR(MAX),
@FunctionalRequirementsVector_cb443684 NVARCHAR(MAX),
@TechnicalDesignVector_cb443684 NVARCHAR(MAX),
@HasCustomProps_cb443684 BIT,
@HasCustomEvents_cb443684 BIT,
@RequiresData_cb443684 BIT,
@DependencyCount_cb443684 INT,
@TechnicalDesignVectorEmbeddingModelID_cb443684 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_cb443684 NVARCHAR(MAX),
@HasRequiredCustomProps_cb443684 BIT,
@ID_cb443684 UNIQUEIDENTIFIER
SET
  @Namespace_cb443684 = N'AI/Analytics'
SET
  @Name_cb443684 = N'AIPromptsCluster'
SET
  @Version_cb443684 = N'1.0.0'
SET
  @VersionSequence_cb443684 = 1
SET
  @Title_cb443684 = N'AI Prompts Cluster Visualization'
SET
  @Description_cb443684 = N'Interactive clustering visualization of AI prompts using semantic embeddings to discover patterns and relationships'
SET
  @Type_cb443684 = N'Dashboard'
SET
  @Status_cb443684 = N'Published'
SET
  @Specification_cb443684 = N'{"name":"AIPromptsCluster","title":"AI Prompts Cluster Visualization","description":"Interactive clustering visualization of AI prompts using semantic embeddings to discover patterns and relationships","type":"dashboard","location":"embedded","code":"function AIPromptsCluster({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  // Extract sub-components from components\n  const {\n    AIInsightsPanel,\n    AIPromptsClusterGraph,\n    AIPromptsClusterControls,\n    AIPromptsClusterDetails,\n    DataExportPanel\n  } = components;\n\n  if (!AIInsightsPanel) {\n    console.warn(''AIInsightsPanel component not available'');\n  }\n\n  console.log(''🔍 [AIPromptsCluster] Component loading check:'');\n  console.log(''  - AIPromptsClusterGraph:'', !!AIPromptsClusterGraph);\n  console.log(''  - AIPromptsClusterControls:'', !!AIPromptsClusterControls);\n  console.log(''  - AIPromptsClusterDetails:'', !!AIPromptsClusterDetails);\n  console.log(''  - DataExportPanel:'', !!DataExportPanel);\n  console.log(''  - All components object:'', Object.keys(components || {}));\n  console.log(''  - DataExportPanel type:'', typeof DataExportPanel);\n\n  // Debug when DataExportPanel changes\n  useEffect(() => {\n    console.log(''📌 [AIPromptsCluster] DataExportPanel updated:'', !!DataExportPanel);\n    if (DataExportPanel) {\n      console.log(''  - DataExportPanel is a:'', typeof DataExportPanel);\n      console.log(''  - DataExportPanel.toString():'', DataExportPanel.toString().substring(0, 100));\n    }\n  }, [DataExportPanel]);\n\n  // State management\n  const [prompts, setPrompts] = useState([]);\n  const [embeddings, setEmbeddings] = useState({});\n  \n  // Ref for cluster visualization\n  const clusterGraphRef = useRef(null);\n  const [clusters, setClusters] = useState([]);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [filters, setFilters] = useState({\n    search: '''',\n    category: null,\n    type: null,\n    status: ''Active'',\n    role: null\n  });\n  const [clusterCount, setClusterCount] = useState(5);\n  const [similarityThreshold, setSimilarityThreshold] = useState(0.7);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const [highlightCluster, setHighlightCluster] = useState(null);\n  const [clusterNames, setClusterNames] = useState({});\n  \n  // AI Insights state\n  const [aiInsights, setAiInsights] = useState(null);\n  const [loadingInsights, setLoadingInsights] = useState(false);\n  const [insightsError, setInsightsError] = useState(null);\n\n  // Load AI Prompts data on mount\n  useEffect(() => {\n    loadPrompts();\n  }, []);\n\n  // Load prompts from database\n  const loadPrompts = async () => {\n    try {\n      setIsProcessing(true);\n      setError(null);\n      \n      const result = await utilities.rv.RunView({\n        EntityName: ''AI Prompts'',\n        OrderBy: ''Name'',\n        ResultType: ''entity_object''\n      });\n      \n      if (result.Success && result.Results) {\n        setPrompts(result.Results);\n        // Load saved embeddings if available\n        const savedEmbeddings = savedUserSettings?.embeddings || {};\n        setEmbeddings(savedEmbeddings);\n      } else {\n        setError(''Failed to load AI Prompts'');\n      }\n    } catch (err) {\n      setError(`Error loading prompts: $' + '{err.message}`);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Generate embeddings for prompts that don''t have them\n  const generateEmbeddings = async () => {\n    try {\n      setIsProcessing(true);\n      setError(null);\n      \n      // Filter prompts that need embeddings\n      const promptsNeedingEmbeddings = filteredPrompts.filter(\n        p => !embeddings[p.ID] && p.TemplateText && p.TemplateText.length > 0\n      );\n      \n      if (promptsNeedingEmbeddings.length === 0) {\n        // All prompts already have embeddings\n        performClustering();\n        return;\n      }\n      \n      // Batch process embeddings\n      const batchSize = 10;\n      const newEmbeddings = { ...embeddings };\n      \n      for (let i = 0; i < promptsNeedingEmbeddings.length; i += batchSize) {\n        const batch = promptsNeedingEmbeddings.slice(i, i + batchSize);\n        const texts = batch.map(p => p.TemplateText);\n        \n        try {\n          const result = await utilities.ai.EmbedText({\n            textToEmbed: texts,\n            modelSize: ''small''\n          });\n          \n          // Store embeddings\n          batch.forEach((prompt, idx) => {\n            newEmbeddings[prompt.ID] = result.result[idx];\n          });\n          \n          // Update state incrementally\n          setEmbeddings(newEmbeddings);\n        } catch (err) {\n          console.error(''Error generating embeddings for batch:'', err);\n        }\n      }\n      \n      // Save embeddings to user settings\n      onSaveUserSettings({\n        ...savedUserSettings,\n        embeddings: newEmbeddings\n      });\n      \n      // Perform clustering with new embeddings\n      performClustering(newEmbeddings);\n      \n    } catch (err) {\n      setError(`Error generating embeddings: $' + '{err.message}`);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Perform clustering on embeddings\n  const performClustering = (embeddingsToUse = embeddings) => {\n    try {\n      const promptsWithEmbeddings = filteredPrompts.filter(\n        p => embeddingsToUse[p.ID]\n      );\n      \n      if (promptsWithEmbeddings.length < 2) {\n        setError(''Need at least 2 prompts with embeddings to perform clustering'');\n        return;\n      }\n      \n      // Prepare data for clustering\n      const vectors = promptsWithEmbeddings.map(p => embeddingsToUse[p.ID]);\n      const vectorService = utilities.ai.VectorService;\n      \n      // Perform k-means clustering\n      // First load vectors into the service\n      const vectorMap = new Map();\n      promptsWithEmbeddings.forEach((prompt, idx) => {\n        vectorMap.set(prompt.ID, embeddingsToUse[prompt.ID]);\n      });\n      vectorService.LoadVectors(vectorMap);\n      \n      // Then perform clustering\n      const clusterResult = vectorService.KMeansCluster(\n        Math.min(clusterCount, promptsWithEmbeddings.length),\n        100, // max iterations\n        ''cosine'' // distance metric\n      );\n      \n      // Map cluster assignments back to prompts\n      const clusteredPrompts = promptsWithEmbeddings.map((prompt) => {\n        // Find which cluster this prompt belongs to\n        let assignedCluster = 0;\n        clusterResult.clusters.forEach((members, clusterId) => {\n          if (members.includes(prompt.ID)) {\n            assignedCluster = clusterId;\n          }\n        });\n        \n        // Store the original prompt entity along with cluster data\n        return {\n          entity: prompt,  // Keep the original entity object\n          cluster: assignedCluster,\n          embedding: embeddingsToUse[prompt.ID],\n          // Expose commonly used properties for convenience\n          ID: prompt.ID,\n          Name: prompt.Name,\n          Category: prompt.Category,\n          Type: prompt.Type,\n          Description: prompt.Description,\n          Status: prompt.Status,\n          TemplateText: prompt.TemplateText\n        };\n      });\n      \n      setClusters(clusteredPrompts);\n      \n      // Generate names for clusters\n      generateClusterNames(clusteredPrompts);\n      \n    } catch (err) {\n      setError(`Error performing clustering: $' + '{err.message}`);\n    }\n  };\n  \n  // Generate AI-powered names for clusters\n  const generateClusterNames = async (clusteredPrompts) => {\n    try {\n      // Group prompts by cluster\n      const clusterGroups = {};\n      clusteredPrompts.forEach(prompt => {\n        if (!clusterGroups[prompt.cluster]) {\n          clusterGroups[prompt.cluster] = [];\n        }\n        clusterGroups[prompt.cluster].push(prompt);\n      });\n      \n      // Prepare cluster summaries for AI\n      const clusterSummaries = {};\n      Object.entries(clusterGroups).forEach(([clusterId, prompts]) => {\n        // Get unique categories and types\n        const categories = [...new Set(prompts.map(p => p.Category).filter(Boolean))];\n        const types = [...new Set(prompts.map(p => p.Type).filter(Boolean))];\n        \n        // Sample prompt names (up to 5)\n        const sampleNames = prompts.slice(0, 5).map(p => p.Name);\n        \n        // Sample template texts (first 150 chars, up to 3 prompts)\n        const templateSamples = prompts\n          .slice(0, 3)\n          .map(p => p.TemplateText ? p.TemplateText.substring(0, 150) + ''...'' : '''')\n          .filter(Boolean);\n        \n        clusterSummaries[clusterId] = {\n          promptCount: prompts.length,\n          sampleNames,\n          categories,\n          types,\n          templateSamples\n        };\n      });\n      \n      // Create a single prompt for all clusters\n      const namingPrompt = `Analyze these clusters of AI prompts and generate concise, descriptive names (2-4 words) for each cluster based on their common themes or purposes.\n\n$' + '{Object.entries(clusterSummaries).map(([id, summary]) => `\nCluster $' + '{parseInt(id) + 1}:\n- $' + '{summary.promptCount} prompts total\n- Sample names: $' + '{summary.sampleNames.join('', '')}\n- Categories: $' + '{summary.categories.length > 0 ? summary.categories.join('', '') : ''Various''}\n- Types: $' + '{summary.types.length > 0 ? summary.types.join('', '') : ''Various''}\n- Template samples: $' + '{summary.templateSamples.length > 0 ? summary.templateSamples[0].substring(0, 100) : ''N/A''}\n`).join(''\\n'')}\n\nReturn a JSON object with cluster numbers as keys and descriptive names as values. Example format:\n{\n  \"0\": \"Data Analysis Tools\",\n  \"1\": \"User Communication\",\n  \"2\": \"System Administration\"\n}\n\nOnly return the JSON object, nothing else.`;\n      \n      // Call AI to generate names using ExecutePrompt\n      const result = await utilities.ai.ExecutePrompt({\n        systemPrompt: namingPrompt,\n        modelPower: ''lowest'' // This is a simple task, use the cheapest/fastest model\n      });\n      \n      if (result && result.success && result.result) {\n        try {\n          // Parse the JSON response - ExecutePrompt may already parse it for us\n          const names = result.resultObject || JSON.parse(result.result);\n          setClusterNames(names);\n          \n          // Optionally save to user settings\n          if (onSaveUserSettings) {\n            onSaveUserSettings({\n              ...savedUserSettings,\n              clusterNames: names\n            });\n          }\n        } catch (parseErr) {\n          console.error(''Failed to parse cluster names:'', parseErr);\n          // Fall back to numbered clusters\n          const fallbackNames = {};\n          Object.keys(clusterSummaries).forEach(id => {\n            fallbackNames[id] = `Cluster $' + '{parseInt(id) + 1}`;\n          });\n          setClusterNames(fallbackNames);\n        }\n      }\n    } catch (err) {\n      console.error(''Error generating cluster names:'', err);\n      // Don''t let this break the clustering - just use numbers\n    }\n  };\n\n  // Filter prompts based on current filters\n  const filteredPrompts = useMemo(() => {\n    return prompts.filter(prompt => {\n      // Search filter\n      if (filters.search) {\n        const searchLower = filters.search.toLowerCase();\n        const matchesSearch = \n          prompt.Name?.toLowerCase().includes(searchLower) ||\n          prompt.Description?.toLowerCase().includes(searchLower) ||\n          prompt.TemplateText?.toLowerCase().includes(searchLower);\n        if (!matchesSearch) return false;\n      }\n      \n      // Category filter\n      if (filters.category && prompt.CategoryID !== filters.category) {\n        return false;\n      }\n      \n      // Type filter\n      if (filters.type && prompt.TypeID !== filters.type) {\n        return false;\n      }\n      \n      // Status filter\n      if (filters.status && prompt.Status !== filters.status) {\n        return false;\n      }\n      \n      // Role filter\n      if (filters.role && prompt.PromptRole !== filters.role) {\n        return false;\n      }\n      \n      return true;\n    });\n  }, [prompts, filters]);\n\n  // Get unique categories and types for filters\n  const categories = useMemo(() => {\n    const uniqueCategories = new Map();\n    prompts.forEach(p => {\n      if (p.CategoryID && p.Category) {\n        uniqueCategories.set(p.CategoryID, p.Category);\n      }\n    });\n    return Array.from(uniqueCategories, ([id, name]) => ({ id, name }));\n  }, [prompts]);\n\n  const types = useMemo(() => {\n    const uniqueTypes = new Map();\n    prompts.forEach(p => {\n      if (p.TypeID && p.Type) {\n        uniqueTypes.set(p.TypeID, p.Type);\n      }\n    });\n    return Array.from(uniqueTypes, ([id, name]) => ({ id, name }));\n  }, [prompts]);\n\n  // Format insights text using marked library for proper markdown rendering\n\n  const generateAIInsights = async () => {\n    if (clusters.length === 0) {\n      setInsightsError(''Please generate clusters first'');\n      return;\n    }\n    \n    setLoadingInsights(true);\n    setInsightsError(null);\n    \n    try {\n      // Prepare cluster analysis data\n      const clusterAnalysis = clusters.map((cluster, idx) => {\n        const clusterPrompts = filteredPrompts.filter(p => \n          embeddings[p.ID] && cluster.members.includes(p.ID)\n        );\n        \n        return {\n          id: idx,\n          name: clusterNames[idx] || `Cluster $' + '{idx + 1}`,\n          size: clusterPrompts.length,\n          prompts: clusterPrompts.slice(0, 3).map(p => p.Name), // Sample prompts\n          categories: [...new Set(clusterPrompts.map(p => p.Category).filter(Boolean))],\n          types: [...new Set(clusterPrompts.map(p => p.Type).filter(Boolean))],\n          roles: [...new Set(clusterPrompts.map(p => p.PromptRole).filter(Boolean))]\n        };\n      });\n      \n      const prompt = `Analyze this AI prompts clustering data and provide insights:\n\nCluster Analysis:\n$' + '{JSON.stringify(clusterAnalysis, null, 2)}\n\nTotal Prompts: $' + '{prompts.length}\nFiltered Prompts: $' + '{filteredPrompts.length}\nNumber of Clusters: $' + '{clusters.length}\nSimilarity Threshold: $' + '{similarityThreshold}\n\nPlease provide:\n1. **Cluster Quality Assessment** - How well-defined and coherent are the clusters?\n2. **Thematic Patterns** - What themes or patterns emerge from the clustering?\n3. **Distribution Analysis** - How are prompts distributed across clusters?\n4. **Outliers and Anomalies** - Any unusual patterns or isolated prompts?\n5. **Optimization Suggestions** - How could the clustering be improved?\n6. **Business Insights** - What does this clustering reveal about the prompt library?\n7. **Recommendations** - Specific actions to improve prompt organization\n\nFormat your response in clear markdown with headers and bullet points.`;\n      \n      const result = await utilities.ai.ExecutePrompt({\n        systemPrompt: ''You are an expert in natural language processing, clustering analysis, and prompt engineering. Analyze the clustering results and provide actionable insights about the AI prompt library organization.'',\n        messages: prompt,\n        preferredModels: [''GPT-OSS-120B'', ''Qwen3 32B''],\n        modelPower: ''high'',\n        temperature: 0.7,\n        maxTokens: 1500\n      });\n      \n      if (result?.success && result?.result) {\n        setAiInsights(result.result);\n      } else {\n        setInsightsError(''Failed to generate insights. Please try again.'');\n      }\n    } catch (error) {\n      setInsightsError(error.message || ''Failed to generate AI insights'');\n    } finally {\n      setLoadingInsights(false);\n    }\n  };\n  \n  // Calculate similar prompts for selected prompt\n  const similarPrompts = useMemo(() => {\n    if (!selectedPrompt || !embeddings[selectedPrompt.ID]) return [];\n    \n    const selectedEmbedding = embeddings[selectedPrompt.ID];\n    const vectorService = utilities.ai.VectorService;\n    \n    // Calculate similarities to all other prompts with embeddings\n    const similarities = filteredPrompts\n      .filter(p => p.ID !== selectedPrompt.ID && embeddings[p.ID])\n      .map(prompt => {\n        // Use CalculateDistance with cosine metric and convert to similarity\n        const distance = vectorService.CalculateDistance(\n          selectedEmbedding,\n          embeddings[prompt.ID],\n          ''cosine''\n        );\n        return {\n          prompt,\n          similarity: 1 - distance // Convert distance to similarity\n        };\n      })\n      .sort((a, b) => b.similarity - a.similarity)\n      .slice(0, 5); // Top 5 similar prompts\n    \n    return similarities;\n  }, [selectedPrompt, embeddings, filteredPrompts]);\n\n  // Get cluster info for selected prompt\n  const clusterInfo = useMemo(() => {\n    if (!selectedPrompt || clusters.length === 0) return null;\n    \n    const clusteredPrompt = clusters.find(p => p.ID === selectedPrompt.ID);\n    if (!clusteredPrompt) return null;\n    \n    const clusterMembers = clusters.filter(p => p.cluster === clusteredPrompt.cluster);\n    \n    return {\n      clusterIndex: clusteredPrompt.cluster,\n      clusterSize: clusterMembers.length,\n      clusterMembers: clusterMembers.slice(0, 10).map(member => ({\n        ...member,\n        // Ensure entity is available for navigation\n        entity: member.entity\n      }))\n    };\n  }, [selectedPrompt, clusters]);\n\n  // Event handlers\n  const handlePromptSelect = (promptOrClusteredPrompt) => {\n    // If it''s a clustered prompt object, extract the entity\n    // Otherwise use the prompt as-is\n    const prompt = promptOrClusteredPrompt?.entity || promptOrClusteredPrompt;\n    setSelectedPrompt(prompt);\n    setHighlightCluster(null);\n  };\n\n  const handleClusterSelect = (clusterIndex) => {\n    setHighlightCluster(clusterIndex);\n    setSelectedPrompt(null);\n  };\n\n  const handleRecalculate = () => {\n    generateEmbeddings();\n  };\n\n  // Prepare export data for DataExportPanel\n  const prepareExportData = () => {\n    console.log(''🔍 [AIPromptsCluster] prepareExportData called'');\n    console.log(''🔍 [AIPromptsCluster] clusters:'', clusters);\n    console.log(''🔍 [AIPromptsCluster] clusters length:'', clusters?.length);\n    console.log(''🔍 [AIPromptsCluster] clusterNames:'', clusterNames);\n    \n    // Return empty array if no clusters\n    if (!clusters || clusters.length === 0) {\n      console.log(''⚠️ [AIPromptsCluster] No clusters available for export'');\n      return [];\n    }\n    \n    const exportData = clusters.map(prompt => ({\n      ID: prompt.ID || '''',\n      Name: prompt.Name || '''',\n      Category: prompt.Category || '''',\n      Type: prompt.Type || '''',\n      // Use the LLM-generated cluster name if available, otherwise fall back to numbered cluster\n      ClusterName: clusterNames[prompt.cluster] || `Cluster $' + '{prompt.cluster + 1}`,\n      Status: prompt.Status || '''',\n      PromptRole: prompt.PromptRole || '''',\n      ResponseFormat: prompt.ResponseFormat || ''''\n    }));\n    \n    console.log(''🔍 [AIPromptsCluster] exportData prepared:'', exportData);\n    console.log(''🔍 [AIPromptsCluster] exportData length:'', exportData?.length);\n    console.log(''🔍 [AIPromptsCluster] Sample export row:'', exportData?.[0]);\n    \n    return exportData;\n  };\n\n  // Define export columns - DataExportPanel expects key/label not field/header\n  const getExportColumns = () => {\n    const columns = [\n      { key: ''ID'', label: ''ID'' },\n      { key: ''Name'', label: ''Name'' },\n      { key: ''Category'', label: ''Category'' },\n      { key: ''Type'', label: ''Type'' },\n      { key: ''ClusterName'', label: ''Cluster'' },  // Only export cluster name, not redundant number\n      { key: ''Status'', label: ''Status'' },\n      { key: ''PromptRole'', label: ''Role'' },\n      { key: ''ResponseFormat'', label: ''Response Format'' }\n    ];\n    console.log(''🔍 [AIPromptsCluster] Export columns defined:'', columns);\n    return columns;\n  };\n\n  const handleEditPrompt = (promptId) => {\n    callbacks.OpenEntityRecord(''AI Prompts'', [\n      { FieldName: ''ID'', Value: promptId }\n    ]);\n  };\n  \n  // Function to get the cluster visualization element for PDF export\n  // Using a callback function to ensure we get the element at export time\n  const getClusterVisualization = useCallback(() => {\n    console.log(''🎨 [AIPromptsCluster] Getting cluster visualization for PDF export'');\n    if (!clusterGraphRef.current) {\n      console.warn(''⚠️ Cluster graph ref not available'');\n      return null;\n    }\n    \n    // Return the container div which html2canvas can handle better\n    // html2canvas has issues with standalone SVG elements from React components\n    console.log(''📦 Returning cluster graph container for capture'');\n    console.log(''  - Container dimensions:'', {\n      width: clusterGraphRef.current.offsetWidth,\n      height: clusterGraphRef.current.offsetHeight,\n      hasContent: clusterGraphRef.current.children.length > 0\n    });\n    \n    // Return the container which includes the SVG/canvas in context\n    return clusterGraphRef.current;\n  }, []);\n\n  // Render component\n  return (\n    <div style={{\n      display: ''flex'',\n      flexDirection: ''column'',\n      height: ''100%'',\n      padding: styles.spacing?.md || ''16px'',\n      backgroundColor: styles.colors?.background || ''#f5f5f5'',\n      fontFamily: styles.typography?.fontFamily || ''system-ui, -apple-system, sans-serif''\n    }}>\n      {/* Header */}\n      <div style={{\n        marginBottom: styles.spacing?.md || ''16px''\n      }}>\n        <div style={{\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''flex-start''\n        }}>\n          <div>\n            <h2 style={{\n              fontSize: styles.typography?.fontSize?.xl || ''24px'',\n              fontWeight: ''bold'',\n              color: styles.colors?.text?.primary || ''#333'',\n              margin: 0\n            }}>\n              AI Prompts Cluster Analysis\n            </h2>\n            <p style={{\n              fontSize: styles.typography?.fontSize?.sm || ''14px'',\n              color: styles.colors?.text?.secondary || ''#666'',\n              marginTop: styles.spacing?.xs || ''4px''\n            }}>\n              Discover patterns and relationships in your AI prompts through semantic clustering\n            </p>\n          </div>\n          \n          {/* Export and AI Insights buttons */}\n          <div style={{\n            display: ''flex'',\n            gap: ''12px'',\n            alignItems: ''center''\n          }}>\n            {/* Export Button */}\n            {DataExportPanel && clusters.length > 0 && (\n              <DataExportPanel\n                data={prepareExportData()}\n                columns={getExportColumns()}\n                filename={`ai-prompts-clusters-$' + '{new Date().toISOString().split(''T'')[0]}`}\n                formats={[''csv'', ''excel'', ''pdf'']}\n                buttonStyle=\"dropdown\"\n                buttonText=\"Export\"\n                icon=\"fa-download\"\n                getHtmlElement={getClusterVisualization}  // Provide cluster viz for PDF\n                pdfOptions={{\n                  orientation: ''landscape'',  // Better for wide cluster visualization\n                  pageSize: ''a4'',\n                  margins: { top: 60, bottom: 40, left: 40, right: 40 }\n                }}\n                onExportStart={() => {\n                  console.log(''🎯 [AIPromptsCluster] Export started!'');\n                }}\n                onExportComplete={(format) => {\n                  console.log(''✅ [AIPromptsCluster] Export completed!'', format);\n                }}\n                onExportError={(error) => {\n                  console.error(''❌ [AIPromptsCluster] Export error:'', error);\n                }}\n                customStyles={{\n                  button: {\n                    padding: ''8px 16px'',\n                    fontSize: ''14px'',\n                    fontWeight: ''600'',\n                    border: ''2px solid #e2e8f0'',\n                    borderRadius: ''8px'',\n                    backgroundColor: ''white'',\n                    color: ''#4a5568'',\n                    cursor: ''pointer'',\n                    display: ''flex'',\n                    alignItems: ''center'',\n                    gap: ''8px'',\n                    transition: ''all 0.2s'',\n                    boxShadow: ''0 1px 3px rgba(0,0,0,0.1)''\n                  }\n                }}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n              />\n            )}\n            \n            {/* AI Insights Panel */}\n            <AIInsightsPanel\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings?.aiInsights}\n              onSaveUserSettings={(settings) => onSaveUserSettings?.({\n                ...savedUserSettings,\n                aiInsights: settings\n              })}\n              insights={aiInsights}\n              loading={loadingInsights}\n              error={insightsError}\n              onGenerate={generateAIInsights}\n              title=\"AI Prompts Cluster Analysis\"\n              icon=\"fa-wand-magic-sparkles\"\n              iconColor={styles?.colors?.primary || ''#8B5CF6''}\n              position=\"bottom\"\n              onClose={() => {\n                setAiInsights(null);\n                setInsightsError(null);\n              }}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Error display */}\n      {error && (\n        <div style={{\n          padding: styles.spacing?.sm || ''8px'',\n          backgroundColor: ''#fee'',\n          color: ''#c00'',\n          borderRadius: styles.borders?.radius || ''4px'',\n          marginBottom: styles.spacing?.md || ''16px''\n        }}>\n          {error}\n        </div>\n      )}\n\n      {/* Main content area */}\n      <div style={{\n        display: ''flex'',\n        flex: 1,\n        gap: styles.spacing?.md || ''16px'',\n        overflow: ''hidden''\n      }}>\n        {/* Left panel - Controls */}\n        <div style={{\n          width: ''280px'',\n          display: ''flex'',\n          flexDirection: ''column'',\n          gap: styles.spacing?.sm || ''8px''\n        }}>\n          <AIPromptsClusterControls\n            categories={categories}\n            types={types}\n            currentFilters={filters}\n            clusterCount={clusterCount}\n            similarityThreshold={similarityThreshold}\n            isProcessing={isProcessing}\n            onSearchChange={(search) => setFilters({ ...filters, search })}\n            onFilterChange={setFilters}\n            onClusterCountChange={setClusterCount}\n            onSimilarityThresholdChange={setSimilarityThreshold}\n            onRecalculate={handleRecalculate}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings}\n            onSaveUserSettings={onSaveUserSettings}\n          />\n        </div>\n\n        {/* Center - Graph */}\n        <div \n          ref={clusterGraphRef}\n          id=\"cluster-graph-container\"\n          style={{\n            flex: 1,\n            backgroundColor: styles.colors?.surface || ''white'',\n            borderRadius: styles.borders?.radius || ''4px'',\n            padding: styles.spacing?.sm || ''8px'',\n            position: ''relative'',\n            // Ensure proper rendering for export\n            minHeight: ''400px'',\n            overflow: ''visible''\n          }}>\n          {clusters.length > 0 ? (\n            <AIPromptsClusterGraph\n              prompts={clusters}\n              clusters={clusters}\n              clusterNames={clusterNames}\n              selectedPromptId={selectedPrompt?.ID}\n              similarityThreshold={similarityThreshold}\n              highlightCluster={highlightCluster}\n              onNodeClick={handlePromptSelect}\n              onNodeHover={() => {}}\n              onClusterSelect={handleClusterSelect}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings}\n              onSaveUserSettings={onSaveUserSettings}\n            />\n          ) : (\n            <div style={{\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              height: ''100%'',\n              color: styles.colors?.text?.secondary || ''#666''\n            }}>\n              {isProcessing ? (\n                <div>Generating embeddings and clustering...</div>\n              ) : (\n                <div style={{\n                  textAlign: ''center''\n                }}>\n                  <div style={{\n                    marginBottom: styles.spacing?.sm || ''8px''\n                  }}>\n                    No clusters generated yet\n                  </div>\n                  <div style={{\n                    fontSize: styles.typography?.fontSize?.sm || ''14px''\n                  }}>\n                    Use the \"Generate Clusters\" button in the controls panel to begin\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Right panel - Details */}\n        <div style={{\n          width: ''320px'',\n          backgroundColor: styles.colors?.surface || ''white'',\n          borderRadius: styles.borders?.radius || ''4px'',\n          padding: styles.spacing?.md || ''16px'',\n          overflowY: ''auto''\n        }}>\n          <AIPromptsClusterDetails\n            selectedPrompt={selectedPrompt}\n            allPrompts={filteredPrompts}\n            clusterInfo={clusterInfo}\n            similarPrompts={similarPrompts}\n            onPromptNavigate={(promptId) => {\n              const prompt = prompts.find(p => p.ID === promptId);\n              if (prompt) handlePromptSelect(prompt);\n            }}\n            onEditPrompt={handleEditPrompt}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings}\n            onSaveUserSettings={onSaveUserSettings}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}","functionalRequirements":"Load all AI prompts, generate embeddings from TemplateText, perform clustering analysis, visualize clusters in interactive graph, show prompt details on selection, provide filtering and search capabilities","technicalDesign":"Main orchestrator that loads AI prompts data, manages embeddings generation and caching, coordinates sub-components for visualization and interaction, uses D3.js for graph rendering and SimpleVectorService for clustering","dataRequirements":{"mode":"views","entities":[{"name":"AI Prompts","displayFields":["Name","Description","TemplateText","CategoryID","Category","TypeID","Type","Status","PromptRole","ResponseFormat","Template"],"filterFields":["Status","CategoryID","TypeID","PromptRole"],"sortFields":["Name","CreatedAt","UpdatedAt"],"permissions":["read"]}]},"properties":[],"events":[{"name":"onPromptSelect","description":"Fired when a prompt is selected in the visualization","parameters":[{"name":"prompt","type":"object","description":"The selected AI prompt entity"}]}],"dependencies":[{"name":"AIPromptsClusterGraph","location":"registry","namespace":"AI/Analytics","version":"^1.0.0"},{"name":"AIPromptsClusterControls","location":"registry","namespace":"AI/Analytics","version":"^1.0.0"},{"name":"AIPromptsClusterDetails","location":"registry","namespace":"AI/Analytics","version":"^1.0.0"},{"name":"DataExportPanel","location":"registry","namespace":"Generic/UI/Export","version":"^1.0.0"},{"name":"AIInsightsPanel","location":"registry","namespace":"Generic/UI/AI","version":"^1.0.0"}],"libraries":[],"usageExample":"<AIPromptsCluster />","version":"1.0.0"}'
SET
  @FunctionalRequirements_cb443684 = N'Load all AI prompts, generate embeddings from TemplateText, perform clustering analysis, visualize clusters in interactive graph, show prompt details on selection, provide filtering and search capabilities'
SET
  @TechnicalDesign_cb443684 = N'Main orchestrator that loads AI prompts data, manages embeddings generation and caching, coordinates sub-components for visualization and interaction, uses D3.js for graph rendering and SimpleVectorService for clustering'
SET
  @FunctionalRequirementsVector_cb443684 = N'[-0.004244554787874222,-0.04344490170478821,-0.03652302920818329,-0.04865433648228645,0.011556217446923256,0.005743979010730982,0.047427695244550705,-0.00015924812760204077,0.045152872800827026,0.008994841948151588,-0.002214152365922928,0.03703438863158226,0.009325794875621796,0.08945076167583466,-0.008880415931344032,-0.0665559321641922,-0.0026057036593556404,-0.02315664291381836,0.0280894972383976,-0.021416250616312027,-0.03004479594528675,0.01294723991304636,-0.0070998091250658035,0.017161432653665543,-0.02415972389280796,-0.03344093635678291,-0.034113019704818726,-0.019525114446878433,0.05428424850106239,-0.03725589066743851,-0.06894727051258087,0.04717474430799484,0.00044726350461132824,-0.0022182392422109842,0.00000181453333425452,-0.06192007288336754,-0.03609997779130936,0.02934376895427704,-0.055215321481227875,0.022498376667499542,0.11483531445264816,0.04928926005959511,0.046591419726610184,0.001191278686746955,-0.036338403820991516,0.022631045430898666,0.017012525349855423,-0.011621282435953617,0.035690754652023315,-0.016285501420497894,-0.0025179290678352118,0.06328072398900986,-0.019208554178476334,-0.011685773730278015,-0.032458968460559845,0.004772876854985952,-0.010586784221231937,-0.04211398959159851,0.0837453082203865,-0.003429869655519724,0.007597758900374174,0.004055307246744633,0.00040796148823574185,-0.02654450200498104,0.058468807488679886,0.05265074595808983,-0.00958765298128128,-0.08348965644836426,0.0280048456043005,0.030384555459022522,0.09154577553272247,0.0040030525997281075,-0.005193512886762619,-0.023971814662218094,-0.009601837024092674,0.007899312302470207,-0.03397652879357338,-0.0047220452688634396,-0.02483683079481125,-0.009574285708367825,0.028918994590640068,-0.0024937321431934834,-0.01636769436299801,-0.03387947753071785,-0.0413120873272419,0.04980432987213135,0.010436822660267353,-0.04991612955927849,-0.022221188992261887,0.002160710748285055,0.013142709620296955,-0.00040680886013433337,0.023695070296525955,0.007372832391411066,-0.11713103204965591,-0.023799527436494827,0.015997670590877533,-0.02098255231976509,0.0025720272678881884,0.06599438190460205,0.09656655788421631,0.03714338690042496,0.011696608737111092,0.03998120501637459,0.020763978362083435,0.02841668762266636,0.020793557167053223,-0.016338175162672997,-0.02470529079437256,0.009891447611153126,-0.043485693633556366,-0.011065295897424221,-0.043303098529577255,0.02539239265024662,-0.010271950624883175,-0.013947511091828346,0.00018601029296405613,0.05825669318437576,-0.03376567363739014,0.033837515860795975,0.036001481115818024,0.019101856276392937,-0.009625193662941456,0.05981897935271263,-0.0024198342580348253,-0.05504404753446579,-0.07552246749401093,-0.009811402298510075,-0.009608350694179535,-0.01858755573630333,-0.0017413515597581863,0.026121463626623154,0.015327224507927895,-0.006873947102576494,-0.0047357999719679356,-0.0043225400149822235,0.0264299176633358,-0.028155533596873283,-0.013014103285968304,-0.020927557721734047,0.03480693697929382,-0.01782155968248844,-0.010744626633822918,-0.01659732684493065,0.02147603966295719,0.009681780822575092,-0.01767764985561371,0.03920063376426697,-0.02269251085817814,0.010950434021651745,-0.033224672079086304,0.04796886444091797,0.00019827384676318616,0.015919797122478485,-0.006828015670180321,-0.043036047369241714,-0.0008390721632167697,0.03213776648044586,-0.048744190484285355,0.03406282886862755,0.04051591455936432,0.0032800158951431513,0.027351491153240204,0.01872759684920311,-0.021905288100242615,0.0027378443628549576,-0.06749606132507324,0.013396660797297955,-0.014880788512527943,0.0073343850672245026,-0.0038543965201824903,-0.03209026902914047,-0.023171421140432358,0.022453997284173965,-0.02318922057747841,0.12180302292108536,0.0544406995177269,0.0046926625072956085,0.04661553353071213,0.011165657080709934,0.039712704718112946,-0.018827170133590698,-0.014950990676879883,0.0180586576461792,-0.022738493978977203,-0.01672728918492794,0.0202631838619709,0.049478501081466675,-0.005719443783164024,0.0032141897827386856,0.012694546021521091,0.020959563553333282,-0.002902056323364377,0.002729833358898759,0.030317699536681175,-0.004686357919126749,0.006657536141574383,-0.09081532806158066,0.029096780344843864,-0.01700032316148281,-0.025353237986564636,-0.0033596756402403116,0.035198163241147995,0.06877383589744568,0.0641167014837265,-0.047017160803079605,-0.005632758606225252,0.006165211088955402,-0.022951805964112282,0.00684193754568696,0.04421567544341087,-0.020509283989667892,-0.05189163610339165,0.0014007430290803313,-0.05515259504318237,0.0023473617620766163,-0.00912339985370636,0.022245202213525772,-0.054698288440704346,0.019210994243621826,-0.03628595918416977,-0.007259013131260872,-0.030517734587192535,0.012062249705195427,0.039024583995342255,-0.007719120476394892,0.030516600236296654,0.023787133395671844,0.036403920501470566,0.04282474145293236,-0.026968345046043396,-0.010350829921662807,0.06123587489128113,0.011271628551185131,-0.00021607763483189046,0.02789643593132496,-0.00042699225014075637,-0.0007337767165154219,-0.03419068455696106,-0.02036443166434765,-0.016944460570812225,-0.04136018827557564,-0.021305933594703674,-0.009948186576366425,-0.026359936222434044,-0.047587800770998,0.032599590718746185,0.005497137550264597,0.019015632569789886,-0.026697177439928055,0.004006102681159973,-0.03288721665740013,0.05304466187953949,0.0029390621930360794,0.005252343602478504,0.09973714500665665,0.022370101884007454,-0.017893731594085693,-0.10794806480407715,0.06089837849140167,0.0056809489615261555,0.000010150814887310844,-0.007597268559038639,0.002327751135453582,0.015302789397537708,-0.0031696795485913754,0.039505939930677414,-0.13136449456214905,-0.04745182394981384,-0.009439483284950256,-0.014098184183239937,0.016411155462265015,0.008087349124252796,-0.005451392848044634,-0.02138473652303219,0.03357890620827675,0.008685837499797344,-0.02398480847477913,0.024575883522629738,-0.013313931412994862,-0.009180919267237186,0.026379257440567017,0.00020737263548653573,0.004112365189939737,-0.05019516125321388,0.024170247837901115,0.07845859974622726,-0.012575100176036358,-0.010637436993420124,0.013587388209998608,0.005050725769251585,0.013598580844700336,0.030146747827529907,0.02631743997335434,0.006555237807333469,-0.014385423623025417,-0.013054725714027882,0.13130539655685425,-0.027279667556285858,0.06406009942293167,-0.008535698987543583,0.03835586830973625,-0.01706762984395027,0.02330702915787697,-0.017633723095059395,0.1010083556175232,0.034876998513936996,0.019306262955069542,0.05254140496253967,-0.008244256488978863,0.012523651123046875,0.0013178737135604024,-0.025039365515112877,0.006628484930843115,-0.011503943242132664,-0.04256979748606682,-0.05892552062869072,-0.032697517424821854,-0.03093934990465641,0.06915228068828583,0.0022119858767837286,-0.03840320557355881,0.056646090000867844,-0.013462451286613941,-0.014691218733787537,-0.043879102915525436,-0.05555952340364456,0.0008184752077795565,-0.040349312126636505,0.023158153519034386,0.02880125492811203,-0.03496018797159195,-0.010047439485788345,-0.014385126531124115,0.043877795338630676,0.005525116343051195,-0.012154086492955685,-0.0049081649631261826,0.014846869744360447,-0.03583504259586334,0.015318055637180805,-0.008136183954775333,-0.023868123069405556,0.0025299754925072193,0.02125805802643299,0.021528827026486397,0.04350828006863594,-0.0564221628010273,-0.0557393915951252,0.0046815695241093636,0.03267534449696541,0.038304079324007034,-0.026652004569768906,-0.010511117987334728,0.013745786622166634,0.021831588819622993,-0.004594770260155201,0.011015700176358223,-0.04176349565386772,-0.020411115139722824,0.0346938855946064,0.02090691588819027,0.02658129669725895,-0.02649475634098053,-0.00812061782926321,0.043179139494895935,0.009257117286324501,-0.05590411648154259,-0.028747349977493286,-0.0038461056537926197,-0.021646909415721893,0.005601505283266306,0.01112041063606739,0.07097499072551727,0.039675530046224594,-0.1231275349855423,-0.003063655225560069,-0.050437621772289276,-0.020508887246251106,0.006302318535745144,0.04629375413060188,-0.026591602712869644,0.050246596336364746,0.020004771649837494,0.0468534380197525,-0.016609815880656242,-0.02470099739730358,0.03127901256084442,-0.09283778071403503,0.06918002665042877,-0.009679491631686687,-0.05955017730593681,-0.004652082454413176,-0.06327662616968155,-0.0187752153724432,-0.04807458817958832,-0.04846828430891037,-0.006506037898361683,-0.02717878855764866,0.03468836471438408,-0.002125212224200368,0.01357976719737053,0.0010845258366316557,0.0009486036142334342,0.015580370090901852,0.001723665976896882,0.053259119391441345,0.05648023262619972,-0.010397532023489475,-0.03026673011481762,-0.048004571348428726,0.040666352957487106,0.013129291124641895,-0.07351360470056534,0.04054185003042221,-0.012037712149322033,-0.005646350793540478,-0.003955841530114412,0.03710595518350601,0.0385085865855217,0.0005627128412015736,-0.0060548316687345505,0.09515420347452164,-0.02168331667780876,0.00615842267870903,-0.019918978214263916,-0.004597481805831194,-0.020619714632630348,0.013371845707297325,0.02605951763689518,-0.02300507016479969,0.0489899180829525,-0.033969905227422714,0.022391516715288162,0.03939099609851837,-0.02317516691982746,-0.021623173728585243,-0.014081623405218124,0.02346566691994667,-0.030702345073223114,-0.044136956334114075,0.08303071558475494,0.10195677727460861,0.010914755053818226,-0.027142975479364395,-0.05093979462981224,-0.011880571022629738,-0.054342109709978104,0.02114425227046013,-0.020391376689076424,0.005642967764288187,-0.004946460481733084,-0.01121160201728344,0.01799999736249447,0.0036981317680329084,-0.04994067922234535,-0.03860054537653923,0.09018411487340927,-0.05631440877914429,0.011062201112508774,0.010780228301882744,0.03372712805867195,0.006797103676944971,-0.04459523782134056,-0.033344801515340805,0.1324574053287506,-0.007434477563947439,-0.020041048526763916,-0.013837961480021477,-0.020484767854213715,-0.0004401137412060052,-0.0007949640275910497,-0.011792697012424469,-0.024939337745308876,0.0015498230932280421,-0.0028479385655373335,-0.02387368492782116,0.025731932371854782,-0.07410477101802826,0.00014122037100605667,0.08704149723052979,0.010515496134757996,0.028418712317943573,-0.07052245736122131,-0.025785518810153008,0.033105719834566116,0.006497681140899658,0.00732245622202754,-0.0008005965501070023,0.04808533936738968,-0.029449300840497017,0.002436179667711258,0.025187835097312927,0.022940276190638542,-0.01782405748963356,-0.015592108480632305,-0.10019869357347488,0.010448931716382504,0.01179528795182705,0.03778521716594696,0.019194480031728745,-0.0030380378011614084,-0.00978593435138464,-0.026299044489860535,0.0021472161170095205,0.04316040873527527,0.006518804933875799,0.033910997211933136,-0.008264726027846336,0.02174997329711914,-0.0019546395633369684,0.02786671370267868,-0.05302504822611809,-0.05549495667219162,-0.011566237546503544,0.027878277003765106,-0.028804918751120567,-0.00859825685620308,-0.04084094986319542,-0.03542807325720787,0.0013987936545163393,0.01359361782670021,-0.011527699418365955,0.03201964497566223,0.03838106617331505,0.006623575929552317,0.04401513561606407,-0.0087906364351511,0.01116126962006092,0.05315543711185455,-0.054002221673727036,0.036346010863780975,0.01222472358494997,-0.022096918895840645,-0.06481369584798813,-0.012142032384872437,0.05905952677130699,0.07094138860702515,-0.007733186706900597,0.018284769728779793,-0.010170375928282738,-0.03613923862576485,0.013008087873458862,-0.04160553216934204,-0.06790343672037125,-0.04081097990274429,0.030886532738804817,0.01889471709728241,0.017558228224515915,0.03668773174285889,-0.002452189102768898,-0.02017849311232567,-0.08151540905237198,-0.038399770855903625,-0.01944664679467678,-6.1057259410762476e-33,-0.02704242803156376,-0.04831662029027939,-0.011615735478699207,-0.028781594708561897,-0.027294641360640526,-0.04315279796719551,0.02051687240600586,0.0058338455855846405,-0.0007907442050054669,0.02868042327463627,-0.04771046340465546,-0.024038447067141533,0.013020787388086319,-0.008158295415341854,-0.011507104150950909,0.03392073139548302,0.02899479866027832,0.004357054829597473,-0.02412448264658451,0.046585895121097565,0.022639570757746696,0.04175087437033653,-0.04983561486005783,-0.006960396654903889,-0.006332915276288986,0.05786053091287613,0.04739638790488243,0.010529118590056896,-0.047637999057769775,0.03631691262125969,-0.016475167125463486,0.004252840299159288,-0.01337690930813551,0.0016314872773364186,-0.008299052715301514,0.015643540769815445,-0.014410530216991901,-0.06854283809661865,0.025518089532852173,-0.007673160172998905,-0.008664402179419994,-0.051806505769491196,0.004568784032016993,-0.008062710054218769,-0.006075494922697544,0.04529116675257683,0.059883736073970795,0.011458306573331356,-0.040835727006196976,0.02405339479446411,-0.059119999408721924,0.014072064310312271,-0.0012339695822447538,0.06589818745851517,0.025419479236006737,0.07580765336751938,0.01284726895391941,0.06203603744506836,-0.02428048849105835,0.009766376577317715,-0.010954683646559715,-0.005536707118153572,0.028179632499814034,-0.010855309665203094,0.0525205172598362,0.007581834681332111,-0.031119506806135178,-0.034644994884729385,-0.044308844953775406,-0.04787643253803253,0.0034955742303282022,0.06076566502451897,0.011682586744427681,-0.06062225252389908,-0.07204446941614151,0.007415688596665859,0.03274979069828987,0.014899523928761482,0.005141646601259708,0.032498374581336975,0.04060899838805199,-0.001585177262313664,-0.045213483273983,-0.013928445056080818,-0.012181391008198261,-0.08329420536756516,-0.05104450508952141,-0.0009815660305321217,0.0045966338366270065,0.003517181146889925,-0.08304549753665924,-0.043274227529764175,-0.02536717802286148,-0.0029668372590094805,0.07987679541110992,-0.0012839857954531908,0.0261358842253685,0.01973080448806286,0.0282882172614336,0.005520686972886324,-0.03001842275261879,0.002284088172018528,0.0016966009279713035,-0.015532261691987514,0.03461111709475517,-0.0013997094938531518,-0.022835930809378624,-0.004923162516206503,-0.06707983464002609,-0.013495631515979767,-0.0007671497296541929,-0.01193444337695837,0.003896725131198764,-0.019644614309072495,0.0519963763654232,-0.006803268101066351,-0.0005916113150306046,0.027602043002843857,0.038363829255104065,0.014242587611079216,0.005284944083541632,-0.017214586958289146,-0.006707631051540375,-0.039869844913482666,-0.020135585218667984,0.008385981433093548,-0.03473731130361557,-0.0017233553808182478,0.05608585104346275,0.008505431935191154,-0.02414519526064396,-0.0031328992918133736,2.4883632931960165e-7,-0.011604543775320053,0.07298018038272858,-0.03643353283405304,-0.02462770789861679,0.03211783617734909,-0.001638706075027585,0.021418238058686256,-0.023051217198371887,0.0279096569865942,0.014081604778766632,0.04032107815146446,0.027922959998250008,0.02191760577261448,0.030091388151049614,-0.05654596537351608,0.005307568237185478,-0.013335000723600388,0.000995025155134499,-0.07006552070379257,0.0035178917460143566,0.0247364304959774,0.057979878038167953,-0.004856540821492672,0.01764555089175701,0.028674902394413948,-0.07429302483797073,-0.02669363282620907,0.0022481330670416355,0.022879965603351593,-0.040835749357938766,0.011580049060285091,0.024225592613220215,-0.02065693587064743,0.050304148346185684,-0.02097533643245697,0.02360633574426174,-0.03098803199827671,0.020058205351233482,0.020161466673016548,0.009719629772007465,0.05738876387476921,-0.03442857414484024,0.015907350927591324,-0.04436609521508217,0.05735451355576515,-0.05780617892742157,-0.03728627413511276,-0.024663904681801796,0.022411420941352844,-0.04980923607945442,0.0025064123328775167,-0.031173069030046463,0.06115734204649925,0.004643005784600973,-0.0026233065873384476,-0.007732168771326542,-0.008462410420179367,-0.015298216603696346,0.02545890398323536,-0.021129107102751732,-0.03380598500370979,-0.07101539522409439,0.0012082625180482864,0.0330781415104866,0.0682135596871376,-0.015121053904294968,0.02051638811826706,3.431911317700844e-34,0.038172587752342224,0.022616256028413773,0.029833899810910225,0.04766323044896126,0.013248251751065254,-0.027070220559835434,-0.053503233939409256,0.009008028544485569,0.07018773257732391,-0.15694038569927216,-0.019814912229776382]'
SET
  @TechnicalDesignVector_cb443684 = N'[0.002090536057949066,-0.06863752752542496,-0.031085945665836334,-0.03823060542345047,0.024490999057888985,0.013093551620841026,0.05924415960907936,-0.01240526419132948,0.006409179884940386,-0.0131445974111557,0.03063809871673584,0.03283477574586868,0.016223926097154617,0.1356956511735916,0.000866025104187429,-0.039938367903232574,0.007223542779684067,-0.009813100099563599,-0.02718953788280487,-0.02328425832092762,0.013408147729933262,-0.02710922248661518,0.014295336790382862,-0.03044508770108223,-0.033604416996240616,-0.013202015310525894,-0.05511854216456413,0.011060339398682117,0.02195199392735958,-0.04063168913125992,-0.006069163326174021,0.0202726311981678,-0.007062676828354597,0.043978918343782425,0.0000020056368157383986,-0.001447078539058566,-0.02675868384540081,0.007663946133106947,0.019198736175894737,0.015547486022114754,0.062493257224559784,-0.05378995090723038,0.02889770269393921,-0.018301410600543022,-0.00850007589906454,-0.008552376180887222,0.04754507169127464,0.003779704449698329,0.06344437599182129,-0.04449967294931412,-0.007270519156008959,0.04688359797000885,-0.03656892478466034,0.03621158376336098,-0.10013118386268616,0.08937466889619827,-0.00906355306506157,0.060838647186756134,0.04273897409439087,0.006497121881693602,-0.04432088881731033,-0.0003680057998280972,0.00976246502250433,-0.01864556036889553,0.10112231224775314,0.030738452449440956,-0.0019623073749244213,-0.07097992300987244,-0.000771791790612042,0.029566070064902306,0.11152604222297668,0.01996334083378315,0.03304063901305199,0.0005453912308439612,-0.03996706008911133,-0.011216264218091965,-0.03484056890010834,-0.02356971800327301,0.02348981238901615,-0.029788175597786903,0.02995864674448967,0.010680997744202614,-0.029211897403001785,-0.04905164986848831,0.0007489528506994247,0.01165375579148531,0.02945202961564064,-0.005572027526795864,-0.07207810878753662,-0.010592312552034855,0.01117047481238842,-0.02751055546104908,0.011089540086686611,-0.0015625995583832264,-0.07145719975233078,-0.03135677054524422,-0.0023681435268372297,-0.06505747139453888,0.011347622610628605,0.039343781769275665,0.05499650910496712,0.01407868042588234,0.004158943425863981,0.043111760169267654,0.06309159845113754,0.04183698818087578,-0.0145730497315526,-0.04201676324009895,0.018943853676319122,0.013777163811028004,-0.02100694365799427,-0.006988853681832552,-0.0033514341339468956,0.04431510344147682,-0.013153034262359142,-0.0331214964389801,-0.00994952954351902,0.05784713476896286,-0.008059249259531498,0.008063966408371925,0.03413309529423714,0.029361605644226074,0.015406152233481407,0.06252628564834595,0.012561424635350704,0.00369473360478878,-0.03424208238720894,-0.00737062469124794,0.013967123813927174,-0.027907488867640495,0.005673577077686787,0.010846287943422794,0.02819119207561016,0.004205020610243082,-0.007957437075674534,0.006693995092064142,0.06500587612390518,0.001834916532970965,0.008548512123525143,-0.03416503220796585,0.04765136539936066,-0.04437482729554176,-0.05303814262151718,-0.020912906154990196,0.01584043726325035,-0.017638836055994034,-0.003016205271705985,0.04298800975084305,-0.002048959955573082,-0.02887529693543911,-0.021482447162270546,-0.009668770246207714,-0.07471031695604324,0.011233269236981869,-0.02532939426600933,-0.001226718071848154,0.0587572380900383,0.01260044053196907,-0.021064842119812965,0.007701387163251638,0.025650527328252792,0.0032594159711152315,0.04884754866361618,0.015643460676074028,-0.024539124220609665,0.02729617804288864,0.014185036532580853,0.010855510830879211,-0.0786878764629364,0.011121828109025955,0.005008109845221043,0.004343092441558838,-0.03277246281504631,-0.011041182093322277,0.034246720373630524,0.06371534615755081,0.04477247595787048,-0.007331886328756809,-0.0014501105761155486,0.011311111971735954,0.0447118766605854,-0.04939824715256691,-0.017433037981390953,0.05136778578162193,0.07794567942619324,-0.00828823633491993,-0.026862792670726776,0.07098562270402908,-0.0043161953799426556,0.00042266337550245225,0.0008312046993523836,-0.011366686783730984,-0.020597875118255615,-0.017968351021409035,0.03736495599150658,-0.011879312805831432,-0.038350507616996765,-0.09334458410739899,0.0026817715261131525,-0.02034735679626465,-0.02171308360993862,0.019697468727827072,0.004201886244118214,0.04100249707698822,0.055685777217149734,-0.0026308491360396147,-0.07497093826532364,-0.0009041886660270393,0.012557091191411018,0.029338687658309937,0.037523575127124786,-0.006590175908058882,-0.022796321660280228,0.00747524481266737,-0.03381059691309929,-0.007256062235683203,0.031633082777261734,0.02617417834699154,-0.06358630210161209,-0.012612679973244667,-0.08367592841386795,0.0027084045577794313,0.011312440037727356,-0.0003010575019288808,-0.02861175127327442,0.029182877391576767,-0.013180608861148357,-0.010208142921328545,0.022442998364567757,0.035707734525203705,-0.0299682579934597,-0.021190067753195763,0.04660855606198311,0.039946429431438446,0.023699074983596802,0.07099435478448868,0.05335932970046997,0.04484078660607338,-0.008886788971722126,0.03658456727862358,0.008794998750090599,-0.020977353677153587,-0.02208903804421425,-0.03473343327641487,0.04906419664621353,-0.04189196601510048,-0.007277659140527248,0.022840159013867378,-0.009898493997752666,-0.03332379832863808,0.04540801793336868,0.02205861173570156,-0.005507888272404671,-0.05943004786968231,-0.02401389554142952,0.0054748025722801685,0.008957275189459324,0.03138537332415581,-0.037855543196201324,0.04853222146630287,-0.0006864861934445798,-0.011571935378015041,-0.0031921672634780407,-0.012361506000161171,-0.007007427513599396,-0.027886666357517242,0.08885142207145691,-0.0886375829577446,-0.020395677536725998,0.009396523237228394,0.013940504752099514,0.029978159815073013,0.03304382786154747,0.010029248893260956,-0.018007250502705574,0.047686781734228134,0.04110870882868767,0.008287125267088413,0.0009687034762464464,-0.02556445635855198,-0.039926063269376755,-0.04130140319466591,0.012747606262564659,-0.0006584572256542742,-0.013622635044157505,0.02764475904405117,0.03201358765363693,-0.024325791746377945,0.022657277062535286,-0.0440855547785759,-0.03582078590989113,0.01766081340610981,0.019919056445360184,-0.03646305948495865,-0.01475654635578394,0.021500088274478912,0.004466483369469643,0.10805061459541321,-0.04712095856666565,0.0668402686715126,-0.0104334382340312,-0.05285027623176575,0.003394646104425192,-0.018968839198350906,-0.033091649413108826,0.07718067616224289,-0.025124046951532364,0.010680249892175198,-0.0021624902728945017,0.05117064341902733,0.03295561298727989,0.0021229013800621033,-0.02349884994328022,-0.004893945064395666,0.0011316068703308702,-0.003519879886880517,0.004127375781536102,-0.03485274314880371,-0.03941171243786812,0.08856721967458725,-0.0066235605627298355,-0.011120175011456013,0.03009319119155407,-0.019459843635559082,-0.032379183918237686,0.008814417757093906,-0.0485168881714344,-0.03059319220483303,-0.060980528593063354,-0.021649103611707687,0.017991619184613228,-0.06689044088125229,-0.023819273337721825,-0.007241431623697281,0.029387185350060463,0.011240188032388687,-0.04458172246813774,-0.10640858858823776,0.030701857060194016,-0.043530210852622986,0.004425164312124252,-0.02299761027097702,-0.012027746997773647,0.11229310184717178,0.012052864767611027,0.00021163008932489902,-0.0014198903227224946,-0.025976868346333504,-0.07284141331911087,-0.00014565588207915425,0.0389891192317009,0.047438845038414,-0.024950820952653885,-0.0024073165841400623,-0.009905814193189144,0.041783060878515244,-0.030705036595463753,0.04066813364624977,-0.03067546710371971,-0.03783133998513222,0.06255622953176498,0.026419246569275856,0.011659163981676102,-0.045653149485588074,-0.06565719842910767,0.021305454894900322,0.03530785068869591,-0.00863213837146759,-0.029942959547042847,-0.02329227142035961,0.01654784567654133,0.006699923891574144,0.0019598398357629776,0.014697964303195477,-0.011432358995079994,-0.07389068603515625,0.0204064529389143,0.012992320582270622,-0.023636890575289726,0.028872817754745483,0.054453831166028976,-0.07523715496063232,0.04824666306376457,0.00020206444605719298,0.06591980904340744,-0.03546362370252609,-0.02309475839138031,0.02637244388461113,-0.022030480206012726,0.1017727479338646,0.0013336521806195378,-0.04244041442871094,0.0003685837727971375,-0.06466946750879288,0.003850863315165043,-0.047983791679143906,-0.0379490852355957,-0.005792984738945961,0.0042447191663086414,0.015528491698205471,0.013918766751885414,0.013826243579387665,-0.011873878538608551,-0.04281861335039139,-0.0075100259855389595,0.018726257607340813,0.0012743024853989482,0.02327987365424633,-0.00100097490940243,0.01726352982223034,-0.0071823978796601295,0.08149891346693039,-0.021377775818109512,-0.04344361647963524,-0.010828224010765553,-0.0035831958521157503,0.0037877014838159084,-0.03626816347241402,0.022945795208215714,0.01408736128360033,0.01016581617295742,-0.026423728093504906,0.05440047010779381,-0.027067523449659348,0.024739157408475876,-0.03785714507102966,0.0036221477203071117,-0.010698435828089714,-0.015436430461704731,0.011171371676027775,-0.006906719412654638,-0.005735922604799271,0.017867732793092728,0.03568757697939873,0.03614689037203789,-0.04600288346409798,-0.014428936876356602,-0.0023150495253503323,0.0058274585753679276,-0.022812645882368088,-0.004775387234985828,0.0017521368572488427,0.07684387266635895,0.030784694477915764,-0.006119659636169672,-0.0214331466704607,-0.0407349169254303,-0.04857886582612991,-0.01381779182702303,0.03987405449151993,0.03061981499195099,0.013648118823766708,-0.0039216941222548485,-0.0095260851085186,-0.03355041518807411,-0.02862556092441082,-0.059140633791685104,0.004790411796420813,-0.04192236438393593,0.09627057611942291,0.050764620304107666,0.03621092811226845,-0.0022404154296964407,0.01805144175887108,-0.028222432360053062,0.06607759743928909,0.060145653784275055,-0.08322221040725708,0.03168870881199837,-0.03580061346292496,-0.00520637771114707,-0.014412692748010159,-0.02287488617002964,-0.029227837920188904,0.026120495051145554,0.017552223056554794,-0.01800243742763996,0.016023987904191017,0.027586985379457474,-0.019977208226919174,0.04894570633769035,0.011256115511059761,0.014809091575443745,-0.03350048512220383,-0.009548215195536613,-0.011466283351182938,-0.012175659649074078,-0.0009053868125192821,-0.026646025478839874,0.03458638861775398,-0.03730568662285805,-0.011473754420876503,0.024801844730973244,0.11008785665035248,0.0703863725066185,-0.015926511958241463,-0.023204978555440903,0.011609180830419064,0.03880496323108673,-0.03900843858718872,0.010098302736878395,0.026478812098503113,0.012662200257182121,0.01714688166975975,-0.018990930169820786,0.033192284405231476,-0.01632101833820343,-0.030797308310866356,0.0021536697167903185,-0.03308617323637009,-0.008341317065060139,-0.0016170792514458299,-0.056654516607522964,-0.0035688914358615875,-0.0018448494374752045,0.0021908441558480263,-0.035341985523700714,0.056173499673604965,0.045187413692474365,-0.04232899844646454,0.013134797103703022,0.007038072682917118,0.005567176267504692,-0.02627391554415226,0.07363837957382202,-0.019841810688376427,0.020169012248516083,0.006119573954492807,0.0500335656106472,0.012969808652997017,0.02587902545928955,0.004987066145986319,-0.021929709240794182,-0.03806784376502037,-0.04439552128314972,0.04824333265423775,0.044145066291093826,0.10344401001930237,-0.018964573740959167,-0.018556125462055206,-0.0500420406460762,-0.022579466924071312,-0.0517503060400486,0.006244273856282234,-0.020970670506358147,-0.03209199756383896,-0.01449933834373951,-0.029264124110341072,0.059235021471977234,0.01574154756963253,0.010096891783177853,-0.02244452014565468,-0.1367940902709961,-0.055121347308158875,0.056430328637361526,-6.840104649150948e-33,0.0010598043445497751,-0.0569809228181839,0.02033896930515766,-0.044756535440683365,-0.08203921467065811,0.023223809897899628,0.0054578520357608795,-0.02235308289527893,-0.006195741705596447,-0.002776838606223464,0.0016424382338300347,0.009835515171289444,0.005599696189165115,-0.008620266802608967,-0.01372372917830944,0.05415952950716019,0.011693079955875874,-0.015070305205881596,-0.04204203933477402,0.036640480160713196,0.01033874787390232,0.0419820137321949,-0.050572719424963,-0.02982363849878311,-0.014125030487775803,-0.002567601390182972,0.03484518453478813,0.013102211989462376,-0.06166180223226547,0.03148765116930008,-0.029864517971873283,-0.008442115038633347,-0.030696803703904152,0.06354531645774841,0.0065689547918736935,-0.0005256662261672318,-0.05642368644475937,-0.01958511769771576,0.03504583239555359,0.008493093773722649,-0.044370315968990326,-0.01480791624635458,0.025785863399505615,-0.02836320362985134,-0.0006302039255388081,-0.004537992645055056,0.03354696184396744,0.021816708147525787,-0.04176628217101097,0.000841316010337323,-0.018977370113134384,0.02068847417831421,-0.024720491841435432,0.08054786175489426,0.052631452679634094,0.00894477404654026,0.02629994973540306,0.045193303376436234,-0.046214304864406586,0.03279365599155426,-0.10863099992275238,-0.06657152622938156,-0.000747060461435467,0.01818244718015194,0.043686557561159134,0.031648900359869,-0.021032271906733513,0.028446007519960403,-0.04080592095851898,0.0022000472526997328,-0.0018197284080088139,0.06670117378234863,0.016996055841445923,-0.07344276458024979,-0.06552895158529282,0.02824615128338337,0.041784435510635376,-0.026951903477311134,-0.018468430265784264,0.00016884869546629488,0.004091221839189529,-0.009831779636442661,-0.0005858354852534831,-0.0036796380300074816,0.01145358756184578,-0.0797860249876976,-0.017234548926353455,-0.012572082690894604,0.017274875193834305,0.01098706852644682,-0.05304655432701111,-0.008053245954215527,-0.012490453198552132,-0.041111771017313004,0.08806739747524261,0.016114724799990654,0.011981342919170856,0.027571910992264748,0.0035320480819791555,-0.014735032804310322,0.014427248388528824,0.009167877957224846,-0.03774041309952736,-0.007602549623697996,0.015630275011062622,-0.022239800542593002,-0.01070394180715084,-0.005810528062283993,-0.029290691018104553,0.020796243101358414,0.008338802494108677,0.022338896989822388,0.003926515579223633,-0.043890148401260376,0.001136760343797505,-0.011383919976651669,0.021775778383016586,-0.005325873848050833,0.054537683725357056,0.06145462021231651,0.04337713122367859,-0.05001465603709221,-0.03323404863476753,-0.010404102504253387,-0.007905155420303345,0.02135651558637619,-0.05985988304018974,0.03002350963652134,0.02026829868555069,0.0023933856282383204,-0.017328813672065735,-0.004174755420535803,2.7306094807499903e-7,-0.04222062975168228,0.09436627477407455,-0.012698831968009472,-0.04513437673449516,0.03146466612815857,-0.0163279939442873,0.026954349130392075,-0.016689734533429146,-0.010547541081905365,0.03260941058397293,0.0030246993992477655,0.03541489318013191,0.02861439809203148,0.00765950046479702,-0.02255364879965782,0.005156099796295166,-0.035694919526576996,-0.03415866568684578,-0.05119062587618828,-0.011683231219649315,-0.025570610538125038,0.023497572168707848,0.0676804929971695,0.0009176506428048015,0.005923005752265453,-0.009070809930562973,-0.011525971814990044,0.05387814715504646,0.017033006995916367,-0.03127829730510712,0.006355527322739363,0.04673467203974724,-0.022297143936157227,-0.0033156685531139374,-0.01025021355599165,-0.0005776557954959571,-0.05453391373157501,-0.03438691422343254,-0.001386944204568863,0.06264656782150269,0.07150429487228394,-0.03810115531086922,-0.03183594346046448,0.001402208348736167,0.021159127354621887,-0.022210177034139633,-0.05146602913737297,0.0017223197501152754,-0.017629623413085938,-0.045540954917669296,-0.004363212734460831,-0.03932485729455948,0.021600715816020966,-0.0076415883377194405,-0.02450631372630596,-0.03057152032852173,0.012004509568214417,0.04421414062380791,0.04661862552165985,0.007254393305629492,0.001740007777698338,-0.08782205730676651,0.01144592184573412,0.08950815349817276,0.06598208844661713,0.011951695196330547,-0.013864550739526749,3.6256814595293207e-34,0.03630221635103226,-0.015003262087702751,0.004022917244583368,0.06513942778110504,0.012355023063719273,-0.05414979159832001,-0.0012839436531066895,-0.018741589039564133,0.02537745237350464,-0.10047098249197006,-0.025848286226391792]'
SET
  @HasCustomProps_cb443684 = 0
SET
  @HasCustomEvents_cb443684 = 1
SET
  @RequiresData_cb443684 = 1
SET
  @DependencyCount_cb443684 = 5
SET
  @TechnicalDesignVectorEmbeddingModelID_cb443684 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_cb443684 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_cb443684 = 0
SET
  @ID_cb443684 = '913FC220-BE2B-4EE6-AFF5-8DD9B4C6C7E4'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_cb443684,
  @Name = @Name_cb443684,
  @Version = @Version_cb443684,
  @VersionSequence = @VersionSequence_cb443684,
  @Title = @Title_cb443684,
  @Description = @Description_cb443684,
  @Type = @Type_cb443684,
  @Status = @Status_cb443684,
  @DeveloperName = @DeveloperName_cb443684,
  @DeveloperEmail = @DeveloperEmail_cb443684,
  @DeveloperOrganization = @DeveloperOrganization_cb443684,
  @SourceRegistryID = @SourceRegistryID_cb443684,
  @ReplicatedAt = @ReplicatedAt_cb443684,
  @LastSyncedAt = @LastSyncedAt_cb443684,
  @Specification = @Specification_cb443684,
  @FunctionalRequirements = @FunctionalRequirements_cb443684,
  @TechnicalDesign = @TechnicalDesign_cb443684,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_cb443684,
  @TechnicalDesignVector = @TechnicalDesignVector_cb443684,
  @HasCustomProps = @HasCustomProps_cb443684,
  @HasCustomEvents = @HasCustomEvents_cb443684,
  @RequiresData = @RequiresData_cb443684,
  @DependencyCount = @DependencyCount_cb443684,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_cb443684,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_cb443684,
  @HasRequiredCustomProps = @HasRequiredCustomProps_cb443684,
  @ID = @ID_cb443684;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_7791736b NVARCHAR(MAX),
@Name_7791736b NVARCHAR(500),
@Version_7791736b NVARCHAR(50),
@VersionSequence_7791736b INT,
@Title_7791736b NVARCHAR(1000),
@Description_7791736b NVARCHAR(MAX),
@Type_7791736b NVARCHAR(255),
@Status_7791736b NVARCHAR(50),
@DeveloperName_7791736b NVARCHAR(255),
@DeveloperEmail_7791736b NVARCHAR(255),
@DeveloperOrganization_7791736b NVARCHAR(255),
@SourceRegistryID_7791736b UNIQUEIDENTIFIER,
@ReplicatedAt_7791736b DATETIMEOFFSET,
@LastSyncedAt_7791736b DATETIMEOFFSET,
@Specification_7791736b NVARCHAR(MAX),
@FunctionalRequirements_7791736b NVARCHAR(MAX),
@TechnicalDesign_7791736b NVARCHAR(MAX),
@FunctionalRequirementsVector_7791736b NVARCHAR(MAX),
@TechnicalDesignVector_7791736b NVARCHAR(MAX),
@HasCustomProps_7791736b BIT,
@HasCustomEvents_7791736b BIT,
@RequiresData_7791736b BIT,
@DependencyCount_7791736b INT,
@TechnicalDesignVectorEmbeddingModelID_7791736b NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_7791736b NVARCHAR(MAX),
@HasRequiredCustomProps_7791736b BIT,
@ID_7791736b UNIQUEIDENTIFIER
SET
  @Namespace_7791736b = N'AI/Analytics'
SET
  @Name_7791736b = N'AIPromptsClusterGraph'
SET
  @Version_7791736b = N'1.0.0'
SET
  @VersionSequence_7791736b = 1
SET
  @Title_7791736b = N'AI Prompts Cluster Graph'
SET
  @Description_7791736b = N'D3.js force-directed graph visualization showing prompt clusters based on semantic similarity'
SET
  @Type_7791736b = N'Chart'
SET
  @Status_7791736b = N'Published'
SET
  @Specification_7791736b = N'{"name":"AIPromptsClusterGraph","title":"AI Prompts Cluster Graph","description":"D3.js force-directed graph visualization showing prompt clusters based on semantic similarity","type":"chart","location":"embedded","code":"function AIPromptsClusterGraph({\n  prompts,\n  clusters,\n  clusterNames = {},\n  selectedPromptId,\n  similarityThreshold = 0.7,\n  highlightCluster,\n  onNodeClick,\n  onNodeHover,\n  onClusterSelect,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  const svgRef = useRef(null);\n  const containerRef = useRef(null);\n  const [dimensions, setDimensions] = useState({ width: 800, height: 600 });\n  const [hoveredNode, setHoveredNode] = useState(null);\n  const currentTransform = useRef(null);\n  \n  // Initialize zoom behavior once, outside useEffect\n  const zoomBehavior = useRef(null);\n  if (!zoomBehavior.current && typeof d3 !== ''undefined'') {\n    zoomBehavior.current = d3.zoom()\n      .scaleExtent([0.1, 10])\n      .on(''zoom'', (event) => {\n        currentTransform.current = event.transform;\n        if (containerRef.current) {\n          containerRef.current.attr(''transform'', event.transform);\n        }\n      });\n  }\n  \n  // Modern gradient color palette for clusters\n  const clusterColors = [\n    ''linear-gradient(135deg, #667eea 0%, #764ba2 100%)'',\n    ''linear-gradient(135deg, #f093fb 0%, #f5576c 100%)'',\n    ''linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)'',\n    ''linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)'',\n    ''linear-gradient(135deg, #fa709a 0%, #fee140 100%)'',\n    ''linear-gradient(135deg, #30cfd0 0%, #330867 100%)'',\n    ''linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)'',\n    ''linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)'',\n    ''linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%)'',\n    ''linear-gradient(135deg, #fdcbf1 0%, #e6dee9 100%)''\n  ];\n  \n  // Solid colors for D3 (gradients will be defined in defs)\n  const solidColors = [\n    ''#667eea'', ''#f093fb'', ''#4facfe'', ''#43e97b'', ''#fa709a'',\n    ''#30cfd0'', ''#a8edea'', ''#ff9a9e'', ''#fbc2eb'', ''#fdcbf1''\n  ];\n\n  // Update dimensions on mount and resize\n  useEffect(() => {\n    const updateDimensions = () => {\n      if (svgRef.current && svgRef.current.parentElement) {\n        const { width, height } = svgRef.current.parentElement.getBoundingClientRect();\n        setDimensions({ width, height });\n      }\n    };\n\n    updateDimensions();\n    window.addEventListener(''resize'', updateDimensions);\n    return () => window.removeEventListener(''resize'', updateDimensions);\n  }, []);\n\n  // Create D3 visualization\n  useEffect(() => {\n    if (!prompts || prompts.length === 0 || !svgRef.current) return;\n\n    const svg = d3.select(svgRef.current);\n    svg.selectAll(''*'').remove(); // Clear previous visualization\n\n    const width = dimensions.width;\n    const height = dimensions.height;\n\n    // Create container for zoom/pan first\n    const container = svg.append(''g'');\n    containerRef.current = container;\n    \n    // Apply zoom behavior to svg (it''s already initialized in component)\n    if (zoomBehavior.current) {\n      // Update the zoom handler to use the new container\n      zoomBehavior.current.on(''zoom'', (event) => {\n        currentTransform.current = event.transform;\n        container.attr(''transform'', event.transform);\n      });\n      \n      svg.call(zoomBehavior.current);\n    }\n    \n    // Apply saved transform if it exists\n    if (currentTransform.current) {\n      svg.call(zoomBehavior.current.transform, currentTransform.current);\n      container.attr(''transform'', currentTransform.current);\n    }\n    \n    // Add gradient definitions\n    const defs = svg.append(''defs'');\n    \n    // Create gradients for each cluster\n    solidColors.forEach((color, i) => {\n      const gradient = defs.append(''radialGradient'')\n        .attr(''id'', `cluster-gradient-$' + '{i}`)\n        .attr(''cx'', ''30%'')\n        .attr(''cy'', ''30%'');\n      \n      gradient.append(''stop'')\n        .attr(''offset'', ''0%'')\n        .attr(''stop-color'', color)\n        .attr(''stop-opacity'', 0.8);\n      \n      gradient.append(''stop'')\n        .attr(''offset'', ''100%'')\n        .attr(''stop-color'', d3.color(color).darker(0.5))\n        .attr(''stop-opacity'', 1);\n    });\n    \n    // Add glow filter\n    const filter = defs.append(''filter'')\n      .attr(''id'', ''glow'');\n    \n    filter.append(''feGaussianBlur'')\n      .attr(''stdDeviation'', ''3'')\n      .attr(''result'', ''coloredBlur'');\n    \n    const feMerge = filter.append(''feMerge'');\n    feMerge.append(''feMergeNode'')\n      .attr(''in'', ''coloredBlur'');\n    feMerge.append(''feMergeNode'')\n      .attr(''in'', ''SourceGraphic'');\n    \n    // Add strong glow for selection\n    const selectionFilter = defs.append(''filter'')\n      .attr(''id'', ''selection-glow'')\n      .attr(''width'', ''300%'')\n      .attr(''height'', ''300%'')\n      .attr(''x'', ''-100%'')\n      .attr(''y'', ''-100%'');\n    \n    selectionFilter.append(''feGaussianBlur'')\n      .attr(''stdDeviation'', ''8'')\n      .attr(''result'', ''coloredBlur'');\n    \n    const selectionMerge = selectionFilter.append(''feMerge'');\n    selectionMerge.append(''feMergeNode'')\n      .attr(''in'', ''coloredBlur'');\n    selectionMerge.append(''feMergeNode'')\n      .attr(''in'', ''SourceGraphic'');\n\n    // Calculate similarities between all nodes\n    const links = [];\n    const vectorService = utilities.ai.VectorService;\n    \n    // Load vectors into the service for similarity calculations\n    const vectorMap = new Map();\n    prompts.forEach(prompt => {\n      if (prompt.embedding) {\n        vectorMap.set(prompt.ID, prompt.embedding);\n      }\n    });\n    vectorService.LoadVectors(vectorMap);\n    \n    for (let i = 0; i < prompts.length; i++) {\n      for (let j = i + 1; j < prompts.length; j++) {\n        if (prompts[i].embedding && prompts[j].embedding) {\n          // Use CalculateDistance with cosine metric (returns distance, so we need to convert to similarity)\n          const distance = vectorService.CalculateDistance(\n            prompts[i].embedding,\n            prompts[j].embedding,\n            ''cosine''\n          );\n          const similarity = 1 - distance; // Convert distance to similarity\n          \n          if (similarity >= similarityThreshold) {\n            links.push({\n              source: prompts[i].ID,\n              target: prompts[j].ID,\n              value: similarity\n            });\n          }\n        }\n      }\n    }\n\n    // Create force simulation\n    const simulation = d3.forceSimulation(prompts)\n      .force(''link'', d3.forceLink(links)\n        .id(d => d.ID)\n        .distance(d => 100 * (1 - d.value)) // Distance inversely proportional to similarity\n        .strength(d => d.value * 0.5))\n      .force(''charge'', d3.forceManyBody()\n        .strength(-200)\n        .distanceMax(300))\n      .force(''center'', d3.forceCenter(width / 2, height / 2))\n      .force(''collision'', d3.forceCollide().radius(25))\n      .force(''cluster'', forceCluster()); // Custom clustering force\n\n    // Custom force to pull nodes toward their cluster center\n    function forceCluster() {\n      const strength = 0.2;\n      let nodes;\n      \n      function force(alpha) {\n        const centroids = d3.rollup(\n          nodes,\n          v => ({\n            x: d3.mean(v, d => d.x),\n            y: d3.mean(v, d => d.y),\n            count: v.length\n          }),\n          d => d.cluster\n        );\n        \n        nodes.forEach(node => {\n          const centroid = centroids.get(node.cluster);\n          if (centroid && centroid.count > 1) {\n            node.vx -= (node.x - centroid.x) * strength * alpha;\n            node.vy -= (node.y - centroid.y) * strength * alpha;\n          }\n        });\n      }\n      \n      force.initialize = function(_) {\n        nodes = _;\n      };\n      \n      return force;\n    }\n\n    // Draw links with modern styling\n    const link = container.append(''g'')\n      .attr(''class'', ''links'')\n      .selectAll(''line'')\n      .data(links)\n      .enter().append(''line'')\n      .attr(''stroke'', ''url(#link-gradient)'')\n      .attr(''stroke-opacity'', d => d.value * 0.2)\n      .attr(''stroke-width'', d => Math.max(0.5, d.value * 2))\n      .attr(''stroke-linecap'', ''round'');\n    \n    // Add gradient for links\n    const linkGradient = defs.append(''linearGradient'')\n      .attr(''id'', ''link-gradient'')\n      .attr(''gradientUnits'', ''userSpaceOnUse'');\n    \n    linkGradient.append(''stop'')\n      .attr(''offset'', ''0%'')\n      .attr(''stop-color'', ''#e0e0e0'')\n      .attr(''stop-opacity'', 0.3);\n    \n    linkGradient.append(''stop'')\n      .attr(''offset'', ''50%'')\n      .attr(''stop-color'', ''#c0c0c0'')\n      .attr(''stop-opacity'', 0.5);\n    \n    linkGradient.append(''stop'')\n      .attr(''offset'', ''100%'')\n      .attr(''stop-color'', ''#e0e0e0'')\n      .attr(''stop-opacity'', 0.3);\n\n    // Create node groups\n    const node = container.append(''g'')\n      .attr(''class'', ''nodes'')\n      .selectAll(''g'')\n      .data(prompts)\n      .enter().append(''g'')\n      .attr(''cursor'', ''pointer'')\n      .call(d3.drag()\n        .on(''start'', dragstarted)\n        .on(''drag'', dragged)\n        .on(''end'', dragended));\n\n    // Add shadow circles\n    node.append(''circle'')\n      .attr(''r'', d => {\n        const textLength = d.TemplateText?.length || 0;\n        return Math.min(25, Math.max(12, Math.sqrt(textLength / 40))) + 2;\n      })\n      .attr(''fill'', ''black'')\n      .attr(''opacity'', 0.1)\n      .attr(''transform'', ''translate(2, 2)'');\n    \n    // Add main circles for nodes with modern styling\n    node.append(''circle'')\n      .attr(''class'', ''node-circle'')\n      .attr(''r'', d => {\n        // Size based on template text length\n        const textLength = d.TemplateText?.length || 0;\n        return Math.min(25, Math.max(12, Math.sqrt(textLength / 40)));\n      })\n      .attr(''fill'', d => {\n        if (highlightCluster !== null && d.cluster !== highlightCluster) {\n          return ''#f5f5f5'';\n        }\n        return `url(#cluster-gradient-$' + '{d.cluster % solidColors.length})`;\n      })\n      .attr(''stroke'', d => {\n        if (d.ID === selectedPromptId) return ''#00ff88''; // Neon green for selection\n        if (d.ID === hoveredNode) return solidColors[d.cluster % solidColors.length];\n        return ''white'';\n      })\n      .attr(''stroke-width'', d => {\n        if (d.ID === selectedPromptId) return 5;\n        if (d.ID === hoveredNode) return 3;\n        return 2;\n      })\n      .attr(''opacity'', d => {\n        if (highlightCluster !== null && d.cluster !== highlightCluster) {\n          return 0.2;\n        }\n        return 1;\n      })\n      .attr(''filter'', d => {\n        if (d.ID === selectedPromptId) return ''url(#selection-glow)'';\n        if (d.ID === hoveredNode) return ''url(#glow)'';\n        return null;\n      })\n      .style(''transition'', ''all 0.3s ease'');\n\n    // Add labels with modern typography\n    const labels = node.append(''foreignObject'')\n      .attr(''x'', -45)\n      .attr(''y'', -40)\n      .attr(''width'', 90)\n      .attr(''height'', 28)\n      .attr(''pointer-events'', ''none'');\n    \n    labels.append(''xhtml:div'')\n      .style(''text-align'', ''center'')\n      .style(''font-size'', ''12px'')\n      .style(''font-weight'', ''500'')\n      .style(''color'', ''#2d3748'')\n      .style(''line-height'', ''14px'')\n      .style(''overflow'', ''hidden'')\n      .style(''text-overflow'', ''ellipsis'')\n      .style(''display'', ''-webkit-box'')\n      .style(''-webkit-line-clamp'', ''2'')\n      .style(''-webkit-box-orient'', ''vertical'')\n      .style(''text-shadow'', ''0 1px 2px rgba(255,255,255,0.8)'')\n      .text(d => d.Name || ''Unnamed'');\n\n    // Add modern tooltips\n    const tooltip = d3.select(''body'').append(''div'')\n      .attr(''class'', ''graph-tooltip'')\n      .style(''opacity'', 0)\n      .style(''position'', ''absolute'')\n      .style(''padding'', ''12px'')\n      .style(''background'', ''linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(249,250,251,0.98) 100%)'')\n      .style(''color'', ''#2d3748'')\n      .style(''border-radius'', ''12px'')\n      .style(''pointer-events'', ''none'')\n      .style(''font-size'', ''13px'')\n      .style(''max-width'', ''320px'')\n      .style(''box-shadow'', ''0 10px 40px rgba(0,0,0,0.15), 0 2px 10px rgba(0,0,0,0.1)'')\n      .style(''border'', ''1px solid rgba(255,255,255,0.8)'')\n      .style(''backdrop-filter'', ''blur(10px)'');\n\n    // Node interactions\n    node\n      .on(''click'', (event, d) => {\n        event.stopPropagation();\n        onNodeClick(d);\n      })\n      .on(''mouseover'', (event, d) => {\n        setHoveredNode(d.ID);\n        onNodeHover(d);\n        \n        tooltip.transition()\n          .duration(200)\n          .style(''opacity'', .9);\n        \n        tooltip.html(`\n          <div style=\"font-weight: 600; margin-bottom: 8px; color: #1a202c; font-size: 14px;\">$' + '{d.Name}</div>\n          <div style=\"display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 8px;\">\n            <span style=\"padding: 2px 8px; background: #edf2f7; border-radius: 4px; font-size: 11px;\">\n              $' + '{d.Category || ''No Category''}\n            </span>\n            <span style=\"padding: 2px 8px; background: #edf2f7; border-radius: 4px; font-size: 11px;\">\n              $' + '{d.Type || ''No Type''}\n            </span>\n            <span style=\"padding: 2px 8px; background: $' + '{solidColors[d.cluster % solidColors.length]}20; border-radius: 4px; font-size: 11px; color: $' + '{solidColors[d.cluster % solidColors.length]};\">\n              Cluster $' + '{d.cluster + 1}\n            </span>\n          </div>\n          $' + '{d.Description ? `<div style=\"font-size: 12px; color: #4a5568; line-height: 1.4;\">$' + '{d.Description.substring(0, 120)}$' + '{d.Description.length > 120 ? ''...'' : ''''}</div>` : ''''}\n        `)\n          .style(''left'', (event.pageX + 10) + ''px'')\n          .style(''top'', (event.pageY - 28) + ''px'');\n      })\n      .on(''mouseout'', () => {\n        setHoveredNode(null);\n        tooltip.transition()\n          .duration(500)\n          .style(''opacity'', 0);\n      });\n\n    // Click on background to deselect\n    svg.on(''click'', () => {\n      onNodeClick(null);\n    });\n\n    // Update positions on simulation tick\n    simulation.on(''tick'', () => {\n      link\n        .attr(''x1'', d => d.source.x)\n        .attr(''y1'', d => d.source.y)\n        .attr(''x2'', d => d.target.x)\n        .attr(''y2'', d => d.target.y);\n\n      node.attr(''transform'', d => `translate($' + '{d.x},$' + '{d.y})`);\n    });\n\n    // Drag functions\n    function dragstarted(event, d) {\n      if (!event.active) simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    }\n\n    function dragged(event, d) {\n      d.fx = event.x;\n      d.fy = event.y;\n    }\n\n    function dragended(event, d) {\n      if (!event.active) simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    }\n\n    // Cleanup on unmount\n    return () => {\n      simulation.stop();\n      tooltip.remove();\n    };\n  }, [prompts, clusters, selectedPromptId, similarityThreshold, highlightCluster, dimensions]);\n\n  // Zoom control functions - don''t use useCallback to ensure we have current refs\n  const handleZoomIn = () => {\n    if (!svgRef.current || !zoomBehavior.current) {\n      console.warn(''Zoom in - refs not ready'');\n      return;\n    }\n    \n    const svg = d3.select(svgRef.current);\n    const currentZoom = currentTransform.current ? currentTransform.current.k : 1;\n    const newZoom = Math.min(currentZoom * 1.5, 10);\n    \n    svg.transition()\n      .duration(300)\n      .call(zoomBehavior.current.scaleTo, newZoom);\n  };\n  \n  const handleZoomOut = () => {\n    if (!svgRef.current || !zoomBehavior.current) {\n      console.warn(''Zoom out - refs not ready'');\n      return;\n    }\n    \n    const svg = d3.select(svgRef.current);\n    const currentZoom = currentTransform.current ? currentTransform.current.k : 1;\n    const newZoom = Math.max(currentZoom / 1.5, 0.1);\n    \n    svg.transition()\n      .duration(300)\n      .call(zoomBehavior.current.scaleTo, newZoom);\n  };\n  \n  const handleResetZoom = () => {\n    if (!svgRef.current || !zoomBehavior.current) {\n      console.warn(''Reset zoom - refs not ready'');\n      return;\n    }\n    \n    const svg = d3.select(svgRef.current);\n    svg.transition()\n      .duration(300)\n      .call(zoomBehavior.current.transform, d3.zoomIdentity);\n    currentTransform.current = d3.zoomIdentity;\n  };\n  \n  // Cluster legend\n  const uniqueClusters = useMemo(() => {\n    if (!clusters || clusters.length === 0) return [];\n    const clusterSet = new Set(clusters.map(p => p.cluster));\n    return Array.from(clusterSet).sort((a, b) => a - b);\n  }, [clusters]);\n\n  return (\n    <div style={{ \n      width: ''100%'', \n      height: ''100%'', \n      position: ''relative'',\n      background: ''linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'',\n      borderRadius: ''16px'',\n      overflow: ''hidden''\n    }}>\n      <svg\n        ref={svgRef}\n        width={dimensions.width}\n        height={dimensions.height}\n        style={{ width: ''100%'', height: ''100%'' }}\n      />\n      \n      {/* Modern Zoom Controls */}\n      <div style={{\n        position: ''absolute'',\n        top: ''20px'',\n        left: ''20px'',\n        display: ''flex'',\n        flexDirection: ''column'',\n        gap: ''8px'',\n        zIndex: 10\n      }}>\n        <button\n          onClick={handleZoomIn}\n          style={{\n            width: ''40px'',\n            height: ''40px'',\n            borderRadius: ''10px'',\n            border: ''none'',\n            backgroundColor: ''rgba(255, 255, 255, 0.95)'',\n            color: ''#4a5568'',\n            cursor: ''pointer'',\n            fontSize: ''18px'',\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''center'',\n            boxShadow: ''0 2px 8px rgba(0,0,0,0.1)'',\n            transition: ''all 0.2s ease''\n          }}\n          onMouseEnter={e => e.currentTarget.style.transform = ''scale(1.1)''}\n          onMouseLeave={e => e.currentTarget.style.transform = ''scale(1)''}\n          title=\"Zoom In\"\n        >\n          <i className=\"fa-solid fa-plus\"></i>\n        </button>\n        \n        <button\n          onClick={handleZoomOut}\n          style={{\n            width: ''40px'',\n            height: ''40px'',\n            borderRadius: ''10px'',\n            border: ''none'',\n            backgroundColor: ''rgba(255, 255, 255, 0.95)'',\n            color: ''#4a5568'',\n            cursor: ''pointer'',\n            fontSize: ''18px'',\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''center'',\n            boxShadow: ''0 2px 8px rgba(0,0,0,0.1)'',\n            transition: ''all 0.2s ease''\n          }}\n          onMouseEnter={e => e.currentTarget.style.transform = ''scale(1.1)''}\n          onMouseLeave={e => e.currentTarget.style.transform = ''scale(1)''}\n          title=\"Zoom Out\"\n        >\n          <i className=\"fa-solid fa-minus\"></i>\n        </button>\n        \n        <button\n          onClick={handleResetZoom}\n          style={{\n            width: ''40px'',\n            height: ''40px'',\n            borderRadius: ''10px'',\n            border: ''none'',\n            backgroundColor: ''rgba(255, 255, 255, 0.95)'',\n            color: ''#4a5568'',\n            cursor: ''pointer'',\n            fontSize: ''16px'',\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''center'',\n            boxShadow: ''0 2px 8px rgba(0,0,0,0.1)'',\n            transition: ''all 0.2s ease''\n          }}\n          onMouseEnter={e => e.currentTarget.style.transform = ''scale(1.1)''}\n          onMouseLeave={e => e.currentTarget.style.transform = ''scale(1)''}\n          title=\"Reset View\"\n        >\n          <i className=\"fa-solid fa-expand\"></i>\n        </button>\n      </div>\n      \n      {/* Modern Cluster Legend */}\n      <div style={{\n        position: ''absolute'',\n        top: ''20px'',\n        right: ''20px'',\n        backgroundColor: ''rgba(255, 255, 255, 0.95)'',\n        padding: ''16px'',\n        borderRadius: ''12px'',\n        fontSize: ''13px'',\n        boxShadow: ''0 4px 12px rgba(0,0,0,0.08)'',\n        backdropFilter: ''blur(10px)'',\n        minWidth: ''200px'',\n        maxWidth: ''280px''\n      }}>\n        <div style={{ \n          fontWeight: ''600'', \n          marginBottom: ''12px'',\n          color: ''#2d3748'',\n          fontSize: ''14px''\n        }}>\n          Clusters\n        </div>\n        {uniqueClusters.map(cluster => {\n          const clusterName = clusterNames[cluster] || `Cluster $' + '{cluster + 1}`;\n          return (\n            <div\n              key={cluster}\n              style={{\n                display: ''flex'',\n                alignItems: ''flex-start'',\n                marginBottom: ''10px'',\n                cursor: ''pointer'',\n                opacity: highlightCluster !== null && highlightCluster !== cluster ? 0.4 : 1,\n                transition: ''all 0.2s ease'',\n                padding: ''6px 8px'',\n                borderRadius: ''6px'',\n                backgroundColor: highlightCluster === cluster ? `$' + '{solidColors[cluster % solidColors.length]}15` : ''transparent''\n              }}\n              onClick={() => onClusterSelect(cluster)}\n              onMouseEnter={e => e.currentTarget.style.backgroundColor = `$' + '{solidColors[cluster % solidColors.length]}10`}\n              onMouseLeave={e => e.currentTarget.style.backgroundColor = highlightCluster === cluster ? `$' + '{solidColors[cluster % solidColors.length]}15` : ''transparent''}\n              title={clusterName}\n            >\n              <div\n                style={{\n                  width: ''16px'',\n                  height: ''16px'',\n                  background: `linear-gradient(135deg, $' + '{solidColors[cluster % solidColors.length]} 0%, $' + '{d3.color(solidColors[cluster % solidColors.length]).darker(0.3)} 100%)`,\n                  marginRight: ''10px'',\n                  marginTop: ''2px'',\n                  borderRadius: ''50%'',\n                  border: ''2px solid white'',\n                  boxShadow: ''0 2px 4px rgba(0,0,0,0.1)'',\n                  flexShrink: 0\n                }}\n              />\n              <span style={{ \n                color: ''#4a5568'', \n                fontWeight: ''500'',\n                display: ''block'',\n                lineHeight: ''1.3'',\n                wordWrap: ''break-word'',\n                whiteSpace: ''normal''\n              }}>\n                {clusterName}\n              </span>\n            </div>\n          );\n        })}\n      </div>\n      \n      {/* Modern Instructions */}\n      <div style={{\n        position: ''absolute'',\n        bottom: ''20px'',\n        left: ''50%'',\n        transform: ''translateX(-50%)'',\n        backgroundColor: ''rgba(255, 255, 255, 0.95)'',\n        padding: ''8px 16px'',\n        borderRadius: ''20px'',\n        fontSize: ''12px'',\n        color: ''#718096'',\n        boxShadow: ''0 2px 8px rgba(0,0,0,0.08)'',\n        backdropFilter: ''blur(10px)'',\n        display: ''flex'',\n        gap: ''16px'',\n        alignItems: ''center''\n      }}>\n        <span><i className=\"fa-solid fa-hand\" style={{ marginRight: ''4px'' }}></i>Drag to pan</span>\n        <span>•</span>\n        <span><i className=\"fa-solid fa-magnifying-glass\" style={{ marginRight: ''4px'' }}></i>Scroll to zoom</span>\n        <span>•</span>\n        <span><i className=\"fa-solid fa-pointer\" style={{ marginRight: ''4px'' }}></i>Click to select</span>\n      </div>\n    </div>\n  );\n}","functionalRequirements":"Render interactive force-directed graph with prompts as nodes, display clusters with different colors, show similarity connections between prompts, support zoom/pan navigation, highlight on hover, animate transitions","technicalDesign":"Uses D3.js force simulation for node positioning, implements clustering visualization with color coding, draws edges based on similarity threshold, handles mouse interactions for selection and tooltips","dataRequirements":{"mode":"views","entities":[{"name":"AI Prompts","displayFields":["Name","Description","TemplateText","CategoryID","Category","TypeID","Type","Status","PromptRole","ResponseFormat","Template"],"filterFields":["Status","CategoryID","TypeID","PromptRole"],"sortFields":["Name","CreatedAt","UpdatedAt"],"permissions":["read"]}]},"properties":[{"name":"prompts","type":"array","required":true,"description":"Array of AI prompt entities with embeddings"},{"name":"clusters","type":"array","required":true,"description":"Array of cluster assignments from clustering algorithm"},{"name":"selectedPromptId","type":"string","required":false,"description":"ID of currently selected prompt"},{"name":"similarityThreshold","type":"number","required":false,"description":"Threshold for showing similarity connections (0-1)"},{"name":"highlightCluster","type":"number","required":false,"description":"Cluster index to highlight"},{"name":"clusterNames","type":"array","required":false,"description":"Optional names for clusters"}],"events":[{"name":"onNodeClick","description":"Fired when a node is clicked","parameters":[{"name":"prompt","type":"object","description":"The clicked prompt entity"}]},{"name":"onNodeHover","description":"Fired when hovering over a node","parameters":[{"name":"prompt","type":"object","description":"The hovered prompt entity"}]},{"name":"onClusterSelect","description":"Fired when a cluster is selected","parameters":[{"name":"clusterIndex","type":"number","description":"Index of the selected cluster"}]}],"libraries":[{"name":"d3","version":"7.8.5","globalVariable":"d3"}],"usageExample":"<AIPromptsClusterGraph prompts={prompts} clusters={clusters} />","version":"1.0.0"}'
SET
  @FunctionalRequirements_7791736b = N'Render interactive force-directed graph with prompts as nodes, display clusters with different colors, show similarity connections between prompts, support zoom/pan navigation, highlight on hover, animate transitions'
SET
  @TechnicalDesign_7791736b = N'Uses D3.js force simulation for node positioning, implements clustering visualization with color coding, draws edges based on similarity threshold, handles mouse interactions for selection and tooltips'
SET
  @FunctionalRequirementsVector_7791736b = N'[-0.04671674221754074,-0.09743408858776093,0.004109947010874748,-0.04221409186720848,-0.026122882962226868,-0.05038025230169296,0.058606307953596115,0.048433300107717514,0.018493374809622765,0.013779154978692532,-0.02812085673213005,0.042181797325611115,-0.01523626409471035,0.06335627287626266,0.0008980111451819539,-0.14029432833194733,-0.015212996862828732,-0.030862635001540184,-0.034563515335321426,-0.028941165655851364,-0.0015229583950713277,-0.009451521560549736,-0.008456192910671234,-0.015013947151601315,-0.012299459427595139,-0.021520594134926796,-0.04664463549852371,0.03270632028579712,0.057877156883478165,-0.08684640377759933,-0.08219818770885468,0.06622088700532913,-0.04430675506591797,0.0056446935050189495,0.0000016769032527008676,-0.032118991017341614,-0.018781473860144615,0.008641302585601807,0.015765724703669548,0.006144918501377106,0.08870850503444672,-0.0062813241966068745,0.06601675599813461,-0.02808847837150097,0.0265085157006979,-0.04176139086484909,-0.00023828331904951483,-0.001596714137122035,0.051047876477241516,-0.04118454456329346,0.011870871298015118,0.03540172800421715,-0.01360233873128891,0.031337179243564606,-0.103905588388443,0.10928521305322647,-0.0035977899096906185,-0.031753797084093094,0.07141514867544174,0.007422784809023142,-0.04450032487511635,-0.03571668267250061,0.011033611372113228,-0.021155966445803642,0.04237113520503044,0.01052093505859375,0.07197892665863037,-0.03181462734937668,-0.02871214970946312,0.034649480134248734,-0.04234696924686432,-0.018302250653505325,0.005509435199201107,-0.05962642282247543,-0.009353597648441792,0.08494636416435242,-0.03801592066884041,-0.03013300709426403,-0.0258453581482172,-0.02710942178964615,-0.07386229932308197,-0.005892392713576555,-0.010053939186036587,-0.05792820826172829,0.041132960468530655,-0.01365809328854084,0.05256853625178337,-0.03185516223311424,-0.012161115184426308,0.013258058577775955,0.021907396614551544,-0.019911862909793854,0.057017430663108826,0.014607940800487995,-0.08070222288370132,-0.024784773588180542,0.03035544417798519,0.023338407278060913,0.026595408096909523,0.06437034904956818,0.11540335416793823,-0.028629612177610397,-0.01681102253496647,0.030626488849520683,0.01636495813727379,-0.017032528296113014,-0.013889533467590809,-0.029864905402064323,-0.01742742583155632,0.02745327539741993,-0.00020500148821156472,0.02784540317952633,-0.023182744160294533,0.020573319867253304,-0.03018297255039215,0.009392356500029564,0.01395509298890829,0.03717835620045662,-0.013016377575695515,0.03591185063123703,0.032937027513980865,-0.00640275189653039,0.0017603308660909534,-0.007500224746763706,0.013178414665162563,0.039152439683675766,-0.06983907520771027,-0.026917994022369385,0.002519282279536128,0.020307261496782303,-0.017992204055190086,0.004089311696588993,0.040197379887104034,0.028996720910072327,-0.008165473118424416,0.05432681366801262,0.009500968270003796,0.008537281304597855,-0.03465760126709938,-0.036030370742082596,-0.0177373755723238,0.04743245616555214,-0.0238876361399889,-0.011273386888206005,0.0016199358506128192,-0.021922452375292778,0.008864741772413254,0.03415537253022194,0.010983304120600224,0.02121453732252121,0.021555284038186073,0.012710370123386383,-0.04597518965601921,-0.011768260039389133,-0.04243023321032524,0.002211915561929345,-0.0334831103682518,-0.022877145558595657,-0.07211024314165115,0.01292453519999981,0.02024146541953087,-0.03855747729539871,0.059215646237134933,-0.0014762700302526355,-0.04445715248584747,0.026387419551610947,-0.04574562981724739,-0.03261723741889,0.022033745422959328,-0.011007090099155903,-0.012537913396954536,-0.0026163689326494932,-0.04818689823150635,-0.05372078716754913,0.030889974907040596,0.058690838515758514,0.05195050686597824,-0.028488662093877792,-0.012471817433834076,-0.01013175118714571,0.03661090135574341,-0.024682238698005676,0.015202156268060207,0.0048043811693787575,-0.012212873436510563,-0.009001434780657291,-0.03240782767534256,0.053100112825632095,-0.020435987040400505,0.013507712632417679,0.020278871059417725,0.031301774084568024,0.03968888148665428,0.007455682847648859,0.04632238298654556,0.001608115155249834,-0.01808859407901764,-0.09637521207332611,0.04239344969391823,-0.026822414249181747,-0.00529798399657011,0.05610004439949989,-0.006646154914051294,0.06330674886703491,-0.01495313923805952,0.0008073398494161665,-0.07534634321928024,-0.012687250971794128,0.033318646252155304,0.050921887159347534,-0.01681271381676197,0.0020623253658413887,-0.016954420134425163,0.006384000647813082,-0.009212754666805267,-0.006570825353264809,0.008892225101590157,0.024176405742764473,-0.07304451614618301,-0.044336698949337006,-0.0347403958439827,-0.004567399621009827,-0.004262362606823444,0.002061402890831232,0.08905787765979767,0.08623285591602325,-0.014033976942300797,-0.02634243667125702,0.01558547280728817,0.06272409856319427,0.001611121348105371,-0.026931412518024445,-0.010649556294083595,0.01991940662264824,0.03577905520796776,0.02487415261566639,0.02040032297372818,0.031502917408943176,-0.029257623478770256,-0.0382423996925354,0.005216139368712902,-0.05691232532262802,-0.026476185768842697,-0.017264164984226227,-0.027041450142860413,-0.007312064524739981,0.0412042960524559,0.021070143207907677,-0.014074797742068768,-0.025665294378995895,0.02209237776696682,0.0022403174079954624,0.0063606188632547855,-0.020540637895464897,0.007194232661277056,0.03191179409623146,0.1521698534488678,-0.01867210865020752,-0.10398217290639877,0.03784331679344177,-0.010653841309249401,-0.0013877246528863907,-0.011720518581569195,-0.007557499222457409,-0.008381277322769165,-0.020911704748868942,0.05469243600964546,-0.06778869032859802,-0.0674816146492958,-0.004490959923714399,0.004380329977720976,0.03519018739461899,0.01040501520037651,0.000018298165741725825,-0.018226196989417076,0.03714817762374878,0.030232425779104233,0.013966592028737068,0.008910668082535267,-0.03039846569299698,-0.021473353728652,-0.05266168713569641,-0.009487583301961422,-0.007627786137163639,-0.04347327724099159,-0.00015191907004918903,0.06165274977684021,-0.006279666908085346,0.01425307895988226,-0.04217186197638512,0.017182106152176857,0.015629449859261513,0.0032419722992926836,0.022223856300115585,-0.00866309180855751,0.032880790531635284,0.022063424810767174,0.0810851901769638,-0.009280526079237461,0.03115370124578476,-0.0015037745470181108,-0.0616864375770092,0.0018934181425720453,0.02818084880709648,-0.060113731771707535,0.06453831493854523,0.009444787167012691,0.017594143748283386,0.08275679498910904,-0.014126107096672058,0.034173157066106796,-0.012364893220365047,0.009535055607557297,-0.07516611367464066,-0.008705086074769497,0.03998732194304466,0.05177964270114899,-0.023329105228185654,0.032150402665138245,0.0020450314041227102,-0.021752208471298218,-0.0017209596699103713,0.01653755083680153,-0.042521972209215164,-0.01284805964678526,0.06906313449144363,-0.051703549921512604,0.01607428304851055,0.0032704186160117388,0.03019499033689499,0.012278840877115726,0.013919515535235405,-0.00950948428362608,0.018537061288952827,0.05952242761850357,0.03079235926270485,-0.013296701945364475,-0.023558834567666054,0.0052132816053926945,-0.07161673903465271,-0.0028514175210148096,-0.03598517179489136,0.004559290129691362,0.016360273584723473,0.054609935730695724,0.010320895351469517,0.02968752197921276,-0.021747026592493057,0.019597532227635384,0.015018983744084835,-0.0071320002898573875,0.01696573570370674,-0.0007974510081112385,0.0008510230109095573,0.018024977296590805,0.02852063812315464,-0.06781458109617233,0.04701033607125282,-0.048291876912117004,-0.05861734226346016,-0.00036430402542464435,0.03629721328616142,0.009638144634664059,-0.036676183342933655,-0.03173371031880379,0.043194301426410675,0.0228384118527174,-0.03786963224411011,0.0015838203253224492,-0.009826578199863434,0.0022884162608534098,0.01214549969881773,0.020064370706677437,0.008647688664495945,-0.007497364189475775,-0.11560065299272537,0.02408120594918728,-0.009599985554814339,0.0033550525549799204,-0.010647258721292019,0.04349410906434059,-0.019217705354094505,0.04479457437992096,-0.03078574687242508,0.03636164218187332,-0.04818450286984444,-0.015130434185266495,0.055289167910814285,-0.09109510481357574,0.040415603667497635,-0.007194032892584801,-0.026965871453285217,0.02281143330037594,-0.06330474466085434,0.008371054194867611,0.06196046620607376,-0.016785677522420883,0.002308152848854661,-0.0037493743002414703,0.002955011557787657,0.00119980878662318,0.026372617110610008,-0.0016586281126365066,-0.031832512468099594,0.05807477608323097,-0.008923711255192757,-0.04067545756697655,0.015192441642284393,-0.02076561748981476,0.012007580138742924,-0.01569151133298874,0.05468475818634033,-0.003591478569433093,-0.05134858191013336,-0.016558239236474037,0.009148143231868744,0.02699955925345421,-0.035869941115379333,0.014406517148017883,0.10308004170656204,-0.03684670850634575,-0.014626502059400082,0.037276241928339005,-0.002853692974895239,-0.004028928931802511,-0.014554320834577084,0.004970279522240162,-0.045383207499980927,-0.003089963225647807,-0.00003249667497584596,0.007001077756285667,0.009592758491635323,-0.040429484099149704,0.05920657515525818,0.04500100389122963,-0.0335070826113224,-0.062196359038352966,0.012188545428216457,0.03864143043756485,-0.015478753484785557,0.03631268069148064,0.014063835144042969,0.0779004842042923,0.004530987702310085,-0.05465095862746239,-0.04309797286987305,-0.03877031058073044,-0.031186463311314583,0.05290229991078377,-0.017056135460734367,-0.05563536286354065,-0.05125794932246208,-0.03030203841626644,-0.00426449254155159,-0.0095820976421237,-0.024637596681714058,0.007853055372834206,0.025332555174827576,-0.022186145186424255,-0.012334763072431087,0.026181668043136597,0.015490629710257053,0.03480276092886925,-0.009112468920648098,-0.00017590209608897567,0.08562687039375305,0.050133347511291504,-0.010487264953553677,-0.009839121252298355,-0.0005376358749344945,0.003317656461149454,0.012163503095507622,-0.05410796031355858,-0.06412430852651596,0.05013462156057358,0.03874185308814049,0.019629811868071556,0.004359010607004166,-0.0612921416759491,-0.002675676252692938,0.009097968228161335,0.07607359439134598,0.03890164941549301,-0.0089751360937953,0.001478388556279242,-0.002203357173129916,-0.020754467695951462,-0.014341589994728565,-0.011436466127634048,0.015276660211384296,-0.013220064342021942,-0.01888549141585827,0.019774876534938812,0.0016205210704356432,0.04157104715704918,-0.046248726546764374,-0.0908336341381073,0.026544323191046715,0.054247211664915085,-0.01899626851081848,-0.0012856501853093505,-0.02200143225491047,0.00731757003813982,-0.01282469555735588,-0.03596576303243637,-0.006829382386058569,0.044690076261758804,0.009692845866084099,0.025564858689904213,0.0010096642654389143,0.006304674316197634,-0.000015237784282362554,-0.06008871644735336,-0.011527106165885925,-0.03651037812232971,0.03759021311998367,-0.010380597785115242,0.05495584383606911,-0.003048431593924761,-0.044326301664114,0.010050131008028984,0.019783059135079384,-0.043138034641742706,0.023764755576848984,-0.005260355770587921,0.042152322828769684,0.038038864731788635,0.03261926397681236,0.036812297999858856,0.0006787125021219254,-0.0782114714384079,-0.0025945885572582483,0.05387232080101967,-0.061397451907396317,-0.004160975571721792,-0.0046385652385652065,0.02482844889163971,0.06859428435564041,0.02779284119606018,-0.027473460882902145,-0.05372944101691246,0.023646993562579155,0.029894975945353508,0.0025791777297854424,-0.004879686050117016,0.03442343696951866,0.048166994005441666,-0.07457303255796432,0.01773114688694477,0.01306172739714384,0.04386122152209282,0.002794192172586918,-0.01433570496737957,-0.058905407786369324,0.009965787641704082,-6.066331084618362e-33,-0.04362541064620018,-0.06412096321582794,-0.04107902571558952,0.011671515181660652,-0.025334462523460388,-0.03968898206949234,-0.008588298223912716,0.007022052071988583,-0.0021265798714011908,0.032934028655290604,-0.006822829134762287,-0.04672664776444435,-0.004168983548879623,0.05025192350149155,-0.04888157919049263,0.02387363649904728,0.04729469493031502,0.03576011583209038,-0.009463323280215263,0.04424593970179558,0.0015031833900138736,0.018135854974389076,-0.03350268676877022,0.03633048012852669,-0.011043335311114788,0.025166187435388565,0.03606116771697998,0.0077356440015137196,-0.005391159560531378,0.0071151102893054485,-0.017008431255817413,0.037765007466077805,-0.034683164209127426,-0.009136746637523174,0.0007408979581668973,0.03656291589140892,0.0034420897718518972,-0.053296010941267014,0.0037145374808460474,-0.008544890210032463,-0.019658531993627548,-0.0032591139897704124,0.019237343221902847,0.0033926733303815126,0.024878084659576416,0.0052817887626588345,0.03342486917972565,0.017824389040470123,-0.047944292426109314,0.05576348677277565,0.013214875012636185,0.02363535948097706,-0.008569507859647274,0.040797147899866104,-0.026272078976035118,0.04323524609208107,0.03563539683818817,0.005675835069268942,0.007116743829101324,0.016636237502098083,-0.015042606741189957,-0.007566507440060377,-0.01773008517920971,0.06835350394248962,0.07264126092195511,0.00916046928614378,0.041898131370544434,-0.0012147474335506558,-0.046989716589450836,0.06590050458908081,0.01643381267786026,-0.006133952643722296,0.05151396617293358,-0.03471316024661064,-0.05262215435504913,0.022180330008268356,0.012104835361242294,-0.0527312308549881,-0.025494929403066635,0.009709619916975498,-0.005969901569187641,0.03256142884492874,0.013517949730157852,-0.018337950110435486,0.008212460204958916,-0.0968085378408432,0.012856491841375828,-0.017306609079241753,0.016702966764569283,-0.010699416510760784,-0.0304952971637249,-0.007948276586830616,-0.02162383869290352,0.06840776652097702,-0.0040952586568892,-0.014041369780898094,0.03145834803581238,0.08278228342533112,-0.007850122638046741,-0.04063386470079422,0.034398987889289856,-0.011663656681776047,-0.02859829179942608,-0.04787742719054222,-0.01291231345385313,0.00015985006757546216,-0.03520049899816513,-0.01791468635201454,-0.028033332899212837,0.017725778743624687,0.0318242609500885,-0.02491581253707409,-0.012032645754516125,-0.07904616743326187,0.04767318814992905,-0.022440951317548752,0.0003671603335533291,0.05661536380648613,0.0059343366883695126,0.005770863965153694,0.004136539530009031,0.008120161481201649,-0.055303119122982025,-0.04408229887485504,0.021806471049785614,-0.010103587061166763,-0.01941283419728279,0.0031767685431987047,-0.017773885279893875,-0.018855974078178406,-0.03219147026538849,0.009023765102028847,2.5241737944270426e-7,-0.037237219512462616,0.05779360234737396,-0.0030893778894096613,-0.0121650705114007,-0.0075207785703241825,-0.0828109160065651,0.032564427703619,-0.012539715506136417,0.02222718670964241,-0.00884549506008625,-0.0028715922962874174,0.02157781645655632,-0.03326429799199104,0.07392522692680359,-0.011472519487142563,0.018015924841165543,-0.030827799811959267,-0.03337157145142555,-0.051310714334249496,0.024395912885665894,0.03671551123261452,-0.011799532920122147,0.07856747508049011,0.056025441735982895,0.008538341149687767,-0.0051153297536075115,0.025571219623088837,-0.01104671973735094,0.052114229649305344,-0.05795731022953987,0.009067036211490631,-0.026036377996206284,-0.03993967920541763,0.048313114792108536,0.010347045958042145,-0.007201454136520624,-0.017461949959397316,-0.038250211626291275,0.019128669053316116,0.003386334516108036,0.05063793808221817,0.00480699073523283,-0.0009843872394412756,-0.03551403060555458,-0.003266355488449335,-0.05316147208213806,-0.022947508841753006,0.05616920068860054,-0.026916058734059334,-0.030661456286907196,-0.0017732797423377633,-0.02049854025244713,0.005825328174978495,-0.004911299794912338,-0.0050283633172512054,0.01739446260035038,-0.013428273610770702,0.03404345363378525,0.010472746565937996,0.011326074600219727,-0.004104021470993757,-0.06219722703099251,-0.005279490724205971,0.0664624497294426,-0.01035398431122303,0.018731649965047836,-0.004355370067059994,3.533496988485929e-34,0.019304877147078514,-0.0008200593874789774,0.0441068559885025,-0.016662973910570145,0.005057191476225853,0.009365297853946686,-0.021822012960910797,0.007214449346065521,0.0815337598323822,-0.10434750467538834,-0.018688073381781578]'
SET
  @TechnicalDesignVector_7791736b = N'[-0.01928911730647087,-0.11240977793931961,-0.029324615374207497,-0.05927392840385437,-0.019617922604084015,-0.06658537685871124,0.051757294684648514,0.04194172844290733,-0.04908546805381775,-0.019058430567383766,0.026671696454286575,0.06527809798717499,0.007504678796976805,0.061102285981178284,0.014838754199445248,-0.07219871878623962,-0.01874273270368576,0.008030527271330357,-0.015600712038576603,-0.04236651584506035,0.01191572193056345,-0.033622242510318756,-0.010954447090625763,0.0027042117435485125,-0.04307328909635544,-0.00673591298982501,-0.06796673685312271,0.029564138501882553,0.0368216373026371,-0.07286862283945084,-0.01373400166630745,0.08790329098701477,-0.04677669703960419,0.042288657277822495,0.0000015927290633044322,-0.028536511585116386,-0.002190655330196023,0.01626088283956051,0.05031101405620575,0.019164180383086205,0.0688256174325943,-0.016362454742193222,0.02791482023894787,-0.04813452437520027,0.04045068845152855,-0.015547064132988453,0.03628886863589287,-0.025412743911147118,0.015836142003536224,-0.07154365628957748,0.012934308499097824,0.06682166457176208,0.007126715034246445,0.04308272525668144,-0.02767200395464897,0.09365096688270569,-0.009521406143903732,0.06184016913175583,0.06720589101314545,0.0008151522488333285,-0.016065705567598343,0.005322284996509552,-0.02213210240006447,-0.05560868978500366,0.0770215317606926,0.010457221418619156,0.03094581514596939,-0.028399784117937088,-0.03616173937916756,0.018932675942778587,-0.018976055085659027,-0.002065907698124647,0.0042366269044578075,-0.01901116967201233,-0.03580474108457565,0.04112629592418671,-0.02444743551313877,-0.04182346910238266,0.01805134303867817,-0.056199051439762115,-0.07273278385400772,0.020579520612955093,-0.007784819230437279,-0.061986956745386124,0.03842136636376381,0.0188177190721035,0.02645607478916645,-0.01746995374560356,-0.02628501132130623,0.006796612404286861,0.02752397209405899,-0.012887008488178253,0.06752290576696396,-0.028975587338209152,-0.008905463851988316,-0.04087338224053383,0.04082838445901871,0.0046382988803088665,0.06090785562992096,0.010382923297584057,0.10935301333665848,0.007786772213876247,0.021812688559293747,0.04184429347515106,0.035878024995326996,-0.03307069465517998,-0.020645933225750923,0.02003951370716095,-0.010312356986105442,0.02771770767867565,-0.006082004867494106,0.0029405115637928247,0.009810525923967361,-0.01709652505815029,0.0007068503764458001,0.026989642530679703,0.02354099415242672,0.03565189614892006,-0.0038559723179787397,-0.01887460984289646,0.029467299580574036,0.008906851522624493,0.010696315206587315,0.015327096916735172,-0.01225260179489851,-0.008204294368624687,-0.054580383002758026,-0.014136550948023796,0.009697417728602886,0.03625478968024254,0.017769580706954002,-0.005931959953159094,0.023879539221525192,-0.01365467719733715,-0.02462020143866539,0.03674866631627083,0.02367768995463848,-0.002695919945836067,-0.02428528293967247,0.009872050024569035,-0.003857935545966029,0.05055425688624382,0.011437326669692993,-0.017791150137782097,0.02039976231753826,-0.028413141146302223,0.008393688127398491,0.037474263459444046,0.0009017103002406657,-0.004852792248129845,0.03892192989587784,0.025383155792951584,-0.11699990928173065,0.01775282621383667,-0.02436903677880764,-0.008218993432819843,-0.004429581109434366,-0.03356023505330086,-0.03809829428792,0.022682830691337585,0.017766069620847702,-0.02115379087626934,-0.005150396842509508,-0.010759112425148487,-0.034737106412649155,0.015890955924987793,-0.05086878687143326,-0.021451899781823158,-0.022392377257347107,0.01821032539010048,0.009230057708919048,-0.05946137383580208,-0.028970731422305107,-0.07773630321025848,0.06325408816337585,0.12076926976442337,0.02655913308262825,-0.0014559613773599267,-0.03106844611465931,0.027932023629546165,0.016326364129781723,-0.038507044315338135,-0.006154133006930351,0.023967446759343147,-0.034582022577524185,-0.012242067605257034,-0.06081214174628258,0.06494444608688354,-0.013851210474967957,0.024500079452991486,0.0075619276612997055,0.010625484399497509,0.0409088097512722,-0.03374384343624115,0.002249723067507148,-0.012936237268149853,0.04192826524376869,-0.05900264158844948,0.038884103298187256,-0.010949387215077877,-0.05501458793878555,0.04018552601337433,-0.011321976780891418,0.02369365096092224,0.006634981371462345,-0.03845648840069771,-0.06311061978340149,-0.010468686930835247,0.013444478623569012,0.03732989355921745,-0.016501620411872864,0.02531457133591175,-0.06525223702192307,0.013096502982079983,-0.050893861800432205,0.0006164785590954125,0.0210858341306448,0.04999331012368202,-0.043522752821445465,-0.01573328487575054,-0.045530274510383606,-0.04460084065794945,0.006886160932481289,-0.001785485539585352,0.10271627455949783,0.09970016777515411,-0.025952855125069618,-0.03211047500371933,0.010490820743143559,0.02766023948788643,-0.022233515977859497,-0.0560481883585453,0.05247453972697258,0.03910087049007416,0.03595219552516937,0.013855507597327232,0.057073209434747696,0.03785818815231323,0.014961834996938705,-0.037858862429857254,-0.01886708103120327,-0.01349237747490406,-0.0032914066687226295,0.0024390178732573986,0.009672042913734913,-0.011616530828177929,-0.009751707315444946,0.005086945835500956,-0.0063092983327806,-0.07593711465597153,0.0035453394521027803,0.028469065204262733,0.03617432713508606,-0.03169970214366913,0.013852349482476711,0.014419308863580227,0.06614243984222412,-0.0006416160031221807,-0.04115338996052742,0.0516422763466835,0.008549095131456852,-0.023166455328464508,0.013651528395712376,0.01448099222034216,0.033548753708601,-0.0015819023828953505,0.0584886372089386,-0.03267912566661835,-0.017574090510606766,0.01763826236128807,-0.009122254326939583,0.023937152698636055,-0.0025878017768263817,-0.0051071238704025745,-0.013424129225313663,0.017317961901426315,-0.02195393480360508,-0.01968085765838623,-0.03822310268878937,0.004288400057703257,-0.057883370667696,-0.06520703434944153,-0.0004844570648856461,-0.0019358117133378983,-0.028313882648944855,-0.006094801239669323,0.04792425036430359,-0.007404360454529524,0.042957864701747894,0.031649451702833176,-0.02060704305768013,0.03878294676542282,0.035235919058322906,0.023377371951937675,-0.00338846817612648,0.028887281194329262,-0.0381162092089653,0.04326128214597702,-0.014154155738651752,0.01926032453775406,0.01377219520509243,0.009016751311719418,-0.01694604381918907,0.001461603445932269,-0.041603296995162964,0.09509626775979996,-0.005035903304815292,-0.020342543721199036,-0.006158352363854647,0.03327502682805061,0.029804738238453865,-0.014508472755551338,0.03582678362727165,-0.04438195005059242,0.036788459867239,0.034330304712057114,-0.0037200190126895905,-0.002878383966162801,0.0022440284956246614,0.07236409187316895,-0.06096119061112404,-0.030078250914812088,0.05737626552581787,-0.05481649562716484,-0.028126049786806107,0.059259481728076935,-0.02795260213315487,0.009516936726868153,0.009685883298516273,-0.010533702559769154,-0.005843627732247114,-0.011913895606994629,0.0038428097032010555,0.020317984744906425,0.04338303208351135,0.054250918328762054,-0.030057519674301147,-0.08046884089708328,0.04369798302650452,-0.010716351680457592,-0.02315114252269268,-0.03810405358672142,0.02661016210913658,0.0358424186706543,0.07535268366336823,0.016258221119642258,0.03302975371479988,-0.007467821706086397,-0.015471793711185455,0.038324058055877686,0.03454703465104103,0.039681773632764816,0.002625374821946025,-0.01849418692290783,-0.0024486565962433815,0.05524367094039917,-0.07938014715909958,0.030474459752440453,-0.05947153642773628,-0.018528666347265244,-0.01911226101219654,0.05620905011892319,0.004126611165702343,-0.02324831672012806,-0.10998934507369995,0.03330950811505318,0.020163916051387787,-0.0029721595346927643,-0.0018398206448182464,-0.04708985984325409,0.005393640138208866,0.022943967953324318,0.05250116065144539,0.019304871559143066,-0.028329074382781982,-0.08390361070632935,0.01280204113572836,-0.026279056444764137,0.0025661704130470753,0.023737065494060516,0.02532294951379299,-0.04616517946124077,0.031983036547899246,-0.03575066849589348,0.013142047449946404,-0.014178499579429626,-0.01688312366604805,0.07228464633226395,-0.03445034101605415,0.058686889708042145,-0.00606795446947217,-0.01678907684981823,-0.012751627713441849,-0.023162376135587692,-0.012999109923839569,0.07599237561225891,-0.031876757740974426,-0.006595917046070099,0.025800511240959167,0.0009971141116693616,0.0025678901001811028,0.010220506228506565,-0.04908356815576553,0.027860088273882866,0.033519431948661804,-0.024009549990296364,0.002729024039581418,0.034636955708265305,0.021843580529093742,-0.0036734705790877342,-0.00540449284017086,0.004690871108323336,-0.021706953644752502,-0.04559270665049553,-0.027257656678557396,0.009865108877420425,0.02501204051077366,-0.021745268255472183,-0.0027609297540038824,0.04978460446000099,-0.009448466822504997,-0.020879123359918594,0.05524599552154541,0.0026525426656007767,0.013479377143085003,-0.049226708710193634,0.00406050868332386,-0.03228188678622246,-0.029871098697185516,0.03357742354273796,-0.013690432533621788,-0.022165991365909576,-0.040952567011117935,0.05271116644144058,0.08475887030363083,-0.03866410255432129,-0.04896173253655434,0.00886830035597086,0.022854728624224663,-0.011739365756511688,0.028005581349134445,0.0024657929316163063,0.040592506527900696,0.015454431995749474,-0.03249197453260422,-0.060547493398189545,-0.05682598054409027,-0.008470342494547367,0.020020203664898872,0.039592619985342026,-0.032602980732917786,0.05152566730976105,0.01840152032673359,0.016241570934653282,-0.010414726100862026,-0.029015595093369484,0.020837783813476562,0.06290603429079056,-0.02379099279642105,-0.025754038244485855,0.04369882121682167,0.027831191197037697,0.0004228103789500892,-0.030551381409168243,-0.01208339910954237,-0.018796326592564583,0.039333876222372055,-0.008602604269981384,-0.02382219210267067,-0.01617983542382717,-0.0002910624025389552,0.008015818893909454,-0.022450778633356094,-0.013033349998295307,0.054024696350097656,-0.004431675188243389,-0.04359040409326553,-0.048052649945020676,-0.07020892202854156,-0.0008793069864623249,-0.003606887999922037,0.0590052604675293,0.03902539983391762,0.008245013654232025,0.005870752036571503,0.018644794821739197,0.020663101226091385,-0.017345882952213287,-0.01592756062746048,0.00810426939278841,-0.026708874851465225,-0.06466492265462875,0.0331549309194088,0.03917562589049339,0.04102576524019241,-0.06185765191912651,-0.01026867888867855,0.03353842720389366,-0.002254944760352373,0.03331398591399193,0.0036699657794088125,-0.014732172712683678,0.010525749064981937,0.0260317325592041,-0.026281820610165596,0.043609391897916794,0.0065058013424277306,-0.0420265793800354,0.02029818296432495,-0.04536529257893562,0.01280975341796875,0.011804535053670406,-0.04744939133524895,0.02665645442903042,-0.019951654598116875,-0.01937853731215,0.024999119341373444,0.08204318583011627,0.027830881997942924,-0.01919928379356861,0.007049696519970894,0.028955623507499695,-0.028293905779719353,-0.009784785099327564,0.04891322925686836,-0.026268621906638145,0.03273558244109154,-0.0016764044994488358,0.03150311857461929,-0.01590777188539505,-0.010726439766585827,-0.04923884570598602,-0.003634991589933634,-0.08359245210886002,-0.0045080408453941345,-0.010588095523416996,0.038309406489133835,0.09289953112602234,0.005841242149472237,-0.041821837425231934,-0.04401347041130066,-0.01882835477590561,-0.0051801507361233234,0.01143068540841341,0.052094947546720505,0.016540179029107094,0.035294290632009506,-0.01846780814230442,-0.013073987327516079,0.007281196303665638,0.036360256373882294,-0.03120269998908043,-0.014483398757874966,-0.012796569615602493,0.00918755866587162,-5.879212220434624e-33,-0.019872473552823067,-0.056995343416929245,-0.06684178858995438,0.03121279925107956,-0.032222989946603775,-0.05440083146095276,0.001449225703254342,0.006205612327903509,0.006985381245613098,0.03157733380794525,0.03431740403175354,-0.05676715075969696,-0.005606745835393667,0.010942347347736359,-0.0353703498840332,0.06181986257433891,-0.008349350653588772,-0.0012066063936799765,-0.0022523333318531513,0.007186890579760075,0.006126470398157835,0.049363601952791214,-0.014821702614426613,0.022076768800616264,-0.04934139922261238,-0.0013636284274980426,0.03936724737286568,-0.009657783433794975,-0.050448693335056305,0.009363426826894283,0.004600605461746454,0.009175785817205906,-0.05269327014684677,0.05783476680517197,-0.008357946760952473,-0.04607999324798584,-0.05449207127094269,-0.013869457878172398,0.010199937969446182,-0.0176993515342474,0.016852501779794693,0.02323787845671177,0.0439130999147892,-0.003912993241101503,-0.02378752827644348,-0.016168061643838882,0.03573431819677353,-0.018033824861049652,-0.07266426086425781,-0.02702629379928112,0.0219570379704237,0.04651856794953346,-0.035855989903211594,0.010688351467251778,-0.010471287183463573,0.023626891896128654,0.07122614979743958,-0.02400786243379116,-0.04361102357506752,0.019851844757795334,-0.04618435725569725,-0.03906474635004997,-0.008892832323908806,0.02089792862534523,0.05992712453007698,0.04906824231147766,0.03178379684686661,0.012028313241899014,-0.01529163308441639,0.014016075059771538,0.029410196468234062,-0.006795319262892008,0.04003976657986641,-0.06758174300193787,-0.03902892768383026,0.026927214115858078,0.016666345298290253,-0.0049422853626310825,-0.0524931401014328,0.015859168022871017,0.023513000458478928,0.017822179943323135,0.007064519450068474,-0.02140405774116516,0.031092535704374313,-0.09227965027093887,0.002457704395055771,-0.03604966402053833,0.016232945024967194,-0.012007396668195724,-0.06634803861379623,0.040708836168050766,-0.0690079927444458,0.023598097264766693,0.02319427579641342,-0.02945387177169323,0.0029696908313781023,0.1015852689743042,-0.02694365754723549,-0.06898826360702515,0.032593775540590286,-0.035842958837747574,-0.09914641827344894,-0.028876744210720062,-0.011498057283461094,-0.024626435711979866,-0.028016023337841034,-0.04164055362343788,-0.03272321820259094,0.04424390569329262,0.013258513063192368,0.007491417229175568,-0.04177605360746384,-0.08109138906002045,0.02581106685101986,-0.05124656483530998,0.021930960938334465,0.006453018169850111,0.04156581312417984,0.029136881232261658,0.018880780786275864,-0.011905810795724392,-0.07332226634025574,0.010775377973914146,0.05583541840314865,-0.004828632343560457,-0.033851440995931625,0.04233715310692787,0.006835174281150103,0.021426960825920105,-0.013984289951622486,-0.04074971750378609,2.3591728393057565e-7,0.012210010550916195,0.07136446237564087,0.014712237752974033,-0.026447346433997154,0.023179301992058754,-0.06328746676445007,-0.000728350190911442,-0.0011611590161919594,0.020410696044564247,-0.030088642612099648,0.00815676525235176,0.02199270948767662,0.02556908316910267,0.03256905451416969,-0.01952226646244526,0.019105376675724983,-0.013436834327876568,-0.013288216665387154,-0.027818048372864723,0.026744218543171883,-0.043207209557294846,-0.00043510031537152827,0.08887585997581482,0.01040200237184763,-0.01966596208512783,-0.028807833790779114,0.006179782561957836,-0.03789343684911728,0.07755306363105774,-0.011765857227146626,0.010784853249788284,-0.030490253120660782,-0.06053820252418518,0.031135186553001404,-0.004196684341877699,-0.0012418554397299886,-0.02820783294737339,-0.020410379394888878,-0.011764060705900192,0.09730604290962219,0.08350873738527298,-0.06386762857437134,-0.004127965774387121,0.006288702599704266,-0.011191710829734802,-0.009535163640975952,-0.012266571633517742,0.03153917193412781,0.0037409483920782804,-0.0341038815677166,0.014990882016718388,-0.024817906320095062,0.020130567252635956,-0.038629647344350815,-0.050848692655563354,-0.015377064235508442,0.010067862458527088,0.05132032930850983,0.009341122582554817,0.07100395858287811,-0.0031520756892859936,-0.08253738284111023,0.003083242569118738,0.043030597269535065,0.012173764407634735,0.018377376720309258,-0.030067022889852524,3.0892299188521845e-34,0.05150848999619484,0.0006547427619807422,0.02246961183845997,0.03391508013010025,0.0008731161360628903,-0.029609359800815582,0.06787388771772385,-0.02012147195637226,0.030134471133351326,0.0027886326424777508,-0.03369176387786865]'
SET
  @HasCustomProps_7791736b = 1
SET
  @HasCustomEvents_7791736b = 1
SET
  @RequiresData_7791736b = 1
SET
  @DependencyCount_7791736b = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_7791736b = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_7791736b = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_7791736b = 1
SET
  @ID_7791736b = '33E6440F-7E2E-42C0-88F2-470E93CC951E'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_7791736b,
  @Name = @Name_7791736b,
  @Version = @Version_7791736b,
  @VersionSequence = @VersionSequence_7791736b,
  @Title = @Title_7791736b,
  @Description = @Description_7791736b,
  @Type = @Type_7791736b,
  @Status = @Status_7791736b,
  @DeveloperName = @DeveloperName_7791736b,
  @DeveloperEmail = @DeveloperEmail_7791736b,
  @DeveloperOrganization = @DeveloperOrganization_7791736b,
  @SourceRegistryID = @SourceRegistryID_7791736b,
  @ReplicatedAt = @ReplicatedAt_7791736b,
  @LastSyncedAt = @LastSyncedAt_7791736b,
  @Specification = @Specification_7791736b,
  @FunctionalRequirements = @FunctionalRequirements_7791736b,
  @TechnicalDesign = @TechnicalDesign_7791736b,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_7791736b,
  @TechnicalDesignVector = @TechnicalDesignVector_7791736b,
  @HasCustomProps = @HasCustomProps_7791736b,
  @HasCustomEvents = @HasCustomEvents_7791736b,
  @RequiresData = @RequiresData_7791736b,
  @DependencyCount = @DependencyCount_7791736b,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_7791736b,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_7791736b,
  @HasRequiredCustomProps = @HasRequiredCustomProps_7791736b,
  @ID = @ID_7791736b;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_ab59dd91 NVARCHAR(MAX),
@Name_ab59dd91 NVARCHAR(500),
@Version_ab59dd91 NVARCHAR(50),
@VersionSequence_ab59dd91 INT,
@Title_ab59dd91 NVARCHAR(1000),
@Description_ab59dd91 NVARCHAR(MAX),
@Type_ab59dd91 NVARCHAR(255),
@Status_ab59dd91 NVARCHAR(50),
@DeveloperName_ab59dd91 NVARCHAR(255),
@DeveloperEmail_ab59dd91 NVARCHAR(255),
@DeveloperOrganization_ab59dd91 NVARCHAR(255),
@SourceRegistryID_ab59dd91 UNIQUEIDENTIFIER,
@ReplicatedAt_ab59dd91 DATETIMEOFFSET,
@LastSyncedAt_ab59dd91 DATETIMEOFFSET,
@Specification_ab59dd91 NVARCHAR(MAX),
@FunctionalRequirements_ab59dd91 NVARCHAR(MAX),
@TechnicalDesign_ab59dd91 NVARCHAR(MAX),
@FunctionalRequirementsVector_ab59dd91 NVARCHAR(MAX),
@TechnicalDesignVector_ab59dd91 NVARCHAR(MAX),
@HasCustomProps_ab59dd91 BIT,
@HasCustomEvents_ab59dd91 BIT,
@RequiresData_ab59dd91 BIT,
@DependencyCount_ab59dd91 INT,
@TechnicalDesignVectorEmbeddingModelID_ab59dd91 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_ab59dd91 NVARCHAR(MAX),
@HasRequiredCustomProps_ab59dd91 BIT,
@ID_ab59dd91 UNIQUEIDENTIFIER
SET
  @Namespace_ab59dd91 = N'AI/Analytics'
SET
  @Name_ab59dd91 = N'AIPromptsClusterDetails'
SET
  @Version_ab59dd91 = N'1.0.0'
SET
  @VersionSequence_ab59dd91 = 1
SET
  @Title_ab59dd91 = N'AI Prompts Cluster Details'
SET
  @Description_ab59dd91 = N'Detail panel showing selected prompt information and similar prompts'
SET
  @Type_ab59dd91 = N'Other'
SET
  @Status_ab59dd91 = N'Published'
SET
  @Specification_ab59dd91 = N'{"name":"AIPromptsClusterDetails","title":"AI Prompts Cluster Details","description":"Detail panel showing selected prompt information and similar prompts","type":"panel","location":"embedded","code":"function AIPromptsClusterDetails({\n  selectedPrompt,\n  allPrompts,\n  clusterInfo,\n  similarPrompts,\n  onPromptNavigate,\n  onEditPrompt,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  const [expandedSection, setExpandedSection] = useState(''details'');\n  const [showFullTemplate, setShowFullTemplate] = useState(false);\n\n  // Modern style helpers\n  const sectionStyle = {\n    marginBottom: ''20px'',\n    padding: ''16px'',\n    background: ''linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(249,250,251,0.95) 100%)'',\n    borderRadius: ''16px'',\n    boxShadow: ''0 4px 12px rgba(0,0,0,0.05)'',\n    backdropFilter: ''blur(10px)'',\n    border: ''1px solid rgba(255,255,255,0.8)''\n  };\n\n  const headerStyle = {\n    fontSize: ''15px'',\n    fontWeight: ''600'',\n    color: ''#2d3748'',\n    marginBottom: ''12px'',\n    cursor: ''pointer'',\n    display: ''flex'',\n    alignItems: ''center'',\n    justifyContent: ''space-between'',\n    padding: ''8px'',\n    borderRadius: ''8px'',\n    transition: ''all 0.2s ease''\n  };\n\n  const labelStyle = {\n    fontSize: ''12px'',\n    fontWeight: ''600'',\n    color: ''#718096'',\n    marginBottom: ''6px'',\n    textTransform: ''uppercase'',\n    letterSpacing: ''0.025em''\n  };\n\n  const valueStyle = {\n    fontSize: ''14px'',\n    color: ''#2d3748'',\n    marginBottom: ''12px'',\n    lineHeight: ''1.5''\n  };\n\n  const badgeStyle = {\n    display: ''inline-block'',\n    padding: ''4px 10px'',\n    fontSize: ''12px'',\n    fontWeight: ''600'',\n    borderRadius: ''8px'',\n    marginRight: ''8px''\n  };\n\n  // Format template text with basic syntax highlighting\n  const formatTemplateText = (text) => {\n    if (!text) return ''No template text'';\n    \n    // Truncate if needed\n    const displayText = showFullTemplate \n      ? text \n      : text.length > 500 ? text.substring(0, 500) + ''...'' : text;\n    \n    // Basic syntax highlighting for variables\n    const highlighted = displayText.replace(\n      /\\{\\{([^}]+)\\}\\}/g,\n      ''<span style=\"color: #0066cc; font-weight: bold;\">{{$1}}</span>''\n    );\n    \n    return (\n      <div style={{ position: ''relative'' }}>\n        <pre style={{\n          whiteSpace: ''pre-wrap'',\n          wordWrap: ''break-word'',\n          fontFamily: ''monospace'',\n          fontSize: styles.fonts?.sizes?.xs || ''12px'',\n          backgroundColor: styles.colors?.surface || ''white'',\n          padding: styles.spacing?.sm || ''8px'',\n          borderRadius: styles.borders?.radius || ''4px'',\n          border: `1px solid $' + '{styles.colors?.border || ''#ddd''}`,\n          maxHeight: showFullTemplate ? ''none'' : ''200px'',\n          overflow: ''hidden''\n        }} dangerouslySetInnerHTML={{ __html: highlighted }} />\n        \n        {text.length > 500 && (\n          <button\n            onClick={() => setShowFullTemplate(!showFullTemplate)}\n            style={{\n              marginTop: styles.spacing?.xs || ''4px'',\n              padding: `2px 8px`,\n              fontSize: styles.fonts?.sizes?.xs || ''12px'',\n              backgroundColor: styles.colors?.primary || ''#007bff'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: styles.borders?.radius || ''4px'',\n              cursor: ''pointer''\n            }}\n          >\n            {showFullTemplate ? ''Show Less'' : ''Show More''}\n          </button>\n        )}\n      </div>\n    );\n  };\n\n  if (!selectedPrompt) {\n    return (\n      <div style={{\n        display: ''flex'',\n        alignItems: ''center'',\n        justifyContent: ''center'',\n        height: ''100%'',\n        color: styles.colors?.text?.secondary || ''#666'',\n        fontSize: styles.fonts?.sizes?.sm || ''14px'',\n        textAlign: ''center''\n      }}>\n        Select a prompt from the graph to view details\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {/* Modern Header */}\n      <div style={{\n        marginBottom: ''24px'',\n        padding: ''20px'',\n        background: ''linear-gradient(135deg, #667eea 0%, #764ba2 100%)'',\n        borderRadius: ''16px'',\n        boxShadow: ''0 8px 24px rgba(102, 126, 234, 0.2)'',\n        position: ''relative''\n      }}>\n        <div style={{\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''flex-start''\n        }}>\n          <div style={{ flex: 1 }}>\n            <h3 style={{\n              fontSize: ''20px'',\n              fontWeight: ''600'',\n              color: ''white'',\n              margin: 0,\n              marginBottom: ''8px''\n            }}>\n              {selectedPrompt.Name}\n            </h3>\n            <div style={{ display: ''flex'', gap: ''8px'', flexWrap: ''wrap'' }}>\n              {selectedPrompt.Category && (\n                <span style={{\n                  padding: ''3px 10px'',\n                  background: ''rgba(255,255,255,0.2)'',\n                  borderRadius: ''6px'',\n                  fontSize: ''12px'',\n                  color: ''white'',\n                  fontWeight: ''500''\n                }}>\n                  {selectedPrompt.Category}\n                </span>\n              )}\n              {selectedPrompt.Type && (\n                <span style={{\n                  padding: ''3px 10px'',\n                  background: ''rgba(255,255,255,0.2)'',\n                  borderRadius: ''6px'',\n                  fontSize: ''12px'',\n                  color: ''white'',\n                  fontWeight: ''500''\n                }}>\n                  {selectedPrompt.Type}\n                </span>\n              )}\n              {selectedPrompt.Status && (\n                <span style={{\n                  padding: ''3px 10px'',\n                  background: selectedPrompt.Status === ''Active'' \n                    ? ''rgba(72, 187, 120, 0.3)'' \n                    : ''rgba(255,255,255,0.2)'',\n                  borderRadius: ''6px'',\n                  fontSize: ''12px'',\n                  color: ''white'',\n                  fontWeight: ''500''\n                }}>\n                  {selectedPrompt.Status}\n                </span>\n              )}\n            </div>\n          </div>\n          \n          {/* Action button */}\n          <button\n            onClick={() => onEditPrompt(selectedPrompt.ID)}\n            style={{\n              width: ''40px'',\n              height: ''40px'',\n              backgroundColor: ''rgba(255,255,255,0.2)'',\n              backdropFilter: ''blur(10px)'',\n              color: ''white'',\n              fontSize: ''16px'',\n              border: ''none'',\n              borderRadius: ''10px'',\n              cursor: ''pointer'',\n              display: ''flex'',\n              alignItems: ''center'',\n              justifyContent: ''center'',\n              transition: ''all 0.2s ease''\n            }}\n            onMouseEnter={e => {\n              e.currentTarget.style.backgroundColor = ''rgba(255,255,255,0.3)'';\n              e.currentTarget.style.transform = ''scale(1.05)'';\n            }}\n            onMouseLeave={e => {\n              e.currentTarget.style.backgroundColor = ''rgba(255,255,255,0.2)'';\n              e.currentTarget.style.transform = ''scale(1)'';\n            }}\n            title=\"Open Prompt Record\"\n          >\n            <i className=\"fa-solid fa-arrow-up-right-from-square\"></i>\n          </button>\n        </div>\n      </div>\n\n      {/* Prompt Details */}\n      <div style={sectionStyle}>\n        <div style={headerStyle} onClick={() => setExpandedSection(expandedSection === ''details'' ? null : ''details'')}>\n          <span>Prompt Details</span>\n          <span>{expandedSection === ''details'' ? ''▼'' : ''▶''}</span>\n        </div>\n        \n        {expandedSection === ''details'' && (\n          <div>\n            {selectedPrompt.Description && (\n              <>\n                <div style={labelStyle}>Description</div>\n                <div style={valueStyle}>{selectedPrompt.Description}</div>\n              </>\n            )}\n            \n            <div style={{ display: ''flex'', gap: styles.spacing?.md || ''16px'' }}>\n              <div style={{ flex: 1 }}>\n                <div style={labelStyle}>Category</div>\n                <div style={valueStyle}>{selectedPrompt.Category || ''None''}</div>\n              </div>\n              \n              <div style={{ flex: 1 }}>\n                <div style={labelStyle}>Type</div>\n                <div style={valueStyle}>{selectedPrompt.Type || ''None''}</div>\n              </div>\n            </div>\n            \n            <div style={{ display: ''flex'', gap: styles.spacing?.md || ''16px'' }}>\n              <div style={{ flex: 1 }}>\n                <div style={labelStyle}>Status</div>\n                <div style={{\n                  ...badgeStyle,\n                  backgroundColor: selectedPrompt.Status === ''Active'' \n                    ? ''#d4edda'' \n                    : selectedPrompt.Status === ''Disabled'' \n                    ? ''#f8d7da'' \n                    : ''#fff3cd'',\n                  color: selectedPrompt.Status === ''Active'' \n                    ? ''#155724'' \n                    : selectedPrompt.Status === ''Disabled'' \n                    ? ''#721c24'' \n                    : ''#856404''\n                }}>\n                  {selectedPrompt.Status}\n                </div>\n              </div>\n              \n              <div style={{ flex: 1 }}>\n                <div style={labelStyle}>Role</div>\n                <div style={valueStyle}>{selectedPrompt.PromptRole || ''None''}</div>\n              </div>\n            </div>\n            \n            <div style={labelStyle}>Response Format</div>\n            <div style={valueStyle}>{selectedPrompt.ResponseFormat || ''Text''}</div>\n          </div>\n        )}\n      </div>\n\n      {/* Template Text */}\n      <div style={sectionStyle}>\n        <div style={headerStyle} onClick={() => setExpandedSection(expandedSection === ''template'' ? null : ''template'')}>\n          <span>Template Text</span>\n          <span>{expandedSection === ''template'' ? ''▼'' : ''▶''}</span>\n        </div>\n        \n        {expandedSection === ''template'' && (\n          <div>\n            {formatTemplateText(selectedPrompt.TemplateText)}\n          </div>\n        )}\n      </div>\n\n      {/* Cluster Information */}\n      {clusterInfo && (\n        <div style={sectionStyle}>\n          <div style={headerStyle} onClick={() => setExpandedSection(expandedSection === ''cluster'' ? null : ''cluster'')}>\n            <span>Cluster Information</span>\n            <span>{expandedSection === ''cluster'' ? ''▼'' : ''▶''}</span>\n          </div>\n          \n          {expandedSection === ''cluster'' && (\n            <div>\n              <div style={labelStyle}>Cluster</div>\n              <div style={valueStyle}>\n                Cluster {clusterInfo.clusterIndex + 1} ({clusterInfo.clusterSize} members)\n              </div>\n              \n              <div style={labelStyle}>Other Members</div>\n              <div style={{\n                maxHeight: ''150px'',\n                overflowY: ''auto'',\n                fontSize: styles.fonts?.sizes?.sm || ''14px''\n              }}>\n                {clusterInfo.clusterMembers\n                  .filter(p => p.ID !== selectedPrompt.ID)\n                  .map(prompt => (\n                    <div\n                      key={prompt.ID}\n                      style={{\n                        padding: styles.spacing?.xs || ''4px'',\n                        marginBottom: ''2px'',\n                        backgroundColor: styles.colors?.surface || ''white'',\n                        borderRadius: styles.borders?.radius || ''4px'',\n                        cursor: ''pointer'',\n                        '':hover'': {\n                          backgroundColor: styles.colors?.hover || ''#f0f0f0''\n                        }\n                      }}\n                      onClick={() => onPromptNavigate(prompt.ID)}\n                    >\n                      {prompt.Name}\n                    </div>\n                  ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Similar Prompts */}\n      {similarPrompts && similarPrompts.length > 0 && (\n        <div style={sectionStyle}>\n          <div style={headerStyle} onClick={() => setExpandedSection(expandedSection === ''similar'' ? null : ''similar'')}>\n            <span>Similar Prompts</span>\n            <span>{expandedSection === ''similar'' ? ''▼'' : ''▶''}</span>\n          </div>\n          \n          {expandedSection === ''similar'' && (\n            <div>\n              {similarPrompts.map(({ prompt, similarity }) => (\n                <div\n                  key={prompt.ID}\n                  style={{\n                    display: ''flex'',\n                    justifyContent: ''space-between'',\n                    alignItems: ''center'',\n                    padding: styles.spacing?.xs || ''4px'',\n                    marginBottom: ''2px'',\n                    backgroundColor: styles.colors?.surface || ''white'',\n                    borderRadius: styles.borders?.radius || ''4px'',\n                    cursor: ''pointer''\n                  }}\n                  onClick={() => onPromptNavigate(prompt.ID)}\n                >\n                  <div>\n                    <div style={{ fontSize: styles.fonts?.sizes?.sm || ''14px'' }}>\n                      {prompt.Name}\n                    </div>\n                    <div style={{\n                      fontSize: styles.fonts?.sizes?.xs || ''12px'',\n                      color: styles.colors?.text?.secondary || ''#666''\n                    }}>\n                      {prompt.Category || ''No category''}\n                    </div>\n                  </div>\n                  <div style={{\n                    ...badgeStyle,\n                    backgroundColor: similarity > 0.9 ? ''#d4edda'' \n                      : similarity > 0.7 ? ''#fff3cd'' \n                      : ''#f8f8f8'',\n                    color: similarity > 0.9 ? ''#155724'' \n                      : similarity > 0.7 ? ''#856404'' \n                      : ''#666''\n                  }}>\n                    {(similarity * 100).toFixed(0)}%\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}","functionalRequirements":"Display selected prompt details including name, description, template text, show similar prompts based on vector similarity, display cluster membership info, provide navigation to prompt editor","technicalDesign":"React component that displays prompt entity details, calculates and shows top similar prompts using vector service, formats template text with syntax highlighting","dataRequirements":{"mode":"views","entities":[{"name":"AI Prompts","displayFields":["Name","Description","TemplateText","CategoryID","Category","TypeID","Type","Status","PromptRole","ResponseFormat","Template"],"filterFields":["Status","CategoryID","TypeID","PromptRole"],"sortFields":["Name","CreatedAt","UpdatedAt"],"permissions":["read"]}]},"properties":[{"name":"selectedPrompt","type":"object","required":false,"description":"Currently selected prompt entity"},{"name":"allPrompts","type":"array","required":true,"description":"All prompts for similarity calculation"},{"name":"clusterInfo","type":"object","required":false,"description":"Cluster information for selected prompt"},{"name":"similarPrompts","type":"array","required":false,"description":"List of similar prompts with similarity scores"}],"events":[{"name":"onPromptNavigate","description":"Fired when user wants to navigate to a prompt","parameters":[{"name":"promptId","type":"string","description":"ID of prompt to navigate to"}]},{"name":"onEditPrompt","description":"Fired when user wants to edit the prompt","parameters":[{"name":"promptId","type":"string","description":"ID of prompt to edit"}]}],"libraries":[],"usageExample":"<AIPromptsClusterDetails selectedPrompt={prompt} allPrompts={prompts} />","version":"1.0.0"}'
SET
  @FunctionalRequirements_ab59dd91 = N'Display selected prompt details including name, description, template text, show similar prompts based on vector similarity, display cluster membership info, provide navigation to prompt editor'
SET
  @TechnicalDesign_ab59dd91 = N'React component that displays prompt entity details, calculates and shows top similar prompts using vector service, formats template text with syntax highlighting'
SET
  @FunctionalRequirementsVector_ab59dd91 = N'[-0.04377761855721474,-0.08697464317083359,-0.01669113151729107,-0.03190318122506142,0.010670472867786884,-0.0034533857833594084,0.05526202172040939,0.05574878305196762,-0.052021659910678864,0.009781105443835258,-0.030483296141028404,0.028501778841018677,0.018211061134934425,0.036892686039209366,-0.035861413925886154,-0.1538928896188736,0.01927696354687214,-0.02285437472164631,0.01276758685708046,-0.026943108066916466,0.0027003095019608736,-0.007596606854349375,-0.024862242862582207,0.0027988695073872805,0.003241717116907239,-0.041145071387290955,-0.008935871534049511,0.017435826361179352,0.04767586290836334,-0.06403966248035431,-0.05691060796380043,0.0743376612663269,-0.010349681600928307,-0.034082140773534775,0.0000015713835637143347,-0.041968364268541336,-0.03022913821041584,0.01203388161957264,-0.05430127680301666,0.021688196808099747,0.05790657177567482,0.015825016424059868,0.05044369027018547,-0.03556051850318909,0.04732108861207962,-0.044820934534072876,-0.012887089513242245,0.05727383494377136,0.042977720499038696,-0.05482836067676544,0.028459614142775536,0.038511723279953,-0.028986547142267227,-0.0071135046891868114,-0.07373445481061935,0.05585698410868645,-0.01744299940764904,-0.04416549578309059,0.08486445993185043,0.049179717898368835,-0.007134018465876579,-0.007772255223244429,-0.0010990294395014644,-0.011084683239459991,0.0067428406327962875,0.04410881549119949,-0.0023485543206334114,-0.04266922175884247,-0.005158080253750086,0.012735706754028797,0.05710377171635628,-0.018335439264774323,0.015025683678686619,-0.07202986627817154,-0.016128355637192726,0.02201620116829872,-0.022991742938756943,0.0020909039303660393,-0.031933195888996124,-0.016194237396121025,0.011166064999997616,0.005601165350526571,-0.03855273127555847,-0.044405173510313034,0.024928754195570946,0.05310218036174774,0.0312104020267725,-0.029090195894241333,-0.043391671031713486,-0.01742643490433693,0.011119352653622627,-0.03456801176071167,0.014270239509642124,0.006682014558464289,-0.12581315636634827,-0.014045258983969688,0.01690863072872162,-0.05290033668279648,0.03542623296380043,0.08160719275474548,0.07993834465742111,0.037261784076690674,-0.02846171334385872,0.028846658766269684,0.009085073135793209,0.06808777153491974,0.004895805846899748,0.042695190757513046,-0.01854122430086136,0.008024545386433601,-0.03810711205005646,0.006396339740604162,-0.013429349288344383,0.03037135675549507,-0.02537449635565281,0.016629187390208244,0.0016012376872822642,0.04165353998541832,-0.014096708036959171,0.04028211534023285,0.039258599281311035,-0.01106629241257906,-0.015952279791235924,-0.009152138605713844,-0.011423647403717041,-0.05063449963927269,-0.06012590974569321,-0.06641470640897751,-0.020145198330283165,-0.03657699376344681,0.0028558121994137764,-0.005807116627693176,0.02563679777085781,0.019460301846265793,-0.03793491795659065,0.004277462139725685,0.01790539175271988,-0.0023088238667696714,0.008230654522776604,-0.0016393207479268312,0.014433812350034714,0.012577244080603123,-0.039618346840143204,0.010163814760744572,0.035397715866565704,0.03800090774893761,-0.014399627223610878,0.011186454445123672,0.0014516542432829738,0.007399866823107004,-0.018438756465911865,0.03387359902262688,-0.025633884593844414,-0.0002778139023575932,0.030383775010704994,0.021320605650544167,0.015290132723748684,-0.05021558701992035,-0.10353413224220276,0.0030807408038526773,0.012928174808621407,0.003103731432929635,0.04271372780203819,-0.020193977281451225,-0.03322146087884903,0.008379862643778324,-0.07154862582683563,0.01642155833542347,0.07204266637563705,-0.017023373395204544,-0.0047134519554674625,-0.005824240390211344,-0.0012219015043228865,0.02163514494895935,0.007596455514431,0.0753825306892395,0.04842137545347214,-0.020061541348695755,0.014173316769301891,0.020158831030130386,0.0022977476473897696,0.0017899447120726109,0.016401372849941254,0.004266320262104273,-0.069827601313591,-0.006106584798544645,-0.004497703164815903,0.0006102548795752227,-0.008184830658137798,0.05345521494746208,0.012237267568707466,0.012651422061026096,-0.07059543579816818,-0.00875526200979948,0.02191786840558052,-0.007557820528745651,-0.019143426790833473,-0.02529413253068924,0.07771667838096619,0.01457840483635664,0.0034694476053118706,0.046616241335868835,0.05697254836559296,-0.008633580058813095,0.023907717317342758,-0.029751591384410858,-0.060861796140670776,-0.008882843889296055,0.03534179925918579,0.017358100041747093,0.061406463384628296,-0.00901459064334631,-0.05582650378346443,0.026009928435087204,-0.05496964603662491,0.012272302992641926,-0.0054853204637765884,0.029103165492415428,-0.07081936299800873,-0.02961760386824608,-0.005296576302498579,0.03972858563065529,-0.03126703202724457,0.012097029946744442,0.07882526516914368,0.027584293857216835,-0.0014824523823335767,0.01859329640865326,0.02269812487065792,0.02319374307990074,-0.013687234371900558,-0.02213526889681816,0.05161387100815773,0.006548193283379078,-0.0020442293025553226,0.048262178897857666,-0.0026631031651049852,-0.002306712558493018,-0.06575086712837219,-0.0023838477209210396,-0.003039722330868244,-0.06539327651262283,-0.038643404841423035,-0.019109029322862625,-0.039053693413734436,-0.024890869855880737,-0.029590005055069923,0.01267057005316019,0.03281869739294052,-0.017778081819415092,-0.02097601629793644,-0.006268246565014124,0.0625367984175682,0.0002892014745157212,0.05113133788108826,0.14227987825870514,0.06321048736572266,-0.026305463165044785,-0.13171179592609406,0.06814935803413391,0.00023584086738992482,-0.016116812825202942,-0.029181018471717834,0.01125848013907671,0.0035935486666858196,0.020188743248581886,0.03735952079296112,-0.04066459462046623,-0.0356062687933445,-0.009902392514050007,0.024358592927455902,0.044788017868995667,0.023640451952815056,-0.019922012463212013,-0.017135322093963623,0.029167091473937035,-0.016994526609778404,0.028654571622610092,0.012044144794344902,-0.006330572068691254,0.01086342055350542,-0.01049149502068758,0.013277817517518997,0.011067967861890793,-0.029039809480309486,0.004850953817367554,0.024011723697185516,-0.016915639862418175,-0.007252085022628307,-0.010209077037870884,0.005422923713922501,0.012682236731052399,0.02677120454609394,0.0398067943751812,-0.013996196910738945,0.002062486484646797,0.012054838240146637,0.0757407397031784,0.0035166372545063496,0.03623397275805473,-0.04286053031682968,0.03488018363714218,-0.006379141006618738,0.010505156591534615,-0.04569411277770996,0.06205315142869949,0.05401600897312164,0.029762335121631622,0.08060398697853088,-0.015737581998109818,0.028427869081497192,0.026207761839032173,0.002745043719187379,-0.01374670397490263,-0.006229087710380554,0.030823996290564537,-0.03716101869940758,-0.033025242388248444,-0.019286928698420525,0.07845664769411087,-0.007262593600898981,-0.004420085810124874,0.04709816724061966,-0.03937191516160965,-0.018604744225740433,0.03340595215559006,-0.040912192314863205,0.00975604634732008,-0.042512234300374985,0.025307759642601013,0.03706565126776695,-0.01109924167394638,-0.015271754004061222,-0.010829085484147072,0.025395575910806656,0.03633645549416542,0.018328748643398285,-0.040302131325006485,0.004140782169997692,-0.049955811351537704,-0.04550119489431381,-0.030681394040584564,-0.011140359565615654,-0.001158165861852467,0.05336335673928261,0.02632215805351734,0.014190953224897385,0.0325511209666729,-0.050401028245687485,0.020265940576791763,0.0494687482714653,0.027548741549253464,-0.00954116228967905,0.016679445281624794,-0.0061250366270542145,0.023086873814463615,-0.038696032017469406,0.003701180452480912,-0.04693596065044403,-0.07659702748060226,-0.034088294953107834,0.01810741052031517,0.005761137697845697,0.013077901676297188,0.0332406647503376,0.021614495664834976,-0.0009139978792518377,-0.07973309606313705,-0.03217324987053871,0.008530178107321262,-0.013722117058932781,-0.003174748970195651,0.02865075320005417,0.055801864713430405,-0.008590368553996086,-0.06876801699399948,0.003125989343971014,-0.01011994294822216,-0.025901280343532562,0.016240740194916725,0.040713001042604446,0.048034876585006714,0.06073204427957535,-0.022832458838820457,0.04186957702040672,-0.028070909902453423,-0.017865361645817757,0.021903444081544876,-0.012197521515190601,-0.005898785777390003,-0.005026145838201046,-0.0707559883594513,-0.07018686830997467,-0.02284044399857521,-0.00048340499051846564,0.016455477103590965,-0.05092868581414223,0.03949742764234543,-0.0027029006741940975,-0.00028807332273572683,0.006565629038959742,0.01111884880810976,-0.02176753804087639,-0.0009572299313731492,0.01040753535926342,0.010198201984167099,0.03720424696803093,0.012881388887763023,-0.012733855284750462,-0.03904632478952408,-0.09927721321582794,0.02065098099410534,0.009642732329666615,-0.06194112077355385,-0.03353307023644447,-0.01164246816188097,-0.0069906930439174175,-0.01728147827088833,0.028742019087076187,0.0845797136425972,-0.026173580437898636,-0.013152592815458775,0.026785751804709435,-0.015425506979227066,0.006877478212118149,0.002658536657691002,0.008670661598443985,0.007532414980232716,0.017502982169389725,0.03149566799402237,0.03347156196832657,0.01715019904077053,-0.03038584440946579,0.02752954699099064,0.08918122947216034,0.012330600060522556,-0.05106697604060173,-0.004838095977902412,0.011037994176149368,0.000040995866584125906,0.03225310519337654,0.050474051386117935,0.09854210913181305,0.012363290414214134,-0.015755685046315193,-0.04925494268536568,-0.02763490192592144,-0.013630981557071209,0.025295639410614967,-0.04481356590986252,-0.0301944762468338,-0.04558251053094864,0.023465583100914955,0.0027142250910401344,-0.011065397411584854,-0.049811601638793945,-0.0470309816300869,0.05381684750318527,-0.04476659372448921,-0.007300711236894131,0.009925390593707561,0.020632127299904823,0.03042975813150406,-0.02536688558757305,-0.013509252108633518,0.07619951665401459,-0.031182099133729935,0.008640948683023453,-0.027982594445347786,-0.054705388844013214,-0.006438509561121464,-0.011235019192099571,-0.028665468096733093,-0.01177563238888979,0.033470988273620605,0.0002833187463693321,-0.043115124106407166,0.05899793654680252,-0.0896543562412262,-0.005236068274825811,0.06167227402329445,0.04519914090633392,0.01954454369843006,-0.07691866904497147,-0.016814522445201874,0.023359108716249466,0.010918519459664822,-0.0023296938743442297,0.04562373831868172,0.05017790570855141,-0.049381010234355927,-0.009331081993877888,0.018009105697274208,0.025794656947255135,-0.015082997269928455,0.04649590700864792,-0.09915228188037872,0.024281058460474014,-0.015787137672305107,0.004877712111920118,0.03582937642931938,-0.02628527395427227,-0.023807892575860023,0.003941431641578674,0.012784689664840698,0.031436361372470856,-0.015088106505572796,0.05997612327337265,0.023556489497423172,0.023981427773833275,0.017813652753829956,0.00021741083764936775,-0.030505796894431114,-0.039240751415491104,-0.014816481620073318,0.041130002588033676,-0.028217501938343048,0.027574216946959496,-0.052292972803115845,-0.044375281780958176,0.010201475583016872,-0.03887465223670006,-0.010422543622553349,0.029343629255890846,0.008877179585397243,0.05877622589468956,0.035020023584365845,0.014520004391670227,0.00953112356364727,0.019540688022971153,-0.09637445956468582,0.003925866447389126,0.02655930072069168,-0.041040461510419846,-0.04876621440052986,0.03762204572558403,0.044096145778894424,0.1251879185438156,-0.011729591526091099,0.00889687892049551,-0.04372354969382286,0.060661766678094864,0.06267756968736649,-0.03667709231376648,-0.0548558346927166,-0.033822644501924515,0.02976182848215103,-0.05534571036696434,0.005513230804353952,0.03593960404396057,0.017778713256120682,-0.0024559132289141417,-0.03578018769621849,-0.012650378979742527,0.0013077340554445982,-5.272734277227096e-33,-0.04680875688791275,-0.029362373054027557,-0.07204589247703552,0.005523547530174255,-0.002093286020681262,-0.040954072028398514,-0.0018999690655618906,-0.02145414799451828,0.011279191821813583,0.015828460454940796,-0.005796931684017181,-0.06103606894612312,0.003987746778875589,0.011251437477767467,-0.017182886600494385,0.009462804533541203,0.049916915595531464,0.021846473217010498,-0.03773254156112671,0.04509536176919937,0.013821152970194817,0.0304449163377285,0.027988240122795105,0.004477949347347021,0.008161792531609535,0.007247339002788067,0.0671040415763855,0.02166822738945484,-0.03066953271627426,-0.0023268701042979956,-0.0016701804706826806,0.012080718763172626,-0.02479476109147072,-0.04337841644883156,-0.01676000840961933,0.02913612872362137,0.004865085240453482,-0.02960261143743992,-0.014431692659854889,-0.0006295533385127783,0.025696715340018272,-0.0075662946328520775,-0.06026756763458252,0.0005233290139585733,0.023140914738178253,0.03303796797990799,0.009712113067507744,0.017274048179388046,-0.05418255180120468,0.047416798770427704,-0.018884185701608658,0.00983272772282362,-0.006432348862290382,0.033409759402275085,0.00566505454480648,0.0319732129573822,0.018235674127936363,0.0569346658885479,-0.032535091042518616,-0.005352635867893696,0.057237304747104645,0.02880067005753517,0.031802840530872345,0.02308688312768936,0.03728397935628891,-0.011725249700248241,0.032958947122097015,-0.00938505120575428,-0.029544496908783913,-0.0034875560086220503,-0.029324719682335854,0.028729934245347977,0.02277107909321785,-0.05249837413430214,-0.06279120594263077,0.0019229116151109338,0.06435347348451614,-0.006251789163798094,-0.04618865251541138,0.02356097288429737,0.0345086045563221,-0.007044667843729258,-0.01303972490131855,-0.031115198507905006,0.004706611856818199,-0.0958855077624321,-0.0033045569434762,0.021432142704725266,0.02662629261612892,-0.031630951911211014,-0.06389255821704865,0.009314439259469509,-0.02897178940474987,0.06249461695551872,0.028066091239452362,-0.021908562630414963,0.048394881188869476,0.019749855622649193,-0.04130291938781738,-0.026300884783267975,-0.04477030038833618,-0.01788732409477234,0.025938846170902252,-0.0077080740593373775,-0.018560508266091347,-0.018790794536471367,-0.015941808000206947,-0.008761834353208542,-0.05737984552979469,0.0276210755109787,0.019815893843770027,-0.020532768219709396,0.0071600256487727165,-0.03227021545171738,0.04083704948425293,-0.020127402618527412,0.016557123512029648,0.012292248196899891,0.024882672354578972,-0.0809844359755516,0.018740514293313026,-0.023791776970028877,-0.011617246083915234,-0.035139042884111404,0.0172128863632679,0.011018317192792892,-0.032080914825201035,0.01191722135990858,0.0544174388051033,0.06863114982843399,-0.011568913236260414,0.010714797303080559,2.2514582553867513e-7,-0.013212506659328938,0.038612306118011475,0.0033649441320449114,-0.026707252487540245,0.028151554986834526,-0.032203491777181625,0.03275579214096069,0.0027029893826693296,0.021122988313436508,-0.04388076066970825,0.006002139765769243,-0.013095649890601635,0.021704182028770447,0.03625977411866188,-0.04473942518234253,0.010634755715727806,-0.060595039278268814,0.007828223519027233,-0.07912193238735199,0.011492352001369,0.07022646069526672,-0.014606739394366741,0.017408711835741997,0.013177137821912766,0.03745311126112938,0.0468980073928833,-0.003954828716814518,0.0068776560947299,0.044734202325344086,-0.00954701378941536,0.059320949018001556,-0.024715187028050423,-0.0135783851146698,0.07073047012090683,0.007321098819375038,-0.0015639333287253976,-0.04046542942523956,0.004200716502964497,0.05610235780477524,0.03244733437895775,0.044096097350120544,-0.009778264909982681,-0.02044440619647503,-0.017841093242168427,-0.0035323502961546183,-0.09175949543714523,0.026942403987050056,0.002038937993347645,-0.026952238753437996,-0.03884507715702057,-0.017950601875782013,0.0005289992550387979,0.04211624339222908,-0.012490908615291119,0.0015942435711622238,0.0062677329406142235,-0.0372730977833271,0.02741144970059395,0.009787056595087051,0.02066260203719139,-0.0256221741437912,-0.06609415262937546,0.006818730384111404,0.028507398441433907,0.03838175907731056,-0.0445062518119812,-0.01919197291135788,3.332136413311254e-34,-0.017688095569610596,0.04457651078701019,0.0030527657363563776,0.01703396812081337,-0.017254944890737534,-0.014809169806540012,-0.03313108906149864,-0.012274493463337421,0.03937183693051338,-0.09719649702310562,-0.01646299660205841]'
SET
  @TechnicalDesignVector_ab59dd91 = N'[-0.025229381397366524,-0.024553490802645683,-0.026998937129974365,-0.05494336038827896,0.0016450077528133988,-0.028412293642759323,0.02636510506272316,0.0794660747051239,-0.071292445063591,-0.03411727771162987,0.01420179195702076,-0.01153256744146347,0.04404459893703461,0.08518620580434799,0.0054608602076768875,-0.06778869777917862,-0.0004385033680591732,0.023520061746239662,0.01037469319999218,0.0038517597131431103,0.07656364142894745,0.010537508875131607,-0.018513549119234085,0.0077146803960204124,0.0073886653408408165,-0.015442794188857079,-0.004265558440238237,0.00826320517808199,0.07790633291006088,-0.05074984207749367,-0.03149031102657318,0.059462521225214005,-0.017686590552330017,-0.037274714559316635,0.0000013398531564234872,-0.06047452613711357,-0.03638887777924538,0.029180312529206276,-0.03844870254397392,-0.024499788880348206,0.023073652759194374,0.017143601551651955,0.011293403804302216,0.027661647647619247,0.015753373503684998,-0.08586600422859192,0.024354340508580208,0.02561960555613041,0.0811217799782753,-0.014676030725240707,0.01652349904179573,0.011867541819810867,0.03705044463276863,0.023795608431100845,-0.006637196522206068,0.05141857638955116,-0.00929037295281887,-0.05702158063650131,0.022233473137021065,0.006509524770081043,0.009396756999194622,-0.03183567151427269,0.02323102205991745,-0.029654406011104584,-0.0135270357131958,0.05677398666739464,0.0869797021150589,0.05393927916884422,-0.029957976192235947,0.04420829564332962,0.06463375687599182,0.042591556906700134,-0.003295866772532463,-0.038848888128995895,-0.06167244538664818,-0.018997985869646072,-0.01608431339263916,0.03017183393239975,-0.06098561733961105,-0.0029997671954333782,0.04755833372473717,0.006293743383139372,-0.06446937471628189,-0.030007075518369675,0.025215134024620056,0.03169397637248039,0.02623572200536728,-0.031565044075250626,-0.046993106603622437,-0.02780933491885662,0.037450965493917465,-0.029881514608860016,0.03381110355257988,0.015425417572259903,-0.06116635352373123,0.01781691424548626,0.032946787774562836,-0.16563944518566132,0.0663403794169426,0.03566667065024376,0.13783466815948486,0.08175662159919739,-0.058931827545166016,0.016269944608211517,0.029327785596251488,0.11391349881887436,-0.000431006628787145,-0.03879965469241142,-0.023627696558833122,0.01415775716304779,0.008499056100845337,-0.020666634663939476,0.006064224988222122,0.036452874541282654,-0.038345351815223694,0.03128795325756073,-0.042488228529691696,-0.028229016810655594,-0.02378961630165577,0.041113439947366714,0.04066793993115425,-0.04434018209576607,-0.04611102491617203,-0.009839262813329697,-0.008196824230253696,0.009104503318667412,-0.018654819577932358,-0.07894492894411087,-0.0037716790102422237,-0.01618533581495285,0.013292372226715088,-0.00842453632503748,0.037225257605314255,0.0016406439244747162,-0.05317484959959984,-0.011892675422132015,-0.0040581803768873215,0.01464023906737566,0.012183708138763905,-0.018482081592082977,0.002908562310039997,0.05171273648738861,-0.0025214117486029863,-0.0046400041319429874,0.007321937475353479,0.018622849136590958,-0.00012363346468191594,-0.023092133924365044,0.018360476940870285,0.05638548731803894,0.030651880428195,0.012012267485260963,-0.027982614934444427,-0.028968146070837975,-0.04374904930591583,0.0018303422257304192,0.05406297370791435,-0.03192118555307388,-0.04300990328192711,-0.02591807022690773,-0.008274847641587257,0.027580756694078445,0.07895057648420334,0.04091985151171684,-0.03736106678843498,-0.007211930584162474,-0.11217351257801056,-0.010962458327412605,0.017066795378923416,-0.0009306096471846104,0.02764999493956566,-0.006880962755531073,-0.007998834364116192,0.017596952617168427,0.001132313976995647,-0.007626032456755638,-0.031113578006625175,0.026197858154773712,-0.010358069092035294,0.05786861106753349,0.016622522845864296,-0.034776099026203156,0.026761744171380997,0.013376956805586815,0.002754566492512822,0.00019228635937906802,-0.03437802195549011,0.03401954472064972,0.0050536999478936195,0.01900722272694111,-0.0028611698653548956,-0.005422010086476803,-0.04676298424601555,0.007747040130198002,0.016125807538628578,-0.018934674561023712,-0.051413994282484055,0.03374410793185234,0.06783616542816162,-0.006202711258083582,0.01055699959397316,-0.009505003690719604,0.02456163801252842,0.06342025101184845,0.021681150421500206,-0.03411734849214554,-0.0009813136421144009,-0.013593753799796104,0.010928281582891941,0.02610143832862377,-0.006468313280493021,0.005751691292971373,-0.01798500306904316,-0.00896442774683237,-0.01560820359736681,-0.03307094797492027,0.009653277695178986,0.035650499165058136,-0.08152381330728531,-0.04045145958662033,-0.0026823964435607195,0.03633540868759155,0.041510455310344696,0.019274940714240074,0.13753142952919006,-0.0050389934331178665,-0.004044953268021345,-0.0009115132270380855,0.018243608996272087,0.015125926584005356,-0.01874651573598385,0.0005758063634857535,-0.015393977053463459,-0.01601633056998253,0.013640361838042736,0.005383829120546579,-0.03745819628238678,-0.033740460872650146,-0.019447773694992065,0.03229343518614769,-0.02852630615234375,-0.0015668704872950912,-0.03216522932052612,-0.004096520598977804,-0.06652871519327164,-0.053331244736909866,-0.04956599324941635,0.017623012885451317,-0.0049529834650456905,0.023443149402737617,0.016876641660928726,-0.026315104216337204,0.06076009199023247,-0.026358872652053833,0.04126882925629616,0.02329694665968418,0.02828262746334076,-0.024342546239495277,-0.05453765019774437,0.012696840800344944,-0.01879114657640457,-0.0003378826368134469,0.0016529769636690617,0.007382995914667845,0.026592589914798737,-0.005041162949055433,0.04092713072896004,-0.05952007323503494,-0.03723474591970444,0.007056003902107477,0.010948147624731064,0.024506166577339172,0.007870467379689217,-0.01596773788332939,-0.001672686543315649,-0.021507764235138893,-0.041660722345113754,0.023566585034132004,0.012614540755748749,-0.004003454465419054,-0.004365411587059498,-0.06528642773628235,0.0013439370086416602,0.006175028160214424,-0.04601655900478363,0.014822466298937798,-0.0021627291571348906,-0.009247093461453915,-0.04753263667225838,-0.029649486765265465,0.011371401138603687,0.007402239833027124,0.004508758895099163,0.005362385418266058,-0.0052923220209777355,0.00492582144215703,0.11565481126308441,0.015475562773644924,0.0036746615078300238,-0.003872836008667946,-0.015276945196092129,-0.011494699865579605,-0.04142773896455765,0.001720501109957695,-0.03416500985622406,0.05076128989458084,0.02134023606777191,-0.0151895172894001,0.046909723430871964,0.03498496115207672,0.01759509928524494,0.02688993513584137,-0.011882311664521694,0.009551389142870903,0.0028204675763845444,0.0626610741019249,-0.01915704272687435,0.008715217933058739,-0.04287811368703842,0.039366379380226135,0.0038687163032591343,-0.03747660666704178,0.03338976204395294,-0.031002385541796684,-0.010375705547630787,0.015811029821634293,0.027326975017786026,-0.025981010869145393,-0.03588614985346794,0.029654663056135178,0.010658029466867447,-0.01718287356197834,0.0008309516706503928,0.012749187648296356,0.06439627707004547,0.023672066628932953,-0.024425482377409935,0.004053134936839342,-0.013551564887166023,-0.04015784338116646,-0.02249002829194069,-0.05623609945178032,-0.006124784238636494,0.01184610091149807,0.03664455935359001,-0.022303590551018715,-0.020197128877043724,0.03793534263968468,-0.03092072531580925,0.018597502261400223,0.037757936865091324,0.04933089017868042,0.007746689487248659,-0.01219987589865923,-0.01290079578757286,0.04447050392627716,-0.0325704962015152,-0.020365776494145393,-0.0084465891122818,-0.035750001668930054,0.00518814055249095,0.04073323681950569,0.1012573391199112,0.021867381408810616,0.027594689279794693,0.019821632653474808,0.04996747523546219,-0.016752060502767563,-0.010312775149941444,0.04823065176606178,-0.036094315350055695,-0.009199054911732674,0.019433381035923958,0.05323838070034981,0.00992040615528822,-0.02714298479259014,0.012874865904450417,-0.025060467422008514,-0.055837247520685196,0.006691810209304094,0.057110320776700974,-0.01632852852344513,0.10700415819883347,0.00960058718919754,0.04236803203821182,-0.02094889245927334,-0.01738772541284561,-0.009441775269806385,-0.00006778612441848963,-0.01516939327120781,-0.0343402624130249,-0.006908542010933161,-0.03597339242696762,0.005266869440674782,0.04080324247479439,0.07227693498134613,-0.04225461557507515,0.00510735297575593,0.057257141917943954,0.0015188533579930663,-0.015583147294819355,0.02656569518148899,0.023530643433332443,0.003553940448909998,-0.003021430689841509,-0.014840968884527683,0.029148241505026817,0.0198484119027853,-0.013911017216742039,-0.017688943073153496,-0.07420587539672852,-0.06939633190631866,-0.026309728622436523,-0.0552479512989521,-0.096931092441082,-0.00414276123046875,-0.0036666220985352993,-0.0606832355260849,0.04303744062781334,0.06241094321012497,-0.05781780183315277,0.006778503302484751,0.017035679891705513,-0.0022639217786490917,0.06103349104523659,-0.02302045002579689,-0.016995780169963837,-0.021138178184628487,-0.011717023327946663,-0.005308490712195635,-0.016635708510875702,-0.0035922639071941376,-0.02660446986556053,0.05923349782824516,0.03412362560629845,-0.03261549398303032,-0.045086171478033066,0.009492114186286926,0.03172517567873001,-0.03375231847167015,0.04944222420454025,-0.005205084569752216,0.07442189753055573,-0.007090955972671509,-0.03916638717055321,-0.031711332499980927,-0.025329558178782463,0.055394601076841354,0.02992759458720684,-0.03497462347149849,0.035872265696525574,-0.037630192935466766,-0.02655991166830063,0.010108492337167263,-0.02138798125088215,-0.0680297389626503,-0.046002909541130066,0.04562155902385712,-0.005688015837222338,0.038965854793787,0.005971717182546854,0.0198396984487772,-0.0036052470095455647,0.00564220454543829,-0.015980742871761322,-0.00442212400957942,0.037891995161771774,-0.030864689499139786,-0.007101076655089855,-0.05242917686700821,0.005461402237415314,-0.015981994569301605,-0.0381653867661953,-0.034797847270965576,0.0394803062081337,0.013033979572355747,0.0002277549501741305,0.05524018779397011,-0.07207712531089783,0.03499256819486618,0.05507193133234978,0.07067616283893585,-0.019231297075748444,-0.013757571578025818,-0.00521943811327219,-0.005290020722895861,0.003997483756393194,-0.0068102674558758736,-0.004878181964159012,-0.01007047202438116,-0.0353090763092041,-0.018088381737470627,-0.012370061129331589,0.06674505770206451,0.06048702448606491,0.05219963192939758,-0.08952666074037552,0.02537441998720169,-0.05439087003469467,-0.028255224227905273,0.005328424274921417,-0.05516998469829559,-0.016971876844763756,-0.017822302877902985,-0.003531348891556263,0.005454849451780319,-0.002697395160794258,0.07716067135334015,-0.008798045106232166,-0.024506740272045135,0.002280930755659938,0.02131620980799198,0.00527364294975996,-0.040118832141160965,-0.03901444748044014,0.056305937469005585,-0.031096618622541428,0.03389182314276695,-0.03035978227853775,-0.05171630531549454,0.021116042509675026,0.00281690526753664,0.010499406605958939,0.020356658846139908,0.043240610510110855,0.07091354578733444,0.0476389080286026,0.030958013609051704,-0.015231406316161156,0.024214502424001694,-0.008076840080320835,0.03223011642694473,0.008832988329231739,-0.020071273669600487,-0.022950507700443268,0.05010633543133736,-0.02032366581261158,0.06730415672063828,0.022564876824617386,-0.04835685342550278,-0.06439990550279617,0.057383906096220016,0.06309956312179565,0.022919779643416405,-0.011997812427580357,-0.012754571624100208,0.02901414781808853,-0.040847960859537125,-0.018190594390034676,-0.011045991443097591,0.02359139733016491,0.024364523589611053,-0.0031239658128470182,-0.015073074027895927,0.013643370941281319,-5.2781937138026964e-33,-0.056338489055633545,-0.004816878121346235,-0.031871430575847626,0.056820034980773926,0.007463808637112379,0.002282726811245084,-0.010159896686673164,-0.052168797701597214,0.03889094293117523,-0.026168210431933403,0.007963288575410843,-0.08251495659351349,0.016083577647805214,0.005967617500573397,-0.05042221397161484,-0.004453475587069988,0.045682139694690704,0.028942173346877098,-0.02531576342880726,0.02103453502058983,-0.02457559108734131,0.014573388732969761,0.06993450969457626,-0.0424950048327446,-0.031010137870907784,0.002890540286898613,0.02499062567949295,0.01666504144668579,-0.038483161479234695,0.02321799285709858,0.011377080343663692,0.04008374735713005,-0.02647978998720646,-0.0764017328619957,-0.024432972073554993,0.0584375225007534,-0.051355525851249695,-0.04790002107620239,0.015288546681404114,-0.01719069294631481,0.010596697218716145,-0.004242224618792534,-0.014959932304918766,-0.008777907118201256,0.02171388454735279,0.0292710792273283,0.01647157408297062,-0.006675635930150747,0.0005450132302939892,-0.04940896853804588,-0.010341153480112553,0.009867027401924133,-0.008008117787539959,0.05035741254687309,-0.026934288442134857,0.04063643142580986,0.06393887847661972,0.02552715688943863,-0.050911903381347656,-0.024261359125375748,-0.012633430771529675,-0.006041713524609804,0.025005530565977097,0.04165981337428093,0.013811270706355572,0.003339652204886079,0.07459086924791336,-0.0018800682155415416,-0.0735919177532196,-0.0012231497094035149,0.0058461385779082775,-0.05658626928925514,0.06456150114536285,-0.010435283184051514,-0.012316773645579815,0.023671887814998627,0.0007473238511011004,0.0185931958258152,0.019272183999419212,0.04995960742235184,0.06437226384878159,0.027580680325627327,-0.01076301746070385,-0.017756309360265732,-0.04114453122019768,-0.030277332291007042,0.014265443198382854,0.034782830625772476,-0.0021726565901190042,-0.019664473831653595,-0.04238137602806091,-0.004215036053210497,-0.011994131840765476,0.06951223313808441,-0.049406085163354874,-0.022193338721990585,0.04572340101003647,0.04272906482219696,-0.04364924877882004,-0.027882883325219154,-0.02677871286869049,-0.026140792295336723,-0.011782580055296421,-0.01494643185287714,0.0002392558235442266,0.00020665368356276304,-0.026834463700652122,-0.010387794114649296,-0.08596646785736084,0.04518332704901695,0.017566874623298645,0.029447611421346664,-0.017439238727092743,-0.0023473447654396296,0.042533211410045624,-0.022269047796726227,-0.004938273690640926,0.0058664726093411446,0.015738215297460556,-0.06162819638848305,-0.02121480368077755,0.01394014060497284,0.030300693586468697,0.013046612031757832,0.001449615228921175,-0.00033579824957996607,-0.012089922092854977,-0.05037012696266174,0.026117177680134773,0.01840546354651451,-0.006422908045351505,0.040853243321180344,2.1976745756546734e-7,0.006316007114946842,0.0261367317289114,0.007885534316301346,0.0015959602314978838,0.03495636582374573,0.004153511952608824,0.031827595084905624,-0.010186857543885708,-0.0034849951043725014,-0.07263556867837906,-0.003617793321609497,-0.023633675649762154,0.016236845403909683,0.06377393007278442,-0.0028315403033047915,-0.002854730701074004,-0.09083568304777145,-0.02341223880648613,-0.07194315642118454,0.029396861791610718,0.07558456063270569,0.0090132812038064,0.03338661789894104,0.005473389755934477,0.04519708454608917,0.05972903594374657,0.0064567080698907375,-0.009090693667531013,0.04061221703886986,-0.021017717197537422,0.009368827566504478,-0.05633563548326492,-0.016340767964720726,0.04810330271720886,0.03281378000974655,0.006161059252917767,0.003166930517181754,0.037685275077819824,0.05209065601229668,0.10681851953268051,0.06485927104949951,0.007639020215719938,-0.017538737505674362,-0.06237673759460449,0.02114086225628853,-0.03283434361219406,-0.004697869997471571,-0.03728059306740761,-0.03732897713780403,-0.015713969245553017,-0.006999890320003033,0.008558269590139389,-0.0190923772752285,-0.000491326383780688,-0.00982245896011591,-0.03412219136953354,-0.03670797497034073,0.0021638034377247095,-0.058114465326070786,-0.016209209337830544,-0.03346770256757736,-0.02860509231686592,-0.04639091715216637,0.02670099213719368,-0.008855555206537247,-0.06942418217658997,-0.037767112255096436,3.1776714046609167e-34,-0.012598773464560509,-0.0366918183863163,-0.019118940457701683,0.04335504025220871,0.009387214668095112,0.013939492404460907,-0.011851893737912178,0.019064730033278465,-0.004306364804506302,-0.061065424233675,-0.03391743451356888]'
SET
  @HasCustomProps_ab59dd91 = 1
SET
  @HasCustomEvents_ab59dd91 = 1
SET
  @RequiresData_ab59dd91 = 1
SET
  @DependencyCount_ab59dd91 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_ab59dd91 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_ab59dd91 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_ab59dd91 = 1
SET
  @ID_ab59dd91 = '7E51E1BF-E118-4EA3-8B71-E2098F5CF11E'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_ab59dd91,
  @Name = @Name_ab59dd91,
  @Version = @Version_ab59dd91,
  @VersionSequence = @VersionSequence_ab59dd91,
  @Title = @Title_ab59dd91,
  @Description = @Description_ab59dd91,
  @Type = @Type_ab59dd91,
  @Status = @Status_ab59dd91,
  @DeveloperName = @DeveloperName_ab59dd91,
  @DeveloperEmail = @DeveloperEmail_ab59dd91,
  @DeveloperOrganization = @DeveloperOrganization_ab59dd91,
  @SourceRegistryID = @SourceRegistryID_ab59dd91,
  @ReplicatedAt = @ReplicatedAt_ab59dd91,
  @LastSyncedAt = @LastSyncedAt_ab59dd91,
  @Specification = @Specification_ab59dd91,
  @FunctionalRequirements = @FunctionalRequirements_ab59dd91,
  @TechnicalDesign = @TechnicalDesign_ab59dd91,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_ab59dd91,
  @TechnicalDesignVector = @TechnicalDesignVector_ab59dd91,
  @HasCustomProps = @HasCustomProps_ab59dd91,
  @HasCustomEvents = @HasCustomEvents_ab59dd91,
  @RequiresData = @RequiresData_ab59dd91,
  @DependencyCount = @DependencyCount_ab59dd91,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_ab59dd91,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_ab59dd91,
  @HasRequiredCustomProps = @HasRequiredCustomProps_ab59dd91,
  @ID = @ID_ab59dd91;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_0806966f NVARCHAR(MAX),
@Name_0806966f NVARCHAR(500),
@Version_0806966f NVARCHAR(50),
@VersionSequence_0806966f INT,
@Title_0806966f NVARCHAR(1000),
@Description_0806966f NVARCHAR(MAX),
@Type_0806966f NVARCHAR(255),
@Status_0806966f NVARCHAR(50),
@DeveloperName_0806966f NVARCHAR(255),
@DeveloperEmail_0806966f NVARCHAR(255),
@DeveloperOrganization_0806966f NVARCHAR(255),
@SourceRegistryID_0806966f UNIQUEIDENTIFIER,
@ReplicatedAt_0806966f DATETIMEOFFSET,
@LastSyncedAt_0806966f DATETIMEOFFSET,
@Specification_0806966f NVARCHAR(MAX),
@FunctionalRequirements_0806966f NVARCHAR(MAX),
@TechnicalDesign_0806966f NVARCHAR(MAX),
@FunctionalRequirementsVector_0806966f NVARCHAR(MAX),
@TechnicalDesignVector_0806966f NVARCHAR(MAX),
@HasCustomProps_0806966f BIT,
@HasCustomEvents_0806966f BIT,
@RequiresData_0806966f BIT,
@DependencyCount_0806966f INT,
@TechnicalDesignVectorEmbeddingModelID_0806966f NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_0806966f NVARCHAR(MAX),
@HasRequiredCustomProps_0806966f BIT,
@ID_0806966f UNIQUEIDENTIFIER
SET
  @Namespace_0806966f = N'Generic/UI/AI'
SET
  @Name_0806966f = N'AIInsightsPanel'
SET
  @Version_0806966f = N'1.0.0'
SET
  @VersionSequence_0806966f = 1
SET
  @Title_0806966f = N'AI Insights Panel'
SET
  @Description_0806966f = N'Styled panel for displaying AI-generated insights with markdown rendering (via marked.js 11.1.1). Accepts insights text (markdown), loading state, error state, and onGenerate callback. Built-in actions: collapse/expand, copy to clipboard, export as markdown file (.md), refresh insights. Renders markdown with proper heading hierarchy, lists, bold/italic, code blocks, blockquotes, tables. Scrollable content area (default 400px max-height). Customizable title, icon (Font Awesome), icon color, position (top/bottom). Optional custom buttons and onClose callback. Loading state shows spinner, error state shows red alert banner.

#### AIInsightsPanel - ONLY use when:
✅ Displaying AI-generated text/analysis (markdown format)
✅ Need built-in copy/export/refresh actions
✅ Content is read-only (not editable)
✅ Want collapsible panel to save screen space
✅ Insights are context-specific to the current view (e.g., ''AI Analysis of Selected Data'')
✅ Need loading/error state handling

❌ DO NOT USE AIInsightsPanel when:
- Content is not from AI generation → Use regular markdown display or text component
- Need rich text editing → Use a markdown editor component
- Displaying static help text or documentation → Use regular div with markdown
- Content requires user interaction beyond copy/export → Build custom panel
- Need complex layout with multiple sections → Use custom component with markdown rendering

**Use Cases**: Dashboard AI insights, data analysis summaries, trend explanations, anomaly detection reports, conversational AI responses, report narration, chart interpretation, data quality assessments.
'
SET
  @Type_0806966f = N'Widget'
SET
  @Status_0806966f = N'Published'
SET
  @Specification_0806966f = N'{"name":"AIInsightsPanel","code":"function AIInsightsPanel({ \n  utilities, \n  styles, \n  components, \n  callbacks, \n  savedUserSettings, \n  onSaveUserSettings,\n  // Required props\n  insights,\n  loading,\n  error,\n  onGenerate,\n  // Optional props with defaults\n  title = ''AI Insights'',\n  icon = ''fa-wand-magic-sparkles'',\n  iconColor = ''#8B5CF6'',\n  maxHeight = ''400px'',\n  showRefresh = true,\n  showExport = true,\n  showCopy = true,\n  position = ''top'',\n  defaultCollapsed = false,\n  onClose,\n  customButtons = []\n}) {\n  const { useState, useEffect, useRef } = React;\n  \n  // State\n  const [collapsed, setCollapsed] = useState(defaultCollapsed);\n  const [copyFeedback, setCopyFeedback] = useState(false);\n  \n  // Load marked library if available\n  const marked = window.marked;\n  \n  // Format insights using marked if available, otherwise fallback to plain text\n  const formatInsights = (text) => {\n    if (!text) return null;\n    \n    // If marked is available, use it for markdown rendering\n    if (marked && marked.parse) {\n      try {\n        const htmlContent = marked.parse(text);\n        return (\n          <div \n            className=\"markdown-insights\"\n            dangerouslySetInnerHTML={{ __html: htmlContent }}\n            style={{\n              color: ''#374151'',\n              lineHeight: ''1.6''\n            }}\n          />\n        );\n      } catch (err) {\n        console.warn(''Failed to parse markdown:'', err);\n      }\n    }\n    \n    // Fallback to plain text with basic formatting\n    return (\n      <div style={{ whiteSpace: ''pre-wrap'', color: ''#374151'', lineHeight: ''1.6'' }}>\n        {text}\n      </div>\n    );\n  };\n  \n  // Copy to clipboard functionality\n  const copyToClipboard = async () => {\n    if (!insights) return;\n    \n    try {\n      await navigator.clipboard.writeText(insights);\n      setCopyFeedback(true);\n      setTimeout(() => setCopyFeedback(false), 2000);\n    } catch (err) {\n      console.error(''Failed to copy:'', err);\n    }\n  };\n  \n  // Export as markdown functionality\n  const exportAsMarkdown = () => {\n    if (!insights) return;\n    \n    const timestamp = new Date().toISOString().split(''T'')[0];\n    const markdownContent = `# $' + '{title}\n\nGenerated: $' + '{new Date().toLocaleString()}\n\n---\n\n$' + '{insights}`;\n    \n    const blob = new Blob([markdownContent], { type: ''text/markdown'' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(''a'');\n    a.href = url;\n    a.download = `ai-insights-$' + '{timestamp}.md`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  \n  // Don''t render if no insights and no error\n  if (!insights && !error && !loading) {\n    return null;\n  }\n  \n  const panelStyles = {\n    marginBottom: position === ''top'' ? (styles?.spacing?.lg || ''20px'') : 0,\n    marginTop: position === ''bottom'' ? (styles?.spacing?.lg || ''20px'') : 0,\n    padding: styles?.spacing?.lg || ''20px'',\n    backgroundColor: styles?.colors?.surface || ''white'',\n    borderRadius: styles?.borders?.radius || ''8px'',\n    border: `1px solid $' + '{styles?.colors?.border || ''#E5E7EB''}`,\n    boxShadow: ''0 2px 4px rgba(0, 0, 0, 0.1)'',\n    background: ''linear-gradient(135deg, #ffffff 0%, #f9fafb 100%)'',\n    transition: ''all 0.3s ease'',\n    cursor: ''default''\n  };\n  \n  return (\n    <div \n      onDoubleClick={() => setCollapsed(!collapsed)}\n      style={panelStyles}\n    >\n      {/* Header */}\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center'',\n        marginBottom: collapsed ? 0 : (styles?.spacing?.md || ''16px'')\n      }}>\n        {/* Title with icon */}\n        <h3 style={{\n          margin: 0,\n          fontSize: ''18px'',\n          fontWeight: ''600'',\n          color: styles?.colors?.text || ''#111827'',\n          display: ''flex'',\n          alignItems: ''center'',\n          gap: styles?.spacing?.sm || ''8px''\n        }}>\n          <i className={`fa-solid $' + '{icon}`} style={{ color: iconColor }}></i>\n          {title}\n        </h3>\n        \n        {/* Button group */}\n        <div style={{ \n          display: ''flex'', \n          gap: styles?.spacing?.sm || ''8px'', \n          alignItems: ''center'' \n        }}>\n          {/* Collapse/Expand button - always first */}\n          <button\n            onClick={() => setCollapsed(!collapsed)}\n            style={{\n              background: ''none'',\n              border: `1px solid $' + '{styles?.colors?.border || ''#E5E7EB''}`,\n              borderRadius: ''6px'',\n              color: styles?.colors?.textSecondary || ''#6B7280'',\n              cursor: ''pointer'',\n              padding: ''6px 10px'',\n              fontSize: ''14px'',\n              display: ''flex'',\n              alignItems: ''center'',\n              gap: ''4px'',\n              transition: ''all 0.2s''\n            }}\n            title={collapsed ? ''Expand'' : ''Collapse''}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = ''#F9FAFB'';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = ''transparent'';\n            }}\n          >\n            <i className={`fa-solid fa-chevron-$' + '{collapsed ? ''down'' : ''up''}`}></i>\n          </button>\n          \n          {/* Copy button */}\n          {showCopy && insights && (\n            <button\n              onClick={copyToClipboard}\n              style={{\n                background: copyFeedback ? ''#10B981'' : ''none'',\n                border: `1px solid $' + '{copyFeedback ? ''#10B981'' : styles?.colors?.border || ''#E5E7EB''}`,\n                borderRadius: ''6px'',\n                color: copyFeedback ? ''white'' : (styles?.colors?.textSecondary || ''#6B7280''),\n                cursor: ''pointer'',\n                padding: ''6px 10px'',\n                fontSize: ''14px'',\n                display: ''flex'',\n                alignItems: ''center'',\n                gap: ''4px'',\n                transition: ''all 0.2s''\n              }}\n              title={copyFeedback ? ''Copied!'' : ''Copy to clipboard''}\n            >\n              <i className={`fa-solid fa-$' + '{copyFeedback ? ''check'' : ''copy''}`}></i>\n              {copyFeedback && <span style={{ fontSize: ''12px'' }}>Copied!</span>}\n            </button>\n          )}\n          \n          {/* Export button */}\n          {showExport && insights && (\n            <button\n              onClick={exportAsMarkdown}\n              style={{\n                background: ''none'',\n                border: `1px solid $' + '{styles?.colors?.border || ''#E5E7EB''}`,\n                borderRadius: ''6px'',\n                color: styles?.colors?.textSecondary || ''#6B7280'',\n                cursor: ''pointer'',\n                padding: ''6px 10px'',\n                fontSize: ''14px'',\n                display: ''flex'',\n                alignItems: ''center'',\n                gap: ''4px'',\n                transition: ''all 0.2s''\n              }}\n              title=\"Export as Markdown\"\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = ''#F9FAFB'';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = ''transparent'';\n              }}\n            >\n              <i className=\"fa-solid fa-download\"></i>\n            </button>\n          )}\n          \n          {/* Refresh button */}\n          {showRefresh && onGenerate && (\n            <button\n              onClick={() => {\n                setCollapsed(false);\n                onGenerate();\n              }}\n              disabled={loading}\n              style={{\n                background: ''none'',\n                border: `1px solid $' + '{styles?.colors?.border || ''#E5E7EB''}`,\n                borderRadius: ''6px'',\n                padding: ''6px 10px'',\n                cursor: loading ? ''not-allowed'' : ''pointer'',\n                color: styles?.colors?.textSecondary || ''#6B7280'',\n                fontSize: ''14px'',\n                display: ''flex'',\n                alignItems: ''center'',\n                gap: ''4px'',\n                opacity: loading ? 0.5 : 1,\n                transition: ''all 0.2s''\n              }}\n              title=\"Refresh insights\"\n            >\n              <i className={`fa-solid fa-$' + '{loading ? ''spinner fa-spin'' : ''arrows-rotate''}`}></i>\n            </button>\n          )}\n          \n          {/* Custom buttons */}\n          {customButtons.map((button, index) => (\n            <button\n              key={index}\n              onClick={button.onClick}\n              disabled={button.disabled}\n              style={{\n                background: ''none'',\n                border: `1px solid $' + '{styles?.colors?.border || ''#E5E7EB''}`,\n                borderRadius: ''6px'',\n                padding: ''6px 10px'',\n                cursor: button.disabled ? ''not-allowed'' : ''pointer'',\n                color: styles?.colors?.textSecondary || ''#6B7280'',\n                fontSize: ''14px'',\n                display: ''flex'',\n                alignItems: ''center'',\n                gap: ''4px'',\n                opacity: button.disabled ? 0.5 : 1,\n                ...button.style\n              }}\n              title={button.title}\n            >\n              {button.icon && <i className={button.icon}></i>}\n              {button.label && <span>{button.label}</span>}\n            </button>\n          ))}\n          \n          {/* Close button */}\n          {onClose && (\n            <button\n              onClick={onClose}\n              style={{\n                background: ''none'',\n                border: ''none'',\n                fontSize: ''20px'',\n                cursor: ''pointer'',\n                color: styles?.colors?.textSecondary || ''#6B7280'',\n                padding: ''4px'',\n                transition: ''all 0.2s''\n              }}\n              title=\"Close\"\n              onMouseEnter={(e) => {\n                e.currentTarget.style.color = ''#EF4444'';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.color = styles?.colors?.textSecondary || ''#6B7280'';\n              }}\n            >\n              ×\n            </button>\n          )}\n        </div>\n      </div>\n      \n      {/* Content - only show when not collapsed */}\n      {!collapsed && (\n        <div>\n          {/* Loading state */}\n          {loading && (\n            <div style={{\n              padding: ''24px'',\n              textAlign: ''center'',\n              color: styles?.colors?.textSecondary || ''#6B7280'',\n              backgroundColor: ''#F9FAFB'',\n              borderRadius: ''6px''\n            }}>\n              <i className=\"fa-solid fa-spinner fa-spin\" style={{ fontSize: ''24px'', marginBottom: ''12px'' }}></i>\n              <div>Generating AI insights...</div>\n            </div>\n          )}\n          \n          {/* Error state */}\n          {error && !loading && (\n            <div style={{\n              color: styles?.colors?.error || ''#EF4444'',\n              padding: ''12px'',\n              backgroundColor: ''#FEE2E2'',\n              borderRadius: ''6px'',\n              border: ''1px solid #FECACA'',\n              display: ''flex'',\n              alignItems: ''start'',\n              gap: ''8px''\n            }}>\n              <i className=\"fa-solid fa-exclamation-triangle\" style={{ marginTop: ''2px'' }}></i>\n              <div>{error}</div>\n            </div>\n          )}\n          \n          {/* Insights content */}\n          {insights && !loading && (\n            <div style={{\n              maxHeight: maxHeight,\n              overflowY: ''auto'',\n              padding: ''12px'',\n              backgroundColor: ''#F9FAFB'',\n              borderRadius: ''6px''\n            }}>\n              {formatInsights(insights)}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Add styles for markdown content */}\n      <style>{`\n        .markdown-insights h1 { font-size: 20px; font-weight: 600; color: #111827; margin: 16px 0 12px 0; }\n        .markdown-insights h2 { font-size: 18px; font-weight: 600; color: #1F2937; margin: 14px 0 10px 0; }\n        .markdown-insights h3 { font-size: 16px; font-weight: 600; color: #374151; margin: 12px 0 8px 0; }\n        .markdown-insights h4 { font-size: 14px; font-weight: 600; color: #4B5563; margin: 10px 0 6px 0; }\n        .markdown-insights p { margin: 8px 0; color: #374151; line-height: 1.6; }\n        .markdown-insights ul, .markdown-insights ol { margin: 8px 0; padding-left: 24px; color: #374151; }\n        .markdown-insights li { margin: 4px 0; line-height: 1.5; }\n        .markdown-insights strong { font-weight: 600; color: #1F2937; }\n        .markdown-insights em { font-style: italic; }\n        .markdown-insights code { background: #F3F4F6; padding: 2px 4px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }\n        .markdown-insights blockquote { border-left: 3px solid $' + '{iconColor}; padding-left: 12px; margin: 12px 0; color: #4B5563; }\n        .markdown-insights hr { border: none; border-top: 1px solid #E5E7EB; margin: 16px 0; }\n        .markdown-insights a { color: $' + '{iconColor}; text-decoration: none; }\n        .markdown-insights a:hover { text-decoration: underline; }\n        .markdown-insights table { border-collapse: collapse; width: 100%; margin: 12px 0; }\n        .markdown-insights th, .markdown-insights td { border: 1px solid #E5E7EB; padding: 8px; text-align: left; }\n        .markdown-insights th { background: #F9FAFB; font-weight: 600; }\n        .markdown-insights pre { background: #1F2937; color: #F9FAFB; padding: 12px; border-radius: 6px; overflow-x: auto; }\n      `}</style>\n    </div>\n  );\n}\n\nreturn AIInsightsPanel;","namespace":"Generic/UI/AI","title":"AI Insights Panel","type":"Widget","version":"1.0.0","description":"Styled panel for displaying AI-generated insights with markdown rendering (via marked.js 11.1.1). Accepts insights text (markdown), loading state, error state, and onGenerate callback. Built-in actions: collapse/expand, copy to clipboard, export as markdown file (.md), refresh insights. Renders markdown with proper heading hierarchy, lists, bold/italic, code blocks, blockquotes, tables. Scrollable content area (default 400px max-height). Customizable title, icon (Font Awesome), icon color, position (top/bottom). Optional custom buttons and onClose callback. Loading state shows spinner, error state shows red alert banner.\n\n#### AIInsightsPanel - ONLY use when:\n✅ Displaying AI-generated text/analysis (markdown format)\n✅ Need built-in copy/export/refresh actions\n✅ Content is read-only (not editable)\n✅ Want collapsible panel to save screen space\n✅ Insights are context-specific to the current view (e.g., ''AI Analysis of Selected Data'')\n✅ Need loading/error state handling\n\n❌ DO NOT USE AIInsightsPanel when:\n- Content is not from AI generation → Use regular markdown display or text component\n- Need rich text editing → Use a markdown editor component\n- Displaying static help text or documentation → Use regular div with markdown\n- Content requires user interaction beyond copy/export → Build custom panel\n- Need complex layout with multiple sections → Use custom component with markdown rendering\n\n**Use Cases**: Dashboard AI insights, data analysis summaries, trend explanations, anomaly detection reports, conversational AI responses, report narration, chart interpretation, data quality assessments.\n","properties":[{"name":"insights","type":"string","description":"The AI-generated insights content (supports markdown)","required":true},{"name":"loading","type":"boolean","description":"Whether the insights are currently being generated","required":true},{"name":"error","type":"string","description":"Error message to display if insights generation failed","required":true},{"name":"onGenerate","type":"function","description":"Callback function to generate/refresh insights","required":true},{"name":"title","type":"string","description":"Title text for the panel header","default":"AI Insights"},{"name":"icon","type":"string","description":"Font Awesome icon class for the title","default":"fa-wand-magic-sparkles"},{"name":"iconColor","type":"string","description":"Color for the title icon","default":"#8B5CF6"},{"name":"maxHeight","type":"string","description":"Maximum height for the content area with scroll","default":"400px"},{"name":"showRefresh","type":"boolean","description":"Whether to show the refresh button","default":true},{"name":"showExport","type":"boolean","description":"Whether to show the export to markdown button","default":true},{"name":"showCopy","type":"boolean","description":"Whether to show the copy to clipboard button","default":true},{"name":"position","type":"string","description":"Position of the panel (''top'' or ''bottom'') affects margin","default":"top"},{"name":"defaultCollapsed","type":"boolean","description":"Whether the panel starts in collapsed state","default":false},{"name":"onClose","type":"function","description":"Optional callback when close button is clicked"},{"name":"customButtons","type":"array","description":"Array of custom button configurations to add to the button bar","default":[]}],"events":[{"name":"onToggleCollapse","description":"Fired when the panel is collapsed or expanded","parameters":[{"name":"collapsed","type":"boolean","description":"The new collapsed state"}]},{"name":"onCopy","description":"Fired when content is copied to clipboard","parameters":[]},{"name":"onExport","description":"Fired when content is exported as markdown","parameters":[]}],"libraries":[{"name":"marked","version":"11.1.1","globalVariable":"marked"}],"usageExample":"// Basic usage\n<AIInsightsPanel\n  insights={aiInsights}\n  loading={loadingInsights}\n  error={insightsError}\n  onGenerate={generateInsights}\n  title=\"Sales Analysis Insights\"\n  iconColor=\"#10B981\"\n/>\n\n// With custom buttons\n<AIInsightsPanel\n  insights={aiInsights}\n  loading={loadingInsights}\n  error={insightsError}\n  onGenerate={generateInsights}\n  onClose={() => setShowInsights(false)}\n  customButtons={[\n    {\n      icon: ''fa-solid fa-share'',\n      title: ''Share'',\n      onClick: handleShare\n    }\n  ]}\n/>","functionalRequirements":"## Purpose\nDisplay AI-generated insights with markdown rendering, built-in actions (copy/export/refresh), and collapsible UI. Styled panel optimized for showing AI analysis text.\n\n## Required Props\n- **insights** (string): AI-generated markdown text to display\n- **loading** (boolean): True while AI is generating insights\n- **error** (string): Error message if generation failed\n- **onGenerate** (function): Callback to generate/regenerate insights\n\n## Content Rendering\n\n### Markdown Support\n- Uses **marked.js 11.1.1** for markdown parsing\n- Fallback to plain text if marked unavailable\n- Supported markdown features:\n  - Headings (h1-h4) with hierarchy\n  - Bold, italic, strikethrough\n  - Lists (ordered and unordered)\n  - Code blocks with syntax highlighting\n  - Inline code with background\n  - Blockquotes with colored left border\n  - Tables with borders\n  - Horizontal rules\n  - Links with hover underline\n\n### Styling\n- Proper heading hierarchy: h1 (20px) → h2 (18px) → h3 (16px) → h4 (14px)\n- Code blocks: Dark background (#1F2937) with light text\n- Inline code: Light gray background (#F3F4F6)\n- Blockquote: Colored left border matches icon color\n- Links: Match icon color with hover underline\n- Tables: Bordered with header background\n\n## Features\n\n### Collapsible Panel\n- **Double-click header** OR **collapse button** to toggle\n- Starts expanded by default (or `defaultCollapsed={true}`)\n- Smooth transitions (all 0.3s ease)\n- Icon changes: chevron-up ↔ chevron-down\n- Content hidden when collapsed (not just height:0)\n- Fires `onToggleCollapse` event with collapsed state\n\n### Built-in Actions\n\n1. **Collapse/Expand** (always visible):\n   - Button with chevron icon\n   - Double-click header also toggles\n   - Preserves state during session\n\n2. **Copy to Clipboard** (`showCopy={true}`, default):\n   - Copies raw markdown text to clipboard\n   - Success feedback: Button turns green, shows \"Copied!\" for 2 seconds\n   - Uses navigator.clipboard API\n   - Falls back gracefully if clipboard unavailable\n\n3. **Export as Markdown** (`showExport={true}`, default):\n   - Downloads `.md` file with timestamp\n   - Includes title and generation date in file header\n   - Filename format: `ai-insights-YYYY-MM-DD.md`\n   - Uses Blob download (no server upload)\n\n4. **Refresh/Regenerate** (`showRefresh={true}`, default):\n   - Calls `onGenerate()` callback\n   - Disabled while `loading={true}`\n   - Shows spinner icon during generation\n   - Auto-expands panel when clicked\n\n5. **Close Button** (optional via `onClose` callback):\n   - X button on far right\n   - Red hover effect\n   - Fires `onClose()` - parent handles actual removal\n\n6. **Custom Buttons** (via `customButtons` array):\n   - Add your own action buttons\n   - Format: `{icon: ''fa-share'', title: ''Share'', onClick: handler, disabled: boolean}`\n   - Rendered between built-in buttons\n\n### Visual States\n\n**Loading State**:\n- Shows spinner icon with \"Generating AI insights...\" message\n- Gray background (#F9FAFB)\n- Centered layout\n- Replaces content area (not overlaid)\n\n**Error State**:\n- Red alert banner with exclamation icon\n- Light red background (#FEE2E2) with red border\n- Shows error message from `error` prop\n- Only visible when `error` exists and not loading\n\n**Success State**:\n- Rendered markdown content in scrollable area\n- Light gray background (#F9FAFB)\n- Default max-height: 400px with scroll\n- Configurable via `maxHeight` prop\n\n**Empty State**:\n- Component returns null if no insights, no error, and not loading\n- Use this for conditional mounting\n\n## Customization\n\n### Appearance\n- **title** (default \"AI Insights\"): Panel header text\n- **icon** (default \"fa-wand-magic-sparkles\"): Font Awesome icon class\n- **iconColor** (default \"#8B5CF6\" purple): Icon and link color\n- **maxHeight** (default \"400px\"): Content scroll height\n- **position** (\"top\" | \"bottom\"): Affects margin (spacing from neighbors)\n\n### Button Visibility\n- **showRefresh** (default true): Show/hide refresh button\n- **showExport** (default true): Show/hide export button\n- **showCopy** (default true): Show/hide copy button\n- **onClose** (optional): If provided, shows close button\n\n### Custom Buttons\nArray of button configs:\n```javascript\ncustomButtons={[\n  {\n    icon: ''fa-solid fa-share'',\n    label: ''Share'', // optional text\n    title: ''Share insights'', // tooltip\n    onClick: handleShare,\n    disabled: false,\n    style: {} // optional CSS overrides\n  }\n]}\n```\n\n## Styling Details\n\n### Panel Container\n- White background with subtle gradient\n- 1px border (#E5E7EB)\n- 8px border radius\n- Box shadow: 0 2px 4px rgba(0,0,0,0.1)\n- Padding: 20px (configurable via styles prop)\n\n### Header\n- Flex layout: title left, buttons right\n- Title: 18px, 600 weight, with icon\n- Button bar: 8px gap between buttons\n- All buttons: 1px border, 6px radius, 6px-10px padding\n\n### Content Area\n- Light gray background (#F9FAFB)\n- 6px border radius\n- 12px padding\n- Scrollable with custom scrollbar (webkit)\n\n## Events\n\n1. **onToggleCollapse**: `({collapsed: boolean}) => void`\n   - Fired when panel expands or collapses\n\n2. **onCopy**: `() => void`\n   - Fired after successful clipboard copy\n\n3. **onExport**: `() => void`\n   - Fired after markdown file download\n\n4. **onGenerate**: `() => void`\n   - Called by refresh button (required prop)\n\n5. **onClose**: `() => void`\n   - Called by close button (optional)\n\n## Accessibility\n- Button tooltips with descriptive titles\n- Semantic HTML (h3 for title)\n- Keyboard accessible (all buttons focusable)\n- ARIA labels for icon-only buttons\n- High contrast error states\n\n## Performance\n- Markdown parsing cached per insights value\n- Button handlers use useCallback where appropriate\n- Smooth CSS transitions without JavaScript animation\n- No re-renders on hover states (pure CSS)\n","technicalDesign":"## Architecture\nReact functional component for displaying AI-generated markdown content with built-in actions and collapsible UI.\n\n## Dependencies\n- **marked** (11.1.1): Markdown parsing and rendering (global: marked)\n- Conditional loading: Component works with or without marked library (fallback to plain text)\n\n## State Management (React Hooks)\n- **collapsed** (boolean): Panel expansion state (default: `defaultCollapsed` prop)\n- **copyFeedback** (boolean): Copy success indicator (auto-resets after 2s)\n\n## Props Structure\n```javascript\n{\n  // Required\n  insights: string,        // AI-generated markdown text\n  loading: boolean,        // Generation in progress\n  error: string,          // Error message\n  onGenerate: function,   // Refresh callback\n  \n  // Optional customization\n  title: ''AI Insights'',\n  icon: ''fa-wand-magic-sparkles'',\n  iconColor: ''#8B5CF6'',\n  maxHeight: ''400px'',\n  showRefresh: true,\n  showExport: true,\n  showCopy: true,\n  position: ''top'',\n  defaultCollapsed: false,\n  onClose: undefined,\n  customButtons: []\n}\n```\n\n## Markdown Rendering\n\n### formatInsights Function\n**Process**:\n1. Check if `insights` prop exists\n2. Check if `marked` library available:\n   - **If available**:\n     ```javascript\n     try {\n       const htmlContent = marked.parse(insights);\n       return (\n         <div \n           className=\"markdown-insights\"\n           dangerouslySetInnerHTML={{ __html: htmlContent }}\n         />\n       );\n     } catch (err) {\n       console.warn(''Failed to parse markdown:'', err);\n       // Fall through to plain text\n     }\n     ```\n   - **If unavailable** OR **parse error**:\n     ```javascript\n     return (\n       <div style={{ whiteSpace: ''pre-wrap'', color: ''#374151'', lineHeight: ''1.6'' }}>\n         {insights}\n       </div>\n     );\n     ```\n\n### CSS Styling (Injected via <style> tag)\n```css\n.markdown-insights h1 { font-size: 20px; font-weight: 600; color: #111827; margin: 16px 0 12px 0; }\n.markdown-insights h2 { font-size: 18px; font-weight: 600; color: #1F2937; margin: 14px 0 10px 0; }\n.markdown-insights h3 { font-size: 16px; font-weight: 600; color: #374151; margin: 12px 0 8px 0; }\n.markdown-insights h4 { font-size: 14px; font-weight: 600; color: #4B5563; margin: 10px 0 6px 0; }\n.markdown-insights p { margin: 8px 0; color: #374151; line-height: 1.6; }\n.markdown-insights ul, ol { margin: 8px 0; padding-left: 24px; color: #374151; }\n.markdown-insights li { margin: 4px 0; line-height: 1.5; }\n.markdown-insights strong { font-weight: 600; color: #1F2937; }\n.markdown-insights em { font-style: italic; }\n.markdown-insights code { background: #F3F4F6; padding: 2px 4px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }\n.markdown-insights blockquote { border-left: 3px solid $' + '{iconColor}; padding-left: 12px; margin: 12px 0; color: #4B5563; }\n.markdown-insights hr { border: none; border-top: 1px solid #E5E7EB; margin: 16px 0; }\n.markdown-insights a { color: $' + '{iconColor}; text-decoration: none; }\n.markdown-insights a:hover { text-decoration: underline; }\n.markdown-insights table { border-collapse: collapse; width: 100%; margin: 12px 0; }\n.markdown-insights th, td { border: 1px solid #E5E7EB; padding: 8px; text-align: left; }\n.markdown-insights th { background: #F9FAFB; font-weight: 600; }\n.markdown-insights pre { background: #1F2937; color: #F9FAFB; padding: 12px; border-radius: 6px; overflow-x: auto; }\n```\n\n## Button Actions\n\n### Collapse/Expand (Always Present)\n**Implementation**:\n```javascript\nconst handleToggle = () => setCollapsed(!collapsed);\n\n// Button render\n<button onClick={handleToggle}>\n  <i className={`fa-solid fa-chevron-$' + '{collapsed ? ''down'' : ''up''}`}></i>\n</button>\n\n// Also on double-click header\n<div onDoubleClick={handleToggle}>\n  {/* Header content */}\n</div>\n```\n\n### Copy to Clipboard (showCopy=true)\n**Implementation**:\n```javascript\nconst copyToClipboard = async () => {\n  if (!insights) return;\n  \n  try {\n    await navigator.clipboard.writeText(insights);\n    setCopyFeedback(true);\n    setTimeout(() => setCopyFeedback(false), 2000);\n  } catch (err) {\n    console.error(''Failed to copy:'', err);\n  }\n};\n```\n\n**Visual feedback**:\n- Button changes from gray to green\n- Icon changes from `fa-copy` to `fa-check`\n- Shows \"Copied!\" text for 2 seconds\n- Auto-resets after timeout\n\n### Export as Markdown (showExport=true)\n**Implementation**:\n```javascript\nconst exportAsMarkdown = () => {\n  if (!insights) return;\n  \n  const timestamp = new Date().toISOString().split(''T'')[0];\n  const markdownContent = `# $' + '{title}\n\nGenerated: $' + '{new Date().toLocaleString()}\n\n---\n\n$' + '{insights}`;\n  \n  const blob = new Blob([markdownContent], { type: ''text/markdown'' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement(''a'');\n  a.href = url;\n  a.download = `ai-insights-$' + '{timestamp}.md`;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n};\n```\n\n**File format**:\n- Filename: `ai-insights-YYYY-MM-DD.md`\n- Header with title and generation timestamp\n- Horizontal rule separator\n- Original insights markdown\n\n### Refresh Insights (showRefresh=true)\n**Implementation**:\n```javascript\nconst handleRefresh = () => {\n  setCollapsed(false);  // Auto-expand panel\n  onGenerate();         // Call parent''s generate function\n};\n\n// Button disabled while loading\n<button \n  onClick={handleRefresh}\n  disabled={loading}\n>\n  <i className={`fa-solid fa-$' + '{loading ? ''spinner fa-spin'' : ''arrows-rotate''}`}></i>\n</button>\n```\n\n### Custom Buttons (customButtons array)\n**Structure**:\n```javascript\ncustomButtons={[\n  {\n    icon: ''fa-solid fa-share'',\n    label: ''Share'',         // Optional text beside icon\n    title: ''Share insights'', // Tooltip\n    onClick: handleShare,\n    disabled: false,\n    style: {}               // Optional CSS overrides\n  }\n]}\n```\n\n**Rendering**:\n```javascript\n{customButtons.map((button, index) => (\n  <button\n    key={index}\n    onClick={button.onClick}\n    disabled={button.disabled}\n    title={button.title}\n    style={{\n      /* Base button styles */\n      ...button.style\n    }}\n  >\n    {button.icon && <i className={button.icon}></i>}\n    {button.label && <span>{button.label}</span>}\n  </button>\n))}\n```\n\n## Visual States\n\n### Loading State\n```javascript\n{loading && (\n  <div style={{\n    padding: ''24px'',\n    textAlign: ''center'',\n    color: ''#6B7280'',\n    backgroundColor: ''#F9FAFB'',\n    borderRadius: ''6px''\n  }}>\n    <i className=\"fa-solid fa-spinner fa-spin\" style={{ fontSize: ''24px'', marginBottom: ''12px'' }}></i>\n    <div>Generating AI insights...</div>\n  </div>\n)}\n```\n\n### Error State\n```javascript\n{error && !loading && (\n  <div style={{\n    color: ''#EF4444'',\n    padding: ''12px'',\n    backgroundColor: ''#FEE2E2'',\n    borderRadius: ''6px'',\n    border: ''1px solid #FECACA'',\n    display: ''flex'',\n    alignItems: ''start'',\n    gap: ''8px''\n  }}>\n    <i className=\"fa-solid fa-exclamation-triangle\" style={{ marginTop: ''2px'' }}></i>\n    <div>{error}</div>\n  </div>\n)}\n```\n\n### Success State (Insights Content)\n```javascript\n{insights && !loading && (\n  <div style={{\n    maxHeight: maxHeight,\n    overflowY: ''auto'',\n    padding: ''12px'',\n    backgroundColor: ''#F9FAFB'',\n    borderRadius: ''6px''\n  }}>\n    {formatInsights(insights)}\n  </div>\n)}\n```\n\n## Panel Styling\n\n### Container\n```javascript\nconst panelStyles = {\n  marginBottom: position === ''top'' ? (styles?.spacing?.lg || ''20px'') : 0,\n  marginTop: position === ''bottom'' ? (styles?.spacing?.lg || ''20px'') : 0,\n  padding: styles?.spacing?.lg || ''20px'',\n  backgroundColor: styles?.colors?.surface || ''white'',\n  borderRadius: styles?.borders?.radius || ''8px'',\n  border: `1px solid $' + '{styles?.colors?.border || ''#E5E7EB''}`,\n  boxShadow: ''0 2px 4px rgba(0, 0, 0, 0.1)'',\n  background: ''linear-gradient(135deg, #ffffff 0%, #f9fafb 100%)'',\n  transition: ''all 0.3s ease'',\n  cursor: ''default''\n};\n```\n\n### Header Layout\n```javascript\n<div style={{\n  display: ''flex'',\n  justifyContent: ''space-between'',\n  alignItems: ''center'',\n  marginBottom: collapsed ? 0 : ''16px''\n}}>\n  {/* Title */}\n  <h3>\n    <i className={`fa-solid $' + '{icon}`} style={{ color: iconColor }}></i>\n    {title}\n  </h3>\n  \n  {/* Button group */}\n  <div style={{ display: ''flex'', gap: ''8px'' }}>\n    {/* Buttons rendered here */}\n  </div>\n</div>\n```\n\n### Button Styling\n```javascript\nconst buttonStyle = {\n  background: ''none'',\n  border: `1px solid #E5E7EB`,\n  borderRadius: ''6px'',\n  color: ''#6B7280'',\n  cursor: ''pointer'',\n  padding: ''6px 10px'',\n  fontSize: ''14px'',\n  display: ''flex'',\n  alignItems: ''center'',\n  gap: ''4px'',\n  transition: ''all 0.2s''\n};\n\n// Hover via onMouseEnter/onMouseLeave\nonMouseEnter={(e) => {\n  e.currentTarget.style.backgroundColor = ''#F9FAFB'';\n}}\n```\n\n## Conditional Rendering Logic\n```javascript\n// Don''t render if no content and no state\nif (!insights && !error && !loading) {\n  return null;\n}\n\n// Render panel with conditional content area\nreturn (\n  <div style={panelStyles} onDoubleClick={handleToggle}>\n    {/* Header always visible */}\n    <div>{/* Header */}</div>\n    \n    {/* Content only when not collapsed */}\n    {!collapsed && (\n      <div>\n        {loading && <LoadingState />}\n        {error && !loading && <ErrorState />}\n        {insights && !loading && <ContentState />}\n      </div>\n    )}\n  </div>\n);\n```\n\n## Event Firing\nEvents are informational only (no cancellation):\n```javascript\n// onToggleCollapse\nif (onToggleCollapse) {\n  onToggleCollapse({ collapsed: !collapsed });\n}\n\n// onCopy (after successful copy)\nif (onCopy) {\n  onCopy();\n}\n\n// onExport (after file download)\nif (onExport) {\n  onExport();\n}\n\n// onClose (when X button clicked)\nif (onClose) {\n  onClose();\n}\n```\n\n## Performance Optimizations\n- Markdown parsing memoized per insights value (useMemo)\n- Button handlers don''t cause re-renders (pure CSS hover states)\n- Collapse animation uses CSS transitions (no JavaScript)\n- No unnecessary re-renders on hover (event handlers inline or memoized)\n\n## Accessibility\n- Semantic HTML (h3 for title)\n- Button tooltips via title attribute\n- Keyboard navigation (all buttons focusable)\n- High contrast error states\n- Screen reader friendly (text alternatives for icons)\n"}'
SET
  @FunctionalRequirements_0806966f = N'## Purpose
Display AI-generated insights with markdown rendering, built-in actions (copy/export/refresh), and collapsible UI. Styled panel optimized for showing AI analysis text.

## Required Props
- **insights** (string): AI-generated markdown text to display
- **loading** (boolean): True while AI is generating insights
- **error** (string): Error message if generation failed
- **onGenerate** (function): Callback to generate/regenerate insights

## Content Rendering

### Markdown Support
- Uses **marked.js 11.1.1** for markdown parsing
- Fallback to plain text if marked unavailable
- Supported markdown features:
  - Headings (h1-h4) with hierarchy
  - Bold, italic, strikethrough
  - Lists (ordered and unordered)
  - Code blocks with syntax highlighting
  - Inline code with background
  - Blockquotes with colored left border
  - Tables with borders
  - Horizontal rules
  - Links with hover underline

### Styling
- Proper heading hierarchy: h1 (20px) → h2 (18px) → h3 (16px) → h4 (14px)
- Code blocks: Dark background (#1F2937) with light text
- Inline code: Light gray background (#F3F4F6)
- Blockquote: Colored left border matches icon color
- Links: Match icon color with hover underline
- Tables: Bordered with header background

## Features

### Collapsible Panel
- **Double-click header** OR **collapse button** to toggle
- Starts expanded by default (or `defaultCollapsed={true}`)
- Smooth transitions (all 0.3s ease)
- Icon changes: chevron-up ↔ chevron-down
- Content hidden when collapsed (not just height:0)
- Fires `onToggleCollapse` event with collapsed state

### Built-in Actions

1. **Collapse/Expand** (always visible):
   - Button with chevron icon
   - Double-click header also toggles
   - Preserves state during session

2. **Copy to Clipboard** (`showCopy={true}`, default):
   - Copies raw markdown text to clipboard
   - Success feedback: Button turns green, shows "Copied!" for 2 seconds
   - Uses navigator.clipboard API
   - Falls back gracefully if clipboard unavailable

3. **Export as Markdown** (`showExport={true}`, default):
   - Downloads `.md` file with timestamp
   - Includes title and generation date in file header
   - Filename format: `ai-insights-YYYY-MM-DD.md`
   - Uses Blob download (no server upload)

4. **Refresh/Regenerate** (`showRefresh={true}`, default):
   - Calls `onGenerate()` callback
   - Disabled while `loading={true}`
   - Shows spinner icon during generation
   - Auto-expands panel when clicked

5. **Close Button** (optional via `onClose` callback):
   - X button on far right
   - Red hover effect
   - Fires `onClose()` - parent handles actual removal

6. **Custom Buttons** (via `customButtons` array):
   - Add your own action buttons
   - Format: `{icon: ''fa-share'', title: ''Share'', onClick: handler, disabled: boolean}`
   - Rendered between built-in buttons

### Visual States

**Loading State**:
- Shows spinner icon with "Generating AI insights..." message
- Gray background (#F9FAFB)
- Centered layout
- Replaces content area (not overlaid)

**Error State**:
- Red alert banner with exclamation icon
- Light red background (#FEE2E2) with red border
- Shows error message from `error` prop
- Only visible when `error` exists and not loading

**Success State**:
- Rendered markdown content in scrollable area
- Light gray background (#F9FAFB)
- Default max-height: 400px with scroll
- Configurable via `maxHeight` prop

**Empty State**:
- Component returns null if no insights, no error, and not loading
- Use this for conditional mounting

## Customization

### Appearance
- **title** (default "AI Insights"): Panel header text
- **icon** (default "fa-wand-magic-sparkles"): Font Awesome icon class
- **iconColor** (default "#8B5CF6" purple): Icon and link color
- **maxHeight** (default "400px"): Content scroll height
- **position** ("top" | "bottom"): Affects margin (spacing from neighbors)

### Button Visibility
- **showRefresh** (default true): Show/hide refresh button
- **showExport** (default true): Show/hide export button
- **showCopy** (default true): Show/hide copy button
- **onClose** (optional): If provided, shows close button

### Custom Buttons
Array of button configs:
```javascript
customButtons={[
  {
    icon: ''fa-solid fa-share'',
    label: ''Share'', // optional text
    title: ''Share insights'', // tooltip
    onClick: handleShare,
    disabled: false,
    style: {} // optional CSS overrides
  }
]}
```

## Styling Details

### Panel Container
- White background with subtle gradient
- 1px border (#E5E7EB)
- 8px border radius
- Box shadow: 0 2px 4px rgba(0,0,0,0.1)
- Padding: 20px (configurable via styles prop)

### Header
- Flex layout: title left, buttons right
- Title: 18px, 600 weight, with icon
- Button bar: 8px gap between buttons
- All buttons: 1px border, 6px radius, 6px-10px padding

### Content Area
- Light gray background (#F9FAFB)
- 6px border radius
- 12px padding
- Scrollable with custom scrollbar (webkit)

## Events

1. **onToggleCollapse**: `({collapsed: boolean}) => void`
   - Fired when panel expands or collapses

2. **onCopy**: `() => void`
   - Fired after successful clipboard copy

3. **onExport**: `() => void`
   - Fired after markdown file download

4. **onGenerate**: `() => void`
   - Called by refresh button (required prop)

5. **onClose**: `() => void`
   - Called by close button (optional)

## Accessibility
- Button tooltips with descriptive titles
- Semantic HTML (h3 for title)
- Keyboard accessible (all buttons focusable)
- ARIA labels for icon-only buttons
- High contrast error states

## Performance
- Markdown parsing cached per insights value
- Button handlers use useCallback where appropriate
- Smooth CSS transitions without JavaScript animation
- No re-renders on hover states (pure CSS)
'
SET
  @TechnicalDesign_0806966f = N'## Architecture
React functional component for displaying AI-generated markdown content with built-in actions and collapsible UI.

## Dependencies
- **marked** (11.1.1): Markdown parsing and rendering (global: marked)
- Conditional loading: Component works with or without marked library (fallback to plain text)

## State Management (React Hooks)
- **collapsed** (boolean): Panel expansion state (default: `defaultCollapsed` prop)
- **copyFeedback** (boolean): Copy success indicator (auto-resets after 2s)

## Props Structure
```javascript
{
  // Required
  insights: string,        // AI-generated markdown text
  loading: boolean,        // Generation in progress
  error: string,          // Error message
  onGenerate: function,   // Refresh callback
  
  // Optional customization
  title: ''AI Insights'',
  icon: ''fa-wand-magic-sparkles'',
  iconColor: ''#8B5CF6'',
  maxHeight: ''400px'',
  showRefresh: true,
  showExport: true,
  showCopy: true,
  position: ''top'',
  defaultCollapsed: false,
  onClose: undefined,
  customButtons: []
}
```

## Markdown Rendering

### formatInsights Function
**Process**:
1. Check if `insights` prop exists
2. Check if `marked` library available:
   - **If available**:
     ```javascript
     try {
       const htmlContent = marked.parse(insights);
       return (
         <div 
           className="markdown-insights"
           dangerouslySetInnerHTML={{ __html: htmlContent }}
         />
       );
     } catch (err) {
       console.warn(''Failed to parse markdown:'', err);
       // Fall through to plain text
     }
     ```
   - **If unavailable** OR **parse error**:
     ```javascript
     return (
       <div style={{ whiteSpace: ''pre-wrap'', color: ''#374151'', lineHeight: ''1.6'' }}>
         {insights}
       </div>
     );
     ```

### CSS Styling (Injected via <style> tag)
```css
.markdown-insights h1 { font-size: 20px; font-weight: 600; color: #111827; margin: 16px 0 12px 0; }
.markdown-insights h2 { font-size: 18px; font-weight: 600; color: #1F2937; margin: 14px 0 10px 0; }
.markdown-insights h3 { font-size: 16px; font-weight: 600; color: #374151; margin: 12px 0 8px 0; }
.markdown-insights h4 { font-size: 14px; font-weight: 600; color: #4B5563; margin: 10px 0 6px 0; }
.markdown-insights p { margin: 8px 0; color: #374151; line-height: 1.6; }
.markdown-insights ul, ol { margin: 8px 0; padding-left: 24px; color: #374151; }
.markdown-insights li { margin: 4px 0; line-height: 1.5; }
.markdown-insights strong { font-weight: 600; color: #1F2937; }
.markdown-insights em { font-style: italic; }
.markdown-insights code { background: #F3F4F6; padding: 2px 4px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }
.markdown-insights blockquote { border-left: 3px solid $' + '{iconColor}; padding-left: 12px; margin: 12px 0; color: #4B5563; }
.markdown-insights hr { border: none; border-top: 1px solid #E5E7EB; margin: 16px 0; }
.markdown-insights a { color: $' + '{iconColor}; text-decoration: none; }
.markdown-insights a:hover { text-decoration: underline; }
.markdown-insights table { border-collapse: collapse; width: 100%; margin: 12px 0; }
.markdown-insights th, td { border: 1px solid #E5E7EB; padding: 8px; text-align: left; }
.markdown-insights th { background: #F9FAFB; font-weight: 600; }
.markdown-insights pre { background: #1F2937; color: #F9FAFB; padding: 12px; border-radius: 6px; overflow-x: auto; }
```

## Button Actions

### Collapse/Expand (Always Present)
**Implementation**:
```javascript
const handleToggle = () => setCollapsed(!collapsed);

// Button render
<button onClick={handleToggle}>
  <i className={`fa-solid fa-chevron-$' + '{collapsed ? ''down'' : ''up''}`}></i>
</button>

// Also on double-click header
<div onDoubleClick={handleToggle}>
  {/* Header content */}
</div>
```

### Copy to Clipboard (showCopy=true)
**Implementation**:
```javascript
const copyToClipboard = async () => {
  if (!insights) return;
  
  try {
    await navigator.clipboard.writeText(insights);
    setCopyFeedback(true);
    setTimeout(() => setCopyFeedback(false), 2000);
  } catch (err) {
    console.error(''Failed to copy:'', err);
  }
};
```

**Visual feedback**:
- Button changes from gray to green
- Icon changes from `fa-copy` to `fa-check`
- Shows "Copied!" text for 2 seconds
- Auto-resets after timeout

### Export as Markdown (showExport=true)
**Implementation**:
```javascript
const exportAsMarkdown = () => {
  if (!insights) return;
  
  const timestamp = new Date().toISOString().split(''T'')[0];
  const markdownContent = `# $' + '{title}

Generated: $' + '{new Date().toLocaleString()}

---

$' + '{insights}`;
  
  const blob = new Blob([markdownContent], { type: ''text/markdown'' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement(''a'');
  a.href = url;
  a.download = `ai-insights-$' + '{timestamp}.md`;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
};
```

**File format**:
- Filename: `ai-insights-YYYY-MM-DD.md`
- Header with title and generation timestamp
- Horizontal rule separator
- Original insights markdown

### Refresh Insights (showRefresh=true)
**Implementation**:
```javascript
const handleRefresh = () => {
  setCollapsed(false);  // Auto-expand panel
  onGenerate();         // Call parent''s generate function
};

// Button disabled while loading
<button 
  onClick={handleRefresh}
  disabled={loading}
>
  <i className={`fa-solid fa-$' + '{loading ? ''spinner fa-spin'' : ''arrows-rotate''}`}></i>
</button>
```

### Custom Buttons (customButtons array)
**Structure**:
```javascript
customButtons={[
  {
    icon: ''fa-solid fa-share'',
    label: ''Share'',         // Optional text beside icon
    title: ''Share insights'', // Tooltip
    onClick: handleShare,
    disabled: false,
    style: {}               // Optional CSS overrides
  }
]}
```

**Rendering**:
```javascript
{customButtons.map((button, index) => (
  <button
    key={index}
    onClick={button.onClick}
    disabled={button.disabled}
    title={button.title}
    style={{
      /* Base button styles */
      ...button.style
    }}
  >
    {button.icon && <i className={button.icon}></i>}
    {button.label && <span>{button.label}</span>}
  </button>
))}
```

## Visual States

### Loading State
```javascript
{loading && (
  <div style={{
    padding: ''24px'',
    textAlign: ''center'',
    color: ''#6B7280'',
    backgroundColor: ''#F9FAFB'',
    borderRadius: ''6px''
  }}>
    <i className="fa-solid fa-spinner fa-spin" style={{ fontSize: ''24px'', marginBottom: ''12px'' }}></i>
    <div>Generating AI insights...</div>
  </div>
)}
```

### Error State
```javascript
{error && !loading && (
  <div style={{
    color: ''#EF4444'',
    padding: ''12px'',
    backgroundColor: ''#FEE2E2'',
    borderRadius: ''6px'',
    border: ''1px solid #FECACA'',
    display: ''flex'',
    alignItems: ''start'',
    gap: ''8px''
  }}>
    <i className="fa-solid fa-exclamation-triangle" style={{ marginTop: ''2px'' }}></i>
    <div>{error}</div>
  </div>
)}
```

### Success State (Insights Content)
```javascript
{insights && !loading && (
  <div style={{
    maxHeight: maxHeight,
    overflowY: ''auto'',
    padding: ''12px'',
    backgroundColor: ''#F9FAFB'',
    borderRadius: ''6px''
  }}>
    {formatInsights(insights)}
  </div>
)}
```

## Panel Styling

### Container
```javascript
const panelStyles = {
  marginBottom: position === ''top'' ? (styles?.spacing?.lg || ''20px'') : 0,
  marginTop: position === ''bottom'' ? (styles?.spacing?.lg || ''20px'') : 0,
  padding: styles?.spacing?.lg || ''20px'',
  backgroundColor: styles?.colors?.surface || ''white'',
  borderRadius: styles?.borders?.radius || ''8px'',
  border: `1px solid $' + '{styles?.colors?.border || ''#E5E7EB''}`,
  boxShadow: ''0 2px 4px rgba(0, 0, 0, 0.1)'',
  background: ''linear-gradient(135deg, #ffffff 0%, #f9fafb 100%)'',
  transition: ''all 0.3s ease'',
  cursor: ''default''
};
```

### Header Layout
```javascript
<div style={{
  display: ''flex'',
  justifyContent: ''space-between'',
  alignItems: ''center'',
  marginBottom: collapsed ? 0 : ''16px''
}}>
  {/* Title */}
  <h3>
    <i className={`fa-solid $' + '{icon}`} style={{ color: iconColor }}></i>
    {title}
  </h3>
  
  {/* Button group */}
  <div style={{ display: ''flex'', gap: ''8px'' }}>
    {/* Buttons rendered here */}
  </div>
</div>
```

### Button Styling
```javascript
const buttonStyle = {
  background: ''none'',
  border: `1px solid #E5E7EB`,
  borderRadius: ''6px'',
  color: ''#6B7280'',
  cursor: ''pointer'',
  padding: ''6px 10px'',
  fontSize: ''14px'',
  display: ''flex'',
  alignItems: ''center'',
  gap: ''4px'',
  transition: ''all 0.2s''
};

// Hover via onMouseEnter/onMouseLeave
onMouseEnter={(e) => {
  e.currentTarget.style.backgroundColor = ''#F9FAFB'';
}}
```

## Conditional Rendering Logic
```javascript
// Don''t render if no content and no state
if (!insights && !error && !loading) {
  return null;
}

// Render panel with conditional content area
return (
  <div style={panelStyles} onDoubleClick={handleToggle}>
    {/* Header always visible */}
    <div>{/* Header */}</div>
    
    {/* Content only when not collapsed */}
    {!collapsed && (
      <div>
        {loading && <LoadingState />}
        {error && !loading && <ErrorState />}
        {insights && !loading && <ContentState />}
      </div>
    )}
  </div>
);
```

## Event Firing
Events are informational only (no cancellation):
```javascript
// onToggleCollapse
if (onToggleCollapse) {
  onToggleCollapse({ collapsed: !collapsed });
}

// onCopy (after successful copy)
if (onCopy) {
  onCopy();
}

// onExport (after file download)
if (onExport) {
  onExport();
}

// onClose (when X button clicked)
if (onClose) {
  onClose();
}
```

## Performance Optimizations
- Markdown parsing memoized per insights value (useMemo)
- Button handlers don''t cause re-renders (pure CSS hover states)
- Collapse animation uses CSS transitions (no JavaScript)
- No unnecessary re-renders on hover (event handlers inline or memoized)

## Accessibility
- Semantic HTML (h3 for title)
- Button tooltips via title attribute
- Keyboard navigation (all buttons focusable)
- High contrast error states
- Screen reader friendly (text alternatives for icons)
'
SET
  @FunctionalRequirementsVector_0806966f = N'[-0.04115037992596626,0.029718976467847824,-0.017499927431344986,-0.0461420863866806,-0.004629895556718111,-0.014141671359539032,0.05896393209695816,0.09783195704221725,-0.0156411025673151,-0.010306885465979576,-0.034221455454826355,0.09000499546527863,-0.008726109750568867,0.08462832868099213,-0.007457875180989504,0.0005562318256124854,-0.030162159353494644,0.010659104213118553,0.009122072719037533,-0.01941433921456337,0.029585111886262894,-0.025363368913531303,-0.02598269097507,-0.0004380873288027942,0.04981926828622818,-0.0513308010995388,-0.04372866824269295,-0.0348505862057209,0.012930382043123245,-0.04765324667096138,-0.03052150458097458,0.07304932177066803,-0.05823737010359764,-0.004359345883131027,0.000002542537231420283,-0.016450921073555946,-0.026311010122299194,0.00983716081827879,-0.017540261149406433,-0.004873752128332853,-0.01177089475095272,-0.005367066711187363,-0.0003798360703513026,0.0026383528020232916,-0.02726823464035988,-0.09079017490148544,-0.027779830619692802,0.051118772476911545,0.04108560457825661,-0.02614251896739006,0.014095524325966835,0.01744520477950573,0.018847478553652763,0.009501215070486069,0.04458865150809288,-0.04907611757516861,-0.0156437736004591,0.023099949583411217,0.052065134048461914,-0.03071260266005993,0.004083297681063414,0.02856377884745598,0.009273948147892952,-0.07294667512178421,-0.020504320040345192,-0.0019083344377577305,-0.034102823585271835,-0.04401589557528496,-0.0034156811889261007,0.023493453860282898,0.12312046438455582,-0.05757765471935272,-0.03307223320007324,-0.03927664831280708,0.0026444250252097845,0.012464012019336224,-0.054203879088163376,0.024094179272651672,0.017370836809277534,0.002603106200695038,-0.03705810382962227,0.027908997610211372,-0.04824389889836311,-0.01931861601769924,0.029214443638920784,0.03697235882282257,-0.02130003646016121,-0.0078727500513196,0.0184676181524992,-0.017598962411284447,0.0811077207326889,-0.019889866933226585,0.027867015451192856,0.0274722408503294,-0.01920565403997898,-0.034396521747112274,-0.000010059855412691832,-0.13394567370414734,0.04590688273310661,0.09766167402267456,0.08228348195552826,0.026481131091713905,0.03146190196275711,0.011730896309018135,-0.003968662582337856,0.08475945889949799,0.013338717631995678,-0.03977648541331291,0.003902026917785406,0.04734599590301514,-0.04480363056063652,0.00625568488612771,-0.022626474499702454,0.04652047157287598,-0.020524095743894577,0.0012534912675619125,0.009023614227771759,0.00032746055512689054,-0.019345415756106377,0.06067381054162979,0.040319282561540604,-0.02609356679022312,-0.01875356025993824,0.0033064100425690413,0.017924560233950615,-0.016457198187708855,0.0058039710856974125,-0.07113318145275116,-0.007034500129520893,-0.03516289219260216,-0.017536992207169533,-0.0013354170368984342,0.03362652286887169,0.026772189885377884,-0.021731067448854446,0.06224411353468895,-0.026963558048009872,0.023470330983400345,0.025678381323814392,0.0017198680434376001,0.03837094455957413,0.016947094351053238,-0.05351822450757027,0.03759130835533142,0.003324332879856229,0.006932598073035479,-0.008112659677863121,-0.06688112020492554,0.02798377349972725,0.02390999160706997,0.032178740948438644,-0.03223217651247978,-0.04049654304981232,0.008426194079220295,-0.0656154528260231,0.016745423898100853,-0.009335164912045002,0.050263114273548126,0.009798858314752579,0.0773182138800621,0.0134385135024786,-0.001174648874439299,0.043344687670469284,0.014058183878660202,0.006312974262982607,0.06620746105909348,-0.08793071657419205,-0.007602602709084749,-0.028925735503435135,0.008179332129657269,0.01629551127552986,-0.010586965829133987,-0.021742472425103188,0.021357236430048943,0.005743106827139854,0.015234052203595638,0.03746338561177254,0.041113413870334625,-0.04366210848093033,-0.010902652516961098,0.025523073971271515,-0.036374568939208984,0.04406934604048729,-0.028139274567365646,-0.01721065118908882,-0.008033170364797115,-0.060556162148714066,0.0315970852971077,-0.006165555212646723,-0.01335081271827221,-0.03502814471721649,0.03910042718052864,-0.03295598924160004,0.0021190927363932133,0.01861642859876156,-0.0010671206982806325,-0.031458474695682526,-0.039045777171850204,0.02962854877114296,0.03974142670631409,-0.013400794006884098,-0.03618977591395378,0.03433334454894066,0.006799418944865465,0.02175298146903515,0.0058470056392252445,-0.01695602387189865,-0.027165986597537994,-0.004292911384254694,0.0440763421356678,-0.05491369590163231,-0.009350897744297981,-0.03952547907829285,0.009821344166994095,-0.023441854864358902,0.006974480114877224,0.01904451474547386,-0.010769801214337349,-0.05094476789236069,0.0018110505770891905,-0.007481756154447794,0.05743568763136864,-0.03333522006869316,0.03937118500471115,0.0762689933180809,0.03547805920243263,-0.000012608365977939684,-0.05496038869023323,0.07503845542669296,-0.021162133663892746,-0.046609316021203995,-0.011075470596551895,0.023575888946652412,-0.01797686330974102,-0.0355934239923954,0.03840290382504463,0.009086945094168186,-0.007491764146834612,-0.029203038662672043,-0.021218614652752876,0.026585841551423073,0.007911884225904942,-0.02155657485127449,0.01734604313969612,-0.003205609740689397,-0.041326623409986496,-0.0015618407633155584,0.0018351125763729215,0.008657248690724373,-0.04200481250882149,0.0025173595640808344,0.01325790211558342,0.042363088577985764,-0.04653168469667435,-0.03998508304357529,0.010175206698477268,0.0003044369805138558,-0.01456907857209444,0.0008759372867643833,0.10975838452577591,0.024594051763415337,-0.024955101311206818,-0.05485067889094353,-0.0025193404871970415,0.059869565069675446,-0.019087813794612885,0.0898776650428772,-0.0017475866479799151,-0.015135602094233036,0.002924134023487568,0.013833016157150269,0.027175061404705048,-0.014642206951975822,0.018724313005805016,0.001477107754908502,-0.019225353375077248,0.008662269450724125,0.056233882904052734,-0.0011377377668395638,-0.04215431213378906,0.001149338437244296,-0.009643267840147018,0.0034254686906933784,0.02847006544470787,-0.007429019547998905,0.0157302338629961,0.023268675431609154,-0.059434372931718826,-0.029973888769745827,-0.002093324437737465,0.0649755448102951,0.036343012005090714,0.01065356470644474,-0.02622636966407299,-0.022903094068169594,-0.007773353718221188,-0.03585727512836456,0.08077631890773773,-0.020334573462605476,0.09970938414335251,-0.017656436190009117,0.03686944395303726,-0.02472073957324028,0.039061289280653,0.015727682039141655,0.057092566043138504,-0.02485172264277935,0.01941293105483055,0.039666347205638885,0.06482702493667603,0.017694879323244095,0.026262125000357628,-0.01649368554353714,-0.02051650919020176,-0.006512003485113382,0.012315097264945507,0.03199625387787819,-0.022328855469822884,-0.001955827232450247,0.10039132833480835,0.03034234046936035,-0.023531949147582054,-0.011725309304893017,-0.048756469041109085,-0.049696944653987885,0.005018952302634716,-0.012810440734028816,-0.03514551743865013,0.03383352980017662,0.02623482421040535,0.008347060531377792,-0.001829545944929123,0.02237733267247677,-0.013010472059249878,0.0073915147222578526,-0.03928356245160103,-0.017766447737812996,-0.022480828687548637,-0.002924579195678234,-0.005799580365419388,-0.0063278633169829845,-0.052464600652456284,0.01688418537378311,0.02758341282606125,-0.02661406621336937,0.010028641670942307,0.06233040988445282,-0.020863575860857964,-0.07391239702701569,0.05200657993555069,0.044247765094041824,0.08855955302715302,-0.010493479669094086,0.010609873570501804,0.0026555745862424374,0.024463726207613945,-0.007741766981780529,-0.008331499062478542,-0.022373449057340622,-0.013863385654985905,0.009647381491959095,0.06939811259508133,0.014443199150264263,0.062438104301691055,0.003057139925658703,-0.006838678847998381,0.056080255657434464,0.0008023726986721158,-0.0017514778301119804,-0.048838719725608826,-0.008573269471526146,-0.0012703585671260953,-0.009356947615742683,0.021447734907269478,-0.003015510505065322,-0.061197418719530106,0.02095446176826954,-0.03127438947558403,0.0024185837246477604,0.007201858330518007,0.05552106723189354,-0.013121548108756542,0.025678832083940506,-0.005690605379641056,0.03145650774240494,-0.0292573980987072,-0.0009600134217180312,0.025882001966238022,-0.012550171464681625,0.003573056310415268,-0.009989332407712936,-0.030367791652679443,0.006557278335094452,-0.02865355834364891,-0.017255233600735664,0.024657955393195152,-0.024419305846095085,0.02863527089357376,-0.006606805603951216,0.011762963607907295,-0.02922736667096615,-0.012236524373292923,-0.029573291540145874,-0.009065919555723667,0.07974311709403992,-0.0019981004297733307,0.08287542313337326,0.04463934898376465,0.021263742819428444,-0.053838085383176804,-0.04624756798148155,-0.033976033329963684,0.005010375753045082,-0.035193149000406265,-0.031426794826984406,0.023398302495479584,0.018577896058559418,-0.0698799192905426,0.018825089558959007,0.01774686388671398,-0.014861191622912884,0.01773761212825775,0.031114019453525543,-0.03099646605551243,0.006419015116989613,-0.048656102269887924,0.01453207153826952,-0.08212599903345108,0.0030028088949620724,0.056021880358457565,0.0002742679789662361,-0.016903288662433624,0.006467812228947878,-0.005048230290412903,-0.0923137217760086,-0.013359574601054192,0.0362214557826519,-0.03522786125540733,-0.010172509588301182,-0.054231125861406326,-0.021677972748875618,0.013316846452653408,0.07817990332841873,-0.021941645070910454,0.00365082616917789,-0.06150314584374428,0.03495985269546509,0.02492137812077999,-0.033153384923934937,-0.02294551394879818,-0.054980143904685974,0.019747722893953323,-0.053794048726558685,0.06670982390642166,-0.0443994365632534,-0.02303619496524334,0.05751383677124977,0.026760153472423553,-0.0031466111540794373,-0.006152641493827105,-0.01927703432738781,0.026109235361218452,0.012977114878594875,0.0042429836466908455,0.0008720580372028053,0.05256030336022377,-0.026978634297847748,-0.030438417568802834,-0.0014214318944141269,-0.022670863196253777,0.021317437291145325,0.011812486685812473,-0.021687127649784088,-0.056699514389038086,0.015743713825941086,0.009045250713825226,-0.011231618002057076,-0.041481152176856995,0.05282767862081528,0.009108860976994038,0.04363439604640007,-0.045317210257053375,0.007034591864794493,-0.11264936625957489,0.04985013231635094,0.06479210406541824,-0.03531259298324585,-0.029119234532117844,-0.019023356959223747,0.035283442586660385,-0.013680882751941681,-0.051681000739336014,0.01590798981487751,0.07290303707122803,0.012717654928565025,0.011397715657949448,-0.02041950821876526,0.0722653865814209,-0.05066537857055664,0.04744657129049301,0.014375030063092709,-0.006234388332813978,-0.023608414456248283,-0.003141675842925906,-0.024243952706456184,0.011499691754579544,-0.03387986496090889,0.058818183839321136,-0.007306515704840422,-0.0039488510228693485,-0.007401501759886742,0.02600727044045925,-0.049623534083366394,0.00518389418721199,-0.025735091418027878,-0.0019912878051400185,-0.03771888092160225,0.018892789259552956,0.04930458962917328,0.004403432831168175,-0.00931422971189022,0.03425388038158417,-0.017338138073682785,-0.00410075020045042,-0.00013073412992525846,-0.03175831958651543,0.04353020712733269,0.0023484632838517427,0.009690329432487488,0.052539583295583725,0.019817616790533066,-0.030215656384825706,0.05759068578481674,-0.017766721546649933,-0.027111981064081192,0.03482217714190483,0.03722812235355377,0.03520701453089714,0.02717680297791958,-0.06884787976741791,-0.05930700898170471,0.009457163512706757,0.055080365389585495,0.011175595223903656,0.007904290221631527,0.0286065973341465,-0.0006718289805576205,-0.0068456269800662994,0.0667552724480629,-0.025641901418566704,-0.031136948615312576,-0.02747976966202259,-0.03466060385107994,-0.015442890115082264,-0.021581338718533516,-7.382064115545656e-33,-0.03618532046675682,-0.02291443943977356,-0.05663067474961281,0.004293373320251703,-0.030213868245482445,-0.028976375237107277,-0.04569726437330246,-0.02499045804142952,0.022336285561323166,0.025657732039690018,-0.0383584164083004,-0.04774429649114609,0.006587357260286808,0.040548745542764664,-0.019650764763355255,0.015188273042440414,0.023837635293602943,-0.015496055595576763,0.01979304850101471,0.09339430183172226,-0.009030536748468876,-0.0033082198351621628,-0.03185189142823219,0.0065915584564208984,-0.06231696903705597,-0.03282541781663895,0.011881071142852306,-0.03848843276500702,-0.03785107657313347,0.03980731964111328,-0.030747253447771072,0.010992704890668392,-0.005666508339345455,-0.002266820054501295,0.018907416611909866,-0.038612619042396545,-0.022631490603089333,-0.05518963932991028,-0.007184025831520557,0.02194705232977867,0.009455472230911255,-0.0026371183339506388,0.02918091230094433,-0.011862615123391151,0.006001793779432774,-0.01686699688434601,0.013573664240539074,-0.011244870722293854,-0.03768494352698326,-0.11119948327541351,-0.042355459183454514,0.029343001544475555,-0.008099441416561604,0.027752021327614784,0.0013593779876828194,0.021010655909776688,0.0467141829431057,0.0466032437980175,-0.07322364300489426,-0.04115865007042885,-0.0031373342499136925,-0.01054317969828844,0.03462734818458557,0.031763941049575806,0.053449418395757675,0.03478243947029114,-0.029261158779263496,0.0037674151826649904,-0.06333895027637482,0.021497387439012527,0.04942958056926727,-0.03528678044676781,0.022181928157806396,-0.048510871827602386,0.03993942588567734,0.04785723239183426,0.013793005608022213,-0.021725183352828026,0.0461411327123642,0.11392226815223694,0.02799067460000515,0.06142069399356842,-0.0038761463947594166,0.03305695950984955,-0.03426283225417137,-0.05522628501057625,0.008548948913812637,-0.05366421863436699,-0.009962251409888268,-0.004040834028273821,-0.03266093507409096,-0.018584763631224632,-0.046003904193639755,0.05805593729019165,-0.0347646065056324,-0.026719320565462112,0.01411308255046606,0.032522257417440414,-0.02532821334898472,-0.016316935420036316,0.03685584291815758,-0.0012863361043855548,-0.040597766637802124,-0.03814109414815903,0.037234291434288025,-0.00041023618541657925,0.010558786801993847,0.031931810081005096,-0.07448163628578186,-0.010410071350634098,0.028896937146782875,0.003247187240049243,0.02595582604408264,-0.07287847250699997,-0.030042478814721107,-0.03831183537840843,-0.04146730527281761,-0.0036285093519836664,0.02444261871278286,0.01530758198350668,0.05121226981282234,-0.013863961212337017,0.006736461538821459,0.012098394334316254,0.005558391567319632,-0.018260454759001732,-0.02297896333038807,0.03189818188548088,0.04773356392979622,-0.016976436600089073,0.001168062211945653,0.031635772436857224,3.423012913117418e-7,0.02783772349357605,-0.007061616517603397,-0.01688775047659874,-0.0454569086432457,0.050733450800180435,-0.04248223826289177,-0.013061209581792355,-0.07865872979164124,-0.05487579479813576,-0.05434263497591019,-0.020792076364159584,0.002368622925132513,0.043720755726099014,0.07264447957277298,0.0133070582523942,-0.007999181747436523,0.026462869718670845,-0.060952942818403244,-0.03923153132200241,-0.007795277982950211,0.0492822602391243,0.01315270271152258,0.039250679314136505,0.017584703862667084,0.00933073554188013,0.04488714039325714,-0.0037516166921705008,0.014897186309099197,0.08957411348819733,-0.011279761791229248,-0.03009740635752678,-0.02613772265613079,-0.044229067862033844,0.001077192835509777,0.012895341031253338,0.004433825146406889,-0.023585567250847816,0.03347049281001091,-0.0017317646415904164,0.07776639610528946,0.045033205300569534,-0.005511116236448288,-0.005483007058501244,-0.004901972133666277,0.029738087207078934,-0.05047639086842537,-0.03849200904369354,-0.010214224457740784,-0.062022969126701355,-0.0088775884360075,-0.010077964514493942,-0.0036713893059641123,0.029918838292360306,-0.0009449655772186816,-0.016064947471022606,-0.016406480222940445,-0.02471676468849182,-0.016477324068546295,0.017654167488217354,-0.012257150374352932,-0.05764186382293701,0.0042343223467469215,-0.029132653027772903,0.003840056713670492,0.004915657453238964,-0.08130485564470291,-0.009793076664209366,4.715117226079435e-34,0.007291055284440517,-0.05373060330748558,0.012873910367488861,0.09933363646268845,0.05368809401988983,-0.026320233941078186,0.008405560627579689,0.029845748096704483,0.045853570103645325,-0.08806566148996353,0.00044009918929077685]'
SET
  @TechnicalDesignVector_0806966f = N'[-0.03314116597175598,0.013373211957514286,-0.008363304659724236,-0.0604906789958477,0.020799338817596436,-0.035820309072732925,0.07184060662984848,0.08831173181533813,0.045306701213121414,-0.020900089293718338,-0.0000018222851849714061,0.07744947820901871,0.03356337174773216,0.1033889502286911,0.008161217905580997,0.017171872779726982,-0.02825302444398403,0.04981808736920357,0.012407828122377396,-0.022888440638780594,0.05171884223818779,-0.01608237251639366,-0.031167887151241302,0.014110669493675232,0.03591625392436981,-0.05737696588039398,-0.021277284249663353,-0.05471280217170715,0.03335169702768326,-0.04153303802013397,-0.012483923695981503,0.06198224425315857,-0.05581038445234299,0.005070701241493225,0.000002446852704451885,-0.010656051337718964,-0.021483266726136208,-0.0007414294523186982,0.002172473119571805,-0.04727430269122124,0.009210812859237194,0.007274274248629808,0.009783659130334854,0.02613074518740177,-0.02417670376598835,-0.11508817225694656,-0.03526310250163078,0.008497592993080616,0.034250546246767044,0.009078050032258034,0.00821576826274395,0.04480990022420883,0.06166241317987442,0.035324711352586746,0.05589266121387482,-0.020421097055077553,-0.029223794117569923,-0.002537280321121216,0.03760479763150215,-0.04938572645187378,0.004703469108790159,-0.003738804254680872,0.03271637484431267,-0.07370921224355698,-0.03504270315170288,0.0036937869153916836,0.011471730656921864,-0.0373869314789772,-0.006516316439956427,0.02985086850821972,0.12313834577798843,-0.027385542169213295,-0.027703983709216118,-0.0387890562415123,0.003010733285918832,0.03479897975921631,-0.033670824021101,0.019725127145648003,-0.007775428704917431,0.0065572839230299,-0.025256702676415443,0.006604641210287809,-0.023381659761071205,-0.007218668237328529,0.030911698937416077,0.06686202436685562,-0.000361558428267017,-0.004832565784454346,-0.004223890136927366,-0.017362957820296288,0.04964558035135269,-0.003198547288775444,0.031480804085731506,0.02805405855178833,0.005974749568849802,0.008895407430827618,-0.020165283232927322,-0.1751571148633957,0.037438977509737015,0.07595960050821304,0.0561201311647892,0.04835601523518562,0.019935473799705505,-0.005150070879608393,0.028179604560136795,0.08665546774864197,0.026586173102259636,-0.0454699844121933,-0.0034162760712206364,0.03387399762868881,0.007519076578319073,-0.025004127994179726,0.0200569499284029,0.04717470705509186,-0.03795354813337326,0.0005192558746784925,0.016972489655017853,-0.017915282398462296,-0.025458017364144325,0.052851803600788116,0.03148176521062851,-0.03866177797317505,-0.036546047776937485,-0.013946735300123692,0.024197490885853767,0.019729770720005035,0.029478000476956367,-0.07198245078325272,-0.0168767049908638,0.021405847743153572,-0.007633516099303961,-0.002749023726209998,0.010533569380640984,0.022387931123375893,-0.039292097091674805,0.001897270092740655,-0.028485331684350967,0.02117149718105793,0.04746006801724434,-0.0018426052993163466,0.0052308617159724236,0.021200144663453102,-0.0190407894551754,0.05175791680812836,-0.026049021631479263,0.017686236649751663,0.005594950169324875,-0.08788478374481201,0.00471108965575695,0.037299394607543945,0.021081965416669846,-0.0388043075799942,-0.051938507705926895,-0.010590992867946625,-0.057477038353681564,0.03468563035130501,0.035855770111083984,0.0048224953934550285,0.03137417882680893,0.04299681633710861,0.0020905572455376387,0.0162198469042778,0.07627112418413162,0.03075570799410343,0.005119540728628635,0.05886836722493172,-0.13484662771224976,-0.040184665471315384,-0.009795657359063625,0.018216652795672417,0.03238143026828766,-0.010841097682714462,-0.03622458130121231,0.013507714495062828,-0.010929960757493973,-0.0477784126996994,0.019457580521702766,0.03535157069563866,-0.08008772134780884,-0.0019832293037325144,0.022394772619009018,-0.05037112534046173,0.023542840033769608,-0.030204419046640396,-0.024078471586108208,0.0005748620023950934,-0.03807620704174042,0.007225435692816973,0.013774009421467781,-0.0014168982161208987,-0.045624151825904846,0.020858803763985634,-0.014149481430649757,-0.00272030895575881,0.0025691697373986244,-0.006939675658941269,-0.036360301077365875,-0.04040506109595299,0.04040256142616272,0.08847182244062424,0.028622394427657127,-0.03425034508109093,0.03204576298594475,0.022947369143366814,0.02841126173734665,0.006377721205353737,-0.023699559271335602,-0.01131337322294712,-0.033018261194229126,0.017371883615851402,-0.08210119605064392,-0.005520012229681015,-0.058367304503917694,0.02281838096678257,-0.012180558405816555,-0.013773953542113304,-0.002477811649441719,-0.00629156781360507,-0.06589502096176147,0.0013338045682758093,-0.03264705464243889,0.07725263386964798,-0.02004426158964634,0.032231442630290985,0.0861264169216156,0.00411395775154233,-0.009628139436244965,-0.06708268076181412,0.04424193874001503,-0.02436932362616062,-0.03322033956646919,-0.013017470017075539,-0.0015606163069605827,0.01695575937628746,-0.028912944719195366,0.006590766832232475,-0.02518654614686966,-0.04703940078616142,0.005818838719278574,0.01495017483830452,-0.031435396522283554,0.020960655063390732,-0.020970093086361885,0.02364233508706093,0.006272734142839909,-0.04347796365618706,-0.017610281705856323,0.01577453315258026,-0.022951392456889153,0.010435783304274082,0.011349622160196304,0.01403751503676176,0.017855804413557053,-0.05862339213490486,-0.026795711368322372,-0.042632415890693665,0.010720927268266678,-0.017252575606107712,0.04136214405298233,0.0452454499900341,0.020580079406499863,0.009954482316970825,-0.0315849632024765,0.010376154445111752,0.06094082072377205,-0.004736350383609533,0.07364143431186676,-0.010436971671879292,-0.0034788865596055984,0.013211437501013279,-0.016017770394682884,0.020195474848151207,0.005096705164760351,0.008971837349236012,-0.005211531650274992,-0.01322104036808014,-0.03493643179535866,0.06481052190065384,0.010212610475718975,-0.03528287634253502,-0.010522066615521908,-0.03088066354393959,0.0036317184567451477,0.008419431746006012,-0.014569747261703014,0.008511128835380077,0.008705229498445988,-0.012968222610652447,-0.02176295965909958,-0.056500393897295,0.05474633723497391,0.037739742547273636,-0.021287409588694572,-0.05584724619984627,-0.022969940677285194,-0.0037976959720253944,-0.006572778802365065,0.06104022637009621,-0.03581831976771355,0.0483325757086277,-0.0066638546995818615,0.023100940510630608,-0.031749427318573,0.032753538340330124,0.010790401138365269,0.020590541884303093,-0.01729132980108261,0.029670335352420807,0.03304417058825493,0.05938636511564255,0.038032397627830505,0.036484841257333755,-0.0028003945481032133,-0.006319036707282066,-0.013605717569589615,0.013473878614604473,0.07343175262212753,-0.027086764574050903,-0.034862782806158066,0.06844384968280792,0.025784285739064217,-0.02242034487426281,-0.01982388086616993,-0.049626290798187256,-0.0549849197268486,-0.003256874857470393,0.021947989240288734,-0.0021660549100488424,-0.00029377141618169844,0.029567964375019073,-0.0015144170029088855,-0.039999376982450485,0.020969947800040245,0.019268983975052834,-0.013289079070091248,-0.03448648378252983,-0.017570165917277336,-0.035767246037721634,0.0026000819634646177,0.00717760669067502,-0.013867399655282497,-0.027542924508452415,0.015400564298033714,0.004009635653346777,-0.0019640782848000526,-0.015492822974920273,-0.0011936435475945473,-0.017370976507663727,-0.0757422149181366,0.025290731340646744,0.051000818610191345,0.08175233006477356,-0.019073214381933212,0.013402387499809265,-0.0011522091226652265,0.008107433095574379,-0.010149220004677773,-0.026000743731856346,0.0017945390427485108,0.00627923896536231,0.02146342396736145,0.0573335736989975,0.02884172834455967,0.04725658521056175,-0.030681880190968513,0.02413037046790123,0.054574042558670044,-0.007328497711569071,-0.0033190276008099318,-0.031196527183055878,-0.006031529977917671,0.015394304879009724,0.023739513009786606,-0.0030369528103619814,-0.014653702266514301,-0.048311226069927216,0.028754079714417458,-0.0004984967526979744,0.009900659322738647,0.00601139897480607,0.04995479807257652,0.01781536266207695,0.031203357502818108,0.016392728313803673,0.052177440375089645,-0.02819516696035862,0.030247947201132774,0.03503244370222092,-0.006636056117713451,-0.017113730311393738,-0.011342406272888184,0.03735586628317833,-0.019733598455786705,0.010889062657952309,-0.025876609608530998,0.05184762924909592,0.016196653246879578,0.021040720865130424,0.017114577814936638,0.026235537603497505,-0.03166849911212921,0.013417353853583336,-0.007984837517142296,-0.042494188994169235,0.0750700980424881,-0.009694218635559082,0.022860273718833923,0.00510243559256196,0.03767203912138939,-0.017635788768529892,-0.031546637415885925,-0.027373813092708588,0.0035605719313025475,-0.02450680546462536,-0.054686613380908966,0.002744835801422596,0.0171052273362875,-0.0859675332903862,0.02635222300887108,0.03286665678024292,-0.04290316253900528,0.012187602929770947,0.033636558800935745,-0.02204650081694126,0.06945349276065826,-0.03184829652309418,-0.024990418925881386,-0.0918232649564743,-0.014782121405005455,0.021413130685687065,0.0010546266566962004,-0.0094896350055933,0.005216700024902821,0.023639015853405,-0.04677010327577591,-0.04438687115907669,0.017576148733496666,-0.03060489147901535,0.009479054249823093,-0.03342143073678017,0.001863065524958074,0.022788725793361664,0.0982556864619255,-0.025440853089094162,-0.004299836233258247,-0.07260984182357788,0.02098461054265499,0.05243489518761635,0.02812896855175495,-0.006983621511608362,-0.063841313123703,0.0018059535650536418,-0.07108050584793091,0.02880917675793171,-0.06325272470712662,-0.03992460295557976,0.054755423218011856,0.05823550373315811,0.015604725107550621,0.03330610319972038,0.0019690440967679024,0.030797798186540604,0.0054455590434372425,-0.013692660257220268,-0.03201189264655113,0.0007038736366666853,-0.034853819757699966,-0.0740756243467331,-0.012993029318749905,0.008175276219844818,0.03200770169496536,0.0038238035049289465,-0.022200264036655426,-0.035727355629205704,-0.0036520338617265224,0.016057420521974564,-0.01759509928524494,-0.009247547015547752,0.04100271314382553,0.007377532310783863,0.04938190057873726,-0.019675953313708305,-0.03956850990653038,-0.08249661326408386,0.024076564237475395,0.00986291840672493,-0.015900744125247,-0.02710643596947193,0.002072700299322605,0.02077946998178959,0.00598619319498539,-0.022535497322678566,-0.002373660681769252,0.05396847426891327,0.028684208169579506,0.03271741420030594,-0.01205902174115181,0.06391212344169617,-0.03139775991439819,0.025892820209264755,0.01732250303030014,-0.035094570368528366,-0.015924330800771713,-0.0016100272769108415,-0.026376262307167053,-0.02859792858362198,-0.03352838382124901,0.04874870181083679,-0.011725031770765781,-0.015272366814315319,-0.03220197558403015,0.002644857158884406,-0.02343777008354664,0.008869398385286331,-0.010605947114527225,0.0766899436712265,-0.053763508796691895,0.01569860614836216,0.021938001736998558,0.019404957070946693,0.00977136380970478,0.039419978857040405,-0.016559110954403877,0.0026871543377637863,0.0031459263991564512,-0.011355499736964703,0.03737085312604904,0.005237346049398184,0.030879836529493332,0.027114612981677055,0.01955481804907322,0.0004942350788041949,0.0251472145318985,-0.022872615605592728,0.000668737106025219,0.020360728725790977,0.04176003485918045,0.012946824543178082,0.027123408392071724,-0.05220867693424225,-0.06733687967061996,0.016243712976574898,0.03377041965723038,0.02826787531375885,0.008162684738636017,-0.0018010118510574102,-0.006263249553740025,-0.02200222760438919,0.04217676818370819,-0.0019033715361729264,0.00646204361692071,0.005907818675041199,0.0032182540744543076,-0.015021839179098606,-0.007861134596168995,-7.078755716306797e-33,-0.025718050077557564,-0.005808074492961168,-0.028372908011078835,0.026944812387228012,-0.045057930052280426,-0.02372041903436184,-0.050277672708034515,-0.02451251447200775,0.04348265752196312,0.003654987085610628,-0.03114193305373192,-0.0788690596818924,-0.0096166105940938,0.045603424310684204,-0.030160600319504738,-0.003005050355568528,0.017198845744132996,0.005256742238998413,-0.011781640350818634,0.07519644498825073,-0.0016335479449480772,-0.015322490595281124,-0.012128603644669056,0.04943731799721718,-0.061428800225257874,-0.059794507920742035,-0.0032885519322007895,-0.02867833897471428,-0.062463391572237015,0.03661269694566727,-0.0400623083114624,0.0050901188515126705,-0.00525609590113163,-0.024761881679296494,0.027757195755839348,0.017576536163687706,-0.012076035141944885,-0.09966335445642471,0.0219272468239069,0.041838157922029495,0.05786630138754845,0.007761025335639715,0.03581998869776726,-0.023485323414206505,0.0008519585244357586,0.004823550581932068,0.007747614290565252,-0.007581653539091349,-0.021655447781085968,-0.12632009387016296,-0.021316898986697197,0.039530396461486816,-0.008819835260510445,0.008294536732137203,-0.01902337372303009,0.007675390224903822,0.06956809014081955,0.047102633863687515,-0.06897372007369995,-0.071532242000103,-0.034859247505664825,0.022835591807961464,0.020429590716958046,0.038843583315610886,0.030366674065589905,0.040982868522405624,-0.019778408110141754,-0.005447013303637505,-0.059455424547195435,0.051028136163949966,0.05423377826809883,-0.0986502543091774,0.0252363458275795,-0.003794340183958411,0.04532972350716591,0.04318691045045853,0.0042928364127874374,-0.03099065274000168,0.07592633366584778,0.0998912900686264,0.03796817734837532,0.07377014309167862,0.007130612153559923,0.0269211083650589,-0.05846276134252548,-0.038098983466625214,0.02240564487874508,-0.030884355306625366,-0.041542984545230865,0.009787212125957012,-0.011456816457211971,-0.005376181565225124,-0.018225261941552162,0.06738276779651642,-0.037171103060245514,-0.05161334201693535,0.01605141907930374,0.04883364215493202,-0.02950778603553772,-0.00041504562250338495,0.01647423766553402,-0.04928741604089737,-0.046256523579359055,-0.012956579215824604,0.02407843992114067,0.005346347112208605,0.0061186933889985085,0.025412460789084435,-0.06028228998184204,0.00293169729411602,0.03453020378947258,0.02248596027493477,0.01012265495955944,-0.03971845284104347,0.0008894487982615829,0.004390385001897812,-0.052575498819351196,-0.03300236538052559,0.0038043675012886524,0.04502932354807854,0.01210513710975647,0.0021244639065116644,-0.017737988382577896,0.00786228384822607,-0.021089378744363785,-0.011267873458564281,-0.02343386597931385,-0.008747249841690063,0.0035788738168776035,-0.023693853989243507,0.01774447038769722,0.016468599438667297,3.362610527801735e-7,0.004738704301416874,-0.005782986059784889,-0.00016710592899471521,-0.06928063184022903,0.04924970120191574,-0.017884988337755203,-0.029956204816699028,-0.07941573113203049,-0.05382070317864418,-0.07490156590938568,-0.034185223281383514,-0.014803878962993622,0.030524346977472305,0.06094478443264961,0.013388809747993946,0.012944059446454048,-0.005042857490479946,-0.039540037512779236,-0.04976002871990204,-0.0027320394292473793,-0.0017624252941459417,0.004737940616905689,0.07157357037067413,0.014890364371240139,0.009944573976099491,0.04192512109875679,0.0016828479710966349,0.021896973252296448,0.0387556217610836,-0.027887728065252304,0.008185059763491154,-0.0226897019892931,-0.031894832849502563,-0.0136254345998168,0.04354804381728172,0.00012757067452184856,-0.016201786696910858,0.028811533004045486,0.02906588464975357,0.07954041659832001,0.052746184170246124,-0.028202997520565987,-0.00699916947633028,-0.03287503495812416,0.03820398449897766,-0.021403558552265167,-0.04870859906077385,0.029894160106778145,-0.08133251965045929,-0.027557767927646637,-0.008213769644498825,-0.0203623678535223,0.01806025579571724,0.00253520836122334,-0.0005898207309655845,-0.051854074001312256,0.008869192562997341,-0.0009473953978158534,0.0035238098353147507,-0.03400721773505211,-0.058361783623695374,0.01780087687075138,-0.01889776438474655,0.0014194578398019075,0.014576905407011509,-0.0859823003411293,-0.032260630279779434,4.406858526255676e-34,-0.0008855637861415744,-0.06362289190292358,-0.00517042214050889,0.04638996720314026,0.054415520280599594,-0.02105787768959999,0.03649013116955757,0.022834548726677895,0.047199148684740067,-0.07476244121789932,-0.004284712020307779]'
SET
  @HasCustomProps_0806966f = 1
SET
  @HasCustomEvents_0806966f = 1
SET
  @RequiresData_0806966f = 0
SET
  @DependencyCount_0806966f = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_0806966f = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_0806966f = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_0806966f = 1
SET
  @ID_0806966f = '89F60F0B-31C3-4676-B6DD-F3D2258C416A'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_0806966f,
  @Name = @Name_0806966f,
  @Version = @Version_0806966f,
  @VersionSequence = @VersionSequence_0806966f,
  @Title = @Title_0806966f,
  @Description = @Description_0806966f,
  @Type = @Type_0806966f,
  @Status = @Status_0806966f,
  @DeveloperName = @DeveloperName_0806966f,
  @DeveloperEmail = @DeveloperEmail_0806966f,
  @DeveloperOrganization = @DeveloperOrganization_0806966f,
  @SourceRegistryID = @SourceRegistryID_0806966f,
  @ReplicatedAt = @ReplicatedAt_0806966f,
  @LastSyncedAt = @LastSyncedAt_0806966f,
  @Specification = @Specification_0806966f,
  @FunctionalRequirements = @FunctionalRequirements_0806966f,
  @TechnicalDesign = @TechnicalDesign_0806966f,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_0806966f,
  @TechnicalDesignVector = @TechnicalDesignVector_0806966f,
  @HasCustomProps = @HasCustomProps_0806966f,
  @HasCustomEvents = @HasCustomEvents_0806966f,
  @RequiresData = @RequiresData_0806966f,
  @DependencyCount = @DependencyCount_0806966f,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_0806966f,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_0806966f,
  @HasRequiredCustomProps = @HasRequiredCustomProps_0806966f,
  @ID = @ID_0806966f;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_e7dc1d50 NVARCHAR(MAX),
@Name_e7dc1d50 NVARCHAR(500),
@Version_e7dc1d50 NVARCHAR(50),
@VersionSequence_e7dc1d50 INT,
@Title_e7dc1d50 NVARCHAR(1000),
@Description_e7dc1d50 NVARCHAR(MAX),
@Type_e7dc1d50 NVARCHAR(255),
@Status_e7dc1d50 NVARCHAR(50),
@DeveloperName_e7dc1d50 NVARCHAR(255),
@DeveloperEmail_e7dc1d50 NVARCHAR(255),
@DeveloperOrganization_e7dc1d50 NVARCHAR(255),
@SourceRegistryID_e7dc1d50 UNIQUEIDENTIFIER,
@ReplicatedAt_e7dc1d50 DATETIMEOFFSET,
@LastSyncedAt_e7dc1d50 DATETIMEOFFSET,
@Specification_e7dc1d50 NVARCHAR(MAX),
@FunctionalRequirements_e7dc1d50 NVARCHAR(MAX),
@TechnicalDesign_e7dc1d50 NVARCHAR(MAX),
@FunctionalRequirementsVector_e7dc1d50 NVARCHAR(MAX),
@TechnicalDesignVector_e7dc1d50 NVARCHAR(MAX),
@HasCustomProps_e7dc1d50 BIT,
@HasCustomEvents_e7dc1d50 BIT,
@RequiresData_e7dc1d50 BIT,
@DependencyCount_e7dc1d50 INT,
@TechnicalDesignVectorEmbeddingModelID_e7dc1d50 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_e7dc1d50 NVARCHAR(MAX),
@HasRequiredCustomProps_e7dc1d50 BIT,
@ID_e7dc1d50 UNIQUEIDENTIFIER
SET
  @Namespace_e7dc1d50 = N'Generic/UI/Export'
SET
  @Name_e7dc1d50 = N'DataExportPanel'
SET
  @Version_e7dc1d50 = N'1.0.0'
SET
  @VersionSequence_e7dc1d50 = 1
SET
  @Title_e7dc1d50 = N'Data Export Panel'
SET
  @Description_e7dc1d50 = N'Multi-format export component supporting CSV, Excel (XLSX), and PDF with two modes: UI (dropdown button with format selection) or headless (programmatic export). Exports tabular data (array of objects + column definitions) OR HTML elements (charts, dashboards) to PDF via html2canvas. Column selection, preview, custom formatting (dates, numbers, currency). PDF features: orientation (portrait/landscape), page size (A4/letter), margins, multi-page support, data table inclusion, AI insights markdown rendering. Excel: auto-width columns, filters, custom sheet names. CSV: proper escaping, chunked processing for large datasets. Progress tracking and error callbacks.

#### DataExportPanel - ONLY use when:
✅ Need to export tabular data (array of records) to CSV/Excel/PDF
✅ Want to export visualizations (charts, dashboards) as PDF snapshots
✅ Need user-facing export UI with dropdown button
✅ Need programmatic export (headless mode for background jobs)
✅ Exporting AI insights as markdown text in PDF
✅ Need column selection, preview, or custom formatting

❌ DO NOT USE DataExportPanel when:
- Exporting a single value or simple text → Use clipboard API or browser download API directly
- Need formats other than CSV/Excel/PDF → Use specialized export libraries
- Exporting from external APIs → Fetch data first, then pass to DataExportPanel
- Need real-time streaming export → DataExportPanel loads all data into memory
- Complex multi-sheet Excel workbooks → Use XLSX library directly

**Use Cases**: Dashboard export buttons, report download functionality, ''Export to Excel'' from data grids, saving AI-generated insights as PDF with visualizations, bulk data extraction for users.
'
SET
  @Type_e7dc1d50 = N'Widget'
SET
  @Status_e7dc1d50 = N'Published'
SET
  @Specification_e7dc1d50 = N'{"name":"DataExportPanel","namespace":"Generic/UI/Export","location":"embedded","code":"function DataExportPanel({ \n  mode = ''ui'',\n  data = [],\n  columns = [],\n  filename = ''export'',\n  formats = [''csv'', ''excel'', ''pdf''],\n  position = ''inline'',\n  buttonStyle = ''dropdown'',\n  buttonText = ''Export'',\n  icon = ''fa-download'',\n  showPreview = false,\n  allowColumnSelection = true,\n  includeHeaders = true,\n  dateFormat = ''YYYY-MM-DD'',\n  numberFormat = { decimals: 2, thousandsSeparator: '','', decimalSeparator: ''.'' },\n  pdfOptions = { orientation: ''portrait'', pageSize: ''a4'', margins: { top: 40, bottom: 40, left: 40, right: 40 } },\n  excelOptions = { sheetName: ''Data'', includeFilters: true, autoWidth: true },\n  getHtmlElement = null,  // Function to get element at export time\n  aiInsightsText = null,  // Raw markdown text for AI insights\n  onExportStart = () => {},\n  onExportComplete = () => {},\n  onExportError = () => {},\n  customStyles = {},\n  visible = true,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  const [isDropdownOpen, setIsDropdownOpen] = React.useState(false);\n  const [isExporting, setIsExporting] = React.useState(false);\n  const [exportProgress, setExportProgress] = React.useState(0);\n  \n  // Validate and normalize columns on initialization\n  const validateColumns = (cols) => {\n    if (!cols || cols.length === 0) {\n      console.warn(''⚠️ [DataExportPanel] No columns provided for export'');\n      return [];\n    }\n    \n    return cols.map((col, index) => {\n      // Check for required properties\n      if (!col.key && !col.field) {\n        console.warn(`⚠️ [DataExportPanel] Column at index $' + '{index} missing ''key'' property. Expected format: { key: ''fieldName'', label: ''Display Name'' }. Got:`, col);\n      }\n      if (!col.label && !col.header && !col.name) {\n        console.warn(`⚠️ [DataExportPanel] Column at index $' + '{index} missing ''label'' property. Will fallback to key/field value.`);\n      }\n      \n      const key = col.key || col.field;\n      const label = col.label || col.header || col.name || key;\n      \n      if (!key) {\n        console.error(`❌ [DataExportPanel] Column at index $' + '{index} has no valid key identifier. This will cause export to fail. Column:`, col);\n      }\n      \n      return {\n        ...col,\n        key: key,\n        label: label,\n        selected: true\n      };\n    });\n  };\n  \n  const [selectedColumns, setSelectedColumns] = React.useState(\n    validateColumns(columns)\n  );\n  const [showColumnSelector, setShowColumnSelector] = React.useState(false);\n  const [showPreviewDialog, setShowPreviewDialog] = React.useState(false);\n  const [previewFormat, setPreviewFormat] = React.useState(null);\n  \n  const exportRef = React.useRef(null);\n  const dropdownRef = React.useRef(null);\n  \n  // Re-validate columns if they change\n  React.useEffect(() => {\n    setSelectedColumns(validateColumns(columns));\n  }, [columns]);\n  \n  // Merge default styles with custom styles\n  const panelStyles = {\n    container: {\n      position: position === ''floating'' ? ''fixed'' : ''relative'',\n      display: position === ''inline'' ? ''inline-block'' : ''block'',\n      ...customStyles.container\n    },\n    button: {\n      padding: ''8px 16px'',\n      backgroundColor: styles?.colors?.primary || ''#3B82F6'',\n      color: ''white'',\n      border: ''none'',\n      borderRadius: ''6px'',\n      cursor: ''pointer'',\n      display: ''flex'',\n      alignItems: ''center'',\n      gap: ''8px'',\n      fontSize: ''14px'',\n      fontWeight: ''500'',\n      transition: ''all 0.2s'',\n      ...customStyles.button\n    },\n    dropdown: {\n      position: ''absolute'',\n      top: ''100%'',\n      right: 0,\n      marginTop: ''4px'',\n      backgroundColor: ''white'',\n      border: ''1px solid #E5E7EB'',\n      borderRadius: ''8px'',\n      boxShadow: ''0 4px 6px rgba(0, 0, 0, 0.1)'',\n      zIndex: 1000,\n      minWidth: ''200px'',\n      ...customStyles.dropdown\n    },\n    dropdownItem: {\n      padding: ''10px 16px'',\n      cursor: ''pointer'',\n      display: ''flex'',\n      alignItems: ''center'',\n      gap: ''10px'',\n      fontSize: ''14px'',\n      transition: ''background-color 0.15s'',\n      borderBottom: ''1px solid #F3F4F6'',\n      ...customStyles.dropdownItem\n    },\n    progressBar: {\n      position: ''absolute'',\n      bottom: 0,\n      left: 0,\n      right: 0,\n      height: ''3px'',\n      backgroundColor: ''#E5E7EB'',\n      borderRadius: ''0 0 6px 6px'',\n      overflow: ''hidden'',\n      ...customStyles.progressBar\n    },\n    progressFill: {\n      height: ''100%'',\n      backgroundColor: styles?.colors?.success || ''#10B981'',\n      transition: ''width 0.3s ease'',\n      ...customStyles.progressFill\n    }\n  };\n  \n  // Format value based on type\n  const formatValue = (value, type) => {\n    if (value == null) return '''';\n    \n    if (type === ''date'' && dayjs) {\n      return dayjs(value).format(dateFormat);\n    }\n    \n    if (type === ''number'' && numberFormat) {\n      const num = parseFloat(value);\n      if (!isNaN(num)) {\n        const parts = num.toFixed(numberFormat.decimals).split(''.'');\n        parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, numberFormat.thousandsSeparator);\n        return parts.join(numberFormat.decimalSeparator);\n      }\n    }\n    \n    if (type === ''currency'' && numberFormat) {\n      const num = parseFloat(value);\n      if (!isNaN(num)) {\n        const formatted = formatValue(num, ''number'');\n        return `$$' + '{formatted}`;\n      }\n    }\n    \n    return String(value);\n  };\n  \n  // Prepare data for export\n  const prepareData = () => {\n    const activeColumns = allowColumnSelection \n      ? selectedColumns.filter(col => col.selected)\n      : selectedColumns; // Use validated selectedColumns instead of raw columns\n      \n    if (!data || data.length === 0) {\n      console.warn(''⚠️ [DataExportPanel] No data to export'');\n      return { headers: [], rows: [] };\n    }\n    \n    // Validate data structure\n    if (data.length > 0) {\n      const sampleRow = data[0];\n      activeColumns.forEach(col => {\n        if (!(col.key in sampleRow)) {\n          console.warn(`⚠️ [DataExportPanel] Data missing key ''$' + '{col.key}'' that was defined in columns. First row keys:`, Object.keys(sampleRow));\n        }\n      });\n    }\n    \n    const headers = activeColumns.map(col => col.label || col.key);\n    const rows = data.map((row, rowIndex) => \n      activeColumns.map(col => {\n        if (!(col.key in row) && rowIndex === 0) {\n          console.warn(`⚠️ [DataExportPanel] Row $' + '{rowIndex} missing value for key ''$' + '{col.key}''`);\n        }\n        return formatValue(row[col.key], col.type);\n      })\n    );\n    \n    console.log(`✅ [DataExportPanel] Prepared $' + '{rows.length} rows with $' + '{headers.length} columns for export`);\n    \n    return { headers, rows };\n  };\n  \n  // Export to CSV\n  const exportToCSV = async () => {\n    try {\n      setIsExporting(true);\n      setExportProgress(10);\n      onExportStart(''csv'');\n      \n      const { headers, rows } = prepareData();\n      setExportProgress(30);\n      \n      // Build CSV content\n      let csvContent = '''';\n      \n      if (includeHeaders) {\n        csvContent += headers.map(h => `\"$' + '{h}\"`).join('','') + ''\\n'';\n      }\n      \n      setExportProgress(50);\n      \n      // Process rows in chunks for large datasets\n      const chunkSize = 1000;\n      for (let i = 0; i < rows.length; i += chunkSize) {\n        const chunk = rows.slice(i, i + chunkSize);\n        csvContent += chunk.map(row => \n          row.map(cell => `\"$' + '{cell.replace(/\"/g, ''\"\"'')}\"`).join('','')\n        ).join(''\\n'');\n        \n        if (i + chunkSize < rows.length) {\n          csvContent += ''\\n'';\n        }\n        \n        setExportProgress(50 + (i / rows.length) * 40);\n      }\n      \n      setExportProgress(90);\n      \n      // Create and download file\n      const blob = new Blob([csvContent], { type: ''text/csv;charset=utf-8;'' });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement(''a'');\n      link.href = url;\n      link.download = `$' + '{filename}.csv`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n      \n      setExportProgress(100);\n      onExportComplete(''csv'', `$' + '{filename}.csv`);\n      \n      setTimeout(() => {\n        setIsExporting(false);\n        setExportProgress(0);\n      }, 500);\n      \n    } catch (error) {\n      console.error(''CSV export failed:'', error);\n      onExportError(error);\n      setIsExporting(false);\n      setExportProgress(0);\n    }\n  };\n  \n  // Export to Excel\n  const exportToExcel = async () => {\n    try {\n      setIsExporting(true);\n      setExportProgress(10);\n      onExportStart(''excel'');\n      \n      const { headers, rows } = prepareData();\n      setExportProgress(30);\n      \n      // Create workbook and worksheet\n      const wb = XLSX.utils.book_new();\n      \n      // Combine headers and rows\n      const worksheetData = includeHeaders ? [headers, ...rows] : rows;\n      setExportProgress(50);\n      \n      const ws = XLSX.utils.aoa_to_sheet(worksheetData);\n      \n      // Apply column widths if autoWidth is enabled\n      if (excelOptions.autoWidth && selectedColumns) {\n        const colWidths = selectedColumns\n          .filter(col => !allowColumnSelection || col.selected)\n          .map(col => ({ wch: col.width ? col.width / 7 : 15 }));\n        ws[''!cols''] = colWidths;\n      }\n      \n      setExportProgress(70);\n      \n      // Add filters if enabled\n      if (excelOptions.includeFilters && includeHeaders) {\n        ws[''!autofilter''] = { \n          ref: XLSX.utils.encode_range({\n            s: { r: 0, c: 0 },\n            e: { r: worksheetData.length - 1, c: headers.length - 1 }\n          })\n        };\n      }\n      \n      setExportProgress(80);\n      \n      // Add worksheet to workbook\n      XLSX.utils.book_append_sheet(wb, ws, excelOptions.sheetName || ''Data'');\n      \n      // Generate file\n      const wbout = XLSX.write(wb, { bookType: ''xlsx'', type: ''binary'' });\n      \n      // Convert to blob\n      const buf = new ArrayBuffer(wbout.length);\n      const view = new Uint8Array(buf);\n      for (let i = 0; i < wbout.length; i++) {\n        view[i] = wbout.charCodeAt(i) & 0xFF;\n      }\n      \n      setExportProgress(90);\n      \n      const blob = new Blob([buf], { type: ''application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'' });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement(''a'');\n      link.href = url;\n      link.download = `$' + '{filename}.xlsx`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n      \n      setExportProgress(100);\n      onExportComplete(''excel'', `$' + '{filename}.xlsx`);\n      \n      setTimeout(() => {\n        setIsExporting(false);\n        setExportProgress(0);\n      }, 500);\n      \n    } catch (error) {\n      console.error(''Excel export failed:'', error);\n      onExportError(error);\n      setIsExporting(false);\n      setExportProgress(0);\n    }\n  };\n  \n  // Export to PDF\n  const exportToPDF = async () => {\n    // Get elements at export time\n    const exportHtmlElement = getHtmlElement ? getHtmlElement() : null;\n    \n    console.log(''=== PDF Export Debug ==='');\n    console.log(''getHtmlElement provided:'', !!getHtmlElement);\n    console.log(''exportHtmlElement:'', !!exportHtmlElement, exportHtmlElement);\n    console.log(''aiInsightsText provided:'', !!aiInsightsText);\n    console.log(''pdfOptions:'', pdfOptions);\n    console.log(''data length:'', data?.length || 0);\n    \n    try {\n      setIsExporting(true);\n      setExportProgress(10);\n      onExportStart(''pdf'');\n      \n      const { jsPDF } = jspdf;\n      const doc = new jsPDF({\n        orientation: pdfOptions.orientation || ''portrait'',\n        unit: ''mm'',\n        format: pdfOptions.pageSize || ''a4'',\n        compress: true  // Enable PDF compression\n      });\n      \n      setExportProgress(20);\n      \n      if (exportHtmlElement) {\n        console.log(''HTML element path - capturing dashboard'');\n        console.log(''exportHtmlElement dimensions:'', {\n          scrollWidth: exportHtmlElement.scrollWidth,\n          scrollHeight: exportHtmlElement.scrollHeight,\n          clientWidth: exportHtmlElement.clientWidth,\n          clientHeight: exportHtmlElement.clientHeight\n        });\n        \n        // Capture HTML element as image (for charts, dashboards, etc.)\n        setExportProgress(30);\n        \n        // Add title and metadata\n        doc.setFontSize(16);\n        doc.text(pdfOptions.title || filename, pdfOptions.margins.left, pdfOptions.margins.top - 10);\n        \n        doc.setFontSize(10);\n        doc.text(\n          `Generated: $' + '{dayjs().format(''YYYY-MM-DD HH:mm'')}`,\n          pdfOptions.margins.left,\n          pdfOptions.margins.top - 5\n        );\n        \n        setExportProgress(40);\n        \n        // Wait longer for ApexCharts to fully render\n        console.log(''Waiting 1000ms for charts to render...'');\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        console.log(''Wait complete, starting html2canvas...'');\n        \n        // Capture the element with better options for dashboards\n        let canvas = null;\n        let imgData = null;\n        try {\n          canvas = await html2canvas(exportHtmlElement, {\n            scale: 2,\n            logging: false,\n            useCORS: true,\n            backgroundColor: ''#ffffff'',\n            windowWidth: exportHtmlElement.scrollWidth,\n            windowHeight: exportHtmlElement.scrollHeight,\n            ignoreElements: (element) => {\n              // Ignore elements that shouldn''t be in the PDF\n              return element.classList?.contains(''no-print'') || \n                     element.tagName === ''BUTTON'';\n            }\n          });\n          console.log(''Dashboard canvas captured successfully'');\n          imgData = canvas.toDataURL(''image/jpeg'', 0.95);  // Use JPEG for better compression\n        } catch (canvasError) {\n          console.error(''Error capturing dashboard canvas:'', canvasError);\n          console.warn(''⚠️ Continuing PDF export without visualization - will include data table only'');\n          // Don''t throw - continue with data table export\n          canvas = null;\n          imgData = null;\n        }\n        \n        setExportProgress(60);\n        \n        // Calculate proper aspect ratio\n        const pageWidth = doc.internal.pageSize.getWidth();\n        const pageHeight = doc.internal.pageSize.getHeight();\n        const marginLeft = pdfOptions.margins.left || 20;\n        const marginRight = pdfOptions.margins.right || 20;\n        const marginTop = pdfOptions.margins.top || 20;\n        const marginBottom = pdfOptions.margins.bottom || 20;\n        \n        const maxWidth = pageWidth - marginLeft - marginRight;\n        const maxHeight = pageHeight - marginTop - marginBottom - 10;\n        \n        // Only process image if canvas was captured successfully\n        if (canvas && imgData) {\n          // Calculate dimensions maintaining aspect ratio\n          const canvasAspectRatio = canvas.width / canvas.height;\n          const pageAspectRatio = maxWidth / maxHeight;\n          \n          let imgWidth, imgHeight;\n          \n          if (canvasAspectRatio > pageAspectRatio) {\n            // Image is wider than page ratio - fit to width\n            imgWidth = maxWidth;\n            imgHeight = maxWidth / canvasAspectRatio;\n          } else {\n            // Image is taller than page ratio - fit to height\n            imgHeight = maxHeight;\n            imgWidth = maxHeight * canvasAspectRatio;\n          }\n          \n          // For cluster visualization, maximize the image size on the first page\n          // since we''ll put the data table on subsequent pages\n          if (exportHtmlElement && exportHtmlElement.id === ''cluster-graph-container'') {\n            console.log(''Detected cluster graph - maximizing image size for PDF'');\n            // Use more of the page for the visualization\n            const availableHeight = pageHeight - marginTop - marginBottom;\n            const availableWidth = pageWidth - marginLeft - marginRight;\n            \n            // Recalculate to use full available space\n            if (canvasAspectRatio > (availableWidth / availableHeight)) {\n              imgWidth = availableWidth;\n              imgHeight = availableWidth / canvasAspectRatio;\n            } else {\n              imgHeight = availableHeight;\n              imgWidth = availableHeight * canvasAspectRatio;\n            }\n          }\n          \n          console.log(''Image sizing:'', {\n            canvas: { width: canvas.width, height: canvas.height, ratio: canvasAspectRatio },\n            page: { maxWidth, maxHeight, ratio: pageAspectRatio },\n            final: { width: imgWidth, height: imgHeight }\n          });\n          \n          // Skip AI Insights canvas capture - we only want the markdown text\n          // The aiInsightsText parameter provides the markdown content directly\n          \n          // Image data and dimensions are already calculated above\n          let yPosition = marginTop;\n          const bottomMargin = pageHeight - marginBottom;\n          \n          // Check if we need multi-page support for tall dashboards\n          if (pdfOptions.multiPage && imgHeight > bottomMargin - yPosition) {\n            console.log(''Using multi-page mode for tall dashboard'');\n            // Split the image across multiple pages\n            const pageHeight = bottomMargin - yPosition;\n            let remainingHeight = imgHeight;\n            let currentY = 0;\n          \n          while (remainingHeight > 0) {\n            const currentPageHeight = Math.min(pageHeight, remainingHeight);\n            \n            // Create a temporary canvas for this page''s portion\n            const pageCanvas = document.createElement(''canvas'');\n            pageCanvas.width = canvas.width;\n            pageCanvas.height = (currentPageHeight / imgWidth) * canvas.width;\n            \n            const ctx = pageCanvas.getContext(''2d'');\n            ctx.drawImage(\n              canvas,\n              0, currentY * (canvas.height / imgHeight),\n              canvas.width, pageCanvas.height * (canvas.height / imgHeight),\n              0, 0,\n              pageCanvas.width, pageCanvas.height\n            );\n            \n            const pageImgData = pageCanvas.toDataURL(''image/png'');\n            \n            doc.addImage(\n              pageImgData,\n              ''PNG'',\n              pdfOptions.margins.left,\n              yPosition,\n              imgWidth,\n              currentPageHeight\n            );\n            \n            remainingHeight -= currentPageHeight;\n            currentY += currentPageHeight;\n            \n            if (remainingHeight > 0) {\n              doc.addPage();\n              yPosition = pdfOptions.margins.top;\n            }\n          }\n          } else if (yPosition + imgHeight > bottomMargin) {\n            // Single page mode - scale to fit\n          const maxHeight = bottomMargin - yPosition;\n          const scaledWidth = (maxHeight * canvas.width) / canvas.height;\n          \n          doc.addImage(\n            imgData, \n            ''PNG'', \n            pdfOptions.margins.left, \n            yPosition, \n            scaledWidth > imgWidth ? imgWidth : scaledWidth,\n            scaledWidth > imgWidth ? imgHeight : maxHeight\n          );\n          } else {\n            // Center the image horizontally if it''s narrower than the page\n            const xPosition = marginLeft + Math.max(0, (maxWidth - imgWidth) / 2);\n            \n            doc.addImage(\n              imgData, \n              ''JPEG'', \n              xPosition, \n              yPosition, \n              imgWidth, \n              imgHeight\n            );\n            \n            // For cluster graphs, always put data table on next page for better layout\n            if (exportHtmlElement && exportHtmlElement.id === ''cluster-graph-container'') {\n              console.log(''Cluster graph exported - data table will be on next page'');\n              // Force data table to next page by setting a flag\n              doc.addPage();\n            }\n          }\n        } else {\n          // No image captured - add a note\n          doc.setFontSize(10);\n          doc.setTextColor(150, 150, 150);\n          doc.text(''Note: Visualization could not be captured'', pageWidth / 2, marginTop + 20, { align: ''center'' });\n        }\n        \n        // Add AI Insights on a new page - only use markdown text\n        if (aiInsightsText) {\n          console.log(''Adding AI Insights to PDF on new page'');\n          doc.addPage();\n          \n          // Add AI Insights header\n          doc.setFontSize(16);\n          doc.setFont(undefined, ''bold'');\n          doc.text(''AI-Generated Insights'', marginLeft, marginTop);\n          \n          doc.setFontSize(10);\n          doc.setFont(undefined, ''normal'');\n          doc.setTextColor(100);\n          doc.text(\n            `Generated: $' + '{dayjs().format(''YYYY-MM-DD HH:mm'')}`,\n            marginLeft,\n            marginTop + 7\n          );\n          doc.setTextColor(0);\n          \n          if (aiInsightsText) {\n            // Render markdown as text\n            let yPos = marginTop + 20;\n            const lineHeight = 5;\n            const maxLineWidth = pageWidth - marginLeft - marginRight;\n            \n            // Clean the markdown text to handle special characters\n            let cleanText = aiInsightsText\n              .replace(/[\"\"]/g, ''\"'')  // Smart quotes to regular quotes\n              .replace(/['''']/g, \"''\")  // Smart apostrophes to regular apostrophes\n              .replace(/—/g, ''-'')     // Em dash to hyphen\n              .replace(/–/g, ''-'')     // En dash to hyphen\n              .replace(/…/g, ''...'')   // Ellipsis\n              .replace(/•/g, ''* '')    // Bullet points\n              .replace(/\\u200B/g, '''') // Zero-width space\n              .replace(/\\u00A0/g, '' '') // Non-breaking space\n              .replace(/[\\u2000-\\u206F]/g, '''') // Various Unicode spaces and formatting\n              .replace(/[\\u2070-\\u209F]/g, '''') // Superscripts and subscripts\n              .replace(/[\\u20A0-\\u20CF]/g, '''') // Currency symbols (except common ones)\n              .replace(/[\\u2100-\\u214F]/g, '''') // Letterlike symbols\n              .replace(/[\\uFE00-\\uFE0F]/g, '''') // Variation selectors\n              .replace(/[^\\x00-\\x7F\\u0080-\\u00FF]/g, ''''); // Remove other non-ASCII chars except Latin-1\n            \n            // Parse markdown to extract structure\n            const lines = cleanText.split(''\\n'');\n            \n            for (const line of lines) {\n              // Check if we need a new page\n              if (yPos > pageHeight - marginBottom - 10) {\n                doc.addPage();\n                yPos = marginTop;\n              }\n              \n              // Handle different markdown elements\n              if (line.startsWith(''# '')) {\n                // H1 heading\n                doc.setFontSize(14);\n                doc.setFont(undefined, ''bold'');\n                const text = line.substring(2).trim();\n                doc.text(text, marginLeft, yPos);\n                yPos += lineHeight * 1.5;\n                doc.setFont(undefined, ''normal'');\n                doc.setFontSize(10);\n              } else if (line.startsWith(''## '')) {\n                // H2 heading\n                doc.setFontSize(12);\n                doc.setFont(undefined, ''bold'');\n                const text = line.substring(3).trim();\n                doc.text(text, marginLeft, yPos);\n                yPos += lineHeight * 1.3;\n                doc.setFont(undefined, ''normal'');\n                doc.setFontSize(10);\n              } else if (line.startsWith(''### '')) {\n                // H3 heading\n                doc.setFontSize(11);\n                doc.setFont(undefined, ''bold'');\n                const text = line.substring(4).trim();\n                doc.text(text, marginLeft, yPos);\n                yPos += lineHeight * 1.2;\n                doc.setFont(undefined, ''normal'');\n                doc.setFontSize(10);\n              } else if (line.startsWith(''- '') || line.startsWith(''* '')) {\n                // Bullet point\n                const text = line.substring(2).trim();\n                const bulletX = marginLeft + 5;\n                doc.text(''•'', marginLeft, yPos);\n                const splitText = doc.splitTextToSize(text, maxLineWidth - 5);\n                doc.text(splitText, bulletX, yPos);\n                yPos += lineHeight * splitText.length;\n              } else if (line.startsWith(''**'') && line.endsWith(''**'')) {\n                // Bold text\n                doc.setFont(undefined, ''bold'');\n                const text = line.substring(2, line.length - 2).trim();\n                const splitText = doc.splitTextToSize(text, maxLineWidth);\n                doc.text(splitText, marginLeft, yPos);\n                yPos += lineHeight * splitText.length;\n                doc.setFont(undefined, ''normal'');\n              } else if (line.trim() === '''') {\n                // Empty line\n                yPos += lineHeight * 0.5;\n              } else {\n                // Regular text - also strip inline markdown formatting for now\n                // Remove bold markers and other inline formatting\n                let processedLine = line\n                  .replace(/\\*\\*(.*?)\\*\\*/g, ''$1'')  // Remove bold markers\n                  .replace(/\\*(.*?)\\*/g, ''$1'')      // Remove italic markers\n                  .replace(/`(.*?)`/g, ''$1'');       // Remove inline code markers\n                \n                const splitText = doc.splitTextToSize(processedLine, maxLineWidth);\n                doc.text(splitText, marginLeft, yPos);\n                yPos += lineHeight * splitText.length;\n              }\n            }\n          }\n        }\n        \n        // Optionally add data table below the image if both are provided\n        if (pdfOptions.includeDataTable && data && data.length > 0) {\n          console.log(''Adding data table to PDF on new page'');\n          doc.addPage();\n          \n          // Add table title\n          doc.setFontSize(14);\n          doc.text(''Data Table'', pdfOptions.margins.left, pdfOptions.margins.top);\n          \n          // Generate the data table on the new page\n          const { headers, rows } = prepareData();\n          let tableY = pdfOptions.margins.top + 10;\n          \n          // Add headers\n          doc.setFontSize(10);\n          doc.setFont(undefined, ''bold'');\n          \n          if (includeHeaders) {\n            const colWidth = (doc.internal.pageSize.getWidth() - (pdfOptions.margins.left + pdfOptions.margins.right)) / headers.length;\n            headers.forEach((header, i) => {\n              doc.text(\n                header, \n                pdfOptions.margins.left + (i * colWidth), \n                tableY,\n                { maxWidth: colWidth - 2 }\n              );\n            });\n            tableY += 7;\n            \n            // Add separator line\n            doc.line(\n              pdfOptions.margins.left,\n              tableY - 2,\n              doc.internal.pageSize.getWidth() - pdfOptions.margins.right,\n              tableY - 2\n            );\n          }\n          \n          // Add all data rows\n          doc.setFont(undefined, ''normal'');\n          rows.forEach((row) => {\n            // Check if we need a new page\n            if (tableY > doc.internal.pageSize.getHeight() - pdfOptions.margins.bottom - 10) {\n              doc.addPage();\n              tableY = pdfOptions.margins.top;\n              \n              // Re-add headers on new page\n              doc.setFont(undefined, ''bold'');\n              const headerColWidth = (doc.internal.pageSize.getWidth() - (pdfOptions.margins.left + pdfOptions.margins.right)) / headers.length;\n              headers.forEach((header, i) => {\n                doc.text(\n                  header,\n                  pdfOptions.margins.left + (i * headerColWidth),\n                  tableY,\n                  { maxWidth: headerColWidth - 2 }\n                );\n              });\n              tableY += 10;\n              doc.setFont(undefined, ''normal'');\n            }\n            \n            const colWidth = (doc.internal.pageSize.getWidth() - (pdfOptions.margins.left + pdfOptions.margins.right)) / row.length;\n            row.forEach((cell, i) => {\n              doc.text(\n                String(cell),\n                pdfOptions.margins.left + (i * colWidth),\n                tableY,\n                { maxWidth: colWidth - 2 }\n              );\n            });\n            tableY += 6;\n          });\n        }\n        \n        setExportProgress(90);\n        \n      } else {\n        console.log(''No HTML element provided - using data table only path'');\n        // Generate table from data\n        const { headers, rows } = prepareData();\n        setExportProgress(30);\n        \n        // Add title\n        doc.setFontSize(16);\n        doc.text(filename, pdfOptions.margins.left, pdfOptions.margins.top - 10);\n        \n        // Add date\n        doc.setFontSize(10);\n        doc.text(\n          `Generated: $' + '{dayjs().format(''YYYY-MM-DD HH:mm'')}`,\n          pdfOptions.margins.left,\n          pdfOptions.margins.top - 5\n        );\n        \n        setExportProgress(40);\n        \n        // Calculate column widths\n        const pageWidth = doc.internal.pageSize.getWidth() - (pdfOptions.margins.left + pdfOptions.margins.right);\n        const colWidth = pageWidth / headers.length;\n        \n        // Add headers\n        let y = pdfOptions.margins.top + 5;\n        doc.setFontSize(11);\n        doc.setFont(undefined, ''bold'');\n        \n        if (includeHeaders) {\n          headers.forEach((header, i) => {\n            doc.text(\n              header, \n              pdfOptions.margins.left + (i * colWidth), \n              y,\n              { maxWidth: colWidth - 2 }\n            );\n          });\n          y += 10;\n          \n          // Add separator line\n          doc.line(\n            pdfOptions.margins.left,\n            y - 3,\n            doc.internal.pageSize.getWidth() - pdfOptions.margins.right,\n            y - 3\n          );\n        }\n        \n        setExportProgress(60);\n        \n        // Add data rows\n        doc.setFont(undefined, ''normal'');\n        doc.setFontSize(10);\n        \n        const pageHeight = doc.internal.pageSize.getHeight();\n        const bottomMargin = pageHeight - pdfOptions.margins.bottom;\n        \n        for (let rowIdx = 0; rowIdx < rows.length; rowIdx++) {\n          const row = rows[rowIdx];\n          \n          // Check if we need a new page\n          if (y > bottomMargin) {\n            doc.addPage();\n            y = pdfOptions.margins.top;\n            \n            // Re-add headers on new page\n            if (includeHeaders) {\n              doc.setFont(undefined, ''bold'');\n              headers.forEach((header, i) => {\n                doc.text(\n                  header,\n                  pdfOptions.margins.left + (i * colWidth),\n                  y,\n                  { maxWidth: colWidth - 2 }\n                );\n              });\n              doc.setFont(undefined, ''normal'');\n              y += 10;\n              doc.line(\n                pdfOptions.margins.left,\n                y - 3,\n                doc.internal.pageSize.getWidth() - pdfOptions.margins.right,\n                y - 3\n              );\n            }\n          }\n          \n          row.forEach((cell, i) => {\n            doc.text(\n              String(cell),\n              pdfOptions.margins.left + (i * colWidth),\n              y,\n              { maxWidth: colWidth - 2 }\n            );\n          });\n          \n          y += 7;\n          setExportProgress(60 + (rowIdx / rows.length) * 30);\n        }\n        \n        setExportProgress(90);\n      }\n      \n      // Save the PDF\n      doc.save(`$' + '{filename}.pdf`);\n      \n      setExportProgress(100);\n      onExportComplete(''pdf'', `$' + '{filename}.pdf`);\n      \n      setTimeout(() => {\n        setIsExporting(false);\n        setExportProgress(0);\n      }, 500);\n      \n    } catch (error) {\n      console.error(''PDF export failed:'', error);\n      onExportError(error);\n      setIsExporting(false);\n      setExportProgress(0);\n    }\n  };\n  \n  // Export methods for headless mode\n  React.useImperativeHandle(exportRef, () => ({\n    exportToCSV,\n    exportToExcel,\n    exportToPDF,\n    setData: (newData) => { data = newData; },\n    setColumns: (newColumns) => { \n      columns = newColumns;\n      setSelectedColumns(newColumns.map(col => ({ ...col, selected: true })));\n    }\n  }));\n  \n  // Handle export based on format\n  const handleExport = (format) => {\n    console.log(''🎯 [DataExportPanel] handleExport called with format:'', format);\n    console.log(''  - data:'', data);\n    console.log(''  - data length:'', data?.length);\n    console.log(''  - columns:'', columns);\n    setIsDropdownOpen(false);\n    \n    if (showPreview) {\n      setPreviewFormat(format);\n      setShowPreviewDialog(true);\n    } else {\n      switch (format) {\n        case ''csv'':\n          exportToCSV();\n          break;\n        case ''excel'':\n          exportToExcel();\n          break;\n        case ''pdf'':\n          exportToPDF();\n          break;\n      }\n    }\n  };\n  \n  // Close dropdown when clicking outside\n  React.useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsDropdownOpen(false);\n      }\n    };\n    \n    document.addEventListener(''mousedown'', handleClickOutside);\n    return () => document.removeEventListener(''mousedown'', handleClickOutside);\n  }, []);\n  \n  // Column selector dialog\n  const renderColumnSelector = () => {\n    if (!showColumnSelector) return null;\n    \n    return (\n      <div style={{\n        position: ''fixed'',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: ''rgba(0, 0, 0, 0.5)'',\n        display: ''flex'',\n        alignItems: ''center'',\n        justifyContent: ''center'',\n        zIndex: 2000\n      }}>\n        <div style={{\n          backgroundColor: ''white'',\n          borderRadius: ''12px'',\n          padding: ''20px'',\n          maxWidth: ''400px'',\n          width: ''90%'',\n          maxHeight: ''70vh'',\n          overflow: ''auto''\n        }}>\n          <h3 style={{ marginTop: 0, marginBottom: ''16px'' }}>Select Columns to Export</h3>\n          \n          <div style={{ marginBottom: ''16px'' }}>\n            {selectedColumns.map((col, idx) => (\n              <label key={col.key} style={{\n                display: ''flex'',\n                alignItems: ''center'',\n                padding: ''8px'',\n                cursor: ''pointer'',\n                borderRadius: ''4px'',\n                transition: ''background-color 0.15s''\n              }}\n              onMouseEnter={(e) => e.currentTarget.style.backgroundColor = ''#F3F4F6''}\n              onMouseLeave={(e) => e.currentTarget.style.backgroundColor = ''transparent''}>\n                <input\n                  type=\"checkbox\"\n                  checked={col.selected}\n                  onChange={(e) => {\n                    const updated = [...selectedColumns];\n                    updated[idx].selected = e.target.checked;\n                    setSelectedColumns(updated);\n                  }}\n                  style={{ marginRight: ''10px'' }}\n                />\n                <span>{col.label || col.key}</span>\n              </label>\n            ))}\n          </div>\n          \n          <div style={{ display: ''flex'', gap: ''10px'', justifyContent: ''flex-end'' }}>\n            <button\n              onClick={() => setShowColumnSelector(false)}\n              style={{\n                padding: ''8px 16px'',\n                border: ''1px solid #D1D5DB'',\n                borderRadius: ''6px'',\n                backgroundColor: ''white'',\n                cursor: ''pointer''\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              onClick={() => setShowColumnSelector(false)}\n              style={{\n                padding: ''8px 16px'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                backgroundColor: styles?.colors?.primary || ''#3B82F6'',\n                color: ''white'',\n                cursor: ''pointer''\n              }}\n            >\n              Apply\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n  \n  // Preview dialog\n  const renderPreviewDialog = () => {\n    if (!showPreviewDialog) return null;\n    \n    const { headers, rows } = prepareData();\n    const previewRows = rows.slice(0, 10);\n    \n    return (\n      <div style={{\n        position: ''fixed'',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: ''rgba(0, 0, 0, 0.5)'',\n        display: ''flex'',\n        alignItems: ''center'',\n        justifyContent: ''center'',\n        zIndex: 2000\n      }}>\n        <div style={{\n          backgroundColor: ''white'',\n          borderRadius: ''12px'',\n          padding: ''20px'',\n          maxWidth: ''90%'',\n          width: ''800px'',\n          maxHeight: ''80vh'',\n          display: ''flex'',\n          flexDirection: ''column''\n        }}>\n          <h3 style={{ marginTop: 0, marginBottom: ''16px'' }}>\n            Preview Export - {previewFormat?.toUpperCase()} Format\n          </h3>\n          \n          <div style={{\n            flex: 1,\n            overflow: ''auto'',\n            border: ''1px solid #E5E7EB'',\n            borderRadius: ''6px'',\n            padding: ''10px'',\n            marginBottom: ''16px''\n          }}>\n            <table style={{ width: ''100%'', borderCollapse: ''collapse'' }}>\n              {includeHeaders && (\n                <thead>\n                  <tr>\n                    {headers.map((header, idx) => (\n                      <th key={idx} style={{\n                        padding: ''8px'',\n                        borderBottom: ''2px solid #E5E7EB'',\n                        textAlign: ''left'',\n                        fontWeight: ''600''\n                      }}>\n                        {header}\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n              )}\n              <tbody>\n                {previewRows.map((row, rowIdx) => (\n                  <tr key={rowIdx}>\n                    {row.map((cell, cellIdx) => (\n                      <td key={cellIdx} style={{\n                        padding: ''8px'',\n                        borderBottom: ''1px solid #F3F4F6''\n                      }}>\n                        {cell}\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n            {rows.length > 10 && (\n              <p style={{ textAlign: ''center'', color: ''#6B7280'', marginTop: ''10px'' }}>\n                ... and {rows.length - 10} more rows\n              </p>\n            )}\n          </div>\n          \n          <div style={{ display: ''flex'', gap: ''10px'', justifyContent: ''flex-end'' }}>\n            <button\n              onClick={() => {\n                setShowPreviewDialog(false);\n                setPreviewFormat(null);\n              }}\n              style={{\n                padding: ''8px 16px'',\n                border: ''1px solid #D1D5DB'',\n                borderRadius: ''6px'',\n                backgroundColor: ''white'',\n                cursor: ''pointer''\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              onClick={() => {\n                setShowPreviewDialog(false);\n                handleExport(previewFormat);\n                setPreviewFormat(null);\n              }}\n              style={{\n                padding: ''8px 16px'',\n                border: ''none'',\n                borderRadius: ''6px'',\n                backgroundColor: styles?.colors?.primary || ''#3B82F6'',\n                color: ''white'',\n                cursor: ''pointer''\n              }}\n            >\n              Export\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n  \n  // Render UI based on button style\n  const renderButton = () => {\n    if (buttonStyle === ''icon'') {\n      return (\n        <button\n          onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n          style={{\n            ...panelStyles.button,\n            padding: ''8px'',\n            borderRadius: ''50%'',\n            width: ''36px'',\n            height: ''36px'',\n            display: ''flex'',\n            alignItems: ''center'',\n            justifyContent: ''center''\n          }}\n          disabled={isExporting}\n        >\n          <i className={`fa-solid $' + '{icon}`}></i>\n        </button>\n      );\n    }\n    \n    if (buttonStyle === ''menu'') {\n      return (\n        <div style={{ display: ''flex'', gap: ''4px'' }}>\n          {formats.includes(''csv'') && (\n            <button\n              onClick={() => handleExport(''csv'')}\n              style={{ ...panelStyles.button, fontSize: ''12px'', padding: ''6px 12px'' }}\n              disabled={isExporting}\n            >\n              CSV\n            </button>\n          )}\n          {formats.includes(''excel'') && (\n            <button\n              onClick={() => handleExport(''excel'')}\n              style={{ ...panelStyles.button, fontSize: ''12px'', padding: ''6px 12px'' }}\n              disabled={isExporting}\n            >\n              Excel\n            </button>\n          )}\n          {formats.includes(''pdf'') && (\n            <button\n              onClick={() => handleExport(''pdf'')}\n              style={{ ...panelStyles.button, fontSize: ''12px'', padding: ''6px 12px'' }}\n              disabled={isExporting}\n            >\n              PDF\n            </button>\n          )}\n        </div>\n      );\n    }\n    \n    // Default dropdown or button style\n    return (\n      <button\n        onClick={() => {\n          console.log(''🖱️ [DataExportPanel] Button clicked!'');\n          console.log(''  - buttonStyle:'', buttonStyle);\n          console.log(''  - formats:'', formats);\n          console.log(''  - isDropdownOpen:'', isDropdownOpen);\n          console.log(''  - data at click:'', data);\n          console.log(''  - data length at click:'', data?.length);\n          \n          if (buttonStyle === ''dropdown'') {\n            setIsDropdownOpen(!isDropdownOpen);\n          } else if (formats.length === 1) {\n            handleExport(formats[0]);\n          } else {\n            setIsDropdownOpen(!isDropdownOpen);\n          }\n        }}\n        style={panelStyles.button}\n        disabled={isExporting}\n      >\n        <i className={`fa-solid $' + '{icon}`}></i>\n        <span>{buttonText}</span>\n        {buttonStyle === ''dropdown'' && formats.length > 1 && (\n          <i className=\"fa-solid fa-chevron-down\" style={{ fontSize: ''10px'' }}></i>\n        )}\n      </button>\n    );\n  };\n  \n  // Headless mode - no UI\n  if (mode === ''headless'') {\n    return <div ref={exportRef} style={{ display: ''none'' }} />;\n  }\n  \n  // UI mode\n  if (!visible) {\n    return null;\n  }\n  \n  return (\n    <div ref={dropdownRef} style={panelStyles.container}>\n      {renderButton()}\n      \n      {isExporting && (\n        <div style={panelStyles.progressBar}>\n          <div style={{\n            ...panelStyles.progressFill,\n            width: `$' + '{exportProgress}%`\n          }} />\n        </div>\n      )}\n      \n      {isDropdownOpen && buttonStyle === ''dropdown'' && (\n        <div style={panelStyles.dropdown}>\n          {allowColumnSelection && (\n            <div\n              style={{\n                ...panelStyles.dropdownItem,\n                backgroundColor: ''#F9FAFB''\n              }}\n              onClick={() => {\n                setShowColumnSelector(true);\n                setIsDropdownOpen(false);\n              }}\n            >\n              <i className=\"fa-solid fa-columns\" style={{ width: ''16px'' }}></i>\n              <span>Select Columns...</span>\n            </div>\n          )}\n          \n          {formats.includes(''csv'') && (\n            <div\n              style={panelStyles.dropdownItem}\n              onClick={() => handleExport(''csv'')}\n              onMouseEnter={(e) => e.currentTarget.style.backgroundColor = ''#F3F4F6''}\n              onMouseLeave={(e) => e.currentTarget.style.backgroundColor = ''transparent''}\n            >\n              <i className=\"fa-solid fa-file-csv\" style={{ width: ''16px'', color: ''#10B981'' }}></i>\n              <span>Export as CSV</span>\n            </div>\n          )}\n          \n          {formats.includes(''excel'') && (\n            <div\n              style={panelStyles.dropdownItem}\n              onClick={() => handleExport(''excel'')}\n              onMouseEnter={(e) => e.currentTarget.style.backgroundColor = ''#F3F4F6''}\n              onMouseLeave={(e) => e.currentTarget.style.backgroundColor = ''transparent''}\n            >\n              <i className=\"fa-solid fa-file-excel\" style={{ width: ''16px'', color: ''#059669'' }}></i>\n              <span>Export as Excel</span>\n            </div>\n          )}\n          \n          {formats.includes(''pdf'') && (\n            <div\n              style={{\n                ...panelStyles.dropdownItem,\n                borderBottom: ''none''\n              }}\n              onClick={() => handleExport(''pdf'')}\n              onMouseEnter={(e) => e.currentTarget.style.backgroundColor = ''#F3F4F6''}\n              onMouseLeave={(e) => e.currentTarget.style.backgroundColor = ''transparent''}\n            >\n              <i className=\"fa-solid fa-file-pdf\" style={{ width: ''16px'', color: ''#DC2626'' }}></i>\n              <span>Export as PDF</span>\n            </div>\n          )}\n        </div>\n      )}\n      \n      {renderColumnSelector()}\n      {renderPreviewDialog()}\n    </div>\n  );\n}","description":"Multi-format export component supporting CSV, Excel (XLSX), and PDF with two modes: UI (dropdown button with format selection) or headless (programmatic export). Exports tabular data (array of objects + column definitions) OR HTML elements (charts, dashboards) to PDF via html2canvas. Column selection, preview, custom formatting (dates, numbers, currency). PDF features: orientation (portrait/landscape), page size (A4/letter), margins, multi-page support, data table inclusion, AI insights markdown rendering. Excel: auto-width columns, filters, custom sheet names. CSV: proper escaping, chunked processing for large datasets. Progress tracking and error callbacks.\n\n#### DataExportPanel - ONLY use when:\n✅ Need to export tabular data (array of records) to CSV/Excel/PDF\n✅ Want to export visualizations (charts, dashboards) as PDF snapshots\n✅ Need user-facing export UI with dropdown button\n✅ Need programmatic export (headless mode for background jobs)\n✅ Exporting AI insights as markdown text in PDF\n✅ Need column selection, preview, or custom formatting\n\n❌ DO NOT USE DataExportPanel when:\n- Exporting a single value or simple text → Use clipboard API or browser download API directly\n- Need formats other than CSV/Excel/PDF → Use specialized export libraries\n- Exporting from external APIs → Fetch data first, then pass to DataExportPanel\n- Need real-time streaming export → DataExportPanel loads all data into memory\n- Complex multi-sheet Excel workbooks → Use XLSX library directly\n\n**Use Cases**: Dashboard export buttons, report download functionality, ''Export to Excel'' from data grids, saving AI-generated insights as PDF with visualizations, bulk data extraction for users.\n","category":"Utility","type":"panel","properties":[{"name":"mode","type":"string","description":"Display mode: ''ui'' for visible interface, ''headless'' for programmatic-only usage","default":"ui"},{"name":"data","type":"array","description":"Array of objects to export (for table data)"},{"name":"columns","type":"array","description":"Column configuration: [{key: ''field'', label: ''Display Name'', width: 100}]"},{"name":"filename","type":"string","description":"Base filename for exports (without extension)","default":"export"},{"name":"formats","type":"array","description":"Available export formats: [''csv'', ''excel'', ''pdf'']","default":["csv","excel","pdf"]},{"name":"position","type":"string","description":"UI position: ''top'', ''bottom'', ''inline'', ''floating''","default":"inline"},{"name":"buttonStyle","type":"string","description":"Button style: ''button'', ''icon'', ''dropdown'', ''menu''","default":"dropdown"},{"name":"buttonText","type":"string","description":"Custom button text","default":"Export"},{"name":"icon","type":"string","description":"Font Awesome icon class for the export button","default":"fa-download"},{"name":"showPreview","type":"boolean","description":"Show preview before export (UI mode only)","default":false},{"name":"allowColumnSelection","type":"boolean","description":"Allow users to select which columns to export","default":true},{"name":"includeHeaders","type":"boolean","description":"Include column headers in export","default":true},{"name":"dateFormat","type":"string","description":"Date format for date values","default":"YYYY-MM-DD"},{"name":"numberFormat","type":"object","description":"Number formatting options: {decimals: 2, thousandsSeparator: '','', decimalSeparator: ''.''}"},{"name":"pdfOptions","type":"object","description":"PDF-specific options: {orientation: ''portrait''|''landscape'', pageSize: ''a4''|''letter'', margins: {top: 40, bottom: 40, left: 40, right: 40}, title: ''Custom Title'', includeDataTable: boolean, multiPage: boolean, includeAIInsights: boolean}"},{"name":"excelOptions","type":"object","description":"Excel-specific options: {sheetName: ''Data'', includeFilters: true, autoWidth: true}"},{"name":"getHtmlElement","type":"function","description":"Function that returns the HTML element to capture for PDF export (alternative to data array)"},{"name":"getAiInsightsElement","type":"function","description":"Function that returns the AI insights element to include in PDF export (optional)"},{"name":"aiInsightsText","type":"string","description":"Raw markdown text of AI insights to render as text in PDF (preferred over element capture)"},{"name":"onExportStart","type":"function","description":"Callback fired when export begins"},{"name":"onExportComplete","type":"function","description":"Callback fired when export completes successfully"},{"name":"onExportError","type":"function","description":"Callback fired if export fails"},{"name":"customStyles","type":"object","description":"Custom styles for the export panel UI"},{"name":"visible","type":"boolean","description":"Control visibility of the UI (for UI mode)","default":true}],"events":[{"name":"exportStarted","description":"Fired when export process begins","parameters":[{"name":"format","type":"string","description":"Export format being used"}]},{"name":"exportCompleted","description":"Fired when export completes successfully","parameters":[{"name":"format","type":"string","description":"Export format used"},{"name":"filename","type":"string","description":"Filename of exported file"}]},{"name":"exportFailed","description":"Fired if export fails","parameters":[{"name":"error","type":"object","description":"Error details"}]}],"libraries":[{"name":"xlsx","version":"0.18.5","globalVariable":"XLSX"},{"name":"jspdf","version":"2.5.1","globalVariable":"jspdf"},{"name":"html2canvas","version":"1.4.1","globalVariable":"html2canvas"},{"name":"dayjs","version":"1.11.10","globalVariable":"dayjs"}],"usageExample":"// UI Mode with dropdown\n<DataExportPanel\n  data={tableData}\n  columns={columns}\n  getHtmlElement={() => dashboardRef.current}\n  getAiInsightsElement={() => aiInsightsRef.current}\n  filename=\"sales-report\"\n  formats={[''csv'', ''excel'', ''pdf'']}\n  buttonStyle=\"dropdown\"\n/>\n\n// Headless mode for programmatic export\nconst exportPanel = <DataExportPanel\n  mode=\"headless\"\n  data={data}\n  columns={columns}\n/>;\n// Then call: exportPanel.exportToCSV() or exportPanel.exportToPDF()","functionalRequirements":"## Purpose\nMulti-format export component supporting CSV, Excel (XLSX), and PDF exports with both UI and headless (programmatic) modes.\n\n## Operating Modes\n\n### UI Mode (`mode=''ui''`, default)\n- Dropdown button with format selection\n- User-facing export interface\n- Configurable button style: button, icon, dropdown (default), menu\n- Position options: top, bottom, inline, floating\n- Optional preview before export\n- Optional column selection UI\n\n### Headless Mode (`mode=''headless''`)\n- No UI rendered\n- Programmatic export via ref-based API\n- For background jobs, scheduled exports, automation\n- Example: `exportPanelRef.current.exportToCSV()`\n\n## Data Input Methods\n\n### Tabular Data (Array + Columns)\n- `data` prop: Array of objects\n- `columns` prop: Column definitions `[{key: ''field'', label: ''Display Name'', width: 100}]`\n- Use for: Data grids, report tables, entity records\n\n### HTML Element Capture (PDF only)\n- `getHtmlElement()` function: Returns DOM element to capture\n- Uses html2canvas to convert element to image\n- Use for: Charts, dashboards, complex visualizations\n- Multi-page support for tall elements\n\n## Export Formats\n\n### CSV Export\n- Proper escaping of quotes, commas, newlines\n- Configurable date/number formatting\n- Optional headers (includeHeaders prop)\n- Chunked processing for large datasets (prevents browser freezing)\n- UTF-8 BOM for Excel compatibility\n- Downloads as `.csv` file\n\n### Excel (XLSX) Export\n- Uses SheetJS (XLSX) library 0.18.5\n- Features:\n  - Auto-width columns (autoWidth option)\n  - Filter dropdowns (includeFilters option)\n  - Custom sheet name (sheetName option, default ''Data'')\n  - Number/date formatting\n  - Style support (bold headers, borders)\n- Single worksheet (use XLSX library directly for multi-sheet)\n- Downloads as `.xlsx` file\n\n### PDF Export\n- Uses jsPDF 2.5.1 + html2canvas 1.4.1\n- Two sub-modes:\n  1. **Data table**: Renders tabular data as formatted table\n  2. **HTML capture**: Captures HTML element as image\n\n**PDF Options**:\n- Orientation: `''portrait''` (default) | `''landscape''`\n- Page size: `''a4''` (default) | `''letter''`\n- Margins: `{top: 40, bottom: 40, left: 40, right: 40}` (in points)\n- Title: Custom PDF title (rendered at top)\n- `includeDataTable`: Boolean - include data table below captured HTML\n- `multiPage`: Boolean - split tall content across multiple pages\n- `includeAIInsights`: Boolean - include AI insights section\n\n**AI Insights in PDF**:\n- `aiInsightsText` prop: Raw markdown text\n- Renders markdown as formatted text (not as rendered HTML)\n- Preserves: headings, lists, bold/italic, code blocks\n- Better than element capture (smaller file size, selectable text)\n\n## Features\n\n### Column Selection\n- `allowColumnSelection={true}` (default)\n- User can check/uncheck columns before export\n- Applies to CSV and Excel exports\n- PDF captures full element (no column selection)\n\n### Preview\n- `showPreview={true}` enables preview modal\n- Shows first 50 rows before exporting\n- User can confirm or cancel\n- Useful for large exports\n\n### Progress Indication\n- Progress bar for large dataset exports (>1000 rows)\n- Shows percentage complete\n- Chunked processing prevents UI freeze\n- Fires `onExportStart` and `onExportComplete` events\n\n### Formatting Options\n- **Date format**: Configurable via `dateFormat` prop (default ''YYYY-MM-DD'')\n- **Number format**: `{decimals: 2, thousandsSeparator: '','', decimalSeparator: ''.''}`\n- Applied consistently across all formats\n\n### Custom Styling\n- `customStyles` prop: CSS overrides for UI elements\n- `buttonText`: Custom button label (default \"Export\")\n- `icon`: Font Awesome icon class (default \"fa-download\")\n\n## Events\n\n1. **onExportStart**: `(format: string) => void`\n   - Fired when export begins\n   - Use for: Show loading indicator, track analytics\n\n2. **onExportComplete**: `({format: string, filename: string}) => void`\n   - Fired on successful export\n   - Use for: Success message, download tracking\n\n3. **onExportError**: `({error: Error, format: string}) => void`\n   - Fired if export fails\n   - Use for: Error handling, user notification\n\n## File Naming\n- `filename` prop: Base name without extension (default ''export'')\n- Component adds format extension automatically\n- Example: `filename=''sales-report-2024''` → `sales-report-2024.csv`\n\n## Error Handling\n- Column validation: Warns if columns not found in data\n- Empty data: Shows \"No data to export\" message\n- Library loading: Graceful fallback if XLSX/jsPDF not available\n- Large file warning: Alerts if export exceeds recommended size\n\n## Performance Considerations\n- Chunked processing for CSV (1000 rows at a time)\n- HTML capture optimization (scale factor, quality settings)\n- Memory management for large PDFs (multi-page splitting)\n- Progress updates via requestAnimationFrame\n\n## Dependencies\n- **xlsx** (0.18.5): Excel/CSV generation\n- **jspdf** (2.5.1): PDF creation\n- **html2canvas** (1.4.1): HTML to image conversion\n- **dayjs** (1.11.10): Date formatting\n","technicalDesign":"## Architecture\nReact functional component with dual-mode operation (UI vs headless) supporting CSV, Excel (XLSX), and PDF exports.\n\n## Dependencies & Libraries\n- **xlsx** (0.18.5): Excel/CSV generation (global: XLSX)\n- **jspdf** (2.5.1): PDF creation (global: jspdf)\n- **html2canvas** (1.4.1): HTML element capture (global: html2canvas)\n- **dayjs** (1.11.10): Date formatting (global: dayjs)\n\n## State Management (React Hooks)\n- **exporting** (boolean): Export operation in progress\n- **progress** (number): Export progress percentage (0-100)\n- **selectedFormat** (string): Currently selected format (''csv'' | ''excel'' | ''pdf'')\n- **selectedColumns** (Array): User-selected columns for export\n- **showPreviewModal** (boolean): Preview modal visibility\n- **previewData** (Array): Data preview (first 50 rows)\n- **error** (string | null): Export error message\n\n## Modes of Operation\n\n### UI Mode (mode=''ui'', default)\nRenders visible interface with button:\n- **Button styles**: button, icon, dropdown (default), menu\n- **Positions**: top, bottom, inline, floating\n- User selects format from dropdown\n- Optional preview before export\n- Optional column selection UI\n\n### Headless Mode (mode=''headless'')\nNo UI rendered, exposes ref-based API:\n```javascript\nconst exportPanelRef = useRef();\n// Later:\nexportPanelRef.current.exportToCSV();\nexportPanelRef.current.exportToExcel();\nexportPanelRef.current.exportToPDF();\n```\n\n## Export Implementation\n\n### CSV Export\n**Process**:\n1. **Column validation**: Check columns exist in data, warn if missing\n2. **Header row**: Build from column labels\n3. **Data rows**: Iterate records, format values\n4. **Value formatting**:\n   - Dates: dayjs format (configurable via dateFormat prop)\n   - Numbers: Apply numberFormat config (decimals, separators)\n   - Strings: Escape quotes (replace \" with \"\"), wrap in quotes if contains comma/newline\n   - Null/undefined: Empty string\n5. **Chunked processing**: For large datasets (>1000 rows), process 1000 rows at a time\n   - Uses requestAnimationFrame for progress updates\n   - Prevents UI freeze\n6. **UTF-8 BOM**: Prepend `\\uFEFF` for Excel compatibility\n7. **Download**: Create Blob with `type: ''text/csv;charset=utf-8;''`, trigger download\n\n**Performance**:\n- Chunk size: 1000 rows\n- Progress callback every chunk\n- Memory-efficient string concatenation\n\n### Excel Export\n**Process**:\n1. **Create workbook**: `XLSX.utils.book_new()`\n2. **Build worksheet data**:\n   - Header row from column labels\n   - Data rows with formatted values (dates, numbers, currency)\n3. **Apply formatting**:\n   - Header row: Bold, background color\n   - Column widths: Auto-calculate from content (if autoWidth=true)\n   - Number formats: Apply to numeric columns\n4. **Add filters** (if includeFilters=true):\n   - Uses XLSX autofilter on header row\n5. **Create worksheet**: `XLSX.utils.aoa_to_sheet(data)`\n6. **Add to workbook**: `XLSX.utils.book_append_sheet(workbook, worksheet, sheetName)`\n7. **Generate binary**: `XLSX.write(workbook, {bookType: ''xlsx'', type: ''binary''})`\n8. **Download**: Convert to Blob, trigger download\n\n**Options**:\n- `sheetName`: Worksheet name (default ''Data'')\n- `includeFilters`: Add filter dropdowns\n- `autoWidth`: Auto-size columns\n\n### PDF Export\n**Two sub-modes**:\n\n#### 1. Data Table Export\nWhen `data` + `columns` provided (no getHtmlElement):\n1. **Create jsPDF instance**: `new jsPDF(orientation, ''pt'', pageSize)`\n2. **Set margins**: From pdfOptions.margins (default: 40pt all sides)\n3. **Add title** (if provided): fontSize 18, bold, centered at top\n4. **Build table data**:\n   - Header row from column labels\n   - Data rows with formatted values\n5. **Calculate layout**:\n   - Page width = pageSize - leftMargin - rightMargin\n   - Column widths: Proportional to content or specified widths\n6. **Render table**:\n   - Use jsPDF autoTable plugin for advanced table rendering\n   - OR manual rendering: Draw borders, cells, text\n   - Headers with background color\n   - Alternating row colors for readability\n7. **Multi-page support** (if includeDataTable + multiPage):\n   - Calculate rows per page\n   - Add page breaks as needed\n   - Repeat headers on each page\n8. **Save**: `pdf.save(filename + ''.pdf'')`\n\n#### 2. HTML Element Capture\nWhen `getHtmlElement()` provided:\n1. **Get element**: Call `getHtmlElement()` to get DOM element\n2. **Capture with html2canvas**:\n   ```javascript\n   html2canvas(element, {\n     scale: 2, // High quality\n     useCORS: true,\n     logging: false,\n     backgroundColor: ''#ffffff''\n   })\n   ```\n3. **Convert to image**: Canvas → base64 PNG data URL\n4. **Create jsPDF instance**: Orientation/pageSize from options\n5. **Calculate dimensions**:\n   - PDF page dimensions in points\n   - Image dimensions from canvas\n   - Scale factor to fit image on page\n6. **Add image to PDF**: `pdf.addImage(imgData, ''PNG'', x, y, width, height)`\n7. **Multi-page support** (if multiPage=true):\n   - Calculate if image exceeds page height\n   - Split image into multiple page-height segments\n   - Add each segment to separate page\n   - Repeat for tall dashboards/charts\n8. **Add data table** (if includeDataTable=true):\n   - Add new page\n   - Render data table as in mode #1\n9. **Add AI insights** (if includeAIInsights + aiInsightsText):\n   - Add new page\n   - Title: \"AI Insights\"\n   - Render markdown as formatted text:\n     - Parse headings: Bold, larger font\n     - Parse lists: Indent, bullet points\n     - Parse bold/italic: Font style changes\n     - Parse code blocks: Monospace font, gray background\n     - Word-wrap long lines\n10. **Save PDF**\n\n**AI Insights Rendering**:\n- Parses markdown using simple regex patterns\n- No full markdown library (keeps PDF small)\n- Handles: `#` headings, `**bold**`, `*italic*`, `` `code` ``, lists, blockquotes\n- Preserves line breaks and spacing\n- Selectable text in PDF (not rasterized)\n\n## Column Validation (useEffect)\nOn mount and when data/columns change:\n1. Get all available field names from first data record\n2. Compare with columns configuration\n3. Warn in console if column.key not found in data\n4. Filter out invalid columns from selectedColumns\n\n## Progress Tracking\nFor large exports (>1000 rows):\n1. Calculate total chunks: `Math.ceil(rowCount / chunkSize)`\n2. Process each chunk with progress update:\n   ```javascript\n   for (let i = 0; i < totalChunks; i++) {\n     processChunk(i);\n     setProgress((i + 1) / totalChunks * 100);\n     await new Promise(resolve => requestAnimationFrame(resolve));\n   }\n   ```\n3. Fire onExportStart at 0%\n4. Fire onExportComplete at 100%\n5. Fire onExportError if exception\n\n## Event Flow\n1. User clicks format button OR parent calls ref method\n2. Fire `onExportStart(format)`\n3. Validate data and columns\n4. If showPreview=true: Show preview modal, await user confirmation\n5. Set exporting=true\n6. Execute format-specific export function\n7. Handle progress updates\n8. On success: Fire `onExportComplete({format, filename})`\n9. On error: Fire `onExportError({error, format})`\n10. Set exporting=false\n\n## UI Rendering (mode=''ui'')\n\n### Dropdown Button (buttonStyle=''dropdown'', default)\n- Uses Ant Design Dropdown component\n- Menu items for each format in `formats` array\n- Icon for each format (csv, excel, pdf)\n- Click triggers handleExport(format)\n\n### Button Style (buttonStyle=''button'')\n- Single button per format\n- Horizontal button group\n- Each button triggers that format directly\n\n### Icon Style (buttonStyle=''icon'')\n- Icon-only buttons (no text)\n- Tooltips show format names\n- Compact layout\n\n### Positioning\n- **top**: marginBottom spacing\n- **bottom**: marginTop spacing\n- **inline**: Display inline-block\n- **floating**: Absolute position (top-right default)\n\n### Custom Styling\n`customStyles` prop applies CSS overrides to button container.\n\n## Error Handling\n1. **Missing libraries**: Check if XLSX/jsPDF/html2canvas loaded, show error if not\n2. **Empty data**: Alert \"No data to export\"\n3. **Invalid columns**: Warn and filter out\n4. **File size warnings**: Alert if export exceeds 50MB (approximate)\n5. **Browser compatibility**: Check Blob/download support, fallback message\n6. **Try/catch**: All export functions wrapped with error boundaries\n\n## Memory Management\n- Clear large variables after use (imgData, workbook)\n- Revoke object URLs: `URL.revokeObjectURL(url)` after download\n- Cancel in-progress exports on unmount (AbortController)\n\n## File Download Mechanism\n```javascript\nfunction downloadFile(blob, filename) {\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement(''a'');\n  a.href = url;\n  a.download = filename;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n}\n```\n\n## Ref API Exposure (Headless Mode)\n```javascript\nuseImperativeHandle(ref, () => ({\n  exportToCSV: () => handleExport(''csv''),\n  exportToExcel: () => handleExport(''excel''),\n  exportToPDF: () => handleExport(''pdf'')\n}), [data, columns, /* other deps */]);\n```\n\n## Performance Optimizations\n- Chunked processing for large CSVs (prevents UI freeze)\n- html2canvas scale factor: 2 (balance quality vs size)\n- PDF compression options\n- Worker threads for export (future enhancement)\n- Memoize column calculations\n- Debounce preview data slicing\n"}'
SET
  @FunctionalRequirements_e7dc1d50 = N'## Purpose
Multi-format export component supporting CSV, Excel (XLSX), and PDF exports with both UI and headless (programmatic) modes.

## Operating Modes

### UI Mode (`mode=''ui''`, default)
- Dropdown button with format selection
- User-facing export interface
- Configurable button style: button, icon, dropdown (default), menu
- Position options: top, bottom, inline, floating
- Optional preview before export
- Optional column selection UI

### Headless Mode (`mode=''headless''`)
- No UI rendered
- Programmatic export via ref-based API
- For background jobs, scheduled exports, automation
- Example: `exportPanelRef.current.exportToCSV()`

## Data Input Methods

### Tabular Data (Array + Columns)
- `data` prop: Array of objects
- `columns` prop: Column definitions `[{key: ''field'', label: ''Display Name'', width: 100}]`
- Use for: Data grids, report tables, entity records

### HTML Element Capture (PDF only)
- `getHtmlElement()` function: Returns DOM element to capture
- Uses html2canvas to convert element to image
- Use for: Charts, dashboards, complex visualizations
- Multi-page support for tall elements

## Export Formats

### CSV Export
- Proper escaping of quotes, commas, newlines
- Configurable date/number formatting
- Optional headers (includeHeaders prop)
- Chunked processing for large datasets (prevents browser freezing)
- UTF-8 BOM for Excel compatibility
- Downloads as `.csv` file

### Excel (XLSX) Export
- Uses SheetJS (XLSX) library 0.18.5
- Features:
  - Auto-width columns (autoWidth option)
  - Filter dropdowns (includeFilters option)
  - Custom sheet name (sheetName option, default ''Data'')
  - Number/date formatting
  - Style support (bold headers, borders)
- Single worksheet (use XLSX library directly for multi-sheet)
- Downloads as `.xlsx` file

### PDF Export
- Uses jsPDF 2.5.1 + html2canvas 1.4.1
- Two sub-modes:
  1. **Data table**: Renders tabular data as formatted table
  2. **HTML capture**: Captures HTML element as image

**PDF Options**:
- Orientation: `''portrait''` (default) | `''landscape''`
- Page size: `''a4''` (default) | `''letter''`
- Margins: `{top: 40, bottom: 40, left: 40, right: 40}` (in points)
- Title: Custom PDF title (rendered at top)
- `includeDataTable`: Boolean - include data table below captured HTML
- `multiPage`: Boolean - split tall content across multiple pages
- `includeAIInsights`: Boolean - include AI insights section

**AI Insights in PDF**:
- `aiInsightsText` prop: Raw markdown text
- Renders markdown as formatted text (not as rendered HTML)
- Preserves: headings, lists, bold/italic, code blocks
- Better than element capture (smaller file size, selectable text)

## Features

### Column Selection
- `allowColumnSelection={true}` (default)
- User can check/uncheck columns before export
- Applies to CSV and Excel exports
- PDF captures full element (no column selection)

### Preview
- `showPreview={true}` enables preview modal
- Shows first 50 rows before exporting
- User can confirm or cancel
- Useful for large exports

### Progress Indication
- Progress bar for large dataset exports (>1000 rows)
- Shows percentage complete
- Chunked processing prevents UI freeze
- Fires `onExportStart` and `onExportComplete` events

### Formatting Options
- **Date format**: Configurable via `dateFormat` prop (default ''YYYY-MM-DD'')
- **Number format**: `{decimals: 2, thousandsSeparator: '','', decimalSeparator: ''.''}`
- Applied consistently across all formats

### Custom Styling
- `customStyles` prop: CSS overrides for UI elements
- `buttonText`: Custom button label (default "Export")
- `icon`: Font Awesome icon class (default "fa-download")

## Events

1. **onExportStart**: `(format: string) => void`
   - Fired when export begins
   - Use for: Show loading indicator, track analytics

2. **onExportComplete**: `({format: string, filename: string}) => void`
   - Fired on successful export
   - Use for: Success message, download tracking

3. **onExportError**: `({error: Error, format: string}) => void`
   - Fired if export fails
   - Use for: Error handling, user notification

## File Naming
- `filename` prop: Base name without extension (default ''export'')
- Component adds format extension automatically
- Example: `filename=''sales-report-2024''` → `sales-report-2024.csv`

## Error Handling
- Column validation: Warns if columns not found in data
- Empty data: Shows "No data to export" message
- Library loading: Graceful fallback if XLSX/jsPDF not available
- Large file warning: Alerts if export exceeds recommended size

## Performance Considerations
- Chunked processing for CSV (1000 rows at a time)
- HTML capture optimization (scale factor, quality settings)
- Memory management for large PDFs (multi-page splitting)
- Progress updates via requestAnimationFrame

## Dependencies
- **xlsx** (0.18.5): Excel/CSV generation
- **jspdf** (2.5.1): PDF creation
- **html2canvas** (1.4.1): HTML to image conversion
- **dayjs** (1.11.10): Date formatting
'
SET
  @TechnicalDesign_e7dc1d50 = N'## Architecture
React functional component with dual-mode operation (UI vs headless) supporting CSV, Excel (XLSX), and PDF exports.

## Dependencies & Libraries
- **xlsx** (0.18.5): Excel/CSV generation (global: XLSX)
- **jspdf** (2.5.1): PDF creation (global: jspdf)
- **html2canvas** (1.4.1): HTML element capture (global: html2canvas)
- **dayjs** (1.11.10): Date formatting (global: dayjs)

## State Management (React Hooks)
- **exporting** (boolean): Export operation in progress
- **progress** (number): Export progress percentage (0-100)
- **selectedFormat** (string): Currently selected format (''csv'' | ''excel'' | ''pdf'')
- **selectedColumns** (Array): User-selected columns for export
- **showPreviewModal** (boolean): Preview modal visibility
- **previewData** (Array): Data preview (first 50 rows)
- **error** (string | null): Export error message

## Modes of Operation

### UI Mode (mode=''ui'', default)
Renders visible interface with button:
- **Button styles**: button, icon, dropdown (default), menu
- **Positions**: top, bottom, inline, floating
- User selects format from dropdown
- Optional preview before export
- Optional column selection UI

### Headless Mode (mode=''headless'')
No UI rendered, exposes ref-based API:
```javascript
const exportPanelRef = useRef();
// Later:
exportPanelRef.current.exportToCSV();
exportPanelRef.current.exportToExcel();
exportPanelRef.current.exportToPDF();
```

## Export Implementation

### CSV Export
**Process**:
1. **Column validation**: Check columns exist in data, warn if missing
2. **Header row**: Build from column labels
3. **Data rows**: Iterate records, format values
4. **Value formatting**:
   - Dates: dayjs format (configurable via dateFormat prop)
   - Numbers: Apply numberFormat config (decimals, separators)
   - Strings: Escape quotes (replace " with ""), wrap in quotes if contains comma/newline
   - Null/undefined: Empty string
5. **Chunked processing**: For large datasets (>1000 rows), process 1000 rows at a time
   - Uses requestAnimationFrame for progress updates
   - Prevents UI freeze
6. **UTF-8 BOM**: Prepend `\uFEFF` for Excel compatibility
7. **Download**: Create Blob with `type: ''text/csv;charset=utf-8;''`, trigger download

**Performance**:
- Chunk size: 1000 rows
- Progress callback every chunk
- Memory-efficient string concatenation

### Excel Export
**Process**:
1. **Create workbook**: `XLSX.utils.book_new()`
2. **Build worksheet data**:
   - Header row from column labels
   - Data rows with formatted values (dates, numbers, currency)
3. **Apply formatting**:
   - Header row: Bold, background color
   - Column widths: Auto-calculate from content (if autoWidth=true)
   - Number formats: Apply to numeric columns
4. **Add filters** (if includeFilters=true):
   - Uses XLSX autofilter on header row
5. **Create worksheet**: `XLSX.utils.aoa_to_sheet(data)`
6. **Add to workbook**: `XLSX.utils.book_append_sheet(workbook, worksheet, sheetName)`
7. **Generate binary**: `XLSX.write(workbook, {bookType: ''xlsx'', type: ''binary''})`
8. **Download**: Convert to Blob, trigger download

**Options**:
- `sheetName`: Worksheet name (default ''Data'')
- `includeFilters`: Add filter dropdowns
- `autoWidth`: Auto-size columns

### PDF Export
**Two sub-modes**:

#### 1. Data Table Export
When `data` + `columns` provided (no getHtmlElement):
1. **Create jsPDF instance**: `new jsPDF(orientation, ''pt'', pageSize)`
2. **Set margins**: From pdfOptions.margins (default: 40pt all sides)
3. **Add title** (if provided): fontSize 18, bold, centered at top
4. **Build table data**:
   - Header row from column labels
   - Data rows with formatted values
5. **Calculate layout**:
   - Page width = pageSize - leftMargin - rightMargin
   - Column widths: Proportional to content or specified widths
6. **Render table**:
   - Use jsPDF autoTable plugin for advanced table rendering
   - OR manual rendering: Draw borders, cells, text
   - Headers with background color
   - Alternating row colors for readability
7. **Multi-page support** (if includeDataTable + multiPage):
   - Calculate rows per page
   - Add page breaks as needed
   - Repeat headers on each page
8. **Save**: `pdf.save(filename + ''.pdf'')`

#### 2. HTML Element Capture
When `getHtmlElement()` provided:
1. **Get element**: Call `getHtmlElement()` to get DOM element
2. **Capture with html2canvas**:
   ```javascript
   html2canvas(element, {
     scale: 2, // High quality
     useCORS: true,
     logging: false,
     backgroundColor: ''#ffffff''
   })
   ```
3. **Convert to image**: Canvas → base64 PNG data URL
4. **Create jsPDF instance**: Orientation/pageSize from options
5. **Calculate dimensions**:
   - PDF page dimensions in points
   - Image dimensions from canvas
   - Scale factor to fit image on page
6. **Add image to PDF**: `pdf.addImage(imgData, ''PNG'', x, y, width, height)`
7. **Multi-page support** (if multiPage=true):
   - Calculate if image exceeds page height
   - Split image into multiple page-height segments
   - Add each segment to separate page
   - Repeat for tall dashboards/charts
8. **Add data table** (if includeDataTable=true):
   - Add new page
   - Render data table as in mode #1
9. **Add AI insights** (if includeAIInsights + aiInsightsText):
   - Add new page
   - Title: "AI Insights"
   - Render markdown as formatted text:
     - Parse headings: Bold, larger font
     - Parse lists: Indent, bullet points
     - Parse bold/italic: Font style changes
     - Parse code blocks: Monospace font, gray background
     - Word-wrap long lines
10. **Save PDF**

**AI Insights Rendering**:
- Parses markdown using simple regex patterns
- No full markdown library (keeps PDF small)
- Handles: `#` headings, `**bold**`, `*italic*`, `` `code` ``, lists, blockquotes
- Preserves line breaks and spacing
- Selectable text in PDF (not rasterized)

## Column Validation (useEffect)
On mount and when data/columns change:
1. Get all available field names from first data record
2. Compare with columns configuration
3. Warn in console if column.key not found in data
4. Filter out invalid columns from selectedColumns

## Progress Tracking
For large exports (>1000 rows):
1. Calculate total chunks: `Math.ceil(rowCount / chunkSize)`
2. Process each chunk with progress update:
   ```javascript
   for (let i = 0; i < totalChunks; i++) {
     processChunk(i);
     setProgress((i + 1) / totalChunks * 100);
     await new Promise(resolve => requestAnimationFrame(resolve));
   }
   ```
3. Fire onExportStart at 0%
4. Fire onExportComplete at 100%
5. Fire onExportError if exception

## Event Flow
1. User clicks format button OR parent calls ref method
2. Fire `onExportStart(format)`
3. Validate data and columns
4. If showPreview=true: Show preview modal, await user confirmation
5. Set exporting=true
6. Execute format-specific export function
7. Handle progress updates
8. On success: Fire `onExportComplete({format, filename})`
9. On error: Fire `onExportError({error, format})`
10. Set exporting=false

## UI Rendering (mode=''ui'')

### Dropdown Button (buttonStyle=''dropdown'', default)
- Uses Ant Design Dropdown component
- Menu items for each format in `formats` array
- Icon for each format (csv, excel, pdf)
- Click triggers handleExport(format)

### Button Style (buttonStyle=''button'')
- Single button per format
- Horizontal button group
- Each button triggers that format directly

### Icon Style (buttonStyle=''icon'')
- Icon-only buttons (no text)
- Tooltips show format names
- Compact layout

### Positioning
- **top**: marginBottom spacing
- **bottom**: marginTop spacing
- **inline**: Display inline-block
- **floating**: Absolute position (top-right default)

### Custom Styling
`customStyles` prop applies CSS overrides to button container.

## Error Handling
1. **Missing libraries**: Check if XLSX/jsPDF/html2canvas loaded, show error if not
2. **Empty data**: Alert "No data to export"
3. **Invalid columns**: Warn and filter out
4. **File size warnings**: Alert if export exceeds 50MB (approximate)
5. **Browser compatibility**: Check Blob/download support, fallback message
6. **Try/catch**: All export functions wrapped with error boundaries

## Memory Management
- Clear large variables after use (imgData, workbook)
- Revoke object URLs: `URL.revokeObjectURL(url)` after download
- Cancel in-progress exports on unmount (AbortController)

## File Download Mechanism
```javascript
function downloadFile(blob, filename) {
  const url = URL.createObjectURL(blob);
  const a = document.createElement(''a'');
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}
```

## Ref API Exposure (Headless Mode)
```javascript
useImperativeHandle(ref, () => ({
  exportToCSV: () => handleExport(''csv''),
  exportToExcel: () => handleExport(''excel''),
  exportToPDF: () => handleExport(''pdf'')
}), [data, columns, /* other deps */]);
```

## Performance Optimizations
- Chunked processing for large CSVs (prevents UI freeze)
- html2canvas scale factor: 2 (balance quality vs size)
- PDF compression options
- Worker threads for export (future enhancement)
- Memoize column calculations
- Debounce preview data slicing
'
SET
  @FunctionalRequirementsVector_e7dc1d50 = N'[-0.030014481395483017,0.012273809872567654,-0.021466994658112526,-0.08940186351537704,0.018258875235915184,-0.0025405925698578358,0.01831921748816967,0.08682332187891006,-0.014276872389018536,0.038983412086963654,-0.0922880545258522,0.00922535452991724,0.02612113393843174,0.09588615596294403,0.042877454310655594,0.03590625897049904,-0.06420557200908661,0.03914792835712433,-0.02396712638437748,-0.018361929804086685,0.014027338474988937,-0.02571531943976879,0.03347669169306755,-0.02883736975491047,0.04486243426799774,-0.001631381455808878,-0.0049575865268707275,-0.017547424882650375,-0.013791246339678764,-0.002003256930038333,0.015061422251164913,0.016609108075499535,0.03000248782336712,-0.02791907638311386,0.0000022225963220989797,-0.04464447870850563,-0.051286228001117706,-0.0031770558562129736,0.003948819357901812,-0.042440932244062424,0.02332140877842903,-0.0869324654340744,-0.008492524735629559,-0.036257870495319366,0.0370478630065918,-0.027862394228577614,-0.005382377654314041,-0.0070861694402992725,0.0067077032290399075,-0.03849280625581741,0.02109801210463047,-0.019770914688706398,0.03992890939116478,0.04714907705783844,-0.0060518477112054825,0.03664420172572136,-0.009827991016209126,-0.021385908126831055,0.03361259400844574,-0.0319489985704422,0.02147800661623478,-0.020719919353723526,0.023637374863028526,-0.03795205056667328,-0.0070332130417227745,-0.00103437015786767,-0.04605637863278389,-0.05430904030799866,-0.003979149274528027,0.04044274613261223,0.09050149470567703,-0.05450805649161339,-0.019981244578957558,-0.022555505856871605,-0.07501046359539032,-0.06652315706014633,-0.03030889481306076,-0.004257186781615019,0.021490121260285378,-0.012830089777708054,-0.0016990458825603127,0.03681587427854538,-0.06183347478508949,-0.025871645659208298,0.020356325432658195,-0.0157413799315691,-0.018678540363907814,-0.013141298666596413,0.029315944761037827,0.011636343784630299,0.027245428413152695,0.015532664954662323,0.06132800504565239,0.023878952488303185,0.050261884927749634,-0.023684600368142128,0.038975510746240616,-0.1695600301027298,0.061416104435920715,0.03618813678622246,0.051035407930612564,-0.03814657777547836,0.04111265763640404,0.000608345028012991,0.048656314611434937,-0.0012279893271625042,0.056436937302351,-0.04225201904773712,0.05415687710046768,-0.04361458867788315,-0.010795392096042633,-0.006278510205447674,0.041576169431209564,-0.0034565534442663193,0.0028634073678404093,0.053093235939741135,0.030593128874897957,-0.04349682852625847,-0.019796960055828094,0.0678681954741478,0.09426435828208923,-0.02865036576986313,-0.0743195116519928,0.009485693648457527,0.043065983802080154,0.02462489902973175,-0.0010237540118396282,-0.03266618028283119,-0.008650349453091621,-0.03790883719921112,-0.0305494274944067,0.029572878032922745,0.06348157674074173,-0.034055862575769424,-0.013834991492331028,0.043909069150686264,0.0009132383856922388,0.020109303295612335,0.07608236372470856,-0.001943953917361796,-0.023888688534498215,-0.016869759187102318,-0.0013174578780308366,0.04499516263604164,0.07393170893192291,-0.007806871086359024,-0.02863241918385029,0.00947927962988615,0.012681864202022552,0.02114923484623432,0.035501573234796524,-0.016946692019701004,-0.02196584641933441,0.018608080223202705,-0.043769706040620804,-0.03071589581668377,-0.02635839581489563,-0.02460085228085518,-0.014574913308024406,-0.030956661328673363,-0.02426094189286232,-0.030570389702916145,0.04265211522579193,0.016200613230466843,0.020753318443894386,0.03018137626349926,-0.05563177168369293,0.041479259729385376,0.029698846861720085,-0.006675362586975098,0.002197819296270609,-0.06434381753206253,0.043886978179216385,0.04948098212480545,0.0023040471132844687,-0.02021799422800541,0.022257421165704727,-0.051067084074020386,-0.010691305622458458,0.04133114963769913,0.0631772056221962,-0.07572833448648453,0.04969893395900726,-0.01082682516425848,0.1218489557504654,-0.0052401344291865826,-0.06899359077215195,0.06951005756855011,-0.008165020495653152,0.01490759290754795,-0.010821561329066753,0.018119962885975838,-0.0401674248278141,-0.0028182559181004763,0.028017817065119743,0.048956625163555145,0.0030397099908441305,-0.09600701928138733,-0.00810391828417778,-0.009429119527339935,-0.004070424474775791,-0.0005612000823020935,-0.010435807518661022,0.007952800951898098,0.0038893362507224083,0.03099053166806698,-0.06287088990211487,-0.010329486802220345,0.020105009898543358,-0.01978740282356739,-0.0392141193151474,-0.011634750291705132,0.0018899625865742564,-0.0069244783371686935,-0.020170418545603752,0.04260813817381859,0.012513385154306889,0.004760568495839834,-0.007042955607175827,-0.0052331797778606415,-0.027617640793323517,-0.04996441304683685,-0.06888312846422195,0.022681664675474167,0.037707000970840454,-0.012803703546524048,0.05095658078789711,0.0009481539018452168,0.07479280978441238,-0.033576808869838715,-0.026401860639452934,-0.04281442239880562,0.0070862919092178345,0.019121618941426277,0.04379420727491379,0.04924281686544418,0.041620247066020966,0.06864473223686218,-0.06048297509551048,0.07659882307052612,-0.02001415379345417,-0.02838881127536297,-0.016517214477062225,0.005578132346272469,-0.06576836109161377,0.01597818359732628,-0.08257073163986206,0.0020905816927552223,0.02440047450363636,0.013662262819707394,0.04983210936188698,-0.007842629216611385,0.012709150090813637,-0.018301939591765404,-0.04003402590751648,-0.027488475665450096,-0.01730218157172203,-0.010922336019575596,0.023174315690994263,0.07863517850637436,0.05377660319209099,-0.03010411560535431,-0.011520364321768284,0.022252053022384644,0.07008238881826401,-0.02770840935409069,0.03370886668562889,0.035706933587789536,0.04355854541063309,0.0446324422955513,-0.027907339856028557,0.018013397231698036,-0.01358575839549303,0.004143975209444761,0.029278498142957687,-0.046470027416944504,0.003182207467034459,0.044802889227867126,-0.03784588351845741,0.027963882312178612,-0.05716425180435181,0.02416582591831684,0.023781104013323784,-0.001631440012715757,-0.0172593891620636,-0.004263367038220167,-0.0008636749698780477,0.03567741438746452,0.008570496924221516,-0.014998356811702251,0.016573792323470116,-0.005212044809013605,0.013353805057704449,-0.0035514854826033115,-0.05968792736530304,0.02179255150258541,-0.006533583160489798,0.03994869068264961,-0.025753630325198174,0.029212869703769684,0.04358762875199318,0.002204516902565956,0.03277742862701416,0.017595520243048668,0.006440453696995974,0.00016979684005491436,0.024877220392227173,-0.013036108575761318,0.029094267636537552,0.0022263717837631702,-0.0019076759926974773,-0.005696743261069059,-0.015386379323899746,-0.02004285529255867,0.033589985221624374,-0.013348468579351902,0.04322238266468048,0.03240109235048294,0.007700050249695778,0.02949771098792553,0.0010970234870910645,-0.004326560068875551,-0.012667246162891388,-0.021267637610435486,-0.022114481776952744,-0.030886514112353325,-0.025111231952905655,0.012496491894125938,-0.021508466452360153,0.021291062235832214,0.016563158482313156,-0.009310479275882244,0.05946045368909836,-0.04691615700721741,0.043254952877759933,0.006981834769248962,-0.007555230055004358,-0.07266470789909363,0.006489383988082409,-0.03167147934436798,-0.02541673183441162,-0.0386090949177742,0.05046084523200989,0.0340716727077961,0.040051113814115524,-0.018093455582857132,0.02723042666912079,-0.028833478689193726,-0.09494222700595856,-0.009073746390640736,0.06659459322690964,0.03784177452325821,-0.012999280355870724,-0.020730987191200256,0.0005756918690167367,0.02304469607770443,-0.04744161665439606,0.015169358812272549,-0.0390406996011734,-0.038105547428131104,0.005451582837849855,0.020991027355194092,-0.05568839609622955,0.033567897975444794,0.03661017119884491,0.04206017404794693,0.026131590828299522,0.026785308495163918,-0.019195836037397385,-0.04452807456254959,0.03960380703210831,-0.050388362258672714,-0.011941531673073769,-0.018518660217523575,-0.017017973586916924,0.005197996739298105,-0.00778488302603364,-0.010389640927314758,0.01740865595638752,-0.012521193362772465,0.055232856422662735,0.03680799901485443,0.050405353307724,0.01353985071182251,0.0695870965719223,-0.0647260770201683,0.04349049553275108,-0.006072732154279947,-0.0025021792389452457,0.04370902478694916,-0.01861961930990219,0.014681133441627026,-0.011742315255105495,-0.01719171740114689,0.016225019469857216,0.027503278106451035,-0.008898812346160412,0.017547307536005974,0.03965099900960922,0.0010822421172633767,0.018915126100182533,0.0035612310748547316,-0.049675047397613525,0.011309690773487091,0.06418467313051224,-0.05196499079465866,0.06714530289173126,0.04896322637796402,0.009859235025942326,-0.013422318734228611,-0.08366245031356812,-0.033169496804475784,-0.04944074526429176,-0.007952363230288029,-0.04300205036997795,0.02057342417538166,0.003850977635011077,-0.05042726919054985,0.04136312007904053,0.06754207611083984,0.010355260223150253,0.013538647443056107,0.017314277589321136,-0.030268561094999313,-0.022883936762809753,-0.06825646758079529,-0.01477942056953907,-0.06988979876041412,-0.003339878749102354,-0.0122715774923563,-0.04248461499810219,-0.046406880021095276,0.017718417569994926,-0.05042976513504982,-0.04904167354106903,0.06615106016397476,0.01671448163688183,-0.07272475957870483,-0.04203880578279495,-0.0037790308706462383,-0.02526809461414814,0.01798161305487156,0.05180896818637848,-0.005506876856088638,-0.0013786166673526168,-0.07127533853054047,0.021907314658164978,0.017658697441220284,-0.0587666779756546,0.009894653223454952,-0.009149537421762943,0.03426579013466835,-0.01716821826994419,0.024674998596310616,-0.023115243762731552,-0.02906653843820095,0.06412892043590546,0.029937217012047768,0.02848154865205288,-0.039881665259599686,0.03454214334487915,-0.0034054559655487537,-0.005941629875451326,0.03350132331252098,0.046603210270404816,-0.009877904318273067,0.011798863299190998,-0.021580398082733154,-0.04623445123434067,-0.010353710502386093,0.009549817070364952,-0.031459007412195206,-0.01835150085389614,0.0035279684234410524,-0.010009882971644402,0.025761693716049194,0.017345156520605087,0.01797955296933651,0.060918521136045456,-0.0017064798157662153,0.04984836280345917,-0.04548533260822296,-0.02609226107597351,-0.05422857031226158,0.05303531140089035,0.008875222876667976,-0.025386100634932518,-0.0397234670817852,-0.014144192449748516,-0.0039417557418346405,-0.033296626061201096,-0.006356892641633749,0.013619777746498585,0.10722269117832184,0.0769088864326477,-0.00780108105391264,-0.03518826887011528,0.04350223019719124,-0.015040704980492592,0.007886008359491825,-0.054085101932287216,-0.00961999036371708,-0.03841562941670418,-0.0238948967307806,0.01805133745074272,0.0017167212208732963,-0.023916006088256836,-0.008638263680040836,0.012113376520574093,0.005439829546958208,-0.005799380596727133,-0.004523685667663813,0.01995575800538063,0.09935713559389114,-0.012159975245594978,-0.012579057365655899,-0.073991559445858,0.013930976390838623,0.02205905318260193,-0.01604583114385605,-0.022691665217280388,-0.005572860594838858,-0.0018822369165718555,-0.0010456822346895933,0.04551156610250473,0.012928973883390427,-0.025982394814491272,-0.017640739679336548,-0.029756348580121994,0.022800851613283157,0.031778186559677124,-0.06489858776330948,-0.008660699240863323,-0.05456794425845146,-0.03996296972036362,0.07661513239145279,0.025758789852261543,0.00775582529604435,0.06543699651956558,-0.016593290492892265,-0.008751223795115948,-0.003614892018958926,0.012486835941672325,-0.032726116478443146,-0.024983681738376617,-0.01425058301538229,0.012526907958090305,0.02842964231967926,0.018483322113752365,-0.005252316128462553,-0.011469611898064613,-0.03454050421714783,0.034574754536151886,-0.0234909038990736,0.009720156900584698,-6.435513452593333e-33,0.04224630817770958,0.005483976565301418,-0.026366638019680977,-0.008212858811020851,-0.038184504956007004,-0.05565967783331871,-0.027613600715994835,-0.062064360827207565,0.015287823043763638,-0.009456277824938297,0.016457324847579002,-0.064805768430233,0.004515468142926693,0.02096058800816536,0.009368861094117165,0.03790291026234627,-0.036287445574998856,-0.01438027061522007,0.01894283853471279,0.03420831263065338,0.012278749607503414,0.02544933371245861,-0.009241227060556412,-0.03385822847485542,-0.03274247795343399,-0.003763966029509902,-0.019221700727939606,-0.028845282271504402,0.022037003189325333,0.0017831531586125493,0.006589311175048351,-0.010317754931747913,-0.007680926006287336,-0.09245084971189499,0.008477096445858479,-0.012381012551486492,-0.04667609930038452,-0.015471665188670158,0.013861194252967834,0.022393163293600082,0.035276323556900024,-0.004998983349651098,0.025496063753962517,-0.028335584327578545,-0.0016857165610417724,-0.0146474689245224,0.016109535470604897,-0.0056823305785655975,-0.0033342393580824137,-0.06515686959028244,-0.000043627402192214504,0.0031748104374855757,0.006807303987443447,0.056464679539203644,-0.024135056883096695,0.09744114428758621,-0.007565359119325876,0.03612053766846657,-0.03336907550692558,-0.03271334990859032,0.0028597405180335045,-0.03420567139983177,0.07066921144723892,0.02935771457850933,0.08547529578208923,-0.04114043712615967,0.03192536160349846,0.017100689932703972,-0.08140623569488525,-0.00034882163163274527,0.03444662690162659,-0.01903069019317627,-0.04231802001595497,0.007158518768846989,-0.04569552093744278,0.01879248581826687,-0.0015654823509976268,0.012304272502660751,-0.013764606788754463,0.007142882794141769,0.029031073674559593,-0.013923474587500095,0.028740083798766136,0.027307452633976936,-0.008326306007802486,-0.046394675970077515,0.03211630508303642,0.009607874788343906,0.032755982130765915,0.01243531797081232,-0.003703259164467454,-0.05885577201843262,-0.0357658751308918,0.06365770101547241,-0.06310597062110901,-0.01918545551598072,-0.050632916390895844,-0.0011286328081041574,0.007056646980345249,-0.01405614335089922,0.03561456874012947,0.026909949257969856,-0.06692787259817123,0.00792592205107212,-0.0005595136317424476,-0.007527539506554604,0.05667803809046745,0.009233890101313591,-0.0022633743938058615,-0.006531490013003349,0.007111957762390375,0.05770057812333107,-0.010920824483036995,-0.00010424700303701684,0.008191068656742573,0.00011603040184127167,-0.0025546206161379814,-0.06497614830732346,0.042078111320734024,-0.01341884396970272,0.04471562057733536,-0.03153619542717934,-0.004253076855093241,0.050414055585861206,0.007143564522266388,0.030495718121528625,-0.013236130587756634,-0.021905891597270966,0.045506801456213,0.028401467949151993,0.02199513092637062,0.03968029096722603,3.081355828271626e-7,-0.008310491219162941,-0.024535205215215683,-0.04375505819916725,-0.030648797750473022,-0.02268863283097744,0.010457048192620277,-0.028922690078616142,-0.013660751283168793,-0.07657153159379959,-0.003895730013027787,-0.016878357157111168,-0.0009465946932323277,0.07753162831068039,0.02754942514002323,0.048054322600364685,-0.025413157418370247,-0.04264060780405998,0.013144160620868206,-0.024341711774468422,0.03150326386094093,-0.010772321373224258,0.00943833775818348,-0.013461803086102009,-0.006895057857036591,0.021649343892931938,0.07918517291545868,-0.01769089885056019,-0.014824697747826576,0.06990063935518265,-0.03339175134897232,-0.008324659429490566,0.012222560122609138,-0.03681887686252594,0.009154858998954296,-0.023193353787064552,0.016802186146378517,0.005216016434133053,0.040127404034137726,-0.008782347664237022,0.09166630357503891,0.06856854259967804,-0.008160409517586231,0.012289284728467464,-0.0508820004761219,0.036243848502635956,-0.0008648904622532427,-0.1041116788983345,0.05114321410655975,-0.05047652870416641,0.03996414691209793,-0.03945828974246979,-0.043774161487817764,-0.011031152680516243,-0.0491955503821373,-0.0053506698459386826,-0.0003872172092087567,-0.013644847087562084,0.03618716076016426,0.01566401869058609,0.0505199134349823,0.022044960409402847,-0.008234926499426365,0.006103584077209234,0.05333637818694115,0.04307394102215767,0.008783072233200073,-0.02967972122132778,4.105051729214496e-34,-0.019825058057904243,-0.0749262273311615,0.007127632852643728,-0.01786457560956478,0.000787723227404058,-0.02887013554573059,0.033921029418706894,0.0016690463526174426,0.0033087609335780144,-0.019598526880145073,0.00529387267306447]'
SET
  @TechnicalDesignVector_e7dc1d50 = N'[-0.023581212386488914,-0.0006017981795594096,-0.030088789761066437,-0.08752404153347015,-0.009135261178016663,-0.028569789603352547,0.06078960746526718,0.09974931925535202,-0.006787560414522886,0.024493766948580742,-0.06551825255155563,-0.011364642530679703,0.04081091284751892,0.09136836975812912,0.016207566484808922,0.013264036737382412,-0.043465081602334976,0.058704208582639694,-0.05400906130671501,-0.01155500765889883,0.022106653079390526,-0.03528270497918129,0.017909729853272438,-0.02525882050395012,0.06385429203510284,-0.024404112249612808,-0.03580641746520996,-0.030945271253585815,0.014163021929562092,-0.002499049063771963,-0.001690179225988686,0.03446410968899727,-0.0064753335900604725,-0.033104367554187775,0.0000019300030089652864,-0.04431549459695816,-0.040797919034957886,0.0013731089420616627,0.032332394272089005,-0.05981949344277382,0.05444065481424332,-0.05231510475277901,-0.00213498342782259,-0.00657570781186223,0.007025279104709625,-0.0958329290151596,-0.038690872490406036,-0.01258090790361166,0.02112073078751564,0.0001803357881726697,0.02067779377102852,0.00400165468454361,0.04738248512148857,0.0526123084127903,0.03421518951654434,0.02478422224521637,-0.020033810287714005,-0.02214996889233589,0.04975135996937752,-0.031024817377328873,0.010335460305213928,-0.02515053004026413,0.037402473390102386,-0.05776268243789673,-0.009793711826205254,0.00852966122329235,0.03858604282140732,-0.045925531536340714,0.006210225634276867,0.045530375093221664,0.10886804759502411,-0.04236675053834915,-0.0017996971728280187,-0.01801583170890808,-0.05216909199953079,-0.05442493036389351,-0.023815209046006203,0.0006041350425221026,-0.00016487050743307918,-0.014890804886817932,0.04406687617301941,0.01461841817945242,-0.060341425240039825,-0.011573093943297863,0.026560103520751,0.0014885684940963984,-0.014272628352046013,-0.012207803316414356,0.012386659160256386,-0.026632089167833328,0.047100525349378586,-0.004764548037201166,0.059485383331775665,0.05450209975242615,0.023020988330245018,-0.015498463995754719,0.01951509714126587,-0.23804548382759094,0.04984982684254646,0.001687492011114955,0.04687708243727684,-0.007953332737088203,0.019993901252746582,0.01147468201816082,0.042873769998550415,0.04819608852267265,0.05918094888329506,-0.03084118664264679,0.01987164467573166,-0.03360501676797867,0.00730331614613533,-0.010169079527258873,0.041860003024339676,0.0031364108435809612,-0.031817320734262466,0.05588725954294205,-0.004924588371068239,-0.04150647297501564,-0.012828370556235313,0.05812527984380722,0.09682115167379379,-0.04327874630689621,-0.0694076269865036,0.0007094694301486015,0.012996244244277477,0.01534953247755766,-0.006500334944576025,-0.0543861910700798,0.0001331201201537624,-0.005184876266866922,-0.008964370004832745,0.007118418347090483,0.05516152083873749,-0.01887512393295765,-0.025780318304896355,0.03864331543445587,-0.009723220951855183,0.03721483051776886,0.059491630643606186,-0.02909672260284424,0.005244920030236244,-0.02843545749783516,0.013424721546471119,0.02831500954926014,0.012292909435927868,0.02066921442747116,0.004355143755674362,0.012501014396548271,-0.010797274298965931,0.01762213185429573,0.05334404110908508,-0.007896307855844498,-0.05673106014728546,0.015175199136137962,-0.048024795949459076,0.004633905831724405,-0.020628221333026886,-0.012872295454144478,-0.01887127384543419,-0.04787634313106537,-0.02260143682360649,0.007991091348230839,0.06600378453731537,0.008031918667256832,-0.005992638412863016,0.02079370617866516,-0.11162102222442627,0.019453754648566246,-0.010727384127676487,-0.006551905535161495,0.039193712174892426,-0.04399590566754341,0.0023777708411216736,0.0573950856924057,-0.009404143318533897,-0.0248993169516325,0.03723294660449028,-0.0218309685587883,-0.04264336824417114,0.03986596688628197,0.03994417563080788,-0.0804416760802269,0.0577661357820034,0.00286025064997375,0.08810055255889893,-0.019754212349653244,-0.09652616083621979,0.03275493532419205,0.002574292244389653,0.020992718636989594,-0.006022847257554531,-0.0008655508863739669,-0.0330069474875927,-0.005845898296684027,0.024531874805688858,0.04366404935717583,-0.008240076713263988,-0.10058984160423279,0.01870563067495823,0.015305696055293083,0.014667624607682228,0.008572802878916264,0.03215329349040985,0.023889362812042236,0.00487917335703969,0.04106171429157257,-0.0634956955909729,-0.009331837296485901,-0.011864404194056988,-0.024813134223222733,-0.020344477146863937,-0.021835386753082275,-0.011386354453861713,-0.0051221842877566814,0.01640397310256958,0.047651506960392,-0.0008094945806078613,0.014310767874121666,-0.025411492213606834,0.017784032970666885,-0.028269242495298386,-0.05529988929629326,-0.043299127370119095,0.005252777133136988,0.08109014481306076,-0.01939401961863041,0.03505181148648262,-0.012722657062113285,0.0677654966711998,-0.03477418050169945,-0.027514461427927017,-0.040233973413705826,0.022458268329501152,0.010574504733085632,0.046297114342451096,0.05801547318696976,0.008026625961065292,0.0166011992841959,-0.04783042520284653,0.08875974267721176,-0.04706038162112236,-0.029113152995705605,-0.02584235556423664,0.005767276510596275,-0.04597385227680206,0.01969471573829651,-0.07297012954950333,0.0004641225968953222,0.01367560401558876,0.020041262730956078,0.03855837136507034,0.015829162672162056,0.02599666640162468,-0.02860533818602562,-0.027458928525447845,-0.04767877608537674,-0.013297471217811108,0.0006084716878831387,0.005897180642932653,0.056623950600624084,0.049484703689813614,-0.014049392193555832,-0.019920624792575836,0.017246829345822334,0.07169385999441147,-0.02008536271750927,0.041454728692770004,0.008922751061618328,0.022657614201307297,0.0375029519200325,0.002486511366441846,0.01856021210551262,-0.01140910666435957,0.0052621327340602875,0.0065424260683357716,-0.06958770006895065,0.0119855348020792,0.07790907472372055,-0.03174251690506935,0.019313331693410873,-0.04691610857844353,0.008688346482813358,0.0401063896715641,0.0038694986142218113,-0.012614615261554718,0.0075057740323245525,0.005704279989004135,0.0016474553849548101,0.001702968031167984,-0.06300631910562515,0.031718309968709946,0.016404516994953156,0.012813448905944824,0.012589010410010815,-0.055846527218818665,0.022281862795352936,0.006201076786965132,0.03631611540913582,-0.022511577233672142,0.01279406063258648,0.035299401730298996,0.011139069683849812,0.02050422504544258,0.018926428630948067,0.008729650638997555,-0.0033785109408199787,-0.008848551660776138,0.01929720677435398,0.01623215712606907,0.012074540369212627,-0.003785796696320176,0.021501606330275536,0.01009892113506794,-0.027933510020375252,-0.000005225634595262818,0.004318729043006897,0.04150686040520668,0.012130104005336761,-0.022942131385207176,0.06008794158697128,-0.016240324825048447,-0.015857530757784843,-0.003282612655311823,-0.012723044492304325,-0.021127358078956604,-0.005102647002786398,0.00877026654779911,0.0038142488338053226,0.01873737946152687,0.012126211076974869,0.025743091478943825,-0.008658873848617077,0.03333987668156624,-0.0047868178226053715,0.021663924679160118,-0.002464033430442214,-0.021067839115858078,-0.07843778282403946,0.029254741966724396,-0.029047440737485886,-0.04112416133284569,-0.05853857100009918,0.037261683493852615,0.0236233938485384,0.014558968134224415,-0.028049301356077194,-0.007516335230320692,-0.00962655246257782,-0.07707078754901886,-0.011811327189207077,0.03360000625252724,0.06414180248975754,-0.01794852502644062,-0.005591800436377525,-0.0043071843683719635,0.034221261739730835,-0.024892788380384445,0.0031567641999572515,-0.03710675984621048,-0.059362512081861496,0.004194599576294422,0.022548852488398552,-0.022867759689688683,0.04209521412849426,0.017611397430300713,0.0316048189997673,0.004457090515643358,0.02382853627204895,-0.02925226278603077,-0.03958433121442795,0.022775476798415184,-0.030599769204854965,-0.0026537026278674603,-0.015287735499441624,-0.04617312178015709,-0.03273959830403328,0.003928556106984615,0.008742829784750938,-0.02850359119474888,-0.011186392046511173,0.07406451553106308,0.0005918057868257165,0.067374587059021,0.011503669433295727,0.0684909000992775,-0.08013708144426346,0.04424652084708214,-0.0041835424490273,0.004769998136907816,0.02156790904700756,-0.026252031326293945,0.015360651537775993,-0.03286132216453552,-0.024318046867847443,0.002937770914286375,0.05078834667801857,-0.0031339216511696577,0.02338622882962227,0.0580967478454113,0.013197347521781921,0.002062099287286401,0.06370482593774796,-0.010306794196367264,-0.021083353087306023,0.0511629618704319,-0.04676565155386925,0.029587075114250183,0.05976239964365959,0.03210676088929176,0.011921090073883533,-0.05016892030835152,0.008845005184412003,-0.052404455840587616,-0.004741305951029062,-0.05250680819153786,0.018852200359106064,0.009675619192421436,-0.06549122929573059,0.012937240302562714,0.06845909357070923,-0.0027294207829982042,0.002677089301869273,0.022898975759744644,-0.009295057505369186,0.0263901986181736,-0.04857063293457031,-0.030644724145531654,-0.07518281787633896,-0.01662319153547287,-0.010098058730363846,-0.024189326912164688,-0.049618903547525406,0.03955212980508804,-0.02256203442811966,-0.0606972761452198,0.04612990468740463,-0.006891720462590456,-0.03479204699397087,-0.005274066235870123,-0.020907338708639145,-0.020480571314692497,0.014717554673552513,0.0850551575422287,0.011860670521855354,0.030645227059721947,-0.06788695603609085,0.004202445037662983,0.02752681076526642,-0.03297451138496399,0.04864469915628433,-0.008819867856800556,0.030090536922216415,-0.03220520541071892,0.0026932319160550833,-0.03538241237401962,-0.03848014026880264,0.060161907225847244,0.03696930408477783,0.03317994996905327,-0.031032342463731766,0.02592688985168934,0.016044965013861656,-0.04993507266044617,0.0003968073579017073,0.032542675733566284,-0.008805370889604092,0.03491472825407982,-0.023311177268624306,-0.022756773978471756,-0.014211861416697502,-0.013715652748942375,-0.017164062708616257,-0.02381036803126335,0.006739640608429909,-0.008595741353929043,0.013634984381496906,0.0072550419718027115,0.04485001787543297,0.056098517030477524,-0.018614616245031357,0.04155447706580162,-0.02172558754682541,-0.030902575701475143,-0.07540836930274963,0.04450021684169769,0.0026916852220892906,-0.021731901913881302,-0.030759893357753754,0.010027462616562843,-0.00035213364753872156,-0.022780686616897583,-0.0024412700440734625,0.0020652266684919596,0.11044105887413025,0.07755975425243378,0.018811186775565147,0.006889807991683483,0.018535403534770012,0.023666683584451675,0.005532409064471722,-0.039991769939661026,-0.012182839214801788,-0.03179170936346054,-0.02397533506155014,0.03492914140224457,-0.0024369796738028526,-0.03521057963371277,0.013534764759242535,-0.00877572875469923,0.00014188593195285648,0.0023865581024438143,-0.03558816760778427,0.01133220549672842,0.05539584904909134,-0.006555251311510801,0.03334170952439308,-0.059146203100681305,0.014960680156946182,0.03733579441905022,-0.027892354875802994,0.005633872002363205,-0.008419530466198921,-0.010213017463684082,-0.023686187341809273,0.051668595522642136,-0.0011204967740923166,-0.016210103407502174,-0.0038683083839714527,0.007655800320208073,0.025644764304161072,0.04685308411717415,-0.03561215102672577,-0.024219991639256477,-0.06244155019521713,-0.03341398760676384,0.07291457056999207,0.02901686355471611,-0.0070260679349303246,0.04409835487604141,-0.04395834729075432,-0.023636827245354652,0.0025431180838495493,0.0437142439186573,0.00381055218167603,0.002714776899665594,-0.033301159739494324,0.01825844682753086,-0.014811398461461067,0.028990447521209717,-0.017507923766970634,-0.021752167493104935,0.021445665508508682,0.056288015097379684,-0.03332064300775528,0.0012769046006724238,-6.135579089483318e-33,0.02754955179989338,-0.005040425341576338,-0.02238081395626068,0.020224856212735176,-0.04132011532783508,-0.03633198142051697,-0.06906081736087799,-0.06303246319293976,0.028057057410478592,-0.018329842016100883,0.0018754256889224052,-0.0689820945262909,-0.004177935887128115,0.00638153962790966,-0.007338152267038822,0.02589663490653038,-0.016236290335655212,-0.0044334810227155685,0.003983431030064821,0.026852713897824287,0.018275868147611618,0.02510567381978035,-0.01379196997731924,-0.003907644189894199,-0.03521493449807167,-0.0011412737658247352,-0.018235566094517708,-0.013106792233884335,-0.03926324099302292,0.00022754220117349178,-0.010823532938957214,-0.002541197929531336,-0.009316603653132915,-0.05946638435125351,0.007866493426263332,-0.0062230727635324,-0.0827314704656601,-0.012148374691605568,0.027708128094673157,0.02808348275721073,0.03109535574913025,0.02833954244852066,-0.006940862163901329,-0.024322185665369034,0.006531435530632734,0.015294778160750866,-0.009793573059141636,0.016459209844470024,-0.010509295389056206,-0.08443959057331085,-0.012078020721673965,0.024796055629849434,0.018339592963457108,0.040287941694259644,0.001397131010890007,0.08559175580739975,0.01481387298554182,-0.02796267345547676,-0.022221779450774193,-0.0339319109916687,0.04083409160375595,-0.0071541545912623405,0.05748005583882332,0.06569530814886093,0.0819234848022461,-0.01786264404654503,0.050095826387405396,0.0158928781747818,-0.0859566181898117,-0.011276314035058022,0.03898181766271591,-0.06566967070102692,-0.04685884341597557,0.03130858391523361,0.025095192715525627,0.031368836760520935,-0.007321236655116081,0.008940364234149456,0.02532333694398403,0.01181953027844429,0.034437574446201324,0.021202586591243744,0.034345582127571106,0.022249404340982437,-0.04173671826720238,-0.04697643965482712,0.04792741686105728,-0.015686016529798508,-0.013147073797881603,0.005985381547361612,0.012164592742919922,-0.04281143099069595,-0.029848434031009674,0.06902603805065155,-0.05880408734083176,-0.0594753660261631,-0.0247390978038311,0.027439936995506287,-0.01818224973976612,-0.0353701077401638,0.009663769043982029,0.0001277085393667221,-0.06984306871891022,0.010301508009433746,0.00018205899687018245,0.013672214932739735,0.05737435445189476,0.006299537606537342,-0.010556597262620926,0.004514287691563368,0.011449551209807396,0.062470901757478714,-0.003659449750557542,0.031433697789907455,0.011324038729071617,0.00973349530249834,-0.01306820847094059,-0.010712426155805588,0.02205452136695385,0.028379464522004128,0.009666820988059044,-0.025607850402593613,0.003128801705315709,0.058730851858854294,-0.00612941849976778,0.008317271247506142,-0.029712412506341934,-0.005362011957913637,0.0022114503663033247,-0.007446290459483862,0.03589911013841629,0.050445687025785446,2.736294675287354e-7,-0.0015932745300233364,-0.03103814832866192,-0.03015308827161789,-0.06015141308307648,-0.01928623579442501,0.0007238856051117182,-0.02470121718943119,-0.02812688611447811,-0.04892781004309654,-0.028927482664585114,-0.023125620558857918,-0.025184469297528267,0.08254651725292206,0.04342808201909065,0.02097722329199314,-0.029371974989771843,-0.036773063242435455,-0.0028872177936136723,-0.033642157912254333,0.030218981206417084,-0.018379291519522667,-0.00499862851575017,0.02741789072751999,-0.00391756184399128,0.03621818125247955,0.09184849262237549,-0.002037069760262966,0.009326361119747162,0.05955126881599426,-0.07065947353839874,0.012273795902729034,-0.0074312021024525166,-0.029720449820160866,0.006327992305159569,-0.002446503145620227,-0.0017929919995367527,-0.005439154803752899,0.03809027001261711,0.0178981963545084,0.07610053569078445,0.08678469061851501,-0.00937722623348236,-0.02096601575613022,-0.0483834333717823,0.02631821483373642,-0.014857937581837177,-0.07671321928501129,0.044582076370716095,-0.06800005584955215,0.032995615154504776,-0.04603144899010658,-0.02745579183101654,-0.012797581031918526,-0.038107309490442276,-0.00408015726134181,-0.022540461272001266,0.0020826791878789663,0.04903220757842064,0.009584145620465279,0.04303150624036789,0.003794525284320116,-0.013508407399058342,-0.0018192169955000281,0.06876739114522934,0.027257420122623444,-0.029161332175135612,-0.022559769451618195,4.00480272407599e-34,0.003504810156300664,-0.05732405558228493,-0.010142466984689236,-0.02757614478468895,-0.0056366752833127975,-0.02132726088166237,0.045698363333940506,0.0017889640294015408,0.020660273730754852,-0.015224681235849857,-0.02586379460990429]'
SET
  @HasCustomProps_e7dc1d50 = 1
SET
  @HasCustomEvents_e7dc1d50 = 1
SET
  @RequiresData_e7dc1d50 = 0
SET
  @DependencyCount_e7dc1d50 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_e7dc1d50 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_e7dc1d50 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_e7dc1d50 = 0
SET
  @ID_e7dc1d50 = 'D08BCD9D-B26F-4C96-87E7-436DE63F18FF'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_e7dc1d50,
  @Name = @Name_e7dc1d50,
  @Version = @Version_e7dc1d50,
  @VersionSequence = @VersionSequence_e7dc1d50,
  @Title = @Title_e7dc1d50,
  @Description = @Description_e7dc1d50,
  @Type = @Type_e7dc1d50,
  @Status = @Status_e7dc1d50,
  @DeveloperName = @DeveloperName_e7dc1d50,
  @DeveloperEmail = @DeveloperEmail_e7dc1d50,
  @DeveloperOrganization = @DeveloperOrganization_e7dc1d50,
  @SourceRegistryID = @SourceRegistryID_e7dc1d50,
  @ReplicatedAt = @ReplicatedAt_e7dc1d50,
  @LastSyncedAt = @LastSyncedAt_e7dc1d50,
  @Specification = @Specification_e7dc1d50,
  @FunctionalRequirements = @FunctionalRequirements_e7dc1d50,
  @TechnicalDesign = @TechnicalDesign_e7dc1d50,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_e7dc1d50,
  @TechnicalDesignVector = @TechnicalDesignVector_e7dc1d50,
  @HasCustomProps = @HasCustomProps_e7dc1d50,
  @HasCustomEvents = @HasCustomEvents_e7dc1d50,
  @RequiresData = @RequiresData_e7dc1d50,
  @DependencyCount = @DependencyCount_e7dc1d50,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_e7dc1d50,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_e7dc1d50,
  @HasRequiredCustomProps = @HasRequiredCustomProps_e7dc1d50,
  @ID = @ID_e7dc1d50;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_5a3f9096 NVARCHAR(MAX),
@Name_5a3f9096 NVARCHAR(500),
@Version_5a3f9096 NVARCHAR(50),
@VersionSequence_5a3f9096 INT,
@Title_5a3f9096 NVARCHAR(1000),
@Description_5a3f9096 NVARCHAR(MAX),
@Type_5a3f9096 NVARCHAR(255),
@Status_5a3f9096 NVARCHAR(50),
@DeveloperName_5a3f9096 NVARCHAR(255),
@DeveloperEmail_5a3f9096 NVARCHAR(255),
@DeveloperOrganization_5a3f9096 NVARCHAR(255),
@SourceRegistryID_5a3f9096 UNIQUEIDENTIFIER,
@ReplicatedAt_5a3f9096 DATETIMEOFFSET,
@LastSyncedAt_5a3f9096 DATETIMEOFFSET,
@Specification_5a3f9096 NVARCHAR(MAX),
@FunctionalRequirements_5a3f9096 NVARCHAR(MAX),
@TechnicalDesign_5a3f9096 NVARCHAR(MAX),
@FunctionalRequirementsVector_5a3f9096 NVARCHAR(MAX),
@TechnicalDesignVector_5a3f9096 NVARCHAR(MAX),
@HasCustomProps_5a3f9096 BIT,
@HasCustomEvents_5a3f9096 BIT,
@RequiresData_5a3f9096 BIT,
@DependencyCount_5a3f9096 INT,
@TechnicalDesignVectorEmbeddingModelID_5a3f9096 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_5a3f9096 NVARCHAR(MAX),
@HasRequiredCustomProps_5a3f9096 BIT,
@ID_5a3f9096 UNIQUEIDENTIFIER
SET
  @Namespace_5a3f9096 = N'Generic/UI/Table'
SET
  @Name_5a3f9096 = N'DataGrid'
SET
  @Version_5a3f9096 = N'1.0.0'
SET
  @VersionSequence_5a3f9096 = 1
SET
  @Title_5a3f9096 = N'Data Grid'
SET
  @Description_5a3f9096 = N'Flexible data grid component with its own simplified API. Accepts **data via props** (you manage data loading). Supports sorting, filtering, paging, row selection. Optional native record opening on row click (provide entityName + entityPrimaryKeys). Two column modes: simple (string array `[''Name'', ''Price'']`) or advanced (ColumnDef objects: `{field, header, render, width, sortable}`). Metadata-aware formatting: dates (locale with time), booleans (Yes/No), value lists (colored tags with 50+ status colors), money ($USD), decimals, integers (commas). Long text handling: truncate (ellipsis), expand (click ''show more/less''), tooltip (hover), wrap (word-break), none.

#### DataGrid - ONLY use when:
✅ You already have the data (from your own RunView call, aggregated query, joined tables, API response, etc.)
✅ You need custom data manipulation before display (filtering, transformation, merging multiple sources)
✅ You need full control over the data loading logic
✅ Displaying 2+ records in a list/table format
✅ Works with any array of objects (not just entity records)

❌ DO NOT USE DataGrid when:
- You want automatic entity record loading → **Use EntityDataGrid instead** (it calls RunView for you)
- Displaying a single record → **Use SingleRecordView instead**
- Need data visualization → **Use SimpleChart or SimpleDrilldownChart instead**
- Need automatic caching and pagination logic → **Use EntityDataGrid instead**

**Key difference from EntityDataGrid**: DataGrid is data-agnostic and passive (you pass data in). EntityDataGrid is entity-aware and active (it loads data via RunView). Choose DataGrid when you need control over data loading, EntityDataGrid for automatic entity record loading with smart caching.
'
SET
  @Type_5a3f9096 = N'Table'
SET
  @Status_5a3f9096 = N'Published'
SET
  @Specification_5a3f9096 = N'{"name":"DataGrid","title":"Data Grid","description":"Flexible data grid component with its own simplified API. Accepts **data via props** (you manage data loading). Supports sorting, filtering, paging, row selection. Optional native record opening on row click (provide entityName + entityPrimaryKeys). Two column modes: simple (string array `[''Name'', ''Price'']`) or advanced (ColumnDef objects: `{field, header, render, width, sortable}`). Metadata-aware formatting: dates (locale with time), booleans (Yes/No), value lists (colored tags with 50+ status colors), money ($USD), decimals, integers (commas). Long text handling: truncate (ellipsis), expand (click ''show more/less''), tooltip (hover), wrap (word-break), none.\n\n#### DataGrid - ONLY use when:\n✅ You already have the data (from your own RunView call, aggregated query, joined tables, API response, etc.)\n✅ You need custom data manipulation before display (filtering, transformation, merging multiple sources)\n✅ You need full control over the data loading logic\n✅ Displaying 2+ records in a list/table format\n✅ Works with any array of objects (not just entity records)\n\n❌ DO NOT USE DataGrid when:\n- You want automatic entity record loading → **Use EntityDataGrid instead** (it calls RunView for you)\n- Displaying a single record → **Use SingleRecordView instead**\n- Need data visualization → **Use SimpleChart or SimpleDrilldownChart instead**\n- Need automatic caching and pagination logic → **Use EntityDataGrid instead**\n\n**Key difference from EntityDataGrid**: DataGrid is data-agnostic and passive (you pass data in). EntityDataGrid is entity-aware and active (it loads data via RunView). Choose DataGrid when you need control over data loading, EntityDataGrid for automatic entity record loading with smart caching.\n","type":"table","location":"embedded","functionalRequirements":"## Purpose\nDisplay tabular data with sorting, filtering, paging, and row selection. Data-agnostic component that accepts any array of objects via props (you manage data loading).\n\n## Data Requirements\n- **Input**: Array of objects passed via `data` prop\n- **Optional**: `entityName` for metadata-driven formatting\n- **Optional**: `entityPrimaryKeys` array for built-in record opening on row click\n\n## Column Configuration\n**Two modes supported:**\n\n1. **Simple mode** (backward compatible):\n   - String array of field names: `[''Name'', ''SKU'', ''Price'']`\n   - Uses smart defaults from metadata (DisplayName, Type for formatting/alignment)\n\n2. **Advanced mode** (full control):\n   - ColumnDef objects: `{field: ''Price'', header: ''Unit Price'', render: (value, record, fieldInfo) => JSX, width: ''120px'', sortable: true}`\n   - Custom render functions receive value, full record, and field metadata\n   - Per-column width and sortable overrides\n\n**Auto-detection**: If `columns` prop omitted, discovers fields from first data record (filters out ''key'' field).\n\n## Metadata-Aware Formatting\nWhen `entityName` provided, uses entity metadata for intelligent display:\n\n- **Dates**: Locale format with hour/minute (e.g., \"Jan 15, 2024, 3:30 PM\")\n- **Booleans**: \"Yes\" / \"No\" text\n- **Value Lists**: Colored Tag components with smart color assignment\n  - 50+ predefined status colors (active→green, pending→orange, failed→red, processing→blue)\n  - 50 fallback colors for other values\n  - Consistent color per value across dataset\n- **Money**: Intl.NumberFormat with $USD currency\n- **Decimals/Floats**: 2 decimal places with comma thousands separator\n- **Integers**: Comma thousands separator\n- **Right-alignment**: Numbers, money, bit fields automatically right-aligned\n\n## Long Text Handling\nFive modes for fields exceeding `longTextThreshold` (default 200 chars):\n\n1. **truncate**: Substring + ''...'' with ellipsis\n2. **expand** (default): Click to toggle ''show more/less'' (tracks expanded state per cell)\n3. **tooltip**: Full text on hover with Ant Tooltip\n4. **wrap**: Word-break normal, shows all text with wrapping\n5. **none**: Default browser behavior\n\n## Features\n\n### Sorting\n- Column-level sorting with string/number comparison\n- Click header to sort ascending/descending\n- Global `sorting` prop enables/disables all columns\n- Per-column `sortable` override in ColumnDef\n- Fires `sortChanged` event: `{column: string, direction: ''asc'' | ''desc''}`\n\n### Filtering\n- Global text search across specified fields or all columns\n- Debounced input (default 300ms) prevents excessive re-renders\n- Highlight matches with yellow background\n- Shows \"Found N matching records\" count\n- Configurable `filterFields` array to limit search scope\n- Fires `filterChanged` event: `{filterValue: string, matchingData: Array<object>}`\n\n### Pagination\n- Configurable page size (default 10, options: 5/10/20/50/100)\n- Shows \"X-Y of Z\" range display\n- Optional page size changer dropdown\n- Fires `pageChanged` event: `{pageNumber: number (0-based), visibleRows: Array<object>}`\n\n### Row Selection\nFour modes via `selectionMode` prop:\n\n1. **none** (default): No selection\n2. **checkbox**: Multi-select with checkboxes\n3. **radio**: Single-select with radio buttons\n4. **row**: Click anywhere on row to toggle selection\n\nFires `selectionChanged` event with full selected record objects.\n\n### Row Click & Record Opening\n**Priority order**:\n\n1. **If `onRowClick` provided**: Fires event with record, overrides default behavior\n2. **Else if `entityName` + `entityPrimaryKeys` + `callbacks.OpenEntityRecord` exist**:\n   - Extracts primary key values from record using `entityPrimaryKeys` field names\n   - Validates all key values exist (not null)\n   - Calls `callbacks.OpenEntityRecord(entityName, keyValues)`\n   - Use for 1:1 record-to-row scenarios only (not aggregated data)\n\n### Column Widths\n**Auto-fit mode** (`autoFitColumns={true}`, default):\n- Columns auto-size to fill container width\n- No horizontal scrolling\n\n**Fixed mode** (`autoFitColumns={false}`):\n- Intelligent width based on SQL type and field length:\n  - GUIDs: 280px\n  - Long text (varchar(max), nvarchar(max), length=-1, or >200 chars): 400px\n  - Variable char fields: Scale by length (50→100-200px, 100→250px, 200→300px)\n  - Dates: 160px\n  - Bit: 80px\n  - Int: 100px\n  - Decimal/Numeric: 120px\n  - Money: 130px\n- Horizontal scrolling enabled\n- Per-column `width` override in ColumnDef\n\n## Visual States\n\n### Loading\nShows spinner when `data === null` (use null for initial load, not empty array).\n\n### Empty\nShows \"No {entityName || ''records''} found\" message for empty datasets.\n\n### No Animations\nCSS overrides disable all Ant Design animations to prevent render loop detection issues.\n\n## Events\n\n1. **rowClick**: `(event: {record: object, cancel: boolean}) => void`\n   - Fired on row click with cancelable pattern\n   - Set `event.cancel = true` to prevent default OpenEntityRecord behavior\n\n2. **selectionChanged**: `({selectedRows: Array<object>}) => void`\n   - Fired when row selection changes\n\n3. **pageChanged**: `({pageNumber: number, visibleRows: Array<object>}) => void`\n   - Fired on page change with 0-based page number\n\n4. **sortChanged**: `({sortState: {column: string, direction: ''asc'' | ''desc''}}) => void`\n   - Fired when column sort changes\n\n5. **filterChanged**: `({filterValue: string, matchingData: Array<object>}) => void`\n   - Fired when filter text changes with all matching records\n","technicalDesign":"## Architecture\nReact functional component wrapping Ant Design Table 5.12.0 with MemberJunction metadata enhancements. **Note**: This describes internal implementation details. The public API uses `{field, header, render}`, not Ant Design''s `{dataIndex, title, key}`.\n\n## State Management (React Hooks)\n- **filterText** (string): Raw search input\n- **debouncedFilter** (string): Processed search term after 300ms delay\n- **selectedRowKeys** (array): Row selection state\n- **currentPage** (number): Pagination state\n- **sortConfig** (object): Sort state `{column, direction}`\n- **entityInfo** (object): Entity metadata from `utilities.md.Entities`\n- **expandedCells** (object): Tracks expanded long-text cells `{recordKey_fieldName: boolean}`\n\n## Initialization\n\n### Library Unwrapping\nUses `unwrapLibraryComponents(antd, ''Table'', ''Input'', ''Space'', ''Typography'', ''Tag'', ''Tooltip'')` to handle various Ant Design package formats (ESM/CJS/UMD).\n\n### Metadata Loading (useEffect)\nIf `entityName` provided:\n- Loads entity from `utilities.md.Entities`\n- Stores field metadata (Type, Length, DisplayName, ValueListType, EntityFieldValues)\n- Else sets `entityInfo = null`, uses basic type detection\n\n## Column Processing Pipeline (useMemo)\n\n### 1. Normalization\nAccepts `columns` as:\n- **String array**: `[''Name'', ''Price'']` → Normalizes to ColumnDef format\n- **ColumnDef objects**: `{field, header, render, width, sortable}`\n- **Auto-detection**: If omitted, discovers from `Object.keys(data[0])`, excludes ''key'' field\n\nHandles invalid configs with console warnings.\n\n### 2. Column Building\nConverts ColumnDef format (`{field, header}`) to Ant Design Table format internally:\n- **Alignment**: Based on SQL type (int/decimal/float/money/bit → right, others → left)\n- **Width calculation** (when `autoFitColumns=false`):\n  - GUIDs: 280px\n  - Long text (text type OR varchar(max) with length=-1 OR varchar >200): 400px\n  - Variable char: Scales by length (≤50→100-200px, ≤100→250px, ≤200→300px, else→350px)\n  - Dates: 160px\n  - Bit: 80px\n  - Int: 100px\n  - Decimal/numeric: 120px\n  - Money: 130px\n- **Override**: `colDef.width` if provided\n- **Sorter**: Creates function if `sortable` (string localeCompare, number subtraction, null handling)\n- **Render**: Priority: (1) Custom `colDef.render`, (2) Metadata-driven default\n\n### 3. Field Rendering Logic\nFor each cell:\n1. **Custom render**: If provided, call with `(value, record, fieldInfo)`\n2. **Null handling**: Return ''-''\n3. **Cell key**: Create unique key `$' + '{record.key/ID/id}_$' + '{fieldName}` for expansion tracking\n4. **Type-based formatting**:\n   - **date/time**: formatDate with locale (hour/minute)\n   - **bit**: Yes/No text\n   - **Value lists**: Tag component with `getValueColor(value, entityInfo)`\n   - **money**: Intl.NumberFormat USD currency\n   - **decimal/float**: toLocaleString with 2 decimals\n   - **int**: toLocaleString with commas\n5. **Long text handling** (if field is long text type AND length > `longTextThreshold`):\n   - **truncate**: substring + ''...''\n   - **expand**: Toggle on click, shows ''show more/less'' links, tracks state in `expandedCells`\n   - **tooltip**: Ant Tooltip wrapper\n   - **wrap**: whiteSpace:normal, wordBreak:break-word\n   - **none**: default\n6. **Filter highlighting**: If `debouncedFilter` exists, wrap matches in `Typography.Text mark`\n\n## Value List Coloring System\n\n### statusColorMap\n50+ predefined colors for common statuses:\n- active → #389e0d (green)\n- pending → #d48806 (orange)\n- failed → #a8071a (red)\n- processing → #096dd9 (blue)\n- etc.\n\n### fallbackColors\nArray of 50 distinct colors (purple, magenta, teal, indigo, vermillion, brown, etc.)\n\n### getValueColor Function\n1. Build `colorAssignments` Map\n2. Iterate `possibleValues` from entity metadata\n3. Assign `statusColorMap` color if exists, else next `fallbackColor`\n4. Ensures consistent colors per value across dataset\n5. Unknown values: Check `statusColorMap` first, then hash-based fallback index\n\n## Filter Debouncing (useEffect)\n- `setTimeout` with `filterDebounceTime` (300ms default)\n- Updates `debouncedFilter` after delay\n- Cleanup clears timer on unmount or input change\n\n## Filtered Data (useMemo)\nIf `filtering=false` or `!debouncedFilter`:\n- Return original `data`\n\nElse:\n- Determine `searchFields` (`filterFields` prop or all display fields)\n- Filter rows where any searchField value includes searchTerm (case-insensitive)\n- Handle null/undefined gracefully\n\n## Filter Change Effect (useEffect)\nFires `onFilterChanged` event with `{filterValue: debouncedFilter, matchingData: filteredData}`\n\n## Row Selection Config\nIf `selectionMode !== ''none''`:\n- Creates `rowSelection` object with:\n  - type: ''radio'' or ''checkbox''\n  - selectedRowKeys state\n  - onChange handler (updates state, fires `onSelectionChanged`)\n- For ''row'' mode: Adds `onSelect` handler\n\n## Pagination Config\nIf `paging=true`:\n- Creates pagination object:\n  - current: `currentPage`\n  - pageSize: From prop\n  - total: `filteredData.length`\n  - showSizeChanger: false\n  - showTotal: Formatter function\n  - onChange: Updates `currentPage`, fires `onPageChanged` with 0-based page number and visible rows slice\n\n## Sort Handling\n`handleTableChange` extracts sorter from Ant Table onChange:\n- Updates `sortConfig` state\n- Fires `onSortChanged` with `{sortState: {column: sorter.field, direction: sorter.order === ''ascend'' ? ''asc'' : ''desc''}}`\n\n## Row Click Handling\n`handleRowClick` with priority logic:\n1. If `onRowClick` provided: Call with record and return early (custom handler overrides)\n2. Else if `entityName` AND `entityPrimaryKeys` AND `callbacks.OpenEntityRecord` exist:\n   - Maps `entityPrimaryKeys` to key-value pairs `[{FieldName, Value}]`\n   - Extracts values from record\n   - Checks all key values exist (!=null)\n   - If yes: Calls `callbacks.OpenEntityRecord(entityName, keyValues)`\n   - Else: Logs warning\n3. Wrapped in try/catch with error logging\n\n## Data with Keys (useMemo)\nMaps `filteredData` to add unique `key` prop:\n- Uses existing key/ID/id or falls back to index\n- Required for Ant Design Table row selection\n\n## CSS Style Injection\nDisables all Ant Design animations to prevent render loop detection:\n```css\n.data-grid-component * {\n  animation: none !important;\n  transition: none !important;\n  animation-duration: 0s !important;\n  transition-duration: 0s !important;\n}\n```\n\n## Render Output\nWrapper div with `.data-grid-component` class:\n\n1. **Search UI** (if `filtering=true`):\n   - Ant Input.Search with value/onChange/allowClear/onClear\n   - Placeholder shows filterFields or ''all fields''\n   - Full width style\n   - Text showing \"Found N matching records\" if `debouncedFilter` exists\n\n2. **Ant Table**:\n   - columns: `tableColumns`\n   - dataSource: `dataWithKeys`\n   - rowSelection: If enabled\n   - pagination: If enabled\n   - onChange: `handleTableChange` for sort\n   - scroll: `{x: ''max-content''}` only if `autoFitColumns=false`\n   - loading: true only when `data===null`\n   - locale: emptyText uses `entityName` if provided\n   - size: ''middle''\n   - onRow: Returns object with onClick handler and cursor style\n\n## Performance Optimizations\n- useMemo for column building, filtered data, data with keys\n- useCallback for event handlers (prevents re-renders)\n- Debounced filter input (prevents excessive re-renders)\n- CSS transitions disabled (prevents render loop)\n","dataRequirements":{"mode":"views","description":"Component is data-agnostic and works with any entity data passed via props"},"typeDefinitions":{"ColumnDef":{"description":"Column definition object for advanced column configuration","properties":{"field":{"type":"string","required":true,"description":"Field name from data object"},"header":{"type":"string","required":false,"description":"Display header text (defaults to field DisplayName or field name)"},"render":{"type":"function","signature":"(value: any, record: object, fieldInfo?: object) => ReactNode","required":false,"description":"Custom render function for cell content"},"width":{"type":"string | number","required":false,"description":"Column width (e.g., ''200px'' or 200)"},"sortable":{"type":"boolean","required":false,"description":"Override global sorting setting for this column"}}}},"properties":[{"name":"data","type":"Array<object>","description":"Array of records to display. Can be from any source: single entity, joined tables, aggregated results, or any array of objects.","required":true},{"name":"entityName","type":"string","description":"Optional entity name for metadata lookup (enables smart formatting for dates, money, value lists) and OpenEntityRecord integration. If omitted, component uses basic type detection and does not support record opening.","required":false},{"name":"entityPrimaryKeys","type":"Array<string>","description":"Array of field names that constitute the primary key(s) for opening entity records. Required for OpenEntityRecord integration. When provided with entityName, clicking a row will open the entity record using these fields. Use for 1:1 record-to-row scenarios (not aggregated data). Example: [''ID''] for single key, [''OrderID'', ''LineNumber''] for composite key.","required":false,"exampleValue":"[\"ID\"]","constraints":[{"type":"subset-of-entity-fields","dependsOn":"entityName","description":"When entityName is provided, validates that primary key field names exist on the specified entity","config":{"allowWildcard":false,"caseSensitive":true},"errorTemplate":"Primary key field ''{field}'' does not exist on entity ''{entityName}''"}]},{"name":"columns","type":"Array<string | ColumnDef>","description":"Array of column definitions. Can be simple strings (field names) for default behavior, or ColumnDef objects for advanced configuration. If not provided, all fields will be displayed. When using ColumnDef objects, the ''field'' property is validated against entity fields.","required":false,"exampleValue":"[\"Name\", { field: \"Price\", header: \"Unit Price\", render: (v) => `$$' + '{v}`, width: \"120px\", sortable: true }]","constraints":[{"type":"subset-of-entity-fields","dependsOn":"entityName","description":"When entityName is provided, validates that column field names (strings or ColumnDef.field properties) exist on the specified entity","config":{"allowWildcard":false,"caseSensitive":false},"errorTemplate":"Column field ''{field}'' does not exist on entity ''{entityName}''"}]},{"name":"sorting","type":"boolean","description":"Enable/disable column sorting","required":false,"defaultValue":true},{"name":"paging","type":"boolean","description":"Enable/disable pagination","required":false,"defaultValue":true},{"name":"pageSize","type":"number","description":"Number of rows per page when paging is enabled","required":false,"defaultValue":10},{"name":"showPageSizeChanger","type":"boolean","description":"Show the page size selector when paging is enabled","required":false,"defaultValue":true},{"name":"filtering","type":"boolean","description":"Enable/disable text filtering","required":false,"defaultValue":true},{"name":"highlightFilterMatches","type":"boolean","description":"Highlight matching text when filtering","required":false,"defaultValue":true},{"name":"filterFields","type":"Array<string>","description":"Fields to search when filtering. If not specified, searches all fields","required":false,"constraints":[{"type":"subset-of-entity-fields","dependsOn":"entityName","description":"When entityName is provided, validates that filter field names exist on the specified entity","config":{"allowWildcard":false,"caseSensitive":false},"errorTemplate":"Filter field ''{field}'' does not exist on entity ''{entityName}''"}]},{"name":"filterDebounceTime","type":"number","description":"Debounce time in ms for filter input","required":false,"defaultValue":300},{"name":"selectionMode","type":"''none'' | ''checkbox'' | ''radio'' | ''row''","description":"Row selection mode: ''none'', ''checkbox'', ''radio'', or ''row''","required":false,"defaultValue":"none","possibleValues":["none","checkbox","radio","row"]},{"name":"longTextDisplay","type":"''truncate'' | ''expand'' | ''tooltip'' | ''wrap'' | ''none''","description":"How to display long text that exceeds the threshold: ''truncate'' shows ellipsis, ''expand'' allows click to expand/collapse, ''tooltip'' shows full text on hover, ''wrap'' shows all text with wrapping, ''none'' uses default behavior","required":false,"defaultValue":"expand","possibleValues":["truncate","expand","tooltip","wrap","none"]},{"name":"longTextThreshold","type":"number","description":"Number of characters before long text display behavior is triggered","required":false,"defaultValue":100},{"name":"autoFitColumns","type":"boolean","description":"When true, columns auto-fit to container width. When false, columns use fixed widths with horizontal scrolling","required":false,"defaultValue":true}],"events":[{"name":"rowClick","description":"Fired when a row is clicked. Uses cancelable event pattern - set event.cancel = true to prevent default OpenEntityRecord behavior.","parameters":[{"name":"event","type":"{ record: object, cancel: boolean }","description":"Event object containing the clicked row record and cancel flag. Set cancel = true to prevent default behavior (OpenEntityRecord when entityName and entityPrimaryKeys are provided)."}]},{"name":"selectionChanged","description":"Fired when row selection changes","parameters":[{"name":"selectedRows","type":"Array<object>","description":"Array of selected entity objects"}]},{"name":"pageChanged","description":"Fired when page changes","parameters":[{"name":"pageNumber","type":"number","description":"Current page number (0-based)"},{"name":"visibleRows","type":"Array<object>","description":"Array of entity objects visible on current page"}]},{"name":"sortChanged","description":"Fired when sort configuration changes","parameters":[{"name":"sortState","type":"{column: string, direction: ''asc'' | ''desc''}","description":"Object with ''column'' and ''direction'' properties"}]},{"name":"filterChanged","description":"Fired when filter changes","parameters":[{"name":"filterValue","type":"string","description":"Current filter text"},{"name":"matchingData","type":"Array<object>","description":"Array of all matching entity objects"}]}],"libraries":[{"name":"antd","version":"5.12.0","globalVariable":"antd"}],"dependencies":[],"code":"function DataGrid({\n  data,\n  entityName,\n  entityPrimaryKeys,\n  columns, // Array of column definitions: [{field: ''Name'', header: ''Product Name'', render: fn, width: ''200px'', sortable: true}]\n  sorting = true,\n  paging = true,\n  pageSize = 20,\n  showPageSizeChanger = true,\n  filtering = true,  // Changed default to true\n  highlightFilterMatches = true,\n  filterFields,\n  filterDebounceTime = 300,\n  selectionMode = ''none'',\n  longTextDisplay = ''expand'', // Options: ''truncate'', ''expand'', ''tooltip'', ''wrap'', ''none''\n  longTextThreshold = 100, // Characters before truncation\n  autoFitColumns = true, // Auto-fit columns to container width vs fixed widths with scroll\n  onSelectionChanged,\n  onPageChanged,\n  onSortChanged,\n  onFilterChanged,\n  onRowClick,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  // Always use the MJ unwrapLibraryComponents function to get components from global libraries like antd, this ensures\n  // that various library build/package formats are handled correctly and transparently for your code!\n  const { Table, Input, Space, Typography, Tag, Tooltip } = unwrapLibraryComponents(antd, ''Table'', ''Input'', ''Space'', ''Typography'', ''Tag'', ''Tooltip'');\n  const { Search } = Input;\n  const { Text } = Typography;\n  const [filterText, setFilterText] = React.useState('''');\n  const [debouncedFilter, setDebouncedFilter] = React.useState('''');\n  const [selectedRowKeys, setSelectedRowKeys] = React.useState([]);\n  const [currentPage, setCurrentPage] = React.useState(1);\n  const [currentPageSize, setCurrentPageSize] = React.useState(pageSize);\n  const [sortConfig, setSortConfig] = React.useState(null);\n  const [entityInfo, setEntityInfo] = React.useState(null);\n  const [expandedCells, setExpandedCells] = React.useState({}); // Track which cells are expanded\n\n\n  // Update current page size when pageSize prop changes\n  React.useEffect(() => {\n    setCurrentPageSize(pageSize);\n  }, [pageSize]);\n\n  // Load entity metadata if we have an entity name\n  React.useEffect(() => {\n    if (entityName && utilities?.md?.Entities) {\n      const entity = utilities.md.Entities.find(e => e.Name === entityName);\n      setEntityInfo(entity || null);\n    } else {\n      setEntityInfo(null);\n    }\n  }, [entityName, utilities]);\n  \n  // Helper function to format dates\n  const formatDate = (value) => {\n    if (!value) return ''-'';\n    try {\n      const date = new Date(value);\n      if (isNaN(date.getTime())) return value; // Invalid date, return as-is\n      // Format as YYYY-MM-DD HH:MM\n      return date.toLocaleString(''en-US'', {\n        year: ''numeric'',\n        month: ''2-digit'',\n        day: ''2-digit'',\n        hour: ''2-digit'',\n        minute: ''2-digit''\n      });\n    } catch {\n      return value;\n    }\n  };\n  \n  // Color mapping for common status values (darker for better contrast with white text)\n  const statusColorMap = {\n    // Green colors for positive states\n    active: ''#389e0d'',      // darker green\n    approved: ''#52c41a'',    // green\n    complete: ''#237804'',    // dark green\n    completed: ''#135200'',   // very dark green\n    success: ''#3f6600'',     // olive green\n    successful: ''#5b8c00'',  // light olive\n    enabled: ''#7cb305'',     // lime\n    published: ''#a0d911'',   // light lime\n    \n    // Red colors for negative states\n    inactive: ''#cf1322'',    // darker red\n    rejected: ''#f5222d'',    // red\n    failed: ''#a8071a'',      // dark red\n    error: ''#820014'',       // very dark red\n    disabled: ''#ff4d4f'',    // light red\n    cancelled: ''#ff7875'',   // salmon\n    canceled: ''#ff9c9c'',    // light salmon\n    terminated: ''#873800'',  // burnt orange\n    expired: ''#ad4e00'',     // dark orange\n    deprecated: ''#d4380d'',  // rust orange\n    \n    // Yellow/Orange for pending states\n    pending: ''#d48806'',     // darker orange\n    paused: ''#fa8c16'',      // orange\n    temporary: ''#faad14'',   // gold\n    draft: ''#d4b106'',       // dark gold\n    review: ''#ad8b00'',      // darker gold\n    waiting: ''#ffc53d'',     // light gold\n    \n    // Blue for informational states\n    processing: ''#096dd9'',  // darker blue\n    running: ''#1890ff'',     // blue\n    inprogress: ''#0050b3'',  // dark blue\n    ''in progress'': ''#003a8c'', // very dark blue\n    ''in-progress'': ''#40a9ff'' // light blue\n  };\n  \n  // 50 distinct colors for value lists (excluding colors used in statusColorMap)\n  // These are carefully selected to be visually distinct from each other\n  const fallbackColors = [\n    ''#722ed1'', // purple\n    ''#9254de'', // light purple\n    ''#531dab'', // dark purple\n    ''#391085'', // very dark purple\n    ''#b37feb'', // lavender\n    \n    ''#c41d7f'', // magenta\n    ''#eb2f96'', // pink\n    ''#f759ab'', // light pink\n    ''#9e1068'', // dark magenta\n    ''#780650'', // very dark magenta\n    \n    ''#08979c'', // teal\n    ''#13c2c2'', // cyan\n    ''#006d75'', // dark teal\n    ''#36cfc9'', // light cyan\n    ''#5cdbd3'', // pale cyan\n    \n    ''#1d39c4'', // indigo\n    ''#2f54eb'', // royal blue\n    ''#597ef7'', // periwinkle\n    ''#10239e'', // dark indigo\n    ''#061178'', // navy\n    \n    ''#fa541c'', // vermillion\n    ''#ff7a45'', // coral\n    ''#ff9c6e'', // peach\n    ''#d4380d'', // rust (if not used above)\n    ''#ad2102'', // brick red\n    \n    ''#8c8c8c'', // gray\n    ''#595959'', // dark gray\n    ''#bfbfbf'', // light gray\n    ''#434343'', // charcoal\n    ''#262626'', // near black\n    \n    ''#614700'', // brown\n    ''#874d00'', // tan\n    ''#a8730f'', // amber\n    ''#c79816'', // mustard\n    ''#d4a017'', // goldenrod\n    \n    ''#00474f'', // dark cyan\n    ''#006064'', // petrol\n    ''#004851'', // dark petrol\n    ''#1a535c'', // ocean\n    ''#2c5f2d'', // forest green\n    \n    ''#4a7c59'', // sage\n    ''#6b8e23'', // olive drab\n    ''#556b2f'', // dark olive\n    ''#8fbc8f'', // dark sea green\n    ''#3cb371'', // medium sea green\n    \n    ''#cd5c5c'', // indian red\n    ''#bc8f8f'', // rosy brown\n    ''#daa520'', // goldenrod\n    ''#b8860b'', // dark goldenrod\n    ''#ff6347''  // tomato\n  ];\n  \n  // Get color for a value in a value list - ensures unique colors for all values\n  const getValueColor = (value, possibleValues) => {\n    if (!value) return null;\n    \n    const normalized = value.toString().toLowerCase().trim();\n    \n    // Build a complete color assignment map for this column\n    const colorAssignments = new Map();\n    let nextColorIndex = 0;\n    \n    // First, assign colors to all possible values in order\n    if (possibleValues && Array.isArray(possibleValues)) {\n      possibleValues.forEach(pv => {\n        const pvValue = (pv.Value || pv.Code || '''').toLowerCase().trim();\n        if (pvValue && !colorAssignments.has(pvValue)) {\n          // Check if this value has a predefined color in statusColorMap\n          if (statusColorMap[pvValue]) {\n            colorAssignments.set(pvValue, statusColorMap[pvValue]);\n          } else {\n            // Assign next available fallback color\n            colorAssignments.set(pvValue, fallbackColors[nextColorIndex % fallbackColors.length]);\n            nextColorIndex++;\n          }\n        }\n      });\n    }\n    \n    // Return the assigned color for this value\n    if (colorAssignments.has(normalized)) {\n      return colorAssignments.get(normalized);\n    }\n    \n    // If value wasn''t in possibleValues, check statusColorMap first\n    if (statusColorMap[normalized]) {\n      return statusColorMap[normalized];\n    }\n    \n    // Otherwise assign a fallback color based on hash\n    // This ensures consistency even for unexpected values\n    let hash = 0;\n    for (let i = 0; i < normalized.length; i++) {\n      hash = normalized.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    return fallbackColors[Math.abs(hash) % fallbackColors.length];\n  };\n  \n  // Debounce filter input\n  React.useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedFilter(filterText);\n    }, filterDebounceTime);\n    return () => clearTimeout(timer);\n  }, [filterText, filterDebounceTime]);\n  \n  // Normalize column definitions - support both simple strings and full column definitions\n  // Also handles edge case: LLM might pass Ant Design format (title/dataIndex) instead of DataGrid format (field/header)\n  const normalizedColumns = React.useMemo(() => {\n    if (!columns || columns.length === 0) {\n      // Auto-discover columns from data if none provided\n      if (data && Array.isArray(data) && data.length > 0) {\n        const allKeys = new Set();\n        data.forEach(row => {\n          if (row && typeof row === ''object'') {\n            Object.keys(row).forEach(key => {\n              if (key !== ''key'') {\n                allKeys.add(key);\n              }\n            });\n          }\n        });\n        return Array.from(allKeys).map(key => ({ field: key }));\n      }\n      return [];\n    }\n\n    // Normalize columns to standard format\n    const normalized = columns.map(col => {\n      if (typeof col === ''string'') {\n        // Simple string field name - use defaults\n        return { field: col };\n      } else if (typeof col === ''object'') {\n        // Check if this is Ant Design format (title/dataIndex/key) instead of DataGrid format (field/header)\n        if (!col.field && (col.dataIndex || col.title)) {\n          console.warn(''[DataGrid] Detected Ant Design column format - auto-converting to DataGrid format:'', col);\n          return {\n            field: col.dataIndex || col.title,\n            header: col.title || col.dataIndex,\n            render: col.render,\n            width: col.width,\n            sortable: col.sortable\n          };\n        } else if (col.field) {\n          // Already correct DataGrid format\n          return col;\n        } else {\n          console.warn(''[DataGrid] Invalid column configuration (missing field property):'', col);\n          return null;\n        }\n      } else {\n        console.warn(''[DataGrid] Invalid column configuration:'', col);\n        return null;\n      }\n    }).filter(Boolean);\n\n    // Fallback: If zero valid columns after normalization, auto-discover from data\n    if (normalized.length === 0 && data && Array.isArray(data) && data.length > 0) {\n      console.warn(''[DataGrid] Zero valid columns detected after normalization - falling back to auto-discovery from data'');\n      const allKeys = new Set();\n      data.forEach(row => {\n        if (row && typeof row === ''object'') {\n          Object.keys(row).forEach(key => {\n            if (key !== ''key'') {\n              allKeys.add(key);\n            }\n          });\n        }\n      });\n      return Array.from(allKeys).map(key => ({ field: key }));\n    }\n\n    return normalized;\n  }, [columns, data]);\n\n  // Extract just the field names for filtering and other operations\n  const displayFields = React.useMemo(() => {\n    return normalizedColumns.map(col => col.field);\n  }, [normalizedColumns]);\n  \n  // Build table columns from column definitions with metadata-aware formatting\n  const tableColumns = React.useMemo(() => {\n    return normalizedColumns.map(colDef => {\n      const fieldName = colDef.field;\n\n      // Get field metadata if available\n      const fieldInfo = entityInfo?.Fields?.find(f => f.Name === fieldName);\n      const fieldType = fieldInfo?.Type?.toLowerCase() || '''';\n      const hasValueList = fieldInfo?.ValueListType === ''List'' || fieldInfo?.ValueListType === ''ListOrUserEntry'';\n      const possibleValues = fieldInfo?.EntityFieldValues;\n      \n      \n      // Determine alignment based on field type\n      let align = ''left'';\n      if (fieldType.includes(''int'') || fieldType.includes(''decimal'') || \n          fieldType.includes(''float'') || fieldType.includes(''numeric'') || \n          fieldType.includes(''money'') || fieldType === ''bit'') {\n        align = ''right'';\n      }\n      \n      // Set column width based on field metadata (type and length)\n      // In autoFit mode, we don''t set widths (let table auto-size)\n      // In fixed mode, set proper widths for all columns with horizontal scroll\n      let columnWidth = autoFitColumns ? undefined : 150; // Default width or auto\n      const fieldLength = fieldInfo?.Length;\n      \n      // Determine if this is a long text field based on SQL type\n      // Note: SQL Server returns length = -1 for max fields (varchar(max), nvarchar(max))\n      const isLongTextField = fieldType.includes(''text'') || // text, ntext types\n                              (fieldType.includes(''varchar'') && fieldLength === -1) || // varchar(max) or nvarchar(max)\n                              (fieldType.includes(''char'') && fieldLength === -1) || // char(max) or nchar(max)\n                              (fieldType.includes(''varchar'') && fieldLength && fieldLength > 200) ||\n                              (fieldType.includes(''char'') && fieldLength && fieldLength > 200);\n      \n      \n      // Set appropriate widths based on data type (only when not auto-fitting)\n      if (!autoFitColumns) {\n        if (fieldType.includes(''uniqueidentifier'')) {\n          columnWidth = 280; // GUIDs need space\n        } else if (isLongTextField) {\n          columnWidth = 400; // Generous width for long text fields\n        } else if (fieldType.includes(''varchar'') || fieldType.includes(''char'')) {\n          // Scale width based on field length\n          if (fieldLength && fieldLength <= 50) {\n            columnWidth = Math.min(200, Math.max(100, fieldLength * 3));\n          } else if (fieldLength && fieldLength <= 100) {\n            columnWidth = 250;\n          } else if (fieldLength && fieldLength <= 200) {\n            columnWidth = 300;\n          } else {\n            columnWidth = 350; // Default for varchar without length\n          }\n        } else if (fieldType.includes(''date'') || fieldType.includes(''time'')) {\n          columnWidth = 160;\n        } else if (fieldType === ''bit'') {\n          columnWidth = 80;\n        } else if (fieldType.includes(''int'')) {\n          columnWidth = 100;\n        } else if (fieldType.includes(''decimal'') || fieldType.includes(''numeric'')) {\n          columnWidth = 120;\n        } else if (fieldType.includes(''money'')) {\n          columnWidth = 130;\n        }\n      }\n      \n      // If no metadata available, use default width\n      // We don''t make assumptions based on field names\n      \n      \n      // Enable ellipsis for long text fields\n      const useEllipsis = isLongTextField;\n      \n      // Handle special __mj fields display names\n      // Priority: colDef.header > fieldInfo.DisplayName > default handling\n      let displayName = colDef.header || fieldInfo?.DisplayName || fieldName;\n      if (!colDef.header) {\n        if (fieldName === ''__mj_CreatedAt'') {\n          displayName = ''Created At'';\n        } else if (fieldName === ''__mj_UpdatedAt'') {\n          displayName = ''Updated At'';\n        } else if (fieldName === ''__mj_DeletedAt'') {\n          displayName = ''Deleted At'';\n        }\n      }\n\n      const columnDef = {\n        title: displayName,\n        dataIndex: fieldName,\n        key: fieldName,\n        align: align,\n        width: colDef.width || columnWidth, // Use column-specific width if provided\n        ellipsis: false, // We''ll handle ellipsis manually for click expansion\n        sorter: (colDef.sortable !== undefined ? colDef.sortable : sorting) ? (a, b) => {\n          const valA = a[fieldName];\n          const valB = b[fieldName];\n          if (valA == null) return 1;\n          if (valB == null) return -1;\n          if (typeof valA === ''string'') {\n            return valA.localeCompare(valB);\n          }\n          return valA - valB;\n        } : false,\n        render: (value, record) => {\n          // Check for custom render function first\n          if (colDef.render && typeof colDef.render === ''function'') {\n            return colDef.render(value, record, fieldInfo);\n          }\n\n          // Default handling for null values\n          if (value == null) return ''-'';\n\n          // Create a unique key for this cell\n          const cellKey = `$' + '{record.key || record.ID || record.id}_$' + '{fieldName}`;\n          const isExpanded = expandedCells[cellKey];\n\n          // Format based on field type (default behavior)\n          let displayValue = value;\n          let formattedContent = null;\n          \n          // Handle date/time fields\n          if (fieldType.includes(''date'') || fieldType.includes(''time'')) {\n            displayValue = formatDate(value);\n            formattedContent = displayValue;\n          }\n          // Handle boolean fields\n          else if (fieldType === ''bit'') {\n            displayValue = value ? ''Yes'' : ''No'';\n            formattedContent = displayValue;\n          }\n          // Handle fields with value lists - render as tags\n          else if (hasValueList && possibleValues) {\n            const color = getValueColor(value, possibleValues);\n            formattedContent = (\n              <Tag \n                color={color}\n                style={{ \n                  borderRadius: ''12px'',\n                  fontSize: ''12px'',\n                  padding: ''2px 8px''\n                }}\n              >\n                {value}\n              </Tag>\n            );\n          }\n          // Handle numeric fields with formatting\n          else if (fieldType.includes(''money'')) {\n            displayValue = typeof value === ''number''\n              ? new Intl.NumberFormat(''en-US'', { style: ''currency'', currency: ''USD'' }).format(value)\n              : value;\n            formattedContent = displayValue;\n          }\n          else if (fieldType.includes(''decimal'') || fieldType.includes(''float'')) {\n            displayValue = typeof value === ''number'' \n              ? value.toLocaleString(''en-US'', { maximumFractionDigits: 2 })\n              : value;\n            formattedContent = displayValue;\n          }\n          else if (fieldType.includes(''int'')) {\n            displayValue = typeof value === ''number'' \n              ? value.toLocaleString(''en-US'')\n              : value;\n            formattedContent = displayValue;\n          }\n          else {\n            formattedContent = displayValue;\n          }\n          \n          // Handle long text fields based on longTextDisplay mode\n          if (useEllipsis && typeof displayValue === ''string'' && displayValue.length > longTextThreshold && !hasValueList) {\n            const shouldTruncate = displayValue.length > longTextThreshold;\n            \n            // Mode: truncate - simple ellipsis\n            if (longTextDisplay === ''truncate'') {\n              const truncated = displayValue.substring(0, longTextThreshold) + ''...'';\n              return (\n                <div style={{ whiteSpace: ''nowrap'', overflow: ''hidden'', textOverflow: ''ellipsis'' }}>\n                  {truncated}\n                </div>\n              );\n            }\n            \n            // Mode: tooltip - show full text on hover\n            if (longTextDisplay === ''tooltip'') {\n              const truncated = displayValue.substring(0, longTextThreshold) + ''...'';\n              return (\n                <Tooltip title={displayValue} placement=\"topLeft\">\n                  <div style={{ whiteSpace: ''nowrap'', overflow: ''hidden'', textOverflow: ''ellipsis'' }}>\n                    {truncated}\n                  </div>\n                </Tooltip>\n              );\n            }\n            \n            // Mode: wrap - show all text with wrapping\n            if (longTextDisplay === ''wrap'') {\n              return (\n                <div style={{ whiteSpace: ''normal'', wordBreak: ''break-word'' }}>\n                  {displayValue}\n                </div>\n              );\n            }\n            \n            // Mode: expand (default) - click to expand/collapse\n            if (longTextDisplay === ''expand'') {\n              const shouldTruncate = !isExpanded && displayValue.length > longTextThreshold;\n              const displayText = shouldTruncate \n                ? displayValue.substring(0, longTextThreshold) \n                : displayValue;\n              \n              // Apply highlight for filter matches\n              let finalContent = displayText;\n              if (filtering && highlightFilterMatches && debouncedFilter) {\n                const str = String(displayText);\n                const searchTerm = debouncedFilter.toLowerCase();\n                const index = str.toLowerCase().indexOf(searchTerm);\n                if (index >= 0) {\n                  finalContent = (\n                    <span>\n                      {str.substring(0, index)}\n                      <Text mark>{str.substring(index, index + searchTerm.length)}</Text>\n                      {str.substring(index + searchTerm.length)}\n                    </span>\n                  );\n                }\n              }\n              \n              return (\n                <div \n                  style={{ \n                    cursor: shouldTruncate ? ''pointer'' : ''default'',\n                    whiteSpace: isExpanded ? ''normal'' : ''nowrap'',\n                    wordBreak: isExpanded ? ''break-word'' : ''normal''\n                  }}\n                  onClick={() => {\n                    if (displayValue.length > longTextThreshold) {\n                      setExpandedCells(prev => ({\n                        ...prev,\n                        [cellKey]: !prev[cellKey]\n                      }));\n                    }\n                  }}\n                >\n                  {finalContent}\n                  {shouldTruncate && (\n                    <Text type=\"secondary\" style={{ marginLeft: 2 }}>\n                      ... <Text type=\"link\">[show more]</Text>\n                    </Text>\n                  )}\n                  {isExpanded && displayValue.length > longTextThreshold && (\n                    <Text type=\"link\" style={{ marginLeft: 4 }}>\n                      [show less]\n                    </Text>\n                  )}\n                </div>\n              );\n            }\n            \n            // Mode: none - no special handling\n            // Falls through to regular display\n          }\n          \n          // Apply highlight for filter matches (for non-expandable content)\n          if (filtering && highlightFilterMatches && debouncedFilter && !hasValueList) {\n            const str = String(displayValue);\n            const index = str.toLowerCase().indexOf(debouncedFilter.toLowerCase());\n            if (index >= 0) {\n              return (\n                <span>\n                  {str.substring(0, index)}\n                  <Text mark>{str.substring(index, index + debouncedFilter.length)}</Text>\n                  {str.substring(index + debouncedFilter.length)}\n                </span>\n              );\n            }\n          }\n          \n          return formattedContent;\n        }\n      };\n\n      // Only add sortOrder if explicitly provided (for controlled sorting)\n      // If undefined, Ant Design uses uncontrolled sorting with the sorter function\n      if (colDef.sortOrder !== undefined) {\n        columnDef.sortOrder = colDef.sortOrder;\n      }\n\n      return columnDef;\n    });\n  }, [normalizedColumns, entityInfo, sorting, filtering, highlightFilterMatches, debouncedFilter, expandedCells]);\n  \n  // Filter data based on search term\n  // Handles null/undefined data gracefully and returns appropriate defaults\n  const filteredData = React.useMemo(() => {\n    // If data is null/undefined, return empty array\n    if (!data || !Array.isArray(data)) {\n      return [];\n    }\n    \n    // If filtering is disabled or no filter text, return original data\n    if (!filtering || !debouncedFilter) {\n      return data;\n    }\n    \n    // Determine which fields to search - use specified fields or all display fields\n    const searchFields = filterFields || displayFields;\n    const searchTerm = debouncedFilter.toLowerCase();\n    \n    // Filter rows that match the search term in any of the specified fields\n    return data.filter(row => {\n      // Skip null/undefined rows\n      if (!row || typeof row !== ''object'') return false;\n      \n      return searchFields.some(field => {\n        const value = row[field];\n        if (value == null) return false;\n        return String(value).toLowerCase().includes(searchTerm);\n      });\n    });\n  }, [data, displayFields, filtering, filterFields, debouncedFilter]);\n  \n  // Handle filter change\n  React.useEffect(() => {\n    if (onFilterChanged && filtering) {\n      onFilterChanged({ filterValue: debouncedFilter, matchingData: filteredData });\n    }\n  }, [debouncedFilter, filteredData, onFilterChanged, filtering]);\n  \n  // Selection configuration\n  const rowSelection = selectionMode !== ''none'' ? {\n    type: selectionMode === ''radio'' ? ''radio'' : ''checkbox'',\n    selectedRowKeys,\n    onChange: (keys, rows) => {\n      setSelectedRowKeys(keys);\n      if (onSelectionChanged) {\n        onSelectionChanged({ selectedRows: rows });\n      }\n    },\n    ...(selectionMode === ''row'' ? {\n      onSelect: (record) => {\n        const key = record.key || record.ID || record.id;\n        const isSelected = selectedRowKeys.includes(key);\n        const newKeys = isSelected \n          ? selectedRowKeys.filter(k => k !== key)\n          : [...selectedRowKeys, key];\n        setSelectedRowKeys(newKeys);\n        if (onSelectionChanged) {\n          const rows = filteredData.filter(r => \n            newKeys.includes(r.key || r.ID || r.id)\n          );\n          onSelectionChanged({ selectedRows: rows });\n        }\n      }\n    } : {})\n  } : undefined;\n  \n  // Pagination configuration\n  const pagination = paging ? {\n    current: currentPage,\n    pageSize: currentPageSize,\n    total: filteredData.length,\n    showSizeChanger: showPageSizeChanger,\n    pageSizeOptions: [''5'', ''10'', ''20'', ''50'', ''100''],\n    showTotal: (total, range) => `$' + '{range?.[0] ?? 0}-$' + '{range?.[1] ?? 0} of $' + '{total}`,\n    onChange: (page, newPageSize) => {\n      setCurrentPage(page);\n      if (newPageSize !== currentPageSize) {\n        setCurrentPageSize(newPageSize);\n      }\n      if (onPageChanged) {\n        const startIdx = (page - 1) * (newPageSize || currentPageSize);\n        const endIdx = Math.min(startIdx + (newPageSize || currentPageSize), filteredData.length);\n        onPageChanged({\n          pageNumber: page - 1,\n          pageSize: newPageSize || currentPageSize,\n          visibleRows: filteredData.slice(startIdx, endIdx)\n        });\n      }\n    },\n    onShowSizeChange: (current, size) => {\n      setCurrentPageSize(size);\n      setCurrentPage(1); // Reset to first page when changing page size\n      if (onPageChanged) {\n        const endIdx = Math.min(size, filteredData.length);\n        onPageChanged({\n          pageNumber: 0,\n          pageSize: size,\n          visibleRows: filteredData.slice(0, endIdx)\n        });\n      }\n    }\n  } : false;\n  \n  // Handle table sort change\n  const handleTableChange = (pag, filters, sorter) => {\n    if (sorter && onSortChanged) {\n      setSortConfig(sorter);\n\n      // Three-state sorting: ascend -> descend -> undefined (clear)\n      if (sorter.order) {\n        // Valid sort order (ascend or descend)\n        onSortChanged({\n          sortState: {\n            column: sorter.field,\n            direction: sorter.order === ''ascend'' ? ''asc'' : ''desc''\n          }\n        });\n      } else if (sorter.field) {\n        // sorter.order is undefined - user clicked third time to clear sort\n        onSortChanged({\n          sortState: {\n            column: sorter.field,\n            direction: null // Signal to clear sort\n          }\n        });\n      }\n    }\n  };\n\n  // Handle row click with cancelable event pattern\n  const handleRowClick = (record) => {\n    // Create event object with cancel property (cancelable event pattern)\n    const rowClickEvent = {\n      record: record,\n      cancel: false\n    };\n\n    // Always call onRowClick first if provided (allows custom handling + optional cancellation)\n    if (onRowClick) {\n      onRowClick(rowClickEvent);\n    }\n\n    // If the event was cancelled, don''t execute default behavior\n    if (rowClickEvent.cancel) {\n      return;\n    }\n\n    // Default behavior: If entityName and entityPrimaryKeys are provided, open the record\n    if (entityName && entityPrimaryKeys && Array.isArray(entityPrimaryKeys) && entityPrimaryKeys.length > 0 && callbacks?.OpenEntityRecord) {\n      try {\n        // Build the key-value pairs for OpenEntityRecord\n        const keyValues = entityPrimaryKeys.map(fieldName => ({\n          FieldName: fieldName,\n          Value: record[fieldName]\n        }));\n\n        // Check that all primary key values exist\n        const hasAllKeys = keyValues.every(kv => kv.Value != null);\n        if (hasAllKeys) {\n          callbacks.OpenEntityRecord(entityName, keyValues);\n        } else {\n          console.warn(''[DataGrid] Cannot open record: missing primary key values'', {\n            entityName,\n            entityPrimaryKeys,\n            record\n          });\n        }\n      } catch (err) {\n        console.error(''[DataGrid] Error opening record:'', err);\n      }\n    }\n  };\n  \n  // Add keys to data for row selection\n  // React tables need a unique key for each row to track selection state\n  const dataWithKeys = React.useMemo(() => {\n    // Handle empty/null data gracefully\n    if (!filteredData || !Array.isArray(filteredData)) {\n      return [];\n    }\n    \n    return filteredData.map((row, index) => ({\n      ...row,\n      // Use existing key, ID fields, or fall back to index\n      key: row?.key || row?.ID || row?.id || index\n    }));\n  }, [filteredData]);\n  \n  return (\n    <div className=\"data-grid-component\" style={{ width: ''100%'' }}>\n      <style>{`\n        .data-grid-component .ant-table-wrapper,\n        .data-grid-component .ant-table,\n        .data-grid-component .ant-table-tbody,\n        .data-grid-component .ant-table-row,\n        .data-grid-component .ant-table-cell,\n        .data-grid-component .ant-table-tbody > tr {\n          animation: none !important;\n          transition: none !important;\n        }\n        .data-grid-component .ant-table-tbody > tr.ant-table-row {\n          animation: none !important;\n        }\n        .data-grid-component * {\n          animation-duration: 0s !important;\n          transition-duration: 0s !important;\n        }\n      `}</style>\n      {filtering && (\n        <Space direction=\"vertical\" style={{ width: ''100%'', marginBottom: 16 }}>\n          <div style={{ position: ''relative'' }}>\n            <Search\n              placeholder={`Search in $' + '{filterFields ? filterFields.join('', '') : ''all fields''}`}\n              value={filterText}\n              onChange={e => setFilterText(e.target.value)}\n              allowClear\n              onClear={() => setFilterText('''')}\n              style={{ width: ''100%'' }}  // Full width to match grid\n            />\n            <style>{`\n              .data-grid-component .ant-btn.ant-input-search-button {\n                margin-top: -1px;\n              }\n            `}</style>\n          </div>\n          {debouncedFilter && (\n            <Text type=\"secondary\">\n              Found {filteredData.length} matching records\n            </Text>\n          )}\n        </Space>\n      )}\n      \n      <Table\n        columns={tableColumns}\n        dataSource={dataWithKeys}\n        rowSelection={rowSelection}\n        pagination={pagination}\n        onChange={handleTableChange}\n        scroll={autoFitColumns ? undefined : { x: ''max-content'' }}  // Enable horizontal scrolling only when not auto-fitting\n        loading={data === null}  // Only show loading when data is explicitly null (not yet loaded)\n        locale={{\n          emptyText: `No $' + '{entityName || ''records''} found`\n        }}\n        size=\"middle\"\n        onRow={(record) => ({\n          onClick: () => handleRowClick(record),\n          style: {\n            cursor: (onRowClick || (entityName && entityPrimaryKeys && callbacks?.OpenEntityRecord)) ? ''pointer'' : ''default''\n          }\n        })}\n      />\n    </div>\n  );\n} ","exampleUsage":"// Simple column configuration (backward compatible)\n<DataGrid\n  entityName=\"Products\"\n  data={products}\n  columns={[''Name'', ''SKU'', ''Price'', ''Category'', ''InStock'']}\n  onRowClick={handleRowClick}\n/>\n\n// Advanced column configuration with custom rendering\n<DataGrid\n  entityName=\"Products\"\n  data={products}\n  columns={[\n    { field: ''Name'', header: ''Product Name'', width: ''200px'' },\n    { \n      field: ''Price'',\n      header: ''Unit Price'',\n      render: (value) => (\n        <span style={{ fontWeight: ''bold'', color: ''#059669'' }}>\n          {value >= 1000 ? `$$' + '{(value/1000).toFixed(1)}K` : `$$' + '{value}`}\n        </span>\n      ),\n      width: ''120px'',\n      sortable: true\n    },\n    {\n      field: ''InStock'',\n      header: ''Availability'',\n      render: (value) => (\n        <span style={{ \n          padding: ''2px 8px'',\n          borderRadius: ''12px'',\n          backgroundColor: value ? ''#D1FAE5'' : ''#FEE2E2'',\n          color: value ? ''#065F46'' : ''#991B1B''\n        }}>\n          {value ? ''In Stock'' : ''Out of Stock''}\n        </span>\n      ),\n      width: ''130px'',\n      sortable: false\n    },\n    ''Category''  // Simple string still works\n  ]}\n  sorting={true}\n  paging={true}\n  pageSize={20}\n  filtering={true}\n  filterFields={[''Name'', ''SKU'', ''Category'']}\n  selectionMode=\"none\"\n  onRowClick={handleRowClick}\n  onSelectionChanged={handleSelection}\n  onPageChanged={handlePageChange}\n  onSortChanged={handleSortChange}\n  onFilterChanged={handleFilterChange}\n/>"}'
SET
  @FunctionalRequirements_5a3f9096 = N'## Purpose
Display tabular data with sorting, filtering, paging, and row selection. Data-agnostic component that accepts any array of objects via props (you manage data loading).

## Data Requirements
- **Input**: Array of objects passed via `data` prop
- **Optional**: `entityName` for metadata-driven formatting
- **Optional**: `entityPrimaryKeys` array for built-in record opening on row click

## Column Configuration
**Two modes supported:**

1. **Simple mode** (backward compatible):
   - String array of field names: `[''Name'', ''SKU'', ''Price'']`
   - Uses smart defaults from metadata (DisplayName, Type for formatting/alignment)

2. **Advanced mode** (full control):
   - ColumnDef objects: `{field: ''Price'', header: ''Unit Price'', render: (value, record, fieldInfo) => JSX, width: ''120px'', sortable: true}`
   - Custom render functions receive value, full record, and field metadata
   - Per-column width and sortable overrides

**Auto-detection**: If `columns` prop omitted, discovers fields from first data record (filters out ''key'' field).

## Metadata-Aware Formatting
When `entityName` provided, uses entity metadata for intelligent display:

- **Dates**: Locale format with hour/minute (e.g., "Jan 15, 2024, 3:30 PM")
- **Booleans**: "Yes" / "No" text
- **Value Lists**: Colored Tag components with smart color assignment
  - 50+ predefined status colors (active→green, pending→orange, failed→red, processing→blue)
  - 50 fallback colors for other values
  - Consistent color per value across dataset
- **Money**: Intl.NumberFormat with $USD currency
- **Decimals/Floats**: 2 decimal places with comma thousands separator
- **Integers**: Comma thousands separator
- **Right-alignment**: Numbers, money, bit fields automatically right-aligned

## Long Text Handling
Five modes for fields exceeding `longTextThreshold` (default 200 chars):

1. **truncate**: Substring + ''...'' with ellipsis
2. **expand** (default): Click to toggle ''show more/less'' (tracks expanded state per cell)
3. **tooltip**: Full text on hover with Ant Tooltip
4. **wrap**: Word-break normal, shows all text with wrapping
5. **none**: Default browser behavior

## Features

### Sorting
- Column-level sorting with string/number comparison
- Click header to sort ascending/descending
- Global `sorting` prop enables/disables all columns
- Per-column `sortable` override in ColumnDef
- Fires `sortChanged` event: `{column: string, direction: ''asc'' | ''desc''}`

### Filtering
- Global text search across specified fields or all columns
- Debounced input (default 300ms) prevents excessive re-renders
- Highlight matches with yellow background
- Shows "Found N matching records" count
- Configurable `filterFields` array to limit search scope
- Fires `filterChanged` event: `{filterValue: string, matchingData: Array<object>}`

### Pagination
- Configurable page size (default 10, options: 5/10/20/50/100)
- Shows "X-Y of Z" range display
- Optional page size changer dropdown
- Fires `pageChanged` event: `{pageNumber: number (0-based), visibleRows: Array<object>}`

### Row Selection
Four modes via `selectionMode` prop:

1. **none** (default): No selection
2. **checkbox**: Multi-select with checkboxes
3. **radio**: Single-select with radio buttons
4. **row**: Click anywhere on row to toggle selection

Fires `selectionChanged` event with full selected record objects.

### Row Click & Record Opening
**Priority order**:

1. **If `onRowClick` provided**: Fires event with record, overrides default behavior
2. **Else if `entityName` + `entityPrimaryKeys` + `callbacks.OpenEntityRecord` exist**:
   - Extracts primary key values from record using `entityPrimaryKeys` field names
   - Validates all key values exist (not null)
   - Calls `callbacks.OpenEntityRecord(entityName, keyValues)`
   - Use for 1:1 record-to-row scenarios only (not aggregated data)

### Column Widths
**Auto-fit mode** (`autoFitColumns={true}`, default):
- Columns auto-size to fill container width
- No horizontal scrolling

**Fixed mode** (`autoFitColumns={false}`):
- Intelligent width based on SQL type and field length:
  - GUIDs: 280px
  - Long text (varchar(max), nvarchar(max), length=-1, or >200 chars): 400px
  - Variable char fields: Scale by length (50→100-200px, 100→250px, 200→300px)
  - Dates: 160px
  - Bit: 80px
  - Int: 100px
  - Decimal/Numeric: 120px
  - Money: 130px
- Horizontal scrolling enabled
- Per-column `width` override in ColumnDef

## Visual States

### Loading
Shows spinner when `data === null` (use null for initial load, not empty array).

### Empty
Shows "No {entityName || ''records''} found" message for empty datasets.

### No Animations
CSS overrides disable all Ant Design animations to prevent render loop detection issues.

## Events

1. **rowClick**: `(event: {record: object, cancel: boolean}) => void`
   - Fired on row click with cancelable pattern
   - Set `event.cancel = true` to prevent default OpenEntityRecord behavior

2. **selectionChanged**: `({selectedRows: Array<object>}) => void`
   - Fired when row selection changes

3. **pageChanged**: `({pageNumber: number, visibleRows: Array<object>}) => void`
   - Fired on page change with 0-based page number

4. **sortChanged**: `({sortState: {column: string, direction: ''asc'' | ''desc''}}) => void`
   - Fired when column sort changes

5. **filterChanged**: `({filterValue: string, matchingData: Array<object>}) => void`
   - Fired when filter text changes with all matching records
'
SET
  @TechnicalDesign_5a3f9096 = N'## Architecture
React functional component wrapping Ant Design Table 5.12.0 with MemberJunction metadata enhancements. **Note**: This describes internal implementation details. The public API uses `{field, header, render}`, not Ant Design''s `{dataIndex, title, key}`.

## State Management (React Hooks)
- **filterText** (string): Raw search input
- **debouncedFilter** (string): Processed search term after 300ms delay
- **selectedRowKeys** (array): Row selection state
- **currentPage** (number): Pagination state
- **sortConfig** (object): Sort state `{column, direction}`
- **entityInfo** (object): Entity metadata from `utilities.md.Entities`
- **expandedCells** (object): Tracks expanded long-text cells `{recordKey_fieldName: boolean}`

## Initialization

### Library Unwrapping
Uses `unwrapLibraryComponents(antd, ''Table'', ''Input'', ''Space'', ''Typography'', ''Tag'', ''Tooltip'')` to handle various Ant Design package formats (ESM/CJS/UMD).

### Metadata Loading (useEffect)
If `entityName` provided:
- Loads entity from `utilities.md.Entities`
- Stores field metadata (Type, Length, DisplayName, ValueListType, EntityFieldValues)
- Else sets `entityInfo = null`, uses basic type detection

## Column Processing Pipeline (useMemo)

### 1. Normalization
Accepts `columns` as:
- **String array**: `[''Name'', ''Price'']` → Normalizes to ColumnDef format
- **ColumnDef objects**: `{field, header, render, width, sortable}`
- **Auto-detection**: If omitted, discovers from `Object.keys(data[0])`, excludes ''key'' field

Handles invalid configs with console warnings.

### 2. Column Building
Converts ColumnDef format (`{field, header}`) to Ant Design Table format internally:
- **Alignment**: Based on SQL type (int/decimal/float/money/bit → right, others → left)
- **Width calculation** (when `autoFitColumns=false`):
  - GUIDs: 280px
  - Long text (text type OR varchar(max) with length=-1 OR varchar >200): 400px
  - Variable char: Scales by length (≤50→100-200px, ≤100→250px, ≤200→300px, else→350px)
  - Dates: 160px
  - Bit: 80px
  - Int: 100px
  - Decimal/numeric: 120px
  - Money: 130px
- **Override**: `colDef.width` if provided
- **Sorter**: Creates function if `sortable` (string localeCompare, number subtraction, null handling)
- **Render**: Priority: (1) Custom `colDef.render`, (2) Metadata-driven default

### 3. Field Rendering Logic
For each cell:
1. **Custom render**: If provided, call with `(value, record, fieldInfo)`
2. **Null handling**: Return ''-''
3. **Cell key**: Create unique key `$' + '{record.key/ID/id}_$' + '{fieldName}` for expansion tracking
4. **Type-based formatting**:
   - **date/time**: formatDate with locale (hour/minute)
   - **bit**: Yes/No text
   - **Value lists**: Tag component with `getValueColor(value, entityInfo)`
   - **money**: Intl.NumberFormat USD currency
   - **decimal/float**: toLocaleString with 2 decimals
   - **int**: toLocaleString with commas
5. **Long text handling** (if field is long text type AND length > `longTextThreshold`):
   - **truncate**: substring + ''...''
   - **expand**: Toggle on click, shows ''show more/less'' links, tracks state in `expandedCells`
   - **tooltip**: Ant Tooltip wrapper
   - **wrap**: whiteSpace:normal, wordBreak:break-word
   - **none**: default
6. **Filter highlighting**: If `debouncedFilter` exists, wrap matches in `Typography.Text mark`

## Value List Coloring System

### statusColorMap
50+ predefined colors for common statuses:
- active → #389e0d (green)
- pending → #d48806 (orange)
- failed → #a8071a (red)
- processing → #096dd9 (blue)
- etc.

### fallbackColors
Array of 50 distinct colors (purple, magenta, teal, indigo, vermillion, brown, etc.)

### getValueColor Function
1. Build `colorAssignments` Map
2. Iterate `possibleValues` from entity metadata
3. Assign `statusColorMap` color if exists, else next `fallbackColor`
4. Ensures consistent colors per value across dataset
5. Unknown values: Check `statusColorMap` first, then hash-based fallback index

## Filter Debouncing (useEffect)
- `setTimeout` with `filterDebounceTime` (300ms default)
- Updates `debouncedFilter` after delay
- Cleanup clears timer on unmount or input change

## Filtered Data (useMemo)
If `filtering=false` or `!debouncedFilter`:
- Return original `data`

Else:
- Determine `searchFields` (`filterFields` prop or all display fields)
- Filter rows where any searchField value includes searchTerm (case-insensitive)
- Handle null/undefined gracefully

## Filter Change Effect (useEffect)
Fires `onFilterChanged` event with `{filterValue: debouncedFilter, matchingData: filteredData}`

## Row Selection Config
If `selectionMode !== ''none''`:
- Creates `rowSelection` object with:
  - type: ''radio'' or ''checkbox''
  - selectedRowKeys state
  - onChange handler (updates state, fires `onSelectionChanged`)
- For ''row'' mode: Adds `onSelect` handler

## Pagination Config
If `paging=true`:
- Creates pagination object:
  - current: `currentPage`
  - pageSize: From prop
  - total: `filteredData.length`
  - showSizeChanger: false
  - showTotal: Formatter function
  - onChange: Updates `currentPage`, fires `onPageChanged` with 0-based page number and visible rows slice

## Sort Handling
`handleTableChange` extracts sorter from Ant Table onChange:
- Updates `sortConfig` state
- Fires `onSortChanged` with `{sortState: {column: sorter.field, direction: sorter.order === ''ascend'' ? ''asc'' : ''desc''}}`

## Row Click Handling
`handleRowClick` with priority logic:
1. If `onRowClick` provided: Call with record and return early (custom handler overrides)
2. Else if `entityName` AND `entityPrimaryKeys` AND `callbacks.OpenEntityRecord` exist:
   - Maps `entityPrimaryKeys` to key-value pairs `[{FieldName, Value}]`
   - Extracts values from record
   - Checks all key values exist (!=null)
   - If yes: Calls `callbacks.OpenEntityRecord(entityName, keyValues)`
   - Else: Logs warning
3. Wrapped in try/catch with error logging

## Data with Keys (useMemo)
Maps `filteredData` to add unique `key` prop:
- Uses existing key/ID/id or falls back to index
- Required for Ant Design Table row selection

## CSS Style Injection
Disables all Ant Design animations to prevent render loop detection:
```css
.data-grid-component * {
  animation: none !important;
  transition: none !important;
  animation-duration: 0s !important;
  transition-duration: 0s !important;
}
```

## Render Output
Wrapper div with `.data-grid-component` class:

1. **Search UI** (if `filtering=true`):
   - Ant Input.Search with value/onChange/allowClear/onClear
   - Placeholder shows filterFields or ''all fields''
   - Full width style
   - Text showing "Found N matching records" if `debouncedFilter` exists

2. **Ant Table**:
   - columns: `tableColumns`
   - dataSource: `dataWithKeys`
   - rowSelection: If enabled
   - pagination: If enabled
   - onChange: `handleTableChange` for sort
   - scroll: `{x: ''max-content''}` only if `autoFitColumns=false`
   - loading: true only when `data===null`
   - locale: emptyText uses `entityName` if provided
   - size: ''middle''
   - onRow: Returns object with onClick handler and cursor style

## Performance Optimizations
- useMemo for column building, filtered data, data with keys
- useCallback for event handlers (prevents re-renders)
- Debounced filter input (prevents excessive re-renders)
- CSS transitions disabled (prevents render loop)
'
SET
  @FunctionalRequirementsVector_5a3f9096 = N'[-0.00903619360178709,0.04143587499856949,-0.00923633947968483,-0.04780317470431328,0.027811221778392792,0.0048410468734800816,0.03642178699374199,0.04985997453331947,-0.06736128032207489,-0.020510777831077576,-0.05039774626493454,0.06008920818567276,0.023450126871466637,0.12474983185529709,0.006787517573684454,-0.04087086394429207,-0.016716955229640007,0.06078668683767319,-0.016535848379135132,0.008469452150166035,0.04042700678110123,-0.045575667172670364,0.006576246581971645,-0.0476686991751194,-0.009057799354195595,-0.028031719848513603,-0.0486220084130764,-0.006471408996731043,0.009857283905148506,-0.04270685464143753,-0.016598926857113838,0.044254403561353683,-0.047859545797109604,-0.006179576739668846,0.0000024358148493774934,-0.051089704036712646,-0.09626631438732147,-0.006191909313201904,-0.00787918921560049,-0.0217491053044796,0.0308680459856987,-0.03720829635858536,0.03912820294499397,-0.012822473421692848,-0.019848953932523727,-0.11112155020236969,-0.033880189061164856,0.09170790016651154,0.0386381521821022,-0.028814004734158516,0.006850795820355415,-0.059626128524541855,0.005184083245694637,0.005251591093838215,0.030027247965335846,0.030135495588183403,-0.005974156316369772,0.0066333250142633915,0.039957042783498764,-0.006004692986607552,-0.0054537467658519745,-0.005901155527681112,0.0054755425080657005,-0.0549941211938858,0.051978085190057755,0.006447524763643742,-0.014695131219923496,-0.002459854120388627,-0.0012463106540963054,0.035073693841695786,0.05601658672094345,-0.04845138639211655,0.02599470131099224,-0.018712759017944336,-0.03292369842529297,-0.04626306891441345,-0.03233296051621437,0.010892996564507484,0.010191326960921288,0.014247647486627102,0.02478654682636261,0.03812622278928757,-0.027565153315663338,0.01059834472835064,0.012928450480103493,0.03980950266122818,-0.005400788504630327,-0.03848548233509064,-0.04963653162121773,-0.02707626484334469,0.0026125283911824226,-0.0563383623957634,0.021671190857887268,0.016881149262189865,-0.0284099243581295,-0.004870906006544828,0.030262310057878494,-0.1349133551120758,0.04312516376376152,-0.05497743934392929,0.027931924909353256,0.04935406148433685,0.012698083184659481,0.031003493815660477,0.016946954652667046,0.005206501577049494,-0.016247760504484177,-0.019984407350420952,-0.0007623575511388481,0.009171809069812298,0.02842007204890251,-0.015018044039607048,0.0013374458067119122,0.018092080950737,-0.029765473678708076,0.06940905004739761,-0.034380603581666946,-0.02622065879404545,-0.041263725608587265,0.041477613151073456,0.061580877751111984,-0.007069037761539221,0.02898583374917507,0.0030763386748731136,0.035549622029066086,0.0022551289293915033,-0.036293331533670425,-0.08018269389867783,0.013668583706021309,-0.010197271592915058,0.005211541894823313,0.010387386195361614,0.061363231390714645,-0.017972299829125404,0.028349075466394424,0.05616328865289688,-0.007209066301584244,0.001456727390177548,-0.0032582683488726616,-0.006424012593924999,-0.012749884277582169,0.0333113931119442,0.00454331049695611,0.0478086844086647,0.004138781689107418,0.016547217965126038,0.005494565702974796,0.02072303183376789,-0.01316202525049448,0.012758418917655945,0.03551457077264786,0.023343820124864578,-0.008002009242773056,0.017671192064881325,-0.0005463482812047005,0.00997716374695301,-0.002957641612738371,-0.01998770795762539,0.02701151929795742,-0.00894174911081791,0.013397532515227795,0.00790940597653389,0.018261635676026344,-0.0015372486086562276,-0.03007630631327629,0.012636059895157814,-0.0995047390460968,-0.0007998297805897892,0.015076417475938797,0.005971089471131563,-0.016921814531087875,-0.07229948043823242,-0.003328164806589484,0.008536865003407001,0.044364094734191895,-0.047833576798439026,0.05669110640883446,-0.02687930129468441,-0.00037373503437265754,0.024252712726593018,0.052254728972911835,-0.08047715574502945,0.054712921380996704,0.001520110759884119,0.05173360928893089,-0.031078951433300972,-0.02583121694624424,0.03810380399227142,0.016651250422000885,-0.02706887573003769,-0.01001939456909895,-0.02722865715622902,0.0009837214602157474,0.02660493366420269,-0.014948590658605099,-0.004339068196713924,-0.03406842425465584,-0.03909477964043617,0.018476983532309532,0.008795281872153282,-0.003737865714356303,-0.020075254142284393,0.0702696368098259,0.03237329050898552,0.02118552289903164,-0.026881977915763855,-0.045962024480104446,-0.021041756495833397,0.01960115320980549,-0.012313785962760448,-0.019855324178934097,-0.02414139173924923,-0.027879299595952034,-0.020713141188025475,0.013181494548916817,0.039749350398778915,0.024616146460175514,-0.01625211164355278,-0.03519846126437187,-0.001039663446135819,-0.01776532642543316,-0.011164088733494282,0.06385296583175659,-0.0014478304656222463,0.1335703432559967,0.005278528667986393,0.023641914129257202,0.0029975357465445995,0.03254140168428421,-0.0011740414192900062,0.03481929004192352,-0.006048545707017183,0.026476126164197922,0.030613478273153305,0.05696122720837593,0.02424127794802189,0.011854504235088825,0.07577846199274063,0.0014060840476304293,0.10476404428482056,-0.010008870624005795,-0.05827632546424866,-0.022496813908219337,-0.038447216153144836,-0.026662161573767662,0.019963625818490982,-0.06938259303569794,0.04185200855135918,-0.005696065723896027,-0.027747733518481255,0.03674127534031868,0.006803051568567753,0.06344522535800934,-0.002120635937899351,0.000146573074744083,-0.07015687227249146,-0.0095283268019557,0.03871603310108185,-0.03301470726728439,0.06293943524360657,0.0007191560580395162,0.009314867667853832,-0.00989976990967989,-0.026799671351909637,0.024244725704193115,-0.030031319707632065,0.08085482567548752,-0.007898330688476562,-0.040798965841531754,0.03392302989959717,-0.05279836058616638,0.04443694278597832,0.009734274819493294,-0.01935669034719467,-0.03839981555938721,0.008967282250523567,0.032214678823947906,0.05462991073727608,-0.012670379132032394,0.02749723568558693,-0.02047969400882721,-0.007952265441417694,-0.017684809863567352,0.013619276694953442,-0.015250809490680695,0.008689426816999912,-0.009739707224071026,-0.0024842440616339445,0.011346578598022461,-0.043224748224020004,0.003920350223779678,0.04748180881142616,0.05424092710018158,-0.034830477088689804,-0.030982911586761475,0.0031063600908964872,0.022770961746573448,0.03946365788578987,-0.028363220393657684,-0.030824678018689156,0.00014552968787029386,-0.014843866229057312,0.00201433920301497,0.00558535335585475,-0.0012503268662840128,0.11420811712741852,0.009416638873517513,0.028357679024338722,0.03119921125471592,0.09913946688175201,-0.02680911123752594,0.021365320309996605,0.0011638730065897107,-0.051578447222709656,0.03866744413971901,0.023553768172860146,0.016104532405734062,0.012817898765206337,0.015674829483032227,0.0828908160328865,0.00364608783274889,-0.0002737796457950026,0.0015006146859377623,-0.03412921354174614,-0.03229633718729019,0.02874760329723358,0.0038695717230439186,-0.04850134626030922,-0.004936300218105316,0.027206527069211006,0.00518047297373414,-0.0881592407822609,0.06163201108574867,0.0077722277492284775,0.022022178396582603,-0.00467497855424881,0.0005763479275628924,0.046221017837524414,0.012205230072140694,-0.013507937081158161,0.004154669586569071,-0.018393395468592644,-0.0005976762040518224,-0.02474929392337799,-0.010576199740171432,-0.046845272183418274,-0.027170944958925247,0.023350173607468605,-0.07294410467147827,0.014351311139762402,0.01646566204726696,0.0594477578997612,0.029070138931274414,-0.013664936646819115,0.017935283482074738,0.036158084869384766,-0.05388348922133446,-0.008442465215921402,-0.040352605283260345,0.02159048616886139,0.03793587535619736,0.02723473310470581,0.025973325595259666,0.006015812512487173,-0.025280334055423737,0.02555774338543415,0.03675064817070961,0.018000779673457146,-0.016395581886172295,-0.04451536387205124,-0.049032099545001984,-0.020075878128409386,0.016490362584590912,0.018425114452838898,-0.03222296014428139,-0.009696822613477707,0.002626064931973815,0.02413127012550831,0.003355405991896987,0.004405862186104059,0.0672612339258194,-0.04640800878405571,0.04881972074508667,0.011686972342431545,0.04878366366028786,-0.02794683538377285,-0.023270754143595695,-0.03357173129916191,-0.04288586974143982,-0.021137714385986328,-0.01730656996369362,0.027729397639632225,-0.04570436477661133,-0.053571123629808426,-0.014112812466919422,-0.012268799357116222,0.017629003152251244,0.035859476774930954,0.053397927433252335,0.013949602842330933,-0.02881487086415291,0.04997989535331726,-0.012167663313448429,0.006229474674910307,0.043976835906505585,-0.02033538930118084,0.07025507837533951,0.03191109001636505,0.01519013848155737,-0.023662881925702095,-0.03728858008980751,0.05441047623753548,-0.06371379643678665,-0.02402697131037712,-0.05481838807463646,0.002121618017554283,-0.022757994011044502,-0.04532352834939957,-0.013630001805722713,0.07015097141265869,-0.02244619093835354,-0.01990308053791523,0.01996470056474209,0.009961837902665138,0.027318783104419708,-0.007875213399529457,-0.033150143921375275,-0.034090202301740646,-0.0007825072971172631,-0.0020815564785152674,-0.02680792473256588,0.014167502522468567,0.018564021214842796,-0.01343995425850153,-0.02050194889307022,0.01067946944385767,0.018052691593766212,-0.00859086588025093,0.04643592610955238,-0.03388327732682228,-0.016661101952195168,-0.004431020002812147,0.028705809265375137,0.015787404030561447,0.006898245774209499,-0.029546324163675308,-0.015469523146748543,0.023292548954486847,-0.04516630619764328,-0.012594923377037048,-0.034834861755371094,-0.0019831687677651644,-0.014959041029214859,0.039083246141672134,-0.059049900621175766,-0.027336034923791885,-0.025506235659122467,0.031604815274477005,0.029722891747951508,0.05682855844497681,0.0308599341660738,0.020280838012695312,-0.06028694659471512,-0.006690051406621933,-0.0010405350476503372,-0.09874247014522552,0.012122958898544312,-0.06741388142108917,-0.0542626790702343,-0.07604794949293137,0.05223139002919197,-0.0134316086769104,-0.012633617967367172,-0.014106844551861286,0.05580607056617737,0.009171869605779648,0.0066458480432629585,0.016029763966798782,0.06890739500522614,0.01380742434412241,0.025895847007632256,0.033267792314291,0.002742318669334054,-0.062226444482803345,0.029553132131695747,-0.0023015246260911226,-0.07135364413261414,-0.055886607617139816,0.0017986318562179804,-0.012386801652610302,-0.00962748657912016,0.01649569906294346,-0.012712080962955952,0.0763908252120018,0.04069536179304123,0.03701942786574364,-0.014426704496145248,0.03617824986577034,-0.06000979244709015,-0.04799733683466911,-0.009207273833453655,-0.026496361941099167,-0.0007804561755619943,0.01813439466059208,-0.014284880831837654,-0.025730371475219727,-0.01597142033278942,0.03518117591738701,0.0003591578279156238,-0.05777308717370033,-0.020835427567362785,-0.004713216796517372,0.005266145337373018,-0.005667658988386393,0.021162595599889755,0.04947332292795181,-0.10137426108121872,-0.039736438542604446,0.028752051293849945,-0.01974654570221901,-0.012850815430283546,0.02126077190041542,-0.014460582286119461,0.030518192797899246,0.050241533666849136,0.014725192449986935,0.004938127472996712,-0.05796420946717262,0.026234686374664307,0.0020363787189126015,0.03918984532356262,-0.028872670605778694,0.003106274176388979,-0.0366254486143589,-0.0017252748366445303,0.10021822154521942,-0.012576043605804443,-0.008806304074823856,-0.025156419724225998,-0.015032792463898659,-0.08736636489629745,0.027479879558086395,-0.02345331199467182,-0.02246928960084915,-0.0061440602876245975,-0.011559105478227139,-0.0030318903736770153,0.015685055404901505,0.04268583655357361,0.058928657323122025,0.02542463131248951,0.00220874254591763,-0.013477204367518425,-0.06994666904211044,0.035553835332393646,-7.368961026953834e-33,-0.005950994323939085,-0.002901798812672496,-0.042468659579753876,-0.04538397490978241,0.05137944221496582,-0.04355686530470848,-0.0192024577409029,-0.04689589515328407,0.0012922133319079876,-0.03826798498630524,-0.028865696862339973,-0.03578720986843109,0.007951469160616398,0.01832462102174759,0.03575340285897255,-0.02490428276360035,0.009871171787381172,-0.013057323172688484,-0.007009503897279501,-0.009429547004401684,-0.03945282846689224,0.04180902615189552,0.027805959805846214,-0.03387289121747017,0.022083207964897156,0.0007296917610801756,-0.053728725761175156,0.037054482847452164,-0.025727249681949615,0.04837142676115036,-0.01127183809876442,-0.0049231699667871,-0.017257701605558395,-0.06114201992750168,0.0002250985271530226,-0.003984440583735704,-0.09856532514095306,-0.011224951595067978,-0.0153621481731534,0.038697145879268646,0.029554197564721107,0.04816143959760666,0.034324709326028824,-0.0016967210685834289,0.01799207367002964,-0.013613443821668625,-0.021832846105098724,-0.025472253561019897,-0.001631620922125876,-0.016471363604068756,0.027452796697616577,0.013986124657094479,0.0010347573552280664,0.054490189999341965,0.027696799486875534,0.02759455144405365,0.04600205272436142,0.07206393033266068,-0.09743259847164154,-0.021837107837200165,-0.03773922473192215,-0.041034962981939316,0.019886834546923637,0.007396696601063013,0.06824656575918198,0.005420704372227192,0.05467972904443741,0.044507190585136414,-0.05004199594259262,-0.005735848098993301,-0.031781964004039764,-0.05343471094965935,0.00877521000802517,0.015460073947906494,0.06987893581390381,0.009931650944054127,-0.038736362010240555,-0.017592275515198708,-0.02286648191511631,-0.009893901646137238,-0.04378389194607735,0.03713337704539299,0.009775146842002869,0.015518199652433395,0.0017884349217638373,-0.030359823256731033,0.025193089619278908,-0.02568555809557438,0.008899282664060593,-0.0020438353531062603,-0.03570110723376274,0.027181129902601242,-0.08173169940710068,0.07586955279111862,-0.08780504763126373,0.004989227745682001,0.007945578545331955,0.055115338414907455,-0.001339352922514081,-0.024342572316527367,0.0717867761850357,-0.014413231983780861,-0.03946411982178688,-0.05262405052781105,-0.012458070181310177,0.008226987905800343,0.023079996928572655,0.011738613247871399,-0.0777517631649971,0.018641391769051552,0.049112431704998016,0.010193225927650928,-0.0059366002678871155,-0.01077760849148035,-0.0037588479463011026,0.02408647909760475,-0.01330797653645277,-0.0360700823366642,0.08156701177358627,-0.008525839075446129,0.037367336452007294,-0.04599656164646149,-0.028435369953513145,0.00784989632666111,0.04573526978492737,0.004743555095046759,-0.042490843683481216,0.0026336745359003544,0.014771554619073868,0.01993844099342823,0.03232428431510925,0.001974239479750395,3.2286661166835984e-7,0.03302296996116638,0.009822600521147251,-0.03447853773832321,-0.031480301171541214,-0.015960048884153366,0.03999105468392372,-0.018311694264411926,-0.043083857744932175,-0.0846632570028305,-0.07889894396066666,0.01875494234263897,0.007735330145806074,0.048487164080142975,0.031036056578159332,0.004060939885675907,-0.027943214401602745,0.000425686506787315,-0.026606131345033646,-0.030473046004772186,0.023746933788061142,0.01215208601206541,0.02941747009754181,0.05449657142162323,-0.009968421421945095,0.025778785347938538,0.03324690833687782,0.007111936807632446,-0.0495649129152298,0.04668429493904114,-0.040461208671331406,-0.004316258709877729,-0.06840033084154129,-0.04630676656961441,-0.01719069667160511,0.011449193581938744,0.014517837204039097,-0.006179699208587408,0.008665595203638077,0.04636335372924805,0.1108912006020546,0.06264641880989075,-0.07177010923624039,-0.008608964271843433,-0.084884874522686,0.02618185617029667,0.023384109139442444,-0.06330892443656921,0.02133830077946186,-0.004598946310579777,0.05365949869155884,-0.004768228158354759,-0.017140965908765793,-0.03810633718967438,-0.04828602820634842,-0.0014785159146413207,-0.004289287142455578,-0.011133693158626556,0.027857206761837006,-0.008841837756335735,0.03775429353117943,-0.006136736832559109,0.008109787479043007,-0.00739021273329854,0.05463296175003052,0.047672089189291,-0.014699061401188374,-0.004042631480842829,3.867128458365699e-34,0.041922081261873245,-0.01929844170808792,0.04378372058272362,0.00843497458845377,0.021532487124204636,-0.03864707797765732,-0.015860337764024734,-0.014501536265015602,0.04095844179391861,-0.05609334260225296,0.0010464559309184551]'
SET
  @TechnicalDesignVector_5a3f9096 = N'[-0.000871858443133533,0.023532910272479057,-0.027768122032284737,-0.06676473468542099,0.008224057033658028,-0.030023815110325813,0.008565046824514866,0.054768044501543045,-0.03684641793370247,-0.025153372436761856,-0.022446848452091217,0.05183074623346329,0.010195550508797169,0.0833560973405838,-0.01927959732711315,0.004957320634275675,-0.032252535223960876,0.06926295906305313,-0.036127861589193344,0.0247501153498888,0.032515354454517365,-0.05845579504966736,0.018259886652231216,-0.006967289373278618,0.014113529585301876,0.009972778148949146,-0.05223340541124344,-0.013105358928442001,0.01699548214673996,-0.034317780286073685,0.0026547755114734173,0.051073502749204636,-0.05303449556231499,0.010964062064886093,0.0000024356211270060157,-0.024585772305727005,-0.05074349045753479,0.018500030040740967,0.018673818558454514,-0.027104634791612625,0.08575450628995895,-0.02117331698536873,0.005001043435186148,-0.003337566275149584,0.0053571551106870174,-0.14312389492988586,-0.0207452904433012,0.031177667900919914,0.024444233626127243,-0.000682368699926883,0.010984414257109165,-0.0380588173866272,0.026602108031511307,0.05226033926010132,0.01024419441819191,0.017298182472586632,-0.0034141240175813437,-0.04066943749785423,0.058502212166786194,0.020509084686636925,0.02182532474398613,-0.006055679637938738,0.0023373651783913374,-0.048666518181562424,0.07452847063541412,0.005598688498139381,0.0007321636658161879,0.022320734336972237,0.029801879078149796,0.0066635156981647015,0.1214810311794281,-0.03192048519849777,0.00862671434879303,0.0036157723516225815,-0.0144268237054348,-0.021931983530521393,-0.011089306324720383,-0.01094629056751728,0.00850705336779356,0.011018538847565651,0.00793446134775877,0.009325964376330376,-0.03458170220255852,-0.04038124904036522,-0.05145454406738281,0.10108111798763275,-0.002704822225496173,-0.03235183656215668,-0.057654574513435364,-0.0748707726597786,0.04834943264722824,-0.001442824606783688,0.01148112304508686,0.014190427027642727,-0.019579550251364708,-0.012021510861814022,0.03399129956960678,-0.1969742476940155,0.04322042688727379,-0.06973227113485336,0.009057643823325634,0.041157424449920654,0.020973680540919304,-0.0020845234394073486,0.023875556886196136,-0.012020410969853401,0.022609548643231392,0.0319901667535305,-0.017897607758641243,-0.04644071310758591,-0.0059980181977152824,-0.00516281183809042,0.01474966760724783,0.02549736574292183,-0.06415411829948425,0.017722055315971375,-0.019267959520220757,-0.014594155363738537,-0.032990485429763794,0.018085001036524773,0.06796044856309891,-0.03553760051727295,0.0028782938607037067,-0.009891952387988567,0.04062238335609436,-0.03556256368756294,0.009111355058848858,-0.0800117626786232,0.006945631001144648,-0.0044250148348510265,-0.017281340435147285,-0.014833079650998116,0.0333668477833271,-0.023036262020468712,-0.015624241903424263,0.07104425132274628,0.008050638251006603,0.003877284238114953,-0.0003597009927034378,0.016113881021738052,0.0013155729975551367,0.02323502115905285,0.0070874313823878765,0.07808859646320343,0.021246682852506638,-0.009597127325832844,-0.02159297838807106,0.02798801101744175,-0.016865571960806847,0.038215089589357376,0.012016219086945057,0.0013183990959078074,-0.003743625245988369,0.026206959038972855,-0.04238784313201904,0.01314409077167511,0.023616334423422813,0.010547392070293427,-0.0031305241864174604,0.005557259079068899,-0.02294992096722126,0.007682391908019781,0.008165682666003704,0.015052223578095436,-0.013606229797005653,0.01156676560640335,-0.08561211079359055,0.02911205217242241,0.003492015181109309,0.029592661187052727,-0.001924840034916997,-0.06840905547142029,-0.007918251678347588,0.03820491209626198,0.014027958735823631,-0.04531468078494072,0.0563887283205986,0.05294530838727951,-0.03842552378773689,0.015846822410821915,0.034067925065755844,-0.08403082191944122,0.038907986134290695,-0.010006817989051342,0.04100177064538002,-0.026943106204271317,-0.00907609611749649,0.026911642402410507,-0.0019472271669656038,0.017618900164961815,-0.0003754257340915501,-0.009903911501169205,-0.05407003313302994,-0.015954697504639626,-0.010387358255684376,0.010836439207196236,-0.040606193244457245,-0.065325528383255,0.012224382720887661,-0.008021069690585136,-0.02514217607676983,0.0033865810837596655,0.012568368576467037,0.061785414814949036,0.01758177950978279,-0.036792367696762085,-0.04720466956496239,0.012144602835178375,0.007696750573813915,-0.017540954053401947,-0.047517143189907074,-0.013009291142225266,-0.0473129004240036,0.011017054319381714,0.018753038719296455,0.0483691543340683,0.0261214692145586,-0.0032142342533916235,-0.06150003522634506,-0.0237015038728714,-0.005697170272469521,-0.02346835285425186,0.018259884789586067,0.0209715086966753,0.14807237684726715,0.03464452177286148,0.03914296627044678,-0.014019925147294998,0.03951672837138176,0.01085224561393261,-0.007845762185752392,-0.014011934399604797,0.0220635998994112,0.0145212821662426,0.051082901656627655,0.016986554488539696,0.021712733432650566,0.07865985482931137,-0.020752334967255592,0.049813903868198395,-0.015871241688728333,-0.017642522230744362,-0.029836850240826607,-0.022086838260293007,-0.00810831505805254,0.012142668478190899,-0.040790021419525146,0.014923812821507454,0.03938598558306694,-0.03197736665606499,0.0312950573861599,-0.00588703528046608,0.01462003868073225,-0.023833082988858223,-0.02717549167573452,-0.057890962809324265,-0.0540645457804203,0.017745520919561386,0.024801481515169144,0.05801878869533539,0.02713317982852459,0.038380540907382965,-0.019660314545035362,-0.007408247794955969,0.024864232167601585,-0.03655637800693512,0.033724185079336166,-0.0031497126910835505,0.027068523690104485,0.0378267839550972,0.010608608834445477,0.042484868317842484,-0.003142404370009899,-0.0013838264858350158,0.02350989170372486,-0.01897619292140007,-0.020994780585169792,0.019671889021992683,-0.0054957983084023,-0.015177033841609955,-0.036239054054021835,-0.03608084097504616,0.02737482078373432,0.000861887470819056,-0.040169183164834976,0.04052029177546501,-0.005608838051557541,-0.08232022076845169,0.005289826076477766,-0.03889446705579758,0.022024014964699745,0.013791912235319614,0.014460863545536995,-0.021313833072781563,-0.0307941772043705,-0.02124451845884323,-0.028618082404136658,0.028037097305059433,-0.0056266156025230885,-0.01711445115506649,0.005240499973297119,0.027188031002879143,-0.0015206881798803806,-0.003713214071467519,0.013773441314697266,0.09133855998516083,0.029317133128643036,0.03515997529029846,0.051348086446523666,0.0194216500967741,-0.07779322564601898,0.012033242732286453,0.010774550028145313,-0.016429614275693893,0.044061727821826935,0.01081511378288269,0.04999970644712448,0.019201593473553658,-0.0028027130756527185,0.05096457526087761,-0.011366336606442928,-0.00599248893558979,0.016561925411224365,-0.019124304875731468,-0.04680529981851578,-0.014488805085420609,0.04038842022418976,-0.045526426285505295,0.005734058562666178,0.02596728317439556,0.03154652938246727,-0.042990949004888535,0.002338112099096179,0.02052105963230133,0.0300418883562088,-0.022226329892873764,-0.002559755463153124,0.031522486358881,0.040845222771167755,0.0013734843814745545,-0.0023746334481984377,-0.002009477000683546,-0.0007515420438721776,0.040284331887960434,0.015695275738835335,0.0010737867560237646,0.013866886496543884,-0.016969850286841393,-0.06349407136440277,0.039095114916563034,0.014844192191958427,0.0298467930406332,0.00696879206225276,-0.0015516107669100165,0.0018781175604090095,0.014081696048378944,-0.022283561527729034,0.01655990071594715,-0.042356278747320175,0.014093011617660522,0.05600835010409355,0.021387368440628052,0.0001412883575540036,-0.04744179919362068,-0.0017871182644739747,0.015052422881126404,0.02755686268210411,0.006882311310619116,-0.018210621550679207,-0.03218289464712143,-0.07205114513635635,-0.026366950944066048,0.002626207424327731,0.008409851230680943,0.008592470549046993,-0.03549797087907791,0.0067301345989108086,0.02303975261747837,0.043716855347156525,0.0010477433679625392,0.05515526980161667,-0.05178062990307808,0.06491398066282272,0.004861683119088411,0.0019118456402793527,-0.03714897111058235,0.03195037320256233,-0.010089938528835773,-0.02858121506869793,-0.010271064005792141,-0.015066967345774174,-0.06292830407619476,-0.02232794649899006,-0.0474960021674633,-0.012494903989136219,0.024316910654306412,0.024951940402388573,0.06136804819107056,0.04283537343144417,0.03338128700852394,-0.0048020510002970695,0.058537960052490234,-0.005927433725446463,-0.001232351642102003,0.03425143286585808,0.011328029446303844,0.03795374184846878,0.02954811602830887,0.03091629594564438,-0.000027850484912050888,0.019620871171355247,0.03978848457336426,-0.07461195439100266,-0.048215724527835846,-0.0510285347700119,-0.03274262696504593,0.0008664611377753317,-0.05357792600989342,0.00214196159504354,0.03146805986762047,0.029977945610880852,-0.013974035158753395,0.06844684481620789,-0.025891263037919998,0.060031477361917496,-0.043717995285987854,-0.06056155636906624,-0.09254394471645355,-0.028400667011737823,-0.0033734480384737253,-0.00021893723169341683,-0.02218557521700859,0.023470362648367882,-0.02398608811199665,-0.03752509132027626,0.007994307205080986,0.035682521760463715,-0.07193490117788315,0.02577804960310459,-0.017492810264229774,0.004129738546907902,0.014015055261552334,0.061283960938453674,0.016546031460165977,0.031088685616850853,-0.10020104795694351,0.011890143156051636,0.01730644516646862,-0.04556047171354294,-0.002348372945562005,0.0016998880309984088,0.04825160652399063,-0.0626276507973671,0.04971511289477348,-0.02185371331870556,-0.018220772966742516,-0.02542216330766678,0.10696855932474136,-0.033039070665836334,0.05214089900255203,0.025499852374196053,0.015127098187804222,-0.04212661460042,0.004681489896029234,-0.013057185336947441,-0.11564630270004272,-0.0009324372513219714,-0.05697478726506233,-0.03805888816714287,-0.017785407602787018,-0.024967454373836517,-0.01061361562460661,-0.020472051575779915,0.034850507974624634,0.025722017511725426,0.0005777145270258188,0.017374569550156593,0.04358241334557533,-0.022958748042583466,0.012630925513803959,0.04212898388504982,-0.031901612877845764,0.005689054727554321,-0.06900928169488907,0.022683657705783844,0.03971930220723152,-0.07133495062589645,-0.03532799705862999,-0.0019086392130702734,0.004227659199386835,-0.07896014302968979,0.00759458402171731,-0.007568202912807465,0.07469598203897476,0.008160448633134365,0.03383437916636467,0.08127155154943466,0.0382528081536293,-0.07432348281145096,-0.03016754612326622,-0.0268652755767107,-0.0135292187333107,-0.0085002351552248,-0.03200145810842514,0.032179154455661774,0.0038307553622871637,-0.006290000397711992,0.03173074498772621,0.0074688284657895565,-0.02886478789150715,-0.05046708881855011,-0.007441480178385973,-0.011249790899455547,0.05894051119685173,0.0023441342636942863,0.03648041933774948,-0.0478849932551384,0.009899481199681759,0.027029486373066902,-0.015189648605883121,-0.0019023631466552615,0.030027389526367188,-0.0063590374775230885,-0.01189485564827919,0.039409853518009186,-0.003139121923595667,-0.003477543592453003,0.003324164543300867,0.015098676085472107,0.025901606306433678,0.09446866810321808,-0.017190681770443916,-0.040315188467502594,-0.04482713341712952,0.003788009751588106,0.015001612715423107,0.001177330850623548,0.013428756967186928,0.0015537498984485865,-0.06940629333257675,-0.06265006959438324,0.030954331159591675,-0.03484996035695076,0.01465915609151125,-0.00858321413397789,-0.05280132219195366,0.0007542382809333503,-0.009431435726583004,0.048151645809412,0.005207104608416557,0.008243492804467678,-0.028058897703886032,-0.008444341830909252,-0.015262125059962273,0.04059711843729019,-6.754968736108675e-33,0.0030330598820000887,0.015724554657936096,0.0006615653983317316,-0.001343093696050346,-0.02615516260266304,-0.07087457180023193,-0.03619055449962616,-0.03210053592920303,0.018933389335870743,-0.04380737617611885,-0.017701173201203346,-0.02380165085196495,-0.004681424703449011,-0.004895229358226061,0.026857547461986542,-0.015445119701325893,-0.00014551029016729444,0.0018948164070025086,0.02518783137202263,0.018005672842264175,-0.00639248127117753,0.027866551652550697,-0.0193099994212389,0.05586925148963928,-0.032711759209632874,-0.014844613149762154,0.004824548494070768,0.0018235009629279375,-0.06602654606103897,0.007612274959683418,0.0014212229289114475,-0.042556919157505035,-0.026145590469241142,-0.05920455604791641,0.015474241226911545,-0.04128263145685196,-0.07720431685447693,0.0018851003842428327,0.021771196275949478,0.041199926286935806,0.09698149561882019,-0.006975939963012934,-0.00784927885979414,0.010979663580656052,-0.027410253882408142,0.008960600011050701,-0.003952759318053722,-0.02297953888773918,-0.03224523738026619,-0.06954312324523926,0.010763988830149174,0.01228716317564249,0.0026356717571616173,0.06021049618721008,0.046610478311777115,-0.025787606835365295,0.047874171286821365,0.015411995351314545,-0.012710594572126865,-0.022052429616451263,0.05246211588382721,-0.017327090725302696,0.017193162813782692,0.07669699937105179,0.09435123950242996,-0.016039004549384117,0.06236720457673073,0.08368087559938431,-0.026058845221996307,0.024325618520379066,-0.0062871053814888,-0.03743475675582886,-0.0018375467043370008,-0.027020562440156937,0.03795783966779709,0.047616325318813324,-0.02390335686504841,0.043147407472133636,-0.048334021121263504,0.016621220856904984,-0.014169326052069664,0.04219478741288185,0.025608409196138382,0.0058116307482123375,-0.0009833958465605974,0.03819842264056206,0.018688727170228958,-0.014840987510979176,-0.04013969749212265,-0.014900309965014458,-0.014539708383381367,-0.011391503736376762,-0.0571766197681427,0.02257082238793373,-0.03397895395755768,-0.04079512506723404,-0.02425292134284973,0.0202711783349514,-0.03294596076011658,-0.004116824362426996,0.024330781772732735,-0.019228726625442505,-0.017051760107278824,-0.019751178100705147,-0.008907509036362171,-0.006352870259433985,0.045368023216724396,-0.0084842499345541,-0.06812383979558945,0.016188297420740128,0.024979347363114357,0.009958203881978989,-0.03884489834308624,-0.0018160557374358177,-0.025293011218309402,-0.0017288695089519024,-0.007608287967741489,-0.04038642346858978,0.04474357143044472,0.04908198490738869,0.014078302308917046,0.0598878413438797,0.006627986207604408,0.008924766443669796,0.058942027390003204,0.02534422092139721,-0.04522941634058952,-0.03340710327029228,0.008176766335964203,-0.02411513775587082,0.031954530626535416,0.035869721323251724,3.198363174305996e-7,0.019472993910312653,0.009535891935229301,-0.00894312746822834,-0.06851670145988464,-0.003861750941723585,0.016966624185442924,-0.02678765542805195,-0.04475890100002289,-0.05036476254463196,-0.04835514351725578,0.025580987334251404,-0.03496662899851799,0.04831431061029434,-0.01649477332830429,-0.006550917401909828,-0.014240014366805553,-0.02430739812552929,-0.03493722528219223,-0.044140227138996124,-0.009302676655352116,-0.03675508871674538,0.022141743451356888,-0.011417437344789505,-0.016232924535870552,0.011077036149799824,0.08204249292612076,0.01053438801318407,-0.005457437131553888,0.0687110424041748,0.007482264190912247,0.017930597066879272,-0.07118728011846542,-0.05603976175189018,0.00011912859918083996,0.026069382205605507,0.01389367040246725,-0.00780415628105402,0.025568922981619835,0.02211783640086651,0.0496407076716423,0.08645904809236526,-0.05709480866789818,-0.02331175096333027,-0.029443418607115746,0.03323455899953842,-0.00854942575097084,-0.07290457934141159,0.028537996113300323,-0.03386097773909569,0.03093450330197811,-0.042189471423625946,-0.011005786247551441,-0.006114146672189236,-0.016336610540747643,0.0020150551572442055,-0.03984880819916725,0.03331675007939339,0.015345229767262936,0.0060718064196407795,0.05623643100261688,-0.017055168747901917,-0.03734459728002548,0.011341004632413387,0.05132338032126427,0.048211269080638885,-0.014330971986055374,-0.046757157891988754,4.214869533875183e-34,0.03034849464893341,-0.03222351521253586,0.012372329831123352,0.04890088364481926,0.003877155249938369,-0.035504065454006195,0.0768919363617897,-0.009225718677043915,0.04265036806464195,-0.0731516033411026,-0.018296705558896065]'
SET
  @HasCustomProps_5a3f9096 = 1
SET
  @HasCustomEvents_5a3f9096 = 1
SET
  @RequiresData_5a3f9096 = 1
SET
  @DependencyCount_5a3f9096 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_5a3f9096 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_5a3f9096 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_5a3f9096 = 1
SET
  @ID_5a3f9096 = 'DB1253D8-5B43-4FB1-880D-908EE2E5B37F'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_5a3f9096,
  @Name = @Name_5a3f9096,
  @Version = @Version_5a3f9096,
  @VersionSequence = @VersionSequence_5a3f9096,
  @Title = @Title_5a3f9096,
  @Description = @Description_5a3f9096,
  @Type = @Type_5a3f9096,
  @Status = @Status_5a3f9096,
  @DeveloperName = @DeveloperName_5a3f9096,
  @DeveloperEmail = @DeveloperEmail_5a3f9096,
  @DeveloperOrganization = @DeveloperOrganization_5a3f9096,
  @SourceRegistryID = @SourceRegistryID_5a3f9096,
  @ReplicatedAt = @ReplicatedAt_5a3f9096,
  @LastSyncedAt = @LastSyncedAt_5a3f9096,
  @Specification = @Specification_5a3f9096,
  @FunctionalRequirements = @FunctionalRequirements_5a3f9096,
  @TechnicalDesign = @TechnicalDesign_5a3f9096,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_5a3f9096,
  @TechnicalDesignVector = @TechnicalDesignVector_5a3f9096,
  @HasCustomProps = @HasCustomProps_5a3f9096,
  @HasCustomEvents = @HasCustomEvents_5a3f9096,
  @RequiresData = @RequiresData_5a3f9096,
  @DependencyCount = @DependencyCount_5a3f9096,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_5a3f9096,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_5a3f9096,
  @HasRequiredCustomProps = @HasRequiredCustomProps_5a3f9096,
  @ID = @ID_5a3f9096;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_cc2375eb NVARCHAR(MAX),
@Name_cc2375eb NVARCHAR(500),
@Version_cc2375eb NVARCHAR(50),
@VersionSequence_cc2375eb INT,
@Title_cc2375eb NVARCHAR(1000),
@Description_cc2375eb NVARCHAR(MAX),
@Type_cc2375eb NVARCHAR(255),
@Status_cc2375eb NVARCHAR(50),
@DeveloperName_cc2375eb NVARCHAR(255),
@DeveloperEmail_cc2375eb NVARCHAR(255),
@DeveloperOrganization_cc2375eb NVARCHAR(255),
@SourceRegistryID_cc2375eb UNIQUEIDENTIFIER,
@ReplicatedAt_cc2375eb DATETIMEOFFSET,
@LastSyncedAt_cc2375eb DATETIMEOFFSET,
@Specification_cc2375eb NVARCHAR(MAX),
@FunctionalRequirements_cc2375eb NVARCHAR(MAX),
@TechnicalDesign_cc2375eb NVARCHAR(MAX),
@FunctionalRequirementsVector_cc2375eb NVARCHAR(MAX),
@TechnicalDesignVector_cc2375eb NVARCHAR(MAX),
@HasCustomProps_cc2375eb BIT,
@HasCustomEvents_cc2375eb BIT,
@RequiresData_cc2375eb BIT,
@DependencyCount_cc2375eb INT,
@TechnicalDesignVectorEmbeddingModelID_cc2375eb NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_cc2375eb NVARCHAR(MAX),
@HasRequiredCustomProps_cc2375eb BIT,
@ID_cc2375eb UNIQUEIDENTIFIER
SET
  @Namespace_cc2375eb = N'Generic/UI/Chart'
SET
  @Name_cc2375eb = N'SimpleChart'
SET
  @Version_cc2375eb = N'1.0.0'
SET
  @VersionSequence_cc2375eb = 1
SET
  @Title_cc2375eb = N'Simple Chart'
SET
  @Description_cc2375eb = N'Standalone single-level chart component with NO built-in drill-down functionality. Renders bar/line/pie/doughnut/area/scatter charts using Chart.js 4.4.1. Emits onClick events but doesn''t handle navigation - parent component must wire up drill-down logic.

#### SimpleChart - ONLY use when:
✅ Single data series (one line, one set of bars, one pie)
✅ No built-in drill-down needed (parent handles onClick)
✅ Standard chart types (bar, line, pie, doughnut, area, scatter)

❌ DO NOT USE SimpleChart when:
- Multiple series on same chart (e.g., "this year vs last year", "revenue AND count")
- Dual Y-axes needed
- Complex legend with multiple data series
- Any multi-dimensional comparison
- User explicitly wants ''drill-down to table'' (use SimpleDrilldownChart instead)

**Use For:** standalone visualizations, dashboard widgets, building blocks in custom multi-level drill-downs.

Auto-aggregates data client-side by groupBy field with count/sum/average/min/max methods. Smart auto-type selection: date fields→line, ≤5 categories→pie (preferred over doughnut), else→bar. Single-series bar charts use different colors for each bar. Formats values automatically: currency ($ for Amount fields), dates (locale format), numbers (commas). Exports as PNG image. Click events highlight the selected element and return {label, value, records: Array<object>, percentage} for parent to implement custom drill logic. No re-animation on element clicks.
'
SET
  @Type_cc2375eb = N'Chart'
SET
  @Status_cc2375eb = N'Published'
SET
  @Specification_cc2375eb = N'{"name":"SimpleChart","title":"Simple Chart","description":"Standalone single-level chart component with NO built-in drill-down functionality. Renders bar/line/pie/doughnut/area/scatter charts using Chart.js 4.4.1. Emits onClick events but doesn''t handle navigation - parent component must wire up drill-down logic.\n\n#### SimpleChart - ONLY use when:\n✅ Single data series (one line, one set of bars, one pie)\n✅ No built-in drill-down needed (parent handles onClick)\n✅ Standard chart types (bar, line, pie, doughnut, area, scatter)\n\n❌ DO NOT USE SimpleChart when:\n- Multiple series on same chart (e.g., \"this year vs last year\", \"revenue AND count\")\n- Dual Y-axes needed\n- Complex legend with multiple data series\n- Any multi-dimensional comparison\n- User explicitly wants ''drill-down to table'' (use SimpleDrilldownChart instead)\n\n**Use For:** standalone visualizations, dashboard widgets, building blocks in custom multi-level drill-downs.\n\nAuto-aggregates data client-side by groupBy field with count/sum/average/min/max methods. Smart auto-type selection: date fields→line, ≤5 categories→pie (preferred over doughnut), else→bar. Single-series bar charts use different colors for each bar. Formats values automatically: currency ($ for Amount fields), dates (locale format), numbers (commas). Exports as PNG image. Click events highlight the selected element and return {label, value, records: Array<object>, percentage} for parent to implement custom drill logic. No re-animation on element clicks.\n","type":"chart","location":"embedded","functionalRequirements":"## Purpose\nStandalone single-series chart component with **NO built-in drill-down**. Renders bar/line/pie/doughnut/area/scatter charts using Chart.js 4.4.1. Emits onClick events but doesn''t handle navigation - parent component must wire up drill-down logic.\n\n## Data Requirements\n- **Input**: Array of objects (detail-level records)\n- **Aggregation**: Component performs client-side aggregation (groups by field, applies count/sum/average/min/max)\n- **Optional**: `entityName` for metadata-driven field type detection\n\n## Chart Types & Auto-Selection\n\n### Supported Types\n- **bar** (default): Vertical bars, each bar gets different color in single-series\n- **column**: Alias for bar\n- **line**: Connected line chart, single color\n- **pie** (preferred over doughnut): Circular chart, each slice gets different color\n- **doughnut** (donut): Ring chart with center hole, each slice gets different color\n- **area**: Line chart with filled area below\n- **scatter**: Points without connecting lines\n\n### Auto-Type Selection Logic\nIf `chartType` prop omitted, component intelligently selects type:\n\n1. **Date field detected** → line chart\n   - Checks entity metadata (Type = ''datetime'' or ''date'')\n   - OR value is Date instance\n   - OR string parseable as date\n   \n2. **≤ 5 categories** after aggregation → pie chart\n   - Preferred over doughnut for clarity\n   - Better for small datasets\n\n3. **Else** → bar chart (default)\n   - Best for general comparison\n\n## Data Aggregation\n\n### Configuration\n- **groupBy** (required): Field name to group records by\n- **valueField** (optional): Field to aggregate (required for sum/average/min/max)\n- **aggregateMethod**: count | sum | average | min | max (default: count)\n\n### Methods\n\n1. **count** (default): Counts records per group\n   - No valueField needed\n   - Example: \"Count of orders by status\"\n\n2. **sum**: Sums valueField for each group\n   - Example: \"Total revenue by product category\"\n\n3. **average**: Averages valueField for each group\n   - Example: \"Average deal size by region\"\n\n4. **min**: Minimum valueField value per group\n   - Example: \"Lowest price by supplier\"\n\n5. **max**: Maximum valueField value per group\n   - Example: \"Highest score by student\"\n\n### Date Field Handling\nWhen groupBy field is date/datetime:\n- Groups by ISO date string (YYYY-MM-DD) for consistent grouping\n- Formats labels as locale-specific dates (e.g., \"Jan 15, 2024\")\n- Preserves chronological order\n\n## Sorting & Limiting\n\n### Sorting\n**Default behavior** (sortBy=undefined):\n- **Preserves input data order**\n- Ideal for time-series (pre-sort by date in query)\n- Ideal when query already returns desired order\n\n**Explicit sorting**:\n- `sortBy=''value''`: Sorts by aggregated values (for rankings like \"top products\")\n- `sortBy=''label''`: Sorts alphabetically by category labels\n- `sortOrder=''asc'' | ''desc''`: Controls direction\n\n### Top-N Limiting\n`limit={10}`: Shows only top N categories after sorting\n- Common pattern: `sortBy=''value'' sortOrder=''desc'' limit={10}` for \"Top 10\"\n\n## Value Formatting\n\n### Automatic Detection\n- **Dates**: toLocaleDateString (month short, day, year) → \"Jan 15, 2024\"\n- **Currency**: Intl.NumberFormat USD style → \"$1,234.56\"\n  - Detected when: valueField is ''money'' type OR field name includes \"amount\"/\"price\"/\"cost\"\n- **Numbers**: Intl.NumberFormat with commas → \"1,234\"\n- **Null**: \"N/A\"\n\n## Color System\n\n### Single-Series Bar Charts\n- **Each bar gets different color** for visual distinction\n- Uses color palette from `colors` prop or default palette\n- Example: Category A (blue), Category B (green), Category C (orange)\n\n### Pie/Doughnut Charts\n- Each slice gets different color from palette\n- Consistent color assignment per data point\n\n### Line/Area Charts\n- Single color (first from palette)\n- Optional fill for area charts\n\n### Custom Colors\n`colors={[''#FF6384'', ''#36A2EB'', ''#FFCE56'']}`:\n- Array of hex colors\n- Applied in order to data points\n\n## Click Interaction\n\n### Element Highlighting\n- Clicked element highlighted with **3x thicker border**\n- Border persists until another element clicked\n- Visual feedback confirms selection\n\n### No Re-animation on Click\n- Chart animates once on initial render (750ms)\n- Subsequent clicks update **without animation** (instant)\n- Prevents jarring re-animation effect\n\n### onClick Event\n`onDataPointClick` fires with rich context:\n```javascript\n{\n  chartType: ''bar'',\n  series: ''Revenue'', // valueField or ''Count''\n  label: ''Electronics'', // Category name\n  value: 1234.56, // Aggregated value\n  records: [...], // Array of ALL records in this segment\n  percentage: 23.5 // Percentage of total\n}\n```\n\n**Parent must handle**: SimpleChart only emits event, doesn''t navigate\n- Show DataGrid with filtered records\n- Navigate to detail page\n- Render child SimpleChart with filtered data\n- Open modal/sidebar\n- Apply filters to other components\n\n## Features\n\n### Legend\n- **position**: ''auto'' (default), ''top'', ''bottom'', ''left'', ''right''\n- **fontSize**: Configurable legend text size\n- **show**: true/false to toggle visibility\n\n### Data Labels\n`showDataLabels={true}`:\n- Shows values directly on chart elements\n- Positioned automatically by Chart.js\n- Format uses same value formatting logic\n\n### Export\n`enableExport={true}`:\n- Shows \"⬇ Export\" button overlay (top-right)\n- Downloads chart as PNG image\n- Uses canvas.toDataURL(''image/png'')\n- Filename: auto-generated or custom\n\n### Loading State\nShows spinner while processing data.\n\n### Empty State\nGray background with \"No data available\" when no records.\n\n### Error Handling\n- Validates groupBy field exists in data\n- Shows red error panel with available fields if validation fails\n- Gracefully handles missing Chart.js library\n\n## Visual Configuration\n\n### Chart Height\n`height` prop: Sets canvas height (default 400px)\n\n### Responsive\n- Chart resizes with container width\n- maintainAspectRatio: false (fills container)\n\n### Hover Effects\n- Cursor changes to pointer over data points\n- Tooltip shows on hover (label + formatted value)\n- Hover mode: ''nearest'' for precise targeting\n\n## Metadata Integration\nWhen `entityName` provided:\n- Loads entity from `utilities.md.Entities`\n- Uses field Type for auto-type detection\n- Uses field Type for value formatting\n- Enables smart currency/date/number formatting\n\n## Events\n\n1. **onDataPointClick**: Fired on chart element click\n   - Includes full segment data with records array\n   \n2. **onChartRendered**: Fired after successful render\n   - Includes `{chartType, dataPointCount, aggregateMethod, totalValue}`\n   \n3. **onError**: Fired if chart rendering fails\n\n## Use Cases\n- Dashboard widgets (view-only charts)\n- Building blocks for custom multi-level drill-downs\n- Charts requiring custom onClick handling\n- Reusable chart component in larger compositions\n- Export-only charts (generate reports)\n","technicalDesign":"## Architecture\nReact functional component using Chart.js 4.4.1 for canvas-based chart rendering with NO built-in drill-down (emits events only).\n\n## Dependencies\n- **Chart.js** (4.4.1): Canvas chart rendering (global: Chart)\n- Unwrapped via `unwrapLibraryComponents(Chart, ''Chart'')` to handle various package formats\n\n## State Management (React Hooks)\n- **error** (string | null): Error message if rendering fails\n- **entityInfo** (object | null): Entity metadata from `utilities.md.Entities`\n\n## Refs\n- **canvasRef** (React.useRef): Reference to canvas element\n- **chartInstanceRef** (React.useRef): Reference to Chart.js instance (for updates/destroy)\n\n## Data Processing Pipeline (useMemo)\n\n### processData Function\n**Dependencies**: `data`, `groupBy`, `stackBy`, `valueField`, `aggregateMethod`, `sortBy`, `sortOrder`, `limit`, `entityInfo`\n\n**Process** (non-stacked mode - for stacked mode see \"Stacked Mode\" section below):\n1. **Validation**:\n   ```javascript\n   if (!data || data.length === 0) {\n     return { isEmpty: true };\n   }\n   if (!data[0][groupBy]) {\n     throw new Error(`Field ''$' + '{groupBy}'' not found. Available: $' + '{Object.keys(data[0]).join('', '')}`);\n   }\n   ```\n\n2. **Grouping** (handles date fields specially):\n   ```javascript\n   const groups = {};\n   data.forEach(record => {\n     let key = record[groupBy];\n     \n     // Special date handling\n     if (isDateField(groupBy)) {\n       key = new Date(key).toISOString().split(''T'')[0]; // YYYY-MM-DD\n     }\n     \n     if (!groups[key]) {\n       groups[key] = [];\n     }\n     groups[key].push(record);\n   });\n   ```\n\n3. **Aggregation**:\n   ```javascript\n   const aggregated = Object.entries(groups).map(([label, records]) => {\n     let value;\n     if (aggregateMethod === ''count'') {\n       value = records.length;\n     } else if (aggregateMethod === ''sum'') {\n       value = records.reduce((sum, r) => sum + (parseFloat(r[valueField]) || 0), 0);\n     } else if (aggregateMethod === ''average'') {\n       const sum = records.reduce((s, r) => s + (parseFloat(r[valueField]) || 0), 0);\n       value = sum / records.length;\n     } else if (aggregateMethod === ''min'') {\n       value = Math.min(...records.map(r => parseFloat(r[valueField]) || 0));\n     } else if (aggregateMethod === ''max'') {\n       value = Math.max(...records.map(r => parseFloat(r[valueField]) || 0));\n     }\n     \n     return { label, value, records };\n   });\n   ```\n\n4. **Sorting** (if sortBy specified):\n   ```javascript\n   if (sortBy === ''value'') {\n     aggregated.sort((a, b) => \n       sortOrder === ''asc'' ? a.value - b.value : b.value - a.value\n     );\n   } else if (sortBy === ''label'') {\n     aggregated.sort((a, b) => \n       sortOrder === ''asc'' \n         ? a.label.localeCompare(b.label)\n         : b.label.localeCompare(a.label)\n     );\n   }\n   // else: preserve original order\n   ```\n\n5. **Limiting** (top-N):\n   ```javascript\n   if (limit && limit > 0) {\n     aggregated = aggregated.slice(0, limit);\n   }\n   ```\n\n6. **Extract arrays**:\n   ```javascript\n   return {\n     categories: aggregated.map(item => item.label),\n     values: aggregated.map(item => item.value),\n     chartData: aggregated, // Full data for click events\n     isEmpty: false\n   };\n   ```\n\n## Stacked Mode (stackBy Property)\n\nWhen `stackBy` property is provided, the component creates a multi-series stacked bar chart with separate datasets for each unique stack value.\n\n### Stacked Data Processing\n**Dependencies**: `data`, `groupBy`, `stackBy`, `valueField`, `aggregateMethod`, `sortBy`, `sortOrder`, `limit`, `entityInfo`\n\n**Process**:\n1. **Collect primary categories** (X-axis values):\n   ```javascript\n   const categoriesSet = new Set();\n   data.forEach(record => {\n     let key = record[groupBy] || ''Unknown'';\n     // Apply date formatting if needed\n     if (isDateField) {\n       key = new Date(key).toISOString().split(''T'')[0];\n     }\n     categoriesSet.add(key);\n   });\n   let categories = Array.from(categoriesSet);\n   ```\n\n2. **Collect stack values** (series/colors):\n   ```javascript\n   const stackValuesSet = new Set();\n   data.forEach(record => {\n     const stackValue = record[stackBy] || ''Unknown'';\n     stackValuesSet.add(stackValue);\n   });\n   const stackValues = Array.from(stackValuesSet).sort();\n   ```\n\n3. **Group by BOTH dimensions**:\n   ```javascript\n   const grouped = {};\n   data.forEach(record => {\n     const categoryKey = record[groupBy] || ''Unknown'';\n     const stackValue = record[stackBy] || ''Unknown'';\n     const key = `$' + '{categoryKey}|||$' + '{stackValue}`; // Composite key\n\n     if (!grouped[key]) {\n       grouped[key] = {\n         category: categoryKey,\n         stackValue: stackValue,\n         records: [],\n         value: 0\n       };\n     }\n     grouped[key].records.push(record);\n   });\n   ```\n\n4. **Aggregate each group** (same logic as non-stacked: count/sum/average/min/max)\n\n5. **Create datasets array** - one dataset per stack value:\n   ```javascript\n   const datasets = stackValues.map((stackValue, stackIndex) => {\n     const datasetValues = categories.map(category => {\n       const key = `$' + '{category}|||$' + '{stackValue}`;\n       return grouped[key] ? grouped[key].value : 0; // Zero if no data\n     });\n\n     return {\n       label: String(stackValue),\n       data: datasetValues,\n       backgroundColor: (colors || defaultColors)[stackIndex % (colors || defaultColors).length],\n       borderColor: (colors || defaultColors)[stackIndex % (colors || defaultColors).length],\n       borderWidth: 1\n     };\n   });\n   ```\n\n6. **Return structure**:\n   ```javascript\n   return {\n     categories: categories.map(c => String(c)),\n     datasets: datasets, // Multiple datasets, one per stack value\n     values: [], // Not used in stacked mode\n     chartData: Object.values(grouped),\n     isEmpty: false\n   };\n   ```\n\n### Stacked Chart Configuration\nWhen `isStacked` is true (stackBy provided and datasets exist):\n```javascript\nconst config = {\n  type: ''bar'', // or ''line''\n  data: {\n    labels: processData.categories,\n    datasets: processData.datasets // Use pre-built datasets\n  },\n  options: {\n    scales: {\n      y: {\n        stacked: true, // Enable stacking on Y-axis\n        beginAtZero: true\n      },\n      x: {\n        stacked: true // Enable stacking on X-axis\n      }\n    }\n    // ... other options same as non-stacked\n  }\n};\n```\n\n**Key difference**: In non-stacked mode, there''s one dataset with different colors per bar. In stacked mode, each dataset has one color and represents a series across all categories.\n\n## Auto Chart Type Detection\n\n### determineChartType Function\n```javascript\nconst determineChartType = () => {\n  if (chartType) return chartType; // Explicit type takes priority\n  \n  // Check if groupBy is date field\n  if (isDateField(groupBy)) {\n    return ''line'';\n  }\n  \n  // Use pie for small number of categories (≤5, preferred over doughnut)\n  if (processData.categories && processData.categories.length <= 5) {\n    return ''pie'';\n  }\n  \n  // Default to bar\n  return ''bar'';\n};\n\n// Map aliases\nconst actualChartType = {\n  ''donut'': ''doughnut'',\n  ''column'': ''bar''\n}[determineChartType()] || determineChartType();\n```\n\n## Chart.js Configuration\n\n### Dataset Configuration\n```javascript\nconst datasets = [{\n  label: valueField || ''Count'',\n  data: processData.values,\n  backgroundColor: isPieOrDoughnut\n    ? (colors || defaultColors).slice(0, processData.values.length)\n    : isLineOrArea\n      ? ''rgba(24, 144, 255, 0.2)''\n      : (colors || defaultColors).slice(0, processData.values.length), // Different color per bar\n  borderColor: isPieOrDoughnut\n    ? undefined\n    : isLineOrArea\n      ? (colors || defaultColors)[0]\n      : (colors || defaultColors).slice(0, processData.values.length), // Different border per bar\n  borderWidth: isPieOrDoughnut ? 1 : 2,\n  fill: isLineOrArea ? true : false,\n  tension: isLineOrArea ? 0.4 : undefined\n}];\n```\n\n### Chart Options\n```javascript\nconst options = {\n  responsive: true,\n  maintainAspectRatio: false,\n  animation: {\n    duration: 750, // Initial animation\n    onComplete: () => {\n      // Disable animations after initial render to prevent re-animation on clicks\n      if (chartInstanceRef.current) {\n        chartInstanceRef.current.options.animation = false;\n      }\n    }\n  },\n  hover: {\n    mode: ''nearest'',\n    intersect: true\n  },\n  onHover: (event, activeElements) => {\n    // Change cursor to pointer when hovering over data points\n    event.native.target.style.cursor = activeElements.length > 0 ? ''pointer'' : ''default'';\n  },\n  onClick: (_event, elements) => {\n    if (elements && elements.length > 0 && onDataPointClick) {\n      const index = elements[0].index;\n      const clickedData = processData.chartData[index];\n      \n      // Highlight clicked element\n      if (chartInstanceRef.current) {\n        const meta = chartInstanceRef.current.getDatasetMeta(0);\n        const element = meta.data[index];\n        if (element) {\n          // Store original border width\n          if (!element._originalBorderWidth) {\n            element._originalBorderWidth = element.options.borderWidth || 1;\n          }\n          \n          // Reset all elements\n          meta.data.forEach((el) => {\n            if (el._originalBorderWidth) {\n              el.options.borderWidth = el._originalBorderWidth;\n            }\n          });\n          \n          // Highlight clicked element (3x thicker border)\n          element.options.borderWidth = element._originalBorderWidth * 3;\n          \n          // Update chart without animation\n          chartInstanceRef.current.update(''none'');\n        }\n      }\n      \n      onDataPointClick({\n        chartType: actualChartType,\n        series: valueField || ''Count'',\n        label: clickedData.label,\n        value: clickedData.value,\n        records: clickedData.records,\n        percentage: (clickedData.value / processData.values.reduce((a, b) => a + b, 0)) * 100\n      });\n    }\n  },\n  plugins: {\n    title: {\n      display: !!title,\n      text: title\n    },\n    legend: {\n      display: legend?.show !== false,\n      position: legend?.position || ''auto'',\n      labels: {\n        fontSize: legend?.fontSize || 12\n      }\n    },\n    tooltip: {\n      callbacks: {\n        label: (context) => {\n          const label = context.label || '''';\n          const value = formatValue(context.parsed.y || context.parsed);\n          return `$' + '{label}: $' + '{value}`;\n        }\n      }\n    },\n    datalabels: showDataLabels ? {\n      anchor: ''end'',\n      align: ''top'',\n      formatter: (value) => formatValue(value)\n    } : false\n  },\n  scales: !isPieOrDoughnut ? {\n    y: {\n      beginAtZero: true,\n      ticks: {\n        callback: (value) => formatValue(value)\n      }\n    },\n    x: {\n      ticks: {\n        maxRotation: 45,\n        minRotation: 0\n      }\n    }\n  } : undefined\n};\n```\n\n## Value Formatting\n\n### formatValue Function\n```javascript\nconst formatValue = (value) => {\n  if (value == null) return ''N/A'';\n  \n  // Check if date\n  if (value instanceof Date || !isNaN(Date.parse(value))) {\n    try {\n      return new Date(value).toLocaleDateString(''en-US'', {\n        month: ''short'',\n        day: ''numeric'',\n        year: ''numeric''\n      });\n    } catch {\n      // Not a date, continue\n    }\n  }\n  \n  // Check if currency\n  const isCurrency = valueField && (\n    valueField.toLowerCase().includes(''amount'') ||\n    valueField.toLowerCase().includes(''price'') ||\n    valueField.toLowerCase().includes(''cost'')\n  );\n  \n  if (isCurrency || (entityInfo && /* check Type === ''money'' */)) {\n    return new Intl.NumberFormat(''en-US'', {\n      style: ''currency'',\n      currency: ''USD''\n    }).format(value);\n  }\n  \n  // Format as number with commas\n  return new Intl.NumberFormat(''en-US'').format(value);\n};\n```\n\n## Chart Rendering (useEffect)\n\n### Dependencies\nRuns on: `processData`, `canvasRef`, `actualChartType`, `colors`, etc.\n\n### Process\n```javascript\nuseEffect(() => {\n  // Check empty state\n  if (processData.isEmpty || !canvasRef.current) return;\n  \n  // Validate Chart.js loaded\n  if (!Chart) {\n    setError(''Chart.js library not loaded'');\n    return;\n  }\n  \n  // Destroy existing chart\n  if (chartInstanceRef.current) {\n    chartInstanceRef.current.destroy();\n  }\n  \n  // Get canvas context\n  const ctx = canvasRef.current.getContext(''2d'');\n  \n  // Create new Chart.js instance\n  chartInstanceRef.current = new Chart(ctx, {\n    type: actualChartType,\n    data: {\n      labels: processData.categories,\n      datasets: [/* dataset config */]\n    },\n    options: {/* options config */}\n  });\n  \n  // Fire onChartRendered event\n  if (onChartRendered) {\n    onChartRendered({\n      chartType: actualChartType,\n      dataPointCount: processData.values.length,\n      aggregateMethod: aggregateMethod,\n      totalValue: processData.values.reduce((a, b) => a + b, 0)\n    });\n  }\n  \n  // Cleanup\n  return () => {\n    if (chartInstanceRef.current) {\n      chartInstanceRef.current.destroy();\n    }\n  };\n}, [/* dependencies */]);\n```\n\n## Export Functionality (useEffect)\n\n### Implementation\n```javascript\nuseEffect(() => {\n  if (enableExport && canvasRef.current) {\n    const handleExport = () => {\n      const dataURL = canvasRef.current.toDataURL(''image/png'');\n      const a = document.createElement(''a'');\n      a.href = dataURL;\n      a.download = `chart-$' + '{Date.now()}.png`;\n      a.click();\n    };\n    \n    // Store in global for button access\n    window.SimpleChartExport = handleExport;\n    \n    return () => {\n      delete window.SimpleChartExport;\n    };\n  }\n}, [enableExport, canvasRef]);\n```\n\n## Render Output\n\n### Error State\n```javascript\nif (error) {\n  return (\n    <div style={{ \n      color: ''#EF4444'', \n      padding: ''20px'', \n      backgroundColor: ''#FEE2E2'',\n      height: height || ''400px'',\n      display: ''flex'',\n      alignItems: ''center'',\n      justifyContent: ''center''\n    }}>\n      {error}\n    </div>\n  );\n}\n```\n\n### Empty State\n```javascript\nif (processData.isEmpty) {\n  return (\n    <div style={{\n      backgroundColor: ''#F3F4F6'',\n      height: height || ''400px'',\n      display: ''flex'',\n      alignItems: ''center'',\n      justifyContent: ''center'',\n      color: ''#6B7280''\n    }}>\n      No data available\n    </div>\n  );\n}\n```\n\n### Success State\n```javascript\nreturn (\n  <div style={{ position: ''relative'', height: height || ''400px'' }}>\n    {enableExport && (\n      <button\n        onClick={() => window.SimpleChartExport && window.SimpleChartExport()}\n        style={{\n          position: ''absolute'',\n          top: ''10px'',\n          right: ''10px'',\n          zIndex: 10,\n          padding: ''6px 12px'',\n          backgroundColor: ''#3B82F6'',\n          color: ''white'',\n          border: ''none'',\n          borderRadius: ''4px'',\n          cursor: ''pointer''\n        }}\n      >\n        ⬇ Export\n      </button>\n    )}\n    <div style={{ height: ''100%'' }}>\n      <canvas ref={canvasRef}></canvas>\n    </div>\n  </div>\n);\n```\n\n## Performance Optimizations\n- Data processing memoized (useMemo) - only recalculates when dependencies change\n- Chart instance reused/updated when possible (destroy/recreate only when necessary)\n- Animation disabled after initial render (prevents re-animation on interactions)\n- Canvas rendering (hardware accelerated via Chart.js)\n- Efficient color slicing (no array copies)\n","dataRequirements":{"mode":"props","description":"Component receives entity data through props and performs client-side aggregation"},"properties":[{"name":"entityName","type":"string","description":"Optional entity name for metadata-aware formatting (dates, money, value lists). If omitted, component uses basic type detection and works with any data array. Note: This property is NOT used for generating the chart title - always provide an explicit ''title'' property to avoid undefined titles.","required":false},{"name":"data","type":"Array<object>","description":"Array of entity records to visualize. Typically detail-level records (invoices, transactions, events) that component will aggregate by groupBy field. Can also accept pre-aggregated data if you''re building custom charts without drill-down needs. For drill-down charts, use SimpleDrilldownChart which requires detail records.","required":true},{"name":"groupBy","type":"string","description":"Field name to group data by. Works with any field in the data array. In non-stacked mode, this is the primary (X-axis) grouping. In stacked mode (when stackBy is provided), this is still the primary X-axis grouping, and stackBy creates the color-coded series.","required":true},{"name":"stackBy","type":"string","description":"Optional secondary grouping field for stacked bar/column charts. When provided, creates a multi-series stacked chart where: (1) groupBy field defines X-axis categories, (2) stackBy field defines the colored series/layers within each bar. Example: groupBy=''Quarter'' and stackBy=''MeetingType'' creates bars for each quarter with stacked layers colored by meeting type. Each unique stackBy value becomes a separate dataset with its own color. Best for showing composition or breakdown within categories. Only works with bar/column chart types - pie/line charts ignore this property.","required":false},{"name":"valueField","type":"string","description":"Field name to aggregate for chart values. REQUIRED when using aggregateMethod ''sum'', ''average'', ''min'', or ''max''. OMIT when using ''count'' (counts records regardless of field values). Examples: ''Total'' for revenue, ''Amount'' for sales, ''Quantity'' for inventory. Component groups records by groupBy field and aggregates this valueField according to aggregateMethod.","required":false,"constraints":[{"type":"required-when","dependsOn":"aggregateMethod","description":"valueField is required when aggregateMethod is sum, average, min, or max","config":{"condition":"siblingProp === ''sum'' || siblingProp === ''average'' || siblingProp === ''min'' || siblingProp === ''max''"},"errorTemplate":"valueField is required when aggregateMethod is ''{aggregateMethod}''"}]},{"name":"aggregateMethod","type":"''count'' | ''sum'' | ''average'' | ''min'' | ''max''","description":"How to aggregate records within each group. CRITICAL: Choose based on what you''re measuring. Use ''count'' ONLY when counting records (omit valueField). Use ''sum'' for totals (revenue, sales, costs - REQUIRES valueField). Use ''average'' for means (average deal size, average rating). Use ''min''/''max'' for extremes. COMMON MISTAKE: Using default ''count'' when valueField is specified - this counts records instead of summing values! Example: For ''revenue by month'', use aggregateMethod=''sum'' with valueField=''Total'', NOT count.","required":false,"defaultValue":"count","possibleValues":["count","sum","average","min","max"]},{"name":"chartType","type":"''auto'' | ''bar'' | ''line'' | ''pie'' | ''doughnut'' | ''area'' | ''scatter''","description":"Chart type to render. ''auto'' selects based on data","required":false,"defaultValue":"auto","possibleValues":["auto","bar","line","pie","doughnut","area","scatter"]},{"name":"title","type":"string","description":"Chart title displayed above the chart. If not provided, no title will be shown. Best practice: Always provide a descriptive title when using the component to avoid undefined values in the display.","required":false},{"name":"height","type":"number","description":"Chart height in pixels","required":false,"defaultValue":400},{"name":"sortBy","type":"''label'' | ''value'' | undefined","description":"How to sort chart data. By default (undefined), input data order is PRESERVED - this is ideal for time-series data where your query already returns data sorted by date, or when you want full control over ordering. ''value'' sorts by aggregated values - useful for ranking charts (top products by revenue, most active users). ''label'' sorts alphabetically by category labels. IMPORTANT: If you pass pre-sorted time-series data, do NOT set sortBy - let it default to undefined to preserve your chronological ordering.","required":false,"defaultValue":"undefined","possibleValues":["label","value","undefined"]},{"name":"sortOrder","type":"''asc'' | ''desc''","description":"Sort direction when sortBy is specified. ''asc'' = ascending (low to high, A to Z, old to new). ''desc'' = descending (high to low, Z to A, new to old). Only applies when sortBy is ''label'' or ''value''. For rankings with sortBy=''value'', typically use ''desc'' for highest-first (top 10 products). For alphabetical sorting with sortBy=''label'', use ''asc'' for A→Z.","required":false,"defaultValue":"asc","possibleValues":["asc","desc"]},{"name":"limit","type":"number","description":"Limit number of data points shown (e.g., top 10)","required":false},{"name":"colors","type":"Array<string>","description":"Custom color palette for the chart","required":false},{"name":"showLegend","type":"boolean","description":"Whether to show the legend","required":false,"defaultValue":true},{"name":"legendPosition","type":"''auto'' | ''top'' | ''bottom'' | ''left'' | ''right''","description":"Position of the legend. ''auto'' uses bottom for pie/doughnut, top for others","required":false,"defaultValue":"auto","possibleValues":["auto","top","bottom","left","right"]},{"name":"legendFontSize","type":"number","description":"Font size for legend labels in pixels","required":false,"defaultValue":12},{"name":"showDataLabels","type":"boolean","description":"Whether to show data labels on chart","required":false,"defaultValue":false},{"name":"enableExport","type":"boolean","description":"When true, displays an export button in the top-right corner above the chart to download chart as PNG image. Button is positioned outside the chart canvas to avoid overlaying the visualization.","required":false,"defaultValue":true}],"events":[{"name":"dataPointClick","description":"Fired when user clicks on a data point","parameters":[{"name":"clickData","type":"{ seriesName: string; value: number; label: string; records: Array<object>; chartType: string; percentage?: number }","description":"Object containing series name, data value, label, original records, and chart type"}]},{"name":"chartRendered","description":"Fired when chart has finished rendering","parameters":[{"name":"chartInfo","type":"{ chartType: string; dataPointCount: number; aggregationMethod: string; isEmpty: boolean }","description":"Information about the rendered chart including type, data point count, and aggregation method"}]}],"libraries":[{"name":"chart.js","version":"4.4.1","globalVariable":"Chart"}],"dependencies":[],"code":"function SimpleChart({\n  entityName,\n  data,\n  groupBy,\n  stackBy,\n  valueField,\n  aggregateMethod = ''count'',\n  chartType = ''auto'',\n  title,\n  height = 400,\n  sortBy = undefined,\n  sortOrder = ''asc'',\n  limit,\n  colors,\n  showLegend = true,\n  legendPosition = ''auto'', // New prop: ''auto'', ''top'', ''bottom'', ''left'', ''right''\n  legendFontSize = 12, // New prop for legend font size\n  showDataLabels = false,\n  enableExport = true,\n  onDataPointClick,\n  onChartRendered,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  // Always use the MJ unwrapLibraryComponents function to get components from global libraries\n  // This ensures that various library build/package formats are handled correctly and transparently\n  // Chart.js is available as a global ''Chart'' based on the spec''s globalVariable setting\n  // Since Chart.js exports a single constructor function, unwrapLibraryComponents returns it for the requested name\n  const { Chart: ChartJS } = unwrapLibraryComponents(Chart, ''Chart'');\n  \n  const canvasRef = React.useRef(null);\n  const chartInstanceRef = React.useRef(null);\n  const [error, setError] = React.useState(null);\n  const [entityInfo, setEntityInfo] = React.useState(null);\n\n  // Default color palette - accessible and visually distinct\n  const defaultColors = [\n    ''#1890ff'', // Blue\n    ''#52c41a'', // Green\n    ''#fa8c16'', // Orange\n    ''#f5222d'', // Red\n    ''#722ed1'', // Purple\n    ''#13c2c2'', // Cyan\n    ''#fa541c'', // Red-orange\n    ''#2f54eb'', // Deep blue\n    ''#a0d911'', // Lime\n    ''#eb2f96''  // Magenta\n  ];\n\n  // Load entity metadata\n  React.useEffect(() => {\n    if (!entityName || !utilities?.md?.Entities) {\n      if (!entityName) console.error(''Entity name not provided'');\n      if (!utilities?.md?.Entities) console.error(''Entity metadata not loaded.'');\n      return;\n    }\n    \n    const entity = utilities.md.Entities.find(e => e.Name === entityName);\n    if (entity) {\n      setEntityInfo(entity);\n    }\n  }, [entityName, utilities]);\n\n  // Helper function to format values based on type\n  const formatValue = (value, isDate = false, isCurrency = false) => {\n    if (value == null) return ''N/A'';\n    \n    if (isDate) {\n      try {\n        const date = new Date(value);\n        if (isNaN(date.getTime())) return value;\n        return date.toLocaleDateString(''en-US'', { \n          month: ''short'', \n          day: ''numeric'',\n          year: ''numeric''\n        });\n      } catch {\n        return value;\n      }\n    }\n    \n    if (isCurrency || (typeof value === ''number'' && valueField && valueField.toLowerCase().includes(''amount''))) {\n      if (typeof value === ''number'') {\n        return new Intl.NumberFormat(''en-US'', {\n          style: ''currency'',\n          currency: ''USD'',\n          minimumFractionDigits: 0,\n          maximumFractionDigits: 0\n        }).format(value);\n      }\n    }\n    \n    if (typeof value === ''number'') {\n      // Format large numbers with commas\n      return new Intl.NumberFormat(''en-US'').format(value);\n    }\n    \n    return value;\n  };\n\n  // Process and aggregate data\n  const processData = React.useMemo(() => {\n    if (!data || !Array.isArray(data) || data.length === 0) {\n      return { chartData: [], categories: [], values: [], datasets: [], isEmpty: true };\n    }\n\n    try {\n      // Validate that fields exist in the actual data, not just entity metadata\n      // This allows for calculated fields from queries that don''t exist in base entity\n      if (data.length > 0) {\n        // Check if fields exist in data\n        if (!(groupBy in data[0])) {\n          const error = `Field \"$' + '{groupBy}\" not found in data. Available fields: $' + '{Object.keys(data[0]).join('', '')}`;\n          console.error(error);\n          setError(error);\n          return { chartData: [], categories: [], values: [], datasets: [], isEmpty: true };\n        }\n\n        if (stackBy && !(stackBy in data[0])) {\n          const error = `Stack field \"$' + '{stackBy}\" not found in data. Available fields: $' + '{Object.keys(data[0]).join('', '')}`;\n          console.error(error);\n          setError(error);\n          return { chartData: [], categories: [], values: [], datasets: [], isEmpty: true };\n        }\n\n        if (valueField && !(valueField in data[0])) {\n          const error = `Value field \"$' + '{valueField}\" not found in data. Available fields: $' + '{Object.keys(data[0]).join('', '')}`;\n          console.error(error);\n          setError(error);\n          return { chartData: [], categories: [], values: [], datasets: [], isEmpty: true };\n        }\n      }\n\n      // Check if groupBy field is a date field using entity metadata\n      let isDateField = false;\n      if (entityInfo && entityInfo.Fields) {\n        const fieldInfo = entityInfo.Fields.find(f => f.Name === groupBy);\n        isDateField = fieldInfo && (fieldInfo.Type === ''datetime'' || fieldInfo.Type === ''date'');\n      }\n      \n      // Fallback to value-based detection if no metadata available\n      if (!isDateField && data.length > 0) {\n        const sampleValue = data[0][groupBy];\n        isDateField = sampleValue && (\n          sampleValue instanceof Date ||\n          (typeof sampleValue === ''string'' && !isNaN(Date.parse(sampleValue)))\n        );\n      }\n\n      // STACKED MODE: If stackBy is provided, create multiple datasets\n      if (stackBy) {\n        // Collect all unique primary categories (X-axis)\n        const categoriesSet = new Set();\n        data.forEach(record => {\n          let key = record[groupBy] || ''Unknown'';\n          if (isDateField && key !== ''Unknown'') {\n            const date = new Date(key);\n            if (!isNaN(date.getTime())) {\n              key = date.toISOString().split(''T'')[0];\n            }\n          }\n          categoriesSet.add(key);\n        });\n\n        let categories = Array.from(categoriesSet);\n\n        // Sort categories if requested\n        if (sortBy === ''label'') {\n          categories.sort((a, b) => {\n            const comparison = String(a).localeCompare(String(b));\n            return sortOrder === ''asc'' ? comparison : -comparison;\n          });\n        }\n\n        // Apply limit to categories\n        if (limit && limit > 0) {\n          categories = categories.slice(0, limit);\n        }\n\n        // Collect all unique stack values (series/colors)\n        const stackValuesSet = new Set();\n        data.forEach(record => {\n          const stackValue = record[stackBy] || ''Unknown'';\n          stackValuesSet.add(stackValue);\n        });\n        const stackValues = Array.from(stackValuesSet).sort();\n\n        // Group data by both primary category AND stack value\n        const grouped = {};\n        data.forEach(record => {\n          let categoryKey = record[groupBy] || ''Unknown'';\n          if (isDateField && categoryKey !== ''Unknown'') {\n            const date = new Date(categoryKey);\n            if (!isNaN(date.getTime())) {\n              categoryKey = date.toISOString().split(''T'')[0];\n            }\n          }\n\n          // Skip if category was filtered out by limit\n          if (!categories.includes(categoryKey)) return;\n\n          const stackValue = record[stackBy] || ''Unknown'';\n          const key = `$' + '{categoryKey}|||$' + '{stackValue}`;\n\n          if (!grouped[key]) {\n            grouped[key] = {\n              category: categoryKey,\n              stackValue: stackValue,\n              records: [],\n              value: 0\n            };\n          }\n          grouped[key].records.push(record);\n        });\n\n        // Aggregate based on method\n        Object.keys(grouped).forEach(key => {\n          const group = grouped[key];\n\n          if (aggregateMethod === ''count'') {\n            group.value = group.records.length;\n          } else if (valueField) {\n            const values = group.records\n              .map(r => parseFloat(r[valueField]))\n              .filter(v => !isNaN(v));\n\n            if (values.length > 0) {\n              switch (aggregateMethod) {\n                case ''sum'':\n                  group.value = values.reduce((a, b) => a + b, 0);\n                  break;\n                case ''average'':\n                  group.value = values.reduce((a, b) => a + b, 0) / values.length;\n                  break;\n                case ''min'':\n                  group.value = Math.min(...values);\n                  break;\n                case ''max'':\n                  group.value = Math.max(...values);\n                  break;\n                default:\n                  group.value = values.length;\n              }\n            }\n          }\n        });\n\n        // Create datasets array - one dataset per stack value\n        const datasets = stackValues.map((stackValue, stackIndex) => {\n          const datasetValues = categories.map(category => {\n            const key = `$' + '{category}|||$' + '{stackValue}`;\n            return grouped[key] ? grouped[key].value : 0;\n          });\n\n          return {\n            label: String(stackValue),\n            data: datasetValues,\n            backgroundColor: (colors || defaultColors)[stackIndex % (colors || defaultColors).length],\n            borderColor: (colors || defaultColors)[stackIndex % (colors || defaultColors).length],\n            borderWidth: 1\n          };\n        });\n\n        return {\n          chartData: Object.values(grouped),\n          categories: categories.map(c => String(c)),\n          values: [], // Not used in stacked mode\n          datasets: datasets,\n          isEmpty: false\n        };\n      }\n\n      // NON-STACKED MODE: Original single-series logic\n      const grouped = {};\n\n      data.forEach(record => {\n        let key = record[groupBy] || ''Unknown'';\n        \n        // Format date values for display\n        if (isDateField && key !== ''Unknown'') {\n          const date = new Date(key);\n          if (!isNaN(date.getTime())) {\n            // Format as YYYY-MM-DD for grouping\n            key = date.toISOString().split(''T'')[0];\n          }\n        }\n        \n        if (!grouped[key]) {\n          grouped[key] = {\n            label: key,\n            records: [],\n            value: 0\n          };\n        }\n        grouped[key].records.push(record);\n      });\n\n      // Aggregate based on method\n      Object.keys(grouped).forEach(key => {\n        const group = grouped[key];\n        \n        if (aggregateMethod === ''count'') {\n          group.value = group.records.length;\n        } else if (valueField) {\n          const values = group.records\n            .map(r => parseFloat(r[valueField]))\n            .filter(v => !isNaN(v));\n          \n          if (values.length > 0) {\n            switch (aggregateMethod) {\n              case ''sum'':\n                group.value = values.reduce((a, b) => a + b, 0);\n                break;\n              case ''average'':\n                group.value = values.reduce((a, b) => a + b, 0) / values.length;\n                break;\n              case ''min'':\n                group.value = Math.min(...values);\n                break;\n              case ''max'':\n                group.value = Math.max(...values);\n                break;\n              default:\n                group.value = values.length;\n            }\n          }\n        }\n      });\n\n      // Convert to array\n      let dataArray = Object.values(grouped);\n\n      // Only sort if explicitly requested (preserves input order by default)\n      if (sortBy === ''label'') {\n        dataArray.sort((a, b) => {\n          const comparison = String(a.label).localeCompare(String(b.label));\n          return sortOrder === ''asc'' ? comparison : -comparison;\n        });\n      } else if (sortBy === ''value'') {\n        dataArray.sort((a, b) => {\n          const comparison = a.value - b.value;\n          return sortOrder === ''asc'' ? comparison : -comparison;\n        });\n      }\n      // If sortBy is undefined/null, preserve the input order\n\n      // Apply limit if specified\n      if (limit && limit > 0) {\n        dataArray = dataArray.slice(0, limit);\n      }\n\n      const categories = dataArray.map(d => String(d.label));\n      const values = dataArray.map(d => d.value);\n\n      return {\n        chartData: dataArray,\n        categories,\n        values,\n        datasets: [], // Empty in non-stacked mode\n        isEmpty: false\n      };\n    } catch (err) {\n      console.error(''Error processing chart data:'', err);\n      setError(err.message);\n      return { chartData: [], categories: [], values: [], datasets: [], isEmpty: true };\n    }\n  }, [data, groupBy, stackBy, valueField, aggregateMethod, sortBy, sortOrder, limit, entityInfo]);\n\n  // Determine chart type automatically\n  const determineChartType = () => {\n    if (chartType !== ''auto'') {\n      // Map ''donut'' to Chart.js ''doughnut'' \n      if (chartType === ''donut'') return ''doughnut'';\n      // Map ''column'' to Chart.js ''bar''\n      if (chartType === ''column'') return ''bar'';\n      return chartType;\n    }\n    \n    // Check if groupBy field is a date field using entity metadata\n    let isDateField = false;\n    if (entityInfo && entityInfo.Fields) {\n      const fieldInfo = entityInfo.Fields.find(f => f.Name === groupBy);\n      isDateField = fieldInfo && (fieldInfo.Type === ''datetime'' || fieldInfo.Type === ''date'');\n    }\n    \n    // Fallback to value-based detection if no metadata available\n    if (!isDateField && data && data.length > 0) {\n      const sampleValue = data[0][groupBy];\n      isDateField = sampleValue && (\n        sampleValue instanceof Date ||\n        (typeof sampleValue === ''string'' && !isNaN(Date.parse(sampleValue)))\n      );\n    }\n    \n    if (isDateField) {\n      return ''line'';\n    }\n    \n    // Use pie for small number of categories (preferred over doughnut)\n    if (processData.categories && processData.categories.length <= 5) {\n      return ''pie'';\n    }\n    \n    // Default to bar chart\n    return ''bar'';\n  };\n\n  const actualChartType = determineChartType();\n\n  // Generate chart configuration for Chart.js\n  const getChartConfig = () => {\n    const isPieOrDoughnut = actualChartType === ''pie'' || actualChartType === ''doughnut'';\n    const isLineOrArea = actualChartType === ''line'' || actualChartType === ''area'';\n    const isStacked = stackBy && processData.datasets && processData.datasets.length > 0;\n\n    const config = {\n      type: actualChartType === ''area'' ? ''line'' : actualChartType,\n      data: {\n        labels: processData.categories,\n        datasets: isStacked\n          ? processData.datasets // Use pre-built datasets for stacked mode\n          : [{\n              label: valueField || ''Count'',\n              data: processData.values,\n              backgroundColor: isPieOrDoughnut\n                ? (colors || defaultColors).slice(0, processData.values.length)\n                : isLineOrArea\n                  ? ''rgba(24, 144, 255, 0.2)''\n                  : (colors || defaultColors).slice(0, processData.values.length), // Different color for each bar\n              borderColor: isPieOrDoughnut\n                ? undefined\n                : isLineOrArea\n                  ? (colors || defaultColors)[0]\n                  : (colors || defaultColors).slice(0, processData.values.length), // Different color for each bar border\n              borderWidth: isLineOrArea ? 2 : 1,\n              fill: actualChartType === ''area'',\n              tension: isLineOrArea ? 0.1 : undefined\n            }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        animation: {\n          duration: 750, // Initial animation\n          onComplete: () => {\n            // Disable animations after initial render to prevent re-animation on clicks\n            if (chartInstanceRef.current) {\n              chartInstanceRef.current.options.animation = false;\n            }\n          }\n        },\n        interaction: {\n          mode: ''nearest'',\n          intersect: true\n        },\n        hover: {\n          mode: ''nearest'',\n          intersect: true\n        },\n        elements: {\n          bar: {\n            hoverBackgroundColor: undefined, // Use default color\n            hoverBorderWidth: 3,\n            hoverBorderColor: ''#1890ff''\n          },\n          arc: {\n            hoverOffset: 8,\n            hoverBorderWidth: 3,\n            hoverBorderColor: ''#1890ff''\n          },\n          line: {\n            hoverBorderWidth: 4,\n            hoverBorderColor: ''#1890ff''\n          },\n          point: {\n            hoverRadius: 6,\n            hoverBorderWidth: 3,\n            hoverBorderColor: ''#1890ff''\n          }\n        },\n        onHover: (event, activeElements) => {\n          // Change cursor to pointer when hovering over data points\n          event.native.target.style.cursor = activeElements.length > 0 ? ''pointer'' : ''default'';\n        },\n        onClick: (_event, elements) => {\n          if (elements && elements.length > 0 && onDataPointClick) {\n            const clickedElement = elements[0];\n            const categoryIndex = clickedElement.index;\n            const datasetIndex = clickedElement.datasetIndex;\n            const isStacked = stackBy && processData.datasets && processData.datasets.length > 0;\n\n            let clickedData;\n            let clickedLabel;\n            let clickedRecords;\n            let clickedValue;\n\n            if (isStacked) {\n              // STACKED MODE: Filter by both category and stack value\n              const category = processData.categories[categoryIndex];\n              const stackValue = processData.datasets[datasetIndex].label;\n\n              // Find records matching BOTH category and stack value\n              clickedRecords = data.filter(record => {\n                const recordCategory = record[groupBy] || ''Unknown'';\n                const recordStackValue = record[stackBy] || ''Unknown'';\n                return String(recordCategory) === String(category) &&\n                       String(recordStackValue) === String(stackValue);\n              });\n\n              clickedValue = processData.datasets[datasetIndex].data[categoryIndex];\n              clickedLabel = `$' + '{category} - $' + '{stackValue}`;\n            } else {\n              // NON-STACKED MODE: Use existing logic\n              clickedData = processData.chartData[categoryIndex];\n              clickedLabel = clickedData.label;\n              clickedValue = clickedData.value;\n              clickedRecords = clickedData.records;\n            }\n\n            // Highlight the clicked element using Chart.js active state\n            if (chartInstanceRef.current) {\n              // Use setActiveElements to highlight without re-rendering the entire chart\n              chartInstanceRef.current.setActiveElements([\n                {\n                  datasetIndex: datasetIndex,\n                  index: categoryIndex\n                }\n              ]);\n\n              // Only update the visual state (highlights), don''t re-render data\n              chartInstanceRef.current.render();\n            }\n\n            // Calculate total for percentage (sum across all datasets)\n            let total;\n            if (isStacked) {\n              total = processData.datasets.reduce((sum, ds) => {\n                return sum + ds.data.reduce((a, b) => a + b, 0);\n              }, 0);\n            } else {\n              total = processData.values.reduce((a, b) => a + b, 0);\n            }\n\n            onDataPointClick({\n              chartType: actualChartType,\n              series: isStacked ? clickedLabel : (valueField || ''Count''),\n              label: clickedLabel,\n              value: clickedValue,\n              records: clickedRecords,\n              percentage: (clickedValue / total) * 100\n            });\n          }\n        },\n        plugins: {\n          title: {\n            display: !!title,\n            text: title,\n            font: {\n              size: 16,\n              weight: 600\n            },\n            padding: {\n              bottom: 10\n            }\n          },\n          legend: {\n            display: showLegend && (isPieOrDoughnut || processData.categories.length <= 10),\n            position: legendPosition === ''auto''\n              ? (isPieOrDoughnut ? ''bottom'' : ''top'')\n              : legendPosition,\n            labels: {\n              font: {\n                size: legendFontSize\n              }\n            }\n          },\n          datalabels: showDataLabels ? {\n            display: true,\n            formatter: (value) => formatValue(value),\n            color: isPieOrDoughnut ? ''#fff'' : ''#666''\n          } : undefined,\n          tooltip: {\n            backgroundColor: ''rgba(0, 0, 0, 0.8)'',\n            titleFont: {\n              size: 14,\n              weight: ''bold''\n            },\n            bodyFont: {\n              size: 13\n            },\n            padding: 12,\n            cornerRadius: 4,\n            displayColors: true,\n            callbacks: {\n              label: (context) => {\n                const label = context.dataset.label || '''';\n                const value = formatValue(context.parsed.y !== undefined ? context.parsed.y : context.parsed);\n                return `$' + '{label}: $' + '{value}`;\n              }\n            }\n          }\n        }\n      }\n    };\n\n    // Add scales for non-pie/doughnut charts\n    if (!isPieOrDoughnut) {\n      config.options.scales = {\n        y: {\n          beginAtZero: true,\n          stacked: isStacked, // Enable stacking on Y-axis\n          ticks: {\n            callback: (value) => formatValue(value)\n          }\n        },\n        x: {\n          stacked: isStacked, // Enable stacking on X-axis\n          ticks: {\n            autoSkip: true,\n            maxRotation: 45,\n            minRotation: 0,\n            maxTicksLimit: 20, // Limit number of ticks to prevent overcrowding\n            font: {\n              size: 11\n            }\n          },\n          // For charts with many categories, use better label management\n          grid: {\n            display: processData.categories.length <= 20\n          }\n        }\n      };\n    }\n\n    // Add export functionality if enabled\n    if (enableExport && config.options.plugins) {\n      config.options.plugins.title = {\n        ...config.options.plugins.title,\n        display: true // Always show title when export is enabled\n      };\n    }\n\n    return config;\n  };\n\n  // Render chart\n  React.useEffect(() => {\n    if (processData.isEmpty || !canvasRef.current) {\n      return;\n    }\n\n    if (!ChartJS) {\n      console.error(''[SimpleChart] Chart.js library not loaded'');\n      setError(''Chart.js library not loaded. Please ensure it is included in the component libraries.'');\n      return;\n    }\n\n    try {\n      setError(null);\n\n      // Destroy existing chart\n      if (chartInstanceRef.current) {\n        chartInstanceRef.current.destroy();\n        chartInstanceRef.current = null;\n      }\n\n      const config = getChartConfig();\n      \n      // Create new chart instance\n      const ctx = canvasRef.current.getContext(''2d'');\n      chartInstanceRef.current = new ChartJS(ctx, config);\n\n      // Fire rendered event\n      if (onChartRendered) {\n        onChartRendered({\n          chartType: actualChartType,\n          dataPointCount: processData.chartData.length,\n          aggregateMethod: aggregateMethod,\n          totalValue: processData.values.reduce((a, b) => a + b, 0)\n        });\n      }\n\n    } catch (err) {\n      console.error(''[SimpleChart] Error rendering chart:'', err);\n      setError(`Failed to render chart: $' + '{err.message}`);\n    }\n\n    // Cleanup on unmount\n    return () => {\n      if (chartInstanceRef.current) {\n        chartInstanceRef.current.destroy();\n        chartInstanceRef.current = null;\n      }\n    };\n  }, [processData, actualChartType, title, height, colors, showLegend, legendPosition, legendFontSize, showDataLabels, enableExport, ChartJS]);\n\n  // Download chart as image\n  React.useEffect(() => {\n    if (enableExport && chartInstanceRef.current && canvasRef.current) {\n      // Add a simple export button overlay\n      const exportHandler = () => {\n        const url = canvasRef.current.toDataURL(''image/png'');\n        const link = document.createElement(''a'');\n        link.download = `$' + '{title || ''chart''}.png`;\n        link.href = url;\n        link.click();\n      };\n      \n      // Store handler for cleanup\n      window.SimpleChartExport = exportHandler;\n    }\n    \n    return () => {\n      delete window.SimpleChartExport;\n    };\n  }, [enableExport, title]);\n\n  // Error state\n  if (error) {\n    return (\n      <div style={{ \n        display: ''flex'', \n        flexDirection: ''column'',\n        justifyContent: ''center'', \n        alignItems: ''center'', \n        height: height,\n        color: ''#ff4d4f'',\n        padding: ''20px''\n      }}>\n        <div>Error rendering chart</div>\n        <div style={{ fontSize: ''12px'', marginTop: ''8px'', color: ''#999'' }}>{error}</div>\n      </div>\n    );\n  }\n\n  // Empty state\n  if (!data || data.length === 0 || processData.isEmpty) {\n    return (\n      <div style={{ \n        display: ''flex'', \n        justifyContent: ''center'', \n        alignItems: ''center'', \n        height: height,\n        color: ''#999'',\n        backgroundColor: ''#f5f5f5'',\n        borderRadius: ''4px''\n      }}>\n        No data available to display\n      </div>\n    );\n  }\n\n  // Render chart container with canvas\n  return (\n    <div style={{ width: ''100%'', position: ''relative'' }}>\n      {enableExport && (\n        <div style={{ display: ''flex'', justifyContent: ''flex-end'', marginBottom: ''8px'' }}>\n          <button\n            onClick={() => window.SimpleChartExport && window.SimpleChartExport()}\n            style={{\n              padding: ''4px 8px'',\n              fontSize: ''12px'',\n              backgroundColor: ''#fff'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              display: ''flex'',\n              alignItems: ''center'',\n              gap: ''4px''\n            }}\n            title=\"Download as PNG\"\n          >\n            ⬇ Export\n          </button>\n        </div>\n      )}\n      <div style={{ width: ''100%'', height: `$' + '{height}px` }}>\n        <canvas ref={canvasRef} />\n      </div>\n    </div>\n  );\n}","exampleUsage":"<!-- Ranking Example: Top products by revenue (explicit sort by value) -->\n<SimpleChart\n  entityName=\"Invoice Line Items\"\n  data={invoiceItems}\n  groupBy=\"ProductCategory\"\n  valueField=\"TotalAmount\"\n  aggregateMethod=\"sum\"\n  chartType=\"bar\"\n  title=\"Top 10 Products by Revenue\"\n  limit={10}\n  sortBy=\"value\"  // Explicit sort by revenue for ranking\n  sortOrder=\"desc\"  // Highest first\n  onDataPointClick={handleDrillDown}\n/>\n\n<!-- Time-Series Example: Revenue by month (preserve query order) -->\n<SimpleChart\n  entityName=\"Invoices\"\n  data={preAggregatedMonthlyData}  // Query returns data already sorted by Year/Month\n  groupBy=\"DateLabel\"  // e.g. \"January 2024\", \"February 2024\"\n  valueField=\"TotalRevenue\"\n  aggregateMethod=\"sum\"\n  chartType=\"bar\"\n  title=\"Monthly Revenue\"\n  // No sortBy - preserves chronological order from query (default behavior)\n  onDataPointClick={handleDrillDown}\n/>\n\n<!-- Stacked Example: Attendance by quarter, broken down by meeting type -->\n<SimpleChart\n  entityName=\"Meeting Attendance\"\n  data={attendanceRecords}  // Detail records with Quarter, MeetingType, AttendeeCount fields\n  groupBy=\"Quarter\"  // X-axis: Q1, Q2, Q3, Q4\n  stackBy=\"MeetingType\"  // Color-coded layers: Board, Committee, Annual, etc.\n  valueField=\"AttendeeCount\"\n  aggregateMethod=\"sum\"\n  chartType=\"bar\"\n  title=\"Meeting Attendance by Quarter and Type\"\n  showLegend={true}  // Legend shows meeting type colors\n  onDataPointClick={handleDrillDown}\n/>\n\n<!-- Counting Example: Tickets by status (no explicit sorting needed) -->\n<SimpleChart\n  entityName=\"Support Tickets\"\n  data={tickets}\n  groupBy=\"Status\"\n  // No valueField - counting records\n  aggregateMethod=\"count\"\n  chartType=\"doughnut\"\n  title=\"Tickets by Status\"\n  // sortBy omitted - preserves input order or can add sortBy=\"value\" for ranking\n/>"}'
SET
  @FunctionalRequirements_cc2375eb = N'## Purpose
Standalone single-series chart component with **NO built-in drill-down**. Renders bar/line/pie/doughnut/area/scatter charts using Chart.js 4.4.1. Emits onClick events but doesn''t handle navigation - parent component must wire up drill-down logic.

## Data Requirements
- **Input**: Array of objects (detail-level records)
- **Aggregation**: Component performs client-side aggregation (groups by field, applies count/sum/average/min/max)
- **Optional**: `entityName` for metadata-driven field type detection

## Chart Types & Auto-Selection

### Supported Types
- **bar** (default): Vertical bars, each bar gets different color in single-series
- **column**: Alias for bar
- **line**: Connected line chart, single color
- **pie** (preferred over doughnut): Circular chart, each slice gets different color
- **doughnut** (donut): Ring chart with center hole, each slice gets different color
- **area**: Line chart with filled area below
- **scatter**: Points without connecting lines

### Auto-Type Selection Logic
If `chartType` prop omitted, component intelligently selects type:

1. **Date field detected** → line chart
   - Checks entity metadata (Type = ''datetime'' or ''date'')
   - OR value is Date instance
   - OR string parseable as date
   
2. **≤ 5 categories** after aggregation → pie chart
   - Preferred over doughnut for clarity
   - Better for small datasets

3. **Else** → bar chart (default)
   - Best for general comparison

## Data Aggregation

### Configuration
- **groupBy** (required): Field name to group records by
- **valueField** (optional): Field to aggregate (required for sum/average/min/max)
- **aggregateMethod**: count | sum | average | min | max (default: count)

### Methods

1. **count** (default): Counts records per group
   - No valueField needed
   - Example: "Count of orders by status"

2. **sum**: Sums valueField for each group
   - Example: "Total revenue by product category"

3. **average**: Averages valueField for each group
   - Example: "Average deal size by region"

4. **min**: Minimum valueField value per group
   - Example: "Lowest price by supplier"

5. **max**: Maximum valueField value per group
   - Example: "Highest score by student"

### Date Field Handling
When groupBy field is date/datetime:
- Groups by ISO date string (YYYY-MM-DD) for consistent grouping
- Formats labels as locale-specific dates (e.g., "Jan 15, 2024")
- Preserves chronological order

## Sorting & Limiting

### Sorting
**Default behavior** (sortBy=undefined):
- **Preserves input data order**
- Ideal for time-series (pre-sort by date in query)
- Ideal when query already returns desired order

**Explicit sorting**:
- `sortBy=''value''`: Sorts by aggregated values (for rankings like "top products")
- `sortBy=''label''`: Sorts alphabetically by category labels
- `sortOrder=''asc'' | ''desc''`: Controls direction

### Top-N Limiting
`limit={10}`: Shows only top N categories after sorting
- Common pattern: `sortBy=''value'' sortOrder=''desc'' limit={10}` for "Top 10"

## Value Formatting

### Automatic Detection
- **Dates**: toLocaleDateString (month short, day, year) → "Jan 15, 2024"
- **Currency**: Intl.NumberFormat USD style → "$1,234.56"
  - Detected when: valueField is ''money'' type OR field name includes "amount"/"price"/"cost"
- **Numbers**: Intl.NumberFormat with commas → "1,234"
- **Null**: "N/A"

## Color System

### Single-Series Bar Charts
- **Each bar gets different color** for visual distinction
- Uses color palette from `colors` prop or default palette
- Example: Category A (blue), Category B (green), Category C (orange)

### Pie/Doughnut Charts
- Each slice gets different color from palette
- Consistent color assignment per data point

### Line/Area Charts
- Single color (first from palette)
- Optional fill for area charts

### Custom Colors
`colors={[''#FF6384'', ''#36A2EB'', ''#FFCE56'']}`:
- Array of hex colors
- Applied in order to data points

## Click Interaction

### Element Highlighting
- Clicked element highlighted with **3x thicker border**
- Border persists until another element clicked
- Visual feedback confirms selection

### No Re-animation on Click
- Chart animates once on initial render (750ms)
- Subsequent clicks update **without animation** (instant)
- Prevents jarring re-animation effect

### onClick Event
`onDataPointClick` fires with rich context:
```javascript
{
  chartType: ''bar'',
  series: ''Revenue'', // valueField or ''Count''
  label: ''Electronics'', // Category name
  value: 1234.56, // Aggregated value
  records: [...], // Array of ALL records in this segment
  percentage: 23.5 // Percentage of total
}
```

**Parent must handle**: SimpleChart only emits event, doesn''t navigate
- Show DataGrid with filtered records
- Navigate to detail page
- Render child SimpleChart with filtered data
- Open modal/sidebar
- Apply filters to other components

## Features

### Legend
- **position**: ''auto'' (default), ''top'', ''bottom'', ''left'', ''right''
- **fontSize**: Configurable legend text size
- **show**: true/false to toggle visibility

### Data Labels
`showDataLabels={true}`:
- Shows values directly on chart elements
- Positioned automatically by Chart.js
- Format uses same value formatting logic

### Export
`enableExport={true}`:
- Shows "⬇ Export" button overlay (top-right)
- Downloads chart as PNG image
- Uses canvas.toDataURL(''image/png'')
- Filename: auto-generated or custom

### Loading State
Shows spinner while processing data.

### Empty State
Gray background with "No data available" when no records.

### Error Handling
- Validates groupBy field exists in data
- Shows red error panel with available fields if validation fails
- Gracefully handles missing Chart.js library

## Visual Configuration

### Chart Height
`height` prop: Sets canvas height (default 400px)

### Responsive
- Chart resizes with container width
- maintainAspectRatio: false (fills container)

### Hover Effects
- Cursor changes to pointer over data points
- Tooltip shows on hover (label + formatted value)
- Hover mode: ''nearest'' for precise targeting

## Metadata Integration
When `entityName` provided:
- Loads entity from `utilities.md.Entities`
- Uses field Type for auto-type detection
- Uses field Type for value formatting
- Enables smart currency/date/number formatting

## Events

1. **onDataPointClick**: Fired on chart element click
   - Includes full segment data with records array
   
2. **onChartRendered**: Fired after successful render
   - Includes `{chartType, dataPointCount, aggregateMethod, totalValue}`
   
3. **onError**: Fired if chart rendering fails

## Use Cases
- Dashboard widgets (view-only charts)
- Building blocks for custom multi-level drill-downs
- Charts requiring custom onClick handling
- Reusable chart component in larger compositions
- Export-only charts (generate reports)
'
SET
  @TechnicalDesign_cc2375eb = N'## Architecture
React functional component using Chart.js 4.4.1 for canvas-based chart rendering with NO built-in drill-down (emits events only).

## Dependencies
- **Chart.js** (4.4.1): Canvas chart rendering (global: Chart)
- Unwrapped via `unwrapLibraryComponents(Chart, ''Chart'')` to handle various package formats

## State Management (React Hooks)
- **error** (string | null): Error message if rendering fails
- **entityInfo** (object | null): Entity metadata from `utilities.md.Entities`

## Refs
- **canvasRef** (React.useRef): Reference to canvas element
- **chartInstanceRef** (React.useRef): Reference to Chart.js instance (for updates/destroy)

## Data Processing Pipeline (useMemo)

### processData Function
**Dependencies**: `data`, `groupBy`, `stackBy`, `valueField`, `aggregateMethod`, `sortBy`, `sortOrder`, `limit`, `entityInfo`

**Process** (non-stacked mode - for stacked mode see "Stacked Mode" section below):
1. **Validation**:
   ```javascript
   if (!data || data.length === 0) {
     return { isEmpty: true };
   }
   if (!data[0][groupBy]) {
     throw new Error(`Field ''$' + '{groupBy}'' not found. Available: $' + '{Object.keys(data[0]).join('', '')}`);
   }
   ```

2. **Grouping** (handles date fields specially):
   ```javascript
   const groups = {};
   data.forEach(record => {
     let key = record[groupBy];
     
     // Special date handling
     if (isDateField(groupBy)) {
       key = new Date(key).toISOString().split(''T'')[0]; // YYYY-MM-DD
     }
     
     if (!groups[key]) {
       groups[key] = [];
     }
     groups[key].push(record);
   });
   ```

3. **Aggregation**:
   ```javascript
   const aggregated = Object.entries(groups).map(([label, records]) => {
     let value;
     if (aggregateMethod === ''count'') {
       value = records.length;
     } else if (aggregateMethod === ''sum'') {
       value = records.reduce((sum, r) => sum + (parseFloat(r[valueField]) || 0), 0);
     } else if (aggregateMethod === ''average'') {
       const sum = records.reduce((s, r) => s + (parseFloat(r[valueField]) || 0), 0);
       value = sum / records.length;
     } else if (aggregateMethod === ''min'') {
       value = Math.min(...records.map(r => parseFloat(r[valueField]) || 0));
     } else if (aggregateMethod === ''max'') {
       value = Math.max(...records.map(r => parseFloat(r[valueField]) || 0));
     }
     
     return { label, value, records };
   });
   ```

4. **Sorting** (if sortBy specified):
   ```javascript
   if (sortBy === ''value'') {
     aggregated.sort((a, b) => 
       sortOrder === ''asc'' ? a.value - b.value : b.value - a.value
     );
   } else if (sortBy === ''label'') {
     aggregated.sort((a, b) => 
       sortOrder === ''asc'' 
         ? a.label.localeCompare(b.label)
         : b.label.localeCompare(a.label)
     );
   }
   // else: preserve original order
   ```

5. **Limiting** (top-N):
   ```javascript
   if (limit && limit > 0) {
     aggregated = aggregated.slice(0, limit);
   }
   ```

6. **Extract arrays**:
   ```javascript
   return {
     categories: aggregated.map(item => item.label),
     values: aggregated.map(item => item.value),
     chartData: aggregated, // Full data for click events
     isEmpty: false
   };
   ```

## Stacked Mode (stackBy Property)

When `stackBy` property is provided, the component creates a multi-series stacked bar chart with separate datasets for each unique stack value.

### Stacked Data Processing
**Dependencies**: `data`, `groupBy`, `stackBy`, `valueField`, `aggregateMethod`, `sortBy`, `sortOrder`, `limit`, `entityInfo`

**Process**:
1. **Collect primary categories** (X-axis values):
   ```javascript
   const categoriesSet = new Set();
   data.forEach(record => {
     let key = record[groupBy] || ''Unknown'';
     // Apply date formatting if needed
     if (isDateField) {
       key = new Date(key).toISOString().split(''T'')[0];
     }
     categoriesSet.add(key);
   });
   let categories = Array.from(categoriesSet);
   ```

2. **Collect stack values** (series/colors):
   ```javascript
   const stackValuesSet = new Set();
   data.forEach(record => {
     const stackValue = record[stackBy] || ''Unknown'';
     stackValuesSet.add(stackValue);
   });
   const stackValues = Array.from(stackValuesSet).sort();
   ```

3. **Group by BOTH dimensions**:
   ```javascript
   const grouped = {};
   data.forEach(record => {
     const categoryKey = record[groupBy] || ''Unknown'';
     const stackValue = record[stackBy] || ''Unknown'';
     const key = `$' + '{categoryKey}|||$' + '{stackValue}`; // Composite key

     if (!grouped[key]) {
       grouped[key] = {
         category: categoryKey,
         stackValue: stackValue,
         records: [],
         value: 0
       };
     }
     grouped[key].records.push(record);
   });
   ```

4. **Aggregate each group** (same logic as non-stacked: count/sum/average/min/max)

5. **Create datasets array** - one dataset per stack value:
   ```javascript
   const datasets = stackValues.map((stackValue, stackIndex) => {
     const datasetValues = categories.map(category => {
       const key = `$' + '{category}|||$' + '{stackValue}`;
       return grouped[key] ? grouped[key].value : 0; // Zero if no data
     });

     return {
       label: String(stackValue),
       data: datasetValues,
       backgroundColor: (colors || defaultColors)[stackIndex % (colors || defaultColors).length],
       borderColor: (colors || defaultColors)[stackIndex % (colors || defaultColors).length],
       borderWidth: 1
     };
   });
   ```

6. **Return structure**:
   ```javascript
   return {
     categories: categories.map(c => String(c)),
     datasets: datasets, // Multiple datasets, one per stack value
     values: [], // Not used in stacked mode
     chartData: Object.values(grouped),
     isEmpty: false
   };
   ```

### Stacked Chart Configuration
When `isStacked` is true (stackBy provided and datasets exist):
```javascript
const config = {
  type: ''bar'', // or ''line''
  data: {
    labels: processData.categories,
    datasets: processData.datasets // Use pre-built datasets
  },
  options: {
    scales: {
      y: {
        stacked: true, // Enable stacking on Y-axis
        beginAtZero: true
      },
      x: {
        stacked: true // Enable stacking on X-axis
      }
    }
    // ... other options same as non-stacked
  }
};
```

**Key difference**: In non-stacked mode, there''s one dataset with different colors per bar. In stacked mode, each dataset has one color and represents a series across all categories.

## Auto Chart Type Detection

### determineChartType Function
```javascript
const determineChartType = () => {
  if (chartType) return chartType; // Explicit type takes priority
  
  // Check if groupBy is date field
  if (isDateField(groupBy)) {
    return ''line'';
  }
  
  // Use pie for small number of categories (≤5, preferred over doughnut)
  if (processData.categories && processData.categories.length <= 5) {
    return ''pie'';
  }
  
  // Default to bar
  return ''bar'';
};

// Map aliases
const actualChartType = {
  ''donut'': ''doughnut'',
  ''column'': ''bar''
}[determineChartType()] || determineChartType();
```

## Chart.js Configuration

### Dataset Configuration
```javascript
const datasets = [{
  label: valueField || ''Count'',
  data: processData.values,
  backgroundColor: isPieOrDoughnut
    ? (colors || defaultColors).slice(0, processData.values.length)
    : isLineOrArea
      ? ''rgba(24, 144, 255, 0.2)''
      : (colors || defaultColors).slice(0, processData.values.length), // Different color per bar
  borderColor: isPieOrDoughnut
    ? undefined
    : isLineOrArea
      ? (colors || defaultColors)[0]
      : (colors || defaultColors).slice(0, processData.values.length), // Different border per bar
  borderWidth: isPieOrDoughnut ? 1 : 2,
  fill: isLineOrArea ? true : false,
  tension: isLineOrArea ? 0.4 : undefined
}];
```

### Chart Options
```javascript
const options = {
  responsive: true,
  maintainAspectRatio: false,
  animation: {
    duration: 750, // Initial animation
    onComplete: () => {
      // Disable animations after initial render to prevent re-animation on clicks
      if (chartInstanceRef.current) {
        chartInstanceRef.current.options.animation = false;
      }
    }
  },
  hover: {
    mode: ''nearest'',
    intersect: true
  },
  onHover: (event, activeElements) => {
    // Change cursor to pointer when hovering over data points
    event.native.target.style.cursor = activeElements.length > 0 ? ''pointer'' : ''default'';
  },
  onClick: (_event, elements) => {
    if (elements && elements.length > 0 && onDataPointClick) {
      const index = elements[0].index;
      const clickedData = processData.chartData[index];
      
      // Highlight clicked element
      if (chartInstanceRef.current) {
        const meta = chartInstanceRef.current.getDatasetMeta(0);
        const element = meta.data[index];
        if (element) {
          // Store original border width
          if (!element._originalBorderWidth) {
            element._originalBorderWidth = element.options.borderWidth || 1;
          }
          
          // Reset all elements
          meta.data.forEach((el) => {
            if (el._originalBorderWidth) {
              el.options.borderWidth = el._originalBorderWidth;
            }
          });
          
          // Highlight clicked element (3x thicker border)
          element.options.borderWidth = element._originalBorderWidth * 3;
          
          // Update chart without animation
          chartInstanceRef.current.update(''none'');
        }
      }
      
      onDataPointClick({
        chartType: actualChartType,
        series: valueField || ''Count'',
        label: clickedData.label,
        value: clickedData.value,
        records: clickedData.records,
        percentage: (clickedData.value / processData.values.reduce((a, b) => a + b, 0)) * 100
      });
    }
  },
  plugins: {
    title: {
      display: !!title,
      text: title
    },
    legend: {
      display: legend?.show !== false,
      position: legend?.position || ''auto'',
      labels: {
        fontSize: legend?.fontSize || 12
      }
    },
    tooltip: {
      callbacks: {
        label: (context) => {
          const label = context.label || '''';
          const value = formatValue(context.parsed.y || context.parsed);
          return `$' + '{label}: $' + '{value}`;
        }
      }
    },
    datalabels: showDataLabels ? {
      anchor: ''end'',
      align: ''top'',
      formatter: (value) => formatValue(value)
    } : false
  },
  scales: !isPieOrDoughnut ? {
    y: {
      beginAtZero: true,
      ticks: {
        callback: (value) => formatValue(value)
      }
    },
    x: {
      ticks: {
        maxRotation: 45,
        minRotation: 0
      }
    }
  } : undefined
};
```

## Value Formatting

### formatValue Function
```javascript
const formatValue = (value) => {
  if (value == null) return ''N/A'';
  
  // Check if date
  if (value instanceof Date || !isNaN(Date.parse(value))) {
    try {
      return new Date(value).toLocaleDateString(''en-US'', {
        month: ''short'',
        day: ''numeric'',
        year: ''numeric''
      });
    } catch {
      // Not a date, continue
    }
  }
  
  // Check if currency
  const isCurrency = valueField && (
    valueField.toLowerCase().includes(''amount'') ||
    valueField.toLowerCase().includes(''price'') ||
    valueField.toLowerCase().includes(''cost'')
  );
  
  if (isCurrency || (entityInfo && /* check Type === ''money'' */)) {
    return new Intl.NumberFormat(''en-US'', {
      style: ''currency'',
      currency: ''USD''
    }).format(value);
  }
  
  // Format as number with commas
  return new Intl.NumberFormat(''en-US'').format(value);
};
```

## Chart Rendering (useEffect)

### Dependencies
Runs on: `processData`, `canvasRef`, `actualChartType`, `colors`, etc.

### Process
```javascript
useEffect(() => {
  // Check empty state
  if (processData.isEmpty || !canvasRef.current) return;
  
  // Validate Chart.js loaded
  if (!Chart) {
    setError(''Chart.js library not loaded'');
    return;
  }
  
  // Destroy existing chart
  if (chartInstanceRef.current) {
    chartInstanceRef.current.destroy();
  }
  
  // Get canvas context
  const ctx = canvasRef.current.getContext(''2d'');
  
  // Create new Chart.js instance
  chartInstanceRef.current = new Chart(ctx, {
    type: actualChartType,
    data: {
      labels: processData.categories,
      datasets: [/* dataset config */]
    },
    options: {/* options config */}
  });
  
  // Fire onChartRendered event
  if (onChartRendered) {
    onChartRendered({
      chartType: actualChartType,
      dataPointCount: processData.values.length,
      aggregateMethod: aggregateMethod,
      totalValue: processData.values.reduce((a, b) => a + b, 0)
    });
  }
  
  // Cleanup
  return () => {
    if (chartInstanceRef.current) {
      chartInstanceRef.current.destroy();
    }
  };
}, [/* dependencies */]);
```

## Export Functionality (useEffect)

### Implementation
```javascript
useEffect(() => {
  if (enableExport && canvasRef.current) {
    const handleExport = () => {
      const dataURL = canvasRef.current.toDataURL(''image/png'');
      const a = document.createElement(''a'');
      a.href = dataURL;
      a.download = `chart-$' + '{Date.now()}.png`;
      a.click();
    };
    
    // Store in global for button access
    window.SimpleChartExport = handleExport;
    
    return () => {
      delete window.SimpleChartExport;
    };
  }
}, [enableExport, canvasRef]);
```

## Render Output

### Error State
```javascript
if (error) {
  return (
    <div style={{ 
      color: ''#EF4444'', 
      padding: ''20px'', 
      backgroundColor: ''#FEE2E2'',
      height: height || ''400px'',
      display: ''flex'',
      alignItems: ''center'',
      justifyContent: ''center''
    }}>
      {error}
    </div>
  );
}
```

### Empty State
```javascript
if (processData.isEmpty) {
  return (
    <div style={{
      backgroundColor: ''#F3F4F6'',
      height: height || ''400px'',
      display: ''flex'',
      alignItems: ''center'',
      justifyContent: ''center'',
      color: ''#6B7280''
    }}>
      No data available
    </div>
  );
}
```

### Success State
```javascript
return (
  <div style={{ position: ''relative'', height: height || ''400px'' }}>
    {enableExport && (
      <button
        onClick={() => window.SimpleChartExport && window.SimpleChartExport()}
        style={{
          position: ''absolute'',
          top: ''10px'',
          right: ''10px'',
          zIndex: 10,
          padding: ''6px 12px'',
          backgroundColor: ''#3B82F6'',
          color: ''white'',
          border: ''none'',
          borderRadius: ''4px'',
          cursor: ''pointer''
        }}
      >
        ⬇ Export
      </button>
    )}
    <div style={{ height: ''100%'' }}>
      <canvas ref={canvasRef}></canvas>
    </div>
  </div>
);
```

## Performance Optimizations
- Data processing memoized (useMemo) - only recalculates when dependencies change
- Chart instance reused/updated when possible (destroy/recreate only when necessary)
- Animation disabled after initial render (prevents re-animation on interactions)
- Canvas rendering (hardware accelerated via Chart.js)
- Efficient color slicing (no array copies)
'
SET
  @FunctionalRequirementsVector_cc2375eb = N'[-0.04765741899609566,0.059010326862335205,-0.027977444231510162,-0.04973658546805382,0.001149542280472815,-0.02034548670053482,0.03556223586201668,-0.011515762656927109,-0.06978722661733627,0.03211526200175285,-0.012723962776362896,0.016300952062010765,0.02207970805466175,0.11394288390874863,0.005122305825352669,-0.057568445801734924,-0.047449640929698944,0.05057739466428757,0.04127533361315727,0.0055053578689694405,0.050143707543611526,-0.003771895542740822,0.010265203192830086,-0.03253869339823723,-0.044932153075933456,-0.03585786372423172,-0.047388482838869095,0.008653992787003517,0.02344927377998829,-0.10083264857530594,0.01370021142065525,0.06869275867938995,-0.04012414440512657,0.03329865634441376,0.0000021716271021432476,-0.023273605853319168,-0.037469442933797836,0.006794469431042671,-0.007304828613996506,-0.004023849964141846,-0.009078026749193668,-0.0637417733669281,0.036913175135850906,-0.011724576354026794,0.06245037540793419,-0.056943852454423904,-0.05002545192837715,-0.009438435547053814,0.04194476082921028,-0.05996718630194664,0.005151906982064247,-0.011054782196879387,-0.01855461671948433,0.011046312749385834,-0.004350366070866585,0.0166341383010149,-0.023706752806901932,0.032722488045692444,0.0667203888297081,0.013888322748243809,-0.033565785735845566,-0.0035243413876742125,0.032481152564287186,-0.049282319843769073,0.040234483778476715,0.029921449720859528,0.035308923572301865,-0.0053191217593848705,-0.017564844340085983,0.041091181337833405,0.031225530430674553,-0.056015390902757645,-0.006967323832213879,-0.018251731991767883,-0.02907644584774971,-0.023427210748195648,-0.03751976042985916,-0.045902933925390244,0.0009092327090911567,-0.021897917613387108,-0.01710965484380722,0.05703086778521538,-0.04973851889371872,-0.0163104385137558,0.029034988954663277,-0.05575104430317879,0.021409891545772552,-0.020929770544171333,0.0017406392144039273,-0.028500963002443314,-0.012615705840289593,-0.01816648058593273,-0.01751999370753765,0.03297950327396393,-0.01981496997177601,-0.013858890160918236,0.034378789365291595,-0.030341308563947678,0.05371716991066933,0.012466334737837315,0.056590039283037186,0.0415620319545269,0.013687945902347565,0.011889209039509296,0.09148863703012466,0.009731077589094639,0.007459879852831364,-0.052642326802015305,-0.0076662092469632626,0.0026968619786202908,-0.013740291818976402,-0.004649416543543339,0.017043307423591614,0.017064400017261505,0.005700953304767609,0.031883127987384796,-0.027624288573861122,0.014528165571391582,-0.0037609292194247246,0.023976506665349007,0.08945627510547638,0.011307479813694954,0.0038786621298640966,0.03155974671244621,0.03924764320254326,0.03747788444161415,-0.04585409164428711,-0.04138080030679703,-0.0028990183491259813,-0.004544132389128208,-0.02266520820558071,0.010426264256238937,0.05895140394568443,0.018847884610295296,0.008284825831651688,0.05251384526491165,-0.011124254204332829,0.012354838661849499,-0.031532272696495056,-0.018038691952824593,-0.03403693810105324,0.014660855755209923,-0.018340907990932465,-0.007365644909441471,0.03334938362240791,-0.022532671689987183,0.015597470104694366,0.07945822179317474,0.021995265036821365,0.027654683217406273,0.007897958159446716,-0.011858575977385044,0.018310803920030594,0.02713947370648384,-0.05576707422733307,-0.005617176182568073,0.00008038983651204035,0.02416122332215309,0.028878798708319664,-0.004781604744493961,-0.011588999070227146,-0.009303957223892212,0.05587539076805115,0.008143246173858643,-0.04145357385277748,0.041154686361551285,-0.06850050389766693,-0.05126548185944557,-0.12449884414672852,-0.029281655326485634,0.011448558419942856,-0.026516007259488106,-0.004579882603138685,-0.024520089849829674,0.06547100841999054,0.005259095225483179,0.0933610200881958,-0.015237057581543922,-0.033642493188381195,0.0026124014984816313,0.0288227591663599,-0.05261671915650368,0.027447283267974854,0.01950698532164097,0.026740169152617455,-0.00197525043040514,-0.0856565460562706,0.021846121177077293,-0.030447471886873245,0.0069513809867203236,-0.014908709563314915,0.053126368671655655,-0.013241454027593136,0.001560610719025135,0.00246814195998013,-0.005402652081102133,0.03397288918495178,-0.06119362637400627,-0.0005765087553299963,0.06561305373907089,-0.010499222204089165,0.03702903166413307,0.025312870740890503,-0.06288064271211624,0.027049629017710686,-0.014806265011429787,-0.07744104415178299,-0.013499505817890167,-0.02834389917552471,0.009722258895635605,-0.05093548446893692,-0.03217126056551933,-0.029116488993167877,0.0026636046823114157,-0.0003090180398430675,0.0602562241256237,0.0188120249658823,-0.008110384456813335,-0.026468463242053986,-0.016266701743006706,-0.03504762798547745,-0.04441389441490173,0.026815660297870636,-0.027615321800112724,0.13570569455623627,0.017103763297200203,0.027540305629372597,-0.03876074030995369,0.04626409709453583,0.02649088390171528,-0.011703302152454853,-0.01957184262573719,0.058153629302978516,0.005656757857650518,0.020874211564660072,0.037334565073251724,0.025192147120833397,0.020399639382958412,-0.020212283357977867,0.01895136944949627,0.002324746921658516,-0.07572103291749954,-0.04760788008570671,-0.04138263314962387,-0.01203025970607996,-0.05298776552081108,-0.09715677797794342,0.02028718590736389,-0.015071352012455463,-0.03953098878264427,0.016559841111302376,0.022922979667782784,0.035499487072229385,-0.06013166904449463,-0.0274189542979002,-0.054347556084394455,0.0660073459148407,0.03542221337556839,0.0047517442144453526,0.052756957709789276,0.03857209533452988,0.03480925038456917,0.00018579726747702807,-0.0001960037334356457,0.046946022659540176,-0.07780788093805313,0.02571374922990799,0.024571213871240616,-0.009341169148683548,0.017253931611776352,0.019903386011719704,0.026435228064656258,-0.006212600041180849,-0.007032558787614107,-0.025930387899279594,-0.009593472816050053,-0.012317079119384289,0.023935355246067047,-0.0010428201640024781,0.0007874685688875616,-0.06376145780086517,-0.043467700481414795,0.03519684821367264,0.043603673577308655,-0.018849870190024376,-0.019436512142419815,-0.006132889539003372,0.0415472649037838,0.04902390390634537,-0.05031462386250496,-0.03785637393593788,-0.01037860382348299,0.03415999561548233,-0.023496458306908607,-0.021738899871706963,0.016385264694690704,0.06332286447286606,0.04573759064078331,-0.025274407118558884,0.0013704445445910096,-0.029699034988880157,-0.0213360246270895,0.01895979605615139,0.006851039826869965,0.0010872327256947756,0.038351237773895264,0.04806439206004143,0.011505707167088985,0.010283878073096275,0.08564777672290802,0.03529037535190582,-0.0007761711603961885,0.013544691726565361,-0.057504575699567795,0.030323751270771027,0.023200763389468193,-0.048400916159152985,-0.0007992268074303865,0.0033832406625151634,0.04978244751691818,-0.004044180270284414,-0.020535632967948914,0.018763361498713493,-0.024797068908810616,-0.06684388220310211,0.04369562864303589,-0.040572259575128555,-0.0299553070217371,0.005610693246126175,0.01882648468017578,-0.00074526178650558,-0.0511125847697258,0.014415459707379341,-0.013670790009200573,0.049247901886701584,-0.005847714841365814,-0.03419257700443268,-0.012423607520759106,0.00042924046283587813,-0.029967423528432846,0.020332250744104385,0.00025054352590814233,-0.03571990132331848,0.025910429656505585,0.017350174486637115,-0.015462791547179222,0.03725600615143776,0.028595196083188057,-0.06038602069020271,0.015601047314703465,0.03271220624446869,0.03921935707330704,0.018399251624941826,-0.007589014247059822,0.011468913406133652,0.06936919689178467,-0.03026936948299408,0.02274279110133648,-0.03419653698801994,-0.009583237580955029,0.04090933874249458,0.06466814130544662,0.06307164579629898,0.029233841225504875,-0.021305806934833527,0.03513249009847641,0.0022978803608566523,0.029311273247003555,0.026440462097525597,-0.04596835747361183,-0.054277241230010986,0.021418292075395584,0.04950571432709694,0.011420084163546562,-0.03218948468565941,-0.04033345356583595,0.017382655292749405,0.05065065249800682,0.028835443779826164,0.01572212390601635,0.007483344525098801,-0.05332469567656517,0.0886521190404892,-0.01346984226256609,0.03186798468232155,-0.06660706549882889,0.00034144200617447495,-0.017863668501377106,-0.035631947219371796,0.0089704105630517,0.006909745279699564,-0.038083355873823166,0.009531333111226559,-0.015213648788630962,0.012819994240999222,0.020619813352823257,-0.010839547030627728,-0.00119053537491709,0.05760456621646881,-0.007994692772626877,0.0026499705854803324,0.005751864053308964,-0.022818548604846,0.027131183072924614,0.06871368736028671,-0.02490701712667942,-0.045840561389923096,0.049525950103998184,0.016327327117323875,0.006814914755523205,-0.057105619460344315,-0.035274893045425415,-0.05053699389100075,-0.03876330330967903,-0.02354164607822895,0.01591971144080162,-0.01065195631235838,-0.020203260704874992,0.025528911501169205,0.017906727269291878,0.015512929297983646,-0.01225090678781271,0.007223541382700205,0.01460182759910822,0.03952000290155411,-0.0369294174015522,-0.0026179328560829163,-0.046217527240514755,-0.031038915738463402,0.038663290441036224,0.015512175858020782,0.010567867197096348,0.002156804781407118,-0.03710085153579712,-0.06225002557039261,-0.008276702836155891,0.0190536268055439,0.008096982724964619,-0.04165133088827133,-0.0020053768530488014,-0.00761217437684536,-0.011910814791917801,0.08161458373069763,-0.021401027217507362,0.01153767853975296,0.03001215122640133,-0.0362960621714592,0.06219959631562233,-0.010142622515559196,-0.017681509256362915,-0.009092548862099648,-0.011746816337108612,0.008129019290208817,0.020026396960020065,-0.024981288239359856,-0.05074175447225571,-0.004925711080431938,-0.028354275971651077,-0.013026894070208073,0.011253607459366322,-0.01849030703306198,0.014061877503991127,-0.022340746596455574,-0.06443756073713303,0.030943673104047775,0.05124925076961517,0.019868988543748856,0.008275761269032955,-0.03055315650999546,-0.06137237325310707,0.06193022429943085,-0.016916053369641304,-0.012715833261609077,-0.003656643209978938,0.10038892179727554,0.04650040715932846,-0.00285083195194602,-0.030180254951119423,-0.009670589119195938,-0.007007893640547991,0.05391712486743927,0.005999092012643814,0.008898093365132809,-0.05363578349351883,0.06091887876391411,-0.00922749936580658,-0.02218869887292385,-0.06270290166139603,-0.010380005463957787,-0.04073253273963928,-0.028094682842493057,-0.052792686969041824,-0.042768314480781555,0.03500473499298096,0.06903263181447983,0.04294297471642494,-0.04115695506334305,0.015325971879065037,-0.005991445854306221,-0.006824481766670942,-0.038453053683042526,-0.019160998985171318,0.015036489814519882,-0.03392080217599869,-0.03675289452075958,0.05773787572979927,0.04843710735440254,0.0027717044577002525,-0.013694044202566147,0.012636896222829819,-0.02229677140712738,0.006831539794802666,-0.04782523587346077,0.013173138722777367,0.015037407167255878,-0.018792469054460526,-0.0326385423541069,-0.02210962399840355,0.038210924714803696,-0.0010167728178203106,-0.024915702641010284,-0.004888482391834259,-0.006118476390838623,-0.019481584429740906,0.09334171563386917,-0.000854294456075877,0.021924985572695732,-0.00008916485967347398,0.0034958417527377605,0.03804045915603638,0.010214286856353283,-0.05687399581074715,-0.01465215627104044,-0.016858339309692383,-0.025084717199206352,0.07745151966810226,0.008476385846734047,0.017883436754345894,0.039900775998830795,0.004138055257499218,-0.10415534675121307,-0.005636229179799557,0.016169371083378792,-0.039225079119205475,0.08322081714868546,-0.0070614079013466835,0.0022642621770501137,-0.0280996635556221,0.044558361172676086,0.04816146939992905,0.027780523523688316,-0.023977994918823242,-0.01375237200409174,-0.06542596220970154,-0.01800825633108616,-6.835628219726223e-33,-0.00965089350938797,-0.01284743845462799,-0.03658673167228699,-0.017184026539325714,-0.02791302278637886,-0.018904462456703186,0.025595538318157196,-0.035992588847875595,-0.016338476911187172,-0.019730044528841972,-0.01654812879860401,-0.008291712030768394,0.0034274545032531023,0.004203499760478735,0.04219996556639671,0.0008009371813386679,0.02219158411026001,-0.009783847257494926,-0.01756671629846096,0.014215175062417984,-0.014098592102527618,0.01870083063840866,-0.01825413480401039,-0.07122783362865448,-0.012067590840160847,0.01437755674123764,-0.016217397525906563,0.007532496936619282,-0.020750559866428375,0.026048749685287476,0.015382431447505951,-0.008453276939690113,-0.006862299516797066,0.013798067346215248,-0.026524430140852928,-0.03284047171473503,-0.036729052662849426,-0.03628360480070114,-0.012060503475368023,-0.01546500064432621,0.05597076565027237,0.04504498839378357,0.032993678003549576,-0.01889801025390625,0.031242161989212036,-0.03363937884569168,-0.02885635383427143,-0.011201216839253902,-0.03862661123275757,-0.009430832229554653,0.03389439731836319,0.019959326833486557,0.0056276945397257805,-0.005435443948954344,-0.03798336163163185,0.04658239707350731,0.03709055483341217,0.10804013162851334,-0.05293351784348488,0.03043033555150032,-0.07424883544445038,-0.08128581196069717,0.02783157117664814,0.039113849401474,0.0775391086935997,-0.011229620315134525,-0.001804877771064639,0.004684103652834892,-0.050270285457372665,-0.010927379131317139,-0.0095348646864295,-0.036000944674015045,0.02304372750222683,-0.06733260303735733,0.06760942935943604,0.0077371420338749886,-0.02292218618094921,0.001892438973300159,-0.06491255015134811,-0.013861645013093948,-0.043036460876464844,0.03291444852948189,-0.03534116968512535,0.00824380200356245,0.018824156373739243,-0.016112923622131348,0.000298376806313172,-0.001282176817767322,-0.005368438549339771,0.021798834204673767,-0.043940432369709015,0.03270934522151947,-0.0644337385892868,0.05914405360817909,-0.0028667906299233437,-0.027864161878824234,0.03222328796982765,0.05909270420670509,0.005181682296097279,-0.013855011202394962,0.00954449363052845,0.03349211812019348,-0.037683311849832535,-0.031798455864191055,-0.017062101513147354,0.023734698072075844,0.015266325324773788,0.02499786950647831,-0.08504469692707062,0.009988203644752502,0.022020546719431877,-0.039857227355241776,-0.022223355248570442,-0.024139102548360825,0.024582980200648308,-0.021304307505488396,0.0005580074503086507,-0.023040693253278732,0.05966111645102501,0.052910372614860535,-0.015781782567501068,-0.01725384220480919,-0.05040975660085678,0.013049826957285404,0.07763379067182541,-0.012613406404852867,0.002814380917698145,-0.13336482644081116,0.010275701060891151,0.02750650979578495,0.012828193604946136,-0.026377025991678238,3.040762237560557e-7,0.010076311416924,-0.007504936773329973,-0.003494785400107503,0.01575174182653427,0.01907368190586567,-0.007842586375772953,-0.03323378413915634,-0.02028774656355381,-0.025201912969350815,-0.03918217495083809,-0.003910423722118139,0.02166060172021389,0.02455691248178482,0.0790114775300026,0.0318998321890831,0.033171333372592926,-0.013166128657758236,-0.05862370878458023,-0.018056269735097885,0.052932895720005035,0.019406266510486603,0.024101898074150085,0.05979769304394722,-0.012003195472061634,-0.0119863236322999,-0.009707850404083729,0.0024000618141144514,0.025661330670118332,0.002703198231756687,-0.012361518107354641,0.012884493917226791,0.03543766587972641,-0.01881946064531803,0.01617361418902874,0.006444624159485102,0.03444892168045044,-0.04121333733201027,-0.049233827739953995,-0.0034169331192970276,0.11235484480857849,0.03447183221578598,-0.003506593406200409,0.018406115472316742,0.01178976520895958,0.014827990904450417,-0.0450049452483654,-0.04869110509753227,0.05895255506038666,0.03912097215652466,0.04796256870031357,0.03352193161845207,-0.006887862458825111,-0.06319905072450638,-0.04951038211584091,0.01212881226092577,-0.00317381601780653,0.037783101201057434,0.0718056932091713,0.01950494572520256,0.07880302518606186,-0.0027044559828937054,-0.05640970543026924,0.015896914526820183,0.05591181665658951,0.014999614097177982,0.012626015581190586,-0.04290396720170975,4.129771089715342e-34,0.06833969056606293,-0.0481242872774601,0.028047533705830574,0.0108963493257761,0.026334190741181374,-0.02329801209270954,-0.02889125421643257,-0.01856880448758602,0.047771669924259186,-0.06524328142404556,-0.011586582288146019]'
SET
  @TechnicalDesignVector_cc2375eb = N'[-0.02454892173409462,0.033770959824323654,-0.032929521054029465,-0.05471473187208176,0.009395030327141285,0.00019741544383578002,0.06898927688598633,-0.002173028886318207,-0.008587519638240337,0.016928162425756454,0.0023006789851933718,-0.01976640708744526,0.03613491356372833,0.07625755667686462,-0.004573726560920477,-0.05100676044821739,-0.02469867281615734,0.05002836138010025,0.012744985520839691,-0.005073886830359697,0.02636139839887619,-0.026724351570010185,-0.03102726675570011,-0.01730930618941784,-0.035900745540857315,-0.04851070046424866,-0.032862450927495956,-0.0029320658650249243,0.03874105215072632,-0.0585007481276989,-0.010659269988536835,0.06714612245559692,-0.059106774628162384,0.021167665719985962,0.0000023676964246988064,-0.007000600919127464,-0.026664679870009422,-0.005621322430670261,0.013009918853640556,-0.03386949002742767,0.055799536406993866,-0.03793274611234665,0.016873793676495552,0.005053156055510044,0.026962874457240105,-0.11024601757526398,-0.05486096069216728,-0.09468471258878708,0.08287334442138672,-0.03120153397321701,-0.0014822569210082293,0.0386931411921978,-0.01406625285744667,0.02208910696208477,0.016379596665501595,0.01937014050781727,-0.022635437548160553,0.020722704008221626,0.07390550523996353,-0.014122123830020428,-0.011388730257749557,-0.03305954113602638,0.02120925299823284,-0.029810162261128426,0.00919064786285162,0.03562142327427864,0.06474298238754272,-0.015146289020776749,-0.01818999834358692,0.05669097602367401,0.0824604406952858,-0.014669130556285381,-0.013502228073775768,-0.00031762899016030133,-0.020443815737962723,0.008223921991884708,-0.011890475638210773,-0.018328385427594185,-0.006669425405561924,-0.01013194676488638,-0.032569851726293564,0.0809837356209755,-0.044375233352184296,-0.006453606765717268,-0.002592233009636402,0.00954545009881258,0.004762922879308462,0.009306238032877445,-0.03921477496623993,-0.05823758617043495,-0.019114162772893906,0.009524042718112469,-0.0003184982342645526,0.026695171371102333,0.006412270478904247,0.013313645496964455,0.020764948800206184,-0.12567201256752014,0.036778852343559265,-0.01125470269471407,0.02723713405430317,0.03649206832051277,0.014084940776228905,0.007963744923472404,0.09977433830499649,0.023979444056749344,0.027041161432862282,-0.076225645840168,-0.013320556841790676,-0.02079174481332302,0.018830284476280212,-0.0033740983344614506,0.04739394038915634,-0.012786014936864376,-0.018848931416869164,0.010585910640656948,-0.02505195513367653,0.005525488406419754,-0.025244692340493202,0.015927903354167938,0.06311861425638199,-0.020498402416706085,-0.013951649889349937,0.0018691705772653222,0.01208297535777092,0.008110787719488144,-0.02140943706035614,-0.05672276392579079,0.027535051107406616,0.001914834138005972,-0.009103960357606411,-0.02462492138147354,0.041132763028144836,0.013424585573375225,-0.028653040528297424,-0.004124390427023172,0.007652532309293747,0.04209256172180176,0.03001314029097557,-0.008900661952793598,-0.022291887551546097,0.02870977111160755,0.034512534737586975,0.009079096838831902,0.024139687418937683,0.00482551334425807,0.02380344830453396,0.04189474508166313,-0.007823643274605274,0.00479523791000247,0.006427939049899578,0.020335355773568153,-0.008447241969406605,0.01820918172597885,-0.019968876615166664,0.019634665921330452,-0.01256899256259203,-0.018589278683066368,0.022784823551774025,-0.03106207214295864,-0.008712232112884521,0.0009451479418203235,0.03015461377799511,0.011733824387192726,-0.03071758523583412,0.030505510047078133,-0.07565166056156158,-0.058677978813648224,-0.10677719116210938,-0.029445046558976173,0.002288847230374813,-0.018628889694809914,-0.025656579062342644,-0.025979332625865936,0.03647449240088463,-0.027808457612991333,0.029186243191361427,0.03277187421917915,-0.0784122496843338,0.04727404564619064,0.01010506134480238,-0.08213374763727188,0.007610427215695381,0.011253232136368752,0.09143707901239395,-0.01139888260513544,-0.037222299724817276,0.01654548943042755,-0.006304812151938677,0.032533854246139526,-0.010732624679803848,0.0318327359855175,0.028135795146226883,0.006164720747619867,-0.024493444710969925,-0.01019070204347372,0.0042124860920012,0.012512491084635258,0.01886618137359619,0.04671836271882057,-0.004905944690108299,0.022993851453065872,0.017084823921322823,-0.025547442957758904,0.004135027062147856,0.008508310653269291,-0.13641971349716187,-0.0019516411703079939,-0.03202005848288536,-0.012943160720169544,-0.07575134932994843,-0.010416675359010696,-0.04222385212779045,0.006122388876974583,0.008447771891951561,0.044497501105070114,-0.017016993835568428,-0.0049844346940517426,-0.021010207012295723,0.005604799371212721,-0.05093036964535713,-0.06762613356113434,0.03545999899506569,-0.01998041570186615,0.18278980255126953,0.013321202248334885,-0.01790883205831051,-0.032112542539834976,0.045462366193532944,0.023238904774188995,-0.009587150998413563,-0.014670570380985737,0.041739530861377716,0.014420034363865852,0.0007391377002932131,0.035774242132902145,-0.05404588580131531,-0.016564203426241875,0.014004413969814777,0.06030764430761337,0.01148985791951418,-0.003264670493081212,-0.0706639364361763,-0.017750728875398636,-0.006809754762798548,-0.0007081691874191165,-0.06652116775512695,0.016126925125718117,-0.03917037695646286,0.002356230514124036,0.02769416756927967,0.0255301371216774,0.013577844947576523,-0.056093331426382065,-0.030984660610556602,-0.09709420800209045,0.07559160888195038,0.02862592041492462,0.023513514548540115,0.06238769367337227,0.07501336932182312,0.046683844178915024,-0.026623519137501717,-0.000571560871321708,0.01065558660775423,-0.06863792985677719,0.022745449095964432,0.0017903882544487715,-0.031167084351181984,0.029363321140408516,0.03519289568066597,0.04592189937829971,0.00823782104998827,-0.00013528695853892714,-0.03152582794427872,-0.0011124243028461933,-0.022515349090099335,0.04329404607415199,0.016203468665480614,-0.003084761556237936,-0.03521096333861351,-0.04844127967953682,0.0575554221868515,0.026241086423397064,-0.015374341048300266,0.020140361040830612,-0.00741824833676219,-0.022010140120983124,0.039308901876211166,-0.07867983728647232,-0.0194355770945549,-0.003991315606981516,0.018130172044038773,-0.013859331607818604,-0.01629732921719551,0.03031979128718376,0.09725701808929443,0.037650853395462036,-0.008697519078850746,0.02120816707611084,-0.023186130449175835,0.003841916099190712,0.008661956526339054,0.006308447103947401,0.007963067851960659,0.00783100537955761,0.030137505382299423,0.028094299137592316,0.002722043078392744,0.07099968194961548,-0.005871158093214035,0.002171821426600218,-0.013431050814688206,-0.03257927671074867,-0.020387744531035423,0.03811418265104294,0.005537732969969511,-0.03120414726436138,-0.023101624101400375,0.00404313812032342,-0.03775813430547714,-0.029983794316649437,-0.011623399332165718,-0.013092702254652977,-0.08810409158468246,0.019376300275325775,0.02312382496893406,-0.027975618839263916,0.029900265857577324,0.004971431102603674,-0.010192654095590115,-0.03898289427161217,0.007332242093980312,0.026331035420298576,0.034329455345869064,0.0006060196901671588,-0.0384114570915699,-0.0865723192691803,0.03945555165410042,0.00686220545321703,0.0064403219148516655,0.024861104786396027,-0.026927310973405838,0.020836377516388893,0.042226411402225494,-0.0029964842833578587,-0.01868104189634323,0.04832885414361954,-0.06643953174352646,-0.0028540799394249916,-0.009775885380804539,0.017795655876398087,0.0074785188771784306,0.01847376488149166,0.021338144317269325,0.04725423455238342,-0.03546810522675514,-0.003993910737335682,-0.0369441844522953,-0.030619561672210693,0.06629682332277298,0.0752020925283432,0.03999228775501251,-0.010642538778483868,-0.03122815117239952,-0.009470656514167786,0.00041637950926087797,0.028882591053843498,0.008084629662334919,-0.028893843293190002,-0.014917713589966297,0.024799862876534462,0.05053647235035896,-0.015157846733927727,-0.04978637397289276,-0.039789680391550064,0.03964097797870636,0.051819100975990295,0.022359438240528107,0.006639119237661362,0.029089264571666718,-0.019223418086767197,0.09779097884893417,0.002566748298704624,0.05130104348063469,-0.027928419411182404,0.017000721767544746,-0.010012591257691383,-0.01551058143377304,0.017425835132598877,0.0053855907171964645,-0.016222912818193436,0.040655866265296936,-0.012864261865615845,0.01972994953393936,0.062317099422216415,0.01363434363156557,-0.02006789855659008,0.09261606633663177,0.0000035838672829413554,0.014569917693734169,-0.014638048596680164,0.020257150754332542,0.0010337173007428646,0.04125364124774933,-0.034144461154937744,-0.04760420322418213,0.04769444093108177,0.03222251683473587,-0.007288697175681591,-0.028850499540567398,0.003119401866570115,-0.02277451567351818,-0.02129991166293621,-0.0430927574634552,0.003716511419042945,0.006064357236027718,-0.02599353902041912,0.05898024141788483,0.016011541709303856,-0.008725355379283428,-0.033444371074438095,0.04779357463121414,-0.009899478405714035,0.05651906877756119,-0.010861891321837902,-0.020788278430700302,-0.01778499223291874,-0.036710649728775024,0.01520715281367302,0.026468517258763313,0.0031279188115149736,0.011789226904511452,0.05741174519062042,-0.06350438296794891,0.01034252718091011,0.005666805896908045,0.011272107250988483,0.02843528427183628,-0.009362423792481422,-0.038293465971946716,-0.005282409023493528,0.07261054962873459,-0.03461272269487381,-0.007563209161162376,0.023110223934054375,-0.014390441589057446,0.04885908216238022,0.03744560480117798,0.013563297688961029,-0.016185853630304337,0.005216789431869984,-0.05484752729535103,-0.03021383285522461,0.017596041783690453,-0.03563878312706947,0.012270507402718067,-0.04612450674176216,-0.011251704767346382,0.028797337785363197,-0.017384445294737816,0.012666827067732811,-0.03147069737315178,-0.03083960898220539,0.00782002042979002,0.05504464730620384,-0.008888434618711472,-0.0614481084048748,-0.007854470051825047,-0.028508499264717102,0.036642517894506454,-0.04162636399269104,-0.023747850209474564,0.027300817891955376,0.12342440336942673,0.028893521055579185,0.012658240273594856,-0.008665326051414013,-0.0009041891316883266,-0.007863644510507584,0.020127875730395317,0.016769129782915115,-0.056246317923069,-0.05806102231144905,0.029132498428225517,-0.031207557767629623,-0.007978163659572601,-0.0212930366396904,0.011105796322226524,-0.028130831196904182,-0.031155603006482124,-0.04096387326717377,-0.04902510717511177,0.0532430075109005,0.07813631743192673,0.031088504940271378,0.0005622613825835288,0.04974321648478508,-0.007870873436331749,-0.03719203546643257,-0.02428673580288887,-0.005798236932605505,-0.00014606623153667897,-0.01655229553580284,-0.016790328547358513,0.015118311159312725,-0.0016946665709838271,0.009690440259873867,0.009973636828362942,0.005892633926123381,-0.015399038791656494,-0.014326194301247597,-0.02523072063922882,-0.006458457093685865,0.027616186067461967,-0.03280896320939064,-0.047767892479896545,0.03212018683552742,0.05254325270652771,-0.013097705319523811,0.0024644655641168356,0.011306789703667164,-0.016160404309630394,-0.016689270734786987,0.06583507359027863,-0.009540047496557236,0.02637455053627491,-0.006014225538820028,0.04897487536072731,0.040665917098522186,0.05029746890068054,-0.01946399360895157,-0.02936026081442833,-0.01760985516011715,-0.03213223069906235,0.029102908447384834,-0.04261593148112297,-0.011874716728925705,0.04353286325931549,-0.022772546857595444,-0.054563309997320175,-0.005893521010875702,0.03187180310487747,-0.023203235119581223,0.050772588700056076,-0.02637564390897751,-0.01787426695227623,-0.042553603649139404,0.03843003138899803,0.003504429943859577,0.016390832141041756,0.02217569202184677,0.042549535632133484,-0.02505594864487648,-0.007960139773786068,-7.121816278429325e-33,0.0013556212652474642,0.0035074877087026834,-0.020686639472842216,0.018251720815896988,-0.05764355883002281,-0.0125757260248065,-0.02860773727297783,-0.05346904695034027,0.011415863409638405,-0.023264659568667412,-0.025176281109452248,-0.0204087533056736,0.00698417192324996,0.0037437716964632273,0.01658453419804573,0.02950163185596466,0.025079874321818352,-0.023318713530898094,-0.012282433919608593,0.022220203652977943,0.013574361801147461,0.053766608238220215,-0.013581077568233013,-0.023631956428289413,-0.009250808507204056,-0.024031667038798332,-0.02205200307071209,0.011226776987314224,-0.029564661905169487,-0.015004772692918777,-0.004832923412322998,-0.03492498770356178,0.001631382736377418,-0.05356072261929512,-0.015700150281190872,-0.004412374924868345,-0.09644806385040283,-0.01294042356312275,-0.027883457019925117,-0.001386116142384708,0.06107049807906151,0.049369849264621735,0.0020937027875334024,-0.010689513757824898,0.021735114976763725,-0.033134959638118744,-0.0561981238424778,0.014174101874232292,-0.04310246556997299,-0.03731444105505943,0.023823173716664314,0.04155493900179863,0.006910216528922319,0.022801436483860016,-0.016918374225497246,0.022410422563552856,0.040126606822013855,0.04290767386555672,-0.0927291065454483,0.03668610006570816,-0.0916348397731781,-0.047594863921403885,0.023655077442526817,0.07816895097494125,0.05749315395951271,-0.012875420041382313,-0.01813342422246933,0.07073502242565155,-0.0819970890879631,0.03733338415622711,0.013380253687500954,-0.04473734647035599,-0.04418085142970085,-0.031883034855127335,0.07448916137218475,0.008578700944781303,-0.023953896015882492,0.02142961509525776,-0.009151402860879898,0.022104160860180855,-0.018014531582593918,0.050910405814647675,-0.043933283537626266,-0.001380901550874114,0.014630275778472424,0.041608843952417374,0.03345214203000069,0.0029382153879851103,-0.026619210839271545,0.007350127212703228,-0.06860719621181488,0.055830784142017365,-0.05120624601840973,0.03926824405789375,-0.03507990762591362,-0.05600618198513985,0.054312121123075485,0.06336646527051926,-0.01793273538351059,-0.018997112289071083,0.020066211000084877,0.0033318381756544113,-0.007878712378442287,0.003981930669397116,0.008208447135984898,-0.01251224335283041,0.03505418822169304,0.019158797338604927,-0.06279682368040085,-0.007296740543097258,0.038111135363578796,0.012817330658435822,-0.02485688403248787,-0.03339151665568352,0.03584924340248108,-0.003472234820947051,0.0028388218488544226,-0.013790521770715714,0.062129441648721695,0.081048883497715,0.012431871145963669,-0.0016301742289215326,-0.03908709064126015,0.026417547836899757,0.033534470945596695,-0.041398778557777405,-0.0033442676067352295,-0.1464361995458603,0.004473889712244272,0.01661270298063755,0.012366196140646935,-0.030987754464149475,3.232075869163964e-7,0.002528187818825245,-0.0016816967399790883,0.025364892557263374,-0.01742229051887989,0.017899252474308014,-0.012946360744535923,-0.04243459925055504,-0.058239635080099106,-0.025775577872991562,-0.042195774614810944,0.00654977560043335,0.01602708362042904,0.041757307946681976,0.05240922048687935,0.03602078557014465,-0.02924918755888939,-0.016415810212492943,-0.045745208859443665,-0.0388970822095871,0.029095949605107307,-0.002301623113453388,-0.003289405256509781,0.06342708319425583,-0.019164569675922394,-0.016853591427206993,0.0225837342441082,0.02111717313528061,0.008068745024502277,0.011969420127570629,-0.04032793641090393,0.05218525603413582,-0.055065419524908066,-0.02477223612368107,-0.00674818828701973,0.013426968827843666,0.01631408929824829,-0.021468691527843475,-0.04761660844087601,0.01251649297773838,0.0922696441411972,0.038373783230781555,-0.0023298815358430147,-0.006299896631389856,-0.016172342002391815,0.012092349119484425,-0.03381647914648056,-0.07156269252300262,0.03699447587132454,-0.036813270300626755,0.06490573287010193,-0.035072751343250275,-0.0060115656815469265,-0.00661097839474678,-0.023182231932878494,0.02322067692875862,-0.060853175818920135,0.04772600904107094,0.051961224526166916,-0.0013366485945880413,0.029665233567357063,-0.022702571004629135,-0.00847316812723875,0.013636313378810883,0.05163692682981491,0.028900016099214554,-0.00045290630077943206,-0.04035013169050217,4.060543656001525e-34,0.029055925086140633,-0.04643527790904045,0.01657421514391899,-0.009282873943448067,0.019590675830841064,-0.04094813019037247,0.0153111657127738,-0.0073576681315898895,0.02592250145971775,-0.035054344683885574,-0.022230293601751328]'
SET
  @HasCustomProps_cc2375eb = 1
SET
  @HasCustomEvents_cc2375eb = 1
SET
  @RequiresData_cc2375eb = 1
SET
  @DependencyCount_cc2375eb = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_cc2375eb = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_cc2375eb = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_cc2375eb = 1
SET
  @ID_cc2375eb = '21A95BC1-2CCD-4949-A90F-4262F1DBDB62'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_cc2375eb,
  @Name = @Name_cc2375eb,
  @Version = @Version_cc2375eb,
  @VersionSequence = @VersionSequence_cc2375eb,
  @Title = @Title_cc2375eb,
  @Description = @Description_cc2375eb,
  @Type = @Type_cc2375eb,
  @Status = @Status_cc2375eb,
  @DeveloperName = @DeveloperName_cc2375eb,
  @DeveloperEmail = @DeveloperEmail_cc2375eb,
  @DeveloperOrganization = @DeveloperOrganization_cc2375eb,
  @SourceRegistryID = @SourceRegistryID_cc2375eb,
  @ReplicatedAt = @ReplicatedAt_cc2375eb,
  @LastSyncedAt = @LastSyncedAt_cc2375eb,
  @Specification = @Specification_cc2375eb,
  @FunctionalRequirements = @FunctionalRequirements_cc2375eb,
  @TechnicalDesign = @TechnicalDesign_cc2375eb,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_cc2375eb,
  @TechnicalDesignVector = @TechnicalDesignVector_cc2375eb,
  @HasCustomProps = @HasCustomProps_cc2375eb,
  @HasCustomEvents = @HasCustomEvents_cc2375eb,
  @RequiresData = @RequiresData_cc2375eb,
  @DependencyCount = @DependencyCount_cc2375eb,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_cc2375eb,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_cc2375eb,
  @HasRequiredCustomProps = @HasRequiredCustomProps_cc2375eb,
  @ID = @ID_cc2375eb;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_1af6ad25 NVARCHAR(MAX),
@Name_1af6ad25 NVARCHAR(500),
@Version_1af6ad25 NVARCHAR(50),
@VersionSequence_1af6ad25 INT,
@Title_1af6ad25 NVARCHAR(1000),
@Description_1af6ad25 NVARCHAR(MAX),
@Type_1af6ad25 NVARCHAR(255),
@Status_1af6ad25 NVARCHAR(50),
@DeveloperName_1af6ad25 NVARCHAR(255),
@DeveloperEmail_1af6ad25 NVARCHAR(255),
@DeveloperOrganization_1af6ad25 NVARCHAR(255),
@SourceRegistryID_1af6ad25 UNIQUEIDENTIFIER,
@ReplicatedAt_1af6ad25 DATETIMEOFFSET,
@LastSyncedAt_1af6ad25 DATETIMEOFFSET,
@Specification_1af6ad25 NVARCHAR(MAX),
@FunctionalRequirements_1af6ad25 NVARCHAR(MAX),
@TechnicalDesign_1af6ad25 NVARCHAR(MAX),
@FunctionalRequirementsVector_1af6ad25 NVARCHAR(MAX),
@TechnicalDesignVector_1af6ad25 NVARCHAR(MAX),
@HasCustomProps_1af6ad25 BIT,
@HasCustomEvents_1af6ad25 BIT,
@RequiresData_1af6ad25 BIT,
@DependencyCount_1af6ad25 INT,
@TechnicalDesignVectorEmbeddingModelID_1af6ad25 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_1af6ad25 NVARCHAR(MAX),
@HasRequiredCustomProps_1af6ad25 BIT,
@ID_1af6ad25 UNIQUEIDENTIFIER
SET
  @Namespace_1af6ad25 = N'Generic/UI/Chart'
SET
  @Name_1af6ad25 = N'SimpleDrilldownChart'
SET
  @Version_1af6ad25 = N'1.0.0'
SET
  @VersionSequence_1af6ad25 = 1
SET
  @Title_1af6ad25 = N'Simple Drilldown Chart'
SET
  @Description_1af6ad25 = N'FIXED TWO-LEVEL DRILL-DOWN ONLY: Chart-to-table component with HARDCODED vertical layout. Shows chart at top, data grid at bottom when clicking segments.

#### SimpleDrilldownChart - ONLY use when:
✅ Exactly 2 levels: Chart → Table (no more)
✅ Single aggregation dimension (group by ONE field)
✅ Drill-down shows detail records from same entity

❌ DO NOT USE SimpleDrilldownChart when:
- 3+ drill levels needed (chart → chart → table)
- Chart-to-chart drill-down (must be chart → table only)
- Multiple aggregation dimensions (e.g., "by Industry then by Region")
- Progressive hierarchy drill-downs
- Any pattern more complex than "click segment, see records"
- User asks for ''sub-charts'' or ''nested chart'' or ''drill into another chart''
- Need multi-level drill-downs (chart→chart→table or 3+ levels)
- Nested visualizations
- Progressive dimension drill-downs (Industry→Region→Accounts)

This component CANNOT support custom drill hierarchies - must create custom component for complex multi-level patterns. Example that requires custom component: ''Accounts by Industry, click to see chart by Region, click to see table of accounts'' (3 levels).
'
SET
  @Type_1af6ad25 = N'Chart'
SET
  @Status_1af6ad25 = N'Published'
SET
  @Specification_1af6ad25 = N'{"name":"SimpleDrilldownChart","title":"Simple Drilldown Chart","description":"FIXED TWO-LEVEL DRILL-DOWN ONLY: Chart-to-table component with HARDCODED vertical layout. Shows chart at top, data grid at bottom when clicking segments.\n\n#### SimpleDrilldownChart - ONLY use when:\n✅ Exactly 2 levels: Chart → Table (no more)\n✅ Single aggregation dimension (group by ONE field)\n✅ Drill-down shows detail records from same entity\n\n❌ DO NOT USE SimpleDrilldownChart when:\n- 3+ drill levels needed (chart → chart → table)\n- Chart-to-chart drill-down (must be chart → table only)\n- Multiple aggregation dimensions (e.g., \"by Industry then by Region\")\n- Progressive hierarchy drill-downs\n- Any pattern more complex than \"click segment, see records\"\n- User asks for ''sub-charts'' or ''nested chart'' or ''drill into another chart''\n- Need multi-level drill-downs (chart→chart→table or 3+ levels)\n- Nested visualizations\n- Progressive dimension drill-downs (Industry→Region→Accounts)\n\nThis component CANNOT support custom drill hierarchies - must create custom component for complex multi-level patterns. Example that requires custom component: ''Accounts by Industry, click to see chart by Region, click to see table of accounts'' (3 levels).\n","type":"chart","location":"embedded","functionalRequirements":"## Purpose\n**FIXED two-level pattern ONLY**: Chart → Table. Built-in drill-down from chart segment to filtered data grid. Composes SimpleChart + DataGrid + optional SingleRecordView with automatic state management.\n\n## Architectural Limitation\n**HARDCODED vertical structure**: This component implements exactly ONE pattern - click chart, see table below. It **CANNOT** support:\n- Chart-to-chart transitions\n- Three or more drill levels (chart → chart → table)\n- Dynamic level insertion\n- Custom hierarchy depths\n- Multiple chart children\n- Progressive multi-dimensional drill-downs\n\nFor complex drill patterns, use multiple SimpleChart instances with custom state management.\n\n## Data Requirements\n- **Input**: Array of objects (detail-level entity records)\n- **Aggregation**: SimpleChart performs client-side grouping\n- **Optional**: `entityName` for metadata formatting and record opening\n\n## Two Layout Modes\n\n### Mode 1: Two-Column (Default)\n**`showSingleRecordView={false}`**\n\nVertical stack:\n1. **Chart** (top, full width)\n2. **Info Bar** (middle, when segment selected)\n   - Segment label\n   - Aggregated value (formatted with commas)\n   - Record count\n   - Percentage of total\n   - Clear selection button\n3. **DataGrid** (bottom, full width)\n   - Filtered records from clicked segment\n   - Sortable, filterable, pageable\n   - **Row click behavior**:\n     - If `entityName` + `entityPrimaryKeys` provided → Opens record via callbacks.OpenEntityRecord\n     - Else → Read-only grid\n\n### Mode 2: Three-Column (Entity Mode)\n**`showSingleRecordView={true}` + `entityName` required**\n\nLayout:\n1. **Chart** (top, full width)\n2. **Info Bar** (middle, when segment selected)\n3. **Side-by-side below**:\n   - **DataGrid** (left, 60% width) - List of records\n   - **SingleRecordView** (right, 40% width) - Selected record details\n\n**Row click behavior in this mode**:\n- Clicking grid row populates SingleRecordView panel (does NOT open record form)\n- To open full record form, use OpenRecordButton in SingleRecordView (set `allowOpenRecord={true}`)\n\n## Required Props\n\n### Minimal Configuration\n```javascript\n<SimpleDrilldownChart\n  data={salesData}\n  groupBy=\"ProductCategory\"\n/>\n```\n- Uses count aggregation by default\n- Auto-detects chart type\n- Auto-detects grid columns\n\n### With Entity Features\n```javascript\n<SimpleDrilldownChart\n  data={invoices}\n  entityName=\"Invoices\"\n  entityPrimaryKeys={[''ID'']}\n  groupBy=\"Status\"\n  valueField=\"Amount\"\n  aggregateMethod=\"sum\"\n/>\n```\n- Metadata-driven formatting\n- Row click opens record form\n- Optional SingleRecordView integration\n\n## Chart Configuration\nAll SimpleChart props pass through:\n- **chartType**: bar | line | pie | doughnut | area | scatter (auto-detected if omitted)\n- **groupBy**: Field to group by (required)\n- **valueField**: Field to aggregate (required for sum/average/min/max)\n- **aggregateMethod**: count | sum | average | min | max\n- **sortBy**: ''value'' | ''label'' | undefined (preserves order)\n- **sortOrder**: ''asc'' | ''desc''\n- **limit**: Top-N limiting\n- **colors**: Custom color palette\n- **legend**, **showDataLabels**, **enableExport**: All SimpleChart features\n\n## Grid Configuration\n\n### Column Selection\n`gridFields={[''InvoiceNumber'', ''CustomerName'', ''Amount'', ''DueDate'']}`:\n- Explicit column list\n- Controls column order\n\n**Auto-detection** (if omitted):\n- Discovers from first record in segment\n- Filters out `__mj` system fields, `ID`, nested objects\n- Limits to first 10 fields\n- Uses metadata DisplayName for headers\n\n### Grid Features\nAll DataGrid features available:\n- Sorting (column headers)\n- Text filtering (search box)\n- Pagination (configurable page size)\n- Row selection (if needed for batch operations)\n- Custom column rendering\n\n`drilldownHeight` prop: Sets grid container height (default 300px)\n\n## Entity Integration\n\n### Metadata Formatting\nWhen `entityName` provided:\n- Dates formatted with locale (Jan 15, 2024)\n- Currency fields show $USD\n- Boolean fields show Yes/No\n- Value lists show colored tags\n- Number fields right-aligned\n\n### Record Opening\n**Two-column mode** (`showSingleRecordView={false}`):\n- Requires both `entityName` AND `entityPrimaryKeys` props\n- Example: `entityPrimaryKeys={[''ID'']}` for single key\n- Example: `entityPrimaryKeys={[''OrderID'', ''LineNumber'']}` for composite key\n- Row click calls `callbacks.OpenEntityRecord(entityName, keyValues)`\n- Opens full record form in MemberJunction\n\n**Three-column mode** (`showSingleRecordView={true}`):\n- Requires `entityName` only\n- Row click populates SingleRecordView panel (right side)\n- Does NOT open full record form on row click\n- Use `allowOpenRecord={true}` on SingleRecordView for Open Record button\n\n## Visual States\n\n### Initial State\n- Chart only (full width)\n- No info bar\n- No grid\n- Blue border: none\n\n### Segment Selected State\n- Chart has **blue 2px border** (highlight)\n- Info bar slides down (light blue background #f0f5ff, 4px left border #1890ff)\n- Grid slides in below with filtered records\n- Smooth CSS animations (slideDown, slideIn)\n\n### Clear Selection\n- \"Clear Selection\" button in info bar\n- Resets to initial state\n- Hides grid with smooth animation\n\n## State Management\nComponent manages three state variables:\n1. **selectedSegment**: `{label, value, records: Array, percentage}`\n2. **showGrid**: Boolean to control grid visibility\n3. **selectedRecord**: For SingleRecordView (three-column mode only)\n\nState flow:\n```\nInitial → Click chart segment → Set selectedSegment + showGrid=true\n       → Grid renders with segment.records\n       → (Optional) Click grid row → Set selectedRecord → SingleRecordView updates\n       → Click \"Clear Selection\" → Reset all state\n```\n\n## Events\n\n1. **segmentSelected**: `({segment}) => void`\n   - Fired when chart segment clicked\n   - Includes full segment data with records array\n\n2. **selectionCleared**: `() => void`\n   - Fired when clear button clicked\n\n3. **rowSelected**: `({record, segment}) => void`\n   - Fired when grid row clicked (three-column mode)\n\n4. **dataPointClick**: Bubbles from SimpleChart\n5. **All DataGrid events**: rowClick, pageChanged, sortChanged, etc.\n\n## Component Composition\nRequires from components registry:\n- **SimpleChart**: For chart rendering (required)\n- **DataGrid**: For table display (required)\n- **SingleRecordView**: For detail panel (optional, three-column mode only)\n\nShows error if DataGrid not found.\n\n## Styling\n\n### Info Bar\n- Light blue background: #f0f5ff\n- Blue left border: 4px #1890ff\n- Padding: 12px 16px\n- Flex layout: label/value on left, button on right\n\n### Chart Border\n- Normal: No border\n- Selected: 2px solid #1890ff (blue highlight)\n\n### Grid Container\n- Border: 1px solid #d9d9d9\n- Height: `drilldownHeight` prop (default 300px)\n- Overflow: auto (scrollable)\n\n### Animations\n- `@keyframes slideDown`: 0.3s ease-out\n- `@keyframes slideIn`: 0.3s ease-out\n- Smooth transitions on expand/collapse\n\n## When NOT to Use\n❌ Multi-level drill-downs (3+ levels)\n❌ Chart-to-chart navigation\n❌ Progressive hierarchies (e.g., \"by Industry → by Region → by Product\")\n❌ Custom visualization at drill levels\n❌ Dynamic drill-down structures\n❌ Any pattern beyond fixed chart→table\n\n**For these scenarios**: Build custom component with multiple SimpleChart instances and custom state management.\n\n## Use Cases\n✅ Revenue by Product Category → see line items\n✅ Order Count by Status → see actual orders\n✅ Average Deal Size by Region → see individual deals\n✅ Top 10 Customers by Spend → see customer invoices\n✅ Bug Count by Severity → see bug details in grid\n","technicalDesign":"## Architecture\nReact functional component that composes SimpleChart + DataGrid + optional SingleRecordView with fixed two-level drill-down pattern (chart → table).\n\n## CRITICAL ARCHITECTURAL CONSTRAINT\n**HARDCODED vertical structure** - cannot support chart-to-chart, dynamic levels, or custom hierarchies. For complex patterns, developers must create custom components with multiple SimpleChart instances.\n\n## State Management (React Hooks)\n- **selectedSegment** (object | null): Clicked segment data `{label, value, records: Array, percentage}`\n- **showGrid** (boolean): Grid visibility control\n- **selectedRecord** (object | null): Selected row for SingleRecordView (three-column mode only)\n\n## Component Dependencies\nRequires from components registry:\n- **SimpleChart** (required): Chart rendering\n- **DataGrid** (required): Table display\n- **SingleRecordView** (optional): Detail panel (three-column mode only)\n\nShows error message if DataGrid not found.\n\n## State Flow\n\n### Initial State\n```javascript\nconst [selectedSegment, setSelectedSegment] = useState(null);\nconst [showGrid, setShowGrid] = useState(false);\nconst [selectedRecord, setSelectedRecord] = useState(null);\n```\n\nChart only, no info bar, no grid.\n\n### Segment Selection Flow\n```javascript\nconst handleChartClick = (clickData) => {\n  setSelectedSegment({\n    label: clickData.label,\n    value: clickData.value,\n    records: clickData.records,\n    percentage: clickData.percentage\n  });\n  setShowGrid(true);\n  \n  // Fire event\n  if (onSegmentSelected) {\n    onSegmentSelected({ segment: clickData });\n  }\n};\n```\n\n### Clear Selection Flow\n```javascript\nconst handleClearSelection = () => {\n  setSelectedSegment(null);\n  setShowGrid(false);\n  setSelectedRecord(null);\n  \n  // Fire event\n  if (onSelectionCleared) {\n    onSelectionCleared();\n  }\n};\n```\n\n### Row Selection Flow (Three-column mode)\n```javascript\nconst handleRowClick = (record) => {\n  setSelectedRecord(record);\n  \n  // Fire event\n  if (onRowSelected) {\n    onRowSelected({ record, segment: selectedSegment });\n  }\n};\n```\n\n## Grid Column Detection\n\n### getGridColumns Function\n```javascript\nconst getGridColumns = () => {\n  if (gridFields && gridFields.length > 0) {\n    return gridFields; // Explicit field list\n  }\n  \n  // Auto-detect from first record\n  if (!selectedSegment || !selectedSegment.records || selectedSegment.records.length === 0) {\n    return [];\n  }\n  \n  const firstRecord = selectedSegment.records[0];\n  return Object.keys(firstRecord)\n    .filter(key => \n      !key.startsWith(''__mj'') &&  // Exclude system fields\n      key !== ''ID'' &&              // Exclude ID\n      typeof firstRecord[key] !== ''object'' // Exclude nested objects\n    )\n    .slice(0, 10); // Limit to first 10 fields\n};\n```\n\n## Layout Modes\n\n### Two-Column Mode (showSingleRecordView=false)\nVertical stack:\n1. SimpleChart (full width)\n2. Info bar (when selectedSegment exists)\n3. DataGrid (full width, height: drilldownHeight default 300px)\n\n**Row click behavior**:\n- If `entityName` + `entityPrimaryKeys`: Opens record via callbacks.OpenEntityRecord\n- Else: Read-only grid\n\n### Three-Column Mode (showSingleRecordView=true, entityName required)\nLayout:\n1. SimpleChart (full width at top)\n2. Info bar (when selectedSegment exists)\n3. Side-by-side below:\n   - DataGrid (60% width, left)\n   - SingleRecordView (40% width, right)\n\n**Row click behavior**:\n- Populates SingleRecordView (does NOT open record form)\n- Use allowOpenRecord=true on SingleRecordView for Open Record button\n\n## Info Bar Rendering\n\n### Implementation\n```javascript\n{selectedSegment && (\n  <div style={{\n    backgroundColor: ''#f0f5ff'',\n    borderLeft: ''4px solid #1890ff'',\n    padding: ''12px 16px'',\n    marginTop: ''12px'',\n    marginBottom: ''12px'',\n    display: ''flex'',\n    justifyContent: ''space-between'',\n    alignItems: ''center''\n  }}>\n    <div style={{ display: ''flex'', gap: ''24px'' }}>\n      <div>\n        <strong>{selectedSegment.label}</strong>\n      </div>\n      <div>\n        Value: <strong>{selectedSegment.value.toLocaleString()}</strong>\n      </div>\n      <div>\n        Records: <strong>{selectedSegment.records.length}</strong>\n      </div>\n      {selectedSegment.percentage && (\n        <div>\n          Percentage: <strong>{selectedSegment.percentage.toFixed(1)}%</strong>\n        </div>\n      )}\n    </div>\n    <button\n      onClick={handleClearSelection}\n      style={{\n        backgroundColor: ''#fff'',\n        border: ''1px solid #d9d9d9'',\n        borderRadius: ''4px'',\n        padding: ''4px 12px'',\n        cursor: ''pointer''\n      }}\n    >\n      Clear Selection\n    </button>\n  </div>\n)}\n```\n\n## Chart Rendering\n\n### Chart Border Highlight\n```javascript\n<div style={{\n  border: selectedSegment ? ''2px solid #1890ff'' : ''none'',\n  transition: ''all 0.3s ease''\n}}>\n  <SimpleChart\n    data={data}\n    entityName={entityName}\n    groupBy={groupBy}\n    valueField={valueField}\n    aggregateMethod={aggregateMethod}\n    chartType={chartType}\n    sortBy={sortBy}\n    sortOrder={sortOrder}\n    limit={limit}\n    colors={colors}\n    legend={legend}\n    showDataLabels={showDataLabels}\n    enableExport={enableExport}\n    onDataPointClick={handleChartClick}\n    utilities={utilities}\n    styles={styles}\n    components={components}\n    callbacks={callbacks}\n    savedUserSettings={savedUserSettings}\n    onSaveUserSettings={onSaveUserSettings}\n  />\n</div>\n```\n\n## DataGrid Integration\n\n### Two-Column Mode\n```javascript\n{showGrid && selectedSegment && (\n  <div style={{\n    border: ''1px solid #d9d9d9'',\n    borderRadius: ''4px'',\n    height: drilldownHeight || ''300px'',\n    overflow: ''auto'',\n    animation: ''slideIn 0.3s ease-out''\n  }}>\n    <DataGrid\n      data={selectedSegment.records}\n      entityName={entityName}\n      entityPrimaryKeys={entityPrimaryKeys}\n      columns={getGridColumns()}\n      sorting={true}\n      filtering={true}\n      paging={true}\n      autoFitColumns={true}\n      utilities={utilities}\n      styles={styles}\n      components={components}\n      callbacks={callbacks}\n      savedUserSettings={savedUserSettings}\n      onSaveUserSettings={onSaveUserSettings}\n    />\n  </div>\n)}\n```\n\n### Three-Column Mode\n```javascript\n{showGrid && selectedSegment && (\n  <div style={{\n    display: ''flex'',\n    gap: ''16px'',\n    animation: ''slideIn 0.3s ease-out''\n  }}>\n    {/* DataGrid: 60% width */}\n    <div style={{\n      flex: ''0 0 60%'',\n      border: ''1px solid #d9d9d9'',\n      borderRadius: ''4px'',\n      height: drilldownHeight || ''300px'',\n      overflow: ''auto''\n    }}>\n      <DataGrid\n        data={selectedSegment.records}\n        entityName={entityName}\n        columns={getGridColumns()}\n        sorting={true}\n        filtering={true}\n        paging={true}\n        autoFitColumns={true}\n        onRowClick={handleRowClick}\n        {...otherProps}\n      />\n    </div>\n    \n    {/* SingleRecordView: 40% width */}\n    <div style={{\n      flex: ''0 0 40%'',\n      border: ''1px solid #d9d9d9'',\n      borderRadius: ''4px'',\n      height: drilldownHeight || ''300px'',\n      overflow: ''auto''\n    }}>\n      {selectedRecord ? (\n        <SingleRecordView\n          record={selectedRecord}\n          entityName={entityName}\n          layout=\"list\"\n          allowOpenRecord={true}\n          {...otherProps}\n        />\n      ) : (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          height: ''100%'',\n          color: ''#999''\n        }}>\n          Select a record to view details\n        </div>\n      )}\n    </div>\n  </div>\n)}\n```\n\n## CSS Animations\n\n### Injected Styles\n```css\n@keyframes slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n```\n\nApplied to info bar and grid container for smooth transitions.\n\n## Event Firing\n\n### 1. segmentSelected\n```javascript\nif (onSegmentSelected) {\n  onSegmentSelected({ \n    segment: {\n      label: clickData.label,\n      value: clickData.value,\n      records: clickData.records,\n      percentage: clickData.percentage\n    }\n  });\n}\n```\n\n### 2. selectionCleared\n```javascript\nif (onSelectionCleared) {\n  onSelectionCleared();\n}\n```\n\n### 3. rowSelected (three-column mode)\n```javascript\nif (onRowSelected) {\n  onRowSelected({ \n    record: clickedRecord,\n    segment: selectedSegment\n  });\n}\n```\n\n### 4. dataPointClick (bubbles from SimpleChart)\nPassed through if parent needs raw click data.\n\n### 5. All DataGrid events\nrowClick, pageChanged, sortChanged, filterChanged, etc. bubble up if parent needs them.\n\n## Props Passthrough\n\n### To SimpleChart\nAll chart-related props:\n- groupBy, valueField, aggregateMethod\n- chartType, sortBy, sortOrder, limit\n- colors, legend, showDataLabels, enableExport\n- Plus: data, entityName, utilities, styles, components, callbacks\n\n### To DataGrid\n- data: `selectedSegment.records` (filtered array)\n- entityName, entityPrimaryKeys\n- columns: Auto-detected or from gridFields prop\n- sorting=true, filtering=true, paging=true\n- autoFitColumns=true\n- onRowClick (if three-column mode)\n\n### To SingleRecordView (three-column mode)\n- record: selectedRecord\n- entityName\n- layout=''list''\n- allowOpenRecord=true (for Open Record button)\n\n## Error Handling\n\n### Missing DataGrid\n```javascript\nif (!DataGrid) {\n  return (\n    <div style={{\n      color: ''#EF4444'',\n      padding: ''20px'',\n      backgroundColor: ''#FEE2E2'',\n      border: ''1px solid #FECACA'',\n      borderRadius: ''4px''\n    }}>\n      Error: DataGrid component not found in registry\n    </div>\n  );\n}\n```\n\n### Missing SingleRecordView (three-column mode)\nFalls back to two-column mode with console warning.\n\n### Empty Records\nInfo bar and grid handle gracefully (show 0 records).\n\n## Performance Considerations\n- State updates are minimal (3 state variables)\n- No complex memoization needed (component is lightweight)\n- DataGrid handles its own performance (sorting, filtering, paging)\n- SimpleChart memoizes data processing\n- CSS animations via keyframes (hardware accelerated)\n\n## Limitations\n- **CANNOT** support chart-to-chart drill-down\n- **CANNOT** support dynamic drill levels (3+)\n- **CANNOT** support multiple child charts\n- **CANNOT** support custom drill patterns\n- **FIXED** vertical structure only\n\nFor these scenarios, developers must build custom components.\n","dataRequirements":{"mode":"props","description":"Receives DETAIL-LEVEL RECORDS through data prop. Component aggregates records for chart display and filters them for drill-down grid. Do NOT pass pre-aggregated query results."},"properties":[{"name":"data","type":"Array<object>","description":"⚠️ DETAIL RECORDS REQUIRED: Array of individual records (NOT pre-aggregated data). This component performs client-side aggregation internally - you provide raw records, it groups them. ANTI-PATTERN: Passing results from aggregate queries (GROUP BY, monthly totals, category sums) - drill-down won''t work because there are no detail records to show. CORRECT PATTERN: Pass all raw entity records (invoices, transactions, line items) with a field to group by. Example: For ''Revenue by Month'' chart, pass ALL invoice records (not 12 monthly summary rows), add a computed Month field, and let this component aggregate and enable drill-down to individual invoices.","required":true},{"name":"groupBy","type":"string","description":"Field name to group data by","required":true,"constraints":[{"type":"subset-of-entity-fields","dependsOn":"entityName","description":"Validates that the groupBy field exists on the specified entity","config":{"allowWildcard":false,"caseSensitive":false},"errorTemplate":"groupBy field ''{field}'' does not exist on entity ''{entityName}''"}]},{"name":"entityName","type":"string","description":"Entity name for metadata lookup. Enables: (1) Smart formatting in chart and grid (dates, money, value lists), (2) Open Record functionality when combined with entityPrimaryKeys, (3) SingleRecordView panel when showSingleRecordView=true. REQUIRED if you want users to open records by clicking drill-down grid rows - must provide both entityName AND entityPrimaryKeys. If omitted, component still works but with basic formatting and no record opening capability.","required":false},{"name":"entityPrimaryKeys","type":"Array<string>","description":"REQUIRED TO ENABLE OPEN RECORD: Array of field names that constitute the primary key(s) for the entity. When provided along with entityName (and showSingleRecordView is false), this ENABLES the ''Open Record'' feature - clicking any row in the drill-down grid will open the full entity record form via OpenEntityRecord callback. Without this property, rows are NOT clickable for record opening. Example: [''ID''] for single-key entities, [''OrderID'', ''LineNumber''] for composite keys. If showSingleRecordView is true, this property is ignored and SingleRecordView panel displays instead.","required":false,"exampleValue":"[\"ID\"]","constraints":[{"type":"subset-of-entity-fields","dependsOn":"entityName","description":"When entityName is provided, validates that primary key field names exist on the specified entity","config":{"allowWildcard":false,"caseSensitive":true},"errorTemplate":"Primary key field ''{field}'' does not exist on entity ''{entityName}''"}]},{"name":"valueField","type":"string","description":"Field name to aggregate for chart values. REQUIRED when using aggregateMethod ''sum'', ''average'', ''min'', or ''max''. OMIT when using ''count'' (counts records regardless of field values). Examples: ''Total'' for revenue, ''Amount'' for sales, ''Quantity'' for inventory. The component will group records by groupBy field and aggregate this valueField according to aggregateMethod.","required":false,"constraints":[{"type":"subset-of-entity-fields","dependsOn":"entityName","description":"When provided, validates that the valueField exists on the specified entity","config":{"allowWildcard":false,"caseSensitive":false},"errorTemplate":"valueField ''{field}'' does not exist on entity ''{entityName}''"},{"type":"required-when","dependsOn":"aggregateMethod","description":"valueField is required when aggregateMethod is sum, average, min, or max","config":{"condition":"siblingProp === ''sum'' || siblingProp === ''average'' || siblingProp === ''min'' || siblingProp === ''max''"},"errorTemplate":"valueField is required when aggregateMethod is ''{aggregateMethod}''"}]},{"name":"aggregateMethod","type":"''count'' | ''sum'' | ''average'' | ''min'' | ''max''","description":"How to aggregate records within each group. CRITICAL: Choose based on what you''re measuring. Use ''count'' ONLY when counting records (omit valueField). Use ''sum'' for totals (revenue, sales, costs - REQUIRES valueField). Use ''average'' for means (average deal size, average rating). Use ''min''/''max'' for extremes. COMMON MISTAKE: Using default ''count'' when valueField is specified - this counts records instead of summing values! Example: For ''revenue by month'', use aggregateMethod=''sum'' with valueField=''Total'', NOT count.","required":false,"defaultValue":"count"},{"name":"chartType","type":"''auto'' | ''bar'' | ''line'' | ''pie'' | ''doughnut'' | ''area''","description":"Chart type to render","required":false,"defaultValue":"auto"},{"name":"title","type":"string","description":"Chart title","required":false},{"name":"gridFields","type":"Array<string>","description":"Fields to show in drill-down grid","required":false,"constraints":[{"type":"subset-of-entity-fields","dependsOn":"entityName","description":"When entityName is provided, validates that grid field names exist on the specified entity","config":{"allowWildcard":false,"caseSensitive":false},"errorTemplate":"Grid field ''{field}'' does not exist on entity ''{entityName}''"}]},{"name":"showDrilldown","type":"boolean","description":"Whether to enable drill-down functionality","required":false,"defaultValue":true},{"name":"drilldownHeight","type":"number","description":"Height of drill-down panel in pixels","required":false,"defaultValue":300},{"name":"showSingleRecordView","type":"boolean","description":"Whether to show SingleRecordView when a row is selected in the grid","required":false,"defaultValue":false},{"name":"singleRecordViewFields","type":"Array<string>","description":"Fields to display in the SingleRecordView","required":false,"constraints":[{"type":"subset-of-entity-fields","dependsOn":"entityName","description":"When entityName is provided, validates that SingleRecordView field names exist on the specified entity","config":{"allowWildcard":false,"caseSensitive":false},"errorTemplate":"SingleRecordView field ''{field}'' does not exist on entity ''{entityName}''"}]}],"events":[{"name":"segmentSelected","description":"Fired when a chart segment is selected","parameters":[{"name":"segment","type":"{ segment: { label: string; value: number; records: Array<object>; percentage?: number } }","description":"Selected segment info including label, value, and records"}]},{"name":"selectionCleared","description":"Fired when selection is cleared","parameters":[]},{"name":"dataPointClick","description":"Bubbled event from chart when any data point is clicked","parameters":[{"name":"clickData","type":"{ seriesName: string; value: number; label: string; records: Array<object>; chartType: string; percentage?: number }","description":"Click data from the chart including label, value, and records"}]},{"name":"rowSelected","description":"Fired when a row is selected in the drill-down grid","parameters":[{"name":"selectionData","type":"{ record: object; segment: { label: string; value: number; records: Array<object> } }","description":"Object containing selected record and current segment context"}]}],"dependencies":[{"name":"SimpleChart","namespace":"Generic/UI/Chart","location":"registry","description":"Chart component for visualization"},{"name":"DataGrid","namespace":"Generic/UI/Table","location":"registry","description":"Generic data grid for drill-down display"},{"name":"SingleRecordView","namespace":"Generic/UI/Form","location":"registry","description":"Single record display component for selected row details"}],"code":"function SimpleDrilldownChart({\n  data,\n  groupBy,\n  valueField,\n  aggregateMethod = ''count'',\n  chartType = ''auto'',\n  title,\n  gridFields,\n  entityName,\n  entityPrimaryKeys,\n  showDrilldown = true,\n  drilldownHeight = 300,\n  showSingleRecordView = false,\n  singleRecordViewFields,\n  onSegmentSelected,\n  onSelectionCleared,\n  onDataPointClick,\n  onRowSelected,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  // State for drill-down\n  const [selectedSegment, setSelectedSegment] = React.useState(null);\n  const [showGrid, setShowGrid] = React.useState(false);\n  const [selectedRecord, setSelectedRecord] = React.useState(null);\n  \n  // Get components from registry\n  const { SimpleChart, DataGrid, SingleRecordView } = components;\n  \n  // Handle chart click\n  const handleChartClick = (clickData) => {\n    // Always bubble up the chart click event\n    if (onDataPointClick) {\n      onDataPointClick(clickData);\n    }\n    \n    if (!showDrilldown) return;\n    \n    // Set selected segment\n    setSelectedSegment(clickData);\n    setShowGrid(true);\n    setSelectedRecord(null); // Clear any selected record when new segment is selected\n    \n    // Fire segment selected event\n    if (onSegmentSelected) {\n      onSegmentSelected({ segment: clickData });\n    }\n  };\n  \n  // Clear selection\n  const handleClearSelection = () => {\n    setSelectedSegment(null);\n    setShowGrid(false);\n    setSelectedRecord(null);\n    \n    if (onSelectionCleared) {\n      onSelectionCleared();\n    }\n  };\n  \n  // Handle row selection in grid\n  const handleRowClick = (event) => {\n    // event has shape: { record: object, cancel: boolean }\n    setSelectedRecord(event.record);\n\n    // Bubble up the row selection event\n    if (onRowSelected) {\n      onRowSelected({\n        record: event.record,\n        segment: selectedSegment\n      });\n    }\n\n    // Don''t prevent default OpenEntityRecord behavior\n    // (leave event.cancel as false to allow DataGrid to open record if entityPrimaryKeys provided)\n  };\n  \n  // Filter data for selected segment\n  const getDrilldownData = () => {\n    if (!selectedSegment || !selectedSegment.records) {\n      return [];\n    }\n    return selectedSegment.records;\n  };\n  \n  // Determine which fields to show in grid\n  const getGridFields = () => {\n    if (gridFields && gridFields.length > 0) {\n      return gridFields;\n    }\n    \n    // Auto-detect fields from first record\n    const records = getDrilldownData();\n    if (records.length > 0) {\n      const firstRecord = records[0];\n      return Object.keys(firstRecord).filter(key => \n        !key.startsWith(''__mj'') && \n        key !== ''ID'' &&\n        typeof firstRecord[key] !== ''object''\n      ).slice(0, 10); // Limit to 10 fields\n    }\n    \n    return [];\n  };\n  \n  return (\n    <div style={{ width: ''100%'' }}>\n      {/* Chart Section */}\n      <div style={{ \n        width: ''100%'',\n        border: selectedSegment ? ''2px solid #1890ff'' : ''none'',\n        borderRadius: ''8px'',\n        padding: selectedSegment ? ''2px'' : ''0'',\n        transition: ''all 0.3s ease''\n      }}>\n        <SimpleChart\n          entityName={entityName}\n          data={data}\n          groupBy={groupBy}\n          valueField={valueField}\n          aggregateMethod={aggregateMethod}\n          chartType={chartType}\n          title={title || `$' + '{entityName} by $' + '{groupBy}`}\n          onDataPointClick={handleChartClick}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n          savedUserSettings={savedUserSettings}\n          onSaveUserSettings={onSaveUserSettings}\n        />\n      </div>\n      \n      {/* Selection Info Bar */}\n      {showDrilldown && selectedSegment && (\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''space-between'',\n          padding: ''12px 16px'',\n          backgroundColor: ''#f0f5ff'',\n          borderLeft: ''4px solid #1890ff'',\n          marginTop: ''16px'',\n          borderRadius: ''4px''\n        }}>\n          <div style={{ display: ''flex'', alignItems: ''center'', gap: ''20px'' }}>\n            <div>\n              <strong style={{ color: ''#333'' }}>Selected:</strong>{'' ''}\n              <span style={{ color: ''#1890ff'', fontWeight: 600 }}>\n                {selectedSegment.label}\n              </span>\n            </div>\n            <div>\n              <strong style={{ color: ''#333'' }}>Value:</strong>{'' ''}\n              <span style={{ color: ''#52c41a'', fontWeight: 600 }}>\n                {typeof selectedSegment.value === ''number'' \n                  ? selectedSegment.value.toLocaleString()\n                  : selectedSegment.value}\n              </span>\n            </div>\n            <div>\n              <strong style={{ color: ''#333'' }}>Records:</strong>{'' ''}\n              <span style={{ color: ''#666'', fontWeight: 600 }}>\n                {selectedSegment.records?.length || 0}\n              </span>\n            </div>\n            {selectedSegment.percentage != null && (\n              <div>\n                <strong style={{ color: ''#333'' }}>Percentage:</strong>{'' ''}\n                <span style={{ color: ''#722ed1'', fontWeight: 600 }}>\n                  {selectedSegment.percentage?.toFixed(1)}%\n                </span>\n              </div>\n            )}\n          </div>\n          <button\n            onClick={handleClearSelection}\n            style={{\n              padding: ''6px 12px'',\n              backgroundColor: ''#fff'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              fontSize: ''14px'',\n              color: ''#333'',\n              transition: ''all 0.3s''\n            }}\n            onMouseEnter={(e) => {\n              e.target.style.borderColor = ''#1890ff'';\n              e.target.style.color = ''#1890ff'';\n            }}\n            onMouseLeave={(e) => {\n              e.target.style.borderColor = ''#d9d9d9'';\n              e.target.style.color = ''#333'';\n            }}\n          >\n            ✕ Clear Selection\n          </button>\n        </div>\n      )}\n      \n      {/* Drill-down Grid */}\n      {showDrilldown && showGrid && selectedSegment && (\n        <div style={{\n          marginTop: ''16px'',\n          display: showSingleRecordView && selectedRecord ? ''flex'' : ''block'',\n          gap: ''16px''\n        }}>\n          {/* Grid Section */}\n          <div style={{\n            flex: showSingleRecordView && selectedRecord ? ''1 1 60%'' : ''1'',\n            height: drilldownHeight,\n            overflow: ''auto'',\n            border: ''1px solid #d9d9d9'',\n            borderRadius: ''4px'',\n            animation: ''slideDown 0.3s ease''\n          }}>\n            {DataGrid ? (\n              <DataGrid\n                data={getDrilldownData()}\n                entityName={entityName}\n                entityPrimaryKeys={entityPrimaryKeys}\n                columns={getGridFields()}\n                sorting={true}\n                paging={true}\n                pageSize={10}\n                filtering={true}\n                onRowClick={showSingleRecordView ? handleRowClick : undefined}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n                savedUserSettings={savedUserSettings}\n                onSaveUserSettings={onSaveUserSettings}\n              />\n            ) : (\n              <div style={{ \n                padding: ''20px'', \n                textAlign: ''center'',\n                color: ''#ff4d4f''\n              }}>\n                Error: DataGrid component not found. Please ensure DataGrid is properly registered.\n              </div>\n            )}\n          </div>\n          \n          {/* Single Record View */}\n          {showSingleRecordView && selectedRecord && SingleRecordView && (\n            <div style={{\n              flex: ''1 1 40%'',\n              height: drilldownHeight,\n              overflow: ''auto'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              padding: ''16px'',\n              backgroundColor: ''#fafafa'',\n              animation: ''slideIn 0.3s ease''\n            }}>\n              <SingleRecordView\n                record={selectedRecord}\n                entityName={entityName}\n                fields={singleRecordViewFields}\n                layout=\"list\"\n                showLabels={true}\n                allowOpenRecord={true}\n                utilities={utilities}\n                styles={styles}\n                components={components}\n                callbacks={callbacks}\n                savedUserSettings={savedUserSettings}\n                onSaveUserSettings={onSaveUserSettings}\n              />\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Animation keyframes */}\n      <style>{`\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translateX(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n      `}</style>\n    </div>\n  );\n}","exampleUsage":"<!-- ❌ ANTI-PATTERN: Pre-aggregated data breaks drill-down functionality -->\n<!-- \nconst monthlyTotals = await utilities.rq.RunQuery({\n  QueryName: ''MonthlyRevenueTotals''  // Returns: [{Month: 1, Revenue: 5000}, {Month: 2, Revenue: 6200}, ...]\n});\n\n<SimpleDrilldownChart \n  data={monthlyTotals.Results}  // ❌ WRONG: Only 12 summary rows, no detail records to drill into!\n  groupBy=\"Month\"\n  valueField=\"Revenue\"\n/>\n-->\n\n<!-- ✅ CORRECT PATTERN: Detail records with computed grouping field -->\n<!-- Load ALL detail records and add computed field for grouping -->\nconst invoices = await utilities.rv.RunView({\n  EntityName: ''Invoices'',\n  ExtraFilter: ''YEAR(InvoiceDate) = 2025''\n});\n\n// Add computed Month field to each invoice\nconst invoicesWithMonth = invoices.Results.map(inv => ({\n  ...inv,\n  Month: new Date(inv.InvoiceDate).getMonth() + 1,  // 1-12\n  MonthName: new Date(inv.InvoiceDate).toLocaleString(''default'', { month: ''short'' })\n}));\n\n<SimpleDrilldownChart\n  entityName=\"Invoices\"\n  data={invoicesWithMonth}  // ✅ CORRECT: All invoice records, component will aggregate by Month\n  groupBy=\"Month\"  // Component aggregates internally\n  valueField=\"Total\"  // Sum this field\n  aggregateMethod=\"sum\"\n  chartType=\"bar\"\n  title=\"Monthly Revenue - Click to see invoices\"\n  gridFields={[''InvoiceNumber'', ''InvoiceDate'', ''Member'', ''Total'', ''Status'']}\n  entityPrimaryKeys={[''ID'']}\n  showSingleRecordView={false}\n/>\n\n<!-- Another example: Revenue by Product Category -->\n<SimpleDrilldownChart\n  entityName=\"Invoice Line Items\"\n  data={invoiceItems}  // All line item detail records\n  groupBy=\"ProductCategory\"\n  valueField=\"TotalAmount\"\n  aggregateMethod=\"sum\"\n  chartType=\"bar\"\n  title=\"Revenue by Category - Click to drill down\"\n  gridFields={[''ProductName'', ''Quantity'', ''TotalAmount'', ''InvoiceDate'']}\n  entityPrimaryKeys={[''ID'']}\n  showSingleRecordView={false}\n  onDataPointClick={handleChartClick}\n/>\n\n<!-- With SingleRecordView instead of OpenEntityRecord -->\n<SimpleDrilldownChart\n  entityName=\"Invoice Line Items\"\n  data={invoiceItems}  // Detail records, not aggregates\n  groupBy=\"ProductCategory\"\n  valueField=\"TotalAmount\"\n  aggregateMethod=\"sum\"\n  chartType=\"bar\"\n  title=\"Revenue by Category - Click to drill down\"\n  gridFields={[''ProductName'', ''Quantity'', ''TotalAmount'', ''InvoiceDate'']}\n  showSingleRecordView={true}\n  singleRecordViewFields={[''ProductName'', ''Description'', ''Quantity'', ''UnitPrice'', ''TotalAmount'']}\n  onDataPointClick={handleChartClick}\n  onRowSelected={handleRowSelection}\n/>"}'
SET
  @FunctionalRequirements_1af6ad25 = N'## Purpose
**FIXED two-level pattern ONLY**: Chart → Table. Built-in drill-down from chart segment to filtered data grid. Composes SimpleChart + DataGrid + optional SingleRecordView with automatic state management.

## Architectural Limitation
**HARDCODED vertical structure**: This component implements exactly ONE pattern - click chart, see table below. It **CANNOT** support:
- Chart-to-chart transitions
- Three or more drill levels (chart → chart → table)
- Dynamic level insertion
- Custom hierarchy depths
- Multiple chart children
- Progressive multi-dimensional drill-downs

For complex drill patterns, use multiple SimpleChart instances with custom state management.

## Data Requirements
- **Input**: Array of objects (detail-level entity records)
- **Aggregation**: SimpleChart performs client-side grouping
- **Optional**: `entityName` for metadata formatting and record opening

## Two Layout Modes

### Mode 1: Two-Column (Default)
**`showSingleRecordView={false}`**

Vertical stack:
1. **Chart** (top, full width)
2. **Info Bar** (middle, when segment selected)
   - Segment label
   - Aggregated value (formatted with commas)
   - Record count
   - Percentage of total
   - Clear selection button
3. **DataGrid** (bottom, full width)
   - Filtered records from clicked segment
   - Sortable, filterable, pageable
   - **Row click behavior**:
     - If `entityName` + `entityPrimaryKeys` provided → Opens record via callbacks.OpenEntityRecord
     - Else → Read-only grid

### Mode 2: Three-Column (Entity Mode)
**`showSingleRecordView={true}` + `entityName` required**

Layout:
1. **Chart** (top, full width)
2. **Info Bar** (middle, when segment selected)
3. **Side-by-side below**:
   - **DataGrid** (left, 60% width) - List of records
   - **SingleRecordView** (right, 40% width) - Selected record details

**Row click behavior in this mode**:
- Clicking grid row populates SingleRecordView panel (does NOT open record form)
- To open full record form, use OpenRecordButton in SingleRecordView (set `allowOpenRecord={true}`)

## Required Props

### Minimal Configuration
```javascript
<SimpleDrilldownChart
  data={salesData}
  groupBy="ProductCategory"
/>
```
- Uses count aggregation by default
- Auto-detects chart type
- Auto-detects grid columns

### With Entity Features
```javascript
<SimpleDrilldownChart
  data={invoices}
  entityName="Invoices"
  entityPrimaryKeys={[''ID'']}
  groupBy="Status"
  valueField="Amount"
  aggregateMethod="sum"
/>
```
- Metadata-driven formatting
- Row click opens record form
- Optional SingleRecordView integration

## Chart Configuration
All SimpleChart props pass through:
- **chartType**: bar | line | pie | doughnut | area | scatter (auto-detected if omitted)
- **groupBy**: Field to group by (required)
- **valueField**: Field to aggregate (required for sum/average/min/max)
- **aggregateMethod**: count | sum | average | min | max
- **sortBy**: ''value'' | ''label'' | undefined (preserves order)
- **sortOrder**: ''asc'' | ''desc''
- **limit**: Top-N limiting
- **colors**: Custom color palette
- **legend**, **showDataLabels**, **enableExport**: All SimpleChart features

## Grid Configuration

### Column Selection
`gridFields={[''InvoiceNumber'', ''CustomerName'', ''Amount'', ''DueDate'']}`:
- Explicit column list
- Controls column order

**Auto-detection** (if omitted):
- Discovers from first record in segment
- Filters out `__mj` system fields, `ID`, nested objects
- Limits to first 10 fields
- Uses metadata DisplayName for headers

### Grid Features
All DataGrid features available:
- Sorting (column headers)
- Text filtering (search box)
- Pagination (configurable page size)
- Row selection (if needed for batch operations)
- Custom column rendering

`drilldownHeight` prop: Sets grid container height (default 300px)

## Entity Integration

### Metadata Formatting
When `entityName` provided:
- Dates formatted with locale (Jan 15, 2024)
- Currency fields show $USD
- Boolean fields show Yes/No
- Value lists show colored tags
- Number fields right-aligned

### Record Opening
**Two-column mode** (`showSingleRecordView={false}`):
- Requires both `entityName` AND `entityPrimaryKeys` props
- Example: `entityPrimaryKeys={[''ID'']}` for single key
- Example: `entityPrimaryKeys={[''OrderID'', ''LineNumber'']}` for composite key
- Row click calls `callbacks.OpenEntityRecord(entityName, keyValues)`
- Opens full record form in MemberJunction

**Three-column mode** (`showSingleRecordView={true}`):
- Requires `entityName` only
- Row click populates SingleRecordView panel (right side)
- Does NOT open full record form on row click
- Use `allowOpenRecord={true}` on SingleRecordView for Open Record button

## Visual States

### Initial State
- Chart only (full width)
- No info bar
- No grid
- Blue border: none

### Segment Selected State
- Chart has **blue 2px border** (highlight)
- Info bar slides down (light blue background #f0f5ff, 4px left border #1890ff)
- Grid slides in below with filtered records
- Smooth CSS animations (slideDown, slideIn)

### Clear Selection
- "Clear Selection" button in info bar
- Resets to initial state
- Hides grid with smooth animation

## State Management
Component manages three state variables:
1. **selectedSegment**: `{label, value, records: Array, percentage}`
2. **showGrid**: Boolean to control grid visibility
3. **selectedRecord**: For SingleRecordView (three-column mode only)

State flow:
```
Initial → Click chart segment → Set selectedSegment + showGrid=true
       → Grid renders with segment.records
       → (Optional) Click grid row → Set selectedRecord → SingleRecordView updates
       → Click "Clear Selection" → Reset all state
```

## Events

1. **segmentSelected**: `({segment}) => void`
   - Fired when chart segment clicked
   - Includes full segment data with records array

2. **selectionCleared**: `() => void`
   - Fired when clear button clicked

3. **rowSelected**: `({record, segment}) => void`
   - Fired when grid row clicked (three-column mode)

4. **dataPointClick**: Bubbles from SimpleChart
5. **All DataGrid events**: rowClick, pageChanged, sortChanged, etc.

## Component Composition
Requires from components registry:
- **SimpleChart**: For chart rendering (required)
- **DataGrid**: For table display (required)
- **SingleRecordView**: For detail panel (optional, three-column mode only)

Shows error if DataGrid not found.

## Styling

### Info Bar
- Light blue background: #f0f5ff
- Blue left border: 4px #1890ff
- Padding: 12px 16px
- Flex layout: label/value on left, button on right

### Chart Border
- Normal: No border
- Selected: 2px solid #1890ff (blue highlight)

### Grid Container
- Border: 1px solid #d9d9d9
- Height: `drilldownHeight` prop (default 300px)
- Overflow: auto (scrollable)

### Animations
- `@keyframes slideDown`: 0.3s ease-out
- `@keyframes slideIn`: 0.3s ease-out
- Smooth transitions on expand/collapse

## When NOT to Use
❌ Multi-level drill-downs (3+ levels)
❌ Chart-to-chart navigation
❌ Progressive hierarchies (e.g., "by Industry → by Region → by Product")
❌ Custom visualization at drill levels
❌ Dynamic drill-down structures
❌ Any pattern beyond fixed chart→table

**For these scenarios**: Build custom component with multiple SimpleChart instances and custom state management.

## Use Cases
✅ Revenue by Product Category → see line items
✅ Order Count by Status → see actual orders
✅ Average Deal Size by Region → see individual deals
✅ Top 10 Customers by Spend → see customer invoices
✅ Bug Count by Severity → see bug details in grid
'
SET
  @TechnicalDesign_1af6ad25 = N'## Architecture
React functional component that composes SimpleChart + DataGrid + optional SingleRecordView with fixed two-level drill-down pattern (chart → table).

## CRITICAL ARCHITECTURAL CONSTRAINT
**HARDCODED vertical structure** - cannot support chart-to-chart, dynamic levels, or custom hierarchies. For complex patterns, developers must create custom components with multiple SimpleChart instances.

## State Management (React Hooks)
- **selectedSegment** (object | null): Clicked segment data `{label, value, records: Array, percentage}`
- **showGrid** (boolean): Grid visibility control
- **selectedRecord** (object | null): Selected row for SingleRecordView (three-column mode only)

## Component Dependencies
Requires from components registry:
- **SimpleChart** (required): Chart rendering
- **DataGrid** (required): Table display
- **SingleRecordView** (optional): Detail panel (three-column mode only)

Shows error message if DataGrid not found.

## State Flow

### Initial State
```javascript
const [selectedSegment, setSelectedSegment] = useState(null);
const [showGrid, setShowGrid] = useState(false);
const [selectedRecord, setSelectedRecord] = useState(null);
```

Chart only, no info bar, no grid.

### Segment Selection Flow
```javascript
const handleChartClick = (clickData) => {
  setSelectedSegment({
    label: clickData.label,
    value: clickData.value,
    records: clickData.records,
    percentage: clickData.percentage
  });
  setShowGrid(true);
  
  // Fire event
  if (onSegmentSelected) {
    onSegmentSelected({ segment: clickData });
  }
};
```

### Clear Selection Flow
```javascript
const handleClearSelection = () => {
  setSelectedSegment(null);
  setShowGrid(false);
  setSelectedRecord(null);
  
  // Fire event
  if (onSelectionCleared) {
    onSelectionCleared();
  }
};
```

### Row Selection Flow (Three-column mode)
```javascript
const handleRowClick = (record) => {
  setSelectedRecord(record);
  
  // Fire event
  if (onRowSelected) {
    onRowSelected({ record, segment: selectedSegment });
  }
};
```

## Grid Column Detection

### getGridColumns Function
```javascript
const getGridColumns = () => {
  if (gridFields && gridFields.length > 0) {
    return gridFields; // Explicit field list
  }
  
  // Auto-detect from first record
  if (!selectedSegment || !selectedSegment.records || selectedSegment.records.length === 0) {
    return [];
  }
  
  const firstRecord = selectedSegment.records[0];
  return Object.keys(firstRecord)
    .filter(key => 
      !key.startsWith(''__mj'') &&  // Exclude system fields
      key !== ''ID'' &&              // Exclude ID
      typeof firstRecord[key] !== ''object'' // Exclude nested objects
    )
    .slice(0, 10); // Limit to first 10 fields
};
```

## Layout Modes

### Two-Column Mode (showSingleRecordView=false)
Vertical stack:
1. SimpleChart (full width)
2. Info bar (when selectedSegment exists)
3. DataGrid (full width, height: drilldownHeight default 300px)

**Row click behavior**:
- If `entityName` + `entityPrimaryKeys`: Opens record via callbacks.OpenEntityRecord
- Else: Read-only grid

### Three-Column Mode (showSingleRecordView=true, entityName required)
Layout:
1. SimpleChart (full width at top)
2. Info bar (when selectedSegment exists)
3. Side-by-side below:
   - DataGrid (60% width, left)
   - SingleRecordView (40% width, right)

**Row click behavior**:
- Populates SingleRecordView (does NOT open record form)
- Use allowOpenRecord=true on SingleRecordView for Open Record button

## Info Bar Rendering

### Implementation
```javascript
{selectedSegment && (
  <div style={{
    backgroundColor: ''#f0f5ff'',
    borderLeft: ''4px solid #1890ff'',
    padding: ''12px 16px'',
    marginTop: ''12px'',
    marginBottom: ''12px'',
    display: ''flex'',
    justifyContent: ''space-between'',
    alignItems: ''center''
  }}>
    <div style={{ display: ''flex'', gap: ''24px'' }}>
      <div>
        <strong>{selectedSegment.label}</strong>
      </div>
      <div>
        Value: <strong>{selectedSegment.value.toLocaleString()}</strong>
      </div>
      <div>
        Records: <strong>{selectedSegment.records.length}</strong>
      </div>
      {selectedSegment.percentage && (
        <div>
          Percentage: <strong>{selectedSegment.percentage.toFixed(1)}%</strong>
        </div>
      )}
    </div>
    <button
      onClick={handleClearSelection}
      style={{
        backgroundColor: ''#fff'',
        border: ''1px solid #d9d9d9'',
        borderRadius: ''4px'',
        padding: ''4px 12px'',
        cursor: ''pointer''
      }}
    >
      Clear Selection
    </button>
  </div>
)}
```

## Chart Rendering

### Chart Border Highlight
```javascript
<div style={{
  border: selectedSegment ? ''2px solid #1890ff'' : ''none'',
  transition: ''all 0.3s ease''
}}>
  <SimpleChart
    data={data}
    entityName={entityName}
    groupBy={groupBy}
    valueField={valueField}
    aggregateMethod={aggregateMethod}
    chartType={chartType}
    sortBy={sortBy}
    sortOrder={sortOrder}
    limit={limit}
    colors={colors}
    legend={legend}
    showDataLabels={showDataLabels}
    enableExport={enableExport}
    onDataPointClick={handleChartClick}
    utilities={utilities}
    styles={styles}
    components={components}
    callbacks={callbacks}
    savedUserSettings={savedUserSettings}
    onSaveUserSettings={onSaveUserSettings}
  />
</div>
```

## DataGrid Integration

### Two-Column Mode
```javascript
{showGrid && selectedSegment && (
  <div style={{
    border: ''1px solid #d9d9d9'',
    borderRadius: ''4px'',
    height: drilldownHeight || ''300px'',
    overflow: ''auto'',
    animation: ''slideIn 0.3s ease-out''
  }}>
    <DataGrid
      data={selectedSegment.records}
      entityName={entityName}
      entityPrimaryKeys={entityPrimaryKeys}
      columns={getGridColumns()}
      sorting={true}
      filtering={true}
      paging={true}
      autoFitColumns={true}
      utilities={utilities}
      styles={styles}
      components={components}
      callbacks={callbacks}
      savedUserSettings={savedUserSettings}
      onSaveUserSettings={onSaveUserSettings}
    />
  </div>
)}
```

### Three-Column Mode
```javascript
{showGrid && selectedSegment && (
  <div style={{
    display: ''flex'',
    gap: ''16px'',
    animation: ''slideIn 0.3s ease-out''
  }}>
    {/* DataGrid: 60% width */}
    <div style={{
      flex: ''0 0 60%'',
      border: ''1px solid #d9d9d9'',
      borderRadius: ''4px'',
      height: drilldownHeight || ''300px'',
      overflow: ''auto''
    }}>
      <DataGrid
        data={selectedSegment.records}
        entityName={entityName}
        columns={getGridColumns()}
        sorting={true}
        filtering={true}
        paging={true}
        autoFitColumns={true}
        onRowClick={handleRowClick}
        {...otherProps}
      />
    </div>
    
    {/* SingleRecordView: 40% width */}
    <div style={{
      flex: ''0 0 40%'',
      border: ''1px solid #d9d9d9'',
      borderRadius: ''4px'',
      height: drilldownHeight || ''300px'',
      overflow: ''auto''
    }}>
      {selectedRecord ? (
        <SingleRecordView
          record={selectedRecord}
          entityName={entityName}
          layout="list"
          allowOpenRecord={true}
          {...otherProps}
        />
      ) : (
        <div style={{
          display: ''flex'',
          alignItems: ''center'',
          justifyContent: ''center'',
          height: ''100%'',
          color: ''#999''
        }}>
          Select a record to view details
        </div>
      )}
    </div>
  </div>
)}
```

## CSS Animations

### Injected Styles
```css
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
```

Applied to info bar and grid container for smooth transitions.

## Event Firing

### 1. segmentSelected
```javascript
if (onSegmentSelected) {
  onSegmentSelected({ 
    segment: {
      label: clickData.label,
      value: clickData.value,
      records: clickData.records,
      percentage: clickData.percentage
    }
  });
}
```

### 2. selectionCleared
```javascript
if (onSelectionCleared) {
  onSelectionCleared();
}
```

### 3. rowSelected (three-column mode)
```javascript
if (onRowSelected) {
  onRowSelected({ 
    record: clickedRecord,
    segment: selectedSegment
  });
}
```

### 4. dataPointClick (bubbles from SimpleChart)
Passed through if parent needs raw click data.

### 5. All DataGrid events
rowClick, pageChanged, sortChanged, filterChanged, etc. bubble up if parent needs them.

## Props Passthrough

### To SimpleChart
All chart-related props:
- groupBy, valueField, aggregateMethod
- chartType, sortBy, sortOrder, limit
- colors, legend, showDataLabels, enableExport
- Plus: data, entityName, utilities, styles, components, callbacks

### To DataGrid
- data: `selectedSegment.records` (filtered array)
- entityName, entityPrimaryKeys
- columns: Auto-detected or from gridFields prop
- sorting=true, filtering=true, paging=true
- autoFitColumns=true
- onRowClick (if three-column mode)

### To SingleRecordView (three-column mode)
- record: selectedRecord
- entityName
- layout=''list''
- allowOpenRecord=true (for Open Record button)

## Error Handling

### Missing DataGrid
```javascript
if (!DataGrid) {
  return (
    <div style={{
      color: ''#EF4444'',
      padding: ''20px'',
      backgroundColor: ''#FEE2E2'',
      border: ''1px solid #FECACA'',
      borderRadius: ''4px''
    }}>
      Error: DataGrid component not found in registry
    </div>
  );
}
```

### Missing SingleRecordView (three-column mode)
Falls back to two-column mode with console warning.

### Empty Records
Info bar and grid handle gracefully (show 0 records).

## Performance Considerations
- State updates are minimal (3 state variables)
- No complex memoization needed (component is lightweight)
- DataGrid handles its own performance (sorting, filtering, paging)
- SimpleChart memoizes data processing
- CSS animations via keyframes (hardware accelerated)

## Limitations
- **CANNOT** support chart-to-chart drill-down
- **CANNOT** support dynamic drill levels (3+)
- **CANNOT** support multiple child charts
- **CANNOT** support custom drill patterns
- **FIXED** vertical structure only

For these scenarios, developers must build custom components.
'
SET
  @FunctionalRequirementsVector_1af6ad25 = N'[-0.006893150974065065,0.022792764008045197,-0.03368352726101875,-0.06212431192398071,0.00370812532491982,0.012198539450764656,0.022103188559412956,0.01951935514807701,-0.06486354023218155,0.03170964866876602,-0.05082201212644577,0.03271588310599327,-0.013547283597290516,0.07640491425991058,0.00670489901676774,-0.011270157061517239,-0.020518291741609573,0.03252078592777252,0.02470274269580841,-0.010617226362228394,0.05016658082604408,-0.033094000071287155,-0.020298650488257408,-0.03103724867105484,-0.021469999104738235,-0.0021362677216529846,-0.07970189303159714,0.03652467578649521,0.02213534340262413,-0.11379151791334152,0.0261234100908041,0.040211647748947144,-0.03441641107201576,-0.00050803815247491,0.0000021625071440212196,-0.023194866254925728,-0.053004078567028046,-0.011072196997702122,-0.025120388716459274,-0.0010178372031077743,-0.015165313147008419,-0.07461560517549515,0.04740762710571289,-0.02139393799006939,0.04309600591659546,-0.04259922727942467,-0.03820796310901642,0.024854440242052078,0.05360925570130348,-0.059403274208307266,0.015812646597623825,-0.0003202123916707933,-0.000131045890157111,-0.013032310642302036,-0.01158474013209343,0.021051213145256042,-0.01863897405564785,0.08930908888578415,0.07293957471847534,0.0072959610261023045,-0.05120662972331047,0.002862062770873308,0.017610153183341026,-0.017374960705637932,0.03741290792822838,0.0026661374140530825,0.07397259771823883,-0.020508846268057823,0.035251419991254807,0.03933857008814812,0.08831825107336044,-0.056836750358343124,0.0040622432716190815,-0.026006687432527542,-0.030753914266824722,-0.031906068325042725,-0.021239809691905975,-0.018753957003355026,-0.027280332520604134,0.005318290088325739,-0.0028609619475901127,0.03171927109360695,-0.02173396572470665,-0.03041248582303524,0.010570870712399483,-0.03015890344977379,-0.0032445972319692373,-0.04547419399023056,-0.0011652169050648808,-0.028205949813127518,0.0813727006316185,0.003804034786298871,-0.022264085710048676,0.023388611152768135,-0.061991386115550995,-0.003971722908318043,0.0167447030544281,-0.09114059805870056,0.06708433479070663,0.06161048635840416,0.020368026569485664,0.03500925004482269,0.07172256708145142,-0.004298122134059668,0.07062582671642303,-0.01075057778507471,0.00992925651371479,-0.019863158464431763,-0.030202046036720276,-0.026235558092594147,0.005202088505029678,0.02524525672197342,-0.022713635116815567,0.0061059994623064995,0.016200264915823936,0.020491043105721474,-0.032204918563365936,-0.029793286696076393,-0.0037502916529774666,0.016102056950330734,0.04613165557384491,0.006836844142526388,-0.01871584914624691,0.0342356339097023,0.07213351875543594,-0.0004190861072856933,-0.027482492849230766,-0.05468065291643143,-0.004628719296306372,0.023605147376656532,-0.03626129403710365,-0.007526428904384375,0.034479957073926926,0.021657198667526245,-0.011645667254924774,0.02736339531838894,-0.00520057138055563,0.027982426807284355,-0.023694748058915138,-0.027060475200414658,-0.034661244601011276,-0.004526104312390089,-0.02469824068248272,0.03707931563258171,0.035189710557460785,-0.01125215645879507,0.007516999263316393,0.06172427162528038,0.042330753058195114,0.018096262589097023,0.011109020560979843,-0.011625434271991253,0.0033878854010254145,0.038903526961803436,-0.042163196951150894,0.004036660306155682,0.0027748188003897667,0.031856779009103775,0.0563926100730896,0.014972514472901821,-0.007714295759797096,0.00865609385073185,0.02971285954117775,0.028769364580512047,-0.016441933810710907,0.014955095015466213,-0.0517965629696846,-0.016192065551877022,-0.10082346946001053,-0.03131866455078125,0.0015895901015028358,-0.05999496951699257,-0.006060163956135511,-0.01813594624400139,0.021478617563843727,0.015199067071080208,0.07033398747444153,-0.025999799370765686,-0.040931180119514465,-0.008388717658817768,0.02877284586429596,-0.08854939043521881,0.027549410238862038,-0.02900632657110691,0.112476646900177,-0.03184953331947327,-0.03941570967435837,0.012616565451025963,-0.008849134668707848,0.011944123543798923,-0.004632032476365566,0.04945622384548187,-0.03949926421046257,-0.0050897314213216305,-0.011487586423754692,-0.0007692273356951773,0.008267691358923912,-0.010369227267801762,0.02730634994804859,0.03318767994642258,-0.025754209607839584,0.02015206590294838,0.009550650604069233,-0.040122102946043015,-0.004622300621122122,0.0040239207446575165,-0.08895363658666611,0.013214579783380032,-0.023265456780791283,-0.0035302427131682634,-0.04041999205946922,-0.02845897525548935,-0.050725292414426804,0.0002789050340652466,-0.023939820006489754,0.059351999312639236,0.01886594295501709,-0.00015928922221064568,-0.033188801258802414,-0.004904021043330431,-0.037421248853206635,-0.05900941416621208,0.02646544761955738,-0.009665966033935547,0.1269385665655136,0.052006788551807404,0.04280168563127518,-0.03695289045572281,0.05350936949253082,0.002550290198996663,-0.03986445069313049,-0.023471293970942497,0.049151353538036346,0.03646815940737724,0.015678483992815018,0.011401079595088959,-0.0332033634185791,-0.0004801427130587399,-0.04594350606203079,0.03769015893340111,0.022374087944626808,-0.07753687351942062,-0.028259610757231712,-0.03753368929028511,-0.04211807623505592,-0.027946243062615395,-0.043135304003953934,0.02296425588428974,-0.015838639810681343,-0.021034499630331993,0.014483984559774399,0.0061053927056491375,0.04140906780958176,-0.04317055642604828,-0.015445737168192863,-0.02537943236529827,0.0454551987349987,0.03025186061859131,-0.021034974604845047,0.049689460545778275,0.024797974154353142,-0.010344049893319607,-0.02624504826962948,-0.03548888862133026,0.009919674135744572,-0.05628647655248642,0.057853974401950836,0.0037372338119894266,-0.0001836303126765415,0.01345749944448471,0.016399197280406952,0.025893913581967354,-0.030607977882027626,-0.0020646294578909874,-0.03252927213907242,-0.010825064033269882,0.03795768693089485,0.0629386454820633,-0.015428935177624226,-0.04106929525732994,-0.04938746616244316,-0.02050880528986454,0.02666003815829754,0.05096342787146568,-0.028459841385483742,-0.03618841990828514,0.016188589856028557,-0.018866512924432755,0.022230874747037888,-0.0250291395932436,0.016491195186972618,-0.002207143697887659,0.03044169582426548,-0.040727145969867706,-0.0027385747525840998,0.04796109348535538,0.048004403710365295,0.031963981688022614,-0.07124341279268265,0.05483140051364899,-0.04772031679749489,-0.012655762955546379,-0.0031973407603800297,0.025135111063718796,0.011030335910618305,0.075546033680439,0.024883735924959183,0.003285597078502178,0.011169071309268475,0.0664195567369461,0.032917097210884094,0.013700121082365513,0.04175664857029915,-0.07652401179075241,0.02265595644712448,0.03915352001786232,-0.0009880875004455447,-0.003308352082967758,-0.03295626863837242,0.06154699623584747,-0.02543979324400425,-0.01794402115046978,0.012677856720983982,-0.02628580667078495,-0.07888473570346832,0.00857141800224781,-0.054221685975790024,-0.021345965564250946,0.004930247087031603,0.04984404146671295,0.016746902838349342,-0.01571766845881939,0.013307766057550907,0.013726990669965744,0.04560903459787369,-0.03221120685338974,-0.015426705591380596,-0.008254961110651493,0.01888897828757763,-0.03423994034528732,0.020703613758087158,-0.01613127999007702,-0.05036316066980362,0.051852744072675705,0.002523511415347457,0.00796036422252655,0.07042576372623444,-0.019194405525922775,-0.03453649580478668,0.00710189389064908,0.02000328153371811,0.028410645201802254,0.0016135304467752576,-0.013021113350987434,0.007910696789622307,0.07867015153169632,-0.01796657219529152,0.0432383269071579,-0.05149569362401962,-0.01885114423930645,0.02814999409019947,0.07192999869585037,0.016668956726789474,0.0363493412733078,0.019278420135378838,0.016585564240813255,0.014693578705191612,0.03287915140390396,0.03396948426961899,-0.03556694835424423,-0.006534049287438393,0.02116258814930916,0.019430970773100853,0.014074346981942654,-0.02300063706934452,-0.04689694195985794,0.02268439345061779,0.029453212395310402,0.06154115870594978,0.012094957754015923,0.006835319567471743,-0.017568649724125862,0.07788783311843872,-0.0005232399562373757,0.05756562203168869,-0.019223587587475777,0.003944925963878632,-0.004704807419329882,-0.03937039151787758,0.02745412103831768,0.017497168853878975,-0.006791781634092331,0.05465003475546837,-0.005213779862970114,-0.004828251898288727,0.052159633487463,-0.05046705901622772,0.02534925751388073,0.05415015667676926,-0.0042843930423259735,0.00002725189915508963,-0.02735314890742302,0.01777055859565735,0.051125288009643555,0.045158542692661285,-0.0052821580320596695,0.04013852775096893,0.03813415393233299,0.029729651287198067,0.0244488213211298,-0.03243206441402435,-0.007047335151582956,-0.061703309416770935,-0.04599186033010483,-0.015050589106976986,0.03570101037621498,-0.0012755761854350567,-0.06368379294872284,0.023581428453326225,0.036337826400995255,-0.008510399609804153,0.00012108564260415733,0.040667932480573654,0.0024011596105992794,0.06277717649936676,-0.0582893043756485,-0.010942980647087097,-0.05143081396818161,-0.022738099098205566,0.03724854066967964,-0.0010603254195302725,-0.0004819861496798694,0.004587473347783089,-0.002911962568759918,-0.0647735744714737,0.028559142723679543,0.07771191745996475,-0.02246825210750103,-0.01461370475590229,0.023258613422513008,-0.03926758095622063,0.008927098475396633,0.07230764627456665,0.005996789317578077,0.002861698856577277,0.01967165619134903,-0.04582807421684265,0.04684057459235191,-0.05992869660258293,-0.023431777954101562,-0.021343465894460678,0.0007122381939552724,-0.03812931105494499,0.02777007967233658,-0.022936763241887093,-0.0392804853618145,-0.0629681870341301,-0.021631022915244102,-0.018793337047100067,0.0023767678067088127,-0.014398851431906223,0.012534965761005878,-0.0015154725406318903,-0.0384376160800457,0.028188083320856094,0.012928524985909462,-0.033336687833070755,-0.03401754051446915,-0.03640807420015335,-0.06078021600842476,0.07185988873243332,-0.02967268042266369,-0.026404868811368942,-0.007568523287773132,0.03767469525337219,0.032537784427404404,0.003433025674894452,-0.010653535835444927,-0.0075925556011497974,-0.01549613755196333,0.03404747694730759,0.027100874111056328,0.02296038344502449,-0.10864377021789551,0.0327724851667881,0.014878801070153713,-0.03062465414404869,-0.03626895695924759,-0.008615219034254551,-0.0052235615439713,-0.017833109945058823,-0.047747381031513214,-0.04548951983451843,0.03359678387641907,0.07173215597867966,0.04366549849510193,-0.04738364368677139,0.049313705414533615,-0.012607435695827007,-0.058807335793972015,-0.03726544976234436,-0.018130755051970482,-0.006122929509729147,0.018078994005918503,0.0014780813362449408,0.030126644298434258,0.026946596801280975,0.04947435110807419,-0.0328524112701416,0.01786431483924389,-0.013610845431685448,-0.016766946762800217,-0.011738979257643223,0.0012618659529834986,0.002690730383619666,-0.04315502941608429,-0.04419993981719017,0.012689042836427689,0.03787410631775856,-0.008693931624293327,-0.01787279173731804,0.02772720530629158,-0.008858982473611832,-0.023696210235357285,0.028283368796110153,0.014973832294344902,0.010992812924087048,-0.010952881537377834,0.028530895709991455,0.01074211299419403,0.04003996029496193,-0.03585711121559143,0.025992516428232193,-0.014285442419350147,-0.013738963752985,0.09246678650379181,0.04720817878842354,-0.004663253668695688,0.016088439151644707,-0.007142168469727039,-0.09323123842477798,0.00019257614621892571,0.005939173046499491,-0.03147038817405701,0.021312568336725235,-0.024544376879930496,-0.008901639841496944,-0.03108980692923069,0.043108608573675156,0.01571277715265751,-0.002954342169687152,-0.07392740994691849,0.03438415750861168,-0.06746290624141693,-0.029628532007336617,-6.65694793561345e-33,0.008629712276160717,-0.02002131938934326,-0.04550184682011604,-0.0451875664293766,-0.003920602612197399,-0.05672983080148697,0.02705995924770832,-0.02781917341053486,0.015965238213539124,-0.02381547912955284,-0.022056877613067627,-0.013840273953974247,0.0005198143189772964,-0.0008215554407797754,0.02057025581598282,0.041360754519701004,0.03951774537563324,-0.01578241027891636,0.00661260262131691,0.03737661615014076,-0.04350777715444565,0.02889261022210121,-0.025382695719599724,-0.07506970316171646,-0.0014783828519284725,-0.005230001639574766,-0.004511329345405102,-0.004262995906174183,-0.05998588353395462,-0.0012252185260877013,-0.011187807656824589,-0.02144605480134487,-0.022529423236846924,-0.041997745633125305,-0.02052450180053711,-0.044593747705221176,-0.09599766135215759,-0.03458912670612335,-0.0352821871638298,0.03395518660545349,0.051684651523828506,0.05272972211241722,0.03243234381079674,-0.0035882408265024424,0.018413247540593147,-0.0037761093117296696,-0.040717046707868576,0.022730117663741112,-0.0013136181514710188,-0.05323726311326027,-0.006405566353350878,0.019681444391608238,0.02175164222717285,-0.015585108660161495,-0.01697331666946411,0.014412983320653439,0.04796542227268219,0.03857140988111496,-0.10272093862295151,-0.0016731851501390338,0.012018236331641674,-0.0765710175037384,0.02943674474954605,0.037561897188425064,0.04472644627094269,0.014546382240951061,0.05924546718597412,0.016807377338409424,-0.04292432218790054,0.008781366050243378,-0.01825866848230362,-0.008030792698264122,-0.013406375423073769,-0.07584088295698166,0.0645490363240242,0.021662475541234016,-0.024470718577504158,-0.005858068820089102,-0.04342257231473923,0.0327131487429142,-0.007483449298888445,0.012967240065336227,-0.02503340318799019,-0.005971396341919899,0.023985067382454872,0.026143090799450874,0.019470931962132454,-0.017956029623746872,0.024009525775909424,-0.006148300599306822,-0.022081753239035606,0.01113222911953926,-0.060110438615083694,0.0346616730093956,-0.05738876760005951,-0.0007523766253143549,0.03874770179390907,0.014333422295749187,-0.014497259631752968,0.0013841859763488173,0.052733082324266434,0.007608320564031601,-0.019520506262779236,-0.02618761733174324,0.001050939317792654,0.019412582740187645,0.019547849893569946,0.024608872830867767,-0.08108130842447281,0.021027153357863426,0.022370867431163788,-0.020313087850809097,-0.007074638735502958,0.007581943180412054,0.010508103296160698,-0.0255192369222641,-0.016597945243120193,-0.02131637930870056,0.08294206857681274,-0.0008418357465416193,0.005253292620182037,-0.02026471309363842,-0.046991731971502304,0.012204775586724281,0.08974988013505936,0.003748901654034853,-0.017549701035022736,-0.08046319335699081,-0.011812631972134113,0.03393622487783432,0.019141778349876404,0.03136885166168213,3.0451965926658886e-7,-0.00268174079246819,0.0009562302730046213,-0.03378944844007492,0.004431679379194975,0.02352776564657688,0.01214449480175972,-0.03919864073395729,-0.03339701145887375,-0.033013638108968735,-0.08440437912940979,0.0034818851854652166,-0.002344483742490411,0.02908986248075962,0.08839188516139984,-0.0031404730398207903,-0.030565880239009857,0.06559537351131439,-0.04159499332308769,-0.03373563289642334,0.04589400812983513,0.0660673975944519,0.03837331756949425,0.01965053752064705,-0.0031849152874201536,0.015245480462908745,-0.00781321432441473,-0.016195010393857956,0.02302231267094612,0.04596291482448578,-0.011902518570423126,0.014007648453116417,-0.01749197021126747,-0.023104779422283173,0.024317670613527298,0.009093966335058212,0.027483945712447166,-0.03694798797369003,-0.024074798449873924,-0.013091322965919971,0.08013331890106201,0.0576770156621933,0.007500976324081421,-0.02260022982954979,-0.0036871908232569695,0.0022974868770688772,-0.06856957077980042,-0.025664037093520164,0.10391361266374588,0.0023963928688317537,0.07085105031728745,0.005655150860548019,0.018066776916384697,-0.03439890593290329,-0.05076694115996361,0.0020082390401512384,-0.006888572126626968,0.008548426441848278,0.04249817878007889,0.016550572589039803,0.04098396375775337,-0.012432134710252285,-0.04631911590695381,0.029002254828810692,0.054900627583265305,-0.014568555168807507,-0.026858972385525703,-0.03093886375427246,4.447986594032551e-34,0.05644746869802475,-0.06228359788656235,0.050419580191373825,0.05779440701007843,0.044376861304044724,-0.013110687956213951,0.008462386205792427,-0.0066065359860658646,0.038153208792209625,-0.0654732808470726,-0.0393967367708683]'
SET
  @TechnicalDesignVector_1af6ad25 = N'[-0.03104112669825554,0.03144814074039459,-0.035496409982442856,-0.08387886732816696,-0.01133583951741457,-0.014884593896567822,0.048530686646699905,0.004237851593643427,0.01010274700820446,0.029530813917517662,-0.003377636894583702,0.04913993924856186,0.026484880596399307,0.08302298188209534,0.01139688678085804,-0.018119454383850098,-0.01919366419315338,0.05395449697971344,-0.009651703760027885,-0.027079081162810326,0.07233099639415741,-0.02101282589137554,-0.04047920182347298,-0.015412858687341213,-0.030133653432130814,-0.0062059685587882996,-0.039492495357990265,0.012445586733520031,0.029983192682266235,-0.0712987557053566,0.015475024469196796,0.03780766576528549,-0.0327257476747036,-0.007230762392282486,0.0000022254819214140298,-0.023594968020915985,-0.018572982400655746,-0.027273699641227722,0.011690209619700909,-0.05105486139655113,-0.013302106410264969,-0.04241935908794403,0.057814616709947586,-0.015412986278533936,0.04124037176370621,-0.08333556354045868,-0.018465761095285416,-0.017501208931207657,0.0009648088598623872,-0.054416123777627945,0.035384651273489,0.005850430577993393,-0.01269393041729927,-0.003736984683200717,0.015372956171631813,-0.002826852258294821,-0.003031522035598755,0.07668397575616837,0.056186601519584656,-0.011105633340775967,-0.05694195628166199,0.004289097152650356,-0.014267610386013985,-0.01528136432170868,0.02231169492006302,0.008023478090763092,0.07255725562572479,0.015115349553525448,0.03617699816823006,0.026054374873638153,0.08538556843996048,-0.04104192554950714,0.023064542561769485,-0.025632111355662346,-0.03256268799304962,-0.007855848409235477,-0.009321536868810654,-0.049583613872528076,-0.0490751676261425,0.03549995273351669,-0.0013677033130079508,0.0041300761513412,-0.03216734528541565,-0.021075036376714706,0.023965008556842804,-0.0008731354610063136,-0.0053635090589523315,0.0011564200976863503,0.007120919413864613,-0.011521206237375736,0.03378528729081154,-0.0037992745637893677,-0.0008670365205034614,0.0028129848651587963,-0.05000026524066925,0.03228498622775078,0.009181033819913864,-0.124176986515522,0.04701165854930878,0.04757101088762283,0.026791920885443687,0.028257939964532852,0.09036418050527573,-0.015339338220655918,0.07014752924442291,0.021182237192988396,-0.005060719326138496,-0.04339095950126648,-0.026157235726714134,-0.04894659295678139,0.009403351694345474,0.01081161480396986,0.012738282792270184,0.008254514075815678,0.012459185905754566,0.011186907067894936,-0.038199301809072495,-0.05901012569665909,-0.023160219192504883,0.02838120236992836,0.01925690472126007,-0.03144422173500061,-0.015168271958827972,0.024401765316724777,0.05884360149502754,0.038901038467884064,-0.014102778397500515,-0.05931190773844719,-0.011056143790483475,0.024354420602321625,-0.017861630767583847,-0.008917426690459251,0.03527230769395828,0.011666279286146164,-0.0473766028881073,0.021659381687641144,-0.04895646125078201,0.01200287789106369,-0.020913518965244293,-0.017339590936899185,-0.028487877920269966,0.036451537162065506,0.03194047138094902,0.050346050411462784,0.018723800778388977,0.02636983059346676,0.036327872425317764,0.007133324630558491,0.02640550583600998,0.054415252059698105,0.04341518506407738,-0.0005840959493070841,0.0007476602331735194,-0.004015014972537756,-0.04946637526154518,-0.00022499541228171438,-0.004814318381249905,0.025948241353034973,0.032752588391304016,-0.007407487835735083,0.021458784118294716,0.03498823940753937,0.09170089662075043,0.0353265106678009,-0.012756858952343464,0.030492611229419708,-0.08372019976377487,-0.02182147465646267,-0.068549245595932,-0.03045336902141571,0.033247970044612885,-0.048260025680065155,-0.027755295857787132,-0.010141356848180294,0.03395888954401016,0.021438736468553543,0.02162403054535389,-0.009329778142273426,-0.05849058926105499,0.014357447624206543,-0.0009483917383477092,-0.040689460933208466,0.048694584518671036,-0.012914854101836681,0.07141248881816864,-0.029150448739528656,-0.05847221612930298,-0.00028384465258568525,0.017694100737571716,0.03271443769335747,-0.01746259443461895,0.019396428018808365,-0.0424872487783432,-0.006890792399644852,-0.00468412134796381,-0.032074615359306335,0.005642266478389502,-0.033737942576408386,0.011692516505718231,0.057739026844501495,-0.0034533399157226086,0.0060171098448336124,0.009500532411038876,-0.017157357186079025,-0.010984720662236214,0.009933741763234138,-0.08472070842981339,-0.0004389939131215215,-0.0057014040648937225,-0.043800726532936096,-0.03812538459897041,-0.013624297454953194,-0.05610210448503494,-0.008126487024128437,0.01596713997423649,0.0345800407230854,0.010959194973111153,0.00031649073935113847,-0.05159664526581764,-0.00685773603618145,-0.03862481191754341,-0.025995464995503426,0.02577226422727108,-0.02148805931210518,0.14982877671718597,0.05655011907219887,0.04117310047149658,-0.06256706267595291,0.05257859826087952,-0.03725224360823631,-0.033056873828172684,-0.0377999022603035,-0.007718584034591913,0.04351859912276268,0.014981308951973915,-0.00949307344853878,-0.03811207041144371,-0.04276592656970024,-0.051608968526124954,-0.0208759568631649,-0.0035209357738494873,-0.04128480702638626,-0.05048833414912224,-0.015045945532619953,-0.05378745123744011,-0.03381822630763054,-0.09540995210409164,0.029238587245345116,-0.04746285453438759,-0.009794045239686966,0.013981022872030735,0.018869074061512947,0.0182560533285141,-0.05046290159225464,-0.005811240989714861,-0.07984177768230438,0.033635448664426804,0.041235797107219696,-0.03009815886616707,0.029653383418917656,0.007332411594688892,0.007413131184875965,-0.008840525522828102,-0.03021577186882496,0.015840908512473106,-0.02484508790075779,0.06578408181667328,0.006261478643864393,-0.02618994005024433,0.004841197747737169,-0.0002552174555603415,-0.004059070721268654,-0.02656717039644718,-0.005161207634955645,-0.014848999679088593,-0.03178347274661064,0.04722623527050018,0.053659453988075256,-0.014180442318320274,-0.04041386768221855,-0.06252352893352509,-0.0147065045312047,0.021740717813372612,0.03464488685131073,-0.01442108303308487,-0.009106244891881943,0.03215637803077698,-0.00808948464691639,0.06359314173460007,-0.021491484716534615,0.017139457166194916,0.03810732439160347,0.007288593798875809,-0.014080657623708248,-0.016862906515598297,0.054190125316381454,0.030351201072335243,0.03782559931278229,-0.07345984876155853,0.029719039797782898,-0.031172635033726692,-0.010720806196331978,0.009011087007820606,0.006803497672080994,-0.016629714518785477,0.05681171268224716,0.010797926224768162,0.010432909242808819,0.01262261625379324,0.04877747967839241,0.06673809885978699,0.013173209503293037,0.04811956360936165,-0.03041081503033638,0.0004959357902407646,0.06039564311504364,-0.0055325208231806755,-0.012049085460603237,-0.06225499138236046,0.04898077994585037,-0.03471875190734863,-0.046774521470069885,0.006459502037614584,-0.030000878497958183,-0.04639983922243118,-0.02044321596622467,-0.013216043822467327,0.0021570310927927494,0.025320958346128464,0.01770668476819992,-0.010308033786714077,-0.016091424971818924,0.025430431589484215,0.03199133649468422,0.018988866358995438,-0.027594812214374542,-0.019339540973305702,-0.0006877952837385237,0.01221288088709116,0.000009337413757748436,-0.003918881993740797,-0.02038576453924179,-0.021562116220593452,0.023662718012928963,0.004627672955393791,-0.008045724593102932,0.10891981422901154,-0.015734387561678886,-0.015407850034534931,-0.031517986208200455,0.026326928287744522,0.05655166134238243,-0.00039962504524737597,-0.009081356227397919,0.01106907520443201,0.07239668071269989,-0.00775718130171299,0.046197425574064255,-0.05100028216838837,-0.010572417639195919,-0.02892349846661091,0.0855509489774704,0.017352113500237465,0.012600142508745193,0.002476505935192108,-0.005677303299307823,0.01371079869568348,-0.00030779713415540755,0.020234597846865654,-0.05516635999083519,-0.003128710202872753,0.006100528407841921,0.02270185388624668,-0.013605646789073944,-0.0382954441010952,-0.06530588120222092,0.031254831701517105,0.031177649274468422,0.013510864228010178,0.009793476201593876,0.031768329441547394,-0.06394027918577194,0.06204117834568024,0.01794569008052349,0.06343503296375275,-0.042096178978681564,0.0063691032119095325,0.006671646144241095,-0.04270941764116287,0.023826953023672104,-0.009589055553078651,-0.02386452443897724,0.019382541999220848,0.005290182773023844,0.03329853713512421,0.07487098127603531,-0.04652778431773186,0.01220475323498249,0.07770384103059769,0.02369070053100586,-0.02036353014409542,-0.027913296595215797,0.0011533553479239345,0.011799811385571957,0.05490254983305931,-0.01951640285551548,0.00637849560007453,0.04275020584464073,0.026223650202155113,0.06800764799118042,0.016245221719145775,-0.04940810799598694,-0.06224038079380989,-0.04243313893675804,-0.013724641874432564,0.04172676056623459,-0.0018808075692504644,-0.07921131700277328,0.027891261503100395,0.06941600888967514,-0.0037791652139276266,0.017571642994880676,0.04124381020665169,-0.00867574941366911,0.0398179292678833,-0.04242518171668053,-0.002967918524518609,-0.020590005442500114,-0.03737068548798561,0.03319917619228363,0.018264085054397583,-0.02055036835372448,0.013357757590711117,0.03174426406621933,-0.04254710674285889,0.0403597354888916,0.041797935962677,0.002088391687721014,0.00007092803571140394,0.004939208272844553,0.00001352661092823837,0.013340586796402931,0.08188795298337936,-0.005447205156087875,-0.013190540485084057,-0.00941045768558979,-0.01538351085036993,0.0839548110961914,-0.021059516817331314,-0.005889535881578922,-0.016561634838581085,0.03463481366634369,-0.04668461158871651,0.035661742091178894,-0.031429190188646317,-0.0573372021317482,-0.03128631412982941,0.0406765379011631,0.01934684067964554,-0.001386698568239808,-0.025351596996188164,0.010702308267354965,-0.02094350941479206,-0.04002106562256813,0.006971526425331831,-0.035214997828006744,0.005472300574183464,0.013349556364119053,-0.009454898536205292,-0.020689478144049644,0.06671931594610214,-0.014071965590119362,-0.01491693127900362,0.0037640328519046307,0.03356030210852623,0.03094516508281231,0.010597162880003452,-0.010198595002293587,-0.020025108009576797,-0.03552951291203499,0.0334550105035305,0.027220623567700386,0.008039450272917747,-0.017383839935064316,0.016681252047419548,-0.004121511243283749,0.03349234536290169,-0.001859906013123691,-0.019249040633440018,-0.030716780573129654,-0.02112814597785473,-0.0008462677942588925,-0.07362817972898483,0.023808324709534645,0.05678469315171242,0.042464908212423325,-0.06920725852251053,0.009268413297832012,0.019994866102933884,-0.06199875846505165,-0.030112938955426216,-0.023064257577061653,-0.014768439345061779,0.003057777648791671,0.016472572460770607,-0.0003177546022925526,0.017619675025343895,0.04446740075945854,-0.021800801157951355,-0.01810622401535511,-0.029138080775737762,-0.0653473362326622,-0.020213766023516655,0.02488907054066658,0.015924805775284767,0.006777944974601269,-0.014678925275802612,0.03176182135939598,0.034888461232185364,0.006409419234842062,-0.006003701593726873,0.008408796042203903,0.0021595836151391268,-0.014306733384728432,0.04778556898236275,0.01476335059851408,-0.014598558656871319,0.001886493992060423,0.01926267147064209,0.014629723504185677,0.03437826782464981,-0.033597733825445175,-0.01925877295434475,-0.041994739323854446,0.012763862498104572,0.05032450705766678,0.045145586133003235,-0.021757280454039574,0.046419933438301086,-0.03087020106613636,-0.08141567558050156,-0.0054930453188717365,0.03669178858399391,0.0005400709924288094,0.037956297397613525,-0.027492646127939224,0.013688406907022,-0.036961328238248825,0.052587270736694336,0.01743525080382824,0.007459426298737526,-0.044894423335790634,0.052522629499435425,-0.04390421882271767,-0.005304782185703516,-6.722006405143679e-33,0.022277774289250374,0.008752272464334965,-0.053034812211990356,0.023379210382699966,-0.049537867307662964,-0.057727038860321045,-0.006887061987072229,-0.03120577149093151,0.005195296835154295,-0.010368148796260357,-0.015797264873981476,-0.03398692235350609,-0.012913930229842663,0.012386875227093697,-0.012301038019359112,0.00804098416119814,0.02435116097331047,-0.0031259916722774506,-0.015379984863102436,0.047981955111026764,0.0001974192273337394,0.03767727315425873,-0.017602667212486267,-0.04619426280260086,-0.022451890632510185,-0.011725867167115211,0.00416129594668746,0.003762556239962578,-0.10109849274158478,-0.019328365102410316,-0.0214784424751997,-0.0002971931826323271,-0.00017745424702297896,-0.042502157390117645,-0.01958530582487583,0.004504088312387466,-0.07573404908180237,-0.062252227216959,-0.00704685365781188,0.03227175772190094,0.07265911251306534,0.05455237254500389,0.06312958151102066,0.014485572464764118,0.025882938876748085,0.003163763089105487,-0.026451952755451202,0.0033884828444570303,-0.012463556602597237,-0.11833776533603668,0.009777350351214409,0.03737562522292137,0.008819892071187496,-0.011871835216879845,-0.03205998241901398,0.04759865999221802,0.03865669295191765,0.01370383519679308,-0.04192368686199188,-0.03356734663248062,0.016418494284152985,-0.06003454327583313,0.012726856395602226,0.07054577767848969,0.05521327257156372,0.02861037291586399,0.06717179715633392,0.0031846039928495884,-0.06426665931940079,0.007565782405436039,0.0047205057926476,-0.06387762725353241,-0.02122030220925808,-0.05831383913755417,0.032155487686395645,-0.0023914913181215525,-0.0801405981183052,-0.02007567510008812,0.006671992130577564,0.026131942868232727,-0.01117868535220623,0.03341718390583992,-0.024750299751758575,-0.01918511465191841,-0.010279837064445019,0.0013701950665563345,0.037751223891973495,0.00014343485236167908,-0.0015989767853170633,-0.013824280351400375,-0.008394911885261536,0.05920279398560524,-0.03757096081972122,0.055073339492082596,-0.0757514014840126,-0.019939446821808815,0.0406331941485405,0.018578970804810524,-0.006571880076080561,-0.025887655094265938,0.017219368368387222,-0.007727731950581074,-0.04899897053837776,-0.005347591824829578,-0.011922829784452915,0.015588897280395031,0.001417782623320818,0.009608741849660873,-0.06177834793925285,0.01963844709098339,0.023406999185681343,-0.00948073249310255,-0.010107501409947872,0.01756516471505165,0.024000490084290504,-0.00526680750772357,-0.0036689515691250563,-0.00001835344301071018,0.07048339396715164,0.019118990749120712,-0.013634389266371727,0.01692841947078705,-0.06083220988512039,0.007876429706811905,0.039340753108263016,-0.010161668993532658,0.016245856881141663,-0.03671760484576225,-0.06600072979927063,-0.012440036050975323,0.02907637134194374,0.013215882703661919,3.0628055469605897e-7,0.004693873692303896,-0.03404767066240311,-0.04469267278909683,0.0010700341081246734,0.02743424102663994,-0.0024785054847598076,-0.05463321879506111,-0.03855573758482933,-0.041352178901433945,-0.08287099003791809,-0.002258493099361658,0.005811220500618219,0.02940395288169384,0.0880545899271965,0.0007632312481291592,-0.016198625788092613,0.06006823480129242,-0.017400605604052544,-0.025532923638820648,0.02758023887872696,0.05065518990159035,-0.006404301151633263,0.049197565764188766,-0.004440232180058956,0.013918653130531311,0.05403794348239899,0.008251136168837547,0.03556133434176445,0.014196178875863552,-0.028161941096186638,0.024279406294226646,0.018218686804175377,-0.03031538799405098,0.026686547324061394,0.023957422003149986,0.007986769080162048,-0.03075072541832924,-0.0068436190485954285,0.03307425230741501,0.06004682928323746,0.07446306943893433,-0.0020779806654900312,-0.013589986599981785,0.01222976390272379,0.020389113575220108,-0.11876066029071808,-0.030481645837426186,0.14215947687625885,-0.029542427510023117,0.06518357247114182,-0.02033142000436783,0.0011436445638537407,-0.049287427216768265,-0.035014018416404724,-0.009070412255823612,-0.00501613924279809,0.007402083836495876,0.04617004469037056,0.052081819623708725,0.041545361280441284,-0.028793780133128166,-0.06378362327814102,0.03165261074900627,0.06259796023368835,-0.029220737516880035,0.020271524786949158,-0.03390315920114517,4.341226911393925e-34,0.04711303859949112,-0.058679353445768356,-0.006983899511396885,0.010140820406377316,0.03839036822319031,-0.02903813123703003,0.04244216904044151,0.009074465371668339,0.0489240437746048,-0.030745288357138634,-0.050702400505542755]'
SET
  @HasCustomProps_1af6ad25 = 1
SET
  @HasCustomEvents_1af6ad25 = 1
SET
  @RequiresData_1af6ad25 = 1
SET
  @DependencyCount_1af6ad25 = 3
SET
  @TechnicalDesignVectorEmbeddingModelID_1af6ad25 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_1af6ad25 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_1af6ad25 = 1
SET
  @ID_1af6ad25 = '90293530-7C0B-42B8-B8B1-38FD7D5C97DA'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_1af6ad25,
  @Name = @Name_1af6ad25,
  @Version = @Version_1af6ad25,
  @VersionSequence = @VersionSequence_1af6ad25,
  @Title = @Title_1af6ad25,
  @Description = @Description_1af6ad25,
  @Type = @Type_1af6ad25,
  @Status = @Status_1af6ad25,
  @DeveloperName = @DeveloperName_1af6ad25,
  @DeveloperEmail = @DeveloperEmail_1af6ad25,
  @DeveloperOrganization = @DeveloperOrganization_1af6ad25,
  @SourceRegistryID = @SourceRegistryID_1af6ad25,
  @ReplicatedAt = @ReplicatedAt_1af6ad25,
  @LastSyncedAt = @LastSyncedAt_1af6ad25,
  @Specification = @Specification_1af6ad25,
  @FunctionalRequirements = @FunctionalRequirements_1af6ad25,
  @TechnicalDesign = @TechnicalDesign_1af6ad25,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_1af6ad25,
  @TechnicalDesignVector = @TechnicalDesignVector_1af6ad25,
  @HasCustomProps = @HasCustomProps_1af6ad25,
  @HasCustomEvents = @HasCustomEvents_1af6ad25,
  @RequiresData = @RequiresData_1af6ad25,
  @DependencyCount = @DependencyCount_1af6ad25,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_1af6ad25,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_1af6ad25,
  @HasRequiredCustomProps = @HasRequiredCustomProps_1af6ad25,
  @ID = @ID_1af6ad25;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_5ccd903f NVARCHAR(MAX),
@Name_5ccd903f NVARCHAR(500),
@Version_5ccd903f NVARCHAR(50),
@VersionSequence_5ccd903f INT,
@Title_5ccd903f NVARCHAR(1000),
@Description_5ccd903f NVARCHAR(MAX),
@Type_5ccd903f NVARCHAR(255),
@Status_5ccd903f NVARCHAR(50),
@DeveloperName_5ccd903f NVARCHAR(255),
@DeveloperEmail_5ccd903f NVARCHAR(255),
@DeveloperOrganization_5ccd903f NVARCHAR(255),
@SourceRegistryID_5ccd903f UNIQUEIDENTIFIER,
@ReplicatedAt_5ccd903f DATETIMEOFFSET,
@LastSyncedAt_5ccd903f DATETIMEOFFSET,
@Specification_5ccd903f NVARCHAR(MAX),
@FunctionalRequirements_5ccd903f NVARCHAR(MAX),
@TechnicalDesign_5ccd903f NVARCHAR(MAX),
@FunctionalRequirementsVector_5ccd903f NVARCHAR(MAX),
@TechnicalDesignVector_5ccd903f NVARCHAR(MAX),
@HasCustomProps_5ccd903f BIT,
@HasCustomEvents_5ccd903f BIT,
@RequiresData_5ccd903f BIT,
@DependencyCount_5ccd903f INT,
@TechnicalDesignVectorEmbeddingModelID_5ccd903f NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_5ccd903f NVARCHAR(MAX),
@HasRequiredCustomProps_5ccd903f BIT,
@ID_5ccd903f UNIQUEIDENTIFIER
SET
  @Namespace_5ccd903f = N'Generic/Navigation'
SET
  @Name_5ccd903f = N'OpenRecordButton'
SET
  @Version_5ccd903f = N'1.0.0'
SET
  @VersionSequence_5ccd903f = 1
SET
  @Title_5ccd903f = N'Open Record Button'
SET
  @Description_5ccd903f = N'Intelligent button that opens MemberJunction entity records using metadata-driven primary key detection. Requires record object and entityName props. Auto-detects primary keys from entity metadata (handles single keys like ''ID'' or composite keys like ''OrderID + LineNumber''). Calls callbacks.OpenEntityRecord with proper key-value pairs. Four variant styles: primary (blue filled), default (blue filled), text (transparent with blue text), link (underlined text). Three sizes: small, medium, large. Optional icon (emoji/unicode). Validates all primary key values exist before enabling button. Fires recordOpened event on success. Shows descriptive tooltip.

#### OpenRecordButton - ONLY use when:
✅ Need a standalone button to open a specific entity record
✅ Record and entity name are available in component scope
✅ Opening records from custom UI (detail panels, lists, cards, search results)
✅ Want automatic primary key handling (no manual key extraction)
✅ Need multiple open-record buttons in same view with different styling

❌ DO NOT USE OpenRecordButton when:
- DataGrid or EntityDataGrid already handles row clicks → Built-in record opening is simpler
- SingleRecordView with allowOpenRecord=true → It uses OpenRecordButton internally
- Need complex pre-open validation/confirmation → Use direct callbacks.OpenEntityRecord call with custom logic
- Record is not a MemberJunction entity → Use custom navigation logic
- Opening external links or non-entity routes → Use regular anchor tags or router links

**Use Cases**: ''View Details'' buttons, drill-down from charts to records, master-detail ''Open in Full View'' actions, search result ''View Record'' buttons, related record links in custom forms.
'
SET
  @Type_5ccd903f = N'Navigation'
SET
  @Status_5ccd903f = N'Published'
SET
  @Specification_5ccd903f = N'{"name":"OpenRecordButton","title":"Open Record Button","description":"Intelligent button that opens MemberJunction entity records using metadata-driven primary key detection. Requires record object and entityName props. Auto-detects primary keys from entity metadata (handles single keys like ''ID'' or composite keys like ''OrderID + LineNumber''). Calls callbacks.OpenEntityRecord with proper key-value pairs. Four variant styles: primary (blue filled), default (blue filled), text (transparent with blue text), link (underlined text). Three sizes: small, medium, large. Optional icon (emoji/unicode). Validates all primary key values exist before enabling button. Fires recordOpened event on success. Shows descriptive tooltip.\n\n#### OpenRecordButton - ONLY use when:\n✅ Need a standalone button to open a specific entity record\n✅ Record and entity name are available in component scope\n✅ Opening records from custom UI (detail panels, lists, cards, search results)\n✅ Want automatic primary key handling (no manual key extraction)\n✅ Need multiple open-record buttons in same view with different styling\n\n❌ DO NOT USE OpenRecordButton when:\n- DataGrid or EntityDataGrid already handles row clicks → Built-in record opening is simpler\n- SingleRecordView with allowOpenRecord=true → It uses OpenRecordButton internally\n- Need complex pre-open validation/confirmation → Use direct callbacks.OpenEntityRecord call with custom logic\n- Record is not a MemberJunction entity → Use custom navigation logic\n- Opening external links or non-entity routes → Use regular anchor tags or router links\n\n**Use Cases**: ''View Details'' buttons, drill-down from charts to records, master-detail ''Open in Full View'' actions, search result ''View Record'' buttons, related record links in custom forms.\n","type":"navigation","location":"embedded","functionalRequirements":"## Purpose\nIntelligent button that opens MemberJunction entity records using metadata-driven primary key detection. Automatically extracts primary keys from entity metadata and calls OpenEntityRecord callback.\n\n## Required Props\n- **record** (object): Entity record containing field data including primary key values\n- **entityName** (string): Name of the MemberJunction entity\n\n## Primary Key Detection\nFully automatic - no manual key extraction needed:\n\n1. **Loads entity metadata** from `utilities.md.Entities` on mount\n2. **Checks multiple primary key sources** (handles different metadata structures):\n   - `entity.PrimaryKeys` array (multi-column keys)\n   - `entity.FirstPrimaryKey.Name` (single key)\n   - Fallback to `''ID''` if no primary key found\n3. **Handles composite keys**: `[''OrderID'', ''LineNumber'']` for multi-column primary keys\n4. **Validates key values**: Ensures all primary key fields have non-null values before enabling button\n\n## Button Behavior\n\n### Validation\nBefore opening record, button validates:\n- `record` prop exists\n- `entityName` prop exists\n- `callbacks.OpenEntityRecord` is available\n- Primary key fields detected from metadata\n- All primary key values exist in record (not null/undefined)\n\nIf any validation fails:\n- Button disabled (`cursor: not-allowed`, opacity: 0.5)\n- Tooltip shows reason (e.g., \"Missing value for primary key field: OrderID\")\n\n### Click Action\nOn valid click:\n1. Extracts primary key values from record using detected field names\n2. Creates key-value pairs: `[{FieldName: ''ID'', Value: ''123''}, ...]`\n3. Calls `callbacks.OpenEntityRecord(entityName, keyValues)`\n4. Fires `recordOpened` event with `{record, entityName, primaryKeys}`\n5. Logs action to console\n\n## Styling & Variants\n\n### Four Style Variants\n\n1. **primary**: Blue filled (#1890ff) with hover (#40a9ff), box shadow\n2. **default**: Brighter blue filled (#3B82F6) with hover (#2563EB)\n3. **text**: Transparent with blue text (#1890ff), light gray hover background\n4. **link**: Transparent with underlined blue text, color change on hover\n\n### Three Sizes\n- **small**: 4px/8px padding, 12px font\n- **medium** (default): 6px/12px padding, 14px font\n- **large**: 8px/16px padding, 16px font\n\n### Icon Support\n- Optional `icon` prop (emoji or unicode): `icon=\"📂\"`\n- `showIcon` prop controls visibility (default false)\n- Icon size scales with button size\n- Always shows arrow icon on right: ↗\n\n### Full Width\n- `fullWidth={true}`: Button takes 100% width of container\n- Useful in card layouts or sidebars\n\n## User Experience\n\n### Hover States\n- Cursor changes to pointer when enabled\n- Background color lightens on hover (variant-specific)\n- Text color changes for link variant\n- Smooth transitions (0.3s ease)\n\n### Tooltips\nAuto-generated descriptive tooltips based on state:\n\n**Enabled**: \"Open {entityName}: {displayValue}\"\n- Display value: record.Name OR record.Title OR record.DisplayName OR primary key values joined\n\n**Disabled (various states)**:\n- \"No record selected\"\n- \"Entity name not provided\"\n- \"Entity ''{entityName}'' not found in metadata\"\n- \"No primary key fields found\"\n- \"Missing value for primary key field: {fieldName}\"\n\n### Loading States\n- Disabled during metadata loading (brief)\n- Re-validates when record or entityName prop changes\n\n## Events\n\n**recordOpened**: Fires after successful OpenEntityRecord call\n```javascript\n{\n  record: {...}, // Full record object\n  entityName: ''Invoices'',\n  primaryKeys: [\n    {FieldName: ''InvoiceID'', Value: ''12345''}\n  ]\n}\n```\n\nUse for analytics, logging, or chaining additional actions.\n\n## Error Handling\n- Graceful fallback if metadata not loaded\n- Console warning if primary keys missing or invalid\n- Try/catch around OpenEntityRecord call with error logging\n- User-friendly disabled state with tooltips (no error throws)\n\n## Integration Patterns\n\n### With DataGrid (row action column)\n```javascript\n{\n  field: ''actions'',\n  header: ''Actions'',\n  render: (value, record) => (\n    <OpenRecordButton\n      record={record}\n      entityName=\"Deals\"\n      variant=\"link\"\n      size=\"small\"\n      text=\"View\"\n    />\n  )\n}\n```\n\n### With SingleRecordView\n```javascript\n<SingleRecordView\n  record={selectedInvoice}\n  entityName=\"Invoices\"\n  allowOpenRecord={true} // Uses OpenRecordButton internally\n/>\n```\n\n### Standalone\n```javascript\n<OpenRecordButton\n  record={selectedContact}\n  entityName=\"Contacts\"\n  text=\"View Full Profile\"\n  variant=\"primary\"\n  size=\"large\"\n  icon=\"👤\"\n  showIcon={true}\n/>\n```\n\n## Performance\n- Metadata lookup happens once on mount (cached in component state)\n- Primary key detection computed once per entityName change\n- Validation memoized with useMemo\n- Button styles calculated dynamically but efficiently\n","technicalDesign":"## Architecture\nReact functional component with intelligent primary key detection from MemberJunction entity metadata.\n\n## State Management (React Hooks)\n- **isHovered** (boolean): Button hover state for styling\n- **primaryKeyFields** (Array): Detected primary key fields from metadata\n- **entityInfo** (object | null): Entity metadata from `utilities.md.Entities`\n\n## Initialization & Metadata Loading (useEffect)\n\n### Trigger\nRuns on: `entityName`, `utilities` changes\n\n### Process\n1. **Validate inputs**:\n   ```javascript\n   if (!entityName || !utilities?.md?.Entities) {\n     console.error(''Entity name not provided'' or ''Entity metadata not loaded'');\n     return;\n   }\n   ```\n\n2. **Find entity**:\n   ```javascript\n   const entity = utilities.md.Entities.find(e => e.Name === entityName);\n   if (entity) {\n     setEntityInfo(entity);\n     // Continue to key detection\n   }\n   ```\n\n3. **Detect primary keys** (handles multiple metadata structures):\n   ```javascript\n   const keyFields = [];\n   \n   if (entity.PrimaryKeys && entity.PrimaryKeys.length > 0) {\n     // Multi-column or array format\n     entity.PrimaryKeys.forEach(field => {\n       keyFields.push({\n         FieldName: field.Name,\n         DisplayName: field.DisplayName || field.Name\n       });\n     });\n   } else if (entity.FirstPrimaryKey) {\n     // Single key object\n     keyFields.push({\n       FieldName: entity.FirstPrimaryKey.Name,\n       DisplayName: entity.FirstPrimaryKey.DisplayName || entity.FirstPrimaryKey.Name\n     });\n   } else {\n     // Fallback to ID\n     keyFields.push({\n       FieldName: ''ID'',\n       DisplayName: ''ID''\n     });\n   }\n   \n   setPrimaryKeyFields(keyFields);\n   ```\n\n## Validation Logic (useMemo)\n\n### canOpen Calculation\n```javascript\nconst canOpen = useMemo(() => {\n  if (!record || !entityName || !callbacks?.OpenEntityRecord) return false;\n  if (primaryKeyFields.length === 0) return false;\n  \n  // Check all primary key fields have values\n  for (const keyField of primaryKeyFields) {\n    if (!record[keyField.FieldName]) {\n      return false;\n    }\n  }\n  \n  return true;\n}, [record, entityName, callbacks, primaryKeyFields]);\n```\n\n## Click Handler\n\n### handleClick Implementation\n```javascript\nconst handleClick = () => {\n  if (!canOpen) return;\n  \n  try {\n    // Build key-value pairs\n    const keyValues = primaryKeyFields.map(keyField => ({\n      FieldName: keyField.FieldName,\n      Value: record[keyField.FieldName]\n    }));\n    \n    // Call OpenEntityRecord\n    callbacks.OpenEntityRecord(entityName, keyValues);\n    \n    // Fire event\n    if (onRecordOpened) {\n      onRecordOpened({ \n        record, \n        entityName,\n        primaryKeys: keyValues\n      });\n    }\n    \n    // Log action\n    console.log(`Opening $' + '{entityName}`);\n  } catch (err) {\n    console.error(''[OpenRecordButton] Error opening record:'', err);\n  }\n};\n```\n\n## Styling System\n\n### Button Style Variants\n```javascript\nconst variantStyles = {\n  primary: {\n    backgroundColor: ''#1890ff'',\n    color: ''#fff'',\n    boxShadow: ''0 2px 4px rgba(0,0,0,0.1)''\n  },\n  default: {\n    backgroundColor: ''#3B82F6'',\n    color: ''#fff'',\n    border: ''none''\n  },\n  text: {\n    backgroundColor: ''transparent'',\n    color: ''#1890ff'',\n    padding: ''2px 4px''\n  },\n  link: {\n    backgroundColor: ''transparent'',\n    color: ''#1890ff'',\n    textDecoration: ''underline'',\n    padding: ''0''\n  }\n};\n```\n\n### Size Variants\n```javascript\nconst sizeStyles = {\n  small: {\n    padding: ''4px 8px'',\n    fontSize: ''12px''\n  },\n  medium: {\n    padding: ''6px 12px'',\n    fontSize: ''14px''\n  },\n  large: {\n    padding: ''8px 16px'',\n    fontSize: ''16px''\n  }\n};\n```\n\n### Base Styles\n```javascript\nconst baseStyles = {\n  display: ''inline-flex'',\n  alignItems: ''center'',\n  justifyContent: ''center'',\n  gap: ''6px'',\n  border: ''none'',\n  borderRadius: ''4px'',\n  cursor: canOpen ? ''pointer'' : ''not-allowed'',\n  transition: ''all 0.3s ease'',\n  fontFamily: ''inherit'',\n  width: fullWidth ? ''100%'' : ''auto'',\n  opacity: canOpen ? 1 : 0.5\n};\n```\n\n### Hover State Handling\n```javascript\nconst getHoverStyles = () => {\n  if (!canOpen || !isHovered) return {};\n  \n  const hoverStyles = {\n    primary: { backgroundColor: ''#40a9ff'' },\n    default: { backgroundColor: ''#2563EB'' },\n    text: { backgroundColor: ''#f0f5ff'' },\n    link: { color: ''#40a9ff'' }\n  };\n  \n  return hoverStyles[variant] || {};\n};\n\n// Combined styles\nconst buttonStyles = {\n  ...getButtonStyles(),\n  ...getHoverStyles()\n};\n```\n\n## Tooltip Generation\n\n### getTooltipText Function\n```javascript\nconst getTooltipText = () => {\n  if (!record) return ''No record selected'';\n  if (!entityName) return ''Entity name not provided'';\n  if (!entityInfo) return `Entity ''$' + '{entityName}'' not found in metadata`;\n  if (primaryKeyFields.length === 0) return ''No primary key fields found'';\n  \n  // Check for missing key values\n  for (const keyField of primaryKeyFields) {\n    if (!record[keyField.FieldName]) {\n      return `Missing value for primary key field: $' + '{keyField.DisplayName}`;\n    }\n  }\n  \n  // Build descriptive text\n  const displayValue = record.Name || record.Title || record.DisplayName || \n                      primaryKeyFields.map(kf => record[kf.FieldName]).join(''-'');\n  return `Open $' + '{entityName}: $' + '{displayValue}`;\n};\n```\n\n## Render Output\n```javascript\nreturn (\n  <button\n    onClick={handleClick}\n    disabled={!canOpen}\n    style={buttonStyles}\n    onMouseEnter={() => setIsHovered(true)}\n    onMouseLeave={() => setIsHovered(false)}\n    title={getTooltipText()}\n    aria-label={`Open $' + '{entityName} record`}\n  >\n    {showIcon && icon && (\n      <span style={{ fontSize: size === ''small'' ? ''14px'' : size === ''large'' ? ''18px'' : ''16px'' }}>\n        {icon}\n      </span>\n    )}\n    <span>{text}</span>\n    <span style={{ fontSize: ''14px'', marginLeft: ''4px'' }}>↗</span>\n  </button>\n);\n```\n\n## Icon Sizing Logic\nIcon scales with button size:\n- small → 14px\n- medium → 16px\n- large → 18px\n\n## Error Handling\n- Graceful fallback if metadata not loaded (button disabled with tooltip)\n- Console warning if primary keys missing or invalid\n- Try/catch around OpenEntityRecord call with error logging\n- No exceptions thrown (button simply disabled)\n\n## Performance\n- Metadata lookup happens once on mount (cached in `entityInfo` state)\n- Primary key detection computed once per `entityName` change (cached in `primaryKeyFields` state)\n- Validation memoized with `useMemo` (recalculates only when dependencies change)\n- Button styles calculated dynamically but efficiently (no unnecessary re-renders)\n- Hover state managed with simple boolean (minimal state updates)\n","dataRequirements":{"mode":"props","description":"Receives record data through props, uses metadata for key information"},"properties":[{"name":"record","type":"Record<string, any>","description":"The entity record to open (must contain primary key fields)","required":true},{"name":"entityName","type":"string","description":"Name of the entity (used to look up metadata)","required":true},{"name":"text","type":"string","description":"Button text","required":false,"defaultValue":"Open Record"},{"name":"variant","type":"''primary'' | ''default'' | ''text'' | ''link''","description":"Button style variant","required":false,"defaultValue":"default","possibleValues":["primary","default","text","link"]},{"name":"size","type":"''small'' | ''medium'' | ''large''","description":"Button size","required":false,"defaultValue":"medium","possibleValues":["small","medium","large"]},{"name":"icon","type":"string","description":"Icon to show (emoji or unicode)","required":false,"defaultValue":"📂"},{"name":"showIcon","type":"boolean","description":"Whether to show the icon","required":false,"defaultValue":true},{"name":"fullWidth","type":"boolean","description":"Whether button takes full width","required":false,"defaultValue":false}],"events":[{"name":"recordOpened","description":"Fired after record is successfully opened","parameters":[{"name":"record","type":"Record<string, any>","description":"The opened record"},{"name":"entityName","type":"string","description":"Entity name"},{"name":"primaryKeys","type":"Array<{ FieldName: string; Value: any }>","description":"Primary key field/value pairs used to open"}]}],"dependencies":[],"code":"function OpenRecordButton({\n  record,\n  entityName,\n  text = ''Open Record'',\n  variant = ''default'',\n  size = ''medium'',\n  icon,\n  showIcon = false,\n  fullWidth = false,\n  onRecordOpened,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  // State for button interaction\n  const [isHovered, setIsHovered] = React.useState(false);\n  const [primaryKeyFields, setPrimaryKeyFields] = React.useState([]);\n  const [entityInfo, setEntityInfo] = React.useState(null);\n  \n  // Load entity metadata and determine primary key fields\n  React.useEffect(() => {\n    if (!entityName || !utilities?.md?.Entities) {\n      if (!entityName) console.error(''Entity name not provided'');\n      if (!utilities?.md?.Entities) console.error(''Entity metadata not loaded.'');\n      return;\n    }\n    \n    // Find the entity in metadata\n    const entity = utilities.md.Entities.find(e => e.Name === entityName);\n    if (entity) {\n      setEntityInfo(entity);\n      \n      // Get primary key fields from the entity object\n      // The entity has a PrimaryKeys property that returns an array of primary key fields\n      const keyFields = [];\n      \n      if (entity.PrimaryKeys && entity.PrimaryKeys.length > 0) {\n        // Use the PrimaryKeys property from the entity\n        entity.PrimaryKeys.forEach(field => {\n          keyFields.push({\n            FieldName: field.Name,\n            DisplayName: field.DisplayName || field.Name\n          });\n        });\n      } else if (entity.FirstPrimaryKey) {\n        // Fallback to FirstPrimaryKey if available\n        keyFields.push({\n          FieldName: entity.FirstPrimaryKey.Name,\n          DisplayName: entity.FirstPrimaryKey.DisplayName || entity.FirstPrimaryKey.Name\n        });\n      } else {\n        // Final fallback to ID field\n        keyFields.push({\n          FieldName: ''ID'',\n          DisplayName: ''ID''\n        });\n      }\n      \n      setPrimaryKeyFields(keyFields);\n    }\n  }, [entityName, utilities]);\n  \n  // Check if we can open the record\n  const canOpen = React.useMemo(() => {\n    if (!record || !entityName || !callbacks?.OpenEntityRecord) return false;\n    if (primaryKeyFields.length === 0) return false;\n    \n    // Check that all primary key fields have values\n    for (const keyField of primaryKeyFields) {\n      if (!record[keyField.FieldName]) {\n        return false;\n      }\n    }\n    \n    return true;\n  }, [record, entityName, callbacks, primaryKeyFields]);\n  \n  // Handle button click\n  const handleClick = () => {\n    if (!canOpen) return;\n    \n    try {\n      // Build the key-value pairs for OpenEntityRecord\n      const keyValues = primaryKeyFields.map(keyField => ({\n        FieldName: keyField.FieldName,\n        Value: record[keyField.FieldName]\n      }));\n      \n      // Use MJ''s OpenEntityRecord callback with the primary key fields\n      callbacks.OpenEntityRecord(entityName, keyValues);\n      \n      // Fire event with details\n      if (onRecordOpened) {\n        onRecordOpened({ \n          record, \n          entityName,\n          primaryKeys: keyValues\n        });\n      }\n      \n      // Log opening action\n      console.log(`Opening $' + '{entityName}`);\n    } catch (err) {\n      console.error(''[OpenRecordButton] Error opening record:'', err);\n    }\n  };\n  \n  // Button styles based on variant and size\n  const getButtonStyles = () => {\n    const baseStyles = {\n      display: ''inline-flex'',\n      alignItems: ''center'',\n      justifyContent: ''center'',\n      gap: ''6px'',\n      border: ''none'',\n      borderRadius: ''4px'',\n      cursor: canOpen ? ''pointer'' : ''not-allowed'',\n      transition: ''all 0.3s ease'',\n      fontFamily: ''inherit'',\n      width: fullWidth ? ''100%'' : ''auto'',\n      opacity: canOpen ? 1 : 0.5\n    };\n    \n    // Size styles\n    const sizeStyles = {\n      small: {\n        padding: ''4px 8px'',\n        fontSize: ''12px''\n      },\n      medium: {\n        padding: ''6px 12px'',\n        fontSize: ''14px''\n      },\n      large: {\n        padding: ''8px 16px'',\n        fontSize: ''16px''\n      }\n    };\n    \n    // Variant styles\n    const variantStyles = {\n      primary: {\n        backgroundColor: ''#1890ff'',\n        color: ''#fff'',\n        boxShadow: ''0 2px 4px rgba(0,0,0,0.1)''\n      },\n      default: {\n        backgroundColor: ''#3B82F6'',\n        color: ''#fff'',\n        border: ''none''\n      },\n      text: {\n        backgroundColor: ''transparent'',\n        color: ''#1890ff'',\n        padding: ''2px 4px''\n      },\n      link: {\n        backgroundColor: ''transparent'',\n        color: ''#1890ff'',\n        textDecoration: ''underline'',\n        padding: ''0''\n      }\n    };\n    \n    return {\n      ...baseStyles,\n      ...sizeStyles[size],\n      ...variantStyles[variant]\n    };\n  };\n  \n  // Hover styles\n  const getHoverStyles = () => {\n    if (!canOpen || !isHovered) return {};\n    \n    const hoverStyles = {\n      primary: {\n        backgroundColor: ''#40a9ff''\n      },\n      default: {\n        backgroundColor: ''#2563EB''\n      },\n      text: {\n        backgroundColor: ''#f0f5ff''\n      },\n      link: {\n        color: ''#40a9ff''\n      }\n    };\n    \n    return hoverStyles[variant] || {};\n  };\n  \n  // Combined styles\n  const buttonStyles = {\n    ...getButtonStyles(),\n    ...getHoverStyles()\n  };\n  \n  // Tooltip text\n  const getTooltipText = () => {\n    if (!record) return ''No record selected'';\n    if (!entityName) return ''Entity name not provided'';\n    if (!entityInfo) return `Entity ''$' + '{entityName}'' not found in metadata`;\n    if (primaryKeyFields.length === 0) return ''No primary key fields found'';\n    \n    // Check for missing key values\n    for (const keyField of primaryKeyFields) {\n      if (!record[keyField.FieldName]) {\n        return `Missing value for primary key field: $' + '{keyField.DisplayName}`;\n      }\n    }\n    \n    // Build descriptive text\n    const displayValue = record.Name || record.Title || record.DisplayName || \n                        primaryKeyFields.map(kf => record[kf.FieldName]).join(''-'');\n    return `Open $' + '{entityName}: $' + '{displayValue}`;\n  };\n  \n  return (\n    <button\n      onClick={handleClick}\n      disabled={!canOpen}\n      style={buttonStyles}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      title={getTooltipText()}\n      aria-label={`Open $' + '{entityName} record`}\n    >\n      {showIcon && icon && (\n        <span style={{ fontSize: size === ''small'' ? ''14px'' : size === ''large'' ? ''18px'' : ''16px'' }}>\n          {icon}\n        </span>\n      )}\n      <span>{text}</span>\n      <span style={{ fontSize: ''14px'', marginLeft: ''4px'' }}>↗</span>\n    </button>\n  );\n}","exampleUsage":"<OpenRecordButton\n  record={selectedDeal}\n  entityName=\"Deals\"\n  text=\"View Deal\"\n  variant=\"primary\"\n/>"}'
SET
  @FunctionalRequirements_5ccd903f = N'## Purpose
Intelligent button that opens MemberJunction entity records using metadata-driven primary key detection. Automatically extracts primary keys from entity metadata and calls OpenEntityRecord callback.

## Required Props
- **record** (object): Entity record containing field data including primary key values
- **entityName** (string): Name of the MemberJunction entity

## Primary Key Detection
Fully automatic - no manual key extraction needed:

1. **Loads entity metadata** from `utilities.md.Entities` on mount
2. **Checks multiple primary key sources** (handles different metadata structures):
   - `entity.PrimaryKeys` array (multi-column keys)
   - `entity.FirstPrimaryKey.Name` (single key)
   - Fallback to `''ID''` if no primary key found
3. **Handles composite keys**: `[''OrderID'', ''LineNumber'']` for multi-column primary keys
4. **Validates key values**: Ensures all primary key fields have non-null values before enabling button

## Button Behavior

### Validation
Before opening record, button validates:
- `record` prop exists
- `entityName` prop exists
- `callbacks.OpenEntityRecord` is available
- Primary key fields detected from metadata
- All primary key values exist in record (not null/undefined)

If any validation fails:
- Button disabled (`cursor: not-allowed`, opacity: 0.5)
- Tooltip shows reason (e.g., "Missing value for primary key field: OrderID")

### Click Action
On valid click:
1. Extracts primary key values from record using detected field names
2. Creates key-value pairs: `[{FieldName: ''ID'', Value: ''123''}, ...]`
3. Calls `callbacks.OpenEntityRecord(entityName, keyValues)`
4. Fires `recordOpened` event with `{record, entityName, primaryKeys}`
5. Logs action to console

## Styling & Variants

### Four Style Variants

1. **primary**: Blue filled (#1890ff) with hover (#40a9ff), box shadow
2. **default**: Brighter blue filled (#3B82F6) with hover (#2563EB)
3. **text**: Transparent with blue text (#1890ff), light gray hover background
4. **link**: Transparent with underlined blue text, color change on hover

### Three Sizes
- **small**: 4px/8px padding, 12px font
- **medium** (default): 6px/12px padding, 14px font
- **large**: 8px/16px padding, 16px font

### Icon Support
- Optional `icon` prop (emoji or unicode): `icon="📂"`
- `showIcon` prop controls visibility (default false)
- Icon size scales with button size
- Always shows arrow icon on right: ↗

### Full Width
- `fullWidth={true}`: Button takes 100% width of container
- Useful in card layouts or sidebars

## User Experience

### Hover States
- Cursor changes to pointer when enabled
- Background color lightens on hover (variant-specific)
- Text color changes for link variant
- Smooth transitions (0.3s ease)

### Tooltips
Auto-generated descriptive tooltips based on state:

**Enabled**: "Open {entityName}: {displayValue}"
- Display value: record.Name OR record.Title OR record.DisplayName OR primary key values joined

**Disabled (various states)**:
- "No record selected"
- "Entity name not provided"
- "Entity ''{entityName}'' not found in metadata"
- "No primary key fields found"
- "Missing value for primary key field: {fieldName}"

### Loading States
- Disabled during metadata loading (brief)
- Re-validates when record or entityName prop changes

## Events

**recordOpened**: Fires after successful OpenEntityRecord call
```javascript
{
  record: {...}, // Full record object
  entityName: ''Invoices'',
  primaryKeys: [
    {FieldName: ''InvoiceID'', Value: ''12345''}
  ]
}
```

Use for analytics, logging, or chaining additional actions.

## Error Handling
- Graceful fallback if metadata not loaded
- Console warning if primary keys missing or invalid
- Try/catch around OpenEntityRecord call with error logging
- User-friendly disabled state with tooltips (no error throws)

## Integration Patterns

### With DataGrid (row action column)
```javascript
{
  field: ''actions'',
  header: ''Actions'',
  render: (value, record) => (
    <OpenRecordButton
      record={record}
      entityName="Deals"
      variant="link"
      size="small"
      text="View"
    />
  )
}
```

### With SingleRecordView
```javascript
<SingleRecordView
  record={selectedInvoice}
  entityName="Invoices"
  allowOpenRecord={true} // Uses OpenRecordButton internally
/>
```

### Standalone
```javascript
<OpenRecordButton
  record={selectedContact}
  entityName="Contacts"
  text="View Full Profile"
  variant="primary"
  size="large"
  icon="👤"
  showIcon={true}
/>
```

## Performance
- Metadata lookup happens once on mount (cached in component state)
- Primary key detection computed once per entityName change
- Validation memoized with useMemo
- Button styles calculated dynamically but efficiently
'
SET
  @TechnicalDesign_5ccd903f = N'## Architecture
React functional component with intelligent primary key detection from MemberJunction entity metadata.

## State Management (React Hooks)
- **isHovered** (boolean): Button hover state for styling
- **primaryKeyFields** (Array): Detected primary key fields from metadata
- **entityInfo** (object | null): Entity metadata from `utilities.md.Entities`

## Initialization & Metadata Loading (useEffect)

### Trigger
Runs on: `entityName`, `utilities` changes

### Process
1. **Validate inputs**:
   ```javascript
   if (!entityName || !utilities?.md?.Entities) {
     console.error(''Entity name not provided'' or ''Entity metadata not loaded'');
     return;
   }
   ```

2. **Find entity**:
   ```javascript
   const entity = utilities.md.Entities.find(e => e.Name === entityName);
   if (entity) {
     setEntityInfo(entity);
     // Continue to key detection
   }
   ```

3. **Detect primary keys** (handles multiple metadata structures):
   ```javascript
   const keyFields = [];
   
   if (entity.PrimaryKeys && entity.PrimaryKeys.length > 0) {
     // Multi-column or array format
     entity.PrimaryKeys.forEach(field => {
       keyFields.push({
         FieldName: field.Name,
         DisplayName: field.DisplayName || field.Name
       });
     });
   } else if (entity.FirstPrimaryKey) {
     // Single key object
     keyFields.push({
       FieldName: entity.FirstPrimaryKey.Name,
       DisplayName: entity.FirstPrimaryKey.DisplayName || entity.FirstPrimaryKey.Name
     });
   } else {
     // Fallback to ID
     keyFields.push({
       FieldName: ''ID'',
       DisplayName: ''ID''
     });
   }
   
   setPrimaryKeyFields(keyFields);
   ```

## Validation Logic (useMemo)

### canOpen Calculation
```javascript
const canOpen = useMemo(() => {
  if (!record || !entityName || !callbacks?.OpenEntityRecord) return false;
  if (primaryKeyFields.length === 0) return false;
  
  // Check all primary key fields have values
  for (const keyField of primaryKeyFields) {
    if (!record[keyField.FieldName]) {
      return false;
    }
  }
  
  return true;
}, [record, entityName, callbacks, primaryKeyFields]);
```

## Click Handler

### handleClick Implementation
```javascript
const handleClick = () => {
  if (!canOpen) return;
  
  try {
    // Build key-value pairs
    const keyValues = primaryKeyFields.map(keyField => ({
      FieldName: keyField.FieldName,
      Value: record[keyField.FieldName]
    }));
    
    // Call OpenEntityRecord
    callbacks.OpenEntityRecord(entityName, keyValues);
    
    // Fire event
    if (onRecordOpened) {
      onRecordOpened({ 
        record, 
        entityName,
        primaryKeys: keyValues
      });
    }
    
    // Log action
    console.log(`Opening $' + '{entityName}`);
  } catch (err) {
    console.error(''[OpenRecordButton] Error opening record:'', err);
  }
};
```

## Styling System

### Button Style Variants
```javascript
const variantStyles = {
  primary: {
    backgroundColor: ''#1890ff'',
    color: ''#fff'',
    boxShadow: ''0 2px 4px rgba(0,0,0,0.1)''
  },
  default: {
    backgroundColor: ''#3B82F6'',
    color: ''#fff'',
    border: ''none''
  },
  text: {
    backgroundColor: ''transparent'',
    color: ''#1890ff'',
    padding: ''2px 4px''
  },
  link: {
    backgroundColor: ''transparent'',
    color: ''#1890ff'',
    textDecoration: ''underline'',
    padding: ''0''
  }
};
```

### Size Variants
```javascript
const sizeStyles = {
  small: {
    padding: ''4px 8px'',
    fontSize: ''12px''
  },
  medium: {
    padding: ''6px 12px'',
    fontSize: ''14px''
  },
  large: {
    padding: ''8px 16px'',
    fontSize: ''16px''
  }
};
```

### Base Styles
```javascript
const baseStyles = {
  display: ''inline-flex'',
  alignItems: ''center'',
  justifyContent: ''center'',
  gap: ''6px'',
  border: ''none'',
  borderRadius: ''4px'',
  cursor: canOpen ? ''pointer'' : ''not-allowed'',
  transition: ''all 0.3s ease'',
  fontFamily: ''inherit'',
  width: fullWidth ? ''100%'' : ''auto'',
  opacity: canOpen ? 1 : 0.5
};
```

### Hover State Handling
```javascript
const getHoverStyles = () => {
  if (!canOpen || !isHovered) return {};
  
  const hoverStyles = {
    primary: { backgroundColor: ''#40a9ff'' },
    default: { backgroundColor: ''#2563EB'' },
    text: { backgroundColor: ''#f0f5ff'' },
    link: { color: ''#40a9ff'' }
  };
  
  return hoverStyles[variant] || {};
};

// Combined styles
const buttonStyles = {
  ...getButtonStyles(),
  ...getHoverStyles()
};
```

## Tooltip Generation

### getTooltipText Function
```javascript
const getTooltipText = () => {
  if (!record) return ''No record selected'';
  if (!entityName) return ''Entity name not provided'';
  if (!entityInfo) return `Entity ''$' + '{entityName}'' not found in metadata`;
  if (primaryKeyFields.length === 0) return ''No primary key fields found'';
  
  // Check for missing key values
  for (const keyField of primaryKeyFields) {
    if (!record[keyField.FieldName]) {
      return `Missing value for primary key field: $' + '{keyField.DisplayName}`;
    }
  }
  
  // Build descriptive text
  const displayValue = record.Name || record.Title || record.DisplayName || 
                      primaryKeyFields.map(kf => record[kf.FieldName]).join(''-'');
  return `Open $' + '{entityName}: $' + '{displayValue}`;
};
```

## Render Output
```javascript
return (
  <button
    onClick={handleClick}
    disabled={!canOpen}
    style={buttonStyles}
    onMouseEnter={() => setIsHovered(true)}
    onMouseLeave={() => setIsHovered(false)}
    title={getTooltipText()}
    aria-label={`Open $' + '{entityName} record`}
  >
    {showIcon && icon && (
      <span style={{ fontSize: size === ''small'' ? ''14px'' : size === ''large'' ? ''18px'' : ''16px'' }}>
        {icon}
      </span>
    )}
    <span>{text}</span>
    <span style={{ fontSize: ''14px'', marginLeft: ''4px'' }}>↗</span>
  </button>
);
```

## Icon Sizing Logic
Icon scales with button size:
- small → 14px
- medium → 16px
- large → 18px

## Error Handling
- Graceful fallback if metadata not loaded (button disabled with tooltip)
- Console warning if primary keys missing or invalid
- Try/catch around OpenEntityRecord call with error logging
- No exceptions thrown (button simply disabled)

## Performance
- Metadata lookup happens once on mount (cached in `entityInfo` state)
- Primary key detection computed once per `entityName` change (cached in `primaryKeyFields` state)
- Validation memoized with `useMemo` (recalculates only when dependencies change)
- Button styles calculated dynamically but efficiently (no unnecessary re-renders)
- Hover state managed with simple boolean (minimal state updates)
'
SET
  @FunctionalRequirementsVector_5ccd903f = N'[0.04935424029827118,0.05518459901213646,0.014948130585253239,-0.03672982379794121,0.010617535561323166,0.006280418019741774,0.023184649646282196,0.015920013189315796,-0.05632414296269417,-0.025675110518932343,-0.0756707489490509,-0.016614718362689018,0.00404173182323575,0.06070790812373161,-0.035251569002866745,0.011742052622139454,-0.0036783930845558643,0.021022701635956764,0.021431636065244675,-0.01686117798089981,-0.008050286211073399,-0.02307680994272232,-0.017824195325374603,-0.005113519262522459,-0.005046633537858725,0.002941966289654374,-0.08766569197177887,0.010701965540647507,0.02699138969182968,-0.048441383987665176,-0.0019486516248434782,0.07244707643985748,-0.06644478440284729,0.0020038376096636057,0.0000021724806629208615,-0.03920019045472145,-0.03448810055851936,0.01928630657494068,-0.05660055950284004,0.033991117030382156,-0.052999384701251984,-0.002720483345910907,0.01046186126768589,-0.05484860762953758,-0.006175353657454252,-0.08231145888566971,-0.025262877345085144,0.044652923941612244,0.003951073158532381,-0.038730449974536896,0.009015255607664585,0.007917311042547226,0.04533126950263977,0.01538214273750782,0.01452964823693037,0.030835192650556564,0.020080339163541794,-0.02017965540289879,0.017440427094697952,-0.010585453361272812,0.023056186735630035,-0.04381536319851875,0.025551747530698776,-0.04306446760892868,0.0666491761803627,0.001074184780009091,-0.026026856154203415,-0.026755092665553093,0.009605060331523418,0.03119460493326187,0.13894665241241455,-0.00035918899811804295,0.014168350957334042,-0.006200449541211128,-0.017119411379098892,-0.03942864388227463,0.02653472311794758,-0.03330793231725693,0.025984376668930054,-0.014442279934883118,0.042531561106443405,-0.00024455718812532723,-0.046204619109630585,-0.006229272112250328,-0.0248048584908247,0.011210276745259762,0.013006328605115414,-0.048306066542863846,-0.021905673667788506,-0.06261985749006271,-0.030109776183962822,0.013406896963715553,-0.003294240916147828,-0.0018119950545951724,-0.028480289503932,-0.027242599055171013,0.021982554346323013,-0.07865171134471893,0.053841035813093185,-0.015048321336507797,-0.020640060305595398,0.02142093889415264,-0.004126950167119503,0.0020535073708742857,0.043245863169431686,0.010909413918852806,0.03658682480454445,0.06859640032052994,0.03729839622974396,-0.0023940815590322018,-0.02602737583220005,0.013277803547680378,0.00853498000651598,0.017003284767270088,0.05397183820605278,0.0383344367146492,-0.006156928837299347,-0.006425800733268261,-0.010134709998965263,0.030995285138487816,0.020651884377002716,-0.015564034692943096,-0.010288823395967484,-0.012652605772018433,-0.017112944275140762,-0.03696073219180107,0.011921050027012825,-0.050647009164094925,-0.04484974592924118,0.009088881313800812,0.0015346718719229102,-0.0049638887867331505,0.04580041766166687,0.0024767189752310514,0.026375148445367813,0.006256046239286661,0.024504581466317177,0.002822778420522809,-0.010742041282355785,-0.013655361719429493,0.029945408925414085,-0.01685621589422226,-0.06241897866129875,0.03055831976234913,0.02619875967502594,0.0023872351739555597,-0.03816578537225723,-0.007430227939039469,0.024350889027118683,0.007331659086048603,0.012688759714365005,-0.018331950530409813,-0.040721774101257324,0.01607576198875904,-0.03544327989220619,0.009342043660581112,0.017876338213682175,-0.01420699991285801,0.009861175902187824,-0.0324101597070694,0.0008959847036749125,0.03256795555353165,0.03477519750595093,-0.009850568138062954,-0.004052679054439068,0.04729723557829857,0.003233297960832715,0.020147373899817467,0.026420291513204575,-0.012544042430818081,-0.009200640954077244,-0.030080806463956833,-0.016055194661021233,0.013114274479448795,0.01389901153743267,-0.019024312496185303,0.013270974159240723,-0.03205159306526184,0.0020452772732824087,-0.015363574959337711,-0.05205858126282692,-0.040290530771017075,-0.007713546510785818,0.009756202809512615,0.018794214352965355,-0.04020167887210846,0.011240667663514614,0.041100118309259415,0.028287986293435097,-0.004635849501937628,-0.0009417016408406198,0.029163502156734467,-0.06283579766750336,-0.0307388287037611,0.011692894622683525,0.001368458615615964,-0.03764639422297478,0.0594625361263752,0.020255133509635925,0.04031144082546234,-0.04314268380403519,-0.01582607813179493,-0.03687894716858864,-0.0302901528775692,0.001139678992331028,0.014367849566042423,-0.09440213441848755,-0.006609971635043621,-0.02877972647547722,-0.026410283520817757,-0.04604616388678551,-0.03214165195822716,-0.013660568743944168,0.008250834420323372,-0.030999694019556046,0.0833844467997551,0.040436454117298126,0.015394879505038261,-0.06174888461828232,-0.05332671105861664,0.002015161793678999,0.005145271774381399,0.03213851898908615,-0.01458948478102684,0.036221571266651154,-0.02797769196331501,-0.0006134904106147587,0.023033052682876587,0.00023379690537694842,-0.006108501926064491,-0.023296261206269264,-0.03139391168951988,0.01778014563024044,0.054937466979026794,0.02825853042304516,0.03259403258562088,0.04543037712574005,0.15314427018165588,-0.014054283499717712,0.0636596605181694,-0.0120890773832798,-0.056009966880083084,-0.024913817644119263,0.006242341827601194,-0.052012450993061066,0.014232981950044632,-0.10937666147947311,0.002643934218212962,-0.003962265327572823,-0.004435087088495493,-0.005640250630676746,0.009863757528364658,0.014790804125368595,-0.013533423654735088,0.0006701702950522304,0.03213999420404434,-0.04941580444574356,0.02692667953670025,-0.04445018991827965,0.045836251229047775,0.04006187617778778,-0.03675847128033638,0.00534186651930213,-0.04044442996382713,0.02928212285041809,-0.017734050750732422,0.01324507873505354,-0.022638678550720215,0.03749658539891243,0.0022743786685168743,0.023286180570721626,0.03484050929546356,0.002310782903805375,-0.008575663901865482,0.03215073421597481,0.047931037843227386,-0.0519244521856308,0.03374871611595154,-0.020624196156859398,-0.06412007659673691,0.023374367505311966,-0.026487288996577263,0.0371113121509552,0.02010924741625786,-0.039653632789850235,-0.002168675186112523,0.016225090250372887,0.015932928770780563,0.01965181902050972,-0.08605699986219406,0.024817926809191704,-0.013093284331262112,0.03261891007423401,-0.04957802966237068,-0.0035912394523620605,-0.0138235567137599,-0.024996623396873474,0.0369255430996418,-0.022635214030742645,-0.023428160697221756,0.038785312324762344,0.023750213906168938,-0.018852075561881065,-0.0005303055513650179,0.037927765399217606,0.05618772283196449,0.005930725019425154,0.02210342139005661,0.03907855972647667,0.0537242665886879,-0.01656993106007576,0.029297664761543274,0.01089539472013712,-0.06320535391569138,0.05046902596950531,0.008505867794156075,0.02661258354783058,-0.030664319172501564,-0.006967567838728428,0.10402730852365494,0.006099477875977755,0.004647602327167988,0.0509406216442585,0.02087387628853321,-0.04532719403505325,-0.0003680273948702961,0.0019316026009619236,-0.0032077052164822817,0.018890149891376495,-0.006596446968615055,0.05584109202027321,0.04503195360302925,-0.01955457217991352,-0.012216235511004925,0.03755776584148407,0.011562532745301723,-0.006849675439298153,0.017847636714577675,-0.009035040624439716,-0.010519936680793762,0.00527551444247365,-0.027189744636416435,-0.028643488883972168,0.04486827179789543,-0.010773243382573128,-0.023345232009887695,-0.051802437752485275,0.01639881171286106,-0.023158404976129532,0.035169921815395355,0.02118910290300846,0.034717973321676254,0.0147932767868042,0.0094660809263587,0.00706067681312561,-0.0005821630475111306,-0.013034828007221222,0.028840109705924988,0.0036562569439411163,-0.04187744855880737,0.04468764364719391,-0.010852337814867496,0.028651701286435127,-0.022015705704689026,0.0002879196545109153,0.013067595660686493,0.018887996673583984,0.01576390489935875,0.0060948776081204414,-0.04669897258281708,-0.06682013720273972,-0.00919700413942337,-0.0005821646191179752,0.02763531357049942,-0.019563041627407074,-0.034314949065446854,0.024356672540307045,0.011533982120454311,0.00548399705439806,0.0016975401667878032,0.022561317309737206,-0.05731969699263573,0.07429538667201996,-0.012510880827903748,0.026614051312208176,-0.023660268634557724,0.030379952862858772,0.010323266498744488,-0.04940659552812576,0.005405670963227749,-0.007548171561211348,0.05485223978757858,-0.09770651906728745,-0.020635413005948067,-0.0021748938597738743,-0.029588527977466583,-0.026851654052734375,0.07296668738126755,0.04560845345258713,0.0015384763246402144,-0.03703327104449272,0.13686884939670563,-0.037792958319187164,0.06679372489452362,0.022678114473819733,0.010101044550538063,0.07120268791913986,0.005417167209088802,0.07350341975688934,-0.011063603684306145,-0.00853155180811882,0.010292657651007175,-0.04275166243314743,-0.01371257845312357,-0.033622484654188156,-0.01640968583524227,0.008622784167528152,-0.04577496647834778,0.027170393615961075,0.03443010896444321,-0.016078898683190346,0.021286584436893463,0.0042028059251606464,-0.006011187564581633,0.0441812127828598,-0.037949755787849426,-0.011541576124727726,-0.057359762489795685,-0.029147621244192123,0.003240962978452444,-0.03842780739068985,0.020411163568496704,0.017104221507906914,0.055786050856113434,-0.044622279703617096,-0.008188210427761078,0.0664854496717453,-0.01915292628109455,-0.01238678116351366,-0.004131083842366934,-0.03724246472120285,-0.00980716198682785,0.05251426622271538,0.007018040865659714,-0.008599501103162766,-0.019409382715821266,-0.012307912111282349,0.0856342539191246,-0.016003068536520004,0.0004081871302332729,-0.06010400503873825,-0.06698782742023468,-0.01830338127911091,0.04633452743291855,0.017083344981074333,-0.03224555775523186,-0.07275041192770004,0.0640672966837883,-0.050917770713567734,0.0503765307366848,0.022310277447104454,0.019305402413010597,-0.00844823569059372,0.043096624314785004,-0.018811624497175217,-0.15674105286598206,0.010639527812600136,-0.06965083628892899,-0.03400280699133873,0.00009909508662531152,0.0010069673880934715,-0.02571793645620346,-0.0009379371185787022,-0.040975578129291534,0.031218556687235832,-0.013474008068442345,0.0337824821472168,-0.04689442738890648,-0.04019419103860855,0.0008387186680920422,0.07347187399864197,0.03685631975531578,0.0007588548469357193,-0.02785290591418743,0.005133918486535549,0.05690367892384529,0.003425044473260641,0.004476682282984257,0.011696246452629566,0.030239319428801537,-0.05264769867062569,0.03945206105709076,0.002842259593307972,-0.009288563393056393,0.01132638193666935,0.02318968065083027,0.0008162711746990681,0.05602314695715904,-0.007798425853252411,-0.0032543381676077843,0.0052622524090111256,-0.053571902215480804,-0.024368243291974068,0.03842790797352791,0.041837356984615326,-0.007025579456239939,-0.014517094939947128,0.03460382670164108,-0.007239337079226971,-0.013139494694769382,-0.001222593942657113,-0.06458070874214172,-0.037744443863630295,0.053726207464933395,0.019615257158875465,-0.02048483118414879,0.01009176205843687,0.022325003519654274,0.02121889963746071,-0.024034129455685616,-0.000435377296525985,0.01853739283978939,-0.005981133319437504,-0.006544166710227728,0.01501974556595087,-0.024640873074531555,0.03457273542881012,0.009609602391719818,0.08722002059221268,0.005657392553985119,0.00603015162050724,0.010338259860873222,0.030215216800570488,0.016465146094560623,-0.0010411745170131326,0.029201334342360497,0.08272472023963928,-0.021129438653588295,-0.007054492831230164,0.017084358260035515,-0.04390096291899681,0.06692388653755188,0.02125038392841816,-0.027873283252120018,0.021810637786984444,-0.042111605405807495,0.016565481200814247,-0.04617953300476074,0.0071233767084777355,0.05241281911730766,0.018105024471879005,-0.03770075738430023,-0.03570043295621872,-0.03358267620205879,0.011666197329759598,-7.016528718794111e-33,0.01320669800043106,-0.029015876352787018,-0.05824975669384003,-0.02752930484712124,0.02986571379005909,-0.036660268902778625,-0.015845803543925285,-0.01775452494621277,-0.01926521398127079,-0.017124973237514496,0.031330656260252,-0.059588585048913956,0.013639182783663273,0.024144934490323067,0.009215841069817543,0.001662810449488461,-0.008789910934865475,-0.024973610416054726,0.023015813902020454,0.04026489332318306,-0.03256045654416084,0.016691112890839577,-0.010870841331779957,0.00036187790101394057,0.013360689394176006,-0.03797809034585953,-0.030490417033433914,0.0054085333831608295,-0.09643837064504623,0.04936391860246658,0.003009270643815398,-0.024315837770700455,-0.04202526807785034,-0.0670941025018692,0.048005666583776474,-0.06541965156793594,-0.07974959164857864,-0.004836928565055132,-0.04277276247739792,0.0006321038817986846,0.09009639173746109,0.009561310522258282,-0.0071567269042134285,-0.024342721328139305,0.008458789438009262,-0.006588886491954327,-0.0028266170993447304,0.04785653576254845,-0.027335509657859802,-0.10212518274784088,-0.014575975015759468,-0.01760861836373806,-0.008516828529536724,0.04700669273734093,-0.003557218937203288,-0.021443258970975876,0.03766515851020813,-0.06107929348945618,-0.10582590103149414,-0.031067512929439545,0.07640574127435684,-0.04636978730559349,-0.006234411150217056,0.0673106238245964,0.05036579817533493,0.00023784887162037194,-0.005763419903814793,0.02823697403073311,-0.011799432337284088,0.06715786457061768,0.02385655604302883,-0.016427375376224518,-0.007170420140028,-0.0061264182440936565,0.0543624684214592,0.05261073634028435,-0.017321739345788956,-0.011954662390053272,-0.059760238975286484,-0.008722021244466305,0.048114243894815445,0.03260134905576706,0.005240747705101967,0.038641802966594696,-0.052032917737960815,0.0032098032534122467,-0.0048907482996582985,-0.03333987295627594,-0.017497949302196503,-0.009864626452326775,-0.03359835222363472,-0.06767826527357101,-0.022538911551237106,0.061589065939188004,-0.0866595208644867,-0.0003310538886580616,0.04085744172334671,0.015524742193520069,-0.049856171011924744,0.006052298005670309,0.05674852803349495,0.0024780165404081345,0.0277046337723732,-0.00024382835545111448,0.010724182240664959,0.017945339903235435,-0.023952579125761986,-0.00018084941257257015,-0.05208948999643326,0.03280765190720558,0.051959920674562454,0.0072756577283144,-0.025228526443243027,-0.018827926367521286,0.001755508128553629,-0.02845451608300209,-0.0004610401520039886,-0.022127021104097366,0.017468435689806938,0.02114233188331127,0.02419012039899826,0.031899139285087585,0.0037987492978572845,0.031611599028110504,0.02178199030458927,0.03900623694062233,-0.0379343256354332,-0.09314485639333725,-0.02271927148103714,0.08168933540582657,0.026163414120674133,0.022150203585624695,3.134414328087587e-7,-0.009222294203937054,0.014993644319474697,-0.011413703672587872,-0.03591711446642876,-0.028763024136424065,0.043898794800043106,0.02435954473912716,-0.042780037969350815,0.01723642833530903,-0.1110161691904068,0.04774719849228859,-0.0019670885521918535,0.0011255252175033092,0.033763401210308075,-0.04954919219017029,-0.005521281156688929,0.02240537479519844,0.03474771976470947,-0.023938652127981186,0.031967051327228546,0.024846991524100304,0.023423975333571434,0.0019189546583220363,0.013655111193656921,0.01625959575176239,0.07281343638896942,-0.007929974235594273,-0.008878481574356556,0.04164329916238785,0.014392164535820484,0.0831705704331398,-0.0466935820877552,-0.028452977538108826,0.051519159227609634,0.02030658908188343,0.021240275353193283,-0.022489875555038452,0.03448564186692238,-0.003811979666352272,0.027755510061979294,0.06909562647342682,-0.049306720495224,-0.01095141377300024,-0.008738215081393719,0.033402230590581894,-0.08150245249271393,-0.07312889397144318,0.028711756691336632,-0.0704372376203537,-0.0019948321860283613,-0.00769947562366724,-0.020582016557455063,-0.007009644061326981,-0.05021318793296814,-0.013055833987891674,-0.011872128583490849,-0.011282185092568398,0.009521804749965668,-0.0003576380549930036,0.03899453207850456,0.009796432219445705,-0.017237231135368347,0.057730160653591156,0.0023879993241280317,0.027769600972533226,-0.02412046492099762,-0.023208769038319588,4.405221099359179e-34,0.016612360253930092,-0.049828507006168365,0.034597426652908325,0.07808792591094971,0.06473179906606674,-0.015961039811372757,-0.03103278949856758,-0.001175926998257637,0.06355834007263184,-0.056833427399396896,-0.002202946925535798]'
SET
  @TechnicalDesignVector_5ccd903f = N'[0.03351689130067825,0.006709239445626736,-0.0016416129656136036,-0.06388013064861298,0.024018529802560806,-0.024439198896288872,0.03336215391755104,0.02818487212061882,-0.04030860587954521,-0.01956229843199253,-0.022306162863969803,0.020256897434592247,0.03939119726419449,0.0741419568657875,-0.018452752381563187,-0.0012910078512504697,-0.032476723194122314,0.05373857170343399,-0.0009042296442203224,-0.01705663837492466,0.0321684367954731,-0.03872630000114441,-0.010573848150670528,-0.0020295025315135717,-0.009244010783731937,0.02297469787299633,-0.05008487030863762,-0.005322432145476341,0.040851105004549026,-0.050956856459379196,-0.030459297820925713,0.06982509046792984,-0.0466233566403389,-0.03934508189558983,0.0000021380574253271334,-0.019567137584090233,-0.03882785513997078,-0.0013183489209041,-0.003540727775543928,-0.044874854385852814,-0.003230002708733082,0.012043772265315056,-0.009795407764613628,-0.02987363003194332,0.002666490850970149,-0.1227305680513382,-0.04273708164691925,0.004850243683904409,0.00624068733304739,-0.0008803709060885012,0.016172070056200027,-0.004293678794056177,0.04922214150428772,0.031138522550463676,-0.0026593783404678106,0.013759576715528965,0.02694433182477951,-0.04912860691547394,-0.001633186242543161,-0.00046220526564866304,0.012360014952719212,-0.036202095448970795,0.021046776324510574,-0.0543002225458622,0.0667468011379242,0.03880463168025017,0.07534437626600266,0.008005830459296703,0.03454901650547981,0.02210669033229351,0.10100564360618591,0.014116908423602581,0.03362182527780533,-0.016003824770450592,-0.029578275978565216,-0.015821631997823715,0.013515224680304527,-0.04040566459298134,-0.02018401399254799,-0.022523468360304832,0.04508884251117706,-0.0015481096925213933,-0.02619600109755993,-0.002772867912426591,0.010191947221755981,0.015045959502458572,0.03275483474135399,-0.019362349063158035,-0.020069943740963936,-0.08222747594118118,-0.03251131996512413,-0.022457830607891083,0.004674481227993965,0.04147100821137428,-0.013739089481532574,0.001322906231507659,0.021312598139047623,-0.18191301822662354,0.04202989488840103,-0.06848923861980438,-0.024241527542471886,0.02408011630177498,-0.003922067116945982,0.003267581108957529,0.045466504991054535,0.030290789902210236,0.004681078251451254,0.0006026681512594223,0.038690123707056046,-0.01976434700191021,-0.0265683401376009,-0.02314118668437004,0.03340506926178932,0.038624316453933716,0.030085455626249313,0.06501854956150055,-0.01750846579670906,-0.016695959493517876,-0.008143275044858456,0.04553276672959328,-0.0025375878904014826,-0.03399691358208656,-0.020311659201979637,-0.015444032847881317,0.013589989393949509,0.01143901888281107,-0.008667148649692535,-0.06859513372182846,-0.0034943837672472,0.016345379874110222,0.03316287696361542,0.015662815421819687,0.027219323441386223,0.02422395721077919,0.009241458959877491,-0.030187411233782768,0.022416148334741592,0.006644587032496929,-0.023364733904600143,-0.021310610696673393,0.023617882281541824,0.0027934289537370205,0.0257587693631649,0.020534949377179146,-0.009130293503403664,0.0009064822806976736,-0.013573389500379562,-0.042945362627506256,-0.002212847350165248,0.020094899460673332,0.0365118533372879,-0.009145241230726242,-0.035359762609004974,0.009052335284650326,-0.0015513126272708178,0.018366463482379913,0.023941248655319214,0.021246986463665962,0.03477570042014122,-0.026417026296257973,0.011971065774559975,0.041106678545475006,0.03176497668027878,0.027880527079105377,-0.01032666489481926,0.06333895027637482,-0.01597684808075428,-0.024094561114907265,-0.03652969375252724,0.006076814606785774,0.003965849056839943,-0.04914567992091179,-0.037207216024398804,0.027980871498584747,0.004219089634716511,-0.02026958204805851,-0.008545397780835629,0.0057296147570014,-0.03571351245045662,0.00944610871374607,-0.04479962959885597,-0.04575209319591522,0.010221024043858051,0.0005041948170401156,-0.0032845870591700077,-0.04118192195892334,-0.021000850945711136,0.010117460042238235,0.008429814130067825,0.037543799728155136,0.009783397428691387,-0.000829999684356153,-0.07926271855831146,-0.020141925662755966,0.018845047801733017,0.00037083891220390797,-0.03858771175146103,0.07316211611032486,0.0065463813953101635,0.050152383744716644,-0.002159997122362256,-0.02753981575369835,-0.006925379857420921,-0.04192069545388222,0.012606951408088207,0.007644734811037779,-0.10018853098154068,0.0076816328801214695,-0.010384554974734783,-0.01188794244080782,-0.09219984710216522,-0.025483647361397743,-0.009381363168358803,0.016275795176625252,0.004190843552350998,0.046051669865846634,0.030416840687394142,0.021050598472356796,-0.059415336698293686,-0.057801760733127594,-0.0061852349899709225,-0.004700847901403904,0.06668804585933685,-0.02146359533071518,0.06570607423782349,-0.009212642908096313,-0.021725578233599663,0.012214039452373981,-0.0003913451510015875,-0.033077120780944824,-0.0005452432087622583,-0.029606031253933907,-0.005135681480169296,0.02904287539422512,0.03338631987571716,0.005181555636227131,0.04608890414237976,0.11927874386310577,0.02272988110780716,0.03989904001355171,-0.01739816926419735,-0.027854859828948975,-0.028624285012483597,-0.012801505625247955,-0.053518712520599365,0.006171289831399918,-0.07686714828014374,0.02179359830915928,-0.01154008787125349,-0.019603677093982697,0.0005132770165801048,0.026347074657678604,0.00950250681489706,-0.04512030631303787,0.0013723969459533691,-0.0654914528131485,-0.01913200132548809,0.017416752874851227,0.005299224052578211,0.04779670387506485,0.04498140886425972,0.017879994586110115,-0.012544232420623302,-0.03161728382110596,0.03150998428463936,-0.03136907145380974,-0.007353581488132477,-0.04212929680943489,0.0020633486565202475,-0.0006384795415215194,0.009896504692733288,0.06164400279521942,0.017964346334338188,0.0030260623898357153,0.02435658499598503,0.011135110631585121,-0.05665205419063568,0.021716054528951645,0.0009665085235610604,-0.040116820484399796,-0.015015180222690105,-0.024781638756394386,0.04800879955291748,0.008454687893390656,-0.051411740481853485,0.028326908126473427,-0.006654582917690277,-0.025456160306930542,0.03710244968533516,-0.055559754371643066,0.025465885177254677,0.01244272105395794,0.008267559111118317,-0.004914186894893646,-0.019076339900493622,0.014920403249561787,0.0409221276640892,0.03505795821547508,-0.02564620040357113,0.009692197665572166,0.006820390000939369,0.016811713576316833,-0.015204861760139465,-0.01716100424528122,0.04250463843345642,0.025649379938840866,-0.02941725216805935,0.042559314519166946,0.03007751889526844,0.059349946677684784,-0.05311150848865509,0.034019745886325836,-0.008606191724538803,-0.04348810389637947,0.030898401513695717,0.028797922655940056,0.03905020281672478,-0.014152771793305874,-0.019727393984794617,0.06028519570827484,-0.0244563277810812,0.014284981414675713,0.02335543930530548,-0.016866670921444893,-0.04826696962118149,0.012848100624978542,0.05796012282371521,0.020602665841579437,-0.009622456505894661,-0.024390703067183495,0.020205408334732056,0.01703203283250332,0.001346247736364603,0.012519532814621925,0.00023371780116576701,-0.0019022286869585514,-0.015521576628088951,0.018664514645934105,0.0259746965020895,0.011634374037384987,-0.005589709617197514,-0.002719287760555744,-0.007449853699654341,0.03955420106649399,0.0034202418755739927,0.006317773833870888,-0.05702021345496178,0.04684452340006828,-0.028529033064842224,0.03109082393348217,0.01178900245577097,0.02549116499722004,0.023873841390013695,0.004695830401033163,-0.002196851186454296,0.03106086328625679,-0.014898642897605896,0.001054407679475844,-0.029353173449635506,-0.03291304036974907,0.04736172780394554,0.038633715361356735,0.028309384360909462,-0.0320834256708622,-0.039643529802560806,0.0107848159968853,0.018300015479326248,-0.03059355728328228,-0.00978485681116581,-0.026815086603164673,-0.0727429986000061,-0.018356017768383026,0.025439592078328133,-0.002776907989755273,-0.05030098930001259,-0.07774591445922852,0.026016101241111755,0.0615931861102581,-0.03894950449466705,0.008977234363555908,0.025720419362187386,-0.060962215065956116,0.06555858254432678,0.016178440302610397,0.03481573238968849,-0.05071195960044861,0.012773476541042328,0.004829889629036188,-0.024678373709321022,-0.03421248495578766,-0.022767119109630585,0.03700166568160057,-0.1073307991027832,-0.011316006071865559,0.022382859140634537,0.02737301029264927,-0.025050299242138863,0.050606366246938705,0.08985672146081924,0.030761273577809334,-0.03875204548239708,0.13881319761276245,-0.02440156228840351,0.021173881366848946,0.00012076307757524773,-0.01737145520746708,0.03351800516247749,0.02287292294204235,0.051098618656396866,0.004122417885810137,-0.002674737246707082,0.028914116322994232,-0.04731561616063118,-0.03311334550380707,-0.06963161379098892,-0.029200410470366478,0.014659996144473553,-0.047736506909132004,0.04545655474066734,0.0406673401594162,-0.013227070681750774,0.023673512041568756,0.014250857755541801,-0.010546066798269749,0.0713505819439888,-0.024331070482730865,-0.0339723639190197,-0.07044092565774918,-0.04389822855591774,0.027018506079912186,-0.02752709574997425,0.03852884843945503,0.02398069016635418,0.03300637751817703,-0.05410365015268326,0.006218355614691973,0.005929827224463224,0.0214987900108099,0.01099708303809166,-0.020611561834812164,0.004343501757830381,-0.024077802896499634,0.07497775554656982,0.02024221047759056,0.0034877138677984476,-0.020265663042664528,-0.008089463226497173,0.05923830717802048,0.013715012930333614,0.012862829491496086,-0.0277237705886364,-0.015029272064566612,-0.03995228931307793,0.04417730122804642,0.008953090757131577,-0.05372542887926102,-0.05467269569635391,0.056348975747823715,-0.034576188772916794,0.04090971499681473,0.020701099187135696,0.017966467887163162,-0.04182321950793266,-0.010085461661219597,-0.05017406493425369,-0.09683821350336075,-0.009169450961053371,-0.061785873025655746,-0.009911438450217247,0.014225342310965061,0.004992131609469652,-0.03440328314900398,-0.013442914932966232,-0.02972138486802578,0.03810010105371475,0.018034404143691063,0.022643743082880974,-0.0038603441789746284,-0.026081925258040428,-0.019891059026122093,0.0857410803437233,0.051198024302721024,-0.05310114473104477,0.01765071041882038,0.02089414931833744,0.00038577706436626613,0.0397743321955204,0.006641432177275419,0.03565894067287445,0.01827770471572876,-0.05700458586215973,0.0377655103802681,-0.010315331630408764,0.020031142979860306,0.04247889295220375,-0.010351952165365219,0.04490043595433235,0.03931758925318718,-0.041215717792510986,0.008609265089035034,0.005716212093830109,-0.05102124437689781,-0.027030861005187035,0.02244020812213421,0.049981363117694855,-0.018256479874253273,-0.02967558614909649,0.024082912132143974,0.008940348401665688,-0.03139988332986832,-0.022945480421185493,-0.026255518198013306,-0.0030836304649710655,0.04614320769906044,0.013620694167912006,0.020839884877204895,0.04851778596639633,0.05110747739672661,0.04753965884447098,-0.021516889333724976,0.016339607536792755,-0.001506265252828598,-0.0039045053999871016,-0.008778720162808895,-0.010845934972167015,0.005669345613569021,0.019778471440076828,0.01789332926273346,0.0743412971496582,0.014254170469939709,0.057109732180833817,0.004446418955922127,-0.022697031497955322,-0.002947178203612566,-0.0067483484745025635,0.008867515251040459,0.04054303839802742,-0.02469916269183159,-0.0060073756612837315,0.005385644733905792,-0.055209189653396606,0.03235512599349022,0.010711143724620342,-0.025698568671941757,0.047327905893325806,-0.03679683431982994,0.02435859479010105,-0.06287568807601929,0.04743422567844391,0.01529949251562357,0.01563834771513939,0.0070668538101017475,-0.013143837451934814,-0.026842372491955757,0.04332275688648224,-6.573351185486785e-33,0.013654462061822414,-0.008736350573599339,-0.03444758802652359,0.014361624605953693,-0.027903156355023384,-0.05801986902952194,-0.05192705616354942,-0.024037787690758705,0.015106983482837677,-0.044613130390644073,0.007946687750518322,-0.028428940102458,0.0008355234749615192,0.023063011467456818,0.0006292897160165012,-0.006099526304751635,0.015275784768164158,0.0032883507665246725,-0.012647499330341816,0.039164986461400986,-0.02274651639163494,0.02134430967271328,0.012346732430160046,0.0500677153468132,-0.002527599222958088,-0.043954264372587204,-0.02412516623735428,0.007486959453672171,-0.12087279558181763,0.051124487072229385,0.010025998577475548,-0.014078943058848381,-0.013450689613819122,-0.07771512120962143,0.03660043329000473,-0.01880345679819584,-0.07355807721614838,-0.02422967366874218,0.002348966896533966,0.022369544953107834,0.09269196540117264,-0.025075044482946396,0.011383645236492157,-0.01957068219780922,0.01969354785978794,0.004442848265171051,0.003421433735638857,0.013537786900997162,-0.053252581506967545,-0.15770575404167175,0.007457480300217867,0.00687154196202755,-0.0009133564308285713,0.08344931900501251,0.01588868722319603,-0.007493203040212393,0.05200928449630737,-0.017643311992287636,-0.06351923942565918,-0.04531937092542648,0.03161301836371422,-0.01850777491927147,-0.003461254760622978,0.08820480853319168,0.05377187579870224,-0.00772709958255291,-0.023610766977071762,0.027886828407645226,-0.04216022044420242,0.06015757843852043,0.01659669354557991,-0.0822627916932106,0.0033821710385382175,0.018148496747016907,0.06579054892063141,0.03964684158563614,-0.04917436093091965,0.00830204226076603,-0.05888450890779495,0.056895602494478226,0.019581060856580734,0.04273534566164017,0.0018120703753083944,0.04066560044884682,-0.06468591839075089,-0.004411698784679174,0.03387528285384178,-0.03959017992019653,-0.03008962795138359,-0.01392502710223198,-0.03019317425787449,-0.002119111130014062,-0.017298173159360886,0.027351779863238335,-0.04186241328716278,-0.03366650268435478,0.031125925481319427,0.045194778591394424,-0.04032301530241966,0.007584814447909594,0.04673037678003311,-0.032262787222862244,-0.008653229102492332,-0.00920073315501213,0.026727767661213875,-0.005534954834729433,-0.028658902272582054,-0.011175112798810005,-0.06540089845657349,0.008181359618902206,0.039391644299030304,0.011049536056816578,-0.027552863582968712,0.016200123354792595,-0.0007078054477460682,-0.01480275858193636,0.003526609390974045,-0.04283574968576431,0.04250225052237511,0.041866645216941833,0.018050959333777428,0.04840094596147537,0.006768799852579832,0.05976804718375206,0.005398537963628769,0.01742151938378811,-0.03587975725531578,-0.08461645990610123,-0.023336220532655716,0.0145944869145751,0.02211073786020279,-0.012425599619746208,2.960963740861189e-7,-0.021874111145734787,-0.013479647226631641,-0.007537722587585449,-0.05993219465017319,-0.015280897729098797,0.045194681733846664,-0.01199224591255188,-0.046047549694776535,-0.018057169392704964,-0.08102311939001083,-0.004859473090618849,-0.0224996916949749,0.01713520847260952,0.027428055182099342,-0.04424222186207771,-0.029227185994386673,0.012386367656290531,0.06943600624799728,-0.0071887001395225525,0.05000314489006996,-0.04159429669380188,-0.0029808308463543653,0.045033082365989685,0.0009764523128978908,0.03239879384636879,0.07545434683561325,0.0062641543336212635,0.00949033722281456,0.057518139481544495,0.0031392250675708055,0.07275750488042831,-0.03368440270423889,-0.047560326755046844,0.03641663119196892,0.03864486515522003,0.015431791543960571,-0.032288726419210434,0.05881067365407944,0.012043280526995659,0.05265483260154724,0.0731831043958664,-0.06176645681262016,-0.0011862863320857286,-0.03415999561548233,0.030780276283621788,-0.04250924289226532,-0.07119033485651016,0.005970743950456381,-0.06590767204761505,0.0009432511869817972,-0.033527471125125885,-0.014458761550486088,-0.015096868388354778,-0.03214889019727707,-0.007824677042663097,-0.0453806072473526,0.018484482541680336,0.033397648483514786,0.01100295502692461,0.0672229677438736,-0.0059424214996397495,-0.01591014489531517,0.03549307957291603,0.01573590561747551,0.03325629234313965,-0.017099818214774132,-0.0327458493411541,3.952859649094069e-34,-0.0027283194940537214,-0.044395118951797485,0.005500264465808868,0.07038864493370056,0.010667640715837479,-0.04385745897889137,-0.031426843255758286,-0.01382992509752512,0.04828784614801407,-0.03330087289214134,-0.011811565607786179]'
SET
  @HasCustomProps_5ccd903f = 1
SET
  @HasCustomEvents_5ccd903f = 1
SET
  @RequiresData_5ccd903f = 1
SET
  @DependencyCount_5ccd903f = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_5ccd903f = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_5ccd903f = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_5ccd903f = 1
SET
  @ID_5ccd903f = '2C0A6E59-3B78-43B3-BF84-446AA9280E86'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_5ccd903f,
  @Name = @Name_5ccd903f,
  @Version = @Version_5ccd903f,
  @VersionSequence = @VersionSequence_5ccd903f,
  @Title = @Title_5ccd903f,
  @Description = @Description_5ccd903f,
  @Type = @Type_5ccd903f,
  @Status = @Status_5ccd903f,
  @DeveloperName = @DeveloperName_5ccd903f,
  @DeveloperEmail = @DeveloperEmail_5ccd903f,
  @DeveloperOrganization = @DeveloperOrganization_5ccd903f,
  @SourceRegistryID = @SourceRegistryID_5ccd903f,
  @ReplicatedAt = @ReplicatedAt_5ccd903f,
  @LastSyncedAt = @LastSyncedAt_5ccd903f,
  @Specification = @Specification_5ccd903f,
  @FunctionalRequirements = @FunctionalRequirements_5ccd903f,
  @TechnicalDesign = @TechnicalDesign_5ccd903f,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_5ccd903f,
  @TechnicalDesignVector = @TechnicalDesignVector_5ccd903f,
  @HasCustomProps = @HasCustomProps_5ccd903f,
  @HasCustomEvents = @HasCustomEvents_5ccd903f,
  @RequiresData = @RequiresData_5ccd903f,
  @DependencyCount = @DependencyCount_5ccd903f,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_5ccd903f,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_5ccd903f,
  @HasRequiredCustomProps = @HasRequiredCustomProps_5ccd903f,
  @ID = @ID_5ccd903f;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_a151277e NVARCHAR(MAX),
@Name_a151277e NVARCHAR(500),
@Version_a151277e NVARCHAR(50),
@VersionSequence_a151277e INT,
@Title_a151277e NVARCHAR(1000),
@Description_a151277e NVARCHAR(MAX),
@Type_a151277e NVARCHAR(255),
@Status_a151277e NVARCHAR(50),
@DeveloperName_a151277e NVARCHAR(255),
@DeveloperEmail_a151277e NVARCHAR(255),
@DeveloperOrganization_a151277e NVARCHAR(255),
@SourceRegistryID_a151277e UNIQUEIDENTIFIER,
@ReplicatedAt_a151277e DATETIMEOFFSET,
@LastSyncedAt_a151277e DATETIMEOFFSET,
@Specification_a151277e NVARCHAR(MAX),
@FunctionalRequirements_a151277e NVARCHAR(MAX),
@TechnicalDesign_a151277e NVARCHAR(MAX),
@FunctionalRequirementsVector_a151277e NVARCHAR(MAX),
@TechnicalDesignVector_a151277e NVARCHAR(MAX),
@HasCustomProps_a151277e BIT,
@HasCustomEvents_a151277e BIT,
@RequiresData_a151277e BIT,
@DependencyCount_a151277e INT,
@TechnicalDesignVectorEmbeddingModelID_a151277e NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_a151277e NVARCHAR(MAX),
@HasRequiredCustomProps_a151277e BIT,
@ID_a151277e UNIQUEIDENTIFIER
SET
  @Namespace_a151277e = N'Generic/UI/Form'
SET
  @Name_a151277e = N'SingleRecordView'
SET
  @Version_a151277e = N'1.0.0'
SET
  @VersionSequence_a151277e = 1
SET
  @Title_a151277e = N'Single Record View'
SET
  @Description_a151277e = N'Read-only display component for a **single entity record** with metadata-driven formatting. Four layout modes: list (vertical label-value pairs), table (2-column with configurable label width), inline (horizontal compact), card (styled with border/shadow). Auto-formats field types: dates (short/long/relative like ''Yesterday''), numbers (commas), currency ($USD for Amount/Price/Cost fields), booleans (✓ Yes / ✗ No), decimals (2 places). Supports: explicit field selection/ordering, text truncation (maxTextLength default 200), empty field hiding, field highlighting (yellow background), clickable fields (onFieldClicked event). Optional OpenRecordButton with cancelable onOpenRecord event.

#### SingleRecordView - ONLY use when:
✅ Displaying exactly ONE entity record''s details
✅ Read-only view (no editing needed)
✅ Want automatic metadata-driven field formatting
✅ Drill-down destination showing selected record details
✅ Master-detail detail panel (e.g., selected invoice from list)
✅ Profile pages, record previews, tooltips/popovers, quick view panels

❌ DO NOT USE SingleRecordView when:
- Displaying multiple records in a list → **Use DataGrid or EntityDataGrid instead**
- Need editable form → Use MemberJunction''s form components or custom forms
- Displaying aggregated/calculated data (not a record) → Use custom layout or charts
- Need complex layout with tabs, accordions, or sections → Build custom component
- Record has many fields requiring grouping/organization → Build custom sectioned layout

**Use Cases**: Drill-down detail panels (''Show me the full invoice after clicking chart segment''), sidebar record previews, master-detail detail views, selected item summary, record quick-view popovers, profile cards, confirmation dialogs showing record details.
'
SET
  @Type_a151277e = N'Form'
SET
  @Status_a151277e = N'Published'
SET
  @Specification_a151277e = N'{"name":"SingleRecordView","title":"Single Record View","description":"Read-only display component for a **single entity record** with metadata-driven formatting. Four layout modes: list (vertical label-value pairs), table (2-column with configurable label width), inline (horizontal compact), card (styled with border/shadow). Auto-formats field types: dates (short/long/relative like ''Yesterday''), numbers (commas), currency ($USD for Amount/Price/Cost fields), booleans (✓ Yes / ✗ No), decimals (2 places). Supports: explicit field selection/ordering, text truncation (maxTextLength default 200), empty field hiding, field highlighting (yellow background), clickable fields (onFieldClicked event). Optional OpenRecordButton with cancelable onOpenRecord event.\n\n#### SingleRecordView - ONLY use when:\n✅ Displaying exactly ONE entity record''s details\n✅ Read-only view (no editing needed)\n✅ Want automatic metadata-driven field formatting\n✅ Drill-down destination showing selected record details\n✅ Master-detail detail panel (e.g., selected invoice from list)\n✅ Profile pages, record previews, tooltips/popovers, quick view panels\n\n❌ DO NOT USE SingleRecordView when:\n- Displaying multiple records in a list → **Use DataGrid or EntityDataGrid instead**\n- Need editable form → Use MemberJunction''s form components or custom forms\n- Displaying aggregated/calculated data (not a record) → Use custom layout or charts\n- Need complex layout with tabs, accordions, or sections → Build custom component\n- Record has many fields requiring grouping/organization → Build custom sectioned layout\n\n**Use Cases**: Drill-down detail panels (''Show me the full invoice after clicking chart segment''), sidebar record previews, master-detail detail views, selected item summary, record quick-view popovers, profile cards, confirmation dialogs showing record details.\n","type":"form","location":"embedded","functionalRequirements":"## Purpose\nRead-only display component for a **single entity record** with metadata-driven field type formatting. Four layout modes with intelligent formatting based on SQL field types.\n\n## Required Props\n- **record** (object): Entity record to display\n- **entityName** (string): Name of entity for metadata lookup\n\n## Field Selection\n\n### Auto-detection (if `fields` prop omitted)\nDiscovers fields from record using smart filtering:\n- All top-level properties from record object\n- **Excludes**: Fields starting with `__mj` (system fields)\n- **Excludes**: Field named `ID` (usually shown elsewhere)\n- **Excludes**: Nested objects (typeof === ''object'')\n- Order: As they appear in Object.keys(record)\n\n### Explicit Selection\n`fields={[''InvoiceName'', ''Amount'', ''DueDate'', ''Status'']}`:\n- Controls which fields display\n- Controls display order\n- Can include system fields if needed\n- Unknown fields logged as warnings\n\n## Layout Modes\n\n### 1. List (Vertical, default)\n- Each field as vertical block\n- Label div: uppercase, 12px, gray, 4px margin-bottom\n- Value div: 14px, dark gray, below label\n- 12px margin-bottom between fields\n\n### 2. Table (Two-column)\n- `<table>` with label/value columns\n- `labelWidth` prop (default 150px) sets label column width\n- Labels: 500 weight, gray, left-aligned\n- Values: regular weight, dark, right column\n- 8px padding in cells\n- Vertical-align: top (for long values)\n\n### 3. Inline (Horizontal Compact)\n- All fields in single line as `<span>` elements\n- Format: `Label: Value` with 20px margin-right between fields\n- Wraps naturally if container too narrow\n- Good for space-constrained summaries\n\n### 4. Card (Styled Container)\n- Wrapper div with border, radius, shadow, padding\n- Fields rendered same as list mode inside\n- Visual style: 1px border (#d9d9d9), 8px radius, white background\n- Box shadow: 0 2px 4px rgba(0,0,0,0.05)\n- 16px padding\n- Optional OpenRecordButton at bottom with top border separator\n\n## Metadata-Driven Formatting\n\n### Date Fields (`datetime`, `date`)\nThree format modes via `dateFormat` prop:\n\n1. **short** (default): \"Jan 15, 2024\" (month short, day, year)\n2. **long**: \"Monday, January 15, 2024\" (weekday, month long, day, year)\n3. **relative**: Context-aware\n   - \"Today\" (0 days ago)\n   - \"Yesterday\" (1 day ago)\n   - \"5 days ago\" (< 7 days)\n   - \"2 weeks ago\" (< 30 days)\n   - \"3 months ago\" (< 365 days)\n   - \"2 years ago\" (≥ 365 days)\n\n### Boolean Fields (`bit`)\n- `true` → \"✓ Yes\" (checkmark)\n- `false` → \"✗ No\" (X mark)\n\n### Number Fields\n- **Integer** (`int`, `bigint`): 1,234,567 (commas, no decimals)\n- **Decimal** (`decimal`, `float`, `numeric`): 1,234.56 (commas, 2 decimals)\n\n### Currency Fields\nAuto-detected when:\n- Field type is `money`\n- **OR** field name includes: \"amount\", \"price\", \"cost\" (case-insensitive)\n\nFormat: $1,234.56 (USD currency with symbol, commas, 2 decimals)\n\n### Null/Empty Values\n- If `showEmptyFields={false}` (default): Field not rendered\n- If `showEmptyFields={true}`: Shows \"Empty\" in gray italic text\n\n## Features\n\n### Text Truncation\nFor string values exceeding `maxTextLength` (default 200 chars):\n- Displays: First 200 chars + \"...\"\n- Hover tooltip: Shows full text via title attribute\n- Prevents layout breaking from long text\n- Applies to string fields only (not dates/numbers)\n\n### Field Highlighting\n`highlightFields={[''Amount'', ''Status'']}`:\n- Yellow background (#fffbe6)\n- Yellow border (#ffe58f)\n- 4px/8px padding\n- 4px border-radius\n- Visual emphasis for important fields\n\n### Clickable Fields\nIf `onFieldClicked` callback provided:\n- All field values get `cursor: pointer`\n- Click fires event: `{fieldName, value, fieldType, record}`\n- Use for: drill-downs, filters, custom actions\n- Example: Click email to compose, click status to filter\n\n### OpenRecordButton Integration\n`allowOpenRecord={true}`:\n- Loads OpenRecordButton from components registry\n- Renders at bottom of record view\n- Auto-detects primary keys from metadata\n- Layout-specific button styling:\n  - **card**: `primary` variant, medium size, top border separator\n  - **table/list**: `default` variant, medium size, 12px top margin\n  - **inline**: `link` variant, small size, 20px left margin\n\n**Cancelable Event**: `onOpenRecord`\n```javascript\nonOpenRecord={(eventData) => {\n  // eventData: {record, entityName, cancel, primaryKeys}\n  if (record.Status === ''Locked'') {\n    eventData.cancel = true; // Prevent opening\n    alert(''Cannot open locked records'');\n  }\n}}\n```\n\n### Primary Key Extraction\nFor OpenRecord functionality, handles various metadata structures:\n- `entityInfo.PrimaryKey.Columns` array (multi-column)\n- `entityInfo.PrimaryKey.Name` string (single)\n- `entityInfo.PrimaryKey` as string\n- Fallback to `''ID''`\n\nValidates all primary key values exist before enabling button.\n\n## Display Labels\nPreferred sources (priority order):\n1. `field.DisplayName` from entity metadata\n2. Field name as-is\n3. Special handling for `__mj` fields:\n   - `__mj_CreatedAt` → \"Created At\"\n   - `__mj_UpdatedAt` → \"Updated At\"\n   - `__mj_DeletedAt` → \"Deleted At\"\n\n## Visual States\n\n### Empty State\nIf no `record` prop:\n- Centered message: \"No record to display\"\n- Gray text, 20px padding\n- No error thrown\n\n### Empty Fields\nBased on `showEmptyFields` prop:\n- `false` (default): Field not rendered\n- `true`: Renders as \"Empty\" (gray italic)\n\n## Events\n\n1. **onFieldClicked**: `({fieldName, value, fieldType, record}) => void`\n   - Fired when field value clicked (if handler provided)\n   - Includes field type from metadata\n\n2. **onOpenRecord**: `(eventData) => void` (cancelable)\n   - Fired before OpenEntityRecord called\n   - Can set `eventData.cancel = true` to prevent\n   - Includes `{record, entityName, cancel, primaryKeys}`\n\n## Styling Integration\n- Respects MemberJunction styles prop for spacing/colors\n- Layout-specific hardcoded styles (margins, padding, font sizes)\n- Highlight styles use yellow (#fffbe6 bg, #ffe58f border)\n- Card mode uses subtle shadow and border\n\n## Performance\n- Metadata loaded once on mount via useEffect\n- Field info lookup cached per entity\n- Format value memoized for repeated renders\n- No unnecessary re-renders on hover (CSS only)\n\n## Accessibility\n- Proper semantic HTML (divs, tables, spans)\n- Title attributes on truncated text (hover for full value)\n- High contrast text colors (dark on light)\n- OpenRecordButton has ARIA labels and tooltips\n","technicalDesign":"## Architecture\nReact functional component for read-only display of a single entity record with metadata-driven formatting and four layout modes.\n\n## State Management (React Hooks)\n- **entityInfo** (object | null): Entity metadata from `utilities.md.Entities`\n\n## Entity Metadata Loading (useEffect)\nRuns on: `entityName`, `utilities` changes\n\n```javascript\nuseEffect(() => {\n  if (!entityName || !utilities?.md?.Entities) return;\n  \n  const entity = utilities.md.Entities.find(e => e.Name === entityName);\n  if (entity) {\n    setEntityInfo(entity);\n  }\n}, [entityName, utilities]);\n```\n\n## Field Selection Logic\n\n### getDisplayFields Function\n```javascript\nconst getDisplayFields = () => {\n  if (fields && fields.length > 0) {\n    return fields; // Explicit selection\n  }\n  \n  // Auto-detect from record\n  if (!record) return [];\n  \n  return Object.keys(record).filter(key => \n    !key.startsWith(''__mj'') &&  // Exclude system fields\n    key !== ''ID'' &&              // Exclude ID\n    typeof record[key] !== ''object'' // Exclude nested objects\n  );\n};\n```\n\n## Field Info Lookup\n\n### getFieldInfo Function\n```javascript\nconst getFieldInfo = (fieldName) => {\n  if (!entityInfo || !entityInfo.Fields) return null;\n  return entityInfo.Fields.find(f => f.Name === fieldName);\n};\n```\n\nReturns field metadata with: Type, DisplayName, Length, etc.\n\n## Value Formatting System\n\n### formatValue Function\n**Signature**: `formatValue(value, fieldInfo) => ReactNode | null`\n\n**Process**:\n1. **Null/empty handling**:\n   ```javascript\n   if (value == null || value === '''') {\n     return showEmptyFields \n       ? <span style={{ color: ''#999'', fontStyle: ''italic'' }}>Empty</span>\n       : null;\n   }\n   ```\n\n2. **Type-based formatting** (if fieldInfo available):\n   \n   **Boolean** (Type=''bit''):\n   ```javascript\n   return value ? ''✓ Yes'' : ''✗ No'';\n   ```\n   \n   **Date** (Type=''datetime'' or ''date''):\n   ```javascript\n   try {\n     const date = new Date(value);\n     if (isNaN(date.getTime())) return value;\n     \n     if (dateFormat === ''long'') {\n       return date.toLocaleDateString(''en-US'', { \n         weekday: ''long'', year: ''numeric'', month: ''long'', day: ''numeric''\n       });\n     } else if (dateFormat === ''relative'') {\n       const now = new Date();\n       const diff = now - date;\n       const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n       if (days === 0) return ''Today'';\n       if (days === 1) return ''Yesterday'';\n       if (days < 7) return `$' + '{days} days ago`;\n       if (days < 30) return `$' + '{Math.floor(days / 7)} weeks ago`;\n       if (days < 365) return `$' + '{Math.floor(days / 30)} months ago`;\n       return `$' + '{Math.floor(days / 365)} years ago`;\n     } else { // ''short''\n       return date.toLocaleDateString(''en-US'', { \n         year: ''numeric'', month: ''short'', day: ''numeric''\n       });\n     }\n   } catch {\n     return value;\n   }\n   ```\n   \n   **Integer** (Type=''int'' or ''bigint''):\n   ```javascript\n   return parseInt(value).toLocaleString();\n   ```\n   \n   **Decimal/Currency** (Type=''decimal'' | ''float'' | ''money''):\n   ```javascript\n   const num = parseFloat(value);\n   \n   // Check if field name suggests currency\n   if (fieldInfo.Name.toLowerCase().includes(''amount'') || \n       fieldInfo.Name.toLowerCase().includes(''price'') ||\n       fieldInfo.Name.toLowerCase().includes(''cost'') ||\n       fieldInfo.Type === ''money'') {\n     return new Intl.NumberFormat(''en-US'', {\n       style: ''currency'',\n       currency: ''USD'',\n       minimumFractionDigits: 2,\n       maximumFractionDigits: 2\n     }).format(num);\n   }\n   return num.toLocaleString(undefined, { \n     minimumFractionDigits: 2, \n     maximumFractionDigits: 2\n   });\n   ```\n\n3. **Text truncation** (if string > maxTextLength):\n   ```javascript\n   if (typeof value === ''string'' && value.length > maxTextLength) {\n     return (\n       <span title={value}>\n         {value.substring(0, maxTextLength)}...\n       </span>\n     );\n   }\n   ```\n\n4. **Default**: Return value as-is\n\n## Field Rendering\n\n### renderField Function\n**Signature**: `renderField(fieldName) => ReactNode | null`\n\n**Process**:\n1. Get field info and format value\n2. Return null if empty and `showEmptyFields=false`\n3. Check if field is highlighted\n4. Render based on layout mode\n\n### Layout-Specific Rendering\n\n#### List Mode (default)\n```javascript\n<div \n  key={fieldName}\n  style={{ marginBottom: ''12px'', ...highlightStyle }}\n  onClick={() => handleFieldClick(fieldName, value)}\n>\n  {showLabels && (\n    <div style={{ \n      fontWeight: 500, \n      color: ''#666'', \n      fontSize: ''12px'',\n      marginBottom: ''4px'',\n      textTransform: ''uppercase''\n    }}>\n      {label}\n    </div>\n  )}\n  <div style={{ fontSize: ''14px'', color: ''#333'', ...fieldStyle }}>\n    {formattedValue || ''-''}\n  </div>\n</div>\n```\n\n#### Table Mode\n```javascript\n<tr \n  key={fieldName}\n  style={highlightStyle}\n  onClick={() => handleFieldClick(fieldName, value)}\n>\n  {showLabels && (\n    <td style={{ \n      fontWeight: 500, \n      color: ''#666'', \n      fontSize: ''14px'',\n      padding: ''8px'',\n      width: labelWidth,\n      verticalAlign: ''top''\n    }}>\n      {label}\n    </td>\n  )}\n  <td style={{ fontSize: ''14px'', color: ''#333'', padding: ''8px'', ...fieldStyle }}>\n    {formattedValue || ''-''}\n  </td>\n</tr>\n```\n\n#### Inline Mode\n```javascript\n<span \n  key={fieldName}\n  style={{ marginRight: ''20px'', display: ''inline-block'', ...highlightStyle }}\n  onClick={() => handleFieldClick(fieldName, value)}\n>\n  {showLabels && (\n    <span style={{ fontWeight: 500, color: ''#666'', fontSize: ''12px'', marginRight: ''4px'' }}>\n      {label}:\n    </span>\n  )}\n  <span style={{ fontSize: ''14px'', color: ''#333'', ...fieldStyle }}>\n    {formattedValue || ''-''}\n  </span>\n</span>\n```\n\n#### Card Mode\nSame as list mode but wrapped in styled container:\n```javascript\n<div style={{\n  border: ''1px solid #d9d9d9'',\n  borderRadius: ''8px'',\n  padding: ''16px'',\n  backgroundColor: ''#fff'',\n  boxShadow: ''0 2px 4px rgba(0,0,0,0.05)''\n}}>\n  {displayFields.map(renderField)}\n  {allowOpenRecord && WrappedOpenRecordButton && (\n    <div style={{ marginTop: ''16px'', paddingTop: ''16px'', borderTop: ''1px solid #f0f0f0'' }}>\n      <WrappedOpenRecordButton ... />\n    </div>\n  )}\n</div>\n```\n\n## Highlighting System\n```javascript\nconst isHighlighted = highlightFields.includes(fieldName);\nconst highlightStyle = isHighlighted ? {\n  backgroundColor: ''#fffbe6'',\n  padding: ''4px 8px'',\n  borderRadius: ''4px'',\n  border: ''1px solid #ffe58f''\n} : {};\n```\n\n## Click Handling\n\n### handleFieldClick\n```javascript\nconst handleFieldClick = (fieldName, value) => {\n  if (onFieldClicked) {\n    const fieldInfo = getFieldInfo(fieldName);\n    onFieldClicked({ \n      fieldName, \n      value, \n      fieldType: fieldInfo?.Type,\n      record \n    });\n  }\n};\n```\n\n## OpenRecordButton Integration\n\n### Primary Key Extraction (useCallback)\n```javascript\nconst handleOpenRecordClick = useCallback((recordToOpen, entityNameToOpen) => {\n  // Get primary keys from entity metadata\n  let primaryKeys = [];\n  if (entityInfo) {\n    let primaryKeyFields = [];\n    \n    if (entityInfo.PrimaryKey) {\n      if (entityInfo.PrimaryKey.Columns && Array.isArray(entityInfo.PrimaryKey.Columns)) {\n        primaryKeyFields = entityInfo.PrimaryKey.Columns;\n      } else if (entityInfo.PrimaryKey.Name) {\n        primaryKeyFields = [entityInfo.PrimaryKey.Name];\n      } else if (typeof entityInfo.PrimaryKey === ''string'') {\n        primaryKeyFields = [entityInfo.PrimaryKey];\n      }\n    }\n    \n    // Fallback to ID\n    if (primaryKeyFields.length === 0) {\n      primaryKeyFields = [''ID''];\n    }\n    \n    primaryKeys = primaryKeyFields.map(fieldName => ({\n      FieldName: fieldName,\n      Value: recordToOpen[fieldName]\n    }));\n  }\n  \n  // Create cancelable event\n  const eventData = {\n    record: recordToOpen,\n    entityName: entityNameToOpen,\n    cancel: false,\n    primaryKeys\n  };\n  \n  // Fire event\n  if (onOpenRecord) {\n    onOpenRecord(eventData);\n  }\n  \n  // Check if canceled\n  if (eventData.cancel) {\n    return false;\n  }\n  \n  // Call OpenEntityRecord\n  if (callbacks && callbacks.OpenEntityRecord && primaryKeys.length > 0) {\n    callbacks.OpenEntityRecord(entityNameToOpen, primaryKeys);\n  }\n  \n  return true;\n}, [entityInfo, onOpenRecord, callbacks]);\n```\n\n### WrappedOpenRecordButton (useMemo)\n```javascript\nconst WrappedOpenRecordButton = useMemo(() => {\n  if (!OpenRecordButton) return null;\n  \n  return (props) => {\n    const handleWrapperClick = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      handleOpenRecordClick(props.record, props.entityName);\n    };\n    \n    return (\n      <div onClick={handleWrapperClick} style={{ display: ''inline-block'', cursor: ''pointer'' }}>\n        <button style={{\n          padding: ''8px 16px'',\n          backgroundColor: ''#3B82F6'',\n          color: ''#fff'',\n          border: ''none'',\n          borderRadius: ''6px'',\n          cursor: ''pointer'',\n          fontSize: ''14px'',\n          fontWeight: ''500'',\n          display: ''inline-flex'',\n          alignItems: ''center'',\n          gap: ''6px'',\n          pointerEvents: ''none'' // Prevent button from handling clicks\n        }}>\n          {props.text || ''Open Record''}\n          <span style={{ fontSize: ''14px'' }}>↗</span>\n        </button>\n      </div>\n    );\n  };\n}, [OpenRecordButton, handleOpenRecordClick]);\n```\n\n## Empty State\n```javascript\nif (!record) {\n  return (\n    <div style={{ \n      padding: ''20px'', \n      textAlign: ''center'', \n      color: ''#999'' \n    }}>\n      No record to display\n    </div>\n  );\n}\n```\n\n## Performance Optimizations\n- Metadata loaded once via useEffect (cached in state)\n- Field info lookup efficient (single find operation)\n- Format value function called only when needed\n- No re-renders on hover (CSS only)\n- useMemo for WrappedOpenRecordButton (prevents recreating on every render)\n- useCallback for handleOpenRecordClick (stable reference)\n","dataRequirements":{"mode":"props","description":"Receives record data through props"},"properties":[{"name":"record","type":"Record<string, any>","description":"The entity record to display","required":true},{"name":"entityName","type":"string","description":"Name of the entity for metadata lookup","required":true},{"name":"fields","type":"Array<string>","description":"Fields to display in order. If not provided, shows all non-system fields","required":false},{"name":"layout","type":"''list'' | ''table'' | ''inline'' | ''card''","description":"Display layout style","required":false,"defaultValue":"list","possibleValues":["list","table","inline","card"]},{"name":"showLabels","type":"boolean","description":"Whether to show field labels","required":false,"defaultValue":true},{"name":"labelWidth","type":"number","description":"Width of label column in pixels (table layout)","required":false,"defaultValue":150},{"name":"dateFormat","type":"''short'' | ''long'' | ''relative''","description":"Date formatting style","required":false,"defaultValue":"short","possibleValues":["short","long","relative"]},{"name":"showEmptyFields","type":"boolean","description":"Whether to show fields with no value","required":false,"defaultValue":false},{"name":"maxTextLength","type":"number","description":"Maximum characters for text fields before truncation","required":false,"defaultValue":200},{"name":"highlightFields","type":"Array<string>","description":"Fields to highlight visually","required":false},{"name":"allowOpenRecord","type":"boolean","description":"Whether to show an Open Record button for the record","required":false,"defaultValue":false}],"events":[{"name":"fieldClicked","description":"Fired when a field value is clicked","parameters":[{"name":"eventData","type":"{ fieldName: string; value: any; fieldType?: string; record: Record<string, any> }","description":"Object containing field name, value, optional field type, and the full record"}]},{"name":"openRecord","description":"Cancelable event fired before opening a record. Set eventData.cancel = true to prevent default behavior","cancelable":true,"parameters":[{"name":"eventData","type":"{ record: Record<string, any>; entityName: string; cancel: boolean; primaryKeys: Array<{ FieldName: string; Value: any }> }","description":"Cancelable event object. Set cancel to true to prevent the record from opening"}]}],"dependencies":[{"name":"OpenRecordButton","namespace":"Generic/Navigation","location":"registry","description":"Button to open entity records"}],"code":"function SingleRecordView({\n  record,\n  entityName,\n  fields,\n  layout = ''list'',\n  showLabels = true,\n  labelWidth = 150,\n  dateFormat = ''short'',\n  showEmptyFields = false,\n  maxTextLength = 200,\n  highlightFields = [],\n  allowOpenRecord = false,\n  onFieldClicked,\n  onOpenRecord,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  const [entityInfo, setEntityInfo] = React.useState(null);\n\n  // Get OpenRecordButton component from registry if needed\n  const { OpenRecordButton } = components;\n  const shouldShowOpenButton = allowOpenRecord && OpenRecordButton;\n  \n  // Handle open record button click with cancelable event - moved outside useMemo\n  const handleOpenRecordClick = React.useCallback((recordToOpen, entityNameToOpen) => {\n    console.log(''handleOpenRecordClick called for:'', entityNameToOpen, recordToOpen);\n    \n    // Get primary keys from entity metadata\n    let primaryKeys = [];\n    if (entityInfo) {\n      // Handle different PrimaryKey structures in MJ metadata\n      let primaryKeyFields = [];\n      \n      if (entityInfo.PrimaryKey) {\n        if (entityInfo.PrimaryKey.Columns && Array.isArray(entityInfo.PrimaryKey.Columns)) {\n          // Multi-column primary key\n          primaryKeyFields = entityInfo.PrimaryKey.Columns;\n        } else if (entityInfo.PrimaryKey.Name) {\n          // Single column primary key with Name property\n          primaryKeyFields = [entityInfo.PrimaryKey.Name];\n        } else if (typeof entityInfo.PrimaryKey === ''string'') {\n          // Primary key as string\n          primaryKeyFields = [entityInfo.PrimaryKey];\n        }\n      }\n      \n      // Fallback to ID if no primary key found\n      if (primaryKeyFields.length === 0) {\n        primaryKeyFields = [''ID''];\n      }\n      \n      primaryKeys = primaryKeyFields.map(fieldName => ({\n        FieldName: fieldName,\n        Value: recordToOpen[fieldName]\n      }));\n    }\n    \n    // Create cancelable event object\n    const eventData = {\n      record: recordToOpen,\n      entityName: entityNameToOpen,\n      cancel: false, // Parent can set this to true to cancel\n      primaryKeys // Populated with actual primary key values\n    };\n    \n    // Fire the event if handler exists\n    if (onOpenRecord) {\n      onOpenRecord(eventData);\n    }\n    \n    // Check if the event was canceled\n    if (eventData.cancel) {\n      return false; // Return false to prevent default action\n    }\n    \n    // If not canceled (or no handler), proceed with default behavior\n    // Call the OpenEntityRecord callback directly\n    if (callbacks && callbacks.OpenEntityRecord && primaryKeys.length > 0) {\n      callbacks.OpenEntityRecord(entityNameToOpen, primaryKeys);\n    } else {\n      console.error(''Unable to open record - missing callback or primary keys'', {\n        hasCallbacks: !!callbacks,\n        hasOpenEntityRecord: !!(callbacks && callbacks.OpenEntityRecord),\n        primaryKeysLength: primaryKeys.length\n      });\n    }\n    \n    return true;\n  }, [entityInfo, onOpenRecord, callbacks]);\n  \n  // Create wrapped OpenRecordButton with intercepted click\n  const WrappedOpenRecordButton = React.useMemo(() => {\n    if (!OpenRecordButton) return null;\n    \n    return (props) => {\n      const handleWrapperClick = (e) => {\n        // Stop all propagation first\n        e.preventDefault();\n        e.stopPropagation();\n        \n        // Call the centralized handler\n        handleOpenRecordClick(props.record, props.entityName);\n      };\n      \n      return (\n        <div \n          onClick={handleWrapperClick} \n          style={{ \n            display: ''inline-block'',\n            cursor: ''pointer''\n          }}\n        >\n          {/* Render a button that looks like OpenRecordButton but doesn''t have onClick */}\n          <button\n            style={{\n              padding: ''8px 16px'',\n              backgroundColor: ''#3B82F6'',\n              color: ''#fff'',\n              border: ''none'',\n              borderRadius: ''6px'',\n              cursor: ''pointer'',\n              fontSize: ''14px'',\n              fontWeight: ''500'',\n              display: ''inline-flex'',\n              alignItems: ''center'',\n              gap: ''6px'',\n              transition: ''none'',\n              pointerEvents: ''none'' // Prevent button from handling clicks\n            }}\n          >\n            {props.text || ''Open Record''}\n            <span style={{ fontSize: ''14px'' }}>↗</span>\n          </button>\n        </div>\n      );\n    };\n  }, [OpenRecordButton, handleOpenRecordClick]);\n  \n  // Load entity metadata\n  React.useEffect(() => {\n    if (!entityName || !utilities?.md?.Entities) return;\n    \n    const entity = utilities.md.Entities.find(e => e.Name === entityName);\n    if (entity) {\n      setEntityInfo(entity);\n    }\n  }, [entityName, utilities]);\n  \n  // Format value based on field type\n  const formatValue = (value, fieldInfo) => {\n    if (value == null || value === '''') {\n      return showEmptyFields ? <span style={{ color: ''#999'', fontStyle: ''italic'' }}>Empty</span> : null;\n    }\n    \n    // Handle different field types\n    if (fieldInfo) {\n      // Boolean fields\n      if (fieldInfo.Type === ''bit'') {\n        return value ? ''✓ Yes'' : ''✗ No'';\n      }\n      \n      // Date fields\n      if (fieldInfo.Type === ''datetime'' || fieldInfo.Type === ''date'') {\n        try {\n          const date = new Date(value);\n          if (isNaN(date.getTime())) return value;\n          \n          if (dateFormat === ''long'') {\n            return date.toLocaleDateString(''en-US'', { \n              weekday: ''long'', \n              year: ''numeric'', \n              month: ''long'', \n              day: ''numeric'' \n            });\n          } else if (dateFormat === ''relative'') {\n            const now = new Date();\n            const diff = now - date;\n            const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n            if (days === 0) return ''Today'';\n            if (days === 1) return ''Yesterday'';\n            if (days < 7) return `$' + '{days} days ago`;\n            if (days < 30) return `$' + '{Math.floor(days / 7)} weeks ago`;\n            if (days < 365) return `$' + '{Math.floor(days / 30)} months ago`;\n            return `$' + '{Math.floor(days / 365)} years ago`;\n          } else {\n            return date.toLocaleDateString(''en-US'', { \n              year: ''numeric'', \n              month: ''short'', \n              day: ''numeric'' \n            });\n          }\n        } catch {\n          return value;\n        }\n      }\n      \n      // Number fields\n      if (fieldInfo.Type === ''int'' || fieldInfo.Type === ''bigint'') {\n        return parseInt(value).toLocaleString();\n      }\n      \n      // Decimal/currency fields\n      if (fieldInfo.Type === ''decimal'' || fieldInfo.Type === ''float'' || fieldInfo.Type === ''money'') {\n        const num = parseFloat(value);\n        // Check if field name suggests currency\n        if (fieldInfo.Name.toLowerCase().includes(''amount'') || \n            fieldInfo.Name.toLowerCase().includes(''price'') ||\n            fieldInfo.Name.toLowerCase().includes(''cost'') ||\n            fieldInfo.Type === ''money'') {\n          return new Intl.NumberFormat(''en-US'', {\n            style: ''currency'',\n            currency: ''USD'',\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n          }).format(num);\n        }\n        return num.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });\n      }\n    }\n    \n    // Text fields - truncate if needed\n    if (typeof value === ''string'' && value.length > maxTextLength) {\n      return (\n        <span title={value}>\n          {value.substring(0, maxTextLength)}...\n        </span>\n      );\n    }\n    \n    return value;\n  };\n  \n  // Get fields to display\n  const getDisplayFields = () => {\n    if (fields && fields.length > 0) {\n      return fields;\n    }\n    \n    // Auto-select fields if not specified\n    if (!record) return [];\n    \n    return Object.keys(record).filter(key => \n      !key.startsWith(''__mj'') && \n      key !== ''ID'' &&\n      typeof record[key] !== ''object''\n    );\n  };\n  \n  // Get field info from entity\n  const getFieldInfo = (fieldName) => {\n    if (!entityInfo || !entityInfo.Fields) return null;\n    return entityInfo.Fields.find(f => f.Name === fieldName);\n  };\n  \n  // Handle field click\n  const handleFieldClick = (fieldName, value) => {\n    if (onFieldClicked) {\n      const fieldInfo = getFieldInfo(fieldName);\n      onFieldClicked({ \n        fieldName, \n        value, \n        fieldType: fieldInfo?.Type,\n        record \n      });\n    }\n  };\n  \n  \n  // Render field based on layout\n  const renderField = (fieldName) => {\n    const fieldInfo = getFieldInfo(fieldName);\n    const value = record[fieldName];\n    const formattedValue = formatValue(value, fieldInfo);\n    \n    if (!showEmptyFields && !formattedValue) return null;\n    \n    const isHighlighted = highlightFields.includes(fieldName);\n    const label = fieldInfo?.DisplayName || fieldName;\n    \n    const fieldStyle = {\n      cursor: onFieldClicked ? ''pointer'' : ''default''\n    };\n    \n    const highlightStyle = isHighlighted ? {\n      backgroundColor: ''#fffbe6'',\n      padding: ''4px 8px'',\n      borderRadius: ''4px'',\n      border: ''1px solid #ffe58f''\n    } : {};\n    \n    if (layout === ''list'' \n        || layout === ''card'') {\n      return (\n        <div \n          key={fieldName}\n          style={{ \n            marginBottom: ''12px'',\n            ...highlightStyle\n          }}\n          onClick={() => handleFieldClick(fieldName, value)}\n        >\n          {showLabels && (\n            <div style={{ \n              fontWeight: 500, \n              color: ''#666'', \n              fontSize: ''12px'',\n              marginBottom: ''4px'',\n              textTransform: ''uppercase''\n            }}>\n              {label}\n            </div>\n          )}\n          <div style={{ \n            fontSize: ''14px'', \n            color: ''#333'',\n            ...fieldStyle\n          }}>\n            {formattedValue || ''-''}\n          </div>\n        </div>\n      );\n    }\n    \n    if (layout === ''table'') {\n      return (\n        <tr \n          key={fieldName}\n          style={highlightStyle}\n          onClick={() => handleFieldClick(fieldName, value)}\n        >\n          {showLabels && (\n            <td style={{ \n              fontWeight: 500, \n              color: ''#666'', \n              fontSize: ''14px'',\n              padding: ''8px'',\n              width: labelWidth,\n              verticalAlign: ''top''\n            }}>\n              {label}\n            </td>\n          )}\n          <td style={{ \n            fontSize: ''14px'', \n            color: ''#333'',\n            padding: ''8px'',\n            ...fieldStyle\n          }}>\n            {formattedValue || ''-''}\n          </td>\n        </tr>\n      );\n    }\n    \n    if (layout === ''inline'') {\n      return (\n        <span \n          key={fieldName}\n          style={{ \n            marginRight: ''20px'',\n            display: ''inline-block'',\n            ...highlightStyle\n          }}\n          onClick={() => handleFieldClick(fieldName, value)}\n        >\n          {showLabels && (\n            <span style={{ \n              fontWeight: 500, \n              color: ''#666'', \n              fontSize: ''12px'',\n              marginRight: ''4px''\n            }}>\n              {label}:\n            </span>\n          )}\n          <span style={{ \n            fontSize: ''14px'', \n            color: ''#333'',\n            ...fieldStyle\n          }}>\n            {formattedValue || ''-''}\n          </span>\n        </span>\n      );\n    }\n    \n    return null;\n  };\n  \n  // No record provided\n  if (!record) {\n    return (\n      <div style={{ \n        padding: ''20px'', \n        textAlign: ''center'', \n        color: ''#999'' \n      }}>\n        No record to display\n      </div>\n    );\n  }\n  \n  const displayFields = getDisplayFields();\n  \n  // Render based on layout\n  if (layout === ''card'') {\n    return (\n      <div style={{\n        border: ''1px solid #d9d9d9'',\n        borderRadius: ''8px'',\n        padding: ''16px'',\n        backgroundColor: ''#fff'',\n        boxShadow: ''0 2px 4px rgba(0,0,0,0.05)''\n      }}>\n        {displayFields.map(renderField)}\n        {allowOpenRecord && WrappedOpenRecordButton && (\n          <div style={{ marginTop: ''16px'', paddingTop: ''16px'', borderTop: ''1px solid #f0f0f0'' }}>\n            <WrappedOpenRecordButton\n              record={record}\n              entityName={entityName}\n              variant=\"primary\"\n              size=\"medium\"\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings}\n              onSaveUserSettings={onSaveUserSettings}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n  \n  if (layout === ''table'') {\n    return (\n      <div>\n        <table style={{\n          width: ''100%'',\n          borderCollapse: ''collapse''\n        }}>\n          <tbody>\n            {displayFields.map(renderField)}\n          </tbody>\n        </table>\n        {allowOpenRecord && WrappedOpenRecordButton && (\n          <div style={{ marginTop: ''12px'' }}>\n            <WrappedOpenRecordButton\n              record={record}\n              entityName={entityName}\n              variant=\"default\"\n              size=\"medium\"\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings}\n              onSaveUserSettings={onSaveUserSettings}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n  \n  if (layout === ''inline'') {\n    return (\n      <div style={{\n        padding: ''8px'',\n        lineHeight: ''1.8''\n      }}>\n        {displayFields.map(renderField)}\n        {allowOpenRecord && WrappedOpenRecordButton && (\n          <span style={{ marginLeft: ''20px'', display: ''inline-block'' }}>\n            <WrappedOpenRecordButton\n              record={record}\n              entityName={entityName}\n              variant=\"link\"\n              size=\"small\"\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n              savedUserSettings={savedUserSettings}\n              onSaveUserSettings={onSaveUserSettings}\n            />\n          </span>\n        )}\n      </div>\n    );\n  }\n  \n  // Default list layout\n  return (\n    <div style={{ padding: ''8px'' }}>\n      {displayFields.map(renderField)}\n      {shouldShowOpenButton && (\n        <div style={{ marginTop: ''12px'' }}>\n          <OpenRecordButton\n            record={record}\n            entityName={entityName}\n            variant=\"default\"\n            size=\"medium\"\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings}\n            onSaveUserSettings={onSaveUserSettings}\n          />\n        </div>\n      )}\n    </div>\n  );\n}","exampleUsage":"<SingleRecordView\n  record={selectedDeal}\n  entityName=\"Deals\"\n  fields={[''DealName'', ''Stage'', ''Amount'', ''CloseDate'', ''OwnerID'']}\n  layout=\"card\"\n  highlightFields={[''Amount'', ''Stage'']}\n  allowOpenRecord={true}\n  onOpenRecord={(eventData) => {\n    // Example: Cancel if deal is in certain stage\n    if (selectedDeal.Stage === ''Lost'') {\n      eventData.cancel = true;\n      alert(''Cannot open lost deals'');\n    }\n  }}\n/>"}'
SET
  @FunctionalRequirements_a151277e = N'## Purpose
Read-only display component for a **single entity record** with metadata-driven field type formatting. Four layout modes with intelligent formatting based on SQL field types.

## Required Props
- **record** (object): Entity record to display
- **entityName** (string): Name of entity for metadata lookup

## Field Selection

### Auto-detection (if `fields` prop omitted)
Discovers fields from record using smart filtering:
- All top-level properties from record object
- **Excludes**: Fields starting with `__mj` (system fields)
- **Excludes**: Field named `ID` (usually shown elsewhere)
- **Excludes**: Nested objects (typeof === ''object'')
- Order: As they appear in Object.keys(record)

### Explicit Selection
`fields={[''InvoiceName'', ''Amount'', ''DueDate'', ''Status'']}`:
- Controls which fields display
- Controls display order
- Can include system fields if needed
- Unknown fields logged as warnings

## Layout Modes

### 1. List (Vertical, default)
- Each field as vertical block
- Label div: uppercase, 12px, gray, 4px margin-bottom
- Value div: 14px, dark gray, below label
- 12px margin-bottom between fields

### 2. Table (Two-column)
- `<table>` with label/value columns
- `labelWidth` prop (default 150px) sets label column width
- Labels: 500 weight, gray, left-aligned
- Values: regular weight, dark, right column
- 8px padding in cells
- Vertical-align: top (for long values)

### 3. Inline (Horizontal Compact)
- All fields in single line as `<span>` elements
- Format: `Label: Value` with 20px margin-right between fields
- Wraps naturally if container too narrow
- Good for space-constrained summaries

### 4. Card (Styled Container)
- Wrapper div with border, radius, shadow, padding
- Fields rendered same as list mode inside
- Visual style: 1px border (#d9d9d9), 8px radius, white background
- Box shadow: 0 2px 4px rgba(0,0,0,0.05)
- 16px padding
- Optional OpenRecordButton at bottom with top border separator

## Metadata-Driven Formatting

### Date Fields (`datetime`, `date`)
Three format modes via `dateFormat` prop:

1. **short** (default): "Jan 15, 2024" (month short, day, year)
2. **long**: "Monday, January 15, 2024" (weekday, month long, day, year)
3. **relative**: Context-aware
   - "Today" (0 days ago)
   - "Yesterday" (1 day ago)
   - "5 days ago" (< 7 days)
   - "2 weeks ago" (< 30 days)
   - "3 months ago" (< 365 days)
   - "2 years ago" (≥ 365 days)

### Boolean Fields (`bit`)
- `true` → "✓ Yes" (checkmark)
- `false` → "✗ No" (X mark)

### Number Fields
- **Integer** (`int`, `bigint`): 1,234,567 (commas, no decimals)
- **Decimal** (`decimal`, `float`, `numeric`): 1,234.56 (commas, 2 decimals)

### Currency Fields
Auto-detected when:
- Field type is `money`
- **OR** field name includes: "amount", "price", "cost" (case-insensitive)

Format: $1,234.56 (USD currency with symbol, commas, 2 decimals)

### Null/Empty Values
- If `showEmptyFields={false}` (default): Field not rendered
- If `showEmptyFields={true}`: Shows "Empty" in gray italic text

## Features

### Text Truncation
For string values exceeding `maxTextLength` (default 200 chars):
- Displays: First 200 chars + "..."
- Hover tooltip: Shows full text via title attribute
- Prevents layout breaking from long text
- Applies to string fields only (not dates/numbers)

### Field Highlighting
`highlightFields={[''Amount'', ''Status'']}`:
- Yellow background (#fffbe6)
- Yellow border (#ffe58f)
- 4px/8px padding
- 4px border-radius
- Visual emphasis for important fields

### Clickable Fields
If `onFieldClicked` callback provided:
- All field values get `cursor: pointer`
- Click fires event: `{fieldName, value, fieldType, record}`
- Use for: drill-downs, filters, custom actions
- Example: Click email to compose, click status to filter

### OpenRecordButton Integration
`allowOpenRecord={true}`:
- Loads OpenRecordButton from components registry
- Renders at bottom of record view
- Auto-detects primary keys from metadata
- Layout-specific button styling:
  - **card**: `primary` variant, medium size, top border separator
  - **table/list**: `default` variant, medium size, 12px top margin
  - **inline**: `link` variant, small size, 20px left margin

**Cancelable Event**: `onOpenRecord`
```javascript
onOpenRecord={(eventData) => {
  // eventData: {record, entityName, cancel, primaryKeys}
  if (record.Status === ''Locked'') {
    eventData.cancel = true; // Prevent opening
    alert(''Cannot open locked records'');
  }
}}
```

### Primary Key Extraction
For OpenRecord functionality, handles various metadata structures:
- `entityInfo.PrimaryKey.Columns` array (multi-column)
- `entityInfo.PrimaryKey.Name` string (single)
- `entityInfo.PrimaryKey` as string
- Fallback to `''ID''`

Validates all primary key values exist before enabling button.

## Display Labels
Preferred sources (priority order):
1. `field.DisplayName` from entity metadata
2. Field name as-is
3. Special handling for `__mj` fields:
   - `__mj_CreatedAt` → "Created At"
   - `__mj_UpdatedAt` → "Updated At"
   - `__mj_DeletedAt` → "Deleted At"

## Visual States

### Empty State
If no `record` prop:
- Centered message: "No record to display"
- Gray text, 20px padding
- No error thrown

### Empty Fields
Based on `showEmptyFields` prop:
- `false` (default): Field not rendered
- `true`: Renders as "Empty" (gray italic)

## Events

1. **onFieldClicked**: `({fieldName, value, fieldType, record}) => void`
   - Fired when field value clicked (if handler provided)
   - Includes field type from metadata

2. **onOpenRecord**: `(eventData) => void` (cancelable)
   - Fired before OpenEntityRecord called
   - Can set `eventData.cancel = true` to prevent
   - Includes `{record, entityName, cancel, primaryKeys}`

## Styling Integration
- Respects MemberJunction styles prop for spacing/colors
- Layout-specific hardcoded styles (margins, padding, font sizes)
- Highlight styles use yellow (#fffbe6 bg, #ffe58f border)
- Card mode uses subtle shadow and border

## Performance
- Metadata loaded once on mount via useEffect
- Field info lookup cached per entity
- Format value memoized for repeated renders
- No unnecessary re-renders on hover (CSS only)

## Accessibility
- Proper semantic HTML (divs, tables, spans)
- Title attributes on truncated text (hover for full value)
- High contrast text colors (dark on light)
- OpenRecordButton has ARIA labels and tooltips
'
SET
  @TechnicalDesign_a151277e = N'## Architecture
React functional component for read-only display of a single entity record with metadata-driven formatting and four layout modes.

## State Management (React Hooks)
- **entityInfo** (object | null): Entity metadata from `utilities.md.Entities`

## Entity Metadata Loading (useEffect)
Runs on: `entityName`, `utilities` changes

```javascript
useEffect(() => {
  if (!entityName || !utilities?.md?.Entities) return;
  
  const entity = utilities.md.Entities.find(e => e.Name === entityName);
  if (entity) {
    setEntityInfo(entity);
  }
}, [entityName, utilities]);
```

## Field Selection Logic

### getDisplayFields Function
```javascript
const getDisplayFields = () => {
  if (fields && fields.length > 0) {
    return fields; // Explicit selection
  }
  
  // Auto-detect from record
  if (!record) return [];
  
  return Object.keys(record).filter(key => 
    !key.startsWith(''__mj'') &&  // Exclude system fields
    key !== ''ID'' &&              // Exclude ID
    typeof record[key] !== ''object'' // Exclude nested objects
  );
};
```

## Field Info Lookup

### getFieldInfo Function
```javascript
const getFieldInfo = (fieldName) => {
  if (!entityInfo || !entityInfo.Fields) return null;
  return entityInfo.Fields.find(f => f.Name === fieldName);
};
```

Returns field metadata with: Type, DisplayName, Length, etc.

## Value Formatting System

### formatValue Function
**Signature**: `formatValue(value, fieldInfo) => ReactNode | null`

**Process**:
1. **Null/empty handling**:
   ```javascript
   if (value == null || value === '''') {
     return showEmptyFields 
       ? <span style={{ color: ''#999'', fontStyle: ''italic'' }}>Empty</span>
       : null;
   }
   ```

2. **Type-based formatting** (if fieldInfo available):
   
   **Boolean** (Type=''bit''):
   ```javascript
   return value ? ''✓ Yes'' : ''✗ No'';
   ```
   
   **Date** (Type=''datetime'' or ''date''):
   ```javascript
   try {
     const date = new Date(value);
     if (isNaN(date.getTime())) return value;
     
     if (dateFormat === ''long'') {
       return date.toLocaleDateString(''en-US'', { 
         weekday: ''long'', year: ''numeric'', month: ''long'', day: ''numeric''
       });
     } else if (dateFormat === ''relative'') {
       const now = new Date();
       const diff = now - date;
       const days = Math.floor(diff / (1000 * 60 * 60 * 24));
       if (days === 0) return ''Today'';
       if (days === 1) return ''Yesterday'';
       if (days < 7) return `$' + '{days} days ago`;
       if (days < 30) return `$' + '{Math.floor(days / 7)} weeks ago`;
       if (days < 365) return `$' + '{Math.floor(days / 30)} months ago`;
       return `$' + '{Math.floor(days / 365)} years ago`;
     } else { // ''short''
       return date.toLocaleDateString(''en-US'', { 
         year: ''numeric'', month: ''short'', day: ''numeric''
       });
     }
   } catch {
     return value;
   }
   ```
   
   **Integer** (Type=''int'' or ''bigint''):
   ```javascript
   return parseInt(value).toLocaleString();
   ```
   
   **Decimal/Currency** (Type=''decimal'' | ''float'' | ''money''):
   ```javascript
   const num = parseFloat(value);
   
   // Check if field name suggests currency
   if (fieldInfo.Name.toLowerCase().includes(''amount'') || 
       fieldInfo.Name.toLowerCase().includes(''price'') ||
       fieldInfo.Name.toLowerCase().includes(''cost'') ||
       fieldInfo.Type === ''money'') {
     return new Intl.NumberFormat(''en-US'', {
       style: ''currency'',
       currency: ''USD'',
       minimumFractionDigits: 2,
       maximumFractionDigits: 2
     }).format(num);
   }
   return num.toLocaleString(undefined, { 
     minimumFractionDigits: 2, 
     maximumFractionDigits: 2
   });
   ```

3. **Text truncation** (if string > maxTextLength):
   ```javascript
   if (typeof value === ''string'' && value.length > maxTextLength) {
     return (
       <span title={value}>
         {value.substring(0, maxTextLength)}...
       </span>
     );
   }
   ```

4. **Default**: Return value as-is

## Field Rendering

### renderField Function
**Signature**: `renderField(fieldName) => ReactNode | null`

**Process**:
1. Get field info and format value
2. Return null if empty and `showEmptyFields=false`
3. Check if field is highlighted
4. Render based on layout mode

### Layout-Specific Rendering

#### List Mode (default)
```javascript
<div 
  key={fieldName}
  style={{ marginBottom: ''12px'', ...highlightStyle }}
  onClick={() => handleFieldClick(fieldName, value)}
>
  {showLabels && (
    <div style={{ 
      fontWeight: 500, 
      color: ''#666'', 
      fontSize: ''12px'',
      marginBottom: ''4px'',
      textTransform: ''uppercase''
    }}>
      {label}
    </div>
  )}
  <div style={{ fontSize: ''14px'', color: ''#333'', ...fieldStyle }}>
    {formattedValue || ''-''}
  </div>
</div>
```

#### Table Mode
```javascript
<tr 
  key={fieldName}
  style={highlightStyle}
  onClick={() => handleFieldClick(fieldName, value)}
>
  {showLabels && (
    <td style={{ 
      fontWeight: 500, 
      color: ''#666'', 
      fontSize: ''14px'',
      padding: ''8px'',
      width: labelWidth,
      verticalAlign: ''top''
    }}>
      {label}
    </td>
  )}
  <td style={{ fontSize: ''14px'', color: ''#333'', padding: ''8px'', ...fieldStyle }}>
    {formattedValue || ''-''}
  </td>
</tr>
```

#### Inline Mode
```javascript
<span 
  key={fieldName}
  style={{ marginRight: ''20px'', display: ''inline-block'', ...highlightStyle }}
  onClick={() => handleFieldClick(fieldName, value)}
>
  {showLabels && (
    <span style={{ fontWeight: 500, color: ''#666'', fontSize: ''12px'', marginRight: ''4px'' }}>
      {label}:
    </span>
  )}
  <span style={{ fontSize: ''14px'', color: ''#333'', ...fieldStyle }}>
    {formattedValue || ''-''}
  </span>
</span>
```

#### Card Mode
Same as list mode but wrapped in styled container:
```javascript
<div style={{
  border: ''1px solid #d9d9d9'',
  borderRadius: ''8px'',
  padding: ''16px'',
  backgroundColor: ''#fff'',
  boxShadow: ''0 2px 4px rgba(0,0,0,0.05)''
}}>
  {displayFields.map(renderField)}
  {allowOpenRecord && WrappedOpenRecordButton && (
    <div style={{ marginTop: ''16px'', paddingTop: ''16px'', borderTop: ''1px solid #f0f0f0'' }}>
      <WrappedOpenRecordButton ... />
    </div>
  )}
</div>
```

## Highlighting System
```javascript
const isHighlighted = highlightFields.includes(fieldName);
const highlightStyle = isHighlighted ? {
  backgroundColor: ''#fffbe6'',
  padding: ''4px 8px'',
  borderRadius: ''4px'',
  border: ''1px solid #ffe58f''
} : {};
```

## Click Handling

### handleFieldClick
```javascript
const handleFieldClick = (fieldName, value) => {
  if (onFieldClicked) {
    const fieldInfo = getFieldInfo(fieldName);
    onFieldClicked({ 
      fieldName, 
      value, 
      fieldType: fieldInfo?.Type,
      record 
    });
  }
};
```

## OpenRecordButton Integration

### Primary Key Extraction (useCallback)
```javascript
const handleOpenRecordClick = useCallback((recordToOpen, entityNameToOpen) => {
  // Get primary keys from entity metadata
  let primaryKeys = [];
  if (entityInfo) {
    let primaryKeyFields = [];
    
    if (entityInfo.PrimaryKey) {
      if (entityInfo.PrimaryKey.Columns && Array.isArray(entityInfo.PrimaryKey.Columns)) {
        primaryKeyFields = entityInfo.PrimaryKey.Columns;
      } else if (entityInfo.PrimaryKey.Name) {
        primaryKeyFields = [entityInfo.PrimaryKey.Name];
      } else if (typeof entityInfo.PrimaryKey === ''string'') {
        primaryKeyFields = [entityInfo.PrimaryKey];
      }
    }
    
    // Fallback to ID
    if (primaryKeyFields.length === 0) {
      primaryKeyFields = [''ID''];
    }
    
    primaryKeys = primaryKeyFields.map(fieldName => ({
      FieldName: fieldName,
      Value: recordToOpen[fieldName]
    }));
  }
  
  // Create cancelable event
  const eventData = {
    record: recordToOpen,
    entityName: entityNameToOpen,
    cancel: false,
    primaryKeys
  };
  
  // Fire event
  if (onOpenRecord) {
    onOpenRecord(eventData);
  }
  
  // Check if canceled
  if (eventData.cancel) {
    return false;
  }
  
  // Call OpenEntityRecord
  if (callbacks && callbacks.OpenEntityRecord && primaryKeys.length > 0) {
    callbacks.OpenEntityRecord(entityNameToOpen, primaryKeys);
  }
  
  return true;
}, [entityInfo, onOpenRecord, callbacks]);
```

### WrappedOpenRecordButton (useMemo)
```javascript
const WrappedOpenRecordButton = useMemo(() => {
  if (!OpenRecordButton) return null;
  
  return (props) => {
    const handleWrapperClick = (e) => {
      e.preventDefault();
      e.stopPropagation();
      handleOpenRecordClick(props.record, props.entityName);
    };
    
    return (
      <div onClick={handleWrapperClick} style={{ display: ''inline-block'', cursor: ''pointer'' }}>
        <button style={{
          padding: ''8px 16px'',
          backgroundColor: ''#3B82F6'',
          color: ''#fff'',
          border: ''none'',
          borderRadius: ''6px'',
          cursor: ''pointer'',
          fontSize: ''14px'',
          fontWeight: ''500'',
          display: ''inline-flex'',
          alignItems: ''center'',
          gap: ''6px'',
          pointerEvents: ''none'' // Prevent button from handling clicks
        }}>
          {props.text || ''Open Record''}
          <span style={{ fontSize: ''14px'' }}>↗</span>
        </button>
      </div>
    );
  };
}, [OpenRecordButton, handleOpenRecordClick]);
```

## Empty State
```javascript
if (!record) {
  return (
    <div style={{ 
      padding: ''20px'', 
      textAlign: ''center'', 
      color: ''#999'' 
    }}>
      No record to display
    </div>
  );
}
```

## Performance Optimizations
- Metadata loaded once via useEffect (cached in state)
- Field info lookup efficient (single find operation)
- Format value function called only when needed
- No re-renders on hover (CSS only)
- useMemo for WrappedOpenRecordButton (prevents recreating on every render)
- useCallback for handleOpenRecordClick (stable reference)
'
SET
  @FunctionalRequirementsVector_a151277e = N'[0.009656260721385479,0.01964971050620079,-0.0006431381916627288,-0.015800733119249344,0.012354341335594654,0.02086000144481659,0.013595345430076122,0.07463101297616959,-0.03549109026789665,-0.01699722930788994,-0.05475570261478424,0.029331590980291367,0.031412772834300995,0.08923391997814178,0.0018810118781402707,-0.04626213759183884,-0.05847661942243576,0.02813929133117199,0.012360983528196812,0.010154208168387413,0.056219540536403656,-0.0380454957485199,-0.010716315358877182,-0.061359718441963196,-0.025514191016554832,-0.026582932099699974,-0.06712159514427185,0.04471377283334732,-0.024196675047278404,-0.06269049644470215,-0.007745105307549238,0.06294722855091095,-0.04022447019815445,-0.020814131945371628,0.000002242156369902659,0.0011656817514449358,-0.06075919046998024,0.014114069752395153,-0.01083860732614994,0.011636769399046898,-0.02696906216442585,-0.061631254851818085,0.012260575778782368,-0.007979230023920536,-0.01340376678854227,-0.08924204856157303,-0.07010859996080399,0.10965986549854279,0.018671423196792603,-0.04091703146696091,0.00658150389790535,-0.042656753212213516,0.011914615519344807,0.0015624582301825285,0.021756138652563095,0.045015253126621246,-0.0227893628180027,-0.013047008775174618,0.03342759981751442,-0.022270342335104942,0.008628489449620247,0.011634868569672108,0.010491261258721352,-0.07764175534248352,0.016299793496727943,0.022191470488905907,0.0030445146840065718,0.007882839068770409,0.02439069002866745,0.021411024034023285,0.08838822692632675,-0.03376435860991478,0.0008119839476421475,-0.022756265476346016,0.005167839583009481,-0.07191271334886551,-0.006409579887986183,-0.005103152710944414,-0.016232231631875038,-0.001947649521753192,-0.00005120547939441167,0.03021576814353466,-0.04004869982600212,-0.017115673050284386,-0.004145713057368994,0.015491712838411331,0.027482634410262108,-0.07854507863521576,-0.03793088719248772,-0.012988616712391376,0.017304489389061928,-0.04696128889918327,0.02446739748120308,0.0386737659573555,-0.02707540988922119,-0.01901409588754177,0.008625699207186699,-0.15513817965984344,0.03524602949619293,-0.00002714097900025081,0.005008510779589415,0.02030055597424507,0.04916541650891304,-0.008271340280771255,0.021329017356038094,0.010490375570952892,-0.021398399025201797,0.018849341198801994,-0.02077222801744938,0.03967728465795517,0.008884823881089687,-0.02136164717376232,-0.0011171004734933376,0.05293929576873779,-0.05285199359059334,0.034814417362213135,0.01231887936592102,-0.02221224270761013,-0.012482641264796257,0.04309815168380737,0.04389728978276253,0.008139069192111492,0.003260939149186015,0.013439861126244068,0.05277126282453537,-0.03262995928525925,-0.01194760948419571,-0.07018008083105087,-0.002305812668055296,0.017528783529996872,0.012004482559859753,-0.0032944325357675552,0.02174854651093483,-0.01769118756055832,0.001996403094381094,0.04006804898381233,-0.001505733118392527,0.025207465514540672,-0.02046680822968483,0.03432241454720497,-0.0154078658670187,0.01023922860622406,-0.0022908179089426994,0.0740855410695076,-0.0020105557050555944,0.0000566638118471019,-0.01625523902475834,-0.03569946438074112,0.009169060736894608,-0.00819029938429594,0.06648664176464081,-0.009583757258951664,-0.012808078899979591,0.004911920987069607,0.035209812223911285,0.0071018473245203495,0.05902089923620224,0.0017592047806829214,0.06711766123771667,0.008511114865541458,-0.003971070516854525,-0.002988983877003193,0.04512123018503189,0.023448344320058823,-0.02694513462483883,0.06880854070186615,-0.09571507573127747,0.01960131898522377,0.009480128064751625,0.03583437576889992,-0.01722131110727787,0.00871468335390091,0.00842351745814085,0.029469896107912064,0.04416296258568764,-0.039436113089323044,0.040278561413288116,-0.014603537507355213,-0.025025317445397377,0.00022754639212507755,0.03924628719687462,-0.04000050947070122,0.054049454629421234,0.005130574107170105,0.051376502960920334,-0.0065912725403904915,-0.019803190603852272,0.022227803245186806,-0.0267472006380558,-0.014094043523073196,-0.009455498307943344,0.009363321587443352,-0.029224034398794174,0.007181330118328333,0.026600206270813942,0.031095050275325775,-0.029778992757201195,-0.038597315549850464,0.02431473322212696,0.017390912398695946,-0.026695845648646355,-0.013916123658418655,0.03142991662025452,0.02579284831881523,-0.0108626214787364,-0.008874322287738323,-0.03353579714894295,-0.023416925221681595,0.010130727663636208,0.03734838590025902,-0.029454519972205162,-0.01826350763440132,-0.05133634805679321,0.003674054518342018,-0.024925069883465767,0.0411338284611702,0.026844199746847153,-0.021640822291374207,-0.042085226625204086,-0.032035648822784424,-0.011801771819591522,-0.04434892162680626,0.006667824927717447,0.020309263840317726,0.10212267190217972,0.0154124079272151,0.029089730232954025,-0.006381890270859003,0.04333416372537613,-0.0008697336888872087,-0.01276372093707323,0.0015937333228066564,0.029670823365449905,-0.007841934449970722,0.051940981298685074,0.010641724802553654,0.008107969537377357,0.07404396682977676,-0.03645339608192444,0.08511386811733246,0.008036831393837929,-0.11433079838752747,-0.038912080228328705,-0.02199048176407814,-0.030399899929761887,-0.04123977944254875,0.0011532821226865053,0.03977729752659798,-0.0018299533985555172,-0.022692814469337463,0.010153460316359997,-0.022012250497937202,0.08288270235061646,-0.007845412939786911,-0.013732155784964561,-0.008107000030577183,-0.011190405115485191,0.004193156957626343,-0.03289063647389412,0.05829839035868645,-0.006456015165895224,-0.00607809703797102,-0.014463735744357109,-0.033140890300273895,0.03202858567237854,-0.024174921214580536,0.030741631984710693,-0.03401343151926994,-0.031086282804608345,0.01333141140639782,-0.019383806735277176,0.02476617693901062,-0.009766541421413422,-0.013897806406021118,-0.017410388216376305,-0.006088724359869957,-0.021191073581576347,0.02559211477637291,0.010592211969196796,-0.013096672482788563,0.0021037007682025433,-0.005692058242857456,0.006584208458662033,0.019640441983938217,-0.014277473092079163,0.005101443734019995,-0.01339390967041254,0.0024760838132351637,0.01298369187861681,-0.03609572723507881,0.02971157617866993,0.01681547425687313,0.03718689829111099,-0.013102051801979542,-0.034799326211214066,0.01720251701772213,0.04166766628623009,0.043685201555490494,0.008774157613515854,0.007116030436009169,-0.04167710244655609,0.035039808601140976,-0.0024549164809286594,0.006711174268275499,0.03527889773249626,0.05547705665230751,0.007953155785799026,0.0265885628759861,-0.0019586696289479733,0.063821941614151,-0.009866095148026943,0.04910290241241455,-0.00027576694265007973,-0.06737589091062546,0.040647026151418686,0.04131816700100899,0.03836581110954285,0.021175451576709747,0.017543870955705643,0.11551841348409653,0.009016189724206924,0.012563781812787056,0.020079921931028366,-0.038651272654533386,-0.03231407329440117,0.05062558129429817,-0.008383695967495441,-0.014595603570342064,0.008137577213346958,0.0423249714076519,0.00271922186948359,0.001128729316405952,0.019405322149395943,-0.016212178394198418,0.004087410401552916,-0.008404086343944073,0.0024227024987339973,0.006805295590311289,0.013644024729728699,-0.030850622802972794,0.0013587469002231956,-0.05113363638520241,-0.01392948254942894,0.00030970259103924036,-0.013678173534572124,0.0015423235017806292,-0.011211421340703964,0.01966429501771927,-0.06467927992343903,0.05206756666302681,0.023036031052470207,0.043374061584472656,-0.000528666831087321,-0.004686006810516119,0.00173448515124619,0.06076502054929733,-0.017650660127401352,-0.02820550836622715,-0.023092057555913925,-0.04330895468592644,0.007265058811753988,0.015869714319705963,-0.004114029463380575,0.0315496027469635,0.017164472490549088,0.024904152378439903,0.033501509577035904,0.004672531504184008,-0.02789061889052391,-0.01784343272447586,-0.05005459487438202,0.005115041974931955,-0.015593239106237888,0.015452261082828045,-0.025978969410061836,-0.024797528982162476,0.0254493597894907,0.024072280153632164,0.020068928599357605,0.03553695231676102,0.05546388030052185,0.0002610873489174992,0.07641119509935379,0.003668145276606083,0.025957707315683365,-0.005280680954456329,0.008767349645495415,-0.006310013588517904,-0.005096133332699537,-0.029415691271424294,-0.012627978809177876,0.034673698246479034,-0.03505857661366463,-0.06074756011366844,-0.014123118482530117,0.0027942440938204527,0.0021832934580743313,0.04219571128487587,0.024683959782123566,-0.0030214274302124977,-0.019771158695220947,0.058457013219594955,0.008902101777493954,0.018577851355075836,0.08831799030303955,-0.03807215020060539,0.09232957661151886,0.01398051530122757,-0.0023658531717956066,-0.07327666133642197,-0.06102178618311882,0.020686734467744827,-0.048223450779914856,-0.03588743507862091,-0.028555236756801605,-0.006760046351701021,0.000763135903980583,-0.07257215678691864,0.000931384100113064,0.019664647057652473,-0.01987922377884388,0.01978885754942894,0.04253228381276131,-0.018133677542209625,0.023280426859855652,-0.039178136736154556,-0.04212877154350281,-0.027868954464793205,-0.024463914334774017,0.024635126814246178,-0.03871899098157883,0.0052284845151007175,0.0050710407085716724,0.023902911692857742,-0.028105787932872772,0.06397757679224014,0.022436445578932762,-0.05235458165407181,0.07294024527072906,0.0012695181649178267,-0.021413380280137062,-0.008026529103517532,0.05109946057200432,0.030558248981833458,-0.015097486786544323,-0.0538930743932724,-0.028166064992547035,0.019081758335232735,-0.07379921525716782,0.012508586049079895,-0.027057841420173645,-0.009929160587489605,-0.02718084491789341,0.033062487840652466,-0.07028371840715408,-0.018055398017168045,-0.05323358625173569,0.041936587542295456,0.024254843592643738,0.0055487994104623795,0.018775060772895813,0.008215035311877728,-0.029883768409490585,0.016968516632914543,0.01703089289367199,-0.0486450232565403,-0.049860525876283646,-0.05452883988618851,-0.04751564934849739,-0.07652052491903305,0.006912330165505409,-0.008027466014027596,-0.02203626185655594,-0.02280629798769951,0.008774972520768642,0.08156462758779526,-0.001829103217460215,-0.03034617193043232,0.0017205108888447285,-0.016732115298509598,0.04656334966421127,-0.0033533924724906683,0.008187252096831799,-0.12016557902097702,0.05323834344744682,0.04414927214384079,-0.06099632754921913,-0.04984103888273239,0.02883189544081688,-0.022441355511546135,-0.023610668256878853,-0.010275156237185001,-0.007445620372891426,0.08441726863384247,0.018043838441371918,0.06018616631627083,-0.016633957624435425,0.03995350003242493,-0.06249895691871643,-0.0699954628944397,-0.023126905784010887,-0.017190346494317055,-0.00831243023276329,0.034744687378406525,0.00869643036276102,0.02725030481815338,-0.022083500400185585,0.04418658837676048,-0.018834581598639488,-0.0015362403355538845,-0.01637258753180504,-0.0043068211525678635,0.034900784492492676,0.005541752092540264,-0.022928185760974884,0.047975704073905945,-0.06571341305971146,-0.027838438749313354,-0.007941396906971931,-0.0025763618759810925,-0.0027165806386619806,0.005694052204489708,0.021704871207475662,0.03010815940797329,0.0034259369131177664,-0.01825619861483574,0.03929271548986435,-0.03701908513903618,-0.0008573501836508512,0.006396410521119833,0.04654666781425476,-0.007425695192068815,0.04539632424712181,-0.020241573452949524,-0.030184516683220863,0.09153632819652557,0.009118982590734959,0.04186539351940155,-0.005455469246953726,-0.021626511588692665,-0.12020642310380936,0.02096712961792946,0.033014073967933655,-0.022502051666378975,-0.017708588391542435,0.013175304979085922,0.0016803612234070897,-0.009887049905955791,0.04251256585121155,0.02824157290160656,-0.0048559014685451984,-0.03569469228386879,0.0049179354682564735,-0.06455367058515549,0.009732791222631931,-6.427477479337524e-33,-0.04522150754928589,-0.006183498073369265,-0.04127960652112961,-0.04970293864607811,0.022865528240799904,-0.0017855748301371932,-0.005625196732580662,-0.03404124081134796,-0.006882674526423216,0.022958941757678986,-0.01970697194337845,-0.03270510211586952,0.01153626199811697,0.042314015328884125,0.019734762609004974,0.0041123307310044765,-0.006639773491770029,-0.0034525415394455194,0.010074373334646225,0.02480974793434143,-0.04744216054677963,0.03434780240058899,0.023102892562747,-0.032722558826208115,-0.012459883466362953,-0.007503292057663202,-0.02153705060482025,0.015535123646259308,-0.04863149672746658,0.04287870600819588,0.005453754216432571,-0.03774718567728996,-0.018630417063832283,-0.017213134095072746,0.04347606748342514,-0.038402050733566284,-0.08367365598678589,0.023321475833654404,0.009238315746188164,0.02020951174199581,0.061351802200078964,0.029078969731926918,0.02173842303454876,-0.004927129950374365,-0.002682117512449622,-0.04855303838849068,0.005680102854967117,-0.022528236731886864,-0.02511303499341011,-0.07425828278064728,0.006894237361848354,0.015438025817275047,-0.013686642050743103,0.02003033272922039,0.027119304984807968,-0.0790063813328743,0.054038871079683304,0.05233189836144447,-0.0901717022061348,-0.03123234212398529,-0.03287038207054138,-0.044753096997737885,0.0352676697075367,0.01148019079118967,0.05335291102528572,-0.0049668652936816216,0.006823994219303131,0.05153805390000343,-0.045248597860336304,-0.02914477325975895,-0.02574741840362549,-0.03248424828052521,0.007199475541710854,-0.002174969995394349,0.03828135505318642,0.04146775230765343,-0.038629695773124695,-0.01734362170100212,-0.07521481066942215,0.04148973897099495,0.002992411609739065,0.02538655512034893,0.009889322333037853,0.010082408785820007,-0.012784294784069061,-0.03211275860667229,0.01354581955820322,0.0018475574906915426,-0.010104981251060963,-0.02083786204457283,0.010017435066401958,-0.04294108599424362,-0.04465704783797264,0.07301994413137436,-0.08984462916851044,0.0017970221815630794,0.03298039734363556,0.015110263600945473,-0.01907246559858322,0.012031979858875275,0.08336243033409119,-0.028622610494494438,-0.02947097271680832,0.0031042289920151234,-0.019479040056467056,0.01874517649412155,0.04210452735424042,-0.026669304817914963,-0.06356959789991379,0.02920616790652275,0.03443446382880211,-0.0026782588101923466,-0.006980738136917353,0.011257322505116463,-0.026437008753418922,-0.01750270090997219,-0.027925588190555573,-0.05169118940830231,0.048110395669937134,-0.03275458142161369,0.05988762527704239,-0.0027951181400567293,-0.0003997199528384954,0.017319627106189728,0.07701387256383896,-0.004986004903912544,-0.028934285044670105,-0.022378362715244293,0.08616619557142258,0.041408367455005646,0.022325986996293068,0.03196221962571144,2.986561753459682e-7,0.06428007781505585,-0.028259383514523506,-0.010138221085071564,-0.05018659681081772,0.010504567995667458,0.0499936044216156,0.025923455134034157,-0.05256485193967819,-0.0630790963768959,-0.06531213223934174,0.010294324718415737,0.000926269160117954,0.054741013795137405,0.00947712641209364,0.055619582533836365,-0.007757560350000858,-0.011854712851345539,-0.05158153548836708,-0.026806406676769257,0.01927635259926319,0.008506757207214832,0.003639371134340763,0.012476379983127117,0.012156400829553604,0.020908748731017113,0.06758096069097519,-0.0004697136755567044,-0.024808727204799652,0.10294639319181442,-0.008857578970491886,0.02318543754518032,-0.07512517273426056,-0.016102883964776993,0.024682382121682167,-0.0045288121327757835,-0.039458516985177994,-0.0026529335882514715,0.034781333059072495,0.004224336240440607,0.12063904106616974,0.028481893241405487,-0.04572853818535805,-0.02413192018866539,-0.07181117683649063,-0.01942332834005356,-0.009773880243301392,-0.054788827896118164,0.0047758943401277065,-0.09190397709608078,0.02366933785378933,0.010704223066568375,0.009010231122374535,-0.007458721753209829,-0.03948551043868065,0.0044393292628228664,0.015811236575245857,-0.022087611258029938,0.02610858343541622,-0.010578161105513573,0.04157755523920059,-0.028458919376134872,0.033845093101263046,-0.01702844351530075,0.02454609051346779,0.08613105863332748,-0.03939638286828995,-0.02261129580438137,3.92502936116087e-34,0.0008995955577120185,-0.025857558473944664,0.04915798828005791,0.10582905262708664,0.027571938931941986,-0.029807789251208305,0.021401776000857353,-0.030831659212708473,0.011069756001234055,-0.07214642316102982,0.013264919631183147]'
SET
  @TechnicalDesignVector_a151277e = N'[-0.004041667561978102,0.009396644309163094,-0.004357286263257265,-0.05395251885056496,0.026268625631928444,-0.03159424662590027,0.04790758714079857,0.06233808770775795,-0.02394757978618145,-0.017193099483847618,0.006720586679875851,0.03620881959795952,0.04360118508338928,0.08945788443088531,-0.006389324553310871,-0.024414462968707085,-0.04020746052265167,0.0531989261507988,-0.0212646946310997,-0.008128131739795208,0.0429869070649147,-0.028524212539196014,0.0004133069596718997,-0.025037365034222603,-0.010670424439013004,-0.013490124605596066,-0.045252151787281036,0.008624255657196045,0.033822014927864075,-0.05013488978147507,-0.02734266221523285,0.060979243367910385,-0.04466339945793152,-0.02471841499209404,0.0000024324713194801006,-0.005382983013987541,-0.0437716506421566,0.016364455223083496,-0.009602340869605541,-0.03418184816837311,-0.02676616795361042,-0.009231703355908394,-0.020234528928995132,-0.005525908898562193,0.007848558016121387,-0.11064329743385315,-0.046620894223451614,-0.007810830604285002,0.012686371803283691,-0.007268932648003101,0.016088390722870827,0.002393223810940981,0.020957591012120247,0.04293128103017807,0.017490725964307785,0.06228690966963768,-0.0007315838010981679,-0.035727303475141525,0.016024505719542503,0.025879858061671257,0.021766915917396545,-0.017919054254889488,0.008855168707668781,-0.04225899651646614,0.03361431881785393,0.04995743930339813,0.08275564759969711,0.041701849550008774,0.05405882000923157,0.03155988082289696,0.13296552002429962,-0.006040448788553476,-0.007044787053018808,-0.02480120025575161,-0.018287036567926407,-0.05089527368545532,0.021345695480704308,-0.022036246955394745,-0.022872043773531914,-0.010464266873896122,0.012625050731003284,0.000508133030962199,-0.0169201772660017,-0.03319200873374939,-0.013948054052889347,0.042832475155591965,0.03085298277437687,-0.02641374059021473,-0.04286539554595947,-0.06010403484106064,0.0034034831915050745,-0.03689046576619148,0.0012108806986361742,0.039907291531562805,-0.024067699909210205,0.015268932096660137,-0.004252810031175613,-0.2169029712677002,0.04607440158724785,-0.029293101280927658,0.007129782810807228,0.03961412236094475,-0.0056687286123633385,0.016859145835042,0.04485591873526573,0.018696650862693787,0.0011477450607344508,-0.024978801608085632,0.0221891887485981,-0.022617943584918976,0.005902367178350687,-0.03779471665620804,0.028720149770379066,0.05704246088862419,-0.04627391695976257,0.056004561483860016,0.009092657826840878,-0.03734596073627472,-0.015358681790530682,0.020881034433841705,0.016381433233618736,-0.03191935271024704,-0.02277465909719467,-0.008787283673882484,0.02466508373618126,0.012194874696433544,-0.012634020298719406,-0.08623312413692474,0.008626986294984818,0.01490151509642601,0.004987618885934353,-0.015515785664319992,0.01631101779639721,0.00170528469607234,-0.018804049119353294,0.008069153875112534,0.03338555991649628,0.009652071632444859,-0.046478208154439926,0.007115831598639488,0.002492564031854272,0.010179099626839161,0.05943679437041283,0.06030167639255524,-0.011225405149161816,0.02694728970527649,-0.0028424474876374006,-0.06947401911020279,-0.022474713623523712,0.011831979267299175,0.07940997928380966,0.001572366920299828,-0.06934480369091034,0.0008952692151069641,-0.009644021280109882,0.01058058999478817,0.046722106635570526,0.004382415674626827,0.04155217856168747,-0.03864631429314613,0.031276654452085495,0.025908738374710083,0.02753591164946556,0.037699513137340546,-0.02109268493950367,0.057424526661634445,-0.0704464390873909,-0.03049406222999096,-0.018291478976607323,0.016793159767985344,0.022756952792406082,-0.03854957967996597,-0.01269564963877201,0.005262065213173628,0.017269205302000046,-0.03929300233721733,0.053487591445446014,0.012747284956276417,-0.0240873284637928,0.026924695819616318,-0.008300960063934326,-0.05805091932415962,0.01939660869538784,-0.009779175743460655,0.032094165682792664,-0.01390155404806137,-0.008296679705381393,0.03142550215125084,0.000337937701260671,0.04892091080546379,0.007998320274055004,-0.0062496415339410305,-0.05140354856848717,-0.016876494511961937,0.01023339293897152,0.005069307051599026,-0.04246118292212486,0.026548264548182487,0.042156003415584564,0.039877887815237045,0.00037212070310488343,-0.022206800058484077,0.022142281755805016,0.020576078444719315,-0.012358066625893116,0.006106925662606955,-0.09207595884799957,-0.008080190978944302,-0.01921851374208927,0.0388120673596859,-0.06722994148731232,-0.017800521105527878,-0.010662014596164227,0.016888128593564034,0.024797746911644936,0.006463130936026573,0.020241836085915565,0.042927954345941544,-0.06226314231753349,-0.014327555894851685,-0.01985228806734085,-0.032128192484378815,0.055265989154577255,-0.0008071961929090321,0.07684525102376938,-0.0008739016484469175,-0.0028319538105279207,-0.0171965379267931,0.0190088152885437,-0.013287331908941269,-0.006110571324825287,-0.016896387562155724,0.0023447098210453987,0.027692584320902824,0.060639388859272,-0.020492808893322945,-0.013846991583704948,0.07107149064540863,-0.003821544349193573,0.061815451830625534,-0.011733490973711014,-0.042986419051885605,-0.025041308254003525,-0.006637905724346638,-0.06209108605980873,-0.029655786231160164,0.009559710510075092,0.03899313136935234,0.0012416878016665578,-0.011321702040731907,0.005465866066515446,0.005761393811553717,0.035775747150182724,-0.039299238473176956,-0.03159043937921524,-0.06454558670520782,-0.021272514015436172,0.0068345703184604645,-0.018387123942375183,0.03350735828280449,0.06029164791107178,0.043007418513298035,-0.008056163787841797,-0.019114680588245392,0.026723729446530342,-0.048829931765794754,0.013877383433282375,-0.04014065861701965,-0.013088357634842396,0.0030940340366214514,0.014513825997710228,0.06258255243301392,0.032087039202451706,0.0008778165210969746,0.03177911043167114,0.015352018177509308,-0.05833045765757561,0.03599609434604645,0.01766466163098812,-0.028040064498782158,0.0019906277302652597,-0.04213991016149521,0.03999942168593407,-0.004019651096314192,-0.04851369559764862,0.02279401384294033,-0.0269197765737772,-0.03632384538650513,-0.00432749604806304,-0.0252897497266531,0.008719474077224731,0.016589513048529625,-0.0034940578043460846,0.01668628491461277,-0.005231914576143026,0.007622337434440851,0.054869331419467926,0.04267966374754906,-0.019022179767489433,0.020477615296840668,-0.010567620396614075,0.025499118492007256,-0.04235904663801193,-0.010842837393283844,0.031171241775155067,0.052114229649305344,-0.017807193100452423,0.03463546559214592,0.026677381247282028,0.03795432299375534,-0.04358229041099548,0.055284928530454636,-0.012200982309877872,-0.029849253594875336,0.023428019136190414,0.0327288843691349,0.0485631488263607,0.0158119797706604,-0.010615916922688484,0.050910722464323044,-0.013407791033387184,0.012092502787709236,0.017050569877028465,-0.02197965234518051,-0.03421400114893913,0.039422810077667236,0.06465639919042587,-0.023016657680273056,-0.0020644774194806814,-0.015074608847498894,-0.009333978407084942,0.019912445917725563,-0.020551972091197968,0.022034401074051857,0.015943493694067,-0.028239000588655472,-0.003641183953732252,-0.00774792255833745,0.03268888220191002,-0.0017961609410122037,-0.004291973076760769,-0.025229813531041145,0.006500250194221735,0.020479869097471237,0.010201569646596909,0.006457146257162094,-0.016456056386232376,0.0256605613976717,-0.08409570902585983,0.026131927967071533,0.019689874723553658,0.026159634813666344,0.005693439394235611,0.015482177957892418,0.007708306889981031,0.021748274564743042,-0.02272074855864048,-0.00721990130841732,-0.03352198749780655,-0.03601730242371559,0.026061147451400757,0.042595602571964264,-0.0153699591755867,-0.022504249587655067,-0.0188895296305418,0.011748607270419598,0.02199803665280342,-0.011974004097282887,-0.02732844091951847,-0.0136925233528018,-0.04808817431330681,-0.012858801521360874,0.005277211777865887,0.0019078620243817568,-0.050371985882520676,-0.03159916773438454,0.044300928711891174,0.032596129924058914,0.002380106598138809,0.013411801308393478,0.02587788552045822,-0.029395001009106636,0.06768451631069183,0.01676952838897705,0.028047537431120872,-0.009649736806750298,0.0080353869125247,0.02167278341948986,-0.02872132882475853,-0.06863448023796082,-0.01072181761264801,0.019304249435663223,-0.06154518947005272,-0.03971821069717407,0.020357701927423477,0.05495322868227959,0.00643900316208601,0.034873466938734055,0.07741858810186386,0.021036114543676376,-0.027621205896139145,0.1334073841571808,0.002399587072432041,0.009599851444363594,0.037136781960725784,-0.023862188681960106,0.04295927286148071,0.019206037744879723,0.03660175949335098,-0.0038612489588558674,-0.038311995565891266,0.029454266652464867,-0.040060464292764664,-0.03943091630935669,-0.04005545377731323,-0.043972957879304886,0.010966242291033268,-0.06716162711381912,0.04217001423239708,0.056872088462114334,-0.01571323163807392,0.003717486746609211,0.027047431096434593,0.003859782824292779,0.05614472180604935,-0.03847729042172432,-0.054174114018678665,-0.03946306183934212,-0.019684704020619392,0.017887011170387268,-0.03388452157378197,0.015173288993537426,-0.00722843362018466,0.05376536026597023,-0.04396664351224899,0.0009333432535640895,0.022226795554161072,0.003563022008165717,0.07721412181854248,0.0021828687749803066,-0.015651708468794823,-0.0023066592402756214,0.058886345475912094,0.04343607276678085,-0.013110911473631859,-0.005184509325772524,-0.02843012660741806,0.05040719732642174,0.010877900756895542,-0.002666021231561899,-0.014047952368855476,-0.027297429740428925,-0.07122127711772919,0.04185786470770836,-0.0067505319602787495,-0.04466358572244644,-0.036627646535634995,0.08777651935815811,-0.014784875325858593,0.02806786447763443,0.023483626544475555,0.014660562388598919,-0.04639274999499321,-0.002127676038071513,-0.023817982524633408,-0.09487934410572052,-0.0104053420946002,-0.09052542597055435,-0.015761496499180794,-0.015619855374097824,0.020450910553336143,-0.014497742988169193,-0.026445113122463226,-0.004007827024906874,0.022340329363942146,0.042855653911828995,0.004223876167088747,0.02444322220981121,-0.026038529351353645,-0.009700250811874866,0.07531985640525818,-0.012448189780116081,-0.03494918346405029,-0.03259813413023949,0.02693173661828041,-0.0006253350875340402,-0.015646930783987045,-0.004335341509431601,0.029047753661870956,-0.011200751177966595,-0.06908336281776428,-0.0013175293570384383,-0.016133110970258713,0.09325812757015228,0.019116565585136414,0.006894380319863558,0.03178930655121803,0.022241804748773575,-0.07527291029691696,-0.03647024929523468,0.011523458175361156,-0.041406407952308655,-0.019493723288178444,0.013864736072719097,0.04172452166676521,0.0053994073532521725,-0.03684070333838463,0.05839871987700462,0.01551098469644785,-0.01570630818605423,-0.030691975727677345,-0.03326686471700668,0.03907741233706474,0.061841242015361786,-0.02268114872276783,0.049024760723114014,-0.0043170396238565445,0.03775722160935402,0.04541265591979027,-0.001726162270642817,0.018028272315859795,-0.018081026151776314,-0.004816455766558647,0.008434317074716091,-0.004372307099401951,0.018071619793772697,0.018082819879055023,-0.00741631630808115,0.0566304475069046,0.003405403345823288,0.085918128490448,0.010699653066694736,-0.0035744099877774715,-0.0013000824255868793,-0.025768844410777092,0.018897907808423042,0.029255196452140808,0.001500653219409287,0.020434288308024406,-0.03193084895610809,-0.08720152080059052,0.007420928683131933,0.02019135281443596,-0.0275126826018095,0.012350154109299183,-0.03820059821009636,0.0029664866160601377,-0.056537702679634094,0.04404887557029724,-0.01622522436082363,0.029796408489346504,0.014593269675970078,0.015798132866621017,-0.0519816018640995,0.010276947170495987,-6.620192431315145e-33,-0.02417496219277382,0.002131015993654728,-0.020282559096813202,-0.015050959773361683,-0.01614958420395851,-0.03557780012488365,-0.06307688355445862,-0.024400165304541588,0.005610070191323757,-0.012107322923839092,-0.01545254047960043,-0.051885705441236496,-0.014924616552889347,0.04062092304229736,-0.023750772699713707,-0.00912786927074194,0.020181290805339813,0.010650238022208214,-0.014435350894927979,0.04587841033935547,-0.0002930524933617562,0.010694547556340694,0.02821214869618416,0.013542002066969872,-0.021166088059544563,-0.05693172290921211,-0.008584106341004372,0.0014756711898371577,-0.102643221616745,0.04336365684866905,-0.004731294233351946,-0.02181920036673546,-0.010875302366912365,-0.05624356493353844,0.029871022328734398,-0.008688648231327534,-0.06601662188768387,0.0007223180145956576,0.0131768137216568,0.009108437225222588,0.07387391477823257,-0.02320660464465618,-0.028674345463514328,-0.0024129801895469427,0.018666964024305344,-0.024313006550073624,0.0002749841660261154,0.02804294042289257,-0.04243325814604759,-0.11366154253482819,-0.00841476209461689,0.007899191230535507,-0.020259391516447067,0.04287025332450867,-0.007953374646604061,-0.05732034519314766,0.06592773646116257,0.03669343888759613,-0.04505909979343414,-0.04377197101712227,-0.004595259670168161,-0.018137382343411446,0.0003741088730748743,0.05190994590520859,0.055250126868486404,0.0031195501796901226,-0.013217794708907604,0.06719423830509186,-0.061978377401828766,0.022193582728505135,0.005968326702713966,-0.08268807828426361,-0.017811991274356842,0.004055918660014868,0.037642065435647964,0.048642612993717194,-0.04976500943303108,0.007382961455732584,-0.11314010620117188,0.06255783140659332,0.005441533867269754,0.0561232790350914,0.004501708317548037,0.011020456440746784,-0.043709930032491684,-0.013485855422914028,0.04724138230085373,-0.012631813995540142,-0.022611260414123535,-0.05520294979214668,-0.03589927777647972,-0.002589444164186716,-0.003507421351969242,0.030285242944955826,-0.06459854543209076,-0.01534934900701046,-0.001746547524817288,0.025621553882956505,-0.047178011387586594,0.005310610868036747,0.04225429147481918,-0.040553461760282516,-0.014905616641044617,0.012458236888051033,0.010209234431385994,0.007574550807476044,0.01856439746916294,-0.02448871359229088,-0.06927760690450668,0.02130693756043911,0.018608884885907173,0.02401808649301529,-0.04786866530776024,-0.004743543453514576,0.010019335895776749,0.0013105019461363554,0.009400015696883202,-0.047998540103435516,0.039535894989967346,0.036886051297187805,0.01626674085855484,0.02373659424483776,0.030884284526109695,0.054944492876529694,0.029485566541552544,-0.0028207891155034304,-0.0426371768116951,-0.054290127009153366,0.05879983305931091,0.023177586495876312,0.018482772633433342,0.010367818176746368,3.0675849416184064e-7,0.013350524008274078,-0.013985399156808853,0.000056096632761182263,-0.028702247887849808,0.013761073350906372,0.06233128532767296,0.004044884350150824,-0.07704750448465347,-0.02394724078476429,-0.08313275128602982,-0.014459917321801186,-0.02231290563941002,0.040511906147003174,0.01033917348831892,-0.0169913899153471,0.00804283656179905,-0.019015848636627197,0.010598564520478249,-0.02806943655014038,0.022179679945111275,-0.04988008737564087,-0.016972070559859276,0.04482734203338623,0.004704549442976713,0.023759767413139343,0.09004189074039459,0.012277643196284771,-0.005760591942816973,0.05926837399601936,-0.007944677956402302,0.03056955523788929,-0.05472123622894287,-0.02348145842552185,0.013113985769450665,0.03169158473610878,-0.01514329481869936,-0.0015729903243482113,0.07583071291446686,0.012385062873363495,0.0885186418890953,0.05616305395960808,-0.03598204627633095,-0.018105141818523407,-0.02430790476500988,0.023461075499653816,0.003028502920642495,-0.0914464220404625,0.03766394034028053,-0.09567485749721527,0.016303684562444687,-0.030944138765335083,-0.013278874568641186,-0.02511332556605339,-0.03737996146082878,-0.003521222621202469,-0.04469671845436096,0.0017904143314808607,0.04175809398293495,0.012012357823550701,0.031798865646123886,-0.0383375808596611,0.002881887136027217,0.003082425333559513,0.04313260689377785,0.0639355406165123,-0.06556687504053116,-0.0353078693151474,4.118928072683968e-34,-0.023977184668183327,-0.03926486149430275,0.007191073149442673,0.07589902728796005,-0.005295365117490292,-0.035941027104854584,0.023884696885943413,-0.036071788519620895,0.011681709438562393,-0.028382722288370132,-0.029543574899435043]'
SET
  @HasCustomProps_a151277e = 1
SET
  @HasCustomEvents_a151277e = 1
SET
  @RequiresData_a151277e = 1
SET
  @DependencyCount_a151277e = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_a151277e = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_a151277e = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_a151277e = 1
SET
  @ID_a151277e = '6DABEEC4-803B-4149-9DC4-5A1201AC1EF9'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_a151277e,
  @Name = @Name_a151277e,
  @Version = @Version_a151277e,
  @VersionSequence = @VersionSequence_a151277e,
  @Title = @Title_a151277e,
  @Description = @Description_a151277e,
  @Type = @Type_a151277e,
  @Status = @Status_a151277e,
  @DeveloperName = @DeveloperName_a151277e,
  @DeveloperEmail = @DeveloperEmail_a151277e,
  @DeveloperOrganization = @DeveloperOrganization_a151277e,
  @SourceRegistryID = @SourceRegistryID_a151277e,
  @ReplicatedAt = @ReplicatedAt_a151277e,
  @LastSyncedAt = @LastSyncedAt_a151277e,
  @Specification = @Specification_a151277e,
  @FunctionalRequirements = @FunctionalRequirements_a151277e,
  @TechnicalDesign = @TechnicalDesign_a151277e,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_a151277e,
  @TechnicalDesignVector = @TechnicalDesignVector_a151277e,
  @HasCustomProps = @HasCustomProps_a151277e,
  @HasCustomEvents = @HasCustomEvents_a151277e,
  @RequiresData = @RequiresData_a151277e,
  @DependencyCount = @DependencyCount_a151277e,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_a151277e,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_a151277e,
  @HasRequiredCustomProps = @HasRequiredCustomProps_a151277e,
  @ID = @ID_a151277e;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_9f0ec59b NVARCHAR(MAX),
@Name_9f0ec59b NVARCHAR(500),
@Version_9f0ec59b NVARCHAR(50),
@VersionSequence_9f0ec59b INT,
@Title_9f0ec59b NVARCHAR(1000),
@Description_9f0ec59b NVARCHAR(MAX),
@Type_9f0ec59b NVARCHAR(255),
@Status_9f0ec59b NVARCHAR(50),
@DeveloperName_9f0ec59b NVARCHAR(255),
@DeveloperEmail_9f0ec59b NVARCHAR(255),
@DeveloperOrganization_9f0ec59b NVARCHAR(255),
@SourceRegistryID_9f0ec59b UNIQUEIDENTIFIER,
@ReplicatedAt_9f0ec59b DATETIMEOFFSET,
@LastSyncedAt_9f0ec59b DATETIMEOFFSET,
@Specification_9f0ec59b NVARCHAR(MAX),
@FunctionalRequirements_9f0ec59b NVARCHAR(MAX),
@TechnicalDesign_9f0ec59b NVARCHAR(MAX),
@FunctionalRequirementsVector_9f0ec59b NVARCHAR(MAX),
@TechnicalDesignVector_9f0ec59b NVARCHAR(MAX),
@HasCustomProps_9f0ec59b BIT,
@HasCustomEvents_9f0ec59b BIT,
@RequiresData_9f0ec59b BIT,
@DependencyCount_9f0ec59b INT,
@TechnicalDesignVectorEmbeddingModelID_9f0ec59b NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_9f0ec59b NVARCHAR(MAX),
@HasRequiredCustomProps_9f0ec59b BIT,
@ID_9f0ec59b UNIQUEIDENTIFIER
SET
  @Namespace_9f0ec59b = N'CRM/Reports'
SET
  @Name_9f0ec59b = N'MonthlyInvoiceRevenueChart'
SET
  @Version_9f0ec59b = N'1.0.0'
SET
  @VersionSequence_9f0ec59b = 1
SET
  @Title_9f0ec59b = N'Monthly Invoice Revenue Chart'
SET
  @Description_9f0ec59b = N'Displays monthly invoice revenue with drill-down to individual invoices. Demonstrates the CORRECT pattern for chart with drill-down: loading detail records, adding computed time period field, and enabling drill-down to see individual invoices for each month.'
SET
  @Type_9f0ec59b = N'Chart'
SET
  @Status_9f0ec59b = N'Published'
SET
  @Specification_9f0ec59b = N'{"name":"MonthlyInvoiceRevenueChart","title":"Monthly Invoice Revenue Chart","description":"Displays monthly invoice revenue with drill-down to individual invoices. Demonstrates the CORRECT pattern for chart with drill-down: loading detail records, adding computed time period field, and enabling drill-down to see individual invoices for each month.","type":"chart","location":"embedded","functionalRequirements":"Shows total invoice revenue aggregated by month. Users can click any month''s bar to see all invoices for that period in a data grid below. Demonstrates proper use of detail records with computed grouping fields for time-based aggregation.","technicalDesign":"Loads all invoices for current year via RunView. Adds computed Month and MonthName fields to each invoice record. Passes detail records to SimpleDrilldownChart which performs client-side aggregation by month and sums TotalAmount. Uses bar chart for time series. Grid shows invoice details with standard invoice fields.","dataRequirements":{"mode":"props","description":"Loads Invoice entity records via RunView, filters to current year"},"properties":[{"name":"year","type":"number","description":"Year to display revenue for (defaults to current year)","required":false,"defaultValue":"new Date().getFullYear()"}],"events":[],"dependencies":[{"name":"SimpleDrilldownChart","namespace":"Generic/UI/Chart","location":"registry","version":"1.0.0","description":"Chart with drill-down capability"}],"code":"function MonthlyInvoiceRevenueChart({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings,\n  year\n}) {\n  const { SimpleDrilldownChart } = components;\n  const [invoiceData, setInvoiceData] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n\n  const selectedYear = year || new Date().getFullYear();\n\n  React.useEffect(() => {\n    const loadInvoices = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        const result = await utilities.rv.RunView({\n          EntityName: ''Invoices'',\n          ExtraFilter: `YEAR(InvoiceDate) = $' + '{selectedYear}`\n        });\n\n        if (!result.Success) {\n          setError(result.ErrorMessage || ''Failed to load invoices'');\n          setInvoiceData([]);\n          return;\n        }\n\n        // Add computed Month fields to each invoice for grouping\n        const invoicesWithMonth = (result.Results || []).map(invoice => {\n          const invoiceDate = new Date(invoice.InvoiceDate);\n          return {\n            ...invoice,\n            Month: invoiceDate.getMonth() + 1, // 1-12\n            MonthName: invoiceDate.toLocaleString(''default'', { month: ''short'' }),\n            MonthYear: `$' + '{invoiceDate.toLocaleString(''default'', { month: ''short'' })} $' + '{invoiceDate.getFullYear()}`\n          };\n        });\n\n        setInvoiceData(invoicesWithMonth);\n      } catch (err) {\n        console.error(''Error loading invoices:'', err);\n        setError(err.message || ''Unknown error occurred'');\n        setInvoiceData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadInvoices();\n  }, [selectedYear, utilities?.refresh]);\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'', color: ''#666'' }}>\n        Loading invoice data...\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{\n        padding: ''20px'',\n        backgroundColor: ''#fff2f0'',\n        border: ''1px solid #ffccc7'',\n        borderRadius: ''4px'',\n        color: ''#cf1322''\n      }}>\n        <strong>Error:</strong> {error}\n      </div>\n    );\n  }\n\n  if (invoiceData.length === 0) {\n    return (\n      <div style={{\n        padding: ''40px'',\n        textAlign: ''center'',\n        backgroundColor: ''#fafafa'',\n        border: ''1px solid #d9d9d9'',\n        borderRadius: ''4px'',\n        color: ''#666''\n      }}>\n        No invoices found for {selectedYear}\n      </div>\n    );\n  }\n\n  return (\n    <SimpleDrilldownChart\n      entityName=\"Invoices\"\n      data={invoiceData}\n      groupBy=\"Month\"\n      valueField=\"TotalAmount\"\n      aggregateMethod=\"sum\"\n      chartType=\"bar\"\n      title={`Monthly Invoice Revenue - $' + '{selectedYear}`}\n      gridFields={[\n        ''InvoiceNumber'',\n        ''InvoiceDate'',\n        ''Account'',\n        ''Status'',\n        ''TotalAmount'',\n        ''BalanceDue''\n      ]}\n      entityPrimaryKeys={[''ID'']}\n      showDrilldown={true}\n      drilldownHeight={400}\n      showSingleRecordView={false}\n      utilities={utilities}\n      styles={styles}\n      components={components}\n      callbacks={callbacks}\n      savedUserSettings={savedUserSettings}\n      onSaveUserSettings={onSaveUserSettings}\n    />\n  );\n}\n","exampleUsage":"<MonthlyInvoiceRevenueChart year={2025} />"}'
SET
  @FunctionalRequirements_9f0ec59b = N'Shows total invoice revenue aggregated by month. Users can click any month''s bar to see all invoices for that period in a data grid below. Demonstrates proper use of detail records with computed grouping fields for time-based aggregation.'
SET
  @TechnicalDesign_9f0ec59b = N'Loads all invoices for current year via RunView. Adds computed Month and MonthName fields to each invoice record. Passes detail records to SimpleDrilldownChart which performs client-side aggregation by month and sums TotalAmount. Uses bar chart for time series. Grid shows invoice details with standard invoice fields.'
SET
  @FunctionalRequirementsVector_9f0ec59b = N'[-0.04373304918408394,0.08115773648023605,0.0015606781234964728,0.0018939411966130137,-0.036583367735147476,0.05181654170155525,0.04928614944219589,0.04699772968888283,-0.048851922154426575,0.03725390136241913,-0.047227248549461365,0.015078079886734486,0.049330782145261765,0.043743010610342026,0.025718698278069496,-0.04222019389271736,-0.015212302096188068,0.029541198164224625,-0.013504235073924065,0.019862446933984756,0.019858837127685547,-0.008091505616903305,-0.02643955498933792,-0.022417917847633362,-0.023249726742506027,-0.014950926415622234,-0.018192946910858154,0.01932264305651188,0.00034368567867204547,-0.07309172302484512,0.0034894731361418962,0.007860546000301838,-0.00013614392082672566,0.007845724001526833,0.0000016973383480944904,0.02428481914103031,-0.043826665729284286,0.026648428291082382,-0.02795424312353134,0.11839380860328674,-0.020598918199539185,-0.06327008455991745,0.008375723846256733,0.00022761545551475137,0.031096508726477623,0.030827121809124947,-0.03607933595776558,0.03784726560115814,0.033397700637578964,-0.03448520973324776,-0.013121449388563633,-0.02537052147090435,-0.04391109198331833,-0.012230309657752514,-0.044322263449430466,-0.04327353462576866,-0.022841796278953552,0.028113629668951035,0.01646607741713524,-0.08112337440252304,-0.02549578994512558,0.03301764652132988,0.004678815137594938,-0.0076061878353357315,0.03974545747041702,0.062481433153152466,0.06016773730516434,0.024125684052705765,-0.03526410087943077,-0.029418805614113808,0.017285332083702087,0.007386259734630585,0.00018043503223452717,-0.02860519476234913,-0.009323982521891594,-0.01940123364329338,-0.06822750717401505,-0.026351971551775932,-0.010641184635460377,0.013816321268677711,-0.05662287026643753,0.081977479159832,-0.028098400682210922,0.048612676560878754,-0.01173075195401907,-0.030023185536265373,-0.010947602801024914,0.008525758981704712,-0.022524161264300346,-0.019268475472927094,0.0006791079649701715,0.030889946967363358,-0.04104607552289963,0.04231468588113785,-0.029378483071923256,0.02290569618344307,0.02879355475306511,-0.011190623044967651,0.031361911445856094,0.01722409389913082,0.02972865104675293,0.04518665745854378,-0.00592603487893939,0.0329241082072258,0.04876380041241646,-0.0006672182935290039,-0.07951249182224274,-0.03289879485964775,0.011886563152074814,-0.03283117711544037,0.04505571722984314,-0.01824975199997425,0.0029904842376708984,0.016768325120210648,-0.005844251252710819,0.016994401812553406,-0.023812241852283478,-0.018794460222125053,-0.04806085675954819,-0.01224795076996088,0.08312872052192688,0.02005639672279358,0.0229937881231308,-0.003028770675882697,0.03943384811282158,-0.019741598516702652,-0.03649509698152542,-0.022238710895180702,0.03163225203752518,-0.031785473227500916,-0.01888222061097622,-0.006605247966945171,-0.0019994487520307302,0.015742313116788864,0.026073571294546127,-0.03867538273334503,-0.007705645635724068,0.054845452308654785,-0.04298468679189682,-0.004415111616253853,0.022910213097929955,-0.010095019824802876,-0.024846112355589867,0.013983682729303837,0.05170789361000061,0.006381655111908913,-0.03312237188220024,0.06303468346595764,0.004030641634017229,0.013615971431136131,0.019566237926483154,0.018642719835042953,0.002829809207469225,0.01719045080244541,0.036961477249860764,-0.026739293709397316,0.06392738968133926,-0.005318750161677599,0.01353168673813343,-0.02548665553331375,-0.017752747982740402,0.006959030870348215,0.020451875403523445,0.008418534882366657,0.013770317658782005,0.03361498564481735,-0.139546737074852,0.046619635075330734,-0.08014468103647232,-0.0466989167034626,-0.08561082184314728,-0.019226595759391785,-0.02423796057701111,0.024019183591008186,0.008444970473647118,-0.030902372673153877,0.0022561196237802505,-0.057411838322877884,-0.03919127956032753,-0.03174939379096031,0.03600245341658592,-0.09466274082660675,0.03517825901508331,0.05331015959382057,0.05772029608488083,-0.021554935723543167,-0.010131892748177052,-0.024776531383395195,-0.022660544142127037,-0.022406382486224174,-0.02097254991531372,0.025275129824876785,-0.06098039448261261,0.09122421592473984,0.006931142415851355,0.03773452341556549,0.00921985786408186,-0.06034199893474579,0.05588150769472122,0.030040612444281578,-0.00035271947854198515,-0.029371948912739754,0.03545825928449631,0.012254958972334862,0.04266061261296272,0.01599377952516079,0.01505193393677473,-0.025665132328867912,-0.014092843979597092,0.002792977262288332,-0.039710260927677155,-0.03045663982629776,-0.021476922556757927,-0.0015968478983268142,-0.004321209155023098,0.06063591688871384,0.029476899653673172,0.023178717121481895,0.011150579899549484,-0.040318433195352554,-0.008793318644165993,-0.005362068302929401,-0.004924416076391935,0.018846044316887856,0.09537088871002197,0.013749969191849232,0.014438943937420845,0.02539372444152832,0.06124178320169449,-0.002415503142401576,-0.027064111083745956,0.01474361214786768,0.055518604815006256,0.029189102351665497,0.05196812003850937,0.03992891684174538,0.04637172818183899,0.025634024292230606,-0.02246461808681488,0.0038335167337208986,0.02355598285794258,-0.0946274921298027,-0.003659556619822979,-0.021579798310995102,0.008160021156072617,-0.07742437720298767,-0.019687470048666,-0.03525301441550255,-0.009286760352551937,-0.000027942369342781603,0.0048583499155938625,-0.026012135669589043,0.03907120227813721,-0.029520904645323753,-0.026222996413707733,0.006252593360841274,-0.005532392300665379,0.005664664786309004,-0.0028679922688752413,0.08819612115621567,0.0186985582113266,0.0022252993658185005,-0.011066316626966,-0.028015173971652985,-0.030882008373737335,0.0015445183962583542,0.020100068300962448,-0.016181327402591705,-0.005286198575049639,0.014830117113888264,-0.02526276558637619,0.021932635456323624,0.0074685425497591496,-0.0024370085448026657,-0.043011508882045746,0.010932400822639465,-0.067320816218853,0.06653423607349396,-0.006574707571417093,-0.005233517847955227,-0.002103412989526987,0.0011289330432191491,0.028073137626051903,0.03729637712240219,0.015462854877114296,-0.024527210742235184,0.03347960114479065,-0.1015743836760521,-0.004514304921030998,-0.10132253170013428,-0.03130384162068367,-0.029427774250507355,0.0036800510715693235,0.0033768615685403347,-0.008371352218091488,0.045290105044841766,0.014592204242944717,0.054992154240608215,0.006049728486686945,0.023840567097067833,-0.02359577640891075,-0.009258194826543331,-0.043155089020729065,0.006232265383005142,-0.01569940149784088,0.061834707856178284,0.06357478350400925,0.0318574421107769,0.01639348454773426,0.04884734004735947,0.019122296944260597,0.010136055760085583,0.02390006184577942,0.002027412410825491,0.019069548696279526,0.018578937277197838,0.008233687840402126,0.04659809544682503,-0.03609757125377655,0.058412473648786545,-0.003319783369079232,-0.03324462100863457,-0.03098500706255436,0.02749962918460369,-0.06890328973531723,0.04748696833848953,-0.05659030005335808,-0.032532159239053726,-0.018859492614865303,0.001630214392207563,-0.00726554449647665,-0.05750453099608421,-0.009303940460085869,0.03836558759212494,0.010737464763224125,0.012548049911856651,0.005787468049675226,0.09994471073150635,0.02302074059844017,-0.009030062705278397,0.03113497607409954,0.025780510157346725,-0.04780830442905426,-0.007308084983378649,0.013318493030965328,0.015933632850646973,-0.029529089108109474,0.038558777421712875,-0.058156535029411316,0.020721497014164925,0.0516645573079586,0.039667509496212006,-0.04398532584309578,-0.026279758661985397,0.002017516642808914,-0.015247349627315998,-0.03798755630850792,-0.04629487544298172,-0.042638879269361496,-0.05831240117549896,-0.030003909021615982,0.002374063478782773,0.0314764603972435,0.02741105481982231,0.060585420578718185,0.0118548683822155,0.015690388157963753,0.004559808410704136,0.076395682990551,0.026888113468885422,-0.06972040981054306,-0.0018790076719596982,-0.010961114428937435,-0.002913544187322259,0.008562762290239334,-0.06890859454870224,0.010017583146691322,0.029096754267811775,-0.0009918144205585122,0.018649112433195114,0.0020208037458360195,0.017932076007127762,0.07816287130117416,-0.013121014460921288,0.03882373124361038,0.00877482071518898,-0.048242513090372086,-0.01727049984037876,-0.00959106720983982,0.05094315856695175,0.011988420970737934,0.00041996088111773133,-0.004330020863562822,-0.05588793009519577,0.011906161904335022,-0.013771927915513515,-0.019967271015048027,0.039047155529260635,0.037462037056684494,-0.031051134690642357,0.00927087850868702,0.054297249764204025,0.012866641394793987,-0.056128017604351044,0.011827941983938217,-0.06619451940059662,0.030964842066168785,0.05481290817260742,-0.04373227059841156,-0.03774860501289368,-0.030985672026872635,-0.03154752403497696,-0.026889314875006676,-0.03789117932319641,0.06906487792730331,0.03981010988354683,0.002051471034064889,-0.009473560377955437,0.029232939705252647,0.037122778594493866,0.045281242579221725,0.0039403606206178665,0.017924509942531586,-0.01926443725824356,0.06200877204537392,-0.008113297633826733,-0.027199290692806244,-0.017095180228352547,-0.02250775508582592,0.019723428413271904,0.028883541002869606,0.012714194133877754,0.011414566077291965,0.05165304243564606,-0.045121513307094574,0.07758884876966476,0.0053237248212099075,-0.03078228048980236,-0.04314423352479935,-0.006642542313784361,-0.03151017427444458,-0.0020829271525144577,0.057936035096645355,-0.01824416033923626,-0.024272164329886436,0.008007482625544071,-0.023338910192251205,-0.01107625849545002,-0.09046908468008041,-0.013663711957633495,0.002329434733837843,-0.042476098984479904,-0.01656108908355236,0.0012137818848714232,-0.04298073798418045,-0.044689539819955826,-0.03063967451453209,-0.0534205287694931,-0.016885560005903244,-0.016574639827013016,-0.02861485816538334,0.011071340180933475,-0.00015284887922462076,0.009711029939353466,0.08639021217823029,0.0270766019821167,-0.005425144452601671,-0.015910862013697624,-0.0504683256149292,-0.07275903224945068,0.05643381550908089,-0.019019441679120064,-0.01914815604686737,-0.03516223281621933,0.008175638504326344,0.041989512741565704,-0.01908493973314762,-0.030272578820586205,-0.028724834322929382,-0.0038632808718830347,-0.03876860812306404,-0.006717693991959095,0.017453789710998535,-0.0030958447605371475,0.0062749311327934265,0.01225283183157444,-0.016516877338290215,-0.00152589229401201,-0.02508261613547802,-0.057320937514305115,0.048968199640512466,-0.029300209134817123,-0.0425858274102211,0.13271573185920715,0.02844194509088993,0.022687168791890144,0.009413372725248337,-0.0461040735244751,-0.08042283356189728,-0.032163482159376144,-0.06393268704414368,0.015025184489786625,0.00916330236941576,-0.013617397285997868,-0.03788251057267189,0.004451054614037275,0.08081462234258652,-0.011591983959078789,-0.0019124989630654454,0.015586896799504757,-0.007940482348203659,-0.02869425341486931,-0.009909759275615215,-0.00636280095204711,0.051814932376146317,-0.019835365936160088,-0.017089052125811577,-0.018690962344408035,0.024648359045386314,-0.0065543618984520435,-0.00938937347382307,0.013338444754481316,0.05922958627343178,-0.011179243214428425,0.051518794149160385,-0.03720397874712944,0.022301960736513138,-0.014284051023423672,-0.04287124052643776,0.0668426901102066,-0.00025140726938843727,-0.0014322991482913494,-0.004067236091941595,0.008933112025260925,-0.022366125136613846,0.001306115067563951,0.0060950955376029015,-0.06024263799190521,-0.0027725782711058855,0.04333498328924179,0.026760820299386978,0.013199001550674438,-0.008222815580666065,-0.032037153840065,-0.01541151199489832,-0.04312003031373024,-0.011154900304973125,-0.006644214037805796,-0.03365910425782204,0.019509123638272285,0.020679397508502007,-0.01502952165901661,-0.012746111489832401,-0.027145173400640488,-0.07521144300699234,-6.011745902411975e-33,-0.015207504853606224,-0.033640407025814056,-0.04101371020078659,0.02186950482428074,0.023333963006734848,-0.008239200338721275,0.048254091292619705,-0.05792086571455002,0.02849769778549671,-0.029850950464606285,-0.04752902314066887,0.017437441274523735,0.02843100018799305,-0.012497595511376858,0.059688501060009,0.017967551946640015,0.027009405195713043,-0.021141134202480316,0.010398203507065773,0.016117306426167488,-0.05555703863501549,0.02768334560096264,0.05282086879014969,-0.06834950298070908,-0.009861829690635204,-0.008654281497001648,-0.011033180169761181,0.03895214572548866,-0.026582524180412292,-0.01608714833855629,0.05547250062227249,-0.09084661304950714,0.004900121130049229,0.001712379278615117,-0.008256048895418644,-0.03589408099651337,-0.0507858507335186,0.027978159487247467,0.0012199027696624398,0.015099751763045788,0.017450837418437004,0.024611175060272217,0.028459368273615837,-0.016516419127583504,-0.001871409360319376,-0.038658786565065384,-0.002845529466867447,-0.0009661042131483555,0.019707992672920227,-0.05121155455708504,-0.00557547714561224,0.02017064206302166,-0.00364960846491158,0.020742423832416534,0.010571843013167381,0.00754541764035821,-0.0010699402773752809,0.0655139684677124,-0.0727570652961731,-0.04208400100469589,0.017683204263448715,-0.03514134883880615,-0.013856126926839352,0.05535777285695076,0.04689415916800499,-0.0581209771335125,0.01851263828575611,0.04069149121642113,0.005849265959113836,-0.03645613044500351,-0.024252820760011673,0.005836677271872759,0.012249437160789967,-0.053467538207769394,0.08103559911251068,0.014207727275788784,-0.053987547755241394,0.023559970781207085,0.021675290539860725,0.02309880219399929,-0.029708128422498703,0.007446256931871176,-0.015788225457072258,0.032734520733356476,0.08052930980920792,-0.05385923758149147,0.01760442927479744,-0.01082893181592226,0.010600171983242035,0.03643101453781128,0.025504831224679947,0.06093031167984009,-0.03179360553622246,0.03777575120329857,-0.10836736857891083,0.014076005667448044,0.09750311821699142,0.009888535365462303,0.021507158875465393,-0.022827187553048134,-0.03063626028597355,0.04321252182126045,-0.04557580128312111,0.05205579474568367,-0.019487015902996063,-0.00508520845323801,0.1028723418712616,-0.016239343211054802,-0.031205950304865837,0.0411757193505764,0.010514422319829464,0.019674131646752357,0.024139437824487686,0.08975721895694733,0.006883677560836077,-0.005888664163649082,0.006459320895373821,-0.013962640427052975,-0.01623118296265602,-0.04371140897274017,0.01394234225153923,0.034489262849092484,-0.08171258121728897,0.016179947182536125,0.029908334836363792,-0.034027040004730225,-0.011752203106880188,-0.05885212868452072,0.006675306241959333,0.04674931988120079,0.0066084424033761024,0.019555488601326942,2.5247439339182165e-7,0.0071802642196416855,-0.034725211560726166,0.017522038891911507,0.10467742383480072,0.027098821476101875,-0.04273715987801552,-0.02279784344136715,-0.0056804693304002285,-0.0039203534834086895,-0.028622359037399292,0.02012605406343937,-0.021337857469916344,0.05301510915160179,0.045706819742918015,0.033604830503463745,-0.07307951897382736,-0.03500991687178612,-0.055386386811733246,-0.01336043793708086,-0.0025138738565146923,-0.05948890373110771,-0.0028525516390800476,0.055095843970775604,-0.02194621041417122,0.02647555060684681,0.008627735078334808,-0.009134325198829174,-0.03636133670806885,0.008872385136783123,0.03861704841256142,0.03468210995197296,0.027657603845000267,-0.011691429652273655,0.015656720846891403,0.008039121516048908,0.032985836267471313,-0.007762244436889887,-0.051135625690221786,-0.03745657205581665,0.018798435106873512,-0.00044238040572963655,-0.010142880491912365,-0.028502292931079865,-0.04704873263835907,-0.004129920620471239,0.013842671178281307,0.035561852157115936,0.04585902392864227,0.02064197137951851,0.026801100000739098,0.03946737200021744,-0.0012177674798294902,-0.005914332810789347,-0.0162019245326519,0.01365976594388485,-0.03341086581349373,0.0017764536896720529,0.08914858102798462,0.03693889081478119,0.018069347366690636,-0.026499176397919655,0.020885836333036423,-0.008097127079963684,0.021368982270359993,-0.009730824269354343,-0.009205360896885395,-0.016012847423553467,2.2431915074881037e-34,0.007350901607424021,0.013365820050239563,0.028448253870010376,0.060841966420412064,0.00168234936427325,-0.009612509049475193,-0.06863720715045929,-0.015571299009025097,-0.03170766681432724,0.007927577011287212,-0.030246011912822723]'
SET
  @TechnicalDesignVector_9f0ec59b = N'[-0.013171009719371796,0.02137327566742897,0.009187600575387478,-0.010739431716501713,-0.041358549147844315,0.05464637279510498,0.029833320528268814,0.04422902688384056,0.02813628688454628,0.030858077108860016,-0.01805931143462658,0.05120803043246269,0.05803696811199188,0.05223662778735161,-0.018114205449819565,-0.013517540879547596,-0.03137899190187454,0.021668633446097374,0.006611541844904423,-0.0034811245277523994,0.03579359129071236,-0.01730494573712349,-0.016011863946914673,-0.04296836256980896,-0.02559780515730381,-0.032467372715473175,-0.04843353480100632,0.06467791646718979,-0.011741731315851212,-0.08978035300970078,-0.030821824446320534,-0.0010298850247636437,-0.02275223471224308,0.017691439017653465,0.0000016781357317086076,0.0024992977268993855,-0.027144692838191986,0.014180405996739864,-0.031125927343964577,0.10477981716394424,0.018936635926365852,-0.06517332047224045,0.0529295951128006,-0.00486696558073163,0.0431506410241127,0.02505403384566307,-0.02225417084991932,0.04219065606594086,0.0601980984210968,-0.01599637232720852,-0.009172650054097176,-0.003449374111369252,-0.021858185529708862,-0.012918493710458279,-0.08370733261108398,-0.04157466068863869,-0.016369126737117767,0.04455910995602608,0.07702488452196121,-0.029248828068375587,-0.031208094209432602,-0.0021333389449864626,0.013209212571382523,-0.021477077156305313,0.058201633393764496,0.009104629047214985,0.08347561210393906,-0.02327876351773739,-0.009143717586994171,-0.01126535702496767,0.05202766880393028,-0.03588319569826126,-0.01711568608880043,-0.03164076432585716,-0.03564441576600075,0.007268611341714859,-0.045679230242967606,-0.03865650296211243,-0.021270710974931717,-0.006440563593059778,-0.025012515485286713,0.04902590438723564,-0.020339155569672585,0.026118718087673187,0.000008703525054443162,-0.019915439188480377,-0.002084393287077546,-0.0051458668895065784,0.005054328124970198,-0.013909786939620972,0.005950965918600559,-0.018018946051597595,-0.03092273138463497,0.06741701066493988,-0.029675578698515892,-0.005603547673672438,0.008171141147613525,-0.04869341477751732,0.02464449033141136,0.030255071818828583,0.05882389470934868,0.02822871506214142,-0.0011976970126852393,0.017821772024035454,0.05724463239312172,0.027823464944958687,-0.042702510952949524,-0.05254277214407921,-0.018696259707212448,-0.038992367684841156,0.04904753714799881,0.01666734181344509,-0.01094446238130331,0.0015840406995266676,0.00038393487920984626,-0.007033211179077625,0.021115271374583244,-0.021272586658596992,-0.00025391008239239454,-0.03242252767086029,0.08990786969661713,0.03352402150630951,0.0007567103602923453,0.009632204659283161,0.04353303089737892,0.00046128075337037444,-0.018890049308538437,-0.02216881327331066,0.018655970692634583,-0.042808182537555695,-0.02774876542389393,-0.011229614727199078,0.02518647536635399,0.013307043351233006,0.007215745281428099,-0.0805494487285614,-0.0032127585727721453,0.05292768031358719,-0.05606121942400932,-0.03331233561038971,0.03343399614095688,-0.0034286463633179665,-0.035226162523031235,-0.006681234110146761,0.029355397447943687,-0.007739903870970011,-0.02409200370311737,0.07440459728240967,0.020336978137493134,0.02728780172765255,-0.025961821898818016,0.02422659657895565,-0.03021848388016224,0.013787446543574333,0.003411421785131097,-0.021133288741111755,0.060678549110889435,-0.010282712988555431,0.014448245987296104,-0.016304736956954002,-0.018544133752584457,0.034191083163022995,0.024310067296028137,-0.0022675723303109407,-0.00009861310536507517,0.03919294476509094,-0.11659575998783112,0.0027547648642212152,-0.09543222188949585,-0.04460861533880234,-0.07969734817743301,-0.03980385139584541,0.005355771165341139,0.0755951926112175,0.02369662933051586,-0.004240773618221283,0.04074229672551155,-0.12106076627969742,-0.05075140297412872,-0.01298330444842577,0.06367415934801102,-0.11704089492559433,0.03201523423194885,0.032223593443632126,0.07875575870275497,-0.02253333106637001,-0.05961715802550316,-0.04272835701704025,0.0034077437594532967,-0.01727823168039322,-0.023894861340522766,0.00478615565225482,-0.052710454910993576,0.03756808117032051,-0.005695415660738945,0.07889445871114731,0.032701171934604645,-0.12055063992738724,0.05504094809293747,0.026378825306892395,-0.013289702124893665,0.03890180215239525,0.006957788020372391,0.03909962624311447,0.020653298124670982,0.0668056309223175,-0.011260457336902618,-0.0112941088154912,-0.019676119089126587,0.012618265114724636,-0.019373685121536255,-0.026402520015835762,-0.06027034670114517,0.0024454626254737377,-0.03220707178115845,0.06802453845739365,0.021010298281908035,0.022239822894334793,0.0024823506828397512,-0.03582105413079262,-0.02244124934077263,-0.07268387079238892,-0.023425355553627014,0.011527691036462784,0.038268666714429855,0.0070299855433404446,0.036518000066280365,0.014307720586657524,0.043073780834674835,-0.003426979761570692,-0.047932565212249756,0.0022655120119452477,0.04801170527935028,0.04401491582393646,0.03681234270334244,0.0658855065703392,-0.007977665401995182,0.02303970791399479,-0.005219535902142525,0.00915118120610714,0.03411456570029259,-0.07024926692247391,0.025908948853611946,-0.02673264779150486,-0.024725668132305145,-0.06061764433979988,-0.0021163455676287413,-0.0159042626619339,-0.027915000915527344,-0.005919924937188625,0.008477069437503815,-0.025540702044963837,0.03961675614118576,-0.00646659592166543,-0.024099601432681084,0.04229426011443138,0.040589217096567154,-0.0007312190136872232,-0.004006152506917715,0.04906054213643074,0.014303900301456451,0.011199451982975006,-0.0010051786666736007,-0.043117184191942215,-0.007940932177007198,-0.006377083715051413,0.02713625505566597,-0.08137722313404083,-0.022829143330454826,0.024961553514003754,-0.04809018224477768,0.03624383360147476,0.013518639840185642,0.011625194922089577,-0.041297439485788345,0.03884616866707802,-0.00696483813226223,0.039686620235443115,-0.003029749495908618,-0.010386530309915543,-0.011178595013916492,0.03412007540464401,0.060006409883499146,0.044443875551223755,-0.007315896451473236,-0.0012351073091849685,0.05825241282582283,-0.04504500702023506,0.025265727192163467,-0.07535875588655472,-0.0037851969245821238,-0.018963249400258064,0.011631431058049202,0.025088896974921227,-0.016245052218437195,0.06308416277170181,0.0024215695448219776,0.0943291112780571,-0.018680818378925323,0.031814929097890854,-0.07247038930654526,-0.011615750379860401,-0.0031378227286040783,0.0038719314616173506,0.018176289275288582,0.020746996626257896,0.049890533089637756,0.03359299153089523,-0.027582144364714622,0.05034284293651581,0.016991952434182167,0.01629226841032505,0.027716632932424545,-0.04463738575577736,0.000051385999540798366,0.038345858454704285,0.013289014808833599,0.03867053613066673,-0.050731249153614044,0.09045278280973434,-0.004982831422239542,-0.026067376136779785,-0.00840810313820839,-0.022996045649051666,-0.052404798567295074,0.01304960809648037,-0.07169853895902634,-0.03670039400458336,0.00041693440289236605,0.04231156408786774,-0.0002043183776549995,-0.052584197372198105,0.026316488161683083,0.028456520289182663,0.03099382296204567,0.027380608022212982,0.0030314347241073847,0.0389552116394043,0.017451541498303413,-0.010362635366618633,0.018010521307587624,0.04560280591249466,-0.02144109457731247,-0.03012154810130596,-0.015067311003804207,0.0021202873904258013,-0.04686178267002106,0.01748196966946125,-0.03629842400550842,0.00827474519610405,0.03562648966908455,0.057568181306123734,-0.02752184495329857,0.013188024051487446,0.006816904526203871,-0.015220247209072113,-0.03182387351989746,-0.006710865534842014,-0.044689346104860306,-0.04149724170565605,0.01910644769668579,-0.020418671891093254,-0.02767893485724926,0.017541976645588875,0.04478016495704651,0.009400767274200916,-0.011095428839325905,-0.004895953927189112,0.05752905085682869,0.03165067732334137,-0.04207048565149307,0.016328001394867897,-0.010110891424119473,0.004501469433307648,-0.0010523521341383457,-0.04302939027547836,0.03263762593269348,0.0340581089258194,0.022700702771544456,0.02606605552136898,-0.01669236458837986,0.007585347164422274,0.049067504703998566,0.019411606714129448,0.0620262436568737,-0.014469676651060581,-0.010412970557808876,-0.008027281612157822,-0.06351057440042496,0.02915407530963421,0.024466881528496742,0.04000702127814293,0.08787637948989868,-0.022623678669333458,-0.01982421986758709,0.017077075317502022,-0.0055098566226661205,0.039316944777965546,0.023747693747282028,-0.011280140839517117,0.03869704157114029,0.014782768674194813,0.031359657645225525,-0.041072823107242584,0.007146674674004316,-0.06632202863693237,0.02271461673080921,0.043155521154403687,-0.014672383666038513,-0.012292332015931606,-0.04210643097758293,-0.01742483116686344,-0.016605913639068604,-0.04490496218204498,0.038316816091537476,0.03457167372107506,-0.020328352227807045,0.005335830617696047,0.04183482751250267,0.029700517654418945,0.00039762878441251814,-0.019517909735441208,0.00008224383054766804,-0.013821986503899097,0.08145303279161453,-0.007137507665902376,-0.013448940590023994,-0.03625401854515076,-0.04208876192569733,0.023618847131729126,0.032539986073970795,0.006536982487887144,-0.0006809289334341884,0.06483538448810577,-0.051679063588380814,0.021415866911411285,-0.0014340901980176568,-0.0336751826107502,-0.0792880579829216,0.005843174643814564,-0.06505681574344635,-0.0214560367166996,0.03757572919130325,-0.005973740015178919,-0.028645923361182213,0.012932075187563896,-0.04359498992562294,-0.0454091802239418,-0.07341734319925308,-0.005090594291687012,0.004341257270425558,-0.029782654717564583,-0.04111193120479584,0.039344701915979385,-0.04882371425628662,-0.03506585583090782,-0.024105176329612732,-0.04709381237626076,-0.006258190143853426,-0.00693066231906414,-0.02097020111978054,0.0129771139472723,0.045197758823633194,-0.0007984940893948078,0.07503131031990051,0.0392097644507885,-0.007270455360412598,0.011523334309458733,-0.038603153079748154,-0.06699623167514801,0.07141711562871933,-0.004335385747253895,-0.023583179339766502,-0.058398012071847916,-0.0009410892380401492,0.03812684491276741,0.0009745147544890642,-0.01774303801357746,-0.03255008906126022,0.02404325269162655,0.01741958037018776,0.010164511390030384,0.04111586883664131,-0.01488353218883276,0.03275554999709129,0.013147080317139626,-0.0241475161164999,-0.04126022011041641,-0.024613169953227043,-0.038975078612565994,0.033990342170000076,0.01779288426041603,-0.01644713431596756,0.12162800878286362,0.05386854335665703,0.05310337245464325,0.06601202487945557,-0.006643456872552633,-0.04898155853152275,-0.044224947690963745,-0.08484667539596558,0.010329914279282093,-0.01868446357548237,0.0038990022148936987,-0.014611892402172089,-0.004916561767458916,0.07182372361421585,-0.003229350782930851,-0.024664750322699547,0.05017716810107231,0.011523223482072353,-0.04341507703065872,-0.03559728339314461,-0.023279596120119095,0.03774019330739975,0.024584634229540825,-0.05137928947806358,-0.03114708699285984,0.03560306131839752,-0.015271635726094246,-0.009532026946544647,-0.009520518593490124,0.04058392345905304,-0.00387438852339983,0.05190999433398247,-0.019405532628297806,0.0023761154152452946,-0.020892128348350525,-0.030423469841480255,0.05967181548476219,-0.002766910009086132,0.01607867330312729,0.02438972517848015,0.004449878353625536,-0.046232689172029495,-0.003010381944477558,0.022229021415114403,-0.06909341365098953,0.04559594392776489,0.03905314952135086,-0.019845765084028244,-0.008057605475187302,0.04238123819231987,-0.05891460180282593,-0.01100672222673893,-0.03148835897445679,0.005164176691323519,-0.022030942142009735,0.005498162470757961,0.031508155167102814,0.009357979521155357,-0.032509248703718185,0.0006926340865902603,-0.034781090915203094,-0.07110711932182312,-6.101363755008743e-33,-0.021050410345196724,-0.010877717286348343,-0.03758826479315758,0.030349796637892723,0.04448216035962105,-0.007668154779821634,0.040805552154779434,-0.059380244463682175,-0.002355234930291772,0.004973976407200098,-0.03238251060247421,-0.007476944010704756,0.01619652658700943,0.007241738494485617,0.030665291473269463,0.020378246903419495,0.0023156392853707075,-0.016689294949173927,0.016162827610969543,-0.014159630984067917,-0.040007997304201126,0.004094542469829321,-0.008984805084764957,-0.04891154170036316,-0.015157656744122505,-0.05234004929661751,0.011224032379686832,0.06171572580933571,-0.03387397527694702,-0.012929711490869522,0.03681601956486702,-0.07095038890838623,-0.004047144670039415,0.032604701817035675,0.005071898922324181,-0.004907840862870216,-0.07072838395833969,0.0028427073266357183,-0.0005175468977540731,0.02929099276661873,0.04805831238627434,0.023244110867381096,0.041385043412446976,-0.03512817248702049,-0.021050790324807167,-0.06282485276460648,-0.008358873426914215,0.0017767251702025533,-0.00258760922588408,-0.06682579964399338,0.010193443857133389,0.01561770774424076,0.014977721497416496,-0.024691946804523468,-0.013442677445709705,0.02012503147125244,-0.00150260457303375,0.044488392770290375,-0.07163491100072861,-0.03280999884009361,0.015989083796739578,-0.03931061550974846,-0.012560566887259483,0.01678292639553547,0.02316075935959816,-0.0696156844496727,-0.020050788298249245,0.03378722816705704,-0.02305099181830883,-0.010973949916660786,-0.020547952502965927,-0.014541122131049633,0.03603432700037956,-0.018404392525553703,0.05741997808218002,-0.009638451971113682,-0.029433663934469223,-0.0021692062728106976,0.04659290611743927,0.07476222515106201,-0.03787045553326607,0.007624486926943064,0.015960009768605232,0.003195900470018387,0.06211842969059944,-0.08032552897930145,-0.0087924525141716,-0.006124250125139952,0.014286862686276436,0.022635038942098618,0.03152139112353325,0.03853840008378029,-0.04672936350107193,0.01683887280523777,-0.0900859385728836,-0.033309806138277054,0.08643190562725067,-0.0031412674579769373,0.017373977228999138,0.009186984971165657,-0.0032451916486024857,0.03420812264084816,-0.044698696583509445,0.028996029868721962,-0.012182784266769886,-0.02338920347392559,0.10711585730314255,-0.002951473230496049,-0.031069543212652206,0.015304438769817352,-0.0013413706328719854,0.03943055495619774,-0.003618585877120495,0.07714211195707321,0.009370950050652027,-0.005821786355227232,-0.006381715182214975,-0.001316903391852975,-0.010572433471679688,-0.05335729569196701,0.031241586431860924,-0.00981501117348671,-0.022258011624217033,-0.014058176428079605,0.02170540578663349,-0.021303348243236542,-0.0007543484098277986,-0.03531673550605774,0.023377766832709312,0.06104011461138725,0.004741310607641935,0.03529777377843857,2.560439611443144e-7,0.0005609440268017352,0.005965545307844877,0.021034739911556244,0.03740230202674866,0.026800405234098434,-0.018755190074443817,-0.055167052894830704,-0.009003388695418835,-0.009670451283454895,-0.05586758255958557,0.017233533784747124,-0.022945672273635864,0.06961726397275925,0.01149831060320139,0.025797225534915924,-0.11716396361589432,-0.05435763671994209,-0.06360987573862076,0.017675530165433884,0.007341541815549135,-0.009794425219297409,0.02564358152449131,0.05381800979375839,-0.007042789366096258,0.03776497766375542,-0.011528430506587029,0.010946374386548996,-0.03769444674253464,0.024893868714571,-0.02886374294757843,-0.03116478957235813,0.013521977700293064,-0.0057905009016394615,0.007295564748346806,0.007216173689812422,0.0020163925364613533,0.0011294069699943066,-0.03419289365410805,-0.0520939975976944,0.05395368114113808,-0.0046243853867053986,-0.007641180418431759,-0.007651866413652897,-0.00425892136991024,-0.0020458148792386055,-0.001651613973081112,-0.022252848371863365,0.013574122451245785,-0.044437751173973083,0.06112407520413399,0.016312964260578156,0.040200699120759964,0.014579013921320438,-0.03136554732918739,0.019340476021170616,-0.006426077801734209,0.0018352619372308254,0.07302770018577576,0.008863882161676884,-0.017213961109519005,-0.023828037083148956,0.006019924767315388,0.007402257062494755,0.050001151859760284,0.0065195634961128235,-0.01602827198803425,-0.0021088160574436188,2.849249532889449e-34,0.023779308423399925,-0.01817144826054573,0.026897214353084564,0.05368226021528244,-0.005294820759445429,0.004091900773346424,-0.01577160321176052,0.003988009411841631,-0.00724071217700839,-0.008298172615468502,-0.031182821840047836]'
SET
  @HasCustomProps_9f0ec59b = 1
SET
  @HasCustomEvents_9f0ec59b = 0
SET
  @RequiresData_9f0ec59b = 1
SET
  @DependencyCount_9f0ec59b = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_9f0ec59b = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_9f0ec59b = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_9f0ec59b = 0
SET
  @ID_9f0ec59b = '48297465-8299-40FF-899D-E23639D05CEE'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_9f0ec59b,
  @Name = @Name_9f0ec59b,
  @Version = @Version_9f0ec59b,
  @VersionSequence = @VersionSequence_9f0ec59b,
  @Title = @Title_9f0ec59b,
  @Description = @Description_9f0ec59b,
  @Type = @Type_9f0ec59b,
  @Status = @Status_9f0ec59b,
  @DeveloperName = @DeveloperName_9f0ec59b,
  @DeveloperEmail = @DeveloperEmail_9f0ec59b,
  @DeveloperOrganization = @DeveloperOrganization_9f0ec59b,
  @SourceRegistryID = @SourceRegistryID_9f0ec59b,
  @ReplicatedAt = @ReplicatedAt_9f0ec59b,
  @LastSyncedAt = @LastSyncedAt_9f0ec59b,
  @Specification = @Specification_9f0ec59b,
  @FunctionalRequirements = @FunctionalRequirements_9f0ec59b,
  @TechnicalDesign = @TechnicalDesign_9f0ec59b,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_9f0ec59b,
  @TechnicalDesignVector = @TechnicalDesignVector_9f0ec59b,
  @HasCustomProps = @HasCustomProps_9f0ec59b,
  @HasCustomEvents = @HasCustomEvents_9f0ec59b,
  @RequiresData = @RequiresData_9f0ec59b,
  @DependencyCount = @DependencyCount_9f0ec59b,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_9f0ec59b,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_9f0ec59b,
  @HasRequiredCustomProps = @HasRequiredCustomProps_9f0ec59b,
  @ID = @ID_9f0ec59b;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_1fe7eeae NVARCHAR(MAX),
@Name_1fe7eeae NVARCHAR(500),
@Version_1fe7eeae NVARCHAR(50),
@VersionSequence_1fe7eeae INT,
@Title_1fe7eeae NVARCHAR(1000),
@Description_1fe7eeae NVARCHAR(MAX),
@Type_1fe7eeae NVARCHAR(255),
@Status_1fe7eeae NVARCHAR(50),
@DeveloperName_1fe7eeae NVARCHAR(255),
@DeveloperEmail_1fe7eeae NVARCHAR(255),
@DeveloperOrganization_1fe7eeae NVARCHAR(255),
@SourceRegistryID_1fe7eeae UNIQUEIDENTIFIER,
@ReplicatedAt_1fe7eeae DATETIMEOFFSET,
@LastSyncedAt_1fe7eeae DATETIMEOFFSET,
@Specification_1fe7eeae NVARCHAR(MAX),
@FunctionalRequirements_1fe7eeae NVARCHAR(MAX),
@TechnicalDesign_1fe7eeae NVARCHAR(MAX),
@FunctionalRequirementsVector_1fe7eeae NVARCHAR(MAX),
@TechnicalDesignVector_1fe7eeae NVARCHAR(MAX),
@HasCustomProps_1fe7eeae BIT,
@HasCustomEvents_1fe7eeae BIT,
@RequiresData_1fe7eeae BIT,
@DependencyCount_1fe7eeae INT,
@TechnicalDesignVectorEmbeddingModelID_1fe7eeae NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_1fe7eeae NVARCHAR(MAX),
@HasRequiredCustomProps_1fe7eeae BIT,
@ID_1fe7eeae UNIQUEIDENTIFIER
SET
  @Namespace_1fe7eeae = N'CRM/Reports'
SET
  @Name_1fe7eeae = N'ProductRevenueByCategory'
SET
  @Version_1fe7eeae = N'1.0.0'
SET
  @VersionSequence_1fe7eeae = 1
SET
  @Title_1fe7eeae = N'Product Revenue by Category'
SET
  @Description_1fe7eeae = N'Shows total revenue by product category with drill-down to invoice line items. Demonstrates intermediate chart with drill-down usage with custom grid fields, pie chart type, and event handlers for segment selection.'
SET
  @Type_1fe7eeae = N'Chart'
SET
  @Status_1fe7eeae = N'Published'
SET
  @Specification_1fe7eeae = N'{"name":"ProductRevenueByCategory","title":"Product Revenue by Category","description":"Shows total revenue by product category with drill-down to invoice line items. Demonstrates intermediate chart with drill-down usage with custom grid fields, pie chart type, and event handlers for segment selection.","type":"chart","location":"embedded","functionalRequirements":"Aggregates invoice line item revenue by product category. Displays as pie chart for easy comparison of category contributions. Clicking a category segment reveals all line items in that category with product details. Features custom event handler to track user interactions and optional external callbacks for parent component integration.","technicalDesign":"Loads InvoiceLineItems with Product relationships via RunView. Filters to current year and paid/partial invoices only. Each line item includes ProductCategory from related Product. Uses pie chart for categorical comparison. Implements onDataPointClick handler to track segment selections. Grid displays detailed line item information including product names, quantities, prices. Demonstrates proper use of aggregateMethod=''sum'' with valueField for revenue calculations.","dataRequirements":{"mode":"props","description":"Loads InvoiceLineItem entity with Product join, filters to current year paid invoices"},"properties":[{"name":"year","type":"number","description":"Year to display revenue for","required":false,"defaultValue":"new Date().getFullYear()"},{"name":"onCategorySelected","type":"function","description":"Callback fired when user clicks a category segment","required":false,"parameters":[{"name":"categoryData","type":"{ category: string, revenue: number, itemCount: number }","description":"Selected category information"}]}],"events":[{"name":"categorySelected","description":"Fired when a category segment is clicked","parameters":[{"name":"categoryData","type":"{ category: string, revenue: number, itemCount: number }","description":"Selected category details"}]}],"dependencies":[{"name":"SimpleDrilldownChart","namespace":"Generic/UI/Chart","location":"registry","version":"1.0.0","description":"Chart with drill-down capability"}],"code":"function ProductRevenueByCategory({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings,\n  year,\n  onCategorySelected\n}) {\n  const { SimpleDrilldownChart } = components;\n  const [lineItemData, setLineItemData] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [selectedProduct, setSelectedProduct] = React.useState(null);\n\n  const selectedYear = year || new Date().getFullYear();\n\n  React.useEffect(() => {\n    const loadLineItems = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        // Load invoice line items - group by Product since Category isn''t in the view\n        const result = await utilities.rv.RunView({\n          EntityName: ''Invoice Line Items'',\n          ExtraFilter: ''''\n        });\n\n        if (!result.Success) {\n          setError(result.ErrorMessage || ''Failed to load line items'');\n          setLineItemData([]);\n          return;\n        }\n\n        // Process line items - use Product field (denormalized product name)\n        const processedItems = (result.Results || []).map(item => ({\n          ...item,\n          // Ensure we have product name, default if missing\n          ProductName: item.Product || ''Unknown Product'',\n          // Add computed fields for display\n          QuantityFormatted: item.Quantity ? item.Quantity.toFixed(2) : ''0'',\n          UnitPriceFormatted: item.UnitPrice != null\n            ? `$$' + '{item.UnitPrice.toFixed(2)}`\n            : ''N/A'',\n          TotalPriceFormatted: item.TotalPrice != null\n            ? `$$' + '{item.TotalPrice.toFixed(2)}`\n            : ''N/A'',\n          DiscountFormatted: item.Discount != null\n            ? `$' + '{item.Discount.toFixed(1)}%`\n            : ''0%''\n        }));\n\n        setLineItemData(processedItems);\n      } catch (err) {\n        console.error(''Error loading line items:'', err);\n        setError(err.message || ''Unknown error occurred'');\n        setLineItemData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadLineItems();\n  }, [selectedYear, utilities?.refresh]);\n\n  // Handle product segment click\n  const handleDataPointClick = (clickData) => {\n    const productName = clickData.label;\n    const productRevenue = clickData.value;\n    const productItems = clickData.records || [];\n\n    setSelectedProduct({\n      product: productName,\n      revenue: productRevenue,\n      itemCount: productItems.length\n    });\n\n    // Fire external callback if provided\n    if (onCategorySelected) {\n      onCategorySelected({\n        category: productName,\n        revenue: productRevenue,\n        itemCount: productItems.length\n      });\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: ''40px'', textAlign: ''center'', color: ''#666'' }}>\n        <div style={{ fontSize: ''16px'', marginBottom: ''8px'' }}>\n          Loading product revenue data...\n        </div>\n        <div style={{ fontSize: ''14px'', color: ''#999'' }}>\n          Analyzing sales by product\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{\n        padding: ''20px'',\n        backgroundColor: ''#fff2f0'',\n        border: ''1px solid #ffccc7'',\n        borderRadius: ''4px'',\n        color: ''#cf1322''\n      }}>\n        <div style={{ fontWeight: ''bold'', marginBottom: ''8px'' }}>\n          Error Loading Data\n        </div>\n        <div>{error}</div>\n      </div>\n    );\n  }\n\n  if (lineItemData.length === 0) {\n    return (\n      <div style={{\n        padding: ''40px'',\n        textAlign: ''center'',\n        backgroundColor: ''#fafafa'',\n        border: ''1px solid #d9d9d9'',\n        borderRadius: ''4px'',\n        color: ''#666''\n      }}>\n        <div style={{ fontSize: ''16px'', marginBottom: ''8px'' }}>\n          No sales data found\n        </div>\n        <div style={{ fontSize: ''14px'', color: ''#999'' }}>\n          No invoice line items in the system\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ width: ''100%'' }}>\n      {/* Show selected product info */}\n      {selectedProduct && (\n        <div style={{\n          padding: ''12px 16px'',\n          marginBottom: ''16px'',\n          backgroundColor: ''#e6f7ff'',\n          border: ''1px solid #91d5ff'',\n          borderRadius: ''4px'',\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''center''\n        }}>\n          <div>\n            <strong style={{ color: ''#0050b3'' }}>\n              {selectedProduct.product}\n            </strong>\n            <span style={{ marginLeft: ''16px'', color: ''#666'' }}>\n              {selectedProduct.itemCount} items • $' + '{selectedProduct.revenue.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })} revenue\n            </span>\n          </div>\n          <button\n            onClick={() => setSelectedProduct(null)}\n            style={{\n              padding: ''4px 12px'',\n              backgroundColor: ''white'',\n              border: ''1px solid #91d5ff'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              fontSize: ''12px'',\n              color: ''#0050b3''\n            }}\n          >\n            Clear\n          </button>\n        </div>\n      )}\n\n      <SimpleDrilldownChart\n        entityName=\"Invoice Line Items\"\n        data={lineItemData}\n        groupBy=\"ProductName\"\n        valueField=\"TotalPrice\"\n        aggregateMethod=\"sum\"\n        chartType=\"pie\"\n        title=\"Product Revenue by Product\"\n        gridFields={[\n          ''Product'',\n          ''Description'',\n          ''QuantityFormatted'',\n          ''UnitPriceFormatted'',\n          ''DiscountFormatted'',\n          ''TotalPriceFormatted''\n        ]}\n        entityPrimaryKeys={[''ID'']}\n        showDrilldown={true}\n        drilldownHeight={450}\n        showSingleRecordView={false}\n        onDataPointClick={handleDataPointClick}\n        utilities={utilities}\n        styles={styles}\n        components={components}\n        callbacks={callbacks}\n        savedUserSettings={savedUserSettings}\n        onSaveUserSettings={onSaveUserSettings}\n      />\n    </div>\n  );\n}\n","exampleUsage":"<ProductRevenueByCategory \n  year={2025} \n  onCategorySelected={(data) => console.log(''Selected:'', data.category, data.revenue)}\n/>"}'
SET
  @FunctionalRequirements_1fe7eeae = N'Aggregates invoice line item revenue by product category. Displays as pie chart for easy comparison of category contributions. Clicking a category segment reveals all line items in that category with product details. Features custom event handler to track user interactions and optional external callbacks for parent component integration.'
SET
  @TechnicalDesign_1fe7eeae = N'Loads InvoiceLineItems with Product relationships via RunView. Filters to current year and paid/partial invoices only. Each line item includes ProductCategory from related Product. Uses pie chart for categorical comparison. Implements onDataPointClick handler to track segment selections. Grid displays detailed line item information including product names, quantities, prices. Demonstrates proper use of aggregateMethod=''sum'' with valueField for revenue calculations.'
SET
  @FunctionalRequirementsVector_1fe7eeae = N'[-0.046106111258268356,0.02630721591413021,0.005818357225507498,0.0026939045637845993,-0.0187143012881279,0.012922873720526695,0.034036241471767426,0.026836887001991272,-0.04472378268837929,-0.010800858028233051,-0.02125900238752365,-0.004288037307560444,0.031868308782577515,0.09821968525648117,0.008785434067249298,-0.04131059721112251,-0.026847712695598602,0.03490541875362396,-0.004989478271454573,0.0328863300383091,0.02820061519742012,0.004679899197071791,-0.03362962603569031,0.001147085684351623,-0.02584729716181755,-0.009891151450574398,-0.02917347103357315,0.03360968083143234,0.02059660479426384,-0.07346303761005402,0.04453475400805473,0.019914815202355385,-0.021863633766770363,-0.0023813338484615088,0.0000017628307205086458,-0.028779897838830948,-0.034134648740291595,0.002185515593737364,-0.01123267225921154,0.05365674942731857,-0.00458029517903924,-0.04527652636170387,0.018017705529928207,-0.006406093947589397,0.04303477331995964,0.003731690812855959,-0.016556015238165855,0.061788201332092285,0.012373283505439758,-0.01589891128242016,-0.007086195982992649,-0.013558315113186836,-0.00869441032409668,-0.022541075944900513,-0.0024708115961402655,-0.012500838376581669,0.024825358763337135,-0.007540961727499962,0.019029967486858368,-0.043812040239572525,-0.01124399621039629,-0.03686324506998062,0.01586075872182846,-0.02363116294145584,0.08623471111059189,0.022198982536792755,0.051892492920160294,-0.03049030527472496,-0.01778266951441765,0.011058181524276733,-0.0007436897722072899,-0.011690118350088596,0.013362913392484188,-0.02819354645907879,-0.005713604390621185,-0.00518500991165638,-0.0500466525554657,-0.035103555768728256,-0.007579005789011717,-0.0061087883077561855,0.0011318670585751534,0.07047189027070999,-0.03985099121928215,0.005267583765089512,0.006484359968453646,-0.03097764030098915,0.0014653963735327125,-0.004865860566496849,-0.021294597536325455,-0.005765256937593222,-0.05796605721116066,-0.018303072080016136,-0.04322773218154907,0.018485119566321373,-0.058401934802532196,-0.00010289195779478177,0.02795453928411007,0.041540101170539856,0.0013419926399365067,-0.05773385614156723,0.07132167369127274,0.08148787915706635,-0.003322216682136059,0.04238041117787361,0.07948379218578339,0.0538560152053833,-0.03383645787835121,-0.048867542296648026,-0.04644949734210968,-0.0028647505678236485,0.003774883458390832,-0.01164464745670557,0.0003198076447006315,0.011902960017323494,-0.009396876208484173,0.004833153448998928,-0.008176627568900585,-0.013231854885816574,-0.04049129784107208,-0.017535444349050522,0.07015398889780045,0.03088153712451458,0.0017687027575448155,-0.0031018296722322702,0.017662877216935158,0.018319938331842422,-0.04288255423307419,-0.02903544157743454,-0.008572466671466827,0.016869857907295227,0.009103924967348576,-0.002543475478887558,0.02222367562353611,0.023938249796628952,0.008789212442934513,-0.028475264087319374,-0.014455154538154602,0.013042270205914974,-0.05333104729652405,-0.03317071869969368,0.026059919968247414,0.008023576810956001,-0.005963356699794531,0.016546206548810005,0.021370140835642815,-0.029827255755662918,-0.0053182076662778854,0.06669014692306519,-0.007507902570068836,0.007195975631475449,-0.008255800232291222,-0.014374147169291973,0.020690400153398514,-0.005968357436358929,0.0043163844384253025,0.01589922420680523,0.0784088671207428,0.0002904119901359081,0.0006238676141947508,-0.018790336325764656,0.014544574543833733,-0.01258840598165989,0.016633057966828346,0.014543971978127956,-0.018343383446335793,-0.0016300346469506621,-0.11331355571746826,0.022410809993743896,-0.14763657748699188,-0.048602912575006485,-0.006552728358656168,-0.042811453342437744,-0.007926473394036293,0.042657382786273956,0.04958067461848259,0.01216471940279007,0.06677260994911194,0.017312468960881233,-0.10095489770174026,-0.0204668790102005,0.019589189440011978,-0.10000575333833694,0.051273878663778305,0.05903228744864464,0.07554366439580917,-0.03674812242388725,-0.054535169154405594,-0.05010899901390076,-0.010396609082818031,-0.018526090309023857,-0.005583585239946842,0.004407232161611319,-0.02850312925875187,0.03443101420998573,-0.004422315396368504,0.01001783274114132,0.027695560827851295,-0.06991161406040192,0.000028718066459987313,0.007969498634338379,0.014844296500086784,0.003935546614229679,0.044197119772434235,0.06341373175382614,0.04511107876896858,-0.013499081134796143,0.02957373484969139,-0.008133108727633953,-0.02305310219526291,0.027161482721567154,-0.03562978655099869,-0.030885258689522743,-0.020933089777827263,0.02808806113898754,-0.000998636824078858,0.020581228658556938,0.04737849533557892,0.033170342445373535,-0.05072876065969467,-0.057624638080596924,-0.04171925038099289,0.00020600731659214944,0.09199558943510056,-0.0016772635281085968,0.12767617404460907,-0.044627245515584946,0.03700589761137962,0.00985914096236229,0.04033730551600456,-0.00010952351294690743,-0.0022015790455043316,0.0003118909371551126,0.041925933212041855,0.017492171376943588,-0.00015444890595972538,0.06731512397527695,0.05550198629498482,0.08777351677417755,-0.0007125228876248002,0.013782654888927937,0.018661238253116608,-0.06600798666477203,-0.007251975126564503,-0.017117833718657494,0.007989044301211834,-0.04633653908967972,-0.019003570079803467,0.013160203583538532,-0.024872317910194397,-0.04500950127840042,-0.023428000509738922,0.019945178180933,0.026647277176380157,-0.01284096110612154,-0.0018242003861814737,-0.013899574056267738,-0.005919066723436117,0.014212778769433498,0.026602523401379585,0.06605711579322815,0.035171445459127426,0.017757974565029144,0.014679123647511005,-0.040797971189022064,-0.021348480135202408,0.012131941504776478,0.0413203239440918,-0.041406773030757904,-0.0035247402265667915,0.0016546929255127907,0.017632341012358665,0.023824037984013557,0.015221241861581802,0.005302597768604755,-0.015241391025483608,0.021946480497717857,-0.06677089631557465,0.018438465893268585,-0.0015287887072190642,0.00027362388209439814,0.015820523723959923,-0.006639532279223204,0.020269015803933144,0.02991185151040554,0.008378203958272934,0.002852037316188216,0.03861113265156746,-0.032416824251413345,-0.016970137134194374,-0.1299004703760147,-0.019603077322244644,-0.016535423696041107,-0.007555379066616297,-0.01724172942340374,-0.030892768874764442,0.0463908314704895,0.027378691360354424,0.10508622229099274,0.01047904696315527,-0.00017926152213476598,-0.021851075813174248,-0.020051347091794014,0.010516112670302391,-0.010312547907233238,-0.02157432585954666,0.029351040720939636,0.005509502254426479,0.012169424444437027,0.011030584573745728,0.1118660569190979,0.011672328226268291,0.010407892055809498,0.02048642560839653,-0.05036500468850136,0.012987409718334675,0.011065416969358921,-0.023670053109526634,-0.05408933758735657,-0.030885696411132812,0.08734945207834244,0.01000299397855997,-0.034769751131534576,-0.0036813197657465935,-0.005189340561628342,-0.06842973083257675,0.009197663515806198,-0.03430444002151489,-0.05949736759066582,-0.011079620569944382,0.006716910284012556,-0.02970385178923607,-0.07275967299938202,-0.039161860942840576,0.05914236977696419,0.045035507529973984,0.033480819314718246,-0.008157516829669476,0.044341836124658585,-0.03491594269871712,-0.0020979789551347494,0.009808608330786228,-0.006389799062162638,-0.002775787841528654,0.02058168314397335,0.05651867389678955,-0.008953094482421875,-0.017243240028619766,0.00473887100815773,-0.017647558823227882,0.014746781438589096,0.040515027940273285,0.046378448605537415,-0.009602460078895092,-0.03197062388062477,0.005176970735192299,0.009572691284120083,-0.05356175824999809,-0.03226553276181221,-0.07646559923887253,-0.04276718944311142,-0.04823487624526024,0.021053656935691833,0.0795343741774559,-0.006350674666464329,0.007290355395525694,0.014637066051363945,0.03419367969036102,0.0008732114220038056,0.05200323835015297,0.0013215262442827225,-0.04936295747756958,0.005777345038950443,0.02321981079876423,0.03531111776828766,-0.005423347000032663,-0.04891730844974518,-0.00007294815441127867,0.05005375295877457,-0.029851848259568214,-0.0011139694834128022,-0.009741325862705708,0.01183136273175478,0.08404740691184998,-0.005725933238863945,0.0388759970664978,-0.009577254764735699,-0.0321170911192894,0.0009956127032637596,-0.003608148079365492,0.036309268325567245,0.022495124489068985,0.024102138355374336,-0.028357138857245445,-0.0488041490316391,0.03500065207481384,-0.021035099402070045,-0.010627156123518944,-0.001719256630167365,-0.006457772105932236,-0.016572682186961174,0.0028271873015910387,0.04262632504105568,0.06005827710032463,-0.019784143194556236,0.025659453123807907,-0.05254483222961426,0.04251132532954216,0.05842114984989166,-0.028576470911502838,0.0320882610976696,0.059520553797483444,-0.14033524692058563,-0.019353970885276794,-0.01321297325193882,-0.007746465504169464,0.006915245205163956,0.01529665756970644,0.005366918630897999,0.04010457545518875,0.036910463124513626,0.0227571502327919,-0.009184705093502998,-0.026242706924676895,-0.010580403730273247,0.02986127696931362,-0.017907558009028435,-0.019610879942774773,-0.047623150050640106,-0.03285825252532959,0.017913274466991425,0.0007079914212226868,0.02530563250184059,-0.011247741989791393,-0.0015720872906967998,-0.017089178785681725,0.005224835127592087,0.012358142994344234,0.025458497926592827,-0.1327015906572342,-0.0389888696372509,-0.007270456291735172,-0.026616854593157768,0.02446708455681801,-0.029198916628956795,-0.04770608991384506,-0.04067768156528473,-0.014263361692428589,0.011811305768787861,-0.030747288838028908,-0.0237385593354702,0.003464578650891781,0.022888582199811935,0.04585590958595276,-0.018974430859088898,-0.028856003656983376,-0.07305297255516052,-0.03815209120512009,0.01392388716340065,-0.02230817638337612,-0.01122981682419777,-0.008087653666734695,0.028573419898748398,0.013025266118347645,-0.018234096467494965,0.02795455791056156,-0.011970339342951775,0.045902758836746216,-0.021503334864974022,-0.002114594914019108,-0.055323969572782516,0.03693757951259613,-0.0075651598162949085,-0.011763745918869972,-0.040654007345438004,0.04327692836523056,-0.002569313161075115,-0.007016333285719156,0.01831471174955368,-0.11085812002420425,-0.02793797291815281,-0.043952878564596176,0.011057855561375618,0.009627972729504108,0.011902454309165478,0.008126297034323215,0.04377502202987671,0.01974964700639248,-0.006717590615153313,-0.008910865522921085,-0.01580916903913021,0.018780171871185303,-0.03457110375165939,-0.022958803921937943,0.10416668653488159,0.04092365503311157,0.0466691218316555,-0.012202173471450806,-0.034292567521333694,-0.058154284954071045,-0.005633153486996889,-0.043056879192590714,0.011440026573836803,-0.013992369174957275,-0.0262790285050869,-0.02510497346520424,0.05762971565127373,0.046239856630563736,0.016393747180700302,-0.00626578601077199,0.02486969344317913,-0.005550386384129524,0.01473140250891447,-0.03601420298218727,0.01949244923889637,0.02392560988664627,0.005897494498640299,-0.049349263310432434,-0.02392977848649025,0.05444519966840744,-0.03133707493543625,-0.003319134935736656,0.0017503420822322369,0.031230447813868523,-0.04788070172071457,0.08478395640850067,-0.042486753314733505,0.021455129608511925,-0.005322897806763649,-0.0556807816028595,0.04957420378923416,0.01998309977352619,-0.008788863196969032,0.010750013403594494,0.025378094986081123,-0.025483042001724243,0.014295016415417194,0.026111532002687454,0.016291169449687004,-0.004260938614606857,0.009944201447069645,0.004320868756622076,0.04072382301092148,0.010436143726110458,-0.024861689656972885,0.0358920656144619,-0.05433949828147888,-0.003023010678589344,0.023319561034440994,-0.029135320335626602,0.05391174554824829,0.03823838010430336,-0.054120469838380814,-0.09721162170171738,0.010664348490536213,-0.03971084952354431,-6.121311894142197e-33,-0.04145962372422218,-0.05369439348578453,-0.050009872764348984,0.05552641302347183,0.036846499890089035,-0.03779518976807594,0.03351829573512077,-0.04973161220550537,0.03376060351729393,-0.04712851718068123,0.010209674946963787,-0.006234695669263601,0.034475214779376984,-0.033603280782699585,0.04024462029337883,-0.03019908256828785,0.0625714436173439,-0.000649751047603786,0.00322633795440197,0.0460691973567009,-0.07488769292831421,0.0007746158516965806,0.014328204095363617,-0.049161966890096664,0.026819556951522827,0.0001199487887788564,0.011622798629105091,0.03393709287047386,-0.005878169555217028,0.004978399258106947,0.03783625364303589,-0.03764500468969345,0.0020058215595781803,0.06315188109874725,0.000696998497005552,0.008178042247891426,-0.0632525160908699,0.018220918253064156,0.03546978905797005,0.0034353495575487614,0.034033678472042084,0.029923584312200546,0.010042996145784855,0.022063223645091057,0.014256991446018219,-0.036949239671230316,0.009509443305432796,-0.007155859377235174,0.005776678211987019,-0.05380070209503174,-0.004576232749968767,0.004210892133414745,-0.013386348262429237,-0.00289922789670527,0.0024245078675448895,0.07694204151630402,0.031460199505090714,0.07992137968540192,-0.05160382017493248,-0.03128975257277489,-0.11398205906152725,-0.030034570023417473,-0.037156715989112854,0.020372094586491585,0.025454849004745483,-0.006370795890688896,0.01983574591577053,0.03048051707446575,-0.013768244534730911,0.004515867214649916,-0.02177400328218937,0.03075454942882061,0.038855236023664474,-0.002744304947555065,0.08743266761302948,0.011360235512256622,-0.010516987182199955,0.05566101148724556,0.037010159343481064,-0.029996145516633987,-0.034586526453495026,0.048116281628608704,-0.04929667338728905,0.014280527830123901,0.04641232267022133,-0.03335708752274513,-0.006781852804124355,-0.03219020366668701,-0.01050760317593813,0.06052441895008087,0.007356065325438976,0.0512319840490818,-0.03942972794175148,0.05233399569988251,-0.05004408583045006,-0.06848181039094925,0.07522939145565033,0.03771865740418434,0.00229563657194376,-0.041683048009872437,-0.01461948174983263,0.054960645735263824,-0.04628104716539383,-0.011619502678513527,-0.004093385301530361,-0.01298153679817915,0.024159900844097137,-0.009488526731729507,-0.0627429410815239,0.036375995725393295,0.006786386948078871,0.0003940845199394971,-0.028084825724363327,0.09186884015798569,0.015539603307843208,-0.0055450559593737125,0.014275392517447472,0.010286039672791958,-0.027713265269994736,-0.03619243577122688,-0.011901181191205978,0.03087947890162468,-0.05594201013445854,-0.012458812445402145,0.018955107778310776,-0.005244664382189512,-0.010204455815255642,-0.055045802146196365,-0.014351002871990204,0.0128940986469388,-0.014193286187946796,-0.018432097509503365,2.7437098992777464e-7,0.015777230262756348,0.01266122329980135,0.02679246850311756,0.09997039288282394,0.06696318835020065,-0.000928464054595679,-0.0337219275534153,0.007478957064449787,0.04544943943619728,-0.033878277987241745,0.025300806388258934,-0.03673082962632179,0.04989020898938179,0.07293405383825302,-0.01588837057352066,-0.07096768170595169,-0.018337061628699303,-0.07228720188140869,-0.041687242686748505,0.03298385068774223,-0.021189235150814056,-0.0006513363914564252,0.045630667358636856,-0.017163395881652832,0.028396861627697945,-0.05695265531539917,0.00328650139272213,-0.020652703940868378,-0.008365663699805737,-0.0017123320139944553,-0.02172197215259075,0.05083214119076729,-0.025839557871222496,0.00029383922810666263,0.009293564595282078,0.024526579305529594,-0.037157729268074036,-0.012785457074642181,-0.03158227726817131,0.02319519780576229,-0.00873684324324131,-0.009714202955365181,-0.01263608317822218,-0.06182871013879776,0.006130886264145374,-0.017061106860637665,0.018632734194397926,0.014926749281585217,0.025988319888710976,0.002217300934717059,-0.00997664500027895,0.011117854155600071,-0.008701452985405922,-0.021096158772706985,0.03320922702550888,-0.011928332969546318,0.02222784422338009,0.05755576491355896,0.003334053559228778,0.03824196383357048,-0.0383230522274971,-0.046608343720436096,0.0005777228507213295,0.028094235807657242,-0.010868748649954796,-0.0009179629851132631,-0.043892838060855865,3.010474552411976e-34,0.03631807118654251,0.02658764459192753,0.0366283543407917,0.02963552623987198,0.02537033148109913,-0.012260987423360348,-0.054471418261528015,-0.0025584755931049585,-0.009536308236420155,-0.010962625965476036,-0.02791723981499672]'
SET
  @TechnicalDesignVector_1fe7eeae = N'[-0.023218587040901184,0.05846748873591423,-0.0024664411321282387,-0.011615246534347534,-0.046003539115190506,0.0038034331519156694,0.04219677671790123,0.038155730813741684,0.005406090058386326,0.0038451908621937037,-0.0408867672085762,0.0253501795232296,0.03401501849293709,0.06866306811571121,-0.009397827088832855,-0.037455182522535324,-0.023938491940498352,0.02520582638680935,0.018277065828442574,0.038833364844322205,0.038219988346099854,0.02275783196091652,-0.0231417678296566,-0.022200725972652435,-0.04957202821969986,-0.020682934671640396,-0.041415754705667496,0.0681854635477066,0.004129534121602774,-0.07326606661081314,0.002678963355720043,0.005995586980134249,-0.030941428616642952,-0.014420360326766968,0.0000020473341919569066,-0.03763185441493988,-0.06910829991102219,0.007281797006726265,0.004357165656983852,0.07130404561758041,0.028309209272265434,-0.04316962882876396,0.031044553965330124,0.005646196659654379,0.008447853848338127,0.0020773867145180702,-0.05143017694354057,0.055396534502506256,0.019489318132400513,0.0030472581274807453,-0.02289888821542263,0.02997712418437004,0.02467423304915428,-0.04078289493918419,-0.062249474227428436,-0.05530104041099548,0.023873906582593918,0.04242078214883804,0.06370094418525696,-0.03988654538989067,-0.014473817311227322,-0.021428748965263367,-0.0018528917571529746,-0.036793313920497894,0.05089397355914116,0.0247054286301136,0.05490477383136749,-0.019772343337535858,-0.014922941103577614,0.015569032169878483,0.005652882158756256,0.0025137481279671192,0.00010907712567131966,-0.07034289091825485,-0.02658097818493843,-0.04109178110957146,-0.021905506029725075,-0.04991573840379715,-0.03012935444712639,0.025472324341535568,-0.01982894539833069,0.02323967218399048,-0.023372802883386612,0.0350818932056427,0.008407044224441051,-0.042376916855573654,-0.01229034923017025,-0.0364590547978878,0.009746761992573738,0.004175693262368441,-0.06406795233488083,-0.001431089243851602,-0.011542550288140774,0.030836045742034912,-0.04984389618039131,0.0004957690252922475,0.014834851026535034,-0.002659113612025976,-0.0014875527704134583,-0.06613844633102417,0.05034526064991951,0.07027584314346313,0.014527455903589725,0.027129141613841057,0.05862826481461525,0.04416576400399208,-0.043968863785266876,-0.056584957987070084,-0.05520760640501976,0.004764251876622438,0.046399377286434174,-0.004225241951644421,-0.028531523421406746,0.0059644971042871475,-0.026102380827069283,0.003569693537428975,-0.0044980235397815704,-0.03633181378245354,-0.04107186570763588,-0.031733833253383636,0.055800896137952805,0.05252138525247574,0.026047464460134506,0.008706348016858101,0.029224758967757225,-0.004936692770570517,-0.04283060505986214,-0.013721688650548458,-0.011463337577879429,-0.021607158705592155,0.0011952576460316777,-0.0009599787299521267,0.013709825463593006,-0.01852588728070259,0.028579996898770332,-0.08842253684997559,-0.0023995761293917894,0.02026006020605564,-0.10017785429954529,-0.022305017337203026,0.007076103240251541,-0.0017392328009009361,-0.01180148497223854,0.006996987387537956,0.03388873487710953,-0.01913989894092083,0.001723425812087953,0.027642149478197098,0.014788647182285786,0.028035983443260193,-0.028688842430710793,0.0021170994732528925,0.021644338965415955,-0.0024456926621496677,-0.0005954013322480023,-0.0010309411445632577,0.08607488125562668,-0.014171712100505829,0.011893875896930695,-0.0248856320977211,0.002487085061147809,-0.008352991193532944,0.010299529880285263,-0.003655277891084552,-0.02389921061694622,0.003247866639867425,-0.17490562796592712,0.05882320553064346,-0.09722182899713516,-0.043422237038612366,-0.03607487305998802,-0.02395782433450222,-0.00010634258796926588,0.04957614466547966,0.02035672590136528,0.007676813751459122,0.057189758867025375,-0.010131733492016792,-0.07090962678194046,-0.007771667558699846,0.05085228383541107,-0.1054840013384819,0.03229251503944397,0.038622643798589706,0.088710255920887,-0.05045356974005699,-0.040503472089767456,-0.03599587455391884,0.01181704830378294,-0.01338423416018486,-0.01454454381018877,0.012768781743943691,-0.04450271278619766,0.030098773539066315,-0.02054908685386181,0.030094673857092857,0.023281361907720566,-0.08799377083778381,0.022945748642086983,-0.013483949936926365,-0.05218198150396347,0.02360709197819233,0.03610042855143547,0.0657634511590004,0.039563070982694626,0.000754582928493619,-0.021041659638285637,-0.008150104433298111,-0.020081182941794395,0.008305076509714127,-0.014383602887392044,-0.044362664222717285,-0.031464289873838425,-0.011742589995265007,-0.011175406165421009,0.028611229732632637,0.010119244456291199,0.01629272662103176,-0.010830659419298172,-0.04963637515902519,-0.009816309437155724,-0.04480435699224472,0.06410463154315948,0.01719016768038273,0.10303830355405807,-0.031183885410428047,0.05515270307660103,0.011966457590460777,0.024015316739678383,0.003325091674923897,-0.009502522647380829,-0.005431296769529581,0.041458066552877426,0.05699089914560318,0.051847975701093674,0.03431687131524086,0.03447919711470604,0.08899681270122528,-0.014659371227025986,0.04250436648726463,0.022131625562906265,-0.09769220650196075,0.0049064876511693,-0.0006629095878452063,-0.042458076030015945,-0.00452074222266674,-0.014198421500623226,-0.011663821525871754,-0.007790789939463139,-0.025913774967193604,0.013237440958619118,-0.024772247299551964,0.04484608396887779,-0.0006583001231774688,0.007413832005113363,0.0076913051307201385,-0.025406640022993088,0.007607567124068737,0.0008269638638012111,0.08008518815040588,0.017830347642302513,-0.004671324975788593,0.02350122667849064,-0.05771505832672119,0.01287488080561161,0.011583542451262474,0.03181329742074013,-0.047988053411245346,0.00445559760555625,0.032471220940351486,-0.008215527981519699,0.006678520701825619,0.005386795848608017,-0.010141309350728989,-0.03220786154270172,0.050941117107868195,-0.012206443585455418,0.014154800213873386,-0.015185433439910412,-0.005480334162712097,-0.005307262297719717,0.02362295240163803,0.03362087905406952,0.020739184692502022,-0.02496960200369358,-0.015725282952189445,0.05137201026082039,0.004133159760385752,-0.0062690433114767075,-0.07265598326921463,-0.028725456446409225,-0.017295539379119873,0.005128646269440651,0.03822293132543564,-0.03350381925702095,0.025963040068745613,0.0006874402752146125,0.06184681877493858,-0.02817189134657383,0.01897713914513588,-0.014793806709349155,-0.015297291800379753,-0.013558947481215,0.00880431104451418,0.02923528477549553,0.06699392199516296,0.03989911824464798,0.041119854897260666,-0.01248118095099926,0.07290685921907425,0.0018847514875233173,0.007846991531550884,0.04175844416022301,-0.03300344571471214,0.007301647216081619,0.016163401305675507,-0.010671675205230713,0.002791136736050248,-0.026121294125914574,0.06518390774726868,0.007934095337986946,-0.06734626740217209,0.02184866927564144,-0.01602146029472351,-0.046419303864240646,-0.013155657798051834,-0.040963780134916306,-0.029638057574629784,-0.01514284498989582,0.017641132697463036,-0.03417972847819328,-0.04442708194255829,0.005204969551414251,0.045584164559841156,0.04991883039474487,0.015583126805722713,0.009042967110872269,0.10153600573539734,-0.04294098541140556,-0.006379417609423399,0.01857275329530239,-0.0008589671342633665,-0.04487880319356918,0.02092442475259304,0.05007242411375046,-0.0030291222501546144,-0.008900643326342106,0.015450980514287949,0.018207089975476265,0.03547828644514084,0.02031664177775383,0.06433192640542984,-0.013124138116836548,-0.016852613538503647,0.02478153444826603,0.0063321152701973915,-0.03457806631922722,-0.05349962040781975,-0.06348863244056702,-0.024925880134105682,-0.01915689744055271,0.0018696284387260675,0.03542827069759369,0.01813310571014881,0.02321353182196617,0.038938723504543304,0.02749256044626236,-0.0026649972423911095,0.05296402424573898,0.020870547741651535,-0.08602866530418396,-0.013254344463348389,-0.016668301075696945,0.037816084921360016,0.01388940867036581,-0.04775437340140343,0.012552300468087196,0.05200304836034775,-0.03206603229045868,0.009658582508563995,0.02354910410940647,0.038737427443265915,0.08654434233903885,-0.004110588692128658,0.06537944823503494,0.02257545106112957,-0.016296900808811188,-0.016932116821408272,-0.023888742551207542,0.008099237456917763,0.011775223538279533,0.03498033061623573,0.04446710646152496,-0.06739944219589233,-0.0067550125531852245,-0.0036367911379784346,-0.011575874872505665,0.041665926575660706,0.0010798298753798008,-0.027425168082118034,-0.003209007903933525,0.07964865118265152,0.0706574097275734,-0.03747829049825668,0.030515000224113464,-0.0710163563489914,0.10137548297643661,0.06769661605358124,-0.02442776970565319,0.013147594407200813,0.007110637612640858,-0.06878869980573654,-0.04310016334056854,-0.049206480383872986,0.0012111030519008636,0.010826785117387772,0.01587430201470852,0.020403141155838966,0.05689876899123192,0.03133176267147064,-0.010240640491247177,0.004545571282505989,0.0053391233086586,-0.017215201631188393,0.02645650878548622,-0.0032666430342942476,-0.03941851854324341,-0.06121796369552612,-0.04165592044591904,-0.00030547037022188306,0.004817873705178499,0.045237090438604355,-0.014143593609333038,0.026729363948106766,-0.019341066479682922,0.048705898225307465,0.016363024711608887,0.006581585388630629,-0.0847119465470314,-0.01564702019095421,-0.05017581209540367,0.0036054598167538643,0.05874098464846611,-0.018426137045025826,-0.06420519202947617,-0.011906999163329601,-0.02321775257587433,-0.014879976399242878,-0.048468559980392456,0.004967240616679192,0.029640868306159973,0.018050380051136017,0.03136804699897766,0.029140982776880264,-0.06274529546499252,-0.05869255214929581,-0.05609886348247528,-0.017145952209830284,-0.0011453477200120687,-0.01919516734778881,0.007444614078849554,0.014703567139804363,0.03457670286297798,-0.01729198917746544,0.058692801743745804,-0.04366813227534294,0.023915091529488564,0.03200841322541237,-0.018710000440478325,-0.05969438701868057,0.06469641625881195,0.0034712778870016336,-0.0027159061282873154,-0.04866014048457146,-0.020041711628437042,0.03157171607017517,0.03694918379187584,0.01566336862742901,-0.11786143481731415,-0.0011983874719589949,-0.023142283782362938,0.0347527340054512,0.02970692329108715,0.006720033474266529,0.014023399911820889,0.04320663586258888,-0.01157242339104414,-0.02012138068675995,-0.014837886206805706,-0.015038099139928818,0.0240392554551363,-0.005733252502977848,-0.018139930441975594,0.06779756397008896,0.012933185324072838,0.07371571660041809,0.02094370685517788,-0.011340179480612278,-0.06327997148036957,-0.03140714392066002,-0.03786712512373924,-0.017600899562239647,-0.008946496993303299,0.0032505022827535868,-0.012890854850411415,0.04149483144283295,0.03312148153781891,0.05377526953816414,-0.027282683178782463,0.029840320348739624,-0.0010995410848408937,-0.0400472953915596,0.006526560988277197,0.01933922991156578,-0.00330506288446486,0.04587729275226593,-0.07261473685503006,-0.06216764077544212,0.040262702852487564,-0.05055811256170273,-0.018559323623776436,-0.0109412195160985,0.031428202986717224,-0.02470569498836994,0.01766824722290039,-0.006654486525803804,0.017630256712436676,-0.00797760859131813,-0.050011225044727325,0.03757622465491295,-0.017697656527161598,0.0065528093837201595,0.015336926095187664,-0.005826071836054325,-0.03766137361526489,-0.0368557833135128,0.020131336525082588,-0.03910736367106438,-0.004202512092888355,0.04896964132785797,-0.020963964983820915,0.037616126239299774,0.02870311215519905,-0.06252716481685638,0.00416945293545723,-0.08019928634166718,-0.015835219994187355,0.014700460247695446,-0.023849643766880035,0.05827678367495537,0.005352568347007036,-0.04010803624987602,-0.060260508209466934,-0.035931963473558426,-0.07945185154676437,-6.228983503257672e-33,-0.0076141138561069965,-0.023038459941744804,-0.05352091044187546,0.02689424715936184,0.03098023682832718,-0.027167322114109993,0.037442512810230255,-0.06522496789693832,0.01473970152437687,-0.014372001402080059,0.0033095020335167646,-0.0059561519883573055,0.024979205802083015,0.005699794739484787,0.014064722694456577,0.020678317174315453,0.015862207859754562,0.014162967912852764,0.019042760133743286,0.010425138287246227,-0.07628240436315536,0.020109383389353752,-0.004120321944355965,-0.03038649633526802,0.02762286365032196,-0.01779155619442463,0.01663799397647381,0.04852447286248207,-0.04017876088619232,0.003151735756546259,0.028439054265618324,-0.07723302394151688,-0.0033076477702707052,0.06309787184000015,0.024265695363283157,-0.017175856977701187,-0.0643949806690216,0.019467320293188095,-0.0012111086398363113,0.024247698485851288,0.057041577994823456,0.03401349112391472,0.02457546442747116,0.008676060475409031,0.0036659371107816696,0.00046612482401542366,0.00945489201694727,-0.0024428660981357098,-0.011549662798643112,-0.060598425567150116,0.019972069188952446,-0.000093976610514801,0.02805684134364128,-0.02017982304096222,0.00577854597941041,0.04019417241215706,0.00940163154155016,0.04978029429912567,-0.05020662397146225,-0.03418269008398056,-0.06446876376867294,-0.02704870142042637,-0.009465557523071766,0.027308981865644455,0.0528198666870594,-0.040595341473817825,0.03025500290095806,-0.01768062636256218,-0.011081183329224586,-0.020580176264047623,-0.019394127652049065,0.001103556132875383,0.015621306374669075,-0.03919744864106178,0.03085438720881939,0.03402402997016907,-0.01587619073688984,0.0032599088735878468,0.00441731559112668,-0.013200231827795506,-0.0399572029709816,0.032717637717723846,-0.021741749718785286,-0.003811952657997608,0.07414581626653671,-0.07316558808088303,-0.009310314431786537,-0.03662759065628052,0.006386912427842617,0.005391050595790148,-0.0019916254095733166,0.02898259460926056,-0.046456918120384216,0.03963499888777733,-0.11212053894996643,-0.06895279884338379,0.06009199097752571,0.0203804150223732,0.01885909214615822,0.008681895211338997,-0.02979879453778267,0.047525160014629364,-0.029521463438868523,-0.007073007524013519,0.005557243712246418,-0.019417598843574524,0.04595014080405235,-0.02437666989862919,-0.05724748596549034,0.029574843123555183,0.0019676294177770615,0.014068788848817348,-0.015308174304664135,0.11916196346282959,0.010536322370171547,0.014379569329321384,0.0027879192493855953,0.043899670243263245,-0.012387159280478954,-0.07319775968790054,0.02496882900595665,0.004594293888658285,-0.022800186648964882,-0.009598302654922009,0.027011536061763763,-0.01113518700003624,-0.0058798836544156075,-0.05146026238799095,0.006791864056140184,-0.011700025759637356,0.0026754748541861773,0.03122350014746189,2.9004490897932556e-7,0.028729155659675598,-0.01528406236320734,0.023680951446294785,0.08388437330722809,0.016167210415005684,0.018799321725964546,-0.049923356622457504,0.0005211911047808826,0.015580828301608562,-0.022374916821718216,0.038882508873939514,-0.029134416952729225,0.061182595789432526,0.03722004219889641,0.01737562008202076,-0.03490070626139641,-0.005274360533803701,-0.06365380436182022,-0.007929588668048382,0.022540215402841568,-0.023759309202432632,-0.003632667940109968,0.05832128971815109,-0.003313562599942088,0.043642282485961914,-0.018523771315813065,-0.010324492119252682,-0.019917963072657585,0.03892035037279129,-0.02658749185502529,-0.02377237007021904,-0.004881363362073898,-0.028005355969071388,0.01360366027802229,0.016117332503199577,-0.0004610733303707093,-0.006688383407890797,0.018634475767612457,-0.0409243144094944,0.048026278614997864,0.0061760563403368,-0.011285780929028988,0.0033530269283801317,-0.024155236780643463,0.011245664209127426,-0.01897539384663105,0.03101571649312973,0.04330615699291229,-0.01943853870034218,0.04972134903073311,-0.0037487586960196495,0.009265086613595486,0.009841234423220158,-0.021037276834249496,0.03643473982810974,0.01200818084180355,0.006649887189269066,0.09619352966547012,-0.007992390543222427,0.001271074521355331,0.0033537871204316616,-0.02023359388113022,0.000024501730877091177,0.0577947236597538,-0.010956368409097195,-0.023735225200653076,-0.033729467540979385,3.209242611530111e-34,0.026401659473776817,0.016510728746652603,0.024747807532548904,0.038574326783418655,-0.010180724784731865,0.007585275452584028,-0.04465675726532936,-0.010619538836181164,-0.02282431721687317,0.022232728078961372,-0.024047309532761574]'
SET
  @HasCustomProps_1fe7eeae = 1
SET
  @HasCustomEvents_1fe7eeae = 1
SET
  @RequiresData_1fe7eeae = 1
SET
  @DependencyCount_1fe7eeae = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_1fe7eeae = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_1fe7eeae = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_1fe7eeae = 0
SET
  @ID_1fe7eeae = 'CBA1FDCD-255D-4ACE-A9CB-EF9A86B1DE0B'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_1fe7eeae,
  @Name = @Name_1fe7eeae,
  @Version = @Version_1fe7eeae,
  @VersionSequence = @VersionSequence_1fe7eeae,
  @Title = @Title_1fe7eeae,
  @Description = @Description_1fe7eeae,
  @Type = @Type_1fe7eeae,
  @Status = @Status_1fe7eeae,
  @DeveloperName = @DeveloperName_1fe7eeae,
  @DeveloperEmail = @DeveloperEmail_1fe7eeae,
  @DeveloperOrganization = @DeveloperOrganization_1fe7eeae,
  @SourceRegistryID = @SourceRegistryID_1fe7eeae,
  @ReplicatedAt = @ReplicatedAt_1fe7eeae,
  @LastSyncedAt = @LastSyncedAt_1fe7eeae,
  @Specification = @Specification_1fe7eeae,
  @FunctionalRequirements = @FunctionalRequirements_1fe7eeae,
  @TechnicalDesign = @TechnicalDesign_1fe7eeae,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_1fe7eeae,
  @TechnicalDesignVector = @TechnicalDesignVector_1fe7eeae,
  @HasCustomProps = @HasCustomProps_1fe7eeae,
  @HasCustomEvents = @HasCustomEvents_1fe7eeae,
  @RequiresData = @RequiresData_1fe7eeae,
  @DependencyCount = @DependencyCount_1fe7eeae,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_1fe7eeae,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_1fe7eeae,
  @HasRequiredCustomProps = @HasRequiredCustomProps_1fe7eeae,
  @ID = @ID_1fe7eeae;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_5ba7aa55 NVARCHAR(MAX),
@Name_5ba7aa55 NVARCHAR(500),
@Version_5ba7aa55 NVARCHAR(50),
@VersionSequence_5ba7aa55 INT,
@Title_5ba7aa55 NVARCHAR(1000),
@Description_5ba7aa55 NVARCHAR(MAX),
@Type_5ba7aa55 NVARCHAR(255),
@Status_5ba7aa55 NVARCHAR(50),
@DeveloperName_5ba7aa55 NVARCHAR(255),
@DeveloperEmail_5ba7aa55 NVARCHAR(255),
@DeveloperOrganization_5ba7aa55 NVARCHAR(255),
@SourceRegistryID_5ba7aa55 UNIQUEIDENTIFIER,
@ReplicatedAt_5ba7aa55 DATETIMEOFFSET,
@LastSyncedAt_5ba7aa55 DATETIMEOFFSET,
@Specification_5ba7aa55 NVARCHAR(MAX),
@FunctionalRequirements_5ba7aa55 NVARCHAR(MAX),
@TechnicalDesign_5ba7aa55 NVARCHAR(MAX),
@FunctionalRequirementsVector_5ba7aa55 NVARCHAR(MAX),
@TechnicalDesignVector_5ba7aa55 NVARCHAR(MAX),
@HasCustomProps_5ba7aa55 BIT,
@HasCustomEvents_5ba7aa55 BIT,
@RequiresData_5ba7aa55 BIT,
@DependencyCount_5ba7aa55 INT,
@TechnicalDesignVectorEmbeddingModelID_5ba7aa55 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_5ba7aa55 NVARCHAR(MAX),
@HasRequiredCustomProps_5ba7aa55 BIT,
@ID_5ba7aa55 UNIQUEIDENTIFIER
SET
  @Namespace_5ba7aa55 = N'Events/Reports'
SET
  @Name_5ba7aa55 = N'EventSubmissionsByStatus'
SET
  @Version_5ba7aa55 = N'1.0.0'
SET
  @VersionSequence_5ba7aa55 = 1
SET
  @Title_5ba7aa55 = N'Event Submissions by Status'
SET
  @Description_5ba7aa55 = N'Conference abstract submissions grouped by status with drill-down to submission details. Demonstrates advanced chart with drill-down features including SingleRecordView panel, custom field configuration, and count-based aggregation for tracking submission volumes across workflow stages.'
SET
  @Type_5ba7aa55 = N'Chart'
SET
  @Status_5ba7aa55 = N'Published'
SET
  @Specification_5ba7aa55 = N'{"name":"EventSubmissionsByStatus","title":"Event Submissions by Status","description":"Conference abstract submissions grouped by status with drill-down to submission details. Demonstrates advanced chart with drill-down features including SingleRecordView panel, custom field configuration, and count-based aggregation for tracking submission volumes across workflow stages.","type":"chart","location":"embedded","functionalRequirements":"Displays count of abstract submissions by status (New, Analyzing, Passed Initial, Under Review, Accepted, Rejected, etc.) for a specific event. Users click a status segment to see all submissions in that status. Clicking a submission row in the grid opens a detailed SingleRecordView panel showing full submission information including title, abstract, evaluation scores, and speaker details. Useful for conference organizers tracking submission pipeline and review workflows.","technicalDesign":"Loads all Submission records for specified EventID via RunView. Uses count aggregation (no valueField) to show submission volumes by Status. Implements doughnut chart for workflow stage visualization. Enables both grid drill-down and SingleRecordView side panel. Grid shows key submission fields (title, submitted date, score). SingleRecordView displays comprehensive submission details for in-depth review. Demonstrates showSingleRecordView=true configuration with custom field selection.","dataRequirements":{"mode":"props","description":"Loads Submission entity filtered by EventID"},"properties":[{"name":"eventId","type":"string","description":"GUID of the event to show submissions for","required":true},{"name":"eventName","type":"string","description":"Name of the event for display in title","required":false},{"name":"onSubmissionSelected","type":"function","description":"Callback when a submission is selected in the grid","required":false,"parameters":[{"name":"submission","type":"object","description":"Selected submission record"}]}],"events":[{"name":"submissionSelected","description":"Fired when user selects a submission row","parameters":[{"name":"submission","type":"object","description":"Selected submission details"}]}],"dependencies":[{"name":"SimpleDrilldownChart","namespace":"Generic/UI/Chart","location":"registry","version":"1.0.0","description":"Chart with drill-down and SingleRecordView capability"}],"code":"function EventSubmissionsByStatus({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings,\n  eventId,\n  eventName,\n  onSubmissionSelected\n}) {\n  const { SimpleDrilldownChart } = components;\n  const [submissionData, setSubmissionData] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n\n  React.useEffect(() => {\n    if (!eventId) {\n      setError(''Event ID is required'');\n      setLoading(false);\n      return;\n    }\n\n    const loadSubmissions = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        const result = await utilities.rv.RunView({\n          EntityName: ''Submissions'',\n          ExtraFilter: `EventID = ''$' + '{eventId}''`,\n          ResultType: ''entity_object''\n        });\n\n        if (!result.Success) {\n          setError(result.ErrorMessage || ''Failed to load submissions'');\n          setSubmissionData([]);\n          return;\n        }\n\n        // Enhance submissions with computed fields for better display\n        const enhancedSubmissions = (result.Results || []).map(submission => {\n          const submittedDate = submission.SubmittedAt\n            ? new Date(submission.SubmittedAt)\n            : null;\n\n          return {\n            ...submission,\n            // Formatted dates\n            SubmittedDateFormatted: submittedDate\n              ? submittedDate.toLocaleDateString()\n              : ''N/A'',\n            SubmittedDateTimeFormatted: submittedDate\n              ? submittedDate.toLocaleString()\n              : ''N/A'',\n            // Truncated abstract for grid display\n            AbstractPreview: submission.SubmissionAbstract\n              ? submission.SubmissionAbstract.substring(0, 100) + ''...''\n              : '''',\n            // Score formatting\n            ScoreFormatted: submission.AIEvaluationScore != null\n              ? `$' + '{submission.AIEvaluationScore.toFixed(1)}/100`\n              : ''Not Scored'',\n            // Status badge style\n            StatusBadge: submission.Status || ''Unknown'',\n            // Days since submission\n            DaysSinceSubmission: submittedDate\n              ? Math.floor((new Date() - submittedDate) / (1000 * 60 * 60 * 24))\n              : null\n          };\n        });\n\n        setSubmissionData(enhancedSubmissions);\n      } catch (err) {\n        console.error(''Error loading submissions:'', err);\n        setError(err.message || ''Unknown error occurred'');\n        setSubmissionData([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadSubmissions();\n  }, [eventId, utilities?.refresh]);\n\n  // Handle submission row selection\n  const handleRowSelected = (selectionData) => {\n    const submission = selectionData.record;\n\n    console.log(''Submission selected:'', submission.SubmissionTitle);\n\n    // Fire external callback if provided\n    if (onSubmissionSelected) {\n      onSubmissionSelected(submission);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{\n        padding: ''40px'',\n        textAlign: ''center'',\n        color: ''#666''\n      }}>\n        <div style={{\n          fontSize: ''16px'',\n          marginBottom: ''8px'',\n          fontWeight: 500\n        }}>\n          Loading submission data...\n        </div>\n        {eventName && (\n          <div style={{ fontSize: ''14px'', color: ''#999'' }}>\n            {eventName}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{\n        padding: ''20px'',\n        backgroundColor: ''#fff2f0'',\n        border: ''1px solid #ffccc7'',\n        borderRadius: ''4px'',\n        color: ''#cf1322''\n      }}>\n        <div style={{\n          fontWeight: ''bold'',\n          marginBottom: ''8px'',\n          fontSize: ''16px''\n        }}>\n          Error Loading Submissions\n        </div>\n        <div>{error}</div>\n      </div>\n    );\n  }\n\n  if (submissionData.length === 0) {\n    return (\n      <div style={{\n        padding: ''40px'',\n        textAlign: ''center'',\n        backgroundColor: ''#fafafa'',\n        border: ''1px solid #d9d9d9'',\n        borderRadius: ''4px'',\n        color: ''#666''\n      }}>\n        <div style={{\n          fontSize: ''18px'',\n          marginBottom: ''8px'',\n          fontWeight: 500\n        }}>\n          No submissions yet\n        </div>\n        <div style={{ fontSize: ''14px'', color: ''#999'' }}>\n          {eventName ? `No submissions found for $' + '{eventName}` : ''No submissions found for this event''}\n        </div>\n      </div>\n    );\n  }\n\n  const chartTitle = eventName\n    ? `Submissions by Status - $' + '{eventName}`\n    : ''Submissions by Status'';\n\n  return (\n    <SimpleDrilldownChart\n      entityName=\"Submissions\"\n      data={submissionData}\n      groupBy=\"Status\"\n      aggregateMethod=\"count\"\n      chartType=\"doughnut\"\n      title={chartTitle}\n      gridFields={[\n        ''SubmissionTitle'',\n        ''SubmittedDateFormatted'',\n        ''SessionFormat'',\n        ''ScoreFormatted'',\n        ''PassedInitialScreening'',\n        ''DaysSinceSubmission''\n      ]}\n      showDrilldown={true}\n      drilldownHeight={500}\n      showSingleRecordView={true}\n      singleRecordViewFields={[\n        ''SubmissionTitle'',\n        ''Status'',\n        ''SubmittedDateTimeFormatted'',\n        ''SubmissionAbstract'',\n        ''SessionFormat'',\n        ''Duration'',\n        ''TargetAudienceLevel'',\n        ''KeyTopics'',\n        ''AIEvaluationScore'',\n        ''AIEvaluationReasoning'',\n        ''PassedInitialScreening'',\n        ''FailureReasons'',\n        ''IsFixable'',\n        ''ReviewNotes'',\n        ''FinalDecision'',\n        ''FinalDecisionReasoning''\n      ]}\n      onRowSelected={handleRowSelected}\n      utilities={utilities}\n      styles={styles}\n      components={components}\n      callbacks={callbacks}\n      savedUserSettings={savedUserSettings}\n      onSaveUserSettings={onSaveUserSettings}\n    />\n  );\n}\n","exampleUsage":"<EventSubmissionsByStatus \n  eventId=\"A1B2C3D4-E5F6-4A5B-8C9D-0E1F2A3B4C5D\"\n  eventName=\"Annual Technology Conference 2025\"\n  onSubmissionSelected={(submission) => console.log(''Viewing:'', submission.SubmissionTitle)}\n/>"}'
SET
  @FunctionalRequirements_5ba7aa55 = N'Displays count of abstract submissions by status (New, Analyzing, Passed Initial, Under Review, Accepted, Rejected, etc.) for a specific event. Users click a status segment to see all submissions in that status. Clicking a submission row in the grid opens a detailed SingleRecordView panel showing full submission information including title, abstract, evaluation scores, and speaker details. Useful for conference organizers tracking submission pipeline and review workflows.'
SET
  @TechnicalDesign_5ba7aa55 = N'Loads all Submission records for specified EventID via RunView. Uses count aggregation (no valueField) to show submission volumes by Status. Implements doughnut chart for workflow stage visualization. Enables both grid drill-down and SingleRecordView side panel. Grid shows key submission fields (title, submitted date, score). SingleRecordView displays comprehensive submission details for in-depth review. Demonstrates showSingleRecordView=true configuration with custom field selection.'
SET
  @FunctionalRequirementsVector_5ba7aa55 = N'[-0.04637904465198517,0.025705600157380104,0.00613384647294879,-0.016511183232069016,-0.05053366720676422,0.01346468087285757,0.04186227172613144,0.025179915130138397,-0.05475003272294998,0.012192724272608757,0.0010973195312544703,-0.07164344191551208,0.010823762975633144,0.09067141264677048,-0.008960745297372341,-0.04642917960882187,-0.013474076054990292,0.0013551614247262478,-0.026328593492507935,0.0361085906624794,0.009495530277490616,-0.010632183402776718,-0.033449724316596985,0.04794582724571228,-0.020069384947419167,-0.01155999954789877,-0.05139736831188202,0.0030881722923368216,-0.018710371106863022,-0.10774094611406326,-0.017034122720360756,0.026542356237769127,0.03357647731900215,-0.017586249858140945,0.0000022985709620115813,-0.012585451826453209,-0.03980046883225441,0.03570469468832016,0.021051565185189247,0.01822321116924286,0.07194314897060394,-0.014641033485531807,0.04150319844484329,0.014935040846467018,0.024321334436535835,-0.07653162628412247,-0.022809121757745743,0.11584708839654922,-0.06641574949026108,-0.03614889085292816,0.030409326776862144,0.0074165379628539085,-0.006263761315494776,-0.04390665888786316,-0.008816445246338844,0.006917454767972231,-0.007095280569046736,0.03158409148454666,0.031093936413526535,-0.0006583407521247864,-0.028577476739883423,0.005545209627598524,-0.015725208446383476,-0.08178790658712387,0.005014825612306595,0.013784815557301044,0.05004578456282616,-0.03378021717071533,0.006872962228953838,-0.027377648279070854,0.09250915795564651,-0.01108622644096613,0.010121278464794159,-0.008672970347106457,-0.007539490703493357,-0.029365260154008865,-0.04051971435546875,-0.028169652447104454,-0.012571346946060658,0.01751146838068962,-0.038460634648799896,0.06626191735267639,-0.03186066076159477,-0.01480021607130766,0.04563538357615471,-0.042289670556783676,0.00812226627022028,0.009989004582166672,-0.0016908657271414995,0.03149092197418213,0.10418029874563217,-0.00011322477803332731,0.03876759856939316,-0.004858831409364939,-0.046457018703222275,-0.009090685285627842,0.04310912638902664,-0.06887407600879669,0.016629310324788094,-0.005838891491293907,0.024501066654920578,0.004964049905538559,0.07616155594587326,0.03407080098986626,0.05197424441576004,-0.005104310344904661,0.027145594358444214,-0.03331133350729942,-0.054171618074178696,-0.012316768057644367,-0.012568239122629166,0.010989745147526264,-0.02759682573378086,0.05582651495933533,-0.017113221809267998,-0.023630524054169655,-0.02655797265470028,-0.019291952252388,0.0009672172600403428,0.010440480895340443,0.04333379492163658,0.026867087930440903,-0.011618552729487419,0.012925921007990837,-0.004960951395332813,0.007968244142830372,-0.02087830752134323,-0.04807098209857941,0.012429343536496162,0.013281171210110188,-0.048269569873809814,-0.04150112345814705,0.013162831775844097,-0.006082401145249605,-0.039040517061948776,-0.07079490274190903,0.00483907712623477,0.004866413306444883,0.007406078279018402,-0.029229329898953438,0.022892139852046967,0.005285193677991629,-0.05229839310050011,0.04289776086807251,0.016790930181741714,0.0201717596501112,0.018415184691548347,0.003597554750740528,0.0110660120844841,-0.025267615914344788,0.057181499898433685,-0.03726993501186371,0.005400702822953463,0.013450304046273232,0.00884274672716856,0.004395127296447754,0.051941122859716415,0.02439591847360134,-0.01513864565640688,0.03777924180030823,-0.006231819279491901,-0.030439628288149834,0.06222427636384964,-0.0278839860111475,-0.010166439227759838,0.020594118162989616,0.0035782242193818092,0.040557533502578735,-0.07624971121549606,-0.05455363541841507,-0.015436165034770966,-0.07355327159166336,0.0190519317984581,0.06432467699050903,0.02309258095920086,0.05834158509969711,0.039861034601926804,-0.010180859826505184,-0.026314973831176758,-0.033543553203344345,-0.0068130106665194035,-0.05472996458411217,0.02232116274535656,0.0717475414276123,0.06530889123678207,-0.017914818599820137,0.01815320923924446,-0.08245347440242767,-0.006934200879186392,-0.039955224841833115,0.0006009771022945642,0.07511916756629944,-0.09589603543281555,0.029422620311379433,0.007170208729803562,0.016864826902747154,0.014467055909335613,-0.05588285252451897,0.0037781568244099617,0.00004380106838652864,-0.005496233701705933,-0.04395360127091408,0.012956290505826473,0.05660981312394142,0.022867120802402496,0.003729434683918953,0.01627124845981598,-0.040877554565668106,0.009083683602511883,0.03256414085626602,0.11268981546163559,0.0014683848712593317,-0.02357877790927887,0.057205699384212494,-0.018408581614494324,0.05653781071305275,0.041097041219472885,0.05310012027621269,-0.06823915988206863,0.020328231155872345,-0.03590242937207222,-0.014355971477925777,-0.08666249364614487,0.011309457011520863,0.0843205451965332,-0.00800455641001463,0.01738235168159008,-0.006065798923373222,0.01367592066526413,0.018428556621074677,-0.021358774974942207,0.011681625619530678,0.08097460120916367,0.032379843294620514,0.027330078184604645,0.004329653922468424,0.047747448086738586,0.08391488343477249,-0.04707743972539902,0.02497772127389908,0.004360273014754057,-0.03061515837907791,-0.020581204444169998,-0.007598286494612694,0.04564317315816879,-0.007728781085461378,0.039667677134275436,-0.030397403985261917,-0.009418177418410778,-0.0040192571468651295,-0.026462487876415253,0.05413426458835602,0.03460758924484253,0.005748537834733725,0.011953096836805344,0.027213839814066887,-0.12286770343780518,-0.01231317687779665,-0.07160355150699615,0.0232706218957901,-0.025525305420160294,-0.04685525596141815,-0.00024547718930989504,0.0054500652477145195,-0.047231681644916534,-0.005686627700924873,0.05996963754296303,-0.021827789023518562,0.01658879593014717,0.004574500489979982,0.011653179302811623,0.026052413508296013,-0.022253606468439102,-0.00990513525903225,0.0030502094887197018,-0.00004941302540828474,-0.10456430912017822,0.023547757416963577,-0.026876691728830338,-0.025418195873498917,-0.009685089811682701,-0.0011543934233486652,-0.03562597185373306,0.04262850806117058,-0.00028711717459373176,0.03869294747710228,0.08461396396160126,-0.08090062439441681,-0.03325154259800911,-0.010927329771220684,0.025347905233502388,-0.024770587682724,0.025199374184012413,0.003252245718613267,-0.029710743576288223,0.02024337835609913,-0.035989467054605484,0.0405864492058754,-0.033447083085775375,0.09970027208328247,-0.011896876618266106,0.01995180733501911,-0.045645568519830704,0.013149700127542019,-0.031319987028837204,0.04485198110342026,0.035660888999700546,-0.01676061563193798,0.02206198312342167,-0.003934874199330807,0.022505542263388634,-0.0028101615607738495,0.018850011751055717,-0.04829764366149902,-0.005988225806504488,-0.01232556626200676,-0.027541588991880417,-0.017598392441868782,-0.02670709230005741,0.03920667991042137,0.0007331168744713068,0.011256478726863861,-0.02348443493247032,0.0012577833840623498,-0.02853042632341385,-0.023919830098748207,-0.022702354937791824,0.0195941012352705,0.04885708540678024,-0.013513260520994663,0.032779328525066376,-0.049399204552173615,0.00902258325368166,0.063238225877285,-0.05165702849626541,-0.025401556864380836,-0.022677931934595108,-0.005993438884615898,-0.023654665797948837,-0.03461901471018791,-0.0490787997841835,-0.004399851430207491,0.008211671374738216,-0.023744679987430573,0.04487626627087593,-0.02304697409272194,0.014021363109350204,0.039667971432209015,-0.06836903095245361,0.06935399770736694,0.04876153916120529,0.056983936578035355,-0.0002809343859553337,-0.019559206441044807,0.04770166054368019,-0.014988167211413383,-0.007470762822777033,-0.028718499466776848,-0.006974430754780769,-0.0630246102809906,0.017529286444187164,0.029017286375164986,0.029817115515470505,0.04269545525312424,0.01255873404443264,-0.05302385240793228,-0.03689147159457207,-0.03468741104006767,0.019513674080371857,-0.02738938108086586,0.020779144018888474,-0.02442527376115322,0.03506812825798988,0.031746380031108856,-0.00456445524469018,-0.061229269951581955,0.0015683601377531886,-0.007049197796732187,0.03471166640520096,0.020476993173360825,0.013597523793578148,0.0210877675563097,0.09018565714359283,0.015453547239303589,0.04960736259818077,-0.01285248901695013,-0.05809168145060539,0.014309611171483994,0.02080446109175682,0.022392960265278816,-0.027369126677513123,-0.08165396004915237,-0.030255531892180443,0.0000473738691653125,0.030380824580788612,0.032236628234386444,-0.06747820228338242,0.042777396738529205,-0.010090327821671963,0.02552128955721855,0.03617694973945618,0.011036671698093414,0.030788471922278404,-0.03143835440278053,0.006426535546779633,-0.007027147337794304,0.0284471083432436,0.04256598278880119,-0.011315638199448586,0.031194938346743584,-0.016994277015328407,-0.062218062579631805,-0.00048715711454860866,-0.029630161821842194,0.05525786057114601,0.013931683264672756,-0.003354056738317013,-0.020220737904310226,0.0023606910835951567,0.05207592248916626,0.04486780986189842,0.010991171933710575,0.009711407124996185,-0.028459200635552406,-0.0019303667359054089,-0.04196496307849884,-0.00127741030883044,-0.02272917702794075,-0.006798428017646074,0.042141661047935486,-0.0021461111027747393,-0.03626584634184837,-0.03737996891140938,0.07853483408689499,-0.06952608376741409,0.04784607142210007,-0.0725596696138382,-0.042209215462207794,-0.047913502901792526,0.0029200667049735785,-0.04826506972312927,0.07653748989105225,0.05449686571955681,-0.006644131615757942,0.018705500289797783,-0.008785111829638481,-0.03245983272790909,-0.013629761524498463,0.01365335937589407,0.020206646993756294,-0.00994693674147129,0.0020332911517471075,-0.032657600939273834,0.01562416646629572,0.028204213827848434,-0.04220333695411682,-0.00655762804672122,-0.020203847438097,0.019748231396079063,-0.03950754553079605,-0.005099152680486441,0.03128347545862198,-0.07916259765625,-0.01917116716504097,0.045439038425683975,-0.07958678156137466,-0.09532630443572998,0.03892463073134422,-0.018622148782014847,-0.06183917447924614,0.00021176035807002336,-0.02162069082260132,-0.012996898964047432,-0.014227766543626785,0.021310094743967056,0.024246664717793465,-0.013320602476596832,0.02806999348104,0.0016885391669347882,-0.013542499393224716,0.017886389046907425,0.06972096860408783,0.03146078810095787,-0.052240919321775436,0.012965253554284573,0.04368051886558533,-0.025680216029286385,0.003687045304104686,-0.018969766795635223,-0.014302965253591537,0.005090781487524509,-0.03888446092605591,-0.05526634678244591,0.1582534909248352,0.04895128682255745,0.09352072328329086,-0.03573451563715935,-0.0135924331843853,-0.03115888498723507,-0.0606645829975605,-0.039363615214824677,0.034915708005428314,-0.042832352221012115,-0.0031298897229135036,0.012515817768871784,0.05564179643988609,0.020113790407776833,-0.010093426331877708,-0.024675315245985985,0.024930467829108238,0.059356942772865295,0.006918750703334808,-0.047490812838077545,0.01857355609536171,0.005555347539484501,0.06776411831378937,-0.049694325774908066,0.0666731595993042,0.008380265906453133,0.0061846100725233555,0.005831722170114517,-0.02245570905506611,0.04689940810203552,0.002490734215825796,0.033473383635282516,-0.029294269159436226,0.033637940883636475,-0.010373840108513832,-0.023347482085227966,0.0705227181315422,-0.05600196495652199,-0.013522312976419926,0.035882554948329926,-0.031999412924051285,0.00003135149017907679,0.02754060924053192,0.02603249065577984,-0.04957030713558197,0.011120867915451527,0.012647252529859543,-0.031314682215452194,-0.0010253090877085924,0.07975570112466812,-0.018576640635728836,-0.015673844143748283,-0.016425922513008118,-0.018982434645295143,-0.01979023963212967,0.020846452564001083,-0.028551645576953888,-0.010533216409385204,-0.023879770189523697,-0.0059399851597845554,0.034967709332704544,-0.05369780585169792,-6.830522166139839e-33,-0.06078198924660683,-0.06782922893762589,-0.03359142318367958,0.023500241339206696,0.009893815964460373,-0.07070374488830566,0.014124839566648006,-0.01341208629310131,-0.017023297026753426,0.029342830181121826,-0.015505476854741573,0.014342203736305237,0.0074258362874388695,-0.016106149181723595,0.03928595408797264,0.02780238725244999,0.043534938246011734,-0.030448829755187035,0.021353067830204964,0.007912016473710537,-0.04352723807096481,-0.010959056206047535,-0.011331659741699696,0.0038256847765296698,0.02036665380001068,0.004690735600888729,0.016638685017824173,-0.021959764882922173,-0.002856208709999919,-0.013387949205935001,-0.007352694869041443,-0.07441262900829315,0.001960383029654622,0.008222399279475212,-0.019134949892759323,0.01931180991232395,-0.07164645940065384,-0.0037641089875251055,0.014462522231042385,-0.0024572822730988264,0.047179341316223145,0.031040381640195847,0.014158076606690884,0.0003514458076097071,-0.049533288925886154,0.011921402998268604,-0.020063769072294235,0.008846083655953407,-0.011233561672270298,-0.053944457322359085,0.036481112241744995,-0.006841386202722788,-0.030118165537714958,0.02990032359957695,0.007145849987864494,0.0598594956099987,0.026388419792056084,-0.04809083417057991,-0.030015602707862854,-0.02476944960653782,0.0058153243735432625,0.01312934048473835,-0.002482731593772769,0.004048509057611227,0.02267557755112648,-0.018994927406311035,0.01753569208085537,0.019002852961421013,-0.019909033551812172,-0.012148264795541763,-0.010476004332304,-0.007080500479787588,0.023670725524425507,-0.023016750812530518,-0.025523610413074493,0.01777094416320324,-0.021114470437169075,0.02160433679819107,-0.031653422862291336,0.05608370900154114,0.062134698033332825,0.00863570161163807,-0.013509603217244148,0.03159590810537338,0.026840247213840485,-0.03481386974453926,-0.008794821798801422,-0.026213066652417183,0.02674775756895542,0.012585276737809181,-0.0037125656381249428,0.04928966611623764,-0.02384847216308117,0.007760145701467991,-0.09599626064300537,-0.02239065431058407,0.059535764157772064,0.019685421139001846,0.0210703257471323,-0.018317360430955887,0.026298191398382187,0.06357981264591217,-0.015247332863509655,0.05151054635643959,-0.008494785986840725,-0.03539150580763817,0.02893657423555851,-0.0026742664631456137,-0.07595010846853256,0.018046023324131966,0.021198367699980736,0.038015734404325485,0.0006649121642112732,0.04442865401506424,-0.006901913322508335,-0.015541213564574718,0.009205293841660023,0.023773616179823875,-0.0058627440594136715,0.019687464460730553,0.009434212930500507,0.04231232404708862,-0.021571341902017593,-0.0018695242470130324,0.015309651382267475,-0.02634669654071331,-0.02265523374080658,-0.035528335720300674,0.041578058153390884,0.03455071523785591,-0.014540503732860088,0.005352347623556852,3.0948334028835234e-7,0.04679390415549278,0.021264126524329185,-0.016567716374993324,0.057221919298172,0.032619111239910126,-0.05685790628194809,-0.03435231000185013,0.061810415238142014,0.031291745603084564,-0.020730603486299515,0.01135304942727089,-0.023316817358136177,0.028429508209228516,0.04550443962216377,-0.0029377005994319916,-0.06524775177240372,-0.02567877247929573,-0.025540601462125778,-0.028127027675509453,0.013345954939723015,0.039003387093544006,0.003342863405123353,-0.011324048973619938,0.06695869565010071,0.013325407169759274,-0.05683530122041702,-0.00020354072330519557,-0.03979156166315079,-0.016855992376804352,-0.014947944320738316,0.03386558219790459,-0.0044387271627783775,-0.02571135014295578,-0.010921389795839787,-0.004552389960736036,-0.012215233407914639,-0.04859304428100586,0.012159985490143299,-0.016015570610761642,0.017672259360551834,0.0025705755688250065,-0.018375178799033165,0.002711356384679675,-0.00841794814914465,0.036735452711582184,0.020076066255569458,0.0456182062625885,0.012509762309491634,-0.004292243160307407,0.001756895799189806,0.014287717640399933,0.030996819958090782,-0.005449148826301098,-0.02101711556315422,0.03355852887034416,-0.028441978618502617,-0.017388613894581795,0.040328435599803925,0.0227507371455431,-0.04887013137340546,-0.007233935408294201,-0.016154907643795013,0.0023592414800077677,-0.05336527153849602,-0.01655072718858719,-0.035629093647003174,-0.07147613167762756,3.391355614653773e-34,0.04991425573825836,0.022018902003765106,0.009709260426461697,-0.0024448116309940815,0.016401059925556183,-0.024215780198574066,-0.026807941496372223,-0.05349282920360565,0.016374336555600166,-0.056185003370046616,-0.025110216811299324]'
SET
  @TechnicalDesignVector_5ba7aa55 = N'[-0.045747607946395874,0.00030823200359009206,0.0035690576769411564,-0.045546382665634155,-0.0323353111743927,-0.010625372640788555,-0.006658980622887611,0.019804609939455986,-0.027681667357683182,0.03497515618801117,0.010392076335847378,0.003554058726876974,-0.009132529608905315,0.14233975112438202,-0.049171555787324905,-0.025595061480998993,-0.01319111231714487,-0.011142341420054436,0.009973738342523575,0.04384603723883629,0.009838934987783432,-0.024170098826289177,-0.03728846460580826,-0.0006103190244175494,-0.055718693882226944,0.004038347862660885,-0.08293479681015015,0.018941225484013557,0.005273614078760147,-0.12065616250038147,-0.04188608005642891,0.04375690221786499,-0.002245671348646283,0.006996603682637215,0.000002505091515558888,-0.02534632757306099,-0.010236047208309174,0.028771350160241127,0.004607502371072769,0.055121224373579025,0.03520091623067856,-0.06517893075942993,0.017027996480464935,-0.019879082217812538,0.017944034188985825,-0.03755948320031166,-0.01826847530901432,0.11081875115633011,0.001567226368933916,-0.03601253032684326,0.0011034279596060514,0.03339296206831932,-0.009476094506680965,-0.030723869800567627,-0.0692344605922699,-0.039328645914793015,-0.001122899353504181,0.04370545968413353,0.05277320742607117,-0.04616854712367058,-0.04033602401614189,-0.02315213903784752,0.00814862921833992,-0.07328017801046371,-0.05485473573207855,-0.0021738058421760798,0.07706397026777267,-0.04356636852025986,-0.005617839749902487,-0.025092951953411102,0.06682305037975311,-0.016981573775410652,-0.027233310043811798,-0.03990698233246803,-0.022631635889410973,-0.040314432233572006,-0.02120942994952202,-0.012791805900633335,-0.003329870058223605,0.01077019888907671,-0.052380163222551346,0.032382719218730927,-0.04654098302125931,-0.04103636369109154,0.017748231068253517,-0.07552668452262878,0.026028987020254135,0.009001784957945347,-0.020898764953017235,0.035879138857126236,0.07554403692483902,0.000874496647156775,0.04458047077059746,-0.007838111370801926,-0.05817677825689316,-0.03828521445393562,0.02073667384684086,-0.053251683712005615,0.013500655069947243,-0.013746337965130806,0.045641444623470306,0.01887505128979683,0.0905066728591919,0.02453681267797947,0.09191535413265228,0.006470357067883015,0.029751650989055634,-0.028624167665839195,-0.04760601744055748,-0.012122971005737782,-0.010645350441336632,0.02994662895798683,-0.021377483382821083,-0.00295833102427423,-0.046657342463731766,-0.014153863303363323,-0.020638665184378624,0.007543133571743965,-0.018120193853974342,-0.025528399273753166,0.13922826945781708,0.034850094467401505,-0.013428740203380585,0.02322378195822239,0.022337811067700386,-0.01838989183306694,-0.029720773920416832,-0.025644896551966667,-0.016417669132351875,-0.02435537613928318,-0.04922288656234741,-0.049606963992118835,0.02403041161596775,0.004163756500929594,-0.02379264310002327,-0.08989426493644714,0.03484882786870003,0.024014443159103394,-0.025567928329110146,-0.023487981408834457,-0.005732760764658451,0.010515059344470501,-0.05685783177614212,0.012137173675000668,0.020584512501955032,-0.02100524865090847,0.01362283993512392,-0.011181879788637161,0.004978465382009745,-0.007964997552335262,0.012665665708482265,-0.041834279894828796,0.006933834403753281,0.01925898715853691,-0.06355036795139313,-0.006905932445079088,0.017898010089993477,0.018591005355119705,-0.005500535946339369,0.06796346604824066,-0.021227022632956505,-0.008826293051242828,0.08119969069957733,-0.00470485957339406,-0.023978950455784798,0.02119613066315651,-0.04779287055134773,0.012926437892019749,-0.051630254834890366,-0.0719672217965126,0.010142458602786064,-0.0924178883433342,0.043215278536081314,0.051831893622875214,0.027089934796094894,0.0326971709728241,0.07845355570316315,-0.08821801096200943,-0.0323457233607769,-0.04132741317152977,0.022663000971078873,-0.09261529892683029,0.018599752336740494,0.02620839886367321,0.08289209008216858,-0.014701467007398605,-0.006176754366606474,-0.031180979683995247,0.002174551133066416,-0.007050424348562956,-0.0025625445414334536,0.05648515373468399,-0.08581943809986115,0.025963187217712402,0.0034126515965908766,0.03165007010102272,0.03138672560453415,-0.05287862569093704,0.044975411146879196,-0.0005348116392269731,-0.04073944687843323,0.0024212554562836885,-0.033355869352817535,0.003789743175730109,0.022482985630631447,-0.010175923816859722,0.03573976457118988,0.006309026386588812,-0.0003887806960847229,0.04363347962498665,0.08614449948072433,-0.0027819767128676176,0.002858663909137249,0.05884118005633354,-0.02875465154647827,0.04582346975803375,0.03834504261612892,0.017493845894932747,-0.060235656797885895,0.0049523524940013885,-0.06069796159863472,-0.01268022321164608,-0.1177767962217331,0.000394435046473518,0.08491294085979462,-0.03529168665409088,0.045210376381874084,-0.00752403074875474,0.03904600068926811,0.0016515981405973434,-0.04097424075007439,0.003903297008946538,0.07591740787029266,0.03161805868148804,0.062032442539930344,0.04477735608816147,0.07715029269456863,0.03851062059402466,-0.052653487771749496,0.04873136803507805,0.011449611745774746,-0.07831181585788727,-0.03639788553118706,-0.010745142586529255,-0.013908706605434418,0.0019135239999741316,-0.04515165835618973,-0.0027498602867126465,-0.0184840839356184,-0.017736995592713356,-0.013966556638479233,0.01907201297581196,0.01679275929927826,0.011211596429347992,-0.0026890700682997704,-0.026174118742346764,-0.12426725029945374,-0.019342396408319473,-0.023654576390981674,0.037208471447229385,0.010703088715672493,-0.025691218674182892,-0.007885119877755642,-0.047830644994974136,-0.0070929680950939655,0.014783683232963085,0.025176823139190674,-0.02201966382563114,0.005305732134729624,0.005817218217998743,0.024041248485445976,0.05229303985834122,0.00927133858203888,-0.021374957635998726,-0.013990730978548527,0.03547818958759308,-0.09614454209804535,0.04439175873994827,-0.020079581066966057,-0.039077598601579666,-0.0035856033209711313,0.046248432248830795,0.020000891759991646,0.04979151487350464,-0.028602954000234604,0.021539248526096344,0.05968201160430908,-0.014681651256978512,-0.016202950850129128,0.013790423981845379,0.009411584585905075,-0.01169146690517664,0.04033343866467476,0.00435904785990715,-0.02061907947063446,0.022729525342583656,-0.04830314591526985,0.05601491779088974,-0.03510550409555435,0.06034397706389427,-0.002718189964070916,-0.007173637859523296,0.02032049559056759,0.016049465164542198,-0.010568295605480671,0.022767679765820503,0.039794933050870895,0.005267842672765255,0.008059193380177021,0.031738024204969406,0.03007463552057743,0.03170072287321091,0.023854181170463562,-0.04049307107925415,0.011378834955394268,0.001662702881731093,-0.009832154959440231,0.003786155954003334,-0.031307708472013474,0.054774925112724304,-0.015183571726083755,-0.015267465263605118,0.02789231762290001,-0.0034457556903362274,-0.026984725147485733,-0.04061810299754143,-0.017203040421009064,-0.0033206227235496044,0.01147499494254589,0.02161491848528385,0.028814278542995453,-0.03888294845819473,0.01431757677346468,0.04346110299229622,0.002272658981382847,-0.0390290841460228,-0.027015872299671173,-0.029455479234457016,-0.02752680703997612,-0.05034208297729492,-0.03360142931342125,-0.001177084632217884,0.00982618797570467,0.03781118243932724,0.024037403985857964,-0.03113223984837532,-0.0284202229231596,0.027848195284605026,-0.0643368735909462,0.06151565536856651,0.031433310359716415,0.05391071364283562,-0.014150133356451988,-0.007202708628028631,0.03957324102520943,-0.008861759677529335,-0.030186766758561134,-0.0024730334989726543,-0.015267515555024147,-0.0639599859714508,0.021192656829953194,0.025864040479063988,0.06818366795778275,0.06372810900211334,0.03569011017680168,-0.01615680567920208,-0.01911504939198494,-0.037265367805957794,0.05242453143000603,-0.02168106473982334,0.007585502695292234,-0.023889580741524696,0.047155965119600296,0.03929625079035759,-0.010844824835658073,-0.04215417429804802,0.025618206709623337,0.02212618477642536,0.016851374879479408,0.027837583795189857,0.02869558148086071,0.04076768830418587,0.07035209238529205,-0.0015652867732569575,0.041078150272369385,-0.017719754949212074,-0.02880491316318512,-0.005535053089261055,0.018204251304268837,0.01958088018000126,-0.013785213232040405,-0.00924140028655529,0.02280125766992569,-0.0217741671949625,0.008922535926103592,0.006852786056697369,-0.04759768024086952,0.029738472774624825,-0.0026889832224696875,0.000546660739928484,-0.02602393738925457,0.08563937246799469,0.01471629273146391,-0.0032545002177357674,-0.009280283004045486,-0.06001223623752594,0.017268864437937737,0.02944866009056568,0.008462375961244106,0.08216821402311325,-0.05199834331870079,-0.013960479758679867,-0.008684043772518635,-0.038979433476924896,0.04111950844526291,0.011096295900642872,-0.02205129712820053,-0.049784254282712936,0.013374154455959797,0.05166659504175186,0.004556927364319563,0.0110852075740695,0.026840973645448685,0.005735416430979967,0.0013307484332472086,-0.012159262783825397,-0.0062609389424324036,-0.02418285794556141,-0.015956323593854904,0.046686794608831406,-0.004563196562230587,-0.010818207636475563,-0.017801467329263687,0.06021774187684059,-0.022552484646439552,-0.002311432734131813,-0.01105642318725586,0.022526688873767853,-0.054577846080064774,0.01510961540043354,-0.05564314126968384,0.05723007395863533,0.08590423315763474,0.011339033022522926,0.01856238767504692,-0.0018826154991984367,-0.02138751745223999,-0.020626232028007507,0.027283670380711555,0.029731575399637222,0.003857553703710437,-0.007146013900637627,0.030488403514027596,0.029472235590219498,0.028910184279084206,-0.03873119503259659,-0.012246082536876202,0.02353389374911785,0.0014684757916256785,-0.05068911984562874,0.01383200939744711,0.01938248798251152,-0.037587326020002365,-0.005743254441767931,0.061202794313430786,-0.04869877174496651,-0.047488734126091,0.025955187156796455,-0.005812459625303745,-0.06215900927782059,0.004478462040424347,-0.023515421897172928,-0.02768545038998127,-0.01897425763309002,0.03071798011660576,0.033681534230709076,0.010619902051985264,0.04499345272779465,-0.027458133175969124,-0.004067584872245789,0.01976761780679226,0.03785978630185127,0.06440442055463791,-0.1104520782828331,0.01382692251354456,0.050571855157613754,-0.04318942502140999,-0.010132494382560253,-0.022012734785676003,0.017222993075847626,-0.006314917933195829,-0.03459940105676651,-0.032112956047058105,0.15780965983867645,0.0275600403547287,0.08123981207609177,-0.03364458307623863,0.010905222035944462,-0.006868220865726471,-0.013473326340317726,-0.04969153180718422,-0.002547353273257613,0.002629761351272464,-0.007073511369526386,-0.00673970440402627,0.042165063321590424,0.000642770086415112,-0.00620972691103816,-0.041066184639930725,0.04034346342086792,0.0036057739052921534,0.019565781578421593,-0.032572757452726364,0.04861229658126831,0.01777990534901619,0.04503817856311798,-0.025502601638436317,0.025268178433179855,0.017344407737255096,-0.012177255935966969,0.011605308391153812,-0.034676309674978256,0.004879670683294535,-0.03197930380702019,0.08467826247215271,-0.0006574752042070031,0.0361236073076725,-0.005910238716751337,-0.0013130108127370477,0.05860750377178192,-0.02328881435096264,0.004134864080697298,0.04833244904875755,-0.017764169722795486,-0.019073758274316788,-0.016126126050949097,0.03174154832959175,-0.007971604354679585,0.00845964066684246,0.03574545308947563,-0.037649862468242645,0.018968742340803146,0.032004017382860184,-0.03931192681193352,-0.021798646077513695,-0.05638590827584267,-0.008032755926251411,-0.012689171358942986,0.014365790411829948,0.017295490950345993,0.022118041291832924,-0.044301945716142654,-0.0006736770737916231,-0.01790209673345089,-0.03106592781841755,-7.116056356110296e-33,-0.037784725427627563,-0.05058763548731804,-0.04189660772681236,0.033738430589437485,0.02421496994793415,-0.06216684356331825,0.014036321081221104,-0.04705779626965523,-0.014123717322945595,0.04918748512864113,-0.021157369017601013,-0.01902458630502224,0.023813575506210327,-0.000014954159269109368,0.025451285764575005,0.06374142318964005,0.04641485586762428,-0.009480620734393597,0.007445779629051685,-0.009352827444672585,-0.032989904284477234,0.011724714189767838,-0.019597794860601425,-0.019278718158602715,0.004763997159898281,0.03126686438918114,0.02256886102259159,0.005585108418017626,-0.017748817801475525,0.013857711106538773,0.0028637591749429703,-0.06298553943634033,0.0029858029447495937,0.003980030305683613,-0.014857465401291847,-0.02810080349445343,-0.0283765010535717,-0.005178174003958702,-0.021030187606811523,-0.017907142639160156,0.05884431302547455,0.022992322221398354,0.02903185971081257,-0.017363710328936577,-0.03764092177152634,0.022409256547689438,-0.014615596272051334,0.021023310720920563,-0.027721010148525238,-0.023261310532689095,0.00533608952537179,-0.009457814507186413,0.0028954565059393644,-0.02804754115641117,-0.006551713217049837,0.024591075256466866,0.035185717046260834,-0.01216090563684702,-0.07216934859752655,-0.016258815303444862,-0.05378136411309242,-0.010623075067996979,0.013688014820218086,0.005070779472589493,0.03448048233985901,-0.02734413556754589,-0.02368488907814026,0.0024518785066902637,-0.008840280584990978,-0.01458490639925003,-0.01276350673288107,0.01405487209558487,0.012790767475962639,-0.0351429283618927,-0.006826020777225494,-0.010535593144595623,-0.010015489533543587,-0.0023158008698374033,-0.06277956813573837,0.043060172349214554,-0.00019381000311113894,-0.039331525564193726,-0.016073044389486313,0.02806650474667549,0.02024412713944912,-0.037922557443380356,-0.012258363887667656,0.004222243092954159,0.029887516051530838,0.02259971760213375,-0.003342163749039173,-0.056187257170677185,-0.06434214860200882,0.033151742070913315,-0.043368447571992874,-0.021824698895215988,0.06459575891494751,0.061186254024505615,0.0047655776143074036,-0.016335947439074516,0.031821269541978836,0.09405656903982162,-0.02498810924589634,0.030497686937451363,0.0026995765510946512,-0.02348809316754341,0.01566115953028202,0.004022186156362295,-0.0450483039021492,0.04646750167012215,0.0026770804543048143,0.02338436059653759,-0.009811384603381157,0.026640258729457855,0.022719359025359154,-0.005031040869653225,0.016401711851358414,0.02342876046895981,0.0029523749835789204,-0.009021797217428684,0.01630008965730667,-0.0022421828471124172,0.026284318417310715,0.018229803070425987,0.03508716821670532,-0.023790672421455383,-0.013224796392023563,-0.04629359394311905,0.020300254225730896,0.05127028003334999,0.0012560877948999405,0.03082314319908619,3.3889156725308567e-7,0.03522352874279022,0.02738136798143387,-0.019836073741316795,0.07359480857849121,0.047884855419397354,-0.01447704154998064,-0.051542218774557114,0.02748539298772812,0.034814562648534775,0.0008981514256447554,0.00302296644076705,-0.006025396287441254,0.04234681278467178,0.0643387958407402,0.005831263959407806,-0.11848731338977814,-0.00446332385763526,0.005813045892864466,-0.03241339325904846,-0.005174688063561916,0.025069110095500946,0.029401255771517754,-0.000344588712323457,0.027001483365893364,0.023258693516254425,-0.017985809594392776,-0.0023472076281905174,0.022903643548488617,0.025541692972183228,-0.019252263009548187,0.007130149286240339,-0.03399047628045082,-0.023287322372198105,0.007000163663178682,-0.0356903150677681,-0.0029198958072811365,-0.06350189447402954,0.013941879384219646,-0.04810070991516113,0.03330063447356224,-0.006087787915021181,-0.018740946426987648,-0.0052518947049975395,-0.017685789614915848,0.04099768027663231,-0.018168054521083832,-0.003463098080828786,0.02064279094338417,0.014884906820952892,0.009024185128509998,0.030116353183984756,0.04559774696826935,-0.005742259789258242,-0.01082317903637886,0.02984132617712021,-0.01059296540915966,-0.02464013174176216,0.0598551481962204,-0.008524643257260323,-0.0850239172577858,0.010187521576881409,-0.021991461515426636,0.0017784764058887959,-0.04811673238873482,0.013715039938688278,-0.013197638094425201,-0.04423071816563606,4.2927249124530435e-34,0.03351924568414688,0.0015708248829469085,0.046217501163482666,-0.017115922644734383,-0.0007037242758087814,-0.01667611300945282,-0.023397346958518028,-0.03853262960910797,0.02110753208398819,-0.07033538073301315,-0.010444958694279194]'
SET
  @HasCustomProps_5ba7aa55 = 1
SET
  @HasCustomEvents_5ba7aa55 = 1
SET
  @RequiresData_5ba7aa55 = 1
SET
  @DependencyCount_5ba7aa55 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_5ba7aa55 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_5ba7aa55 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_5ba7aa55 = 1
SET
  @ID_5ba7aa55 = 'FD1EA084-3F65-4565-A6B9-4D413BEF6B57'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_5ba7aa55,
  @Name = @Name_5ba7aa55,
  @Version = @Version_5ba7aa55,
  @VersionSequence = @VersionSequence_5ba7aa55,
  @Title = @Title_5ba7aa55,
  @Description = @Description_5ba7aa55,
  @Type = @Type_5ba7aa55,
  @Status = @Status_5ba7aa55,
  @DeveloperName = @DeveloperName_5ba7aa55,
  @DeveloperEmail = @DeveloperEmail_5ba7aa55,
  @DeveloperOrganization = @DeveloperOrganization_5ba7aa55,
  @SourceRegistryID = @SourceRegistryID_5ba7aa55,
  @ReplicatedAt = @ReplicatedAt_5ba7aa55,
  @LastSyncedAt = @LastSyncedAt_5ba7aa55,
  @Specification = @Specification_5ba7aa55,
  @FunctionalRequirements = @FunctionalRequirements_5ba7aa55,
  @TechnicalDesign = @TechnicalDesign_5ba7aa55,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_5ba7aa55,
  @TechnicalDesignVector = @TechnicalDesignVector_5ba7aa55,
  @HasCustomProps = @HasCustomProps_5ba7aa55,
  @HasCustomEvents = @HasCustomEvents_5ba7aa55,
  @RequiresData = @RequiresData_5ba7aa55,
  @DependencyCount = @DependencyCount_5ba7aa55,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_5ba7aa55,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_5ba7aa55,
  @HasRequiredCustomProps = @HasRequiredCustomProps_5ba7aa55,
  @ID = @ID_5ba7aa55;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_82c81575 NVARCHAR(MAX),
@Name_82c81575 NVARCHAR(500),
@Version_82c81575 NVARCHAR(50),
@VersionSequence_82c81575 INT,
@Title_82c81575 NVARCHAR(1000),
@Description_82c81575 NVARCHAR(MAX),
@Type_82c81575 NVARCHAR(255),
@Status_82c81575 NVARCHAR(50),
@DeveloperName_82c81575 NVARCHAR(255),
@DeveloperEmail_82c81575 NVARCHAR(255),
@DeveloperOrganization_82c81575 NVARCHAR(255),
@SourceRegistryID_82c81575 UNIQUEIDENTIFIER,
@ReplicatedAt_82c81575 DATETIMEOFFSET,
@LastSyncedAt_82c81575 DATETIMEOFFSET,
@Specification_82c81575 NVARCHAR(MAX),
@FunctionalRequirements_82c81575 NVARCHAR(MAX),
@TechnicalDesign_82c81575 NVARCHAR(MAX),
@FunctionalRequirementsVector_82c81575 NVARCHAR(MAX),
@TechnicalDesignVector_82c81575 NVARCHAR(MAX),
@HasCustomProps_82c81575 BIT,
@HasCustomEvents_82c81575 BIT,
@RequiresData_82c81575 BIT,
@DependencyCount_82c81575 INT,
@TechnicalDesignVectorEmbeddingModelID_82c81575 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_82c81575 NVARCHAR(MAX),
@HasRequiredCustomProps_82c81575 BIT,
@ID_82c81575 UNIQUEIDENTIFIER
SET
  @Namespace_82c81575 = N'CRM/Dashboards'
SET
  @Name_82c81575 = N'DealPipelineDashboard'
SET
  @Version_82c81575 = N'1.0.0'
SET
  @VersionSequence_82c81575 = 1
SET
  @Title_82c81575 = N'Deal Pipeline Dashboard'
SET
  @Description_82c81575 = N'Comprehensive sales pipeline dashboard showcasing multiple chart with drill-down instances working together. Features three coordinated drill-down charts: deals by stage, deals by source, and expected revenue by close month. Demonstrates expert-level composition, multiple chart types, shared state management, and cross-component coordination for executive sales analytics.'
SET
  @Type_82c81575 = N'Dashboard'
SET
  @Status_82c81575 = N'Published'
SET
  @Specification_82c81575 = N'{"name":"DealPipelineDashboard","title":"Deal Pipeline Dashboard","description":"Comprehensive sales pipeline dashboard showcasing multiple chart with drill-down instances working together. Features three coordinated drill-down charts: deals by stage, deals by source, and expected revenue by close month. Demonstrates expert-level composition, multiple chart types, shared state management, and cross-component coordination for executive sales analytics.","type":"dashboard","location":"standalone","functionalRequirements":"Provides 360-degree view of sales pipeline with three interactive visualizations. Top chart shows deal count and total value by stage (Prospecting through Closed Won/Lost). Middle chart displays deal source analysis. Bottom chart shows expected revenue by projected close month. All charts support independent drill-down to deal details. Includes summary metrics panel showing total pipeline value, weighted expected revenue, average deal size, and win rate. Users can interact with any chart to inspect underlying deals. Demonstrates how multiple SimpleDrilldownChart components can coexist in a dashboard layout.","technicalDesign":"Loads all active Deal records once via RunView, filters to open deals (excluding Closed Won/Lost). Passes same dataset to three SimpleDrilldownChart instances with different groupBy configurations. First chart: bar chart by Stage using count aggregation. Second chart: pie chart by DealSource using count aggregation. Third chart: line chart by computed CloseMonth field using sum of ExpectedRevenue. Calculates summary metrics from raw deal data. Implements responsive grid layout with CSS flexbox. Each chart operates independently with its own drill-down state. Demonstrates proper data sharing pattern: load once, visualize many ways.","dataRequirements":{"mode":"props","description":"Loads Deal entity with Account relationships, filters to active pipeline"},"properties":[{"name":"includeClosedDeals","type":"boolean","description":"Whether to include closed deals in analysis","required":false,"defaultValue":false},{"name":"onDealSelected","type":"function","description":"Callback when a deal is selected from any chart","required":false,"parameters":[{"name":"dealData","type":"{ deal: object, sourceChart: string }","description":"Selected deal and source chart identifier"}]}],"events":[{"name":"dealSelected","description":"Fired when user selects a deal from any chart","parameters":[{"name":"dealData","type":"{ deal: object, sourceChart: string }","description":"Deal details and originating chart"}]}],"dependencies":[{"name":"SimpleDrilldownChart","namespace":"Generic/UI/Chart","location":"registry","version":"1.0.0","description":"Chart with drill-down capability (used 3 times)"}],"code":"function DealPipelineDashboard({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings,\n  includeClosedDeals = false,\n  onDealSelected\n}) {\n  const { SimpleDrilldownChart } = components;\n  const [dealData, setDealData] = React.useState([]);\n  const [dealDataWithMonth, setDealDataWithMonth] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [metrics, setMetrics] = React.useState({\n    totalPipelineValue: 0,\n    expectedRevenue: 0,\n    averageDealSize: 0,\n    dealCount: 0,\n    winRate: 0\n  });\n\n  React.useEffect(() => {\n    const loadDeals = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        // Build filter based on includeClosedDeals prop\n        let filter = '''';\n        if (!includeClosedDeals) {\n          filter = \"Stage NOT IN (''Closed Won'', ''Closed Lost'')\";\n        }\n\n        const result = await utilities.rv.RunView({\n          EntityName: ''Deals'',\n          ExtraFilter: filter\n        });\n\n        if (!result.Success) {\n          setError(result.ErrorMessage || ''Failed to load deals'');\n          setDealData([]);\n          setDealDataWithMonth([]);\n          return;\n        }\n\n        const deals = result.Results || [];\n\n        // Enhance deals with computed fields\n        const enhancedDeals = deals.map(deal => {\n          const closeDate = deal.CloseDate ? new Date(deal.CloseDate) : null;\n          const actualCloseDate = deal.ActualCloseDate ? new Date(deal.ActualCloseDate) : null;\n          const relevantDate = actualCloseDate || closeDate;\n\n          return {\n            ...deal,\n            // Computed month for time-based grouping\n            CloseMonth: relevantDate ? relevantDate.getMonth() + 1 : null,\n            CloseMonthName: relevantDate\n              ? relevantDate.toLocaleString(''default'', { month: ''short'' })\n              : ''No Date'',\n            CloseQuarter: relevantDate\n              ? `Q$' + '{Math.ceil((relevantDate.getMonth() + 1) / 3)} $' + '{relevantDate.getFullYear()}`\n              : ''No Date'',\n            // Formatted dates for display\n            CloseDateFormatted: closeDate\n              ? closeDate.toLocaleDateString()\n              : ''Not Set'',\n            // Days in pipeline\n            DaysInPipeline: deal.__mj_CreatedAt\n              ? Math.floor((new Date() - new Date(deal.__mj_CreatedAt)) / (1000 * 60 * 60 * 24))\n              : null,\n            // Amount formatting\n            AmountFormatted: deal.Amount != null\n              ? `$$' + '{deal.Amount.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`\n              : ''N/A'',\n            ExpectedRevenueFormatted: deal.ExpectedRevenue != null\n              ? `$$' + '{deal.ExpectedRevenue.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`\n              : ''N/A'',\n            // Safe defaults\n            DealSource: deal.DealSource || ''Unknown'',\n            Stage: deal.Stage || ''Unknown''\n          };\n        });\n\n        setDealData(enhancedDeals);\n\n        // Filter deals with close dates for monthly revenue chart\n        const dealsWithDates = enhancedDeals.filter(d => d.CloseMonth != null);\n        setDealDataWithMonth(dealsWithDates);\n\n        // Calculate summary metrics\n        const totalValue = enhancedDeals.reduce((sum, d) => sum + (d.Amount || 0), 0);\n        const totalExpected = enhancedDeals.reduce((sum, d) => sum + (d.ExpectedRevenue || 0), 0);\n        const avgSize = enhancedDeals.length > 0 ? totalValue / enhancedDeals.length : 0;\n\n        // Calculate win rate (if closed deals included)\n        let winRate = 0;\n        if (includeClosedDeals) {\n          const closedWon = enhancedDeals.filter(d => d.Stage === ''Closed Won'').length;\n          const totalClosed = enhancedDeals.filter(d =>\n            d.Stage === ''Closed Won'' || d.Stage === ''Closed Lost''\n          ).length;\n          winRate = totalClosed > 0 ? (closedWon / totalClosed * 100) : 0;\n        }\n\n        setMetrics({\n          totalPipelineValue: totalValue,\n          expectedRevenue: totalExpected,\n          averageDealSize: avgSize,\n          dealCount: enhancedDeals.length,\n          winRate\n        });\n\n      } catch (err) {\n        console.error(''Error loading deals:'', err);\n        setError(err.message || ''Unknown error occurred'');\n        setDealData([]);\n        setDealDataWithMonth([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadDeals();\n  }, [includeClosedDeals]);\n\n  // Shared row selection handler\n  const createRowSelectionHandler = (chartName) => {\n    return (selectionData) => {\n      const deal = selectionData.record;\n\n      console.log(`Deal selected from $' + '{chartName}:`, deal.Name);\n\n      if (onDealSelected) {\n        onDealSelected({\n          deal,\n          sourceChart: chartName\n        });\n      }\n    };\n  };\n\n  if (loading) {\n    return (\n      <div style={{\n        padding: ''60px'',\n        textAlign: ''center'',\n        color: ''#666'',\n        backgroundColor: ''#fafafa'',\n        borderRadius: ''8px''\n      }}>\n        <div style={{\n          fontSize: ''20px'',\n          marginBottom: ''12px'',\n          fontWeight: 600\n        }}>\n          Loading Pipeline Data...\n        </div>\n        <div style={{ fontSize: ''14px'', color: ''#999'' }}>\n          Analyzing sales pipeline and calculating metrics\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{\n        padding: ''30px'',\n        backgroundColor: ''#fff2f0'',\n        border: ''2px solid #ffccc7'',\n        borderRadius: ''8px'',\n        color: ''#cf1322''\n      }}>\n        <div style={{\n          fontWeight: ''bold'',\n          marginBottom: ''12px'',\n          fontSize: ''18px''\n        }}>\n          Error Loading Pipeline Data\n        </div>\n        <div style={{ fontSize: ''14px'' }}>{error}</div>\n      </div>\n    );\n  }\n\n  if (dealData.length === 0) {\n    return (\n      <div style={{\n        padding: ''60px'',\n        textAlign: ''center'',\n        backgroundColor: ''#fafafa'',\n        border: ''1px solid #d9d9d9'',\n        borderRadius: ''8px'',\n        color: ''#666''\n      }}>\n        <div style={{\n          fontSize: ''20px'',\n          marginBottom: ''12px'',\n          fontWeight: 600\n        }}>\n          No Deals Found\n        </div>\n        <div style={{ fontSize: ''14px'', color: ''#999'' }}>\n          {includeClosedDeals\n            ? ''No deals in the system''\n            : ''No open deals in the pipeline''}\n        </div>\n      </div>\n    );\n  }\n\n  const dashboardTitle = includeClosedDeals\n    ? ''Complete Deal Pipeline''\n    : ''Active Deal Pipeline'';\n\n  return (\n    <div style={{ width: ''100%'' }}>\n      {/* Dashboard Header */}\n      <div style={{\n        marginBottom: ''24px'',\n        padding: ''20px'',\n        backgroundColor: ''#f0f5ff'',\n        border: ''1px solid #adc6ff'',\n        borderRadius: ''8px''\n      }}>\n        <h2 style={{\n          margin: ''0 0 16px 0'',\n          fontSize: ''24px'',\n          color: ''#001529'',\n          fontWeight: 600\n        }}>\n          {dashboardTitle}\n        </h2>\n\n        {/* Summary Metrics */}\n        <div style={{\n          display: ''grid'',\n          gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'',\n          gap: ''16px''\n        }}>\n          <div style={{\n            padding: ''12px'',\n            backgroundColor: ''white'',\n            borderRadius: ''4px'',\n            border: ''1px solid #d9d9d9''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#666'', marginBottom: ''4px'' }}>\n              Total Pipeline Value\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#1890ff'' }}>\n              $' + '{metrics.totalPipelineValue?.toLocaleString(undefined, {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2\n              }) || ''0.00''}\n            </div>\n          </div>\n\n          <div style={{\n            padding: ''12px'',\n            backgroundColor: ''white'',\n            borderRadius: ''4px'',\n            border: ''1px solid #d9d9d9''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#666'', marginBottom: ''4px'' }}>\n              Expected Revenue\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#52c41a'' }}>\n              $' + '{metrics.expectedRevenue?.toLocaleString(undefined, {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2\n              }) || ''0.00''}\n            </div>\n          </div>\n\n          <div style={{\n            padding: ''12px'',\n            backgroundColor: ''white'',\n            borderRadius: ''4px'',\n            border: ''1px solid #d9d9d9''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#666'', marginBottom: ''4px'' }}>\n              Average Deal Size\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#722ed1'' }}>\n              $' + '{metrics.averageDealSize?.toLocaleString(undefined, {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2\n              }) || ''0.00''}\n            </div>\n          </div>\n\n          <div style={{\n            padding: ''12px'',\n            backgroundColor: ''white'',\n            borderRadius: ''4px'',\n            border: ''1px solid #d9d9d9''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#666'', marginBottom: ''4px'' }}>\n              {includeClosedDeals ? ''Win Rate'' : ''Deal Count''}\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#fa8c16'' }}>\n              {includeClosedDeals\n                ? `$' + '{metrics.winRate?.toFixed(1) || ''0''}%`\n                : metrics.dealCount}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Chart 1: Deals by Stage */}\n      <div style={{ marginBottom: ''32px'' }}>\n        <SimpleDrilldownChart\n          entityName=\"Deals\"\n          data={dealData}\n          groupBy=\"Stage\"\n          aggregateMethod=\"count\"\n          chartType=\"bar\"\n          title=\"Deals by Pipeline Stage\"\n          gridFields={[\n            ''Name'',\n            ''Account'',\n            ''Stage'',\n            ''AmountFormatted'',\n            ''Probability'',\n            ''ExpectedRevenueFormatted'',\n            ''CloseDateFormatted'',\n            ''DaysInPipeline''\n          ]}\n          entityPrimaryKeys={[''ID'']}\n          showDrilldown={true}\n          drilldownHeight={400}\n          showSingleRecordView={false}\n          onRowSelected={createRowSelectionHandler(''Pipeline Stage'')}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n          savedUserSettings={savedUserSettings}\n          onSaveUserSettings={onSaveUserSettings}\n        />\n      </div>\n\n      {/* Chart 2: Deals by Source */}\n      <div style={{ marginBottom: ''32px'' }}>\n        <SimpleDrilldownChart\n          entityName=\"Deals\"\n          data={dealData}\n          groupBy=\"DealSource\"\n          aggregateMethod=\"count\"\n          chartType=\"pie\"\n          title=\"Deals by Source\"\n          gridFields={[\n            ''Name'',\n            ''Account'',\n            ''DealSource'',\n            ''AmountFormatted'',\n            ''Stage'',\n            ''CloseDateFormatted'',\n            ''NextStep''\n          ]}\n          entityPrimaryKeys={[''ID'']}\n          showDrilldown={true}\n          drilldownHeight={400}\n          showSingleRecordView={false}\n          onRowSelected={createRowSelectionHandler(''Deal Source'')}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n          savedUserSettings={savedUserSettings}\n          onSaveUserSettings={onSaveUserSettings}\n        />\n      </div>\n\n      {/* Chart 3: Expected Revenue by Month */}\n      {dealDataWithMonth.length > 0 ? (\n        <div style={{ marginBottom: ''32px'' }}>\n          <SimpleDrilldownChart\n            entityName=\"Deals\"\n            data={dealDataWithMonth}\n            groupBy=\"CloseMonthName\"\n            valueField=\"ExpectedRevenue\"\n            aggregateMethod=\"sum\"\n            chartType=\"line\"\n            title=\"Expected Revenue by Close Month\"\n            gridFields={[\n              ''Name'',\n              ''Account'',\n              ''CloseMonthName'',\n              ''CloseDateFormatted'',\n              ''AmountFormatted'',\n              ''Probability'',\n              ''ExpectedRevenueFormatted'',\n              ''Stage''\n            ]}\n            entityPrimaryKeys={[''ID'']}\n            showDrilldown={true}\n            drilldownHeight={400}\n            showSingleRecordView={false}\n            onRowSelected={createRowSelectionHandler(''Expected Revenue'')}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings}\n            onSaveUserSettings={onSaveUserSettings}\n          />\n        </div>\n      ) : (\n        <div style={{\n          padding: ''40px'',\n          textAlign: ''center'',\n          backgroundColor: ''#fafafa'',\n          border: ''1px solid #d9d9d9'',\n          borderRadius: ''8px'',\n          color: ''#666''\n        }}>\n          <div style={{ fontSize: ''16px'', marginBottom: ''8px'' }}>\n            No Close Dates Set\n          </div>\n          <div style={{ fontSize: ''14px'', color: ''#999'' }}>\n            Expected Revenue by Month chart requires deals with close dates\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","exampleUsage":"<DealPipelineDashboard \n  includeClosedDeals={false}\n  onDealSelected={(data) => console.log(''Deal selected from'', data.sourceChart, '':'', data.deal.Name)}\n/>"}'
SET
  @FunctionalRequirements_82c81575 = N'Provides 360-degree view of sales pipeline with three interactive visualizations. Top chart shows deal count and total value by stage (Prospecting through Closed Won/Lost). Middle chart displays deal source analysis. Bottom chart shows expected revenue by projected close month. All charts support independent drill-down to deal details. Includes summary metrics panel showing total pipeline value, weighted expected revenue, average deal size, and win rate. Users can interact with any chart to inspect underlying deals. Demonstrates how multiple SimpleDrilldownChart components can coexist in a dashboard layout.'
SET
  @TechnicalDesign_82c81575 = N'Loads all active Deal records once via RunView, filters to open deals (excluding Closed Won/Lost). Passes same dataset to three SimpleDrilldownChart instances with different groupBy configurations. First chart: bar chart by Stage using count aggregation. Second chart: pie chart by DealSource using count aggregation. Third chart: line chart by computed CloseMonth field using sum of ExpectedRevenue. Calculates summary metrics from raw deal data. Implements responsive grid layout with CSS flexbox. Each chart operates independently with its own drill-down state. Demonstrates proper data sharing pattern: load once, visualize many ways.'
SET
  @FunctionalRequirementsVector_82c81575 = N'[-0.047802843153476715,0.01568828895688057,-0.03511546179652214,-0.0822659507393837,0.005201888736337423,-0.04232725128531456,0.013613110408186913,-0.03651557117700577,-0.05346129834651947,-0.007894263602793217,-0.0551171712577343,-0.006202364806085825,0.025997046381235123,0.15400730073451996,-0.02069816365838051,-0.07751461118459702,-0.02523382194340229,-0.004005816299468279,0.024902373552322388,0.023883668705821037,0.010942849330604076,-0.018844103440642357,-0.05207101255655289,0.02570422738790512,-0.004546580370515585,-0.02446742169559002,-0.03679512441158295,0.014401369728147984,-0.004999679047614336,-0.10387211292982101,0.007792665157467127,0.016097107902169228,0.016320861876010895,0.019727366045117378,0.0000024615517304482637,-0.04252152517437935,-0.055019885301589966,0.0003514365525916219,-0.02916654385626316,0.07077214866876602,0.06449303030967712,-0.06922773271799088,0.026166411116719246,-0.015778597444295883,0.026788892224431038,-0.04532288387417793,-0.019572747871279716,0.03886605426669121,0.04117646440863609,-0.03797400742769241,-0.0028816896956413984,0.023195812478661537,-0.025463558733463287,-0.0017760726623237133,-0.07743324339389801,-0.09587117284536362,-0.017980489879846573,-0.04836106672883034,-0.017627015709877014,-0.07777117192745209,-0.03528312221169472,-0.014042275957763195,-0.022623592987656593,-0.03473569080233574,0.012600410729646683,0.035790178924798965,0.0475529283285141,-0.025670232251286507,-0.03086004965007305,-0.004514897707849741,0.002555094426497817,0.029033001512289047,-0.014570293948054314,-0.07817351818084717,-0.014960826374590397,-0.08024414628744125,-0.06154203042387962,0.024112217128276825,0.007785651367157698,-0.008549635298550129,-0.08606558293104172,0.038523510098457336,-0.020336201414465904,-0.03032686747610569,0.009604611434042454,-0.036443617194890976,-0.013933013193309307,0.011795288883149624,-0.021110111847519875,0.007323295809328556,0.06822531670331955,-0.016729416325688362,-0.012518693692982197,-0.03787659853696823,-0.08107274770736694,0.008757994510233402,0.052303496748209,0.042135197669267654,-0.0015729379374533892,0.007083001546561718,0.004711040761321783,0.01249512005597353,0.03765805810689926,0.030865443870425224,0.030637850984930992,-0.01263194065541029,-0.0027495562098920345,-0.03617485612630844,-0.0034122667275369167,0.035186853259801865,0.03840717673301697,0.010557278990745544,-0.024826902896165848,0.01576307788491249,-0.034685395658016205,-0.023023225367069244,-0.06089673936367035,-0.011663519777357578,-0.03732413798570633,0.037457793951034546,0.09421730786561966,0.00886631105095148,0.02670084312558174,0.028640398755669594,-0.023596294224262238,0.035474203526973724,-0.016284456476569176,0.00322376168332994,-0.009265224449336529,0.005731846205890179,-0.03767009451985359,0.020593903958797455,0.000004805683602171484,-0.018081681802868843,-0.030889462679624557,0.03822548687458038,0.019685423001646996,0.052211496978998184,-0.06053875759243965,-0.001033905427902937,0.027023088186979294,0.02138678915798664,-0.03921513631939888,0.026902243494987488,0.031075235456228256,-0.03346480056643486,-0.033704645931720734,0.021692052483558655,0.022571660578250885,-0.0016293592052534223,0.0002146675979020074,0.014298121444880962,0.05118976905941963,0.006984695792198181,-0.03331797942519188,-0.030063284561038017,-0.020658908411860466,0.006037397310137749,-0.005419197026640177,0.07060223072767258,0.012534921057522297,-0.04320454224944115,0.01904807612299919,0.00829447153955698,-0.03002324514091015,0.026607593521475792,-0.008560641668736935,0.012137779034674168,-0.037504203617572784,-0.05169033631682396,0.014540030620992184,-0.06329407542943954,-0.02622126415371895,0.020081276074051857,0.0551174059510231,-0.024944452568888664,0.08469432592391968,-0.0688072070479393,0.016455041244626045,0.026186008006334305,0.01082697231322527,-0.12081237882375717,-0.005920473486185074,0.019117562100291252,0.07129906117916107,-0.013818393461406231,-0.04223107919096947,-0.01919381693005562,0.003912531305104494,0.038620997220277786,0.0016298897098749876,0.05669365078210831,-0.06337408721446991,0.026463259011507034,-0.030587460845708847,-0.020039036870002747,-0.0178877804428339,0.018383679911494255,-0.004027006682008505,0.05214279145002365,-0.027855977416038513,0.004114341922104359,-0.052692219614982605,-0.02190391719341278,-0.00242868484929204,-0.015171864069998264,-0.005881486926227808,-0.03259113430976868,-0.08471769094467163,0.027909468859434128,0.04971738159656525,0.006161601282656193,-0.019215697422623634,0.036169033497571945,-0.023822689428925514,0.00978324469178915,0.006706299260258675,0.035809747874736786,-0.04298165440559387,-0.017430998384952545,-0.04203668609261513,-0.006340964697301388,0.03969265893101692,0.019363535568118095,0.08536416292190552,0.03368091583251953,0.034898318350315094,0.011709433048963547,0.016734400764107704,-0.006060229614377022,-0.015586921945214272,-0.008437981829047203,0.06370329111814499,0.05384962633252144,0.014109911397099495,0.04789888486266136,0.06858605146408081,0.08847172558307648,-0.01713935285806656,0.01729568839073181,-0.010364941321313381,-0.08891051262617111,-0.05234179273247719,0.019025053828954697,0.03321053832769394,-0.03205488622188568,-0.05865667015314102,0.01194437500089407,0.0229247584939003,-0.015954656526446342,0.02453024499118328,-0.009314698167145252,0.03591684624552727,-0.007887328043580055,-0.007230347488075495,0.003926270175725222,-0.06155980005860329,0.02940475195646286,-0.03837628662586212,0.06541742384433746,0.011427787132561207,-0.02450353279709816,-0.03814809024333954,-0.054181162267923355,0.026311589404940605,-0.029499005526304245,0.0604480616748333,0.025558609515428543,0.01983698084950447,0.03589344397187233,0.01801253855228424,0.045668911188840866,-0.018866339698433876,-0.011303788051009178,-0.0541854165494442,0.04674689471721649,-0.0640111118555069,0.014427179470658302,-0.02798827365040779,-0.014397506602108479,0.0009440925205126405,-0.012435137294232845,0.008870810270309448,0.016771765425801277,0.0044461628422141075,0.007375204935669899,0.03558915853500366,-0.04323585331439972,-0.049934618175029755,0.0012628879630938172,0.019951045513153076,-0.028231138363480568,0.00826483964920044,-0.007187182549387217,-0.038674697279930115,0.05325854569673538,-0.014484917744994164,-0.011969175189733505,-0.04892049729824066,0.012732995674014091,-0.02112921141088009,-0.04532667249441147,-0.012298968620598316,0.0024098025169223547,-0.002251389669254422,0.044854287058115005,0.029766133055090904,0.0030614607967436314,-0.0007982978131622076,0.046559982001781464,0.03305654227733612,-0.005116557236760855,0.028516488149762154,-0.032041266560554504,0.043969761580228806,0.01853593811392784,-0.009533753618597984,0.033183351159095764,-0.007972761988639832,0.06491876393556595,-0.016266049817204475,-0.03897063434123993,-0.007166774943470955,-0.012605610303580761,-0.063963383436203,0.003475452307611704,-0.02181839384138584,-0.036872707307338715,-0.012565637938678265,-0.026928583160042763,-0.02484521083533764,-0.10894641280174255,-0.060650359839200974,-0.03291398659348488,0.029291918501257896,0.002350875176489353,-0.01233456376940012,0.03342272713780403,-0.007223684340715408,-0.0241522416472435,-0.034339163452386856,0.021068299189209938,-0.07617006450891495,-0.007828750647604465,0.03136585280299187,-0.03171120956540108,0.1304948776960373,0.01617324724793434,-0.07111365348100662,0.039908621460199356,0.041443176567554474,0.03942371904850006,0.011761617846786976,-0.02134670689702034,0.01976003870368004,-0.002740844851359725,-0.030240332707762718,-0.049212031066417694,0.04184294864535332,-0.07974687218666077,0.057317104190588,-0.003948453348129988,-0.035153474658727646,0.04861201345920563,0.012859932146966457,0.023568013682961464,0.006570985075086355,-0.01736329309642315,0.06182162091135979,0.005321982316672802,-0.04128717631101608,0.02629249542951584,0.07692216336727142,-0.02074340172111988,-0.007528523448854685,-0.014446012675762177,0.028576992452144623,0.030258219689130783,0.029458358883857727,0.01926063932478428,0.01603313349187374,-0.04039405286312103,0.08840629458427429,-0.01888478733599186,0.08370999991893768,0.021329762414097786,-0.036419183015823364,-0.04079335927963257,-0.06700539588928223,0.03437172994017601,-0.019763316959142685,-0.013559342361986637,0.07365022599697113,0.0007983758696354926,-0.0011737721506506205,-0.003238719655200839,-0.0123477503657341,0.0391308031976223,-0.003177796956151724,-0.00434247637167573,-0.006612740457057953,0.00008185564365703613,0.019974755123257637,-0.04368628188967705,0.04362597316503525,-0.06056654453277588,-0.050868920981884,0.01051416713744402,0.00380685250274837,0.06242334470152855,-0.03952353075146675,-0.01043300423771143,0.00043687844299711287,0.006388561800122261,0.07456274330615997,0.03153245523571968,-0.002532646059989929,-0.001361843547783792,0.0065833996050059795,0.03631716966629028,0.02663726918399334,0.016148215159773827,0.019760750234127045,-0.02115621231496334,-0.03020731545984745,0.0009490656084381044,0.015516437590122223,-0.05096755549311638,0.010441713966429234,0.020735234022140503,-0.02172940969467163,0.009290521033108234,-0.011022918857634068,0.007737255189567804,-0.005974340718239546,0.00405885512009263,0.03030446171760559,0.026059571653604507,-0.04183761030435562,0.005385625176131725,0.012040015310049057,0.030428800731897354,0.04545120894908905,0.011207516305148602,0.02512829564511776,-0.013616329990327358,-0.006706693209707737,0.005483404733240604,0.0043976944871246815,-0.004772630520164967,0.009941940195858479,-0.008351198397576809,0.038102757185697556,-0.007970297709107399,-0.04248889535665512,-0.04870331659913063,0.013739215210080147,-0.08439817279577255,0.009685923345386982,-0.06767185032367706,0.010784606449306011,0.009236328303813934,-0.05936819314956665,0.022042063996195793,0.020586786791682243,-0.06052582710981369,-0.026566101238131523,-0.03301912173628807,-0.05097811296582222,-0.03603789582848549,0.07115869969129562,-0.014195172116160393,-0.03746887296438217,0.01883750595152378,0.01705857552587986,0.060282304883003235,0.0016693612560629845,0.08625760674476624,0.045938875526189804,0.012567543424665928,-0.02094029076397419,0.005558409728109837,0.03778870776295662,-0.05918608605861664,0.00015449020429514349,0.044596411287784576,-0.023305494338274002,-0.011374324560165405,-0.0009425138123333454,-0.018151603639125824,0.02136382646858692,-0.028797287493944168,-0.01066423486918211,0.06998636573553085,0.05536511167883873,0.050333421677351,-0.02748045325279236,-0.022852761670947075,0.02223169431090355,-0.006456245668232441,-0.014086654409766197,0.007173558697104454,0.032946255058050156,-0.061987776309251785,-0.031224006786942482,0.04609467461705208,0.05050993710756302,-0.011533256620168686,-0.03145070746541023,0.008903131820261478,0.013762075453996658,-0.03616706281900406,0.02560996823012829,-0.06613374501466751,0.06330928206443787,0.04805121570825577,-0.023831283673644066,0.033507414162158966,-0.0038094271440058947,0.018662944436073303,0.013779639266431332,0.008027208037674427,-0.037300653755664825,0.005149675998836756,0.043115489184856415,-0.06243792921304703,0.019962631165981293,-0.006401327438652515,-0.005360384471714497,0.030256034806370735,-0.0376310832798481,0.024298135191202164,-0.09352895617485046,0.027068888768553734,-0.011625689454376698,-0.0011800669599324465,0.05351772531867027,0.09024561196565628,0.00858268141746521,0.04530496522784233,-0.03781506046652794,0.02880065143108368,0.0004617742670234293,-0.058426499366760254,0.007205972447991371,0.013497021980583668,-0.009210721589624882,-0.04121394455432892,-0.014737535268068314,0.020441630855202675,0.006619696505367756,-0.019669800996780396,-0.004638229962438345,-0.007035370916128159,-0.09030912071466446,-6.984733800656276e-33,-0.009469591081142426,-0.03650795295834541,-0.039992138743400574,-0.0013226944720372558,-0.000793050101492554,-0.02920185774564743,0.036116912961006165,-0.013482049107551575,0.023673413321375847,0.0011295154690742493,-0.019538599997758865,-0.018569760024547577,0.030226830393075943,0.0007256123353727162,0.028115155175328255,0.058405373245477676,0.03234773874282837,-0.0333346463739872,-0.0402885377407074,0.016156142577528954,-0.05060123652219772,0.06648728251457214,0.03635144233703613,-0.007159266155213118,-0.026091843843460083,0.036318328231573105,-0.02015385590493679,0.0069692088291049,0.02337212860584259,-0.01124007347971201,0.029790449887514114,-0.01491138618439436,-0.014776965603232384,-0.039260104298591614,-0.034247174859046936,-0.031434956938028336,0.006345553323626518,0.0023351735435426235,0.020153194665908813,0.004176925402134657,0.04582246392965317,0.048073429614305496,0.06859846413135529,-0.02059507928788662,0.01884402707219124,0.0040535880252718925,0.019825708121061325,-0.006718939170241356,0.007940863259136677,0.02241155318915844,0.03330051898956299,-0.007236238569021225,-0.031234342604875565,0.03908470645546913,0.03660087287425995,0.061822932213544846,0.03142524138092995,0.026097508147358894,-0.05767692252993584,0.02155926823616028,-0.09845976531505585,-0.049842968583106995,0.01592591218650341,0.0005269876564852893,0.04248158261179924,0.020321497693657875,0.0029363385401666164,0.01270795613527298,0.03130241855978966,-0.042410723865032196,0.0021700840443372726,0.015068000182509422,-0.029849907383322716,-0.056314170360565186,-0.05819264426827431,0.038216929882764816,0.025353366509079933,0.0021895552054047585,0.014692338183522224,0.031527478247880936,0.009415071457624435,-0.014503134414553642,0.018742959946393967,0.006075253710150719,0.03720337525010109,-0.028393704444169998,0.006473094690591097,0.002852226607501507,0.04406532645225525,0.01342085562646389,0.008542608469724655,0.015410137362778187,-0.021206874400377274,0.010208608582615852,-0.06460165232419968,0.024032099172472954,0.052057113498449326,0.045507654547691345,0.0010610540630295873,-0.026849117130041122,0.040250685065984726,0.04086361825466156,0.001662329537793994,-0.03847808018326759,0.0037088217213749886,0.011524251662194729,0.029081573709845543,-0.03372533619403839,-0.0353829562664032,0.03417861461639404,0.024860713630914688,0.0316898450255394,-0.012306968681514263,0.03323502466082573,-0.009635246358811855,-0.0357549749314785,-0.02590804360806942,-0.03333832696080208,0.033749766647815704,0.03624621033668518,0.022551774978637695,0.029058177024126053,-0.04087378457188606,0.02394505776464939,0.011502469889819622,-0.002396603114902973,0.00578290456905961,-0.0894470363855362,-0.012849710881710052,0.014134099707007408,-0.006946473848074675,-0.03179722651839256,3.2925908044489915e-7,0.017575137317180634,0.012599099427461624,-0.025121644139289856,0.11935418844223022,0.028314238414168358,-0.025144819170236588,-0.04047957435250282,-0.008385390043258667,0.035222433507442474,-0.06026574596762657,0.021259380504488945,-0.01791715808212757,0.011168807744979858,0.03170783817768097,-0.021841268986463547,-0.06773632764816284,0.04051544517278671,-0.044669270515441895,-0.038637928664684296,-0.003552692709490657,0.039442550390958786,0.016294172033667564,0.06953280419111252,-0.0022194350603967905,0.013527622446417809,0.04439006373286247,-0.03881261125206947,-0.029505793005228043,0.025943048298358917,0.02291509136557579,-0.0026496732607483864,-0.04301739111542702,-0.028229039162397385,0.021798955276608467,-0.008725155144929886,0.05775010585784912,-0.003189967479556799,-0.042314864695072174,0.01663345657289028,0.020861737430095673,0.005458643659949303,-0.0252152681350708,-0.01256728544831276,-0.048449572175741196,-0.0077087958343327045,-0.080786794424057,-0.005935639142990112,-0.0006602194043807685,-0.004077038262039423,-0.01843847893178463,0.05753083899617195,0.023515520617365837,0.004380866885185242,-0.001318317954428494,0.03217429667711258,0.00044751891982741654,0.0398242250084877,0.04069483280181885,0.019560273736715317,0.03890090808272362,-0.013766043819487095,0.008730069734156132,0.01952381804585457,-0.010199530981481075,-0.007722820155322552,-0.012744511477649212,-0.015627285465598106,3.7525962785097414e-34,0.025051448494195938,-0.006986603606492281,0.02940233424305916,-0.006989882793277502,0.03355986624956131,-0.019295308738946915,0.05327603593468666,-0.017771823331713676,-0.0025145274121314287,-0.01698627881705761,-0.005558560136705637]'
SET
  @TechnicalDesignVector_82c81575 = N'[-0.034082021564245224,0.04325246438384056,-0.025535088032484055,-0.047616127878427505,0.007257397286593914,-0.0033684875816106796,0.03451984003186226,0.0023626419715583324,-0.023139063268899918,0.025892434641718864,-0.04139989987015724,0.012931778095662594,0.008595094084739685,0.09833730012178421,-0.01624077931046486,-0.03543877601623535,-0.0035104197449982166,0.03645330294966698,0.05816168338060379,-0.01123051904141903,0.03279883414506912,-0.019128136336803436,-0.020949864760041237,-0.018337547779083252,-0.0434541217982769,-0.007133728824555874,-0.07606517523527145,0.04191119596362114,-0.005457234103232622,-0.12315476685762405,0.00981222279369831,0.057541582733392715,-0.0308437030762434,0.04025266692042351,0.000002178504018957028,-0.032662488520145416,-0.0495302751660347,0.0027786376886069775,-0.011405611410737038,0.08155085891485214,0.05850903317332268,-0.05751127004623413,0.07078267633914948,-0.0032562038395553827,0.0049854060634970665,-0.07805358618497849,-0.04418395087122917,-0.0026551680639386177,0.06152978166937828,-0.06589680910110474,0.005942067597061396,0.042790237814188004,-0.05026700720191002,-0.02001309208571911,-0.051232077181339264,-0.04709659144282341,-0.002574257319793105,0.0787590742111206,0.06725510954856873,-0.04972406104207039,-0.051773473620414734,-0.002457006834447384,0.016133513301610947,-0.00006830482743680477,-0.0017959540709853172,0.0164943914860487,0.04992331191897392,-0.01895400695502758,-0.02761705033481121,0.02437700517475605,0.07188289612531662,-0.005141529254615307,-0.009732712060213089,-0.06943685561418533,-0.02580474503338337,-0.027090486139059067,-0.03629375994205475,-0.0017525816801935434,0.004350684583187103,0.0029427402187138796,-0.08799514919519424,0.06988009810447693,-0.03130439668893814,-0.009088478051126003,-0.0015970341628417373,-0.06802084296941757,-0.006428135093301535,-0.002702724887058139,-0.031167423352599144,0.01896602474153042,0.017184581607580185,-0.02165624313056469,-0.04032181575894356,0.003547475440427661,-0.019717054441571236,-0.00814654491841793,0.02551049180328846,-0.011785564012825489,0.04328366369009018,0.06869230419397354,0.006712788250297308,0.023514948785305023,0.04548580199480057,0.018249157816171646,0.09501765668392181,-0.01489860750734806,0.006642363499850035,-0.05440671741962433,-0.0010345492046326399,0.0035132081247866154,0.0019266996532678604,0.023295335471630096,-0.00333318579941988,0.02149203233420849,-0.024355366826057434,-0.01590975560247898,-0.04536723718047142,-0.015287278220057487,-0.019274543970823288,-0.005121979396790266,0.12993454933166504,0.019022826105356216,0.007218752522021532,0.049865711480379105,0.006235532928258181,0.02399992011487484,-0.020313864573836327,-0.002109719440340996,-0.01707945577800274,-0.047757796943187714,-0.04380045086145401,-0.022440312430262566,0.020496468991041183,0.0047693029046058655,-0.011010672897100449,-0.006913607940077782,0.020362485200166702,0.03349754586815834,-0.08597097545862198,-0.025074467062950134,-0.004879164509475231,0.010480055585503578,-0.03688179701566696,0.005531589966267347,0.025952672585844994,-0.04126409813761711,0.018641283735632896,0.009594605304300785,0.035249121487140656,0.014825363643467426,-0.009882374666631222,0.017512423917651176,-0.011960477568209171,0.006690999027341604,-0.07214292883872986,-0.017448395490646362,-0.005601835902780294,0.018796829506754875,0.02250031940639019,0.02480630949139595,-0.002289470750838518,-0.006081277038902044,0.035859402269124985,-0.010511648841202259,0.009612837806344032,0.05014524608850479,-0.020576737821102142,-0.005586082115769386,-0.08944209665060043,-0.05668826401233673,-0.0049303011037409306,-0.05250979959964752,-0.01813572831451893,0.020878424867987633,0.04980505630373955,0.008099084720015526,0.07989813387393951,-0.03584477677941322,-0.0785539522767067,0.019798116758465767,0.04949410259723663,-0.10759071260690689,0.003990989178419113,0.005249778274446726,0.13570189476013184,-0.018897175788879395,-0.03950418159365654,0.0018961266614496708,-0.005271002184599638,0.010457826778292656,-0.024808766320347786,0.033305514603853226,0.003960823640227318,0.006195911671966314,-0.009070055559277534,-0.007437313441187143,0.03466983139514923,-0.03573552891612053,0.05342145636677742,0.010796918533742428,-0.03541097044944763,0.002895832760259509,-0.0010286839678883553,-0.023916810750961304,0.00607460830360651,0.015255331993103027,-0.03448682650923729,0.011826383881270885,-0.043816838413476944,-0.016419444233179092,0.008749945089221,-0.0020641533192247152,-0.040968600660562515,-0.006584928371012211,-0.04258567839860916,0.02905985340476036,0.027002567425370216,0.012410462833940983,-0.008673588745296001,0.009151378646492958,-0.04904105141758919,-0.019511153921484947,0.05824338272213936,0.001341185998171568,0.12913191318511963,0.0513543076813221,0.04889869689941406,-0.0339791513979435,0.03762928396463394,0.01003314834088087,-0.028970995917916298,-0.021810758858919144,0.04911480471491814,0.05647425353527069,0.03441781550645828,0.04463418945670128,0.027278060093522072,-0.01633443310856819,-0.02625725418329239,0.021286439150571823,0.037295710295438766,-0.026509985327720642,-0.03660719841718674,-0.019880836829543114,-0.029802296310663223,-0.04448910057544708,-0.05106932669878006,-0.00028733533690683544,-0.01907598040997982,-0.025355147197842598,0.01591990888118744,0.0019156881608068943,0.04259764403104782,-0.0359659306704998,-0.007548340130597353,-0.009250856004655361,0.01610039547085762,0.03484004735946655,-0.024785498157143593,0.08854560554027557,0.0071152192540466785,0.012896383181214333,0.00046550281695090234,-0.05774880573153496,0.036279790103435516,-0.03553861007094383,0.053369343280792236,0.030362119898200035,0.012894324027001858,0.022394169121980667,0.006672231014817953,0.04823346808552742,-0.013047588989138603,-0.006933052558451891,-0.0498858280479908,0.028098033741116524,0.013734834268689156,0.017989251762628555,-0.028057966381311417,-0.019864192232489586,-0.03354797139763832,-0.020453287288546562,0.052801474928855896,0.04397725313901901,0.00010075992759084329,0.0016066461103037,0.04474087804555893,0.0362660251557827,-0.0019428817322477698,-0.04242366552352905,0.012260480783879757,-0.048128217458724976,0.04647056758403778,-0.012487532570958138,-0.028853418305516243,0.04274355620145798,-0.047338444739580154,0.02425568364560604,-0.07269077748060226,0.04981497302651405,-0.060783639550209045,-0.06161894649267197,-0.02230055257678032,0.010865790769457817,0.00933524128049612,0.04830290749669075,0.05770250782370567,-0.01177050732076168,-0.037182461470365524,0.06624068319797516,0.04408687353134155,-0.007334201131016016,0.016089575365185738,-0.02595515176653862,0.02574479766190052,0.009301044046878815,-0.04493141919374466,0.01810247078537941,-0.012080722488462925,0.045381732285022736,-0.005004936829209328,-0.05407344922423363,0.014381632208824158,-0.022241387516260147,-0.05379023402929306,0.003120842156931758,-0.04969274625182152,-0.0343705490231514,-0.006776805035769939,-0.02056724578142166,-0.030948596075177193,-0.08560343086719513,-0.006307891104370356,-0.007130307611078024,0.06175420433282852,0.015698973089456558,-0.03425474092364311,0.00029933976475149393,-0.007080399431288242,-0.048342265188694,-0.01095182728022337,0.010115699842572212,-0.042207978665828705,0.009071310982108116,0.018934572115540504,-0.02714512310922146,0.09383493661880493,-0.0037510923575609922,-0.05645430460572243,0.02937948890030384,0.04203953221440315,0.0035190428607165813,0.0030665097292512655,-0.013794036582112312,0.02335568703711033,0.019025813788175583,-0.04788783937692642,-0.022114958614110947,-0.005763171706348658,-0.03613907843828201,0.01828152872622013,0.0501846969127655,0.03054654225707054,0.07010619342327118,0.03238367661833763,0.028176991268992424,0.00942686665803194,0.039341095834970474,0.07575242966413498,-0.023078080266714096,-0.008121351711452007,0.03390996530652046,0.04896533116698265,0.010944615118205547,-0.013191497884690762,-0.035075075924396515,0.026915909722447395,0.026056110858917236,0.05060528218746185,0.0007284940802492201,-0.010709135793149471,-0.04620907083153725,0.058837540447711945,-0.0031213697511702776,0.08226200193166733,0.006881323643028736,-0.010497884824872017,-0.015727998688817024,-0.057950709015131,0.01289514359086752,0.011893249116837978,-0.01117366086691618,0.07955359667539597,-0.015603781677782536,0.008534306660294533,0.0048028393648564816,-0.002633287338539958,0.014725805260241032,0.017301229760050774,0.0026040268130600452,0.012091527692973614,0.04209667071700096,0.019513143226504326,-0.01220658142119646,0.033081404864788055,-0.03132672980427742,-0.07378572970628738,0.014175422489643097,0.013259854167699814,0.016621077433228493,-0.05726655200123787,-0.03284994512796402,-0.03262967988848686,-0.050648272037506104,0.03915327414870262,0.025780821219086647,-0.024896055459976196,-0.020317289978265762,0.03364052623510361,0.014484834857285023,0.016358748078346252,-0.011646069586277008,0.003129157004877925,0.005158488638699055,0.05489078164100647,0.009903214871883392,-0.019329944625496864,-0.029910385608673096,-0.0024098625872284174,0.05007796734571457,0.024807345122098923,0.02028183452785015,0.017059437930583954,0.00034505125950090587,-0.025004882365465164,-0.019484486430883408,0.042050547897815704,-0.046679895371198654,-0.051781632006168365,0.03290840983390808,-0.056512922048568726,0.04303458333015442,0.06385007500648499,-0.008325544185936451,-0.00809525977820158,-0.006955627351999283,-0.007529678288847208,0.009704099968075752,-0.014768894761800766,-0.01812920905649662,0.0010427760425955057,0.0028861146420240402,-0.011828151531517506,0.022366445511579514,-0.0301564559340477,-0.03830818831920624,0.00463404506444931,-0.09623011201620102,-0.008863857015967369,-0.011445670388638973,-0.021809499710798264,0.01715283840894699,-0.025020113214850426,-0.00234055588953197,0.04534067586064339,-0.023140883073210716,-0.009817417711019516,-0.03619207441806793,-0.002414703369140625,-0.05323329195380211,0.06374645233154297,0.00052656140178442,-0.03422507271170616,0.010770403780043125,0.03698268532752991,0.06841041147708893,0.0025026726070791483,0.014514071866869926,-0.0052205356769263744,-0.015301231294870377,0.023833271116018295,0.03303522244095802,0.0412435457110405,-0.12135341763496399,0.023650575429201126,0.01774013042449951,-0.019020987674593925,-0.01947713829576969,-0.03251445293426514,-0.02315606363117695,0.0075197587721049786,-0.035156797617673874,-0.03927287086844444,0.05679527670145035,0.09253140538930893,0.0414937287569046,-0.047981228679418564,0.01972264051437378,0.02219013310968876,-0.05182429775595665,-0.0383317805826664,0.006928243674337864,0.01658438891172409,-0.01273493841290474,-0.021026533097028732,0.018159044906497,0.047456249594688416,0.012840500101447105,-0.0085897883400321,0.007575685624033213,0.032512176781892776,-0.016461176797747612,-0.02204984985291958,-0.008569933474063873,0.04202166944742203,0.009991218335926533,-0.047548163682222366,0.02822699584066868,0.017861856147646904,0.004002883564680815,-0.008766021579504013,0.00648516695946455,-0.01110962126404047,-0.04507257789373398,0.11472778767347336,-0.04002668708562851,0.018899643793702126,-0.0316673219203949,0.012901224195957184,0.03253195434808731,-0.005124132614582777,-0.019858114421367645,-0.0189222265034914,-0.0015863478183746338,-0.02512974478304386,0.03418566286563873,0.05088593810796738,0.019149506464600563,0.023561205714941025,0.010738956741988659,-0.06611350923776627,-0.0017222495516762137,0.0020649603102356195,-0.05064952373504639,0.03603176772594452,0.007882311008870602,-0.00320736737921834,-0.04262854903936386,0.021544691175222397,0.07198147475719452,0.02752133086323738,-0.017427006736397743,0.0019861573819071054,-0.022034713998436928,-0.060127682983875275,-7.02951499263482e-33,0.002823742339387536,-0.017251070588827133,-0.04995524138212204,-0.04504232108592987,-0.011972418986260891,-0.024054935202002525,0.06905745714902878,-0.05664641037583351,0.009436878375709057,0.00019794056424871087,-0.02712644822895527,0.012086644768714905,0.020267007872462273,-0.0009621534263715148,0.03150057792663574,0.018908772617578506,0.01854065991938114,-0.012263027019798756,-0.028847763314843178,0.004875039681792259,-0.024050001055002213,0.0489620603621006,-0.01788158528506756,-0.048398058861494064,-0.010371387004852295,0.0020209511276334524,-0.013578810729086399,0.0049947937950491905,-0.002286443952471018,-0.00413647573441267,0.018266312777996063,-0.019144289195537567,-0.015074296854436398,-0.002977319760248065,-0.047697100788354874,-0.04976404085755348,-0.023671088740229607,-0.05114449933171272,-0.010963857173919678,0.018024729564785957,0.07331753522157669,0.06083938851952553,0.05483769252896309,-0.03276067227125168,0.007115915883332491,-0.006464851554483175,-0.017399480566382408,0.00009731030149850994,-0.020765244960784912,-0.011221629567444324,0.0691395178437233,0.013148851692676544,0.017797624692320824,-0.0034750483464449644,-0.009861702099442482,-0.003459812607616186,0.029587162658572197,0.08568012714385986,-0.05466252192854881,0.027465306222438812,-0.04539364576339722,-0.06021570414304733,0.032217346131801605,-0.000688112631905824,0.06630188971757889,-0.00949926022440195,-0.004965051542967558,0.007771927397698164,-0.03495060279965401,-0.048248834908008575,-0.015266256406903267,-0.0068647610023617744,0.023685865104198456,-0.00639417814090848,0.004061986692249775,0.0033931145444512367,-0.009599071927368641,-0.01569342240691185,-0.01811680942773819,0.0014973168727010489,-0.027637047693133354,0.008955195546150208,-0.02494463510811329,0.00975810270756483,0.047276683151721954,0.036900900304317474,0.000034417305869283155,-0.004978575743734837,0.025073355063796043,0.004585278686136007,-0.04012617468833923,0.040736421942710876,-0.05068393424153328,0.013743514195084572,-0.06763343513011932,-0.024428412318229675,0.08413609117269516,0.02137315273284912,-0.006553347688168287,-0.03654671087861061,0.037283800542354584,0.04196950048208237,-0.012486687861382961,0.0008381811203435063,-0.002488032216206193,0.007569886744022369,0.03456871956586838,-0.011722756549715996,-0.05776967108249664,0.012847112491726875,0.014786831103265285,0.005088228266686201,-0.006090566050261259,-0.04355163127183914,0.01616455614566803,-0.022874275222420692,-0.01861264370381832,-0.0496356263756752,0.07969245314598083,0.024439522996544838,0.013779763132333755,-0.012326587922871113,-0.05253041163086891,0.0046989391557872295,0.07002051174640656,-0.023777619004249573,-0.007874268107116222,-0.09208361804485321,0.0027099866420030594,0.04061318188905716,0.00564317312091589,-0.011930146254599094,3.1177606274468417e-7,0.027578886598348618,0.0019432411063462496,-0.03834448754787445,0.061026107519865036,0.0022093907464295626,-0.03289346024394035,-0.06822062283754349,-0.0014716133009642363,-0.010691444389522076,-0.044035594910383224,0.012295296415686607,0.0165865421295166,0.023016374558210373,0.06300393491983414,0.014269386418163776,-0.02830657735466957,-0.0023264687042683363,-0.05001896619796753,-0.004661228973418474,0.01631886698305607,0.05593219771981239,0.02227276936173439,0.0814281553030014,0.0049962312914431095,0.00787294376641512,-0.017006129026412964,-0.021153705194592476,-0.028382249176502228,0.027117321267724037,-0.013546578586101532,-0.0019111958099529147,-0.03939065337181091,-0.018142567947506905,0.025232847779989243,0.005200651474297047,0.00729326531291008,-0.04209582507610321,-0.05643337219953537,0.0008633729885332286,0.08017314970493317,0.02591211348772049,-0.034889258444309235,-0.012905054725706577,0.02540471777319908,0.004239307716488838,-0.06309603899717331,-0.010091088712215424,0.09422513097524643,0.0130116306245327,0.02725008875131607,0.050789717584848404,0.028664711862802505,0.02001977153122425,-0.008456705138087273,0.0016712563810870051,0.013868208974599838,0.02137673646211624,0.05152442306280136,-0.007026332430541515,-0.030575351789593697,-0.008685690350830555,-0.07255277782678604,0.025767186656594276,-0.008274449035525322,-0.0014925349969416857,-0.0428384430706501,-0.027655672281980515,3.668548662014688e-34,0.050800252705812454,-0.03794604539871216,0.03588980436325073,0.042712271213531494,0.021107347682118416,-0.027849210426211357,0.013272822834551334,-0.036486849188804626,0.0183658879250288,-0.048780523240566254,-0.005994434934109449]'
SET
  @HasCustomProps_82c81575 = 1
SET
  @HasCustomEvents_82c81575 = 1
SET
  @RequiresData_82c81575 = 1
SET
  @DependencyCount_82c81575 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_82c81575 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_82c81575 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_82c81575 = 0
SET
  @ID_82c81575 = '0912DC50-A416-4DF2-A609-2D1DFF952A94'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_82c81575,
  @Name = @Name_82c81575,
  @Version = @Version_82c81575,
  @VersionSequence = @VersionSequence_82c81575,
  @Title = @Title_82c81575,
  @Description = @Description_82c81575,
  @Type = @Type_82c81575,
  @Status = @Status_82c81575,
  @DeveloperName = @DeveloperName_82c81575,
  @DeveloperEmail = @DeveloperEmail_82c81575,
  @DeveloperOrganization = @DeveloperOrganization_82c81575,
  @SourceRegistryID = @SourceRegistryID_82c81575,
  @ReplicatedAt = @ReplicatedAt_82c81575,
  @LastSyncedAt = @LastSyncedAt_82c81575,
  @Specification = @Specification_82c81575,
  @FunctionalRequirements = @FunctionalRequirements_82c81575,
  @TechnicalDesign = @TechnicalDesign_82c81575,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_82c81575,
  @TechnicalDesignVector = @TechnicalDesignVector_82c81575,
  @HasCustomProps = @HasCustomProps_82c81575,
  @HasCustomEvents = @HasCustomEvents_82c81575,
  @RequiresData = @RequiresData_82c81575,
  @DependencyCount = @DependencyCount_82c81575,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_82c81575,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_82c81575,
  @HasRequiredCustomProps = @HasRequiredCustomProps_82c81575,
  @ID = @ID_82c81575;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_8731f9ce NVARCHAR(MAX),
@Name_8731f9ce NVARCHAR(500),
@Version_8731f9ce NVARCHAR(50),
@VersionSequence_8731f9ce INT,
@Title_8731f9ce NVARCHAR(1000),
@Description_8731f9ce NVARCHAR(MAX),
@Type_8731f9ce NVARCHAR(255),
@Status_8731f9ce NVARCHAR(50),
@DeveloperName_8731f9ce NVARCHAR(255),
@DeveloperEmail_8731f9ce NVARCHAR(255),
@DeveloperOrganization_8731f9ce NVARCHAR(255),
@SourceRegistryID_8731f9ce UNIQUEIDENTIFIER,
@ReplicatedAt_8731f9ce DATETIMEOFFSET,
@LastSyncedAt_8731f9ce DATETIMEOFFSET,
@Specification_8731f9ce NVARCHAR(MAX),
@FunctionalRequirements_8731f9ce NVARCHAR(MAX),
@TechnicalDesign_8731f9ce NVARCHAR(MAX),
@FunctionalRequirementsVector_8731f9ce NVARCHAR(MAX),
@TechnicalDesignVector_8731f9ce NVARCHAR(MAX),
@HasCustomProps_8731f9ce BIT,
@HasCustomEvents_8731f9ce BIT,
@RequiresData_8731f9ce BIT,
@DependencyCount_8731f9ce INT,
@TechnicalDesignVectorEmbeddingModelID_8731f9ce NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_8731f9ce NVARCHAR(MAX),
@HasRequiredCustomProps_8731f9ce BIT,
@ID_8731f9ce UNIQUEIDENTIFIER
SET
  @Namespace_8731f9ce = N'CRM/Analytics'
SET
  @Name_8731f9ce = N'DealsTable'
SET
  @Version_8731f9ce = N'1.0.0'
SET
  @VersionSequence_8731f9ce = 1
SET
  @Title_8731f9ce = N'Deals Table'
SET
  @Description_8731f9ce = N'Displays deals in a sortable table with stage colors and open actions'
SET
  @Type_8731f9ce = N'Table'
SET
  @Status_8731f9ce = N'Published'
SET
  @Specification_8731f9ce = N'{"name":"DealsTable","location":"embedded","code":"function DealsTable({ deals, title, onClose, sortConfig, setSortConfig, callbacks }) {\n  const formatCurrency = (value) => {\n    if (!value) return ''$0'';\n    if (value >= 1000000) return `$$' + '{(value / 1000000).toFixed(1)}M`;\n    if (value >= 1000) return `$$' + '{(value / 1000).toFixed(0)}K`;\n    return `$$' + '{value.toFixed(0)}`;\n  };\n\n  const formatDate = (date) => {\n    if (!date) return ''N/A'';\n    return dayjs(date).format(''MMM D, YYYY'');\n  };\n\n  const getStageColor = (stage) => {\n    const colors = {\n      ''Prospecting'': ''#9CA3AF'',\n      ''Qualification'': ''#3B82F6'',\n      ''Proposal'': ''#8B5CF6'',\n      ''Negotiation'': ''#F59E0B'',\n      ''Closed Won'': ''#10B981'',\n      ''Closed Lost'': ''#EF4444''\n    };\n    return colors[stage] || ''#6B7280'';\n  };\n\n  // Sort deals\n  const sortedDeals = [...deals].sort((a, b) => {\n    const aValue = a[sortConfig.key];\n    const bValue = b[sortConfig.key];\n\n    if (aValue === null || aValue === undefined) return 1;\n    if (bValue === null || bValue === undefined) return -1;\n\n    if (sortConfig.direction === ''asc'') {\n      return aValue > bValue ? 1 : -1;\n    } else {\n      return aValue < bValue ? 1 : -1;\n    }\n  });\n\n  const handleSort = (key) => {\n    setSortConfig({\n      key,\n      direction: sortConfig.key === key && sortConfig.direction === ''desc'' ? ''asc'' : ''desc''\n    });\n  };\n\n  return (\n    <div style={{\n      backgroundColor: ''white'',\n      borderRadius: ''8px'',\n      padding: ''20px'',\n      marginTop: ''20px'',\n      border: ''1px solid #E5E7EB''\n    }}>\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center'',\n        marginBottom: ''16px''\n      }}>\n        <h3 style={{ margin: 0, fontSize: ''18px'', fontWeight: ''bold'' }}>\n          {title} ({deals.length})\n        </h3>\n        <button\n          onClick={onClose}\n          style={{\n            background: ''none'',\n            border: ''none'',\n            fontSize: ''24px'',\n            cursor: ''pointer'',\n            color: ''#6B7280''\n          }}\n        >\n          ×\n        </button>\n      </div>\n\n      <div style={{ overflowX: ''auto'' }}>\n        <table style={{ width: ''100%'', borderCollapse: ''collapse'' }}>\n          <thead>\n            <tr style={{ borderBottom: ''2px solid #E5E7EB'' }}>\n              <th\n                onClick={() => handleSort(''DealName'')}\n                style={{\n                  padding: ''12px 8px'',\n                  textAlign: ''left'',\n                  cursor: ''pointer'',\n                  fontSize: ''12px'',\n                  fontWeight: ''600'',\n                  color: ''#374151'',\n                  textTransform: ''uppercase''\n                }}\n              >\n                Deal Name {sortConfig.key === ''DealName'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n              </th>\n              <th\n                onClick={() => handleSort(''Stage'')}\n                style={{\n                  padding: ''12px 8px'',\n                  textAlign: ''left'',\n                  cursor: ''pointer'',\n                  fontSize: ''12px'',\n                  fontWeight: ''600'',\n                  color: ''#374151'',\n                  textTransform: ''uppercase''\n                }}\n              >\n                Stage {sortConfig.key === ''Stage'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n              </th>\n              <th\n                onClick={() => handleSort(''Amount'')}\n                style={{\n                  padding: ''12px 8px'',\n                  textAlign: ''right'',\n                  cursor: ''pointer'',\n                  fontSize: ''12px'',\n                  fontWeight: ''600'',\n                  color: ''#374151'',\n                  textTransform: ''uppercase''\n                }}\n              >\n                Amount {sortConfig.key === ''Amount'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n              </th>\n              <th\n                onClick={() => handleSort(''Probability'')}\n                style={{\n                  padding: ''12px 8px'',\n                  textAlign: ''center'',\n                  cursor: ''pointer'',\n                  fontSize: ''12px'',\n                  fontWeight: ''600'',\n                  color: ''#374151'',\n                  textTransform: ''uppercase''\n                }}\n              >\n                Prob % {sortConfig.key === ''Probability'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n              </th>\n              <th\n                onClick={() => handleSort(''CloseDate'')}\n                style={{\n                  padding: ''12px 8px'',\n                  textAlign: ''left'',\n                  cursor: ''pointer'',\n                  fontSize: ''12px'',\n                  fontWeight: ''600'',\n                  color: ''#374151'',\n                  textTransform: ''uppercase''\n                }}\n              >\n                Close Date {sortConfig.key === ''CloseDate'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n              </th>\n              <th style={{\n                padding: ''12px 8px'',\n                textAlign: ''center'',\n                fontSize: ''12px'',\n                fontWeight: ''600'',\n                color: ''#374151'',\n                textTransform: ''uppercase''\n              }}>\n                Action\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortedDeals.map((deal, index) => (\n              <tr\n                key={deal.ID || index}\n                style={{\n                  borderBottom: ''1px solid #F3F4F6'',\n                  transition: ''background-color 0.2s''\n                }}\n                onMouseEnter={(e) => e.currentTarget.style.backgroundColor = ''#F9FAFB''}\n                onMouseLeave={(e) => e.currentTarget.style.backgroundColor = ''transparent''}\n              >\n                <td style={{ padding: ''12px 8px'', fontSize: ''14px'', fontWeight: ''500'' }}>\n                  {deal.DealName}\n                </td>\n                <td style={{ padding: ''12px 8px'' }}>\n                  <span style={{\n                    padding: ''4px 8px'',\n                    backgroundColor: getStageColor(deal.Stage) + ''20'',\n                    color: getStageColor(deal.Stage),\n                    borderRadius: ''12px'',\n                    fontSize: ''12px'',\n                    fontWeight: ''500''\n                  }}>\n                    {deal.Stage}\n                  </span>\n                </td>\n                <td style={{ padding: ''12px 8px'', textAlign: ''right'', fontSize: ''14px'' }}>\n                  {formatCurrency(deal.Amount)}\n                </td>\n                <td style={{ padding: ''12px 8px'', textAlign: ''center'', fontSize: ''14px'' }}>\n                  {deal.Probability || 0}%\n                </td>\n                <td style={{ padding: ''12px 8px'', fontSize: ''14px'', color: ''#6B7280'' }}>\n                  {formatDate(deal.CloseDate)}\n                </td>\n                <td style={{ padding: ''12px 8px'', textAlign: ''center'' }}>\n                  <button\n                    onClick={() => callbacks.OpenEntityRecord(''Deals'', [{ FieldName: ''ID'', Value: deal.ID }])}\n                    style={{\n                      background: ''none'',\n                      border: ''none'',\n                      color: ''#4F46E5'',\n                      cursor: ''pointer'',\n                      fontSize: ''16px'',\n                      padding: ''4px''\n                    }}\n                    title=\"Open Deal\"\n                  >\n                    <i className=\"fa-solid fa-arrow-up-right-from-square\"></i>\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n","description":"Displays deals in a sortable table with stage colors and open actions","category":"Deals","type":"table","dataRequirements":{"mode":"views","entities":[{"name":"Deals","displayFields":["ID","Dealname","Accountname","Stage","Amount","CloseDate","Owner"],"filterFields":["Stage"],"sortFields":["Dealname","Accountname","Stage","Amount","CloseDate"]}]},"properties":[{"name":"deals","type":"array","description":"Array of deal objects to display in the table","required":true},{"name":"title","type":"string","description":"Title to display above the table","required":true},{"name":"onClose","type":"function","description":"Callback when close button is clicked","required":true},{"name":"sortConfig","type":"object","description":"Current sort configuration with key and direction","required":true},{"name":"setSortConfig","type":"function","description":"Function to update sort configuration","required":true},{"name":"callbacks","type":"object","description":"Callback functions including OpenEntityRecord","required":true},{"name":"styles","type":"object","description":"Style utilities and theme configuration","required":true},{"name":"utilities","type":"object","description":"MemberJunction utilities for data access","required":true},{"name":"components","type":"object","description":"Registry of available components","required":true}],"events":[{"name":"onClose","description":"Fired when the close button is clicked"},{"name":"onSort","description":"Fired when a column header is clicked for sorting","parameters":[{"name":"key","type":"string","description":"The field name to sort by"}]},{"name":"onOpenDeal","description":"Fired when the open icon is clicked","parameters":[{"name":"entityName","type":"string","description":"Name of the entity (Deals)"},{"name":"primaryKey","type":"array","description":"Array of key-value pairs for the deal ID"}]}],"usageExample":"```javascript\n<DealsTable\n  deals={drillDownDeals}\n  title=\"Prospecting Stage Deals\"\n  onClose={() => setDrillDownDeals(null)}\n  sortConfig={{ key: ''Amount'', direction: ''desc'' }}\n  setSortConfig={setSortConfig}\n  callbacks={callbacks}\n/>\n```","functionalRequirements":"- Display deals in sortable table format\n- Show deal name, account, stage, amount, close date, and owner\n- Format currency values appropriately\n- Apply stage-specific colors to stage badges\n- Support sorting by any column (toggle asc/desc)\n- Include close button in header\n- Include open icon for external navigation\n- Show hover effects on rows","technicalDesign":"Renders deals in HTML table with sortable columns. Uses formatCurrency for amounts, formatDate for dates, and getStageColor for stage badges. Sorting toggles between ascending and descending on header clicks. Integrates with OpenEntityRecord callback for opening deals externally."}'
SET
  @FunctionalRequirements_8731f9ce = N'- Display deals in sortable table format
- Show deal name, account, stage, amount, close date, and owner
- Format currency values appropriately
- Apply stage-specific colors to stage badges
- Support sorting by any column (toggle asc/desc)
- Include close button in header
- Include open icon for external navigation
- Show hover effects on rows'
SET
  @TechnicalDesign_8731f9ce = N'Renders deals in HTML table with sortable columns. Uses formatCurrency for amounts, formatDate for dates, and getStageColor for stage badges. Sorting toggles between ascending and descending on header clicks. Integrates with OpenEntityRecord callback for opening deals externally.'
SET
  @FunctionalRequirementsVector_8731f9ce = N'[0.0009216548060066998,0.024259235709905624,-0.015737231820821762,-0.009422553703188896,0.006948827765882015,0.004632689990103245,0.033492449671030045,0.07033690065145493,-0.05194326490163803,-0.0028045412618666887,-0.04193124547600746,0.02855989895761013,-0.010025059804320335,0.1408979296684265,-0.01623355597257614,-0.03668034076690674,-0.020785510540008545,-0.013682947494089603,0.043791063129901886,-0.003899557515978813,-0.009004746563732624,-0.015495756641030312,-0.016943590715527534,-0.025256706401705742,0.02941940911114216,0.015134158544242382,-0.04618047550320625,0.04371384158730507,-0.005424760282039642,-0.05882721021771431,-0.016094641759991646,0.06977839022874832,-0.051743462681770325,-0.01432852353900671,0.0000017828341469794395,-0.019463440403342247,-0.06019219756126404,0.013552648946642876,-0.011448483914136887,0.03916704282164574,0.06741570681333542,-0.035720352083444595,0.05567066743969917,-0.008143460378050804,0.01453937403857708,-0.11301269382238388,-0.06214204058051109,0.13068601489067078,0.0297403484582901,-0.026054076850414276,0.018652193248271942,-0.05425198748707771,0.00006366685556713492,-0.0003148165124002844,0.04340726509690285,0.017037037760019302,0.0077912528067827225,-0.020134491845965385,-0.003066398436203599,-0.01870398223400116,0.002347670029848814,-0.012151282280683517,0.025918573141098022,-0.027254801243543625,0.027300558984279633,0.010371848940849304,-0.049636807292699814,0.01535164937376976,0.018061472102999687,0.005373882129788399,0.026311971247196198,-0.02766013704240322,0.0034774926025420427,-0.04858808219432831,0.0035129901953041553,-0.057393185794353485,-0.013632901012897491,0.03235770761966705,0.03608875349164009,-0.008843176998198032,0.03536892309784889,0.034707847982645035,-0.04878663644194603,0.011520691215991974,-0.01538380328565836,-0.01819690875709057,-0.01648317091166973,-0.030770432204008102,0.0037501680199056864,-0.02297266572713852,0.04520087689161301,0.018446050584316254,-0.014114291407167912,0.01042740698903799,-0.06694880872964859,-0.025661297142505646,0.04090576991438866,0.04207330569624901,0.00948560331016779,0.009802018292248249,-0.06951787322759628,0.04750956594944,0.034518059343099594,0.02242201194167137,-0.0034607022535055876,0.015875304117798805,-0.022485289722681046,0.021503981202840805,-0.01701793260872364,0.025781145319342613,0.03193345665931702,0.023909715935587883,-0.011546011082828045,0.025072896853089333,-0.05803307890892029,0.00018164797802455723,-0.05300537869334221,-0.02024824544787407,-0.005153219681233168,0.05666987970471382,0.15440331399440765,0.022560469806194305,0.005640363786369562,0.020029395818710327,0.03125976398587227,-0.05494040995836258,-0.01780131459236145,-0.028740692883729935,0.004881419241428375,0.028769442811608315,-0.042257677763700485,0.006912582088261843,0.02533467300236225,-0.0059577347710728645,-0.011433027684688568,-0.020463241264224052,0.01824779435992241,0.032785579562187195,-0.028937142342329025,0.004942527040839195,0.02170863188803196,0.019530039280653,-0.024655789136886597,0.04274914413690567,0.016130954027175903,0.007393755950033665,-0.020914467051625252,0.03749057278037071,0.01038394495844841,-0.012599257752299309,-0.0062174806371331215,-0.0029569873586297035,-0.00841413252055645,0.023101408034563065,-0.04705239459872246,-0.004973930306732655,-0.04183713346719742,-0.06810925900936127,-0.02855803072452545,0.03804805129766464,-0.03069269470870495,-0.02869248017668724,0.020260045304894447,-0.014225655235350132,-0.04943450167775154,0.0035646725445985794,-0.045226287096738815,-0.004671495873481035,-0.03451043739914894,0.005662707611918449,0.015079354867339134,0.002538088010624051,-0.02238544076681137,0.021258793771266937,0.028900695964694023,-0.007781182415783405,0.08360249549150467,-0.0037477014120668173,-0.030717570334672928,-0.014358756132423878,0.06192920729517937,-0.10400604456663132,0.03171782195568085,-0.014464424923062325,0.08672948181629181,-0.030222393572330475,-0.053767092525959015,-0.010708962567150593,0.009314024820923805,0.004045887850224972,0.005045716185122728,0.016836930066347122,-0.03040836751461029,0.045331139117479324,-0.023320820182561874,-0.014377173967659473,-0.019925929605960846,-0.12794432044029236,0.032278016209602356,-0.012364666908979416,0.007142491638660431,-0.029246965423226357,-0.006088122259825468,0.07411661744117737,0.02068873681128025,0.017602959647774696,0.01534966193139553,-0.04601007699966431,-0.06764933466911316,0.003209417685866356,0.04522491246461868,-0.004238170571625233,-0.08105987310409546,0.01221869233995676,-0.03794557973742485,0.0617346316576004,0.01722908578813076,0.010006170719861984,-0.0626133531332016,-0.017359493300318718,-0.026924604550004005,-0.01062104757875204,-0.005469976924359798,0.005598511081188917,0.1829049438238144,-0.00027980920276604593,0.03236548975110054,-0.021750956773757935,0.06216617673635483,0.009664880111813545,0.00817657820880413,-0.024621104821562767,0.04256600886583328,0.0027927528135478497,0.04371413588523865,0.046214234083890915,0.02539213001728058,0.06931036710739136,-0.035913899540901184,0.06534091383218765,-0.015697933733463287,-0.0485125370323658,-0.03540108725428581,-0.010661434382200241,0.011177151463925838,0.009704015217721462,-0.020254557952284813,-0.0119198989123106,0.010622560046613216,0.016063233837485313,0.0019330555805936456,0.03687125816941261,0.113322414457798,-0.026518478989601135,-0.005145677365362644,0.032043248414993286,-0.04730137065052986,-0.002954263472929597,-0.046272486448287964,0.06251032650470734,-0.012237023562192917,-0.022818991914391518,0.0021392505150288343,-0.03470787778496742,0.048133715987205505,-0.009963897056877613,0.06382227689027786,-0.044895630329847336,-0.014709717594087124,0.010470665991306305,-0.0244076419621706,0.03278190270066261,-0.011496217921376228,-0.0010274738306179643,-0.014246795326471329,0.030491391196846962,-0.04311072826385498,0.03397108614444733,-0.02071988768875599,0.006969428155571222,-0.012536945752799511,-0.039741721004247665,-0.014018436893820763,0.021231381222605705,-0.0077140964567661285,-0.01732359081506729,-0.004155588801950216,-0.03402857854962349,0.00394456135109067,-0.059905342757701874,0.0436582937836647,0.009599908255040646,0.05126192420721054,-0.011773955076932907,-0.05229245871305466,0.011621461249887943,-0.06644438952207565,0.06137871369719505,-0.016145775094628334,0.027666497975587845,-0.01518990471959114,-0.010996128432452679,-0.0003722244000528008,0.0007824308704584837,0.01719098538160324,0.059393689036369324,0.020959656685590744,-0.010147103108465672,0.0010915076127275825,0.057905733585357666,0.002161674899980426,0.035950370132923126,-0.003682053880766034,-0.0782216340303421,0.007645652629435062,-0.005268158856779337,-0.01651817187666893,0.07814532518386841,-0.0038970450405031443,0.07140868902206421,-0.005969371646642685,0.016828114166855812,-0.034189753234386444,0.012304091826081276,-0.01567247323691845,0.033536262810230255,-0.01815948449075222,-0.043494027107954025,-0.023347001522779465,-0.005307660438120365,0.047850847244262695,-0.037808891385793686,-0.006677355617284775,-0.04186338558793068,0.03397728130221367,0.03749898076057434,-0.021833864971995354,-0.008407345972955227,0.027259215712547302,-0.023381510749459267,-0.01651630364358425,-0.015297090634703636,-0.011723607778549194,-0.03623344749212265,0.04290289431810379,-0.015939366072416306,0.05265717953443527,0.0227812472730875,-0.13019923865795135,0.03921378776431084,0.06582300364971161,0.03276808187365532,-0.004228736273944378,-0.02180957794189453,0.016349421814084053,0.006349397823214531,-0.02871520072221756,-0.020060047507286072,-0.06709399819374084,-0.06350784748792648,-0.03578964248299599,-0.00017895197379402816,-0.0010124796535819769,0.03776473551988602,0.02804858610033989,0.04086367413401604,0.012221366167068481,-0.018159855157136917,0.0101658059284091,-0.026925133541226387,-0.05979297682642937,0.028753207996487617,0.02982625924050808,0.03834836184978485,-0.014221101999282837,-0.010539458133280277,0.009157541207969189,0.03823405131697655,-0.03752253204584122,-0.0024212305434048176,0.05889433994889259,-0.0180202703922987,0.09373456984758377,-0.04655736684799194,0.056830983608961105,0.013914970681071281,-0.006042733788490295,-0.006002405658364296,-0.004364645108580589,-0.01782977767288685,-0.004114783834666014,-0.058286018669605255,-0.004015687853097916,0.020087027922272682,-0.02886337600648403,-0.030899740755558014,0.02358974702656269,0.05665044113993645,-0.005231603980064392,0.01046596560627222,0.009679285809397697,0.06907585263252258,0.024679699912667274,-0.01277932245284319,0.047128498554229736,-0.05192190036177635,-0.0534932017326355,0.043030496686697006,0.0273183211684227,-0.04308842867612839,-0.06985504180192947,-0.03776989504694939,-0.026998834684491158,-0.024570444598793983,-0.021411722525954247,-0.004319498781114817,0.010364481247961521,-0.024281511083245277,-0.016047455370426178,0.025091195479035378,-0.005801995750516653,-0.012046847492456436,0.0018044973257929087,0.011888514272868633,-0.014351357705891132,-0.0006142015918157995,-0.03998483717441559,-0.10939046740531921,0.013252949342131615,0.02487623505294323,0.008115686476230621,0.005624453537166119,-0.031675875186920166,0.015301761217415333,-0.004244960844516754,0.049008142203092575,-0.0016431792173534632,0.016886992380023003,0.01984172686934471,-0.0018471145303919911,-0.02932182140648365,-0.014676781371235847,0.031086862087249756,-0.0177328921854496,0.005584764294326305,-0.040312524884939194,-0.017550837248563766,0.004548504948616028,-0.004663407802581787,-0.036930400878190994,-0.047017041593790054,-0.005526682827621698,-0.002568129450082779,-0.0005485979490913451,-0.03403307870030403,-0.029355110600590706,-0.0013631266774609685,0.08043301105499268,0.002034206874668598,-0.00216729030944407,0.005167549941688776,0.02948572114109993,-0.06861605495214462,0.02957279421389103,0.02748420089483261,-0.05664711818099022,-0.051727622747421265,-0.030203578993678093,-0.020587317645549774,-0.039320629090070724,0.005330795422196388,0.0006878498825244606,-0.033884886652231216,-0.052923016250133514,0.04024336114525795,-0.0002099789126077667,0.013367285951972008,0.013678566552698612,0.07158424705266953,0.010572011582553387,0.009708200581371784,0.002475554123520851,0.03195822238922119,-0.15523627400398254,0.01551878172904253,0.0654369592666626,-0.05073351413011551,-0.03620432689785957,0.0376276895403862,0.015721751376986504,0.05847523361444473,0.008309585973620415,-0.015151040628552437,0.04021753743290901,0.03302887827157974,0.004590361844748259,-0.056142207235097885,-0.00021019656560383737,-0.03401899337768555,-0.04697113111615181,-0.03546245023608208,-0.0068742334842681885,-0.04764582961797714,-0.01135737169533968,-0.013371190056204796,-0.01621999591588974,0.017678702250123024,0.02092113345861435,-0.01497652754187584,0.004954540636390448,0.04150991514325142,0.030940640717744827,-0.04678286612033844,0.0008056569495238364,0.042496033012866974,0.002996207680553198,-0.07351600378751755,0.05357266962528229,-0.01842336170375347,0.007447266485542059,0.017750240862369537,0.01414482481777668,-0.010287279263138771,-0.002527061849832535,0.07532153278589249,-0.010168473236262798,0.03956667333841324,-0.011001541279256344,0.019238073378801346,0.04836408048868179,-0.001965656876564026,-0.014771530404686928,0.0015248269774019718,0.014276059344410896,-0.028468387201428413,0.05700000375509262,-0.006000135093927383,0.07335541397333145,0.008219162002205849,-0.02163333259522915,-0.031578149646520615,0.02225707657635212,0.011007563211023808,0.0003854118112940341,0.004251903388649225,0.010056992992758751,-0.0445023812353611,-0.04087737947702408,0.007261236663907766,0.0158869456499815,-0.013189539313316345,-0.06739629805088043,-0.03508033603429794,-0.02102496661245823,-0.038525260984897614,-6.180055020272633e-33,-0.028225118294358253,-0.015288694761693478,-0.05465177819132805,-0.010410376824438572,0.057206593453884125,-0.015434369444847107,-0.01585618406534195,-0.05104558914899826,-0.006974072195589542,-0.00880615133792162,-0.014461644925177097,-0.015173199586570263,0.02233700267970562,-0.007455396931618452,0.039780911058187485,-0.020235726609826088,0.00860595703125,-0.00863482803106308,0.02717766910791397,0.02060159109532833,-0.05527731031179428,0.02243092656135559,0.0014351796125993133,0.030823657289147377,-0.01901385933160782,-0.013259130530059338,-0.0243899617344141,0.029175639152526855,-0.002016444457694888,0.029216455295681953,-0.025803178548812866,-0.01119017880409956,-0.03028629720211029,0.019318483769893646,0.02676517143845558,-0.07294612377882004,-0.028530998155474663,-0.008807966485619545,-0.021304288879036903,0.02380877360701561,0.08798898756504059,0.04417680203914642,0.03596578165888786,0.0012003631563857198,-0.029904117807745934,0.011937418952584267,0.0039053678046911955,0.013520900160074234,-0.010382686741650105,-0.022754263132810593,0.02756950818002224,0.010132107883691788,0.027233460918068886,0.041866812855005264,0.031929757446050644,0.021244164556264877,0.04261660948395729,-0.0530182309448719,-0.017288941890001297,0.00514896959066391,-0.03815648704767227,-0.05596265569329262,0.005643089767545462,0.021526874974370003,0.04195116087794304,-0.015690060332417488,-0.0045516109094023705,0.06764182448387146,0.011420231312513351,-0.02793204039335251,-0.01633599027991295,-0.010936794802546501,0.00827586930245161,-0.06473556905984879,-0.012879791669547558,0.07513512670993805,0.03052292950451374,0.015014337375760078,0.011023301631212234,0.061347220093011856,-0.02740846388041973,0.026757702231407166,-0.010345026850700378,0.009474830701947212,0.02887703664600849,-0.053263530135154724,0.022194968536496162,0.0041798874735832214,0.04370872676372528,0.025172756984829903,-0.014598236419260502,0.007980340160429478,-0.058903224766254425,0.04323970526456833,-0.0605173259973526,0.00032930728048086166,0.05873781442642212,0.06132844090461731,-0.014196283183991909,-0.03956369310617447,0.01860208623111248,0.002431802684441209,0.014310316182672977,-0.06410647183656693,-0.00989251397550106,0.003233934985473752,-0.004333890974521637,-0.03772103413939476,-0.03568549081683159,0.014168383553624153,0.034171558916568756,0.03351525217294693,-0.01979556679725647,-0.016925493255257607,-0.026293255388736725,-0.017099156975746155,-0.01896984502673149,-0.04113192856311798,0.037006933242082596,0.02184624783694744,0.013802765868604183,0.03190111741423607,-0.004503986798226833,-0.012438892386853695,0.0793357565999031,-0.011802246794104576,0.020008916035294533,0.010926667600870132,-0.0029805791564285755,0.003468897892162204,-0.010319763794541359,0.02867193892598152,2.761415487384511e-7,0.020807795226573944,0.013007870875298977,-0.042642027139663696,0.026462696492671967,-0.014408918097615242,-0.0646846666932106,0.021169573068618774,-0.034677278250455856,-0.024584438651800156,-0.053468674421310425,0.04394269734621048,0.019490491598844528,0.024312244728207588,0.027930505573749542,0.04480774700641632,-0.06971588730812073,0.009774933569133282,-0.06549284607172012,-0.05066205561161041,0.0069634090177714825,0.04695325717329979,-0.000051948718464700505,0.032136667519807816,0.01771467924118042,-0.00532529316842556,0.00006676367775071412,0.0066414098255336285,-0.03938722610473633,0.027837663888931274,-0.046134479343891144,0.04331756383180618,-0.02628943882882595,-0.047648463398218155,0.017411887645721436,0.04365856572985649,0.027451125904917717,0.00785661768168211,-0.025318020954728127,0.027235545217990875,0.060930050909519196,0.0428219698369503,-0.05892264097929001,-0.02841365896165371,-0.09149785339832306,0.006016566883772612,-0.024234507232904434,0.0026654552202671766,0.05009421706199646,-0.008626705035567284,0.016930287703871727,0.010204792022705078,0.008972256444394588,0.02346222847700119,-0.040714725852012634,0.01992488093674183,-0.001172250835224986,-0.013375923968851566,0.03808893263339996,0.00264753308147192,0.03314410150051117,0.006529014557600021,-0.00513712503015995,0.03787047415971756,0.028065675869584084,0.04805072024464607,0.009501414373517036,-0.0027762800455093384,3.543892996239754e-34,0.024196593090891838,-0.02134014293551445,0.04326276108622551,0.024484731256961823,0.03913017734885216,-0.017323797568678856,0.007752672303467989,-0.020284216850996017,0.01442969311028719,-0.07926110178232193,-0.013880944810807705]'
SET
  @TechnicalDesignVector_8731f9ce = N'[-0.007708346471190453,0.055052462965250015,0.02029428444802761,-0.035049352794885635,0.00742069398984313,0.0010977169731631875,0.015768583863973618,0.08320408314466476,-0.06839801371097565,-0.04150962829589844,-0.029685191810131073,0.05366206541657448,0.008260995149612427,0.1938064843416214,-0.007824014872312546,-0.03039208985865116,-0.02305576205253601,0.02109704166650772,-0.013225172646343708,0.012231174856424332,0.01389775238931179,-0.03135894984006882,-0.04035695269703865,-0.007788181770592928,-0.01785878650844097,-0.02306019701063633,-0.0468476265668869,0.03717782348394394,0.006324273534119129,-0.040582992136478424,-0.02956932969391346,0.0454980731010437,-0.043039947748184204,0.01878652162849903,0.000002164448460462154,-0.028121037408709526,-0.05798592045903206,0.01740531623363495,-0.0029560690745711327,0.035828929394483566,0.019482990726828575,-0.04849656671285629,0.020001836121082306,0.008065692149102688,-0.008232557214796543,-0.07248625159263611,-0.020025551319122314,0.0802551805973053,0.04353756830096245,-0.03270423784852028,0.005809626542031765,-0.01412956416606903,-0.0004689896013587713,-0.0006774088251404464,-0.030316106975078583,0.05247638002038002,-0.005359605420380831,-0.0688871517777443,0.048019539564847946,0.012124535627663136,0.017978904768824577,-0.028758253902196884,0.02166661247611046,-0.05824994295835495,0.05407164618372917,0.026799680665135384,-0.01832650415599346,-0.002235817490145564,-0.019479358568787575,-0.0009178846958093345,0.10819272696971893,0.00494389608502388,-0.027503378689289093,0.008958960883319378,-0.019794689491391182,-0.08302143961191177,-0.016056742519140244,0.03830151632428169,0.04610581323504448,-0.009095020592212677,-0.048355892300605774,0.020493034273386,-0.054112859070301056,0.007351759821176529,-0.029127635061740875,0.05514026805758476,0.00394054502248764,-0.0287669338285923,-0.017674975097179413,-0.00994825642555952,0.04042419418692589,-0.025892315432429314,-0.020388687029480934,0.013984553515911102,-0.004189358092844486,-0.031619489192962646,0.03250015899538994,-0.007034941576421261,0.012995842844247818,0.0520765446126461,-0.02524707093834877,0.053898319602012634,0.00017452455358579755,0.026854950934648514,0.024501919746398926,0.03720801696181297,-0.008628466166555882,-0.028433075174689293,-0.006886163726449013,0.05422317609190941,0.0525183267891407,0.018736084923148155,-0.0038935327902436256,0.032369256019592285,-0.0775163322687149,-0.023859193548560143,-0.023381628096103668,0.003053312422707677,-0.014361759647727013,0.04222256690263748,0.16239002346992493,0.011299940757453442,0.002266253810375929,0.011026806198060513,-0.030332086607813835,-0.028650755062699318,-0.0025238997768610716,-0.05729835480451584,0.00863505806773901,-0.01113246101886034,-0.03171033784747124,-0.01616443507373333,-0.004813432693481445,0.004030151758342981,-0.041517339646816254,-0.0003655358450487256,-0.011477706022560596,0.031114641577005386,0.009024940431118011,-0.0050698742270469666,0.03852264955639839,0.04817681759595871,-0.07105198502540588,0.020298799499869347,-0.008183571510016918,0.027077317237854004,-0.018429391086101532,0.0017965291626751423,0.003280711593106389,-0.0067047011107206345,-0.03268825635313988,-0.009769227355718613,-0.01988144963979721,0.00940458383411169,-0.06779702007770538,0.004982940386980772,0.03369174897670746,-0.030047781765460968,-0.03730926662683487,0.014285788871347904,-0.001114933518692851,0.003129446879029274,0.019646478816866875,0.0041257659904658794,-0.02282380685210228,-0.005781130399554968,-0.00029282408650033176,0.005250802729278803,0.004644762258976698,-0.004340537823736668,0.006972544360905886,-0.027602871879935265,-0.028978340327739716,0.016756568104028702,0.02768838033080101,-0.031051767989993095,0.09084674715995789,-0.05463882163167,-0.023939622566103935,0.0029077650979161263,0.05030816048383713,-0.10607023537158966,-0.008698934689164162,0.010347248055040836,0.059756699949502945,-0.028187377378344536,-0.01169981062412262,0.008055404759943485,0.0059622228145599365,-0.002687386702746153,-0.0184156633913517,0.0011423518881201744,-0.011747805401682854,0.022483108565211296,-0.009958715178072453,-0.008945917710661888,-0.02042919397354126,-0.06260976940393448,0.04017215967178345,0.00358217628672719,-0.029095640406012535,-0.04434087872505188,0.004340308252722025,0.07460257411003113,0.03587578609585762,0.006680828053504229,0.011413384228944778,-0.02849571965634823,-0.05858780816197395,0.021084081381559372,0.01585356891155243,-0.02328258380293846,-0.04583802446722984,0.02338840812444687,-0.010313207283616066,0.02341003529727459,0.03589313477277756,0.04372118040919304,-0.058989088982343674,-0.007377168163657188,-0.05718401074409485,0.04559815675020218,0.05187131464481354,-0.0031805180478841066,0.15910807251930237,-0.03328818455338478,0.018913675099611282,-0.007486899849027395,0.02650643326342106,-0.009049873799085617,-0.004474730230867863,-0.003134653903543949,0.044300712645053864,0.043983351439237595,0.0449800044298172,0.046954140067100525,0.06138402596116066,0.07865671068429947,0.0024319884832948446,0.033206965774297714,-0.012819875031709671,-0.047297876328229904,-0.04891027882695198,0.002916197059676051,0.01063357200473547,0.00007873887079767883,-0.06691868603229523,-0.008607638068497181,0.0037008197978138924,0.03941933438181877,0.010433584451675415,0.03355683386325836,0.05943344160914421,-0.036936428397893906,0.003120320150628686,0.0613161101937294,-0.014606652781367302,-0.015602617524564266,-0.056353624910116196,0.0635615810751915,0.0057351370342075825,-0.016514819115400314,-0.007294991984963417,-0.03534957021474838,0.016977544873952866,-0.004248615354299545,0.0691962018609047,-0.06463409960269928,-0.01645815372467041,0.003164691152051091,-0.005498365964740515,0.06596439331769943,-0.003210600931197405,0.00428326241672039,-0.023661253973841667,0.028535256162285805,-0.028573166579008102,0.018557993695139885,-0.01707134209573269,-0.0035425627138465643,-0.009836660698056221,-0.024421226233243942,0.0010671811178326607,0.008903424255549908,-0.0019914191216230392,0.02143673598766327,-0.031706709414720535,0.03559448570013046,-0.025724880397319794,-0.08290085196495056,0.006957313511520624,0.003021178999915719,0.029833367094397545,-0.028715530410408974,-0.025007911026477814,0.010446176864206791,-0.030171411111950874,0.07564403861761093,-0.017315832898020744,0.031288713216781616,0.004404489416629076,-0.03101579286158085,-0.020642787218093872,-0.019011132419109344,0.017827138304710388,0.021880771964788437,0.029713716357946396,-0.03253934904932976,0.0005699731991626322,0.10738016664981842,0.0064702108502388,0.045434847474098206,-0.010671242140233517,-0.025598017498850822,-0.0013926125830039382,-0.011152532882988453,-0.041844893246889114,0.07301230728626251,-0.012835048139095306,0.09359488636255264,0.020809149369597435,0.015208854340016842,-0.010030252858996391,0.007798328995704651,-0.00010098446364281699,0.02421073243021965,0.0022294861264526844,-0.032040663063526154,-0.03636866807937622,-0.02125491015613079,0.017747411504387856,-0.08846274763345718,-0.0020878377836197615,-0.013347843661904335,0.06498172134160995,0.02898319996893406,-0.038706276565790176,0.021083926782011986,0.01709292270243168,-0.03196629881858826,-0.03826233744621277,-0.016730735078454018,-0.004255722742527723,-0.034357503056526184,0.05204806104302406,-0.0022285724990069866,0.01932802051305771,0.03589242696762085,-0.12998540699481964,-0.0004418271710164845,0.029933646321296692,0.07575441151857376,-0.01430088747292757,-0.01185598038136959,0.009120515547692776,0.02540346421301365,-0.06388723105192184,-0.011848253197968006,-0.036221932619810104,-0.041995201259851456,-0.012095908634364605,0.03554994612932205,0.02920841984450817,-0.013602766208350658,0.006449525710195303,0.03616021201014519,0.05419163405895233,-0.003171378280967474,0.008980860933661461,0.0009083562181331217,-0.07282336056232452,0.023102296516299248,0.01614053174853325,0.031807273626327515,0.019477177411317825,-0.010728506371378899,0.0009534353739582002,0.003084952710196376,0.02180640771985054,0.015323478728532791,0.03506864979863167,-0.06226275861263275,0.08991014957427979,-0.03094128519296646,0.06515790522098541,-0.00962170772254467,-0.03595795854926109,-0.012320730835199356,-0.006569463759660721,0.006201700773090124,-0.014086679555475712,-0.06041548773646355,0.025355832651257515,0.02966224029660225,-0.006225178949534893,0.018848858773708344,-0.014295672997832298,0.06403939425945282,-0.026660768315196037,0.022916853427886963,-0.010859066620469093,0.03582622483372688,0.018792660906910896,-0.014931065030395985,0.04765358567237854,-0.03369488939642906,0.0034445549827069044,0.03302418068051338,0.045546647161245346,-0.01597893424332142,-0.05555921792984009,-0.03762337565422058,-0.013557757250964642,-0.04095789045095444,-0.04857654497027397,-0.017613748088479042,0.0065198251977562904,0.001433275523595512,0.01822921819984913,0.04403656721115112,0.026282355189323425,-0.02976858988404274,-0.012420003302395344,-0.004089438822120428,0.02895599789917469,-0.026938533410429955,-0.04896268993616104,-0.05242006108164787,0.00572393462061882,0.030331704765558243,-0.001591129694133997,-0.022042924538254738,-0.03153032809495926,0.013289925642311573,0.01435798779129982,-0.004959395155310631,0.012380282394587994,0.022602908313274384,-0.04112059623003006,-0.02921205386519432,-0.03324152156710625,-0.002950456226244569,0.029716409742832184,-0.02746935375034809,-0.0401277169585228,-0.0821518823504448,-0.004603859037160873,-0.0204315185546875,0.003809771966189146,-0.01040796097368002,-0.014049218036234379,-0.06500669568777084,-0.01495279185473919,0.0254823025316,-0.0422104187309742,-0.040944188833236694,0.01987527124583721,0.05607018619775772,0.004977449309080839,-0.019902115687727928,0.005425804760307074,0.03981345146894455,-0.05424882099032402,0.0076370504684746265,0.022407803684473038,-0.08582793176174164,0.030286014080047607,-0.07677680999040604,-0.00038246624171733856,-0.03265783563256264,0.001510324771516025,0.001926014432683587,-0.031016670167446136,-0.03532426059246063,0.05498918145895004,0.007542635314166546,-0.014291886240243912,0.009663405828177929,0.05705191195011139,0.02291683666408062,0.01425821054726839,0.030771473422646523,0.009974375367164612,-0.11308103799819946,0.018322031944990158,0.05618884414434433,-0.0952800065279007,-0.030125902965664864,-0.010376816615462303,-0.00489573460072279,0.03293541446328163,0.013563250191509724,-0.003405353520065546,0.10468021780252457,0.04970712959766388,0.04877597093582153,-0.020087813958525658,0.002333900658413768,-0.0012277992209419608,-0.06473707407712936,0.0026801673229783773,-0.018069006502628326,-0.011217580176889896,-0.017276525497436523,-0.05199361965060234,-0.01710798218846321,0.009527880698442459,0.041834041476249695,-0.007329707499593496,-0.013816678896546364,0.08127473294734955,0.03558783978223801,-0.03703489899635315,0.010958187282085419,0.04574241861701012,0.023197615519165993,-0.058092355728149414,0.031483955681324005,0.010295671410858631,0.01769462414085865,0.01893298514187336,0.014711855910718441,-0.010054673999547958,0.01957632601261139,0.07781101763248444,-0.0015878069680184126,0.03291144594550133,0.004951981827616692,0.02419290505349636,0.052274495363235474,-0.06213943287730217,-0.05104844644665718,-0.012862082570791245,0.0013411511899903417,-0.027401570230722427,0.043281104415655136,-0.03263136371970177,0.026119867339730263,-0.018289947882294655,-0.024258282035589218,-0.02693146839737892,0.003626083955168724,0.017847811803221703,0.004616939462721348,-0.0026888935826718807,0.0118298614397645,-0.02105070650577545,-0.011490237899124622,0.031474314630031586,0.03056430257856846,0.0034980732016265392,-0.0010497774928808212,-0.030889887362718582,-0.03912544995546341,0.00925007276237011,-7.355747001082653e-33,-0.04664451256394386,-0.013949255459010601,-0.03263658285140991,-0.021365992724895477,0.05227398872375488,0.01275339350104332,-0.009536607190966606,-0.04802869260311127,-0.00602559233084321,-0.016864238306879997,-0.016529681161046028,-0.03017466887831688,0.02344226837158203,0.010058511979877949,0.0033688314724713564,-0.012180903926491737,0.021001625806093216,-0.023999366909265518,-0.02475019544363022,-0.0002911360643338412,-0.022365406155586243,0.013019805774092674,-0.005079858936369419,-0.005976608023047447,-0.024549420922994614,-0.015587463974952698,-0.023221321403980255,0.029271071776747704,0.03563394770026207,0.034531671553850174,-0.021291304379701614,-0.03986024111509323,-0.029345272108912468,-0.027426352724432945,0.04137726500630379,-0.0006878235726617277,-0.06923475116491318,0.003933182451874018,0.0004265920433681458,0.012395941652357578,-0.009126008488237858,0.031083030626177788,0.011526144109666348,-0.008809749037027359,-0.035555701702833176,-0.01987721025943756,-0.01927918568253517,-0.007811353541910648,-0.026995982974767685,-0.020614096894860268,0.023222126066684723,0.006655087228864431,-0.0077853575348854065,0.05036855861544609,0.027492381632328033,0.014801952056586742,0.0361308753490448,-0.01102872658520937,-0.036685775965452194,0.028202224522829056,-0.05693035200238228,-0.03251968324184418,0.021558504551649094,-0.036664947867393494,0.0003193998127244413,-0.023569069802761078,-0.04483141750097275,0.02151046134531498,-0.04516289010643959,-0.0038241969887167215,-0.0005923534044995904,-0.0003512415278237313,0.026267847046256065,-0.07589194923639297,-0.03491153568029404,0.05941618233919144,0.006542744114995003,-0.0008588024647906423,0.04592349752783775,0.027351804077625275,-0.011670750565826893,0.013607127591967583,0.005240480415523052,0.02846730686724186,0.01619742251932621,-0.01856529712677002,-0.020951956510543823,-0.015772659331560135,0.04958502948284149,0.021109294146299362,0.005812880117446184,0.00932034756988287,-0.047164879739284515,0.051454171538352966,-0.04072565957903862,0.049517326056957245,0.052621811628341675,0.08301116526126862,-0.018251894041895866,-0.03676390275359154,0.026620488613843918,0.04743018001317978,0.00892078410834074,-0.0394083671271801,-0.023830318823456764,0.02072743885219097,-0.006781418342143297,-0.005471046548336744,-0.06398313492536545,0.016874821856617928,0.03005572408437729,0.040668193250894547,-0.0010985408443957567,-0.07704407721757889,-0.0022837533615529537,-0.018183376640081406,0.0038933721370995045,-0.0052335443906486034,0.029384583234786987,0.031829483807086945,0.031235212460160255,0.020455673336982727,0.02848452515900135,0.014554336667060852,0.05899186432361603,-0.0036118007265031338,0.0069005852565169334,0.00546569749712944,-0.018625695258378983,0.030074581503868103,0.0007384929922409356,0.027647895738482475,3.115576987511304e-7,0.01592865213751793,0.03993985429406166,-0.05969921126961708,0.050289738923311234,0.0295398011803627,-0.07125484198331833,-0.01624954864382744,0.006000063847750425,-0.008222504518926144,-0.0748344138264656,0.03317537531256676,0.0006001361762173474,0.04046480357646942,0.025056591257452965,0.023201094940304756,-0.05289698392152786,-0.031377438455820084,-0.06786731630563736,-0.043431106954813004,-0.021208053454756737,0.059424594044685364,0.01990170031785965,0.027606753632426262,0.011790908873081207,-0.023184234276413918,0.012257666327059269,0.017812324687838554,-0.025366105139255524,0.012388904578983784,-0.060737259685993195,0.06605695933103561,-0.021158574149012566,-0.024018891155719757,0.028334366157650948,-0.0049469429068267345,-0.0013655648799613118,0.02987023815512657,-0.019626660272479057,0.013312648981809616,0.08297424763441086,0.031149225309491158,-0.08251957595348358,-0.018199045211076736,-0.06732434779405594,0.033210381865501404,0.03435824438929558,-0.01598576083779335,0.036863066256046295,-0.06543836742639542,-0.00875801220536232,-0.020514624193310738,0.009640182368457317,-0.004834513645619154,-0.00965486653149128,0.014558901078999043,-0.008757374249398708,0.007649244274944067,0.024315552785992622,0.016328366473317146,-0.00029258534777909517,-0.025537807494401932,-0.009602977894246578,0.017201978713274002,0.03884870558977127,0.018809933215379715,-0.026294948533177376,-0.05890858173370361,3.586839406840558e-34,0.03564458340406418,-0.012908249162137508,0.020287733525037766,0.026488808915019035,0.03479783982038498,-0.03235283121466637,0.06372164934873581,-0.04368593171238899,0.010067256167531013,-0.11096571385860443,-0.017805976793169975]'
SET
  @HasCustomProps_8731f9ce = 1
SET
  @HasCustomEvents_8731f9ce = 1
SET
  @RequiresData_8731f9ce = 1
SET
  @DependencyCount_8731f9ce = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_8731f9ce = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_8731f9ce = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_8731f9ce = 1
SET
  @ID_8731f9ce = 'F482B80A-B3EF-44E4-A57E-C842AC2C6D4B'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_8731f9ce,
  @Name = @Name_8731f9ce,
  @Version = @Version_8731f9ce,
  @VersionSequence = @VersionSequence_8731f9ce,
  @Title = @Title_8731f9ce,
  @Description = @Description_8731f9ce,
  @Type = @Type_8731f9ce,
  @Status = @Status_8731f9ce,
  @DeveloperName = @DeveloperName_8731f9ce,
  @DeveloperEmail = @DeveloperEmail_8731f9ce,
  @DeveloperOrganization = @DeveloperOrganization_8731f9ce,
  @SourceRegistryID = @SourceRegistryID_8731f9ce,
  @ReplicatedAt = @ReplicatedAt_8731f9ce,
  @LastSyncedAt = @LastSyncedAt_8731f9ce,
  @Specification = @Specification_8731f9ce,
  @FunctionalRequirements = @FunctionalRequirements_8731f9ce,
  @TechnicalDesign = @TechnicalDesign_8731f9ce,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_8731f9ce,
  @TechnicalDesignVector = @TechnicalDesignVector_8731f9ce,
  @HasCustomProps = @HasCustomProps_8731f9ce,
  @HasCustomEvents = @HasCustomEvents_8731f9ce,
  @RequiresData = @RequiresData_8731f9ce,
  @DependencyCount = @DependencyCount_8731f9ce,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_8731f9ce,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_8731f9ce,
  @HasRequiredCustomProps = @HasRequiredCustomProps_8731f9ce,
  @ID = @ID_8731f9ce;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_b129ed32 NVARCHAR(MAX),
@Name_b129ed32 NVARCHAR(500),
@Version_b129ed32 NVARCHAR(50),
@VersionSequence_b129ed32 INT,
@Title_b129ed32 NVARCHAR(1000),
@Description_b129ed32 NVARCHAR(MAX),
@Type_b129ed32 NVARCHAR(255),
@Status_b129ed32 NVARCHAR(50),
@DeveloperName_b129ed32 NVARCHAR(255),
@DeveloperEmail_b129ed32 NVARCHAR(255),
@DeveloperOrganization_b129ed32 NVARCHAR(255),
@SourceRegistryID_b129ed32 UNIQUEIDENTIFIER,
@ReplicatedAt_b129ed32 DATETIMEOFFSET,
@LastSyncedAt_b129ed32 DATETIMEOFFSET,
@Specification_b129ed32 NVARCHAR(MAX),
@FunctionalRequirements_b129ed32 NVARCHAR(MAX),
@TechnicalDesign_b129ed32 NVARCHAR(MAX),
@FunctionalRequirementsVector_b129ed32 NVARCHAR(MAX),
@TechnicalDesignVector_b129ed32 NVARCHAR(MAX),
@HasCustomProps_b129ed32 BIT,
@HasCustomEvents_b129ed32 BIT,
@RequiresData_b129ed32 BIT,
@DependencyCount_b129ed32 INT,
@TechnicalDesignVectorEmbeddingModelID_b129ed32 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_b129ed32 NVARCHAR(MAX),
@HasRequiredCustomProps_b129ed32 BIT,
@ID_b129ed32 UNIQUEIDENTIFIER
SET
  @Namespace_b129ed32 = N'Financial/Analytics'
SET
  @Name_b129ed32 = N'DrillDownTable'
SET
  @Version_b129ed32 = N'1.0.0'
SET
  @VersionSequence_b129ed32 = 1
SET
  @Title_b129ed32 = N'Drill Down Table'
SET
  @Description_b129ed32 = N'Displays mixed financial data (invoices, deals, products) in a sortable table with type-specific styling'
SET
  @Type_b129ed32 = N'Table'
SET
  @Status_b129ed32 = N'Published'
SET
  @Specification_b129ed32 = N'{"name":"DrillDownTable","location":"embedded","code":"function DrillDownTable({ data, title, onClose, sortConfig, setSortConfig, callbacks }) {\n  const formatCurrency = (value) => {\n    if (!value) return ''$0'';\n    if (value >= 1000000) return `$$' + '{(value / 1000000).toFixed(1)}M`;\n    if (value >= 1000) return `$$' + '{(value / 1000).toFixed(0)}K`;\n    return `$$' + '{value.toFixed(0)}`;\n  };\n\n  const formatDate = (date) => {\n    if (!date) return ''N/A'';\n    return new Date(date).toLocaleDateString();\n  };\n\n  const sortedData = [...data].sort((a, b) => {\n    const aValue = a[sortConfig.key];\n    const bValue = b[sortConfig.key];\n\n    if (aValue === null || aValue === undefined) return 1;\n    if (bValue === null || bValue === undefined) return -1;\n\n    if (sortConfig.direction === ''asc'') {\n      return aValue > bValue ? 1 : -1;\n    } else {\n      return aValue < bValue ? 1 : -1;\n    }\n  });\n\n  const handleSort = (key) => {\n    setSortConfig({\n      key,\n      direction: sortConfig.key === key && sortConfig.direction === ''desc'' ? ''asc'' : ''desc''\n    });\n  };\n\n  return (\n    <div style={{\n      backgroundColor: ''white'',\n      borderRadius: ''8px'',\n      padding: ''20px'',\n      margin: ''20px'',\n      border: ''1px solid #E5E7EB'',\n      boxShadow: ''0 4px 6px rgba(0, 0, 0, 0.1)''\n    }}>\n      <div style={{\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center'',\n        marginBottom: ''16px''\n      }}>\n        <h3 style={{ margin: 0, fontSize: ''18px'', fontWeight: ''bold'' }}>\n          {title} ({data.length} records)\n        </h3>\n        <button\n          onClick={onClose}\n          style={{\n            background: ''none'',\n            border: ''none'',\n            fontSize: ''24px'',\n            cursor: ''pointer'',\n            color: ''#6B7280''\n          }}\n        >\n          <i className=\"fa-solid fa-times\"></i>\n        </button>\n      </div>\n\n      <div style={{ overflowX: ''auto'' }}>\n        <table style={{ width: ''100%'', borderCollapse: ''collapse'' }}>\n          <thead>\n            <tr style={{ borderBottom: ''2px solid #E5E7EB'' }}>\n              <th\n                onClick={() => handleSort(''Type'')}\n                style={{\n                  padding: ''12px 8px'',\n                  textAlign: ''left'',\n                  cursor: ''pointer'',\n                  fontSize: ''12px'',\n                  fontWeight: ''600'',\n                  color: ''#374151'',\n                  textTransform: ''uppercase''\n                }}\n              >\n                Type {sortConfig.key === ''Type'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n              </th>\n              <th\n                onClick={() => handleSort(''InvoiceNumber'')}\n                style={{\n                  padding: ''12px 8px'',\n                  textAlign: ''left'',\n                  cursor: ''pointer'',\n                  fontSize: ''12px'',\n                  fontWeight: ''600'',\n                  color: ''#374151'',\n                  textTransform: ''uppercase''\n                }}\n              >\n                Reference {sortConfig.key === ''InvoiceNumber'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n              </th>\n              <th\n                onClick={() => handleSort(''InvoiceDate'')}\n                style={{\n                  padding: ''12px 8px'',\n                  textAlign: ''left'',\n                  cursor: ''pointer'',\n                  fontSize: ''12px'',\n                  fontWeight: ''600'',\n                  color: ''#374151'',\n                  textTransform: ''uppercase''\n                }}\n              >\n                Date {sortConfig.key === ''InvoiceDate'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n              </th>\n              <th\n                onClick={() => handleSort(''DisplayAmount'')}\n                style={{\n                  padding: ''12px 8px'',\n                  textAlign: ''right'',\n                  cursor: ''pointer'',\n                  fontSize: ''12px'',\n                  fontWeight: ''600'',\n                  color: ''#374151'',\n                  textTransform: ''uppercase''\n                }}\n              >\n                Amount {sortConfig.key === ''DisplayAmount'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n              </th>\n              <th\n                onClick={() => handleSort(''Status'')}\n                style={{\n                  padding: ''12px 8px'',\n                  textAlign: ''left'',\n                  cursor: ''pointer'',\n                  fontSize: ''12px'',\n                  fontWeight: ''600'',\n                  color: ''#374151'',\n                  textTransform: ''uppercase''\n                }}\n              >\n                Status {sortConfig.key === ''Status'' && (sortConfig.direction === ''asc'' ? ''↑'' : ''↓'')}\n              </th>\n              <th style={{\n                padding: ''12px 8px'',\n                textAlign: ''center'',\n                fontSize: ''12px'',\n                fontWeight: ''600'',\n                color: ''#374151'',\n                textTransform: ''uppercase''\n              }}>\n                Action\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortedData.map((item, index) => (\n              <tr\n                key={item.ID || index}\n                style={{\n                  borderBottom: ''1px solid #F3F4F6'',\n                  transition: ''background-color 0.2s''\n                }}\n                onMouseEnter={(e) => e.currentTarget.style.backgroundColor = ''#F9FAFB''}\n                onMouseLeave={(e) => e.currentTarget.style.backgroundColor = ''transparent''}\n              >\n                <td style={{ padding: ''12px 8px'', fontSize: ''14px'' }}>\n                  <span style={{\n                    padding: ''2px 8px'',\n                    backgroundColor: item.Type === ''Paid Invoice'' ? ''#D1FAE5'' :\n                                     item.Type === ''Unpaid Invoice'' ? ''#FEE2E2'' :\n                                     item.Type === ''Projected Deal'' ? ''#FEF3C7'' : ''#E5E7EB'',\n                    color: item.Type === ''Paid Invoice'' ? ''#065F46'' :\n                           item.Type === ''Unpaid Invoice'' ? ''#991B1B'' :\n                           item.Type === ''Projected Deal'' ? ''#92400E'' : ''#374151'',\n                    borderRadius: ''4px'',\n                    fontSize: ''12px''\n                  }}>\n                    {item.Type}\n                  </span>\n                </td>\n                <td style={{ padding: ''12px 8px'', fontSize: ''14px'' }}>\n                  {item.InvoiceNumber || item.DealName || item.ProductName || ''-''}\n                </td>\n                <td style={{ padding: ''12px 8px'', fontSize: ''14px'', color: ''#6B7280'' }}>\n                  {formatDate(item.InvoiceDate || item.CloseDate || item.CreatedAt)}\n                </td>\n                <td style={{ padding: ''12px 8px'', textAlign: ''right'', fontSize: ''14px'', fontWeight: ''500'' }}>\n                  {formatCurrency(item.DisplayAmount || item.TotalAmount || item.Amount || item.Price)}\n                </td>\n                <td style={{ padding: ''12px 8px'', fontSize: ''14px'' }}>\n                  <span style={{\n                    padding: ''2px 8px'',\n                    backgroundColor: item.Status === ''Paid'' ? ''#D1FAE5'' :\n                                     item.Status === ''Pending'' ? ''#FEF3C7'' :\n                                     item.Stage === ''Closed Won'' ? ''#D1FAE5'' :\n                                     item.Stage === ''Closed Lost'' ? ''#FEE2E2'' : ''#E5E7EB'',\n                    color: item.Status === ''Paid'' ? ''#065F46'' :\n                           item.Status === ''Pending'' ? ''#92400E'' :\n                           item.Stage === ''Closed Won'' ? ''#065F46'' :\n                           item.Stage === ''Closed Lost'' ? ''#991B1B'' : ''#374151'',\n                    borderRadius: ''4px'',\n                    fontSize: ''12px''\n                  }}>\n                    {item.Status || item.Stage || ''Active''}\n                  </span>\n                </td>\n                <td style={{ padding: ''12px 8px'', textAlign: ''center'' }}>\n                  <button\n                    onClick={() => {\n                      if (callbacks && callbacks.OpenEntityRecord) {\n                        callbacks.OpenEntityRecord(item.EntityType, [{ FieldName: ''ID'', Value: item.ID }]);\n                      }\n                    }}\n                    style={{\n                      background: ''none'',\n                      border: ''none'',\n                      color: ''#4F46E5'',\n                      cursor: ''pointer'',\n                      fontSize: ''16px'',\n                      padding: ''4px''\n                    }}\n                    title=\"Open Record\"\n                  >\n                    <i className=\"fa-solid fa-arrow-up-right-from-square\"></i>\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n","description":"Displays mixed financial data (invoices, deals, products) in a sortable table with type-specific styling","category":"Financial","type":"table","dataRequirements":{"mode":"views","entities":[{"name":"Invoices","displayFields":["ID","InvoiceNumber","InvoiceDate","TotalAmount","Status"],"filterFields":["Status","InvoiceDate"],"sortFields":["InvoiceNumber","InvoiceDate","TotalAmount"]},{"name":"Deals","displayFields":["ID","Dealname","CloseDate","Amount","Stage"],"filterFields":["Stage","CloseDate"],"sortFields":["Dealname","CloseDate","Amount"]},{"name":"Products","displayFields":["ID","ProductName","Price","CreatedAt"],"sortFields":["ProductName","Price"]}]},"properties":[{"name":"data","type":"array","description":"Array of mixed financial records (invoices, deals, products) to display","required":true},{"name":"title","type":"string","description":"Title to display above the table","required":true},{"name":"onClose","type":"function","description":"Callback when close button is clicked","required":true},{"name":"sortConfig","type":"object","description":"Current sort configuration with key and direction","required":true},{"name":"setSortConfig","type":"function","description":"Function to update sort configuration","required":true},{"name":"callbacks","type":"object","description":"Callback functions including OpenEntityRecord","required":true},{"name":"styles","type":"object","description":"Style utilities and theme configuration","required":true},{"name":"utilities","type":"object","description":"MemberJunction utilities for data access","required":true},{"name":"components","type":"object","description":"Registry of available components","required":true}],"events":[{"name":"onClose","description":"Fired when the close button is clicked"},{"name":"onSort","description":"Fired when a column header is clicked for sorting","parameters":[{"name":"key","type":"string","description":"The field name to sort by"}]},{"name":"onOpenRecord","description":"Fired when the open icon is clicked","parameters":[{"name":"entityType","type":"string","description":"Entity type from the record''s EntityType field"},{"name":"primaryKey","type":"array","description":"Array of key-value pairs for the record ID"}]}],"usageExample":"```javascript\n<DrillDownTable\n  data={drillDownData}\n  title=\"Q1 Revenue Breakdown\"\n  onClose={() => setDrillDownData(null)}\n  sortConfig={{ key: ''DisplayAmount'', direction: ''desc'' }}\n  setSortConfig={setSortConfig}\n  callbacks={callbacks}\n/>\n```","functionalRequirements":"- Display mixed financial records in sortable table format\n- Show type badge (Paid Invoice, Unpaid Invoice, Projected Deal, etc.)\n- Display reference number (invoice number, deal name, product name)\n- Show date (invoice date, close date, created date)\n- Format currency amounts appropriately\n- Display status/stage with color coding\n- Support sorting by type, reference, date, amount, or status\n- Include close button in header\n- Include open icon for external navigation\n- Show hover effects on rows\n- Handle null/undefined values gracefully","technicalDesign":"Renders mixed financial data in HTML table with sortable columns. Uses formatCurrency for amounts and formatDate for dates. Applies type-specific background colors to type badges (green for paid, red for unpaid, yellow for projected). Status badges use color coding based on payment status or deal stage. Integrates with OpenEntityRecord callback for opening records externally using EntityType field."}'
SET
  @FunctionalRequirements_b129ed32 = N'- Display mixed financial records in sortable table format
- Show type badge (Paid Invoice, Unpaid Invoice, Projected Deal, etc.)
- Display reference number (invoice number, deal name, product name)
- Show date (invoice date, close date, created date)
- Format currency amounts appropriately
- Display status/stage with color coding
- Support sorting by type, reference, date, amount, or status
- Include close button in header
- Include open icon for external navigation
- Show hover effects on rows
- Handle null/undefined values gracefully'
SET
  @TechnicalDesign_b129ed32 = N'Renders mixed financial data in HTML table with sortable columns. Uses formatCurrency for amounts and formatDate for dates. Applies type-specific background colors to type badges (green for paid, red for unpaid, yellow for projected). Status badges use color coding based on payment status or deal stage. Integrates with OpenEntityRecord callback for opening records externally using EntityType field.'
SET
  @FunctionalRequirementsVector_b129ed32 = N'[-0.03137772157788277,-0.0038210744969546795,-0.006839114241302013,-0.008915981277823448,0.015693027526140213,0.008289976045489311,0.04053197056055069,0.0870431661605835,-0.03622965142130852,0.002471785992383957,-0.06754641234874725,-0.012122515588998795,0.04518714174628258,0.11010497808456421,-0.020856816321611404,-0.049109041690826416,0.0015733956824988127,-0.02851690910756588,0.038935981690883636,0.02091781236231327,0.013792929239571095,-0.018072333186864853,-0.01675724796950817,-0.002471050014719367,0.0024796705693006516,-0.014463524334132671,-0.03461707383394241,0.04535803571343422,-0.023070653900504112,-0.02961837872862816,-0.0043864925391972065,0.049603018909692764,-0.05513246729969978,-0.011594651266932487,0.0000021156899947527563,0.000028010752430418506,-0.062437642365694046,0.028314048424363136,-0.025224244222044945,0.038019999861717224,0.04409037530422211,-0.03557349368929863,0.02917947992682457,0.02740093320608139,0.006777508649975061,-0.1063382551074028,-0.05367637425661087,0.08694125711917877,0.02350086346268654,-0.013715263456106186,0.021371541544795036,-0.017479069530963898,-0.015743136405944824,-0.005379283335059881,-0.016885237768292427,0.0027824020944535732,0.0035126162692904472,0.00942920707166195,-0.0022158785723149776,-0.025946343317627907,0.007191267795860767,-0.015090138651430607,0.008052237331867218,-0.056749098002910614,0.0007214406505227089,0.009598948061466217,-0.023075023666024208,0.007083676289767027,0.001312734792008996,0.02068556658923626,0.04136509448289871,0.008018873631954193,0.00890684500336647,-0.06287559121847153,0.002199673093855381,-0.06469141691923141,-0.00887641217559576,0.01367300096899271,0.004312521778047085,-0.014301075600087643,0.028957799077033997,0.04961736872792244,-0.04528683051466942,0.02973162941634655,-0.029714325442910194,-0.041241005063056946,-0.032776519656181335,-0.02597501128911972,-0.012741670943796635,-0.04737710952758789,0.016275925561785698,0.0015025303000584245,-0.01713285781443119,0.007272255141288042,-0.03142524138092995,-0.007556017022579908,0.025308702141046524,-0.02926645241677761,0.04011714085936546,-0.06089545041322708,-0.0419793538749218,0.05404696986079216,-0.009234187193214893,0.03800366818904877,0.011626774445176125,0.0254987683147192,-0.056291013956069946,-0.00684366887435317,0.0017772308783605695,0.028222935274243355,0.04131271690130234,0.0005399361252784729,-0.02224859781563282,0.04091101884841919,-0.06164422631263733,0.02071077562868595,-0.02116401121020317,-0.033767685294151306,-0.06011250615119934,0.036198679357767105,0.12863291800022125,0.03404979407787323,0.019649537280201912,0.00019104639068245888,0.011089025065302849,-0.01699889823794365,-0.005716061219573021,-0.041055433452129364,0.001764784217812121,0.02060343697667122,-0.018864944577217102,0.009761289693415165,0.02248852513730526,-0.014118704944849014,0.008392015472054482,0.008809566497802734,0.017278846353292465,0.04729180410504341,-0.010074273683130741,-0.011843876913189888,0.023583009839057922,0.0038122429978102446,-0.004945169202983379,0.03640887141227722,0.020277926698327065,0.014151832088828087,-0.043079081922769547,0.04546400532126427,0.0015761948889121413,0.00487578334286809,0.007933611050248146,0.011548805981874466,-0.0269639752805233,0.010891047306358814,-0.01172028947621584,-0.0026234202086925507,-0.029137905687093735,-0.03091374784708023,-0.00549525348469615,-0.0391312874853611,-0.023494001477956772,-0.02305508777499199,0.021630050614476204,-0.016829362139105797,-0.042961981147527695,-0.015664780512452126,-0.07311104238033295,0.018542129546403885,-0.028802741318941116,-0.02557329647243023,-0.007872303016483784,-0.012141934596002102,-0.01367317046970129,0.02611318789422512,0.016826344653964043,-0.04850880429148674,0.08989052474498749,-0.03286601975560188,-0.017621446400880814,-0.01486126333475113,0.07426358014345169,-0.10792414098978043,0.03596949204802513,0.011305352672934532,0.038498397916555405,-0.02498047985136509,-0.0669669508934021,-0.007115847431123257,-0.015895338729023933,-0.009913856163620949,-0.033303532749414444,-0.0025573435705155134,-0.05332949757575989,0.035199716687202454,-0.032372813671827316,0.00043727559386752546,-0.0364859513938427,-0.09064919501543045,0.03071817383170128,0.014412864111363888,-0.010329708456993103,-0.019079115241765976,0.016670938581228256,0.08357645571231842,0.013232240453362465,-0.0051323347724974155,0.025070736184716225,-0.03839506581425667,-0.07038799673318863,0.012379012070596218,-0.008806712925434113,-0.019579200074076653,-0.05209895595908165,0.013046320527791977,-0.017172882333397865,0.09123901277780533,0.02875998429954052,0.042892131954431534,-0.06688865274190903,-0.012375612743198872,-0.01162106916308403,-0.005143611691892147,0.00014396347978617996,-0.029629116877913475,0.1680738776922226,0.009859100915491581,0.03421219810843468,-0.00764122512191534,0.02780212089419365,0.02780269831418991,0.0007415976142510772,0.014723937958478928,0.026170872151851654,0.02444404549896717,0.02572867088019848,0.020219741389155388,0.028945928439497948,0.14262457191944122,-0.030781706795096397,0.040633782744407654,-0.03649953007698059,-0.10115265846252441,-0.0006510529783554375,0.002903325716033578,-0.022387713193893433,-0.0007558568031527102,-0.007441640365868807,-0.026789512485265732,0.007116455584764481,0.0019618109799921513,0.002490000333636999,0.022697117179632187,0.10464464128017426,-0.016113469377160072,-0.009310419671237469,0.01716732420027256,-0.06528324633836746,-0.0018272829474881291,-0.05070532485842705,0.09311126172542572,0.01569780521094799,-0.030457060784101486,0.020309491083025932,-0.033324263989925385,0.03357379138469696,-0.0047925361432135105,0.04726643115282059,-0.05734666436910629,-0.02718261629343033,0.01504455041140318,-0.037181176245212555,0.02726174332201481,-0.012070473283529282,0.012066347524523735,-0.006148358806967735,0.03408621624112129,-0.04311608523130417,0.05893517658114433,-0.005418763030320406,0.018768493086099625,-0.02112324722111225,0.004797215573489666,-0.0042942967265844345,0.017477883026003838,0.0003391479840502143,-0.005859289318323135,0.01694793440401554,-0.08088651299476624,-0.029028480872511864,-0.028690410777926445,0.01593652181327343,-0.005093230865895748,0.02870818041265011,0.018918996676802635,-0.0278339646756649,0.0323588065803051,0.014389961026608944,0.040915217250585556,-0.01892392337322235,0.040528327226638794,-0.027312034741044044,0.01767028495669365,-0.018311183899641037,-0.006179122254252434,0.02628491073846817,0.09453781694173813,0.06339511275291443,0.03494087979197502,-0.010384811088442802,0.0331326462328434,-0.002114462899044156,0.012689316645264626,-0.0037783002480864525,-0.06430326402187347,0.01195469219237566,0.006347261369228363,0.020851710811257362,0.0629749596118927,-0.008105114102363586,0.08218878507614136,-0.0039375885389745235,0.022270265966653824,-0.04863204434514046,0.018618743866682053,-0.03046577051281929,0.05872263014316559,-0.014308681711554527,-0.054257702082395554,-0.054088156670331955,-0.05756756663322449,0.00988222099840641,-0.04596840590238571,-0.008428896777331829,-0.0036238946486264467,0.024545904248952866,0.030912630259990692,-0.025326669216156006,0.049978531897068024,0.03164052218198776,-0.016386479139328003,-0.0029732882976531982,-0.0009950328385457397,-0.003652118146419525,-0.04815458133816719,0.046996574848890305,0.004360504914075136,0.02577798254787922,0.05478304252028465,-0.09164144098758698,0.05358794704079628,0.055713359266519547,0.027448635548353195,-0.009342851117253304,-0.013333262875676155,0.003103099297732115,-0.0016896940069273114,-0.050351303070783615,-0.035670146346092224,-0.032697681337594986,-0.08266813308000565,-0.016703728586435318,-0.005873467307537794,-0.04267091676592827,0.023993320763111115,0.03712489828467369,0.02587929368019104,-0.006959219928830862,0.001126363524235785,0.01251980010420084,-0.01380873192101717,-0.08388522267341614,0.010941342450678349,0.014146767556667328,0.019302379339933395,-0.022140566259622574,-0.02681754156947136,-0.009677899070084095,0.018497632816433907,-0.009673725813627243,0.01661929115653038,0.04474254697561264,0.009408378973603249,0.12623588740825653,-0.04942701756954193,0.034591738134622574,0.029688285663723946,-0.03475639596581459,-0.0009583414066582918,-0.045190174132585526,-0.022621670737862587,0.010197858326137066,-0.008337784558534622,-0.021245183423161507,-0.007920200005173683,-0.020650900900363922,-0.0026138825342059135,0.007339708972722292,0.06468365341424942,0.006889401003718376,-0.009977143257856369,0.03125555068254471,0.05155206099152565,0.021299341693520546,-0.057602498680353165,0.03532620146870613,-0.08362425118684769,0.014530764892697334,0.04177722707390785,0.01448019314557314,-0.011722056195139885,-0.06343535333871841,-0.02724529057741165,-0.03941108286380768,-0.03241394832730293,0.0020393922459334135,0.016437049955129623,0.017829077318310738,-0.016998400911688805,-0.012117399834096432,0.028987502679228783,0.020505079999566078,-0.021000072360038757,0.016036132350564003,0.007224305532872677,0.0029226327314972878,0.0054040346294641495,-0.04260186851024628,-0.07391767203807831,-0.011008684523403645,0.011846935376524925,-0.01214586477726698,0.002994029549881816,-0.02327478863298893,0.019385552033782005,-0.0011216494021937251,0.11003357172012329,-0.011243126355111599,-0.009500959888100624,0.03004324808716774,-0.006913962308317423,-0.03696604445576668,-0.009125524200499058,0.07344845682382584,-0.032579731196165085,-0.018313733860850334,0.0030622275080531836,-0.013207634910941124,0.004579623229801655,-0.019381100311875343,-0.023011289536952972,-0.026658013463020325,-0.05120549350976944,0.012357250787317753,-0.001200981787405908,-0.03985195606946945,-0.032839883118867874,-0.011959681287407875,0.04425649717450142,0.009251240640878677,-0.006669791880995035,-0.010220656171441078,0.02788274735212326,-0.08324611932039261,0.008321466855704784,0.06475209444761276,-0.09886037558317184,-0.026455096900463104,-0.05292921140789986,-0.027609895914793015,-0.029898425564169884,0.014221761375665665,-0.009867321699857712,-0.02852037362754345,-0.05584019422531128,0.015126802958548069,0.0036593256518244743,-0.0035900252405554056,0.005992868449538946,0.02849460020661354,0.010022223927080631,0.0016930283745750785,0.002859873231500387,0.06447684019804001,-0.1124938428401947,0.008194498717784882,0.024234093725681305,-0.05111381411552429,-0.022484123706817627,0.021741455420851707,-0.01703549735248089,0.056086983531713486,-0.005141180008649826,-0.026467425748705864,0.03739606589078903,0.028794758021831512,0.025378642603754997,0.018209340050816536,-0.00465532299131155,-0.021641692146658897,-0.01774386502802372,-0.05091896653175354,-0.015956273302435875,-0.03880976140499115,0.008338618092238903,-0.0070199123583734035,-0.008326834067702293,0.01047185342758894,0.01282627135515213,-0.0226584579795599,0.021833347156643867,0.0275174081325531,0.014171954244375229,-0.004396260250359774,-0.03970373049378395,0.03414732590317726,0.017305949702858925,-0.06584351509809494,0.0025494867004454136,-0.028320826590061188,0.002416797913610935,0.02064322493970394,0.007166510447859764,0.021116599440574646,0.018357599154114723,0.042751457542181015,-0.009158938191831112,0.030761482194066048,-0.023140285164117813,0.013701005838811398,0.06883891671895981,0.010876419954001904,-0.020480647683143616,-0.025055570527911186,0.009672405198216438,-0.010600652545690536,0.05050847679376602,0.015287427231669426,0.012101027183234692,0.01445399783551693,0.00348339113406837,-0.06664633750915527,0.005335341673344374,0.056415803730487823,-0.01203380711376667,-0.021401241421699524,0.014984571374952793,-0.01965995505452156,-0.010694964788854122,0.004579511005431414,0.04099806398153305,0.008304205723106861,-0.04603273794054985,-0.010585881769657135,-0.034183304756879807,-0.05086364969611168,-6.399220064511695e-33,-0.038059234619140625,-0.04009551182389259,-0.06167950853705406,-0.016737090423703194,0.07239003479480743,0.035334352403879166,-0.0036917454563081264,-0.03961809724569321,-0.014714913442730904,-0.018073974177241325,-0.014578512869775295,-0.009811772033572197,0.0159437395632267,-0.004020896274596453,0.03524143993854523,-0.02618079073727131,-0.012828007340431213,-0.022991104051470757,0.025677520781755447,-0.003611860563978553,-0.038776613771915436,0.012913231737911701,0.027035022154450417,-0.010702228173613548,-0.011491137556731701,0.005782086867839098,-0.0028471851255744696,0.03245679661631584,-0.018396560102701187,0.03267759457230568,-0.005292158108204603,-0.02183385193347931,-0.031133312731981277,0.027945581823587418,-0.0039803460240364075,-0.06838913261890411,-0.05898528918623924,-0.0022217840887606144,-0.014340520836412907,0.011994417756795883,0.08659818023443222,0.05864325165748596,0.03120405040681362,-0.007093590684235096,-0.02199327014386654,-0.026430873200297356,0.003512028604745865,0.0208212248980999,0.0011525527806952596,-0.000030344153856276534,-0.0021864131558686495,0.0019029685063287616,0.01294481661170721,0.04039766639471054,0.022788338363170624,0.054054342210292816,0.031108396127820015,-0.04490514472126961,-0.062211692333221436,-0.024670418351888657,-0.057071883231401443,-0.04400602728128433,-0.004506738390773535,0.011546988040208817,0.015079175122082233,-0.04102478176355362,0.024700114503502846,0.08542078733444214,0.007993522100150585,-0.06764690577983856,0.005442074034363031,-0.016143159940838814,0.020978517830371857,-0.036893583834171295,-0.013001030310988426,0.0423128679394722,0.01943228952586651,0.026784369722008705,0.012920606881380081,0.03748718276619911,-0.0480913482606411,0.03502435237169266,-0.015769196674227715,0.0027174961287528276,0.03925461694598198,-0.06192079186439514,0.005023074336349964,-0.005300791468471289,0.02219291217625141,0.019350403919816017,0.037561338394880295,0.011444850824773312,-0.04652661830186844,0.048646751791238785,-0.09787352383136749,-0.010695620439946651,0.07830746471881866,0.06837344914674759,0.002025936497375369,-0.015525824390351772,0.031127452850341797,0.0238295029848814,-0.0080509502440691,-0.014158444479107857,-0.009574202820658684,0.011418567970395088,0.002332177245989442,-0.031977564096450806,-0.0359145887196064,0.021698860451579094,0.041827425360679626,0.03430721536278725,-0.005341237876564264,0.009191850200295448,-0.008816681802272797,0.0069234478287398815,-0.004037932492792606,-0.026799404993653297,0.015967896208167076,-0.01659194752573967,0.01697511225938797,0.0023305178619921207,-0.006606589537113905,0.028519853949546814,0.07878080755472183,-0.01895282417535782,-0.0004964167601428926,0.02475253865122795,0.0062324185855686665,0.022923527285456657,0.001361156697385013,0.038741644471883774,2.996967793933436e-7,0.034755464643239975,0.021434109658002853,-0.014728214591741562,0.06354068964719772,-0.0034089218825101852,-0.034999433904886246,0.0037802308797836304,-0.02037973143160343,-0.022025512531399727,-0.03632170334458351,0.03867034241557121,-0.0052000354044139385,0.0479620024561882,0.013499883003532887,0.047921229153871536,-0.12721161544322968,0.008290593512356281,-0.06409964710474014,-0.038230497390031815,-0.020700082182884216,-0.02407155930995941,-0.004474691580981016,0.020851347595453262,0.0023055265191942453,0.006927062291651964,0.029008476063609123,0.03106841817498207,-0.047370102256536484,0.04084121063351631,-0.06830670684576035,0.053390756249427795,-0.03287091478705406,-0.009886050596833229,0.008474665693938732,0.02986643835902214,-0.0009924053447321057,0.050330642610788345,-0.002737275091931224,0.006717240903526545,0.07265280932188034,0.04590702801942825,-0.054842472076416016,-0.02768826112151146,-0.07250135391950607,0.020656289532780647,-0.022332673892378807,0.007883112877607346,0.04735929146409035,-0.03828321024775505,0.028802981600165367,0.015559239313006401,0.014374044723808765,0.00459109665825963,-0.04054439067840576,0.018476910889148712,-0.00011238069419050589,-0.001446252572350204,0.08305259793996811,0.010354948230087757,0.05527905374765396,-0.007681118790060282,0.028634782880544662,0.029199542477726936,0.07813761383295059,0.07437854260206223,-0.0503888837993145,-0.012885501608252525,3.87163390780721e-34,0.03175731003284454,-0.03207338973879814,0.054235827177762985,0.06522773951292038,0.03716779127717018,-0.008027784526348114,0.0018655237508937716,-0.01331254281103611,-0.005958641413599253,-0.04356823489069939,-0.004339902196079493]'
SET
  @TechnicalDesignVector_b129ed32 = N'[-0.012347327545285225,0.05990588292479515,0.009596801362931728,-0.03996974602341652,0.00990515947341919,0.00908386055380106,0.007253935560584068,0.08235595375299454,-0.0766594260931015,-0.007771496661007404,-0.027513543143868446,0.04830402880907059,0.04272376000881195,0.15455199778079987,0.002303676912561059,-0.040796153247356415,-0.03762763738632202,0.004084293730556965,0.05221138522028923,0.02012595534324646,0.0231414083391428,-0.017544128000736237,-0.029609771445393562,-0.023719128221273422,-0.03038649447262287,-0.02152697741985321,-0.06118763983249664,0.024167535826563835,-0.020585227757692337,-0.026452843099832535,0.004793557804077864,0.05812329053878784,-0.0582842193543911,0.01758688874542713,0.0000021262560494506033,-0.03983060270547867,-0.06366339325904846,0.017704837024211884,-0.012208261527121067,0.0385599359869957,-0.03353659063577652,-0.0693468227982521,0.04583136737346649,0.009719054214656353,-0.016448568552732468,-0.07304379343986511,-0.0009489562944509089,0.10072460770606995,0.05434218421578407,-0.04681099206209183,0.00856593158096075,-0.021971391513943672,-0.0037299254909157753,0.003709453158080578,-0.051356587558984756,0.04929954931139946,0.013492421247065067,0.007500788662582636,0.013003367930650711,-0.0013786599738523364,0.0017686908831819892,-0.02138533443212509,0.005525561515241861,-0.03880280628800392,0.028202414512634277,0.010803258046507835,-0.04942375421524048,0.03007798083126545,-0.006603372748941183,0.024904638528823853,0.10893916338682175,0.042821161448955536,-0.014866549521684647,0.0004372292314656079,-0.02203495055437088,-0.09128253906965256,0.004909390117973089,0.03869343549013138,0.0017300733597949147,-0.014533779583871365,-0.04042799398303032,0.031589750200510025,-0.052631691098213196,0.021898183971643448,-0.05210338160395622,-0.014553799293935299,0.0006215063622221351,-0.060379087924957275,0.0017735993023961782,-0.01913451962172985,0.044785529375076294,-0.031722310930490494,0.008313297294080257,0.00810171477496624,0.029004178941249847,-0.03543902188539505,0.005462877452373505,-0.04250451177358627,0.028525257483124733,0.02555878646671772,-0.025281963869929314,0.062441762536764145,-0.02946316823363304,0.05275040864944458,0.028456900268793106,0.007627565413713455,-0.05184392258524895,-0.057412002235651016,0.04025600478053093,0.036275364458560944,0.020096659660339355,0.006175209302455187,-0.01971585303544998,0.05055531859397888,-0.04311882331967354,0.02297414094209671,-0.04741866886615753,-0.019925858825445175,-0.049709003418684006,0.04716360196471214,0.17021572589874268,0.020055264234542847,0.022237449884414673,0.014573241584002972,-0.011459343135356903,-0.042103514075279236,-0.0035007689148187637,-0.03707778826355934,-0.001336115412414074,-0.01159176416695118,-0.0068094381131231785,-0.03840378299355507,-0.011209945194423199,-0.01647077687084675,-0.0030874768272042274,0.023325882852077484,0.050555575639009476,0.03213511407375336,-0.058068450540304184,-0.007711406331509352,0.04909368231892586,0.0399874709546566,-0.02297162637114525,0.01177908480167389,-0.019147807732224464,0.00973920151591301,-0.03680631145834923,0.04321039095520973,0.014936354011297226,-0.00822403747588396,0.013256881386041641,0.028294259682297707,-0.024484621360898018,-0.006159136537462473,-0.02588830329477787,-0.016636276617646217,-0.004230954684317112,-0.0026904039550572634,-0.003285348881036043,-0.043801724910736084,0.0008549335761927068,-0.010522332973778248,0.010855941101908684,0.02548280544579029,-0.03411628678441048,-0.02426639385521412,-0.014786050654947758,0.019191069528460503,0.0014842463424429297,-0.01291712373495102,0.02184808813035488,-0.024411072954535484,-0.010615252889692783,-0.0029149986803531647,0.024917587637901306,-0.04495370388031006,0.0964222252368927,-0.04303381219506264,-0.024233702570199966,0.02703819051384926,0.07998164743185043,-0.11389995366334915,0.02257770113646984,0.023894278332591057,0.03881064057350159,-0.01628710888326168,-0.034554023295640945,0.028430037200450897,-0.037592824548482895,-0.003195070894435048,-0.02710377611219883,-0.003510081209242344,0.013195129111409187,0.025862254202365875,-0.0028914418071508408,-0.006265893112868071,-0.011019054800271988,-0.043264489620923996,0.03851213678717613,-0.0049641327932477,-0.02083095908164978,-0.060031626373529434,0.019226454198360443,0.09880979359149933,0.022076373919844627,-0.023242978379130363,0.01862182654440403,-0.05147517845034599,-0.039190374314785004,0.024451207369565964,-0.0281586404889822,-0.028815455734729767,-0.05239420756697655,-0.020699383690953255,-0.014736651442945004,0.04368998110294342,0.030454084277153015,0.030995769426226616,-0.03930958732962608,-0.008076020516455173,-0.05830640345811844,-0.0032824326772242785,0.0326361283659935,-0.012428504414856434,0.15887489914894104,-0.016361285001039505,0.032187532633543015,0.007788937073200941,0.02227380871772766,0.014925889670848846,-0.021802814677357674,-0.006028303410857916,-0.008220173418521881,0.04110782593488693,0.04774193838238716,0.03208788484334946,0.0767602026462555,0.0939774215221405,-0.0014576829271391034,0.0007947895210236311,-0.027537088841199875,-0.04859225079417229,-0.018250472843647003,-0.00928004365414381,-0.001477457582950592,0.0042458511888980865,-0.014673960395157337,-0.024337830021977425,-0.0060246605426073074,0.023341482505202293,0.023212386295199394,0.02302435413002968,0.028828615322709084,-0.032949332147836685,-0.002961944555863738,0.013067341409623623,-0.042860548943281174,-0.008465316146612167,-0.08182720839977264,0.06352499127388,-0.01878240704536438,-0.018623344600200653,0.03188411518931389,-0.05059675872325897,0.02833937294781208,-0.02230183593928814,0.05967814102768898,-0.026255831122398376,-0.03019898757338524,0.010183151811361313,-0.019125187769532204,0.057150159031152725,-0.007017218973487616,-0.0004999846569262445,-0.025454657152295113,0.034097056835889816,-0.03013693541288376,0.017136381939053535,-0.00793380569666624,0.013054325245320797,-0.03555506095290184,0.002449091523885727,0.00480889854952693,0.014083937741816044,0.0011106262682005763,0.024556415155529976,-0.006437597330659628,-0.02440299652516842,-0.02317129261791706,-0.07715608924627304,0.01758635975420475,0.002404640195891261,0.022219805046916008,-0.003978383261710405,-0.022334951907396317,0.007468912284821272,0.0009545753127895296,0.04777149856090546,-0.028917502611875534,0.02852489799261093,-0.030223285779356956,-0.029342636466026306,-0.00516440998762846,-0.013618296012282372,0.02814866229891777,0.08017891645431519,0.05398184806108475,-0.0020718290470540524,0.01928965002298355,0.0856098085641861,-0.01894766092300415,0.013449554331600666,-0.038435351103544235,-0.04097827151417732,0.032142698764801025,0.012258714064955711,-0.01909451000392437,0.08100581169128418,0.00168047402985394,0.06043978035449982,0.008596926927566528,0.02810421958565712,-0.013882542960345745,0.02835942804813385,-0.0026411155704408884,0.052109494805336,-0.024395443499088287,-0.042716134339571,-0.028046147897839546,-0.030524270609021187,-0.007209372706711292,-0.01310707163065672,-0.005702850874513388,0.01437009684741497,0.043538451194763184,0.003889156272634864,-0.0319722555577755,0.056050099432468414,0.018284864723682404,-0.05320744588971138,-0.016210488975048065,0.0058727143332362175,0.0012054581893607974,-0.0316406786441803,0.034138258546590805,0.01873232237994671,-0.025741470977663994,0.03710665926337242,-0.06602829694747925,0.015150033868849277,0.007530115079134703,0.03145255893468857,-0.014115836471319199,-0.010323683731257915,0.03819557651877403,0.02382272481918335,-0.07394036650657654,-0.036221832036972046,-0.027403080835938454,-0.06802300363779068,-0.009196714498102665,-0.003308395389467478,-0.034558508545160294,-0.003995892591774464,0.006818278227001429,0.02445286698639393,0.03772570565342903,-0.01782197318971157,-0.02106805332005024,-0.02416042797267437,-0.08364816009998322,-0.002693319693207741,0.007971950806677341,0.013019458390772343,0.004380584228783846,-0.004254997242242098,-0.022167079150676727,-0.014751329086720943,-0.005851916503161192,0.018917353823781013,0.034423910081386566,-0.04668034613132477,0.09163813292980194,-0.024269433692097664,0.04769446328282356,-0.021624663844704628,-0.04110616073012352,-0.01646970398724079,-0.019260330125689507,-0.012277304194867611,-0.01920732669532299,-0.02962910570204258,0.0016390804667025805,0.005308301653712988,0.004202822223305702,0.006370146758854389,-0.030364694073796272,0.04360828548669815,0.025355089455842972,0.010158776305615902,0.011484447866678238,-0.017497261986136436,-0.01173604279756546,-0.008276823908090591,0.022236032411456108,-0.04474426433444023,0.05505025386810303,0.03841199353337288,0.0045194197446107864,-0.05808018147945404,-0.08335474133491516,-0.026056338101625443,-0.061621375381946564,-0.034505926072597504,0.005068518687039614,-0.013505685143172741,-0.005299131385982037,-0.005102483555674553,0.04516356438398361,0.05274835601449013,0.03725147619843483,0.008354490622878075,0.013844932429492474,0.007971057668328285,0.03980076685547829,-0.030361317098140717,-0.06171443685889244,-0.024927206337451935,0.010638709180057049,0.009341458790004253,-0.052473507821559906,-0.00521900923922658,-0.051857735961675644,0.014292909763753414,-0.03466600179672241,0.07648175209760666,0.00815980788320303,-0.00758149940520525,0.004410687368363142,-0.005057169124484062,-0.049180347472429276,0.00889626145362854,0.025106018409132957,-0.025316517800092697,-0.05921276658773422,-0.006649494171142578,-0.01644710823893547,0.003362807212397456,-0.013697726652026176,-0.03266993165016174,-0.0027972820680588484,-0.04158518835902214,-0.05649208649992943,0.015695299953222275,-0.0497770719230175,-0.03884907439351082,-0.02425176464021206,0.03513312712311745,0.032693374902009964,0.025850934907794,0.006873321253806353,0.02410527691245079,-0.08474602550268173,0.004394826479256153,0.03718533366918564,-0.08728526532649994,0.024202143773436546,-0.0799412950873375,-0.012831325642764568,-0.014383156783878803,0.029341602697968483,-0.00809738039970398,-0.026638129726052284,-0.04742174223065376,0.04258503019809723,0.037966515868902206,0.009167560376226902,-0.0017183865420520306,0.06304286420345306,0.0040235985070466995,-0.005109961610287428,0.018991896882653236,0.039930447936058044,-0.11103062331676483,0.02004966326057911,0.03501521423459053,-0.06346716731786728,-0.025757359340786934,-0.025538289919495583,-0.02959110029041767,0.05391072481870651,0.03683231398463249,-0.001027180114760995,0.062129661440849304,0.038419757038354874,0.0028661012183874846,-0.01919269561767578,0.008523397147655487,0.01171182096004486,-0.016752071678638458,-0.030051549896597862,-0.028815431520342827,-0.008180043660104275,0.011533316224813461,-0.026817506179213524,-0.045738350600004196,0.022256555035710335,0.026496702805161476,-0.007947821170091629,0.01721465028822422,0.07155268639326096,-0.0006184536614455283,-0.017547613009810448,0.07646430283784866,0.07374490052461624,0.03749309852719307,-0.036872681230306625,0.0076599037274718285,-0.021375266835093498,0.013811676762998104,0.0019332104129716754,0.018411045894026756,0.02041752077639103,0.039182379841804504,0.04477735981345177,0.04038190841674805,0.017086787149310112,-0.02408544532954693,0.022869285196065903,0.051568515598773956,-0.02842707373201847,-0.022824782878160477,-0.03480866551399231,-0.008222526870667934,-0.021623138338327408,0.04016897827386856,0.034487076103687286,-0.023766689002513885,0.0028794133104383945,-0.0006723648402839899,-0.058319054543972015,0.006436090916395187,0.06195894628763199,0.013872789219021797,-0.013311388902366161,0.004907157737761736,0.008936967700719833,-0.01305356528609991,0.012454585172235966,0.049959149211645126,0.011720684356987476,0.006829532794654369,-0.04487870633602142,-0.04267066717147827,-0.02185819484293461,-7.08244603388441e-33,-0.04605315998196602,-0.021348195150494576,-0.03348132222890854,-0.00763518875464797,0.077495276927948,0.060568809509277344,0.026588456705212593,-0.05673357844352722,0.010083376429975033,-0.0016090435674414039,-0.027797963470220566,-0.014901140704751015,0.016185274347662926,0.030057592317461967,0.013605907559394836,0.008756565861403942,0.01013893447816372,-0.0384681262075901,0.001233094953931868,-0.04045628383755684,-0.04604484140872955,0.03140626102685928,0.013052907772362232,-0.045355767011642456,0.01689302735030651,0.023249085992574692,-0.040137629956007004,0.031812652945518494,0.05608225613832474,0.05602525547146797,-0.020491305738687515,-0.027661416679620743,-0.03180939704179764,-0.0198301300406456,0.007785876281559467,-0.00416025472804904,-0.09465906769037247,-0.0077472529374063015,-0.010431138798594475,0.016907546669244766,0.00008745524246478453,0.029214216396212578,0.034181684255599976,-0.02786969393491745,-0.045689839869737625,-0.02112310193479061,-0.017109138891100883,0.007689422927796841,0.016537154093384743,-0.010150101967155933,0.04930189624428749,0.013911672867834568,0.004271674435585737,0.08390473574399948,0.0002572308003436774,-0.0015018937410786748,0.013610273599624634,-0.03617117181420326,-0.05698671191930771,-0.006708567962050438,-0.04069520905613899,-0.06799156218767166,-0.00770600326359272,0.006726677529513836,0.015088578686118126,-0.024347875267267227,-0.04432061314582825,0.05815834179520607,-0.05472231283783913,-0.032527755945920944,-0.008135393261909485,-0.039825551211833954,0.032679978758096695,-0.04019030183553696,-0.046141915023326874,0.021938756108283997,0.005322935059666634,0.009744084440171719,0.012208080850541592,-0.00005244712156127207,-0.0039629386737942696,0.012564009055495262,-0.0000094440974862664,0.01468773651868105,0.01430422067642212,-0.0008203781326301396,-0.009934219531714916,-0.010201841592788696,0.05205630511045456,0.007872126065194607,0.03864952176809311,-0.016415715217590332,-0.05664830654859543,0.03938837721943855,-0.0829535722732544,0.06069622561335564,0.05017540231347084,0.05575810372829437,-0.0006539448513649404,-0.0011083848075941205,0.0025244171265512705,0.032124120742082596,0.010332655161619186,-0.005146003793925047,-0.028424276039004326,0.024947240948677063,0.030504442751407623,-0.022784573957324028,-0.07993605732917786,0.03555301949381828,0.03895244747400284,0.03803963214159012,-0.0067177158780395985,-0.04257611185312271,-0.0027909562923014164,-0.01947706937789917,-0.006612853147089481,-0.03941618278622627,0.030697496607899666,0.019178742542862892,0.03938724845647812,-0.00869701337069273,0.020323194563388824,0.05824948474764824,0.059679701924324036,-0.022950751706957817,-0.0009642757941037416,0.005446346942335367,-0.03339455649256706,0.032173626124858856,0.008832558058202267,0.023673105984926224,3.0574824450013693e-7,0.02338440902531147,0.010966179892420769,-0.042519837617874146,0.04341750219464302,0.018849240615963936,-0.051598940044641495,0.004108346067368984,0.008759272284805775,-0.03198154270648956,-0.023978419601917267,0.01711071841418743,0.031042421236634254,0.026724567636847496,0.005584685131907463,0.04198295623064041,-0.08364113420248032,0.008367279544472694,-0.04108995199203491,-0.023510990664362907,0.005022043362259865,0.011850135400891304,-0.001952995895408094,0.04762919619679451,0.011857233010232449,-0.00832398608326912,-0.005695253144949675,0.04061564430594444,-0.02032358944416046,0.03223172947764397,-0.07044371962547302,0.03453050181269646,0.011921091005206108,-0.02661246620118618,0.04835735633969307,0.005217942409217358,-0.02039293386042118,0.05023542046546936,0.0003589014813769609,0.015972694382071495,0.12501421570777893,0.048085857182741165,-0.04833514615893364,-0.020626116544008255,-0.02166709676384926,0.02478816919028759,0.049862608313560486,-0.04335414618253708,0.017453614622354507,-0.039287347346544266,-0.005878485273569822,-0.004308701027184725,0.011119564063847065,-0.004159318748861551,-0.04440679773688316,0.0195649154484272,0.0048604910261929035,-0.007471368182450533,0.03542044758796692,0.008679026737809181,0.0112907150760293,-0.008516745641827583,0.02228584513068199,0.022539427503943443,0.07689446955919266,0.03332279995083809,-0.04415764659643173,-0.03507111594080925,3.685468204238096e-34,0.028158938512206078,-0.02810549922287464,0.010143711231648922,0.032035183161497116,0.03354552760720253,-0.02677234262228012,0.023923855274915695,-0.03305288404226303,0.021136270835995674,-0.07189570367336273,-0.003993712831288576]'
SET
  @HasCustomProps_b129ed32 = 1
SET
  @HasCustomEvents_b129ed32 = 1
SET
  @RequiresData_b129ed32 = 1
SET
  @DependencyCount_b129ed32 = 0
SET
  @TechnicalDesignVectorEmbeddingModelID_b129ed32 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_b129ed32 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_b129ed32 = 1
SET
  @ID_b129ed32 = 'EBDC8340-A685-496E-A73B-BC61AFB9ECC9'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_b129ed32,
  @Name = @Name_b129ed32,
  @Version = @Version_b129ed32,
  @VersionSequence = @VersionSequence_b129ed32,
  @Title = @Title_b129ed32,
  @Description = @Description_b129ed32,
  @Type = @Type_b129ed32,
  @Status = @Status_b129ed32,
  @DeveloperName = @DeveloperName_b129ed32,
  @DeveloperEmail = @DeveloperEmail_b129ed32,
  @DeveloperOrganization = @DeveloperOrganization_b129ed32,
  @SourceRegistryID = @SourceRegistryID_b129ed32,
  @ReplicatedAt = @ReplicatedAt_b129ed32,
  @LastSyncedAt = @LastSyncedAt_b129ed32,
  @Specification = @Specification_b129ed32,
  @FunctionalRequirements = @FunctionalRequirements_b129ed32,
  @TechnicalDesign = @TechnicalDesign_b129ed32,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_b129ed32,
  @TechnicalDesignVector = @TechnicalDesignVector_b129ed32,
  @HasCustomProps = @HasCustomProps_b129ed32,
  @HasCustomEvents = @HasCustomEvents_b129ed32,
  @RequiresData = @RequiresData_b129ed32,
  @DependencyCount = @DependencyCount_b129ed32,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_b129ed32,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_b129ed32,
  @HasRequiredCustomProps = @HasRequiredCustomProps_b129ed32,
  @ID = @ID_b129ed32;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_3d8972b8 NVARCHAR(MAX),
@Name_3d8972b8 NVARCHAR(500),
@Version_3d8972b8 NVARCHAR(50),
@VersionSequence_3d8972b8 INT,
@Title_3d8972b8 NVARCHAR(1000),
@Description_3d8972b8 NVARCHAR(MAX),
@Type_3d8972b8 NVARCHAR(255),
@Status_3d8972b8 NVARCHAR(50),
@DeveloperName_3d8972b8 NVARCHAR(255),
@DeveloperEmail_3d8972b8 NVARCHAR(255),
@DeveloperOrganization_3d8972b8 NVARCHAR(255),
@SourceRegistryID_3d8972b8 UNIQUEIDENTIFIER,
@ReplicatedAt_3d8972b8 DATETIMEOFFSET,
@LastSyncedAt_3d8972b8 DATETIMEOFFSET,
@Specification_3d8972b8 NVARCHAR(MAX),
@FunctionalRequirements_3d8972b8 NVARCHAR(MAX),
@TechnicalDesign_3d8972b8 NVARCHAR(MAX),
@FunctionalRequirementsVector_3d8972b8 NVARCHAR(MAX),
@TechnicalDesignVector_3d8972b8 NVARCHAR(MAX),
@HasCustomProps_3d8972b8 BIT,
@HasCustomEvents_3d8972b8 BIT,
@RequiresData_3d8972b8 BIT,
@DependencyCount_3d8972b8 INT,
@TechnicalDesignVectorEmbeddingModelID_3d8972b8 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_3d8972b8 NVARCHAR(MAX),
@HasRequiredCustomProps_3d8972b8 BIT,
@ID_3d8972b8 UNIQUEIDENTIFIER
SET
  @Namespace_3d8972b8 = N'Generic/UI/Table'
SET
  @Name_3d8972b8 = N'EntityDataGrid'
SET
  @Version_3d8972b8 = N'1.0.0'
SET
  @VersionSequence_3d8972b8 = 1
SET
  @Title_3d8972b8 = N'Entity Data Grid'
SET
  @Description_3d8972b8 = N'Entity-aware data grid that **automatically loads records via RunView** with adaptive caching. Requires entityName prop, calls RunView internally. Smart caching: if totalRecords ≤ maxCachedRows (default 1000), loads ALL data upfront for instant client-side sort/filter. If totalRecords > maxCachedRows, uses paginated server-side loading with optional page caching. Auto-detects fields from metadata (first 15 non-system fields) or use explicit fields array. Built-in record opening on row click (auto-detects primary keys). Wraps DataGrid component for rendering.

#### EntityDataGrid - ONLY use when:
✅ Loading records directly from a MemberJunction entity (single table, no complex joins)
✅ Want automatic RunView calls with caching (don''t want to manage data loading yourself)
✅ Need ''click chart segment → see actual records'' drill-down pattern
✅ Optional SQL WHERE filtering via extraFilter prop
✅ Prefer smart adaptive caching (instant UX for small datasets, paginated for large ones)
✅ Typical drill-down scenarios: chart segment with < 1000 matching records

❌ DO NOT USE EntityDataGrid when:
- You already have the data from your own query → **Use DataGrid instead** (pass data via props)
- Need complex joins, aggregations, or multi-entity queries → **Use DataGrid with custom RunQuery/RunView**
- Need full control over data loading timing/logic → **Use DataGrid instead**
- Displaying aggregated/calculated data → **Use DataGrid** (EntityDataGrid loads raw entity records only)
- Data source is not a MemberJunction entity (external API, calculated results) → **Use DataGrid**

**Key difference from DataGrid**: EntityDataGrid is opinionated and automatic (manages RunView, caching, pagination). DataGrid is flexible and passive (you control data loading). Choose EntityDataGrid for simple ''show me the records'' scenarios, DataGrid for custom data sources or complex queries.
'
SET
  @Type_3d8972b8 = N'Table'
SET
  @Status_3d8972b8 = N'Published'
SET
  @Specification_3d8972b8 = N'{"name":"EntityDataGrid","title":"Entity Data Grid","description":"Entity-aware data grid that **automatically loads records via RunView** with adaptive caching. Requires entityName prop, calls RunView internally. Smart caching: if totalRecords ≤ maxCachedRows (default 1000), loads ALL data upfront for instant client-side sort/filter. If totalRecords > maxCachedRows, uses paginated server-side loading with optional page caching. Auto-detects fields from metadata (first 15 non-system fields) or use explicit fields array. Built-in record opening on row click (auto-detects primary keys). Wraps DataGrid component for rendering.\n\n#### EntityDataGrid - ONLY use when:\n✅ Loading records directly from a MemberJunction entity (single table, no complex joins)\n✅ Want automatic RunView calls with caching (don''t want to manage data loading yourself)\n✅ Need ''click chart segment → see actual records'' drill-down pattern\n✅ Optional SQL WHERE filtering via extraFilter prop\n✅ Prefer smart adaptive caching (instant UX for small datasets, paginated for large ones)\n✅ Typical drill-down scenarios: chart segment with < 1000 matching records\n\n❌ DO NOT USE EntityDataGrid when:\n- You already have the data from your own query → **Use DataGrid instead** (pass data via props)\n- Need complex joins, aggregations, or multi-entity queries → **Use DataGrid with custom RunQuery/RunView**\n- Need full control over data loading timing/logic → **Use DataGrid instead**\n- Displaying aggregated/calculated data → **Use DataGrid** (EntityDataGrid loads raw entity records only)\n- Data source is not a MemberJunction entity (external API, calculated results) → **Use DataGrid**\n\n**Key difference from DataGrid**: EntityDataGrid is opinionated and automatic (manages RunView, caching, pagination). DataGrid is flexible and passive (you control data loading). Choose EntityDataGrid for simple ''show me the records'' scenarios, DataGrid for custom data sources or complex queries.\n","type":"table","location":"embedded","functionalRequirements":"## Purpose\nEntity-aware data grid that automatically loads MemberJunction entity records via RunView with intelligent adaptive caching. Wraps DataGrid component with automatic data management.\n\n## Data Source\n- **Required**: `entityName` prop (MemberJunction entity name)\n- **Automatic**: Calls `utilities.rv.RunView` internally\n- **Optional**: `extraFilter` (SQL WHERE clause), `orderBy` (SQL ORDER BY clause), `fields` (array of field names)\n\n## Adaptive Caching Strategy\n\n### Mode Selection Logic\nOn initial load, fetches `maxCachedRows` records (default 1000) and checks `result.RowCount`:\n\n**FULL CACHE MODE** (`totalRecords ≤ maxCachedRows`):\n- Loads ALL entity records into memory upfront\n- All sorting, filtering, pagination happens client-side (instant, no server calls)\n- Perfect for drill-down scenarios where filtered datasets are typically small\n- Shows indicator: \"All X records loaded\"\n\n**PARTIAL CACHE MODE** (`totalRecords > maxCachedRows`):\n- Loads first `maxCachedRows` records initially\n- Server-side sorting (new RunView with OrderBy, clears cache)\n- Server-side pagination (RunView with Skip/MaxRows parameters)\n- Caches visited pages (Map<pageNumber, pageData>) for instant back/forward\n- Shows warning: \"Showing first 1,000 of 15,000 records - refine extraFilter for better performance\"\n\n### Cache Invalidation\nClears all caches when:\n- `entityName` prop changes\n- `extraFilter` prop changes\n- `orderBy` prop changes (in partial mode only)\n- `refreshTrigger` increments (manual refresh)\n\nResets to page 1 and re-enters loading state.\n\n## Sorting Behavior\n\n### Full Cache Mode\n- Client-side array.sort() on cached records\n- Instant sorting (no server calls)\n- Uses JavaScript string localeCompare or numeric comparison\n\n### Partial Cache Mode\n- Server-side: Triggers new RunView with OrderBy parameter\n- Clears all caches and reloads from page 1\n- Loading indicator shows during fetch\n\n**Control**: DataGrid''s `enableSorting` prop controls column sort UI. Component''s `orderBy` prop sets initial/default sort.\n\n## Filtering Behavior\n\n### extraFilter Prop (Database-level)\n- Always server-side (RunView ExtraFilter parameter)\n- Affects both full and partial cache modes\n- Use for: WHERE clauses, date ranges, status filters, user scoping\n- Changing `extraFilter` clears cache and reloads\n\n### DataGrid Text Filter (UI Search)\n**Full cache mode**:\n- Client-side filtering of cached records (instant)\n- Searches across specified fields or all display fields\n\n**Partial cache mode**:\n- Filters current page data only (doesn''t refetch)\n- Shows warning banner: \"Text filtering searches loaded records only. Use extraFilter prop for database-level filtering.\"\n\n## Pagination Strategy\n\n### Full Cache Mode\n- Pure client-side array slicing\n- No server calls on page change\n- Instant page navigation\n\n### Partial Cache Mode\n- Checks page cache: `pageCache.has(pageNum)`\n- **Cache hit**: Uses cached data (instant)\n- **Cache miss**: Fetches via RunView with Skip/MaxRows (loading indicator)\n- Stores result in pageCache\n- Smart eviction: Keeps last 10 pages (LRU strategy)\n\nPage size changes always reset to page 1.\n\n## Field Selection\n\n### Auto-detection (if `fields` prop omitted)\n- Loads entity from `utilities.md.Entities`\n- Gets first 15 non-system fields (filters out `__mj*` fields)\n- Uses DisplayName from metadata for column headers\n\n### Explicit fields\n- Pass array of field names: `[''Name'', ''Email'', ''Status'']`\n- Component validates fields exist in entity metadata\n- Warning logged for unknown fields\n\n## Primary Key Detection\nAuto-detects primary keys from entity metadata for OpenEntityRecord integration:\n- Handles single keys: `''ID''`\n- Handles composite keys: `[''OrderID'', ''LineNumber'']`\n- Passes to DataGrid as `entityPrimaryKeys` prop for row click behavior\n\n## Integration with DataGrid\nEntityDataGrid passes managed data to DataGrid with these overrides:\n\n- `data`: Current page records (loaded/cached)\n- `entityName`: Passed through\n- `entityPrimaryKeys`: Auto-detected from metadata\n- `columns`: Maps `fields` prop to DataGrid columns (auto-detected if omitted)\n- `sorting={false}`: Component handles sorting logic (client vs server)\n- `paging={false}`: Component handles pagination logic (client vs server)\n- `filtering={enableFiltering}`: Passed through (component handles filter behavior)\n- All other props: selection, autoFitColumns, onRowClick, events passed through\n\n## User Experience Indicators\n\n### Loading States\n- Initial load: Full-page spinner\n- Pagination in partial mode: Subtle overlay\n- Sorting in partial mode: Loading indicator\n\n### Cache Mode Indicators\n- Full mode: Badge showing \"All X records loaded\"\n- Partial mode: Warning banner \"Showing first X of Y records\"\n\n### Warnings\n- Partial mode text filter: \"Searches loaded records only - use extraFilter for database filtering\"\n- Large dataset: Suggests refining extraFilter for better performance\n\n### Refresh Button\n- Visible in all modes\n- Clears all caches and reloads from page 1\n- Useful after external data changes\n\n## Error Handling\n- Network errors: \"Unable to load data. [Retry]\" button\n- Invalid filters: Shows error with filter details\n- Permission errors: \"You do not have access to this entity\"\n- Empty results: \"No {entityName} found\" or \"No {entityName} match your filters\"\n- RunView.Success=false: Shows ErrorMessage with retry option\n\n## Events\nAll DataGrid events bubble up:\n- `onPageChanged`: Fires after page change completes (includes current page data)\n- `onSortChanged`: Fires after sort completes\n- `onFilterChanged`: Fires after filter applied\n- `onRowClick`: Fires on row click\n- `onSelectionChanged`: Fires on selection change\n\nAdditional EntityDataGrid events:\n- `onDataLoaded`: Fires after successful RunView (includes rowCount, cacheMode)\n- `onLoadError`: Fires on RunView errors\n- `onCacheModeChanged`: Fires when switching full↔partial (optional)\n","technicalDesign":"## Architecture\nReact functional component that wraps DataGrid with automatic RunView data loading and adaptive caching logic.\n\n## State Management\n- **data** (Array | null): Current page records for display\n- **allDataCache** (Array | null): All records in full cache mode\n- **pageCache** (Map<number, Array>): Cached pages in partial cache mode\n- **cacheMode** (''full'' | ''partial'' | ''loading''): Current cache strategy\n- **loading** (boolean): Data fetch in progress\n- **error** (string | null): Error message if load failed\n- **currentPage** (number, 1-based): Current pagination page\n- **currentPageSize** (number): Records per page\n- **totalRecords** (number | null): Total record count from RowCount\n- **entityInfo** (object): Entity metadata from `utilities.md`\n- **currentOrderBy** (string): Active sort order\n- **refreshTrigger** (number): Increment to force reload\n\n## Initial Load Logic (useEffect)\n\n### Triggers\nRuns on: `entityName`, `extraFilter`, `refreshTrigger` changes\n\n### Process\n1. Call `RunView` with:\n   - EntityName: `entityName`\n   - ExtraFilter: `extraFilter` prop\n   - OrderBy: `orderBy` prop or primary key\n   - MaxRows: `maxCachedRows` (default 1000)\n   - Skip: 0\n   - ResultType: ''entity_object''\n\n2. **On success**:\n   - Check `result.RowCount` vs `maxCachedRows`\n   - **If RowCount ≤ maxCachedRows OR RowCount is null**:\n     - `setCacheMode(''full'')`\n     - `setAllDataCache(result.Results)`\n     - `setData(result.Results.slice(0, pageSize))`\n   - **If RowCount > maxCachedRows**:\n     - `setCacheMode(''partial'')`\n     - `setPageCache(Map with page 1 = result.Results)`\n     - `setData(first page slice)`\n   - Store `totalRecords` from RowCount\n\n3. **On failure**:\n   - Set error message\n   - Clear all caches\n\n## Cache Modes\n\n### Full Cache Mode\n**When**: `totalRecords ≤ maxCachedRows`\n\n**Behavior**:\n- All data stored in `allDataCache`\n- **Pagination**: Client-side array slicing (instant)\n- **Sorting**: `sortClientSide()` - array.sort(), instant\n- **Text filtering**: Client-side array.filter(), instant\n- No loading states on interactions\n\n**Benefits**:\n- Instant UX for all interactions\n- Perfect for drill-down scenarios (typically < 1000 records)\n- Reduces server load\n\n### Partial Cache Mode\n**When**: `totalRecords > maxCachedRows`\n\n**Behavior**:\n- **pageCache**: Map<pageNum, data[]>\n- **Pagination**: Check cache, fetch if miss\n  - Cache hit: Instant\n  - Cache miss: RunView with Skip/MaxRows, show loading\n- **Sorting**: `sortServerSide()` - clears caches, new RunView with OrderBy\n- **Text filtering**: Filters current page only, shows warning banner\n- **Smart eviction**: Keep last 10 pages (LRU strategy)\n\n**Warning banner**: \"Showing first 1,000 of 15,000 records - refine extraFilter for better performance\"\n\n## Cache Invalidation\nClears `allDataCache` and `pageCache` when:\n- `entityName` changes\n- `extraFilter` changes\n- `orderBy` changes (partial mode only)\n- `refreshTrigger` increments\n\nResets to page 1 and `cacheMode=''loading''`.\n\n## Sort Handling\n\n### Full Cache Mode\n`sortClientSide()`:\n- Sorts `allDataCache` in place\n- Updates `data` slice for current page\n- Fires `onSortChanged` event\n- Instant (no server call)\n\n### Partial Cache Mode\n`sortServerSide()`:\n- Clears all caches\n- Sets `orderBy` state with new sort\n- Triggers useEffect reload\n- Shows loading indicator\n- Fires `onSortChanged` after completion\n\n## Filter Handling\n\n### extraFilter Prop (Database-level)\n- Always server-side (RunView ExtraFilter parameter)\n- Affects both full and partial modes\n- Clears cache and reloads on change\n\n### DataGrid Text Filter (UI Search)\n**Full mode**:\n- Filters `allDataCache` instantly\n- Shows filtered results\n- No server call\n\n**Partial mode**:\n- Filters current page data only\n- Shows warning: \"Text filtering searches loaded records only. Use extraFilter for database-level filtering.\"\n- Does not refetch from server\n\n## Page Navigation\n`handlePageChange(newPage)`:\n1. Validate page bounds\n2. **If full cache mode**:\n   - Slice `allDataCache` at new offset\n   - Instant\n3. **If partial cache mode**:\n   - Check `pageCache.has(newPage)`\n   - **Cache hit**: Use cached data (instant)\n   - **Cache miss**: Fetch via RunView (show loading)\n     - Parameters: EntityName, ExtraFilter, OrderBy, Skip=(page-1)*pageSize, MaxRows=pageSize\n     - Store result in `pageCache`\n     - Update `data`\n4. Update `currentPage` state\n\n## Entity Metadata Loading (useEffect)\nOn `entityName` change:\n- Loads entity from `utilities.md.Entities`\n- Extracts primary key fields for default `orderBy`\n- Auto-detects fields if not provided (first 15 non-system fields)\n- Stores in `entityInfo` state\n\n## Field Auto-Detection\nIf `fields` prop omitted:\n- Gets entity from metadata\n- Filters out `__mj*` system fields\n- Excludes ID, nested objects\n- Takes first 15 fields\n- Uses DisplayName for column headers\n\n## Primary Key Detection\nFor OpenEntityRecord integration:\n- Checks `entity.PrimaryKeys` array\n- Fallback to `entity.FirstPrimaryKey`\n- Fallback to ''ID''\n- Passed to DataGrid as `entityPrimaryKeys` prop\n\n## DataGrid Integration\nEntityDataGrid passes to DataGrid:\n- **data**: Current page records (managed)\n- **entityName**: Pass through\n- **entityPrimaryKeys**: Auto-detected\n- **columns**: Maps `fields` prop (auto-detected if omitted)\n- **sorting={false}**: Component manages sort logic\n- **paging={false}**: Component manages pagination\n- **filtering={enableFiltering}**: Pass through\n- **All other props**: selection, autoFitColumns, onRowClick, events\n\n## Pagination Calculation\n- **totalPages**: `totalRecords && pageSize ? Math.ceil(totalRecords / pageSize) : null`\n- **hasPrevious**: `currentPage > 1`\n- **hasNext**:\n  - Full mode: checks `allDataCache.length`\n  - Partial mode: checks `currentPage < totalPages`\n- **startRecord**, **endRecord**: For display\n\n## Render Output\n\n### Error State\nRed error panel with:\n- Error message\n- Retry button (clears error, increments `refreshTrigger`)\n\n### Loading State\nFull-page spinner when `loading && data===null`\n\n### Success State\n1. **Warning banner** (if partial mode):\n   - Light yellow background\n   - Text: \"Showing first X of Y records...\"\n   - Suggestion to refine extraFilter\n\n2. **Cache mode indicator** (badge):\n   - Full mode: \"All X records loaded\" (green)\n   - Partial mode: \"Showing X of Y\" (orange)\n\n3. **DataGrid component**:\n   - All DataGrid features available\n   - Receives current page data\n\n4. **Custom pagination controls** (below grid):\n   - Page buttons\n   - Page size selector\n   - \"X-Y of Z\" display\n\n5. **Refresh button**:\n   - Icon button (top-right)\n   - Increments `refreshTrigger`\n\n6. **Loading overlay** (partial mode page fetch):\n   - Subtle spinner overlay\n   - Doesn''t block UI\n\n## Event Firing\nBubbles up DataGrid events:\n- `onPageChanged`: After page change completes\n- `onSortChanged`: After sort completes\n- `onFilterChanged`: After filter applied\n- `onRowClick`, `onSelectionChanged`: Pass through\n\nAdditional events:\n- `onDataLoaded`: After successful RunView (includes rowCount, cacheMode)\n- `onLoadError`: On RunView errors\n- `onCacheModeChanged`: When switching full↔partial (optional)\n\n## Performance Optimizations\n- useMemo for tableColumns, paginationInfo, autoDetectedFields\n- useCallback for handlers (prevents re-renders)\n- Debounce text filter (300ms)\n- AbortController to cancel in-flight requests\n- LRU cache eviction (keep last 10 pages)\n- Smart cache mode selection (full vs partial)\n","dataRequirements":{"mode":"views","description":"Component performs RunView internally with adaptive caching. Initial load fetches maxCachedRows to determine cache mode. Does NOT accept data via props."},"typeDefinitions":{"FieldDefinition":{"description":"Field definition object for advanced field configuration","properties":{"field":{"type":"string","required":true,"description":"Field name from entity"},"header":{"type":"string","required":false,"description":"Display header text (defaults to field DisplayName or field name)"},"render":{"type":"function","signature":"(value: any, record: object, fieldInfo?: object) => ReactNode","required":false,"description":"Custom render function for cell content"},"width":{"type":"string | number","required":false,"description":"Column width (e.g., ''200px'' or 200)"},"sortable":{"type":"boolean","required":false,"description":"Override global sorting setting for this column"}}}},"properties":[{"name":"entityName","type":"string","description":"REQUIRED. Name of the MemberJunction entity to load records from. Must match entity name in metadata (e.g., ''Invoices'', ''Members'', ''CRM: Contacts'').","required":true,"exampleValue":"Invoices"},{"name":"extraFilter","type":"string","description":"Optional SQL WHERE clause to filter records (without ''WHERE'' keyword). Always applied server-side via RunView ExtraFilter parameter. Supports full SQL syntax: comparison operators, AND/OR logic, IN clauses, date functions, etc. Clearing cache and reloading data when changed. Examples: \"Status=''Active''\", \"InvoiceDate >= ''2024-01-01'' AND Total > 1000\", \"MemberID IN (SELECT ID FROM Members WHERE MembershipType=''Gold'')\"","required":false,"exampleValue":"Status=''Active'' AND InvoiceDate >= ''2024-01-01''","constraints":[{"type":"sql-where-clause","dependsOn":"entityName","description":"Validates SQL WHERE clause syntax and field references against the entity schema","errorTemplate":"SQL WHERE clause error: {message}"}]},{"name":"fields","type":"Array<string | FieldDefinition>","description":"Optional field definitions. Can be simple strings (field names) or FieldDefinition objects for advanced configuration. If omitted, auto-detects first 15 non-system fields. When using FieldDefinition objects, the ''field'' property is validated against entity fields.","required":false,"exampleValue":"[\"Name\", {field: \"Price\", header: \"Unit Price\", width: \"120px\", render: (v) => `$$' + '{v.toFixed(2)}`}, \"Status\"]","constraints":[{"type":"subset-of-entity-fields","dependsOn":"entityName","description":"Validates that field names (strings or FieldDefinition.field properties) exist on the specified entity","config":{"allowWildcard":false,"caseSensitive":false},"errorTemplate":"Field ''{field}'' does not exist on entity ''{entityName}''"}]},{"name":"orderBy","type":"string","description":"Optional SQL ORDER BY clause (without ''ORDER BY'' keyword). Defaults to primary key field(s) if not specified. In full cache mode: only sets initial sort (client-side sorting available). In partial cache mode: changing this triggers new RunView and clears cache. Examples: \"InvoiceDate DESC\", \"LastName ASC, FirstName ASC\", \"Total DESC\"","required":false,"exampleValue":"InvoiceDate DESC"},{"name":"pageSize","type":"number","description":"Number of records to display per page. Must be one of: 10, 20, 50, 100, 200. In full cache mode: slices cached array. In partial cache mode: MaxRows parameter for RunView.","required":false,"defaultValue":20,"exampleValue":"50"},{"name":"initialPage","type":"number","description":"Initial page number to load (1-based). Useful for deep linking or restoring user state.","required":false,"defaultValue":1},{"name":"maxCachedRows","type":"number","description":"Maximum number of rows to cache. Determines cache mode: if totalRecords <= maxCachedRows, enters full cache mode (loads all data upfront for instant sort/filter). If totalRecords > maxCachedRows, enters partial cache mode (server-side sort/filter, paginated loading). Higher values improve UX for larger datasets but use more memory. Typical drilldown scenarios have < 1000 rows.","required":false,"defaultValue":1000,"exampleValue":"2000"},{"name":"enablePageCache","type":"boolean","description":"Enable page caching in partial cache mode. When true, visited pages are cached for instant back/forward navigation. Cache cleared when entityName, extraFilter, or orderBy change. Keeps last 10 pages in memory (LRU eviction).","required":false,"defaultValue":true},{"name":"showPageSizeChanger","type":"boolean","description":"Show page size selector dropdown in pagination controls","required":false,"defaultValue":true},{"name":"enableSorting","type":"boolean","description":"Enable column sorting in DataGrid UI. In full cache mode: client-side instant sorting. In partial cache mode: triggers new RunView with OrderBy and clears cache. Different from ''orderBy'' prop which sets the initial/default sort order.","required":false,"defaultValue":true},{"name":"enableFiltering","type":"boolean","description":"Enable DataGrid''s text search filter UI. In full cache mode: instantly filters cached records. In partial cache mode: filters visible page data only and shows warning to use ''extraFilter'' prop for database-level filtering. Different from ''extraFilter'' prop which is always server-side SQL filtering.","required":false,"defaultValue":true},{"name":"selectionMode","type":"''none'' | ''checkbox'' | ''radio'' | ''row''","description":"Row selection mode (passed to DataGrid)","required":false,"defaultValue":"none"},{"name":"autoFitColumns","type":"boolean","description":"When true, columns auto-fit to container width. When false, uses fixed widths with horizontal scrolling (passed to DataGrid)","required":false,"defaultValue":true},{"name":"showRefreshButton","type":"boolean","description":"Show refresh button to manually reload and clear all caches","required":false,"defaultValue":false},{"name":"showCacheModeIndicator","type":"boolean","description":"Show indicator badge displaying current cache mode (''All X records loaded'' or ''Showing first X of Y records''). Useful for developers debugging performance or power users who want to understand data loading behavior. Most end users don''t need to see this.","required":false,"defaultValue":false},{"name":"warnOnPartialResults","type":"boolean","description":"Show warning banner in partial cache mode suggesting user refine extraFilter for better results. Useful when users might be confused about not seeing all data, but adaptive caching is designed to work transparently without requiring user awareness.","required":false,"defaultValue":false}],"events":[{"name":"pageChanged","description":"Fired when page or page size changes, after data is loaded","parameters":[{"name":"pageInfo","type":"{ pageNumber: number, pageSize: number, totalRecords: number | null, totalPages: number | null, visibleRows: Array<object>, cacheMode: ''full'' | ''partial'', cacheHit: boolean }","description":"Complete pagination state including cache information"}]},{"name":"dataLoaded","description":"Fired when data successfully loads from RunView","parameters":[{"name":"loadResult","type":"{ data: Array<object>, totalRecords: number | null, pageNumber: number, pageSize: number, cacheMode: ''full'' | ''partial'' }","description":"Loaded data and cache mode metadata"}]},{"name":"loadError","description":"Fired when RunView fails or network error occurs","parameters":[{"name":"errorInfo","type":"{ error: string, extraFilter?: string, entityName: string }","description":"Error details for logging or user notification"}]},{"name":"cacheModeChanged","description":"Fired when cache mode switches between full and partial","parameters":[{"name":"cacheModeInfo","type":"{ cacheMode: ''full'' | ''partial'', totalRecords: number, maxCachedRows: number }","description":"Cache mode transition information"}]},{"name":"rowClick","description":"Bubbled from DataGrid - fired when row clicked","parameters":[{"name":"event","type":"{ record: object, cancel: boolean }","description":"Row click event with cancelable pattern"}]},{"name":"selectionChanged","description":"Bubbled from DataGrid - fired when selection changes","parameters":[{"name":"selectionInfo","type":"{ selectedRows: Array<object> }","description":"Array of selected records"}]}],"dependencies":[{"name":"DataGrid","namespace":"Generic/UI/Table","location":"registry","description":"Wrapped data grid component for rendering"}],"code":"function EntityDataGrid({\n  entityName,\n  extraFilter,\n  fields,\n  orderBy,\n  pageSize = 20,\n  initialPage = 1,\n  maxCachedRows = 1000,\n  enablePageCache = true,\n  showPageSizeChanger = true,\n  enableSorting = true,\n  enableFiltering = true,\n  selectionMode = ''none'',\n  autoFitColumns = true,\n  showRefreshButton = false,\n  showCacheModeIndicator = false,\n  warnOnPartialResults = false,\n  onPageChanged,\n  onDataLoaded,\n  onLoadError,\n  onCacheModeChanged,\n  onRowClick,\n  onSelectionChanged,\n  onSortChanged,\n  onFilterChanged,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  // Get DataGrid component from registry\n  const { DataGrid } = components;\n\n  // State management for adaptive caching\n  const [data, setData] = React.useState(null); // Current page data for display\n  const [allDataCache, setAllDataCache] = React.useState(null); // Full cache mode: all records\n  const [originalDataOrder, setOriginalDataOrder] = React.useState(null); // Full cache mode: preserve original order\n  const [pageCache, setPageCache] = React.useState(new Map()); // Partial cache mode: Map<pageNum, data>\n  const [cacheMode, setCacheMode] = React.useState(''loading''); // ''full'' | ''partial'' | ''loading''\n  const [loading, setLoading] = React.useState(false);\n  const [sortLoading, setSortLoading] = React.useState(false); // Separate loading state for sorts\n  const [error, setError] = React.useState(null);\n  const [currentPage, setCurrentPage] = React.useState(initialPage);\n  const [currentPageSize, setCurrentPageSize] = React.useState(pageSize);\n  const [totalRecords, setTotalRecords] = React.useState(null);\n  const [entityInfo, setEntityInfo] = React.useState(null);\n  const [currentOrderBy, setCurrentOrderBy] = React.useState(orderBy || '''');\n  const [defaultOrderBy, setDefaultOrderBy] = React.useState(orderBy || ''''); // Track initial/default order\n  const [currentSortColumn, setCurrentSortColumn] = React.useState(null); // Track active sort column\n  const [currentSortDirection, setCurrentSortDirection] = React.useState(null); // Track sort direction (''asc'' | ''desc'')\n  const [currentFilter, setCurrentFilter] = React.useState(''''); // DataGrid text filter\n  const [refreshTrigger, setRefreshTrigger] = React.useState(0);\n  const [showFilterWarning, setShowFilterWarning] = React.useState(false);\n\n  // Load entity metadata\n  React.useEffect(() => {\n    if (!entityName || !utilities?.md?.Entities) {\n      setEntityInfo(null);\n      return;\n    }\n\n    const entity = utilities.md.Entities.find(e => e.Name === entityName);\n    if (entity) {\n      setEntityInfo(entity);\n    } else {\n      console.warn(`[EntityDataGrid] Entity ''$' + '{entityName}'' not found in metadata`);\n      setEntityInfo(null);\n    }\n  }, [entityName, utilities]);\n\n  // Auto-detect fields from entity metadata if not provided\n  const autoDetectedFields = React.useMemo(() => {\n    // If user provided fields, validate them\n    if (fields) {\n      if (!entityInfo?.Fields) {\n        // Can''t validate without metadata - return as-is\n        return fields;\n      }\n\n      const validFields = [];\n      const invalidFields = [];\n\n      fields.forEach(fieldDef => {\n        const fieldName = typeof fieldDef === ''string'' ? fieldDef : fieldDef.field;\n        const exists = entityInfo.Fields.some(f => f.Name === fieldName);\n\n        if (exists) {\n          validFields.push(fieldDef);\n        } else {\n          invalidFields.push(fieldName);\n        }\n      });\n\n      // Log warning for invalid fields\n      if (invalidFields.length > 0) {\n        const availableFields = entityInfo.Fields\n          .filter(f => !f.Name.startsWith(''__mj'') || [''__mj_CreatedAt'', ''__mj_UpdatedAt''].includes(f.Name))\n          .map(f => f.Name)\n          .join('', '');\n\n        console.warn(\n          `[EntityDataGrid] The following fields were not found in entity ''$' + '{entityName}'': $' + '{invalidFields.join('', '')}.\\n` +\n          `Available fields: $' + '{availableFields}`\n        );\n      }\n\n      return validFields.length > 0 ? validFields : null;\n    }\n\n    // Auto-detect fields if not provided\n    if (!entityInfo?.Fields) return null;\n\n    const detectedFields = entityInfo.Fields\n      .filter(f => {\n        if (f.Name.startsWith(''__mj'') && ![''__mj_CreatedAt'', ''__mj_UpdatedAt''].includes(f.Name)) {\n          return false;\n        }\n        if (f.Type && [''image'', ''varbinary'', ''binary''].some(t => f.Type.toLowerCase().includes(t))) {\n          return false;\n        }\n        return true;\n      })\n      .slice(0, 15)\n      .map(f => f.Name);\n\n    return detectedFields.length > 0 ? detectedFields : null;\n  }, [entityInfo, fields, entityName]);\n\n  // Extract just the field names from autoDetectedFields for filtering/searching\n  // This handles both string arrays and ColumnDef object arrays\n  const fieldNames = React.useMemo(() => {\n    if (!autoDetectedFields) return [];\n    return autoDetectedFields.map(fieldDef =>\n      typeof fieldDef === ''string'' ? fieldDef : fieldDef.field\n    );\n  }, [autoDetectedFields]);\n\n  // Auto-detect primary keys from entity metadata (always use metadata, no override)\n  const autoDetectedPrimaryKeys = React.useMemo(() => {\n    if (!entityInfo?.Fields) return [''ID'']; // Fallback to ''ID''\n\n    const pkFields = entityInfo.Fields.filter(f => f.IsPrimaryKey).map(f => f.Name);\n    return pkFields.length > 0 ? pkFields : [''ID''];\n  }, [entityInfo]);\n\n  // Transform fields into column definitions with sortable property and sortOrder state\n  // This allows us to control sorting behavior while showing sort UI\n  const columnDefinitions = React.useMemo(() => {\n    // ALWAYS use autoDetectedFields (which has been validated)\n    if (!autoDetectedFields) return null;\n\n    // Handle mixed arrays of strings and ColumnDef objects\n    return autoDetectedFields.map(fieldDef => {\n      // Check if this specific element is a ColumnDef object or string\n      if (typeof fieldDef === ''object'' && fieldDef.field) {\n        // It''s a ColumnDef object - enhance it with sortable and sortOrder\n        const columnSortable = fieldDef.sortable !== undefined ? fieldDef.sortable : enableSorting;\n\n        return {\n          ...fieldDef,\n          sortable: columnSortable,\n          sortOrder: (columnSortable && fieldDef.field === currentSortColumn)\n            ? (currentSortDirection === ''asc'' ? ''ascend'' : ''descend'')\n            : undefined\n        };\n      } else {\n        // It''s a string field name - convert to column object\n        const fieldName = fieldDef; // It''s a string\n        return {\n          field: fieldName,\n          sortable: enableSorting,\n          sortOrder: (enableSorting && fieldName === currentSortColumn)\n            ? (currentSortDirection === ''asc'' ? ''ascend'' : ''descend'')\n            : undefined\n        };\n      }\n    });\n  }, [autoDetectedFields, enableSorting, currentSortColumn, currentSortDirection]);\n\n  // Determine default orderBy if not provided\n  const effectiveOrderBy = React.useMemo(() => {\n    if (currentOrderBy) return currentOrderBy;\n    if (autoDetectedPrimaryKeys && autoDetectedPrimaryKeys.length > 0) {\n      return autoDetectedPrimaryKeys.join('', '');\n    }\n    if (entityInfo?.Fields && entityInfo.Fields.length > 0) {\n      return entityInfo.Fields[0].Name;\n    }\n    return ''ID'';\n  }, [currentOrderBy, autoDetectedPrimaryKeys, entityInfo]);\n\n  // Build searchable dataset from all cached data (full + partial modes)\n  const searchableData = React.useMemo(() => {\n    if (cacheMode === ''full'' && allDataCache) {\n      // Full cache: search all loaded records\n      return allDataCache;\n    } else if (cacheMode === ''partial'' && pageCache.size > 0) {\n      // Partial cache: search all cached pages (user has visited)\n      const cachedPages = Array.from(pageCache.values()).flat();\n\n      // Remove duplicates by primary key\n      const uniqueRecords = new Map();\n      cachedPages.forEach(record => {\n        const key = autoDetectedPrimaryKeys.map(pk => record[pk]).join(''|'');\n        uniqueRecords.set(key, record);\n      });\n\n      return Array.from(uniqueRecords.values());\n    }\n    return [];\n  }, [cacheMode, allDataCache, pageCache, autoDetectedPrimaryKeys]);\n\n  // Clear caches when key parameters change\n  React.useEffect(() => {\n    setAllDataCache(null);\n    setPageCache(new Map());\n    setCacheMode(''loading'');\n    setCurrentPage(1);\n    setShowFilterWarning(false);\n  }, [entityName, extraFilter, refreshTrigger]);\n\n  // Initial data load - determines cache mode\n  React.useEffect(() => {\n    if (!entityName || !utilities?.rv) {\n      setError(''Missing required utilities or entityName'');\n      setData([]);\n      setCacheMode(''partial'');\n      return;\n    }\n\n    const loadInitialData = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        // Set default order if not already set (for three-state sort)\n        if (!defaultOrderBy) {\n          setDefaultOrderBy(effectiveOrderBy);\n        }\n\n        // Load maxCachedRows to determine cache mode\n        const runViewParams = {\n          EntityName: entityName,\n          ExtraFilter: extraFilter || '''',\n          OrderBy: effectiveOrderBy,\n          ResultType: ''simple'', // Use ''simple'' for plain objects, not entity instances\n          MaxRows: maxCachedRows,\n          Skip: 0\n        };\n\n        const result = await utilities.rv.RunView(runViewParams);\n\n        if (result && result.Success) {\n          const loadedData = result.Results || [];\n          // Use TotalRowCount which is the total matching records (not limited by MaxRows)\n          // RowCount is just the number of rows returned in this specific result\n          const totalCount = result.TotalRowCount != null ? result.TotalRowCount : (result.RowCount != null ? result.RowCount : loadedData.length);\n\n          setTotalRecords(totalCount);\n\n          // Determine cache mode based on total records vs maxCachedRows\n          if (totalCount <= maxCachedRows) {\n            // FULL CACHE MODE: We have all the data\n            setCacheMode(''full'');\n            setAllDataCache(loadedData);\n            setOriginalDataOrder(loadedData); // Preserve original order for clear sort\n            setData(loadedData.slice(0, currentPageSize));\n            setPageCache(new Map());\n\n            if (onCacheModeChanged) {\n              onCacheModeChanged({\n                cacheMode: ''full'',\n                totalRecords: totalCount,\n                maxCachedRows: maxCachedRows\n              });\n            }\n          } else {\n            // PARTIAL CACHE MODE: More data exists on server\n            setCacheMode(''partial'');\n            setAllDataCache(null);\n\n            // Cache all loaded pages (not just the first page)\n            // We loaded maxCachedRows records, so cache them all for searching\n            if (enablePageCache) {\n              const newPageCache = new Map();\n              const totalPages = Math.ceil(loadedData.length / currentPageSize);\n\n              for (let pageNum = 1; pageNum <= totalPages; pageNum++) {\n                const startIdx = (pageNum - 1) * currentPageSize;\n                const endIdx = Math.min(startIdx + currentPageSize, loadedData.length);\n                const pageData = loadedData.slice(startIdx, endIdx);\n                newPageCache.set(pageNum, pageData);\n              }\n\n              setPageCache(newPageCache);\n            }\n\n            // Display first page\n            const firstPageData = loadedData.slice(0, currentPageSize);\n            setData(firstPageData);\n\n            if (onCacheModeChanged) {\n              onCacheModeChanged({\n                cacheMode: ''partial'',\n                totalRecords: totalCount,\n                maxCachedRows: maxCachedRows\n              });\n            }\n          }\n\n          if (onDataLoaded) {\n            onDataLoaded({\n              data: loadedData,\n              totalRecords: totalCount,\n              pageNumber: 1,\n              pageSize: currentPageSize,\n              cacheMode: totalCount <= maxCachedRows ? ''full'' : ''partial''\n            });\n          }\n        } else {\n          const errorMsg = result?.ErrorMessage || ''Failed to load data'';\n          setError(errorMsg);\n          setData([]);\n          setCacheMode(''partial'');\n\n          if (onLoadError) {\n            onLoadError({\n              error: errorMsg,\n              extraFilter: extraFilter,\n              entityName: entityName\n            });\n          }\n        }\n      } catch (err) {\n        const errorMsg = err.message || ''Network error occurred'';\n        setError(errorMsg);\n        setData([]);\n        setCacheMode(''partial'');\n\n        if (onLoadError) {\n          onLoadError({\n            error: errorMsg,\n            extraFilter: extraFilter,\n            entityName: entityName\n          });\n        }\n      } finally {\n        setLoading(false);\n        setSortLoading(false); // Clear sort loading state\n      }\n    };\n\n    loadInitialData();\n  }, [entityName, extraFilter, effectiveOrderBy, refreshTrigger, maxCachedRows, utilities]);\n\n  // Handle pagination in different cache modes\n  React.useEffect(() => {\n    // Skip if initial load hasn''t completed\n    if (cacheMode === ''loading'') return;\n\n    const loadPageData = async () => {\n      if (cacheMode === ''full'') {\n        // FULL CACHE MODE: Slice from allDataCache\n        if (!allDataCache || allDataCache.length === 0) return; // Guard: wait for cache to be populated\n\n        const startIdx = (currentPage - 1) * currentPageSize;\n        const endIdx = startIdx + currentPageSize;\n        const pageData = allDataCache.slice(startIdx, endIdx);\n        setData(pageData);\n\n        if (onPageChanged) {\n          onPageChanged({\n            pageNumber: currentPage,\n            pageSize: currentPageSize,\n            totalRecords: totalRecords,\n            totalPages: Math.ceil((totalRecords || 0) / currentPageSize),\n            visibleRows: pageData,\n            cacheMode: ''full'',\n            cacheHit: true\n          });\n        }\n      } else {\n        // PARTIAL CACHE MODE: Check cache or fetch from server\n        const cacheHit = enablePageCache && pageCache.has(currentPage);\n\n        if (cacheHit) {\n          // Use cached page\n          const cachedPage = pageCache.get(currentPage);\n          setData(cachedPage);\n\n          if (onPageChanged) {\n            onPageChanged({\n              pageNumber: currentPage,\n              pageSize: currentPageSize,\n              totalRecords: totalRecords,\n              totalPages: totalRecords ? Math.ceil(totalRecords / currentPageSize) : null,\n              visibleRows: cachedPage,\n              cacheMode: ''partial'',\n              cacheHit: true\n            });\n          }\n        } else {\n          // Fetch page from server\n          setLoading(true);\n\n          try {\n            const skipRecords = (currentPage - 1) * currentPageSize;\n            const result = await utilities.rv.RunView({\n              EntityName: entityName,\n              ExtraFilter: extraFilter || '''',\n              OrderBy: effectiveOrderBy,\n              ResultType: ''simple'', // Use ''simple'' for plain objects, not entity instances\n              MaxRows: currentPageSize,\n              Skip: skipRecords\n            });\n\n            if (result && result.Success) {\n              const pageData = result.Results || [];\n              setData(pageData);\n\n              // Cache this page (with LRU eviction if needed)\n              if (enablePageCache) {\n                const newCache = new Map(pageCache);\n                newCache.set(currentPage, pageData);\n\n                // LRU eviction: Keep only last 10 pages\n                if (newCache.size > 10) {\n                  const firstKey = newCache.keys().next().value;\n                  newCache.delete(firstKey);\n                }\n\n                setPageCache(newCache);\n              }\n\n              if (onPageChanged) {\n                onPageChanged({\n                  pageNumber: currentPage,\n                  pageSize: currentPageSize,\n                  totalRecords: totalRecords,\n                  totalPages: totalRecords ? Math.ceil(totalRecords / currentPageSize) : null,\n                  visibleRows: pageData,\n                  cacheMode: ''partial'',\n                  cacheHit: false\n                });\n              }\n            }\n          } catch (err) {\n            console.error(''[EntityDataGrid] Error loading page:'', err);\n          } finally {\n            setLoading(false);\n          }\n        }\n      }\n    };\n\n    loadPageData();\n  }, [currentPage, cacheMode]); // Intentionally minimal deps - page changes only\n\n  // Handle page change\n  const handlePageChange = (newPage) => {\n    if (newPage < 1) return;\n    const maxPage = totalRecords ? Math.ceil(totalRecords / currentPageSize) : Infinity;\n    if (newPage > maxPage) return;\n\n    setCurrentPage(newPage);\n  };\n\n  // Handle page size change\n  const handlePageSizeChange = (newSize) => {\n    setCurrentPageSize(newSize);\n    setCurrentPage(1);\n\n    // In full cache mode, just re-slice the data\n    if (cacheMode === ''full'' && allDataCache) {\n      setData(allDataCache.slice(0, newSize));\n    }\n    // In partial cache mode, clear page cache and reload\n    else if (cacheMode === ''partial'') {\n      setPageCache(new Map());\n      setRefreshTrigger(prev => prev + 1);\n    }\n  };\n\n  // Handle sorting (three-state: asc -> desc -> clear)\n  const handleSort = (sortInfo) => {\n    if (!sortInfo || !sortInfo.sortState) return;\n\n    const { column, direction } = sortInfo.sortState;\n\n    // Three-state sorting logic\n    if (direction === null) {\n      // Third click: Clear sort and return to default order\n      setCurrentSortColumn(null);\n      setCurrentSortDirection(null);\n      setCurrentOrderBy(defaultOrderBy);\n\n      if (cacheMode === ''full'' && originalDataOrder) {\n        // Full cache: Restore original order without server reload\n        setAllDataCache(originalDataOrder);\n        setData(originalDataOrder.slice(0, currentPageSize));\n        setCurrentPage(1);\n      } else {\n        // Partial mode: reload with default order from server\n        setPageCache(new Map());\n        setCurrentPage(1);\n        setRefreshTrigger(prev => prev + 1);\n      }\n    } else {\n      // First or second click: Apply sort\n      const newOrderBy = `$' + '{column} $' + '{direction === ''asc'' ? ''ASC'' : ''DESC''}`;\n\n      // Update sort state for UI tracking\n      setCurrentSortColumn(column);\n      setCurrentSortDirection(direction);\n\n      if (cacheMode === ''full'' && allDataCache) {\n        // CLIENT-SIDE SORT: Sort allDataCache and update display\n        const sorted = [...allDataCache].sort((a, b) => {\n          const valA = a[column];\n          const valB = b[column];\n\n          if (valA == null) return 1;\n          if (valB == null) return -1;\n\n          if (typeof valA === ''string'') {\n            const cmp = valA.localeCompare(valB);\n            return direction === ''asc'' ? cmp : -cmp;\n          }\n\n          return direction === ''asc'' ? valA - valB : valB - valA;\n        });\n\n        setAllDataCache(sorted);\n        const startIdx = (currentPage - 1) * currentPageSize;\n        setData(sorted.slice(startIdx, startIdx + currentPageSize));\n      } else {\n        // PARTIAL CACHE MODE: Server-side sort\n        // Show loading overlay while keeping data visible for better UX\n        setSortLoading(true);\n        setCurrentOrderBy(newOrderBy);\n        setPageCache(new Map());\n        setCurrentPage(1);\n        setRefreshTrigger(prev => prev + 1);\n      }\n    }\n\n    if (onSortChanged) {\n      onSortChanged(sortInfo);\n    }\n  };\n\n  // Handle DataGrid text filter\n  const handleFilter = (filterInfo) => {\n    const filterValue = filterInfo?.filterValue || '''';\n    setCurrentFilter(filterValue);\n\n    if (filterValue && searchableData.length > 0) {\n      // FILTER ACROSS ALL CACHED DATA (both full and partial modes)\n      const filtered = searchableData.filter(row => {\n        return fieldNames.some(fieldName => {\n          const value = row[fieldName];\n          return value != null && String(value).toLowerCase().includes(filterValue.toLowerCase());\n        });\n      });\n\n      setData(filtered.slice(0, currentPageSize));\n      setCurrentPage(1); // Reset to first page of filtered results\n\n      // Show warning in partial cache mode if not all records are cached\n      if (cacheMode === ''partial'' && totalRecords > searchableData.length) {\n        setShowFilterWarning(true);\n      } else {\n        setShowFilterWarning(false);\n      }\n    } else {\n      // No filter: restore original view for current page\n      if (cacheMode === ''full'' && allDataCache) {\n        const startIdx = (currentPage - 1) * currentPageSize;\n        const endIdx = startIdx + currentPageSize;\n        setData(allDataCache.slice(startIdx, endIdx));\n      } else if (cacheMode === ''partial'' && pageCache.has(currentPage)) {\n        setData(pageCache.get(currentPage));\n      }\n      setShowFilterWarning(false);\n    }\n\n    if (onFilterChanged) {\n      onFilterChanged(filterInfo);\n    }\n  };\n\n  // Handle refresh\n  const handleRefresh = () => {\n    setAllDataCache(null);\n    setPageCache(new Map());\n    setCurrentPage(1);\n    setShowFilterWarning(false);\n    setRefreshTrigger(prev => prev + 1);\n  };\n\n  // Calculate pagination info\n  const paginationInfo = React.useMemo(() => {\n    const totalPages = totalRecords != null && currentPageSize > 0\n      ? Math.ceil(totalRecords / currentPageSize)\n      : null;\n\n    const hasPrevious = currentPage > 1;\n    const hasNext = cacheMode === ''full''\n      ? (allDataCache && ((currentPage * currentPageSize) < allDataCache.length))\n      : (totalPages != null ? currentPage < totalPages : (data && data.length === currentPageSize));\n\n    const startRecord = totalRecords != null && totalRecords > 0\n      ? ((currentPage - 1) * currentPageSize) + 1\n      : 0;\n\n    const endRecord = cacheMode === ''full''\n      ? Math.min(currentPage * currentPageSize, allDataCache?.length || 0)\n      : (totalRecords != null\n          ? Math.min(currentPage * currentPageSize, totalRecords)\n          : (data ? ((currentPage - 1) * currentPageSize + data.length) : 0));\n\n    return {\n      totalPages,\n      hasPrevious,\n      hasNext,\n      startRecord,\n      endRecord\n    };\n  }, [currentPage, currentPageSize, totalRecords, data, cacheMode, allDataCache]);\n\n  // Render error state\n  if (error) {\n    return (\n      <div style={{\n        padding: ''24px'',\n        border: ''1px solid #ff4d4f'',\n        borderRadius: ''4px'',\n        backgroundColor: ''#fff2f0'',\n        textAlign: ''center''\n      }}>\n        <div style={{\n          fontSize: ''48px'',\n          color: ''#ff4d4f'',\n          marginBottom: ''16px''\n        }}>\n          ⚠️\n        </div>\n        <div style={{\n          fontSize: ''16px'',\n          fontWeight: 600,\n          color: ''#cf1322'',\n          marginBottom: ''8px''\n        }}>\n          Unable to Load Data\n        </div>\n        <div style={{\n          fontSize: ''14px'',\n          color: ''#595959'',\n          marginBottom: ''4px''\n        }}>\n          {error}\n        </div>\n        {extraFilter && (\n          <div style={{\n            fontSize: ''12px'',\n            color: ''#8c8c8c'',\n            marginTop: ''8px'',\n            fontFamily: ''monospace'',\n            backgroundColor: ''#fafafa'',\n            padding: ''8px'',\n            borderRadius: ''4px'',\n            display: ''inline-block''\n          }}>\n            Filter: {extraFilter}\n          </div>\n        )}\n        <div style={{ marginTop: ''16px'' }}>\n          <button\n            onClick={handleRefresh}\n            style={{\n              padding: ''8px 16px'',\n              backgroundColor: ''#1890ff'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              fontSize: ''14px'',\n              fontWeight: 500\n            }}\n          >\n            🔄 Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Render initial loading state\n  if (cacheMode === ''loading'' || (loading && data === null)) {\n    return (\n      <div style={{\n        padding: ''60px 24px'',\n        textAlign: ''center'',\n        color: ''#595959''\n      }}>\n        <div style={{\n          fontSize: ''48px'',\n          marginBottom: ''16px'',\n          animation: ''spin 1s linear infinite''\n        }}>\n          ⏳\n        </div>\n        <div style={{ fontSize: ''16px'' }}>\n          Loading {entityName || ''records''}...\n        </div>\n        <style>{`\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  // Check for DataGrid component\n  if (!DataGrid) {\n    return (\n      <div style={{\n        padding: ''24px'',\n        border: ''1px solid #ff4d4f'',\n        borderRadius: ''4px'',\n        backgroundColor: ''#fff2f0'',\n        color: ''#cf1322'',\n        textAlign: ''center''\n      }}>\n        Error: DataGrid component not found. Please ensure DataGrid is properly registered.\n      </div>\n    );\n  }\n\n  // Render success state with DataGrid\n  return (\n    <div style={{ width: ''100%'', position: ''relative'' }}>\n      {/* Cache Mode Indicator */}\n      {showCacheModeIndicator && (\n        <div style={{\n          marginBottom: ''12px'',\n          padding: ''8px 12px'',\n          backgroundColor: cacheMode === ''full'' ? ''#f6ffed'' : ''#fff7e6'',\n          border: `1px solid $' + '{cacheMode === ''full'' ? ''#b7eb8f'' : ''#ffd591''}`,\n          borderRadius: ''4px'',\n          fontSize: ''13px'',\n          color: cacheMode === ''full'' ? ''#389e0d'' : ''#d48806'',\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''center''\n        }}>\n          <span>\n            {cacheMode === ''full''\n              ? `✓ All $' + '{totalRecords?.toLocaleString() || 0} records loaded (instant sort/filter)`\n              : `Showing first $' + '{maxCachedRows.toLocaleString()} of $' + '{totalRecords?.toLocaleString() || ''?''} records`}\n          </span>\n          {showRefreshButton && (\n            <button\n              onClick={handleRefresh}\n              disabled={loading}\n              style={{\n                padding: ''4px 8px'',\n                backgroundColor: ''transparent'',\n                border: ''1px solid currentColor'',\n                borderRadius: ''3px'',\n                cursor: loading ? ''not-allowed'' : ''pointer'',\n                fontSize: ''12px'',\n                color: ''inherit''\n              }}\n            >\n              🔄 Refresh\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* Partial Results Warning */}\n      {cacheMode === ''partial'' && warnOnPartialResults && (\n        <div style={{\n          marginBottom: ''12px'',\n          padding: ''12px 16px'',\n          backgroundColor: ''#fffbe6'',\n          border: ''1px solid #ffe58f'',\n          borderRadius: ''4px'',\n          fontSize: ''14px''\n        }}>\n          <div style={{ fontWeight: 600, color: ''#d46b08'', marginBottom: ''4px'' }}>\n            ⚠️ Viewing Partial Results\n          </div>\n          <div style={{ color: ''#8c6c00'' }}>\n            Loading {totalRecords?.toLocaleString()} records in paginated mode. Sorting and text search operate on current page only. For full-dataset operations, use ''extraFilter'' to reduce total records or increase ''maxCachedRows''.\n          </div>\n        </div>\n      )}\n\n      {/* Text Filter Warning in Partial Mode */}\n      {showFilterWarning && cacheMode === ''partial'' && (\n        <div style={{\n          marginBottom: ''12px'',\n          padding: ''12px 16px'',\n          backgroundColor: ''#e6f7ff'',\n          border: ''1px solid #91d5ff'',\n          borderRadius: ''4px'',\n          fontSize: ''14px'',\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''center''\n        }}>\n          <div>\n            <div style={{ fontWeight: 600, color: ''#0050b3'', marginBottom: ''4px'' }}>\n              🔍 Searching {searchableData.length.toLocaleString()} of {totalRecords?.toLocaleString()} records\n            </div>\n            <div style={{ color: ''#096dd9'' }}>\n              Text search filters cached data only. Some matches may not be visible.\n              Component designers can increase ''maxCachedRows'' or use ''extraFilter'' for complete database-level search.\n            </div>\n          </div>\n          <button\n            onClick={() => setShowFilterWarning(false)}\n            style={{\n              padding: ''4px 8px'',\n              backgroundColor: ''transparent'',\n              border: ''none'',\n              cursor: ''pointer'',\n              fontSize: ''16px'',\n              color: ''#096dd9''\n            }}\n          >\n            ✕\n          </button>\n        </div>\n      )}\n\n      {/* DataGrid with loaded data - wrapped in relative container for loading overlay */}\n      <div style={{ position: ''relative'' }}>\n        <DataGrid\n          data={data}\n          entityName={entityName}\n          entityPrimaryKeys={autoDetectedPrimaryKeys}\n          columns={columnDefinitions}\n          sorting={false} // Disable DataGrid''s internal sorting - we handle it via onSortChanged\n          paging={false} // We handle pagination ourselves\n          filtering={enableFiltering}\n          selectionMode={selectionMode}\n          autoFitColumns={autoFitColumns}\n          onRowClick={onRowClick}\n          onSelectionChanged={onSelectionChanged}\n          onSortChanged={enableSorting ? handleSort : undefined}\n          onFilterChanged={handleFilter}\n          utilities={utilities}\n          styles={styles}\n          components={components}\n          callbacks={callbacks}\n          savedUserSettings={savedUserSettings}\n          onSaveUserSettings={onSaveUserSettings}\n        />\n\n        {/* Subtle loading overlay during sorts - keeps data visible */}\n        {sortLoading && (\n          <div style={{\n            position: ''absolute'',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: ''rgba(255, 255, 255, 0.7)'',\n            display: ''flex'',\n            justifyContent: ''center'',\n            alignItems: ''center'',\n            zIndex: 10\n          }}>\n            <div style={{\n              padding: ''16px 24px'',\n              backgroundColor: ''#fff'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              boxShadow: ''0 2px 8px rgba(0,0,0,0.15)'',\n              display: ''flex'',\n              alignItems: ''center'',\n              gap: ''12px''\n            }}>\n              <div style={{\n                width: ''20px'',\n                height: ''20px'',\n                border: ''3px solid #f0f0f0'',\n                borderTop: ''3px solid #1890ff'',\n                borderRadius: ''50%'',\n                animation: ''spin 1s linear infinite''\n              }} />\n              <span style={{ fontSize: ''14px'', color: ''#595959'' }}>Sorting...</span>\n            </div>\n          </div>\n        )}\n\n        {/* Add keyframe animation for spinner */}\n        <style>{`\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `}</style>\n      </div>\n\n      {/* Custom pagination controls */}\n      <div style={{\n        marginTop: ''16px'',\n        display: ''flex'',\n        justifyContent: ''space-between'',\n        alignItems: ''center'',\n        padding: ''12px 0'',\n        borderTop: ''1px solid #f0f0f0''\n      }}>\n        {/* Pagination info */}\n        <div style={{ fontSize: ''14px'', color: ''#595959'' }}>\n          {totalRecords != null ? (\n            <span>\n              {paginationInfo.startRecord}-{paginationInfo.endRecord} of {totalRecords.toLocaleString()} {entityName || ''records''}\n            </span>\n          ) : (\n            <span>\n              Showing {data?.length || 0} {entityName || ''records''}\n            </span>\n          )}\n        </div>\n\n        {/* Pagination controls */}\n        <div style={{ display: ''flex'', alignItems: ''center'', gap: ''12px'' }}>\n          {/* Page size selector */}\n          {showPageSizeChanger && (\n            <div style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'' }}>\n              <span style={{ fontSize: ''14px'', color: ''#595959'' }}>Show:</span>\n              <select\n                value={currentPageSize}\n                onChange={(e) => handlePageSizeChange(Number(e.target.value))}\n                style={{\n                  padding: ''4px 8px'',\n                  border: ''1px solid #d9d9d9'',\n                  borderRadius: ''4px'',\n                  fontSize: ''14px'',\n                  cursor: ''pointer''\n                }}\n              >\n                <option value={10}>10</option>\n                <option value={20}>20</option>\n                <option value={50}>50</option>\n                <option value={100}>100</option>\n                <option value={200}>200</option>\n              </select>\n            </div>\n          )}\n\n          {/* Previous button */}\n          <button\n            onClick={() => handlePageChange(currentPage - 1)}\n            disabled={!paginationInfo.hasPrevious || loading}\n            style={{\n              padding: ''6px 12px'',\n              backgroundColor: paginationInfo.hasPrevious && !loading ? ''#fff'' : ''#f5f5f5'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              cursor: paginationInfo.hasPrevious && !loading ? ''pointer'' : ''not-allowed'',\n              fontSize: ''14px'',\n              color: paginationInfo.hasPrevious && !loading ? ''#262626'' : ''#bfbfbf''\n            }}\n          >\n            ← Previous\n          </button>\n\n          {/* Page indicator */}\n          <span style={{ fontSize: ''14px'', color: ''#262626'', fontWeight: 500 }}>\n            Page {currentPage}\n            {paginationInfo.totalPages != null && (\n              <span style={{ color: ''#8c8c8c'' }}> of {paginationInfo.totalPages}</span>\n            )}\n          </span>\n\n          {/* Next button */}\n          <button\n            onClick={() => handlePageChange(currentPage + 1)}\n            disabled={!paginationInfo.hasNext || loading}\n            style={{\n              padding: ''6px 12px'',\n              backgroundColor: paginationInfo.hasNext && !loading ? ''#fff'' : ''#f5f5f5'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              cursor: paginationInfo.hasNext && !loading ? ''pointer'' : ''not-allowed'',\n              fontSize: ''14px'',\n              color: paginationInfo.hasNext && !loading ? ''#262626'' : ''#bfbfbf''\n            }}\n          >\n            Next →\n          </button>\n        </div>\n      </div>\n\n      {/* Loading overlay for page changes in partial mode */}\n      {loading && data !== null && cacheMode === ''partial'' && (\n        <div style={{\n          position: ''absolute'',\n          top: showCacheModeIndicator ? ''60px'' : ''0'',\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: ''rgba(255, 255, 255, 0.85)'',\n          display: ''flex'',\n          alignItems: ''center'',\n          justifyContent: ''center'',\n          zIndex: 10,\n          borderRadius: ''4px''\n        }}>\n          <div style={{\n            padding: ''16px 32px'',\n            backgroundColor: ''#fff'',\n            border: ''1px solid #d9d9d9'',\n            borderRadius: ''4px'',\n            boxShadow: ''0 2px 8px rgba(0,0,0,0.1)'',\n            fontSize: ''14px'',\n            color: ''#595959''\n          }}>\n            ⏳ Loading page {currentPage}...\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage - auto-detects fields, enters full cache mode for small datasets\n<EntityDataGrid\n  entityName=\"Invoices\"\n  extraFilter=\"Status=''Unpaid''\"\n  pageSize={50}\n/>\n// If < 1000 unpaid invoices: Full cache mode, instant sort/filter\n// If > 1000 unpaid invoices: Partial cache mode, shows warning banner\n\n// ADVANCED COLUMN STYLING EXAMPLES:\n\n// Example 1: Custom Renderers with Formatting\n<EntityDataGrid\n  entityName=\"Products\"\n  fields={[\n    ''Name'',\n    ''SKU'',\n    {\n      field: ''Price'',\n      header: ''Unit Price'',\n      width: ''120px'',\n      render: (value, record) => {\n        const formatted = `$$' + '{value.toFixed(2)}`;\n        return record.OnSale ? \n          <span style={{color: ''#cf1322'', fontWeight: ''bold''}}>{formatted} SALE!</span> :\n          formatted;\n      }\n    },\n    {\n      field: ''Stock'',\n      header: ''In Stock'',\n      width: ''100px'',\n      render: (value) => {\n        const color = value > 10 ? ''#389e0d'' : value > 0 ? ''#d48806'' : ''#cf1322'';\n        return <span style={{color, fontWeight: 600}}>{value}</span>;\n      }\n    },\n    ''Status''\n  ]}\n/>\n\n// Example 2: Calculated Columns\n<EntityDataGrid\n  entityName=\"Orders\"\n  fields={[\n    ''OrderNumber'',\n    ''SubTotal'',\n    ''Tax'',\n    {\n      field: ''SubTotal'', // Use existing field for data\n      header: ''Total (with Tax)'',\n      width: ''140px'',\n      render: (value, record) => {\n        const total = value + (record.Tax || 0);\n        return `$$' + '{total.toFixed(2)}`;\n      }\n    },\n    ''Status''\n  ]}\n/>\n\n// Example 3: Conditional Styling & Icons\n<EntityDataGrid\n  entityName=\"Tasks\"\n  fields={[\n    {\n      field: ''Priority'',\n      width: ''100px'',\n      render: (value) => {\n        const styles = {\n          High: { color: ''#cf1322'', icon: ''🔴'' },\n          Medium: { color: ''#d48806'', icon: ''🟡'' },\n          Low: { color: ''#389e0d'', icon: ''🟢'' }\n        };\n        const style = styles[value] || {};\n        return <span style={{color: style.color}}>{style.icon} {value}</span>;\n      }\n    },\n    ''Title'',\n    ''AssignedTo'',\n    {\n      field: ''DueDate'',\n      header: ''Due'',\n      width: ''120px'',\n      render: (value) => {\n        const date = new Date(value);\n        const isOverdue = date < new Date();\n        return <span style={{color: isOverdue ? ''#cf1322'' : ''#262626''}}>\n          {date.toLocaleDateString()}\n        </span>;\n      }\n    }\n  ]}\n/>\n\n// Example 4: Links and Actions\n<EntityDataGrid\n  entityName=\"Customers\"\n  fields={[\n    ''Name'',\n    {\n      field: ''Email'',\n      width: ''200px'',\n      render: (value) => <a href={`mailto:$' + '{value}`}>{value}</a>\n    },\n    {\n      field: ''Phone'',\n      width: ''150px'',\n      render: (value) => <a href={`tel:$' + '{value}`}>{value}</a>\n    },\n    ''City'',\n    ''Status''\n  ]}\n/>\n\n// Example 5: Mix Simple and Advanced\n<EntityDataGrid\n  entityName=\"Invoices\"\n  fields={[\n    ''InvoiceNumber'',  // Simple string\n    ''CustomerName'',   // Simple string\n    { field: ''Total'', header: ''Amount'', width: ''120px'' },  // Custom header & width\n    ''Status'',  // Simple string (gets colored tag from value list)\n    {\n      field: ''DueDate'',\n      width: ''140px'',\n      sortable: false,  // Disable sorting for this column only\n      render: (value, record) => {\n        const daysUntil = Math.ceil((new Date(value) - new Date()) / (1000 * 60 * 60 * 24));\n        if (daysUntil < 0) return <span style={{color: ''#cf1322''}}>OVERDUE</span>;\n        if (daysUntil < 7) return <span style={{color: ''#d48806''}}>Due soon ({daysUntil}d)</span>;\n        return new Date(value).toLocaleDateString();\n      }\n    }\n  ]}\n/>\n\n// Drill-down from chart - typically small filtered datasets (full cache mode)\nconst handleMemberClick = (segment) => {\n  setSelectedMemberId(segment.records[0]?.MemberID);\n};\n\n<EntityDataGrid\n  entityName=\"Invoices\"\n  extraFilter={`MemberID=''$' + '{selectedMemberId}''`}\n  fields={[''InvoiceNumber'', ''InvoiceDate'', ''Total'', ''Status'', ''DueDate'']}\n  orderBy=\"InvoiceDate DESC\"\n  pageSize={20}\n  entityPrimaryKeys={[''ID'']}\n  onRowClick={handleInvoiceClick}\n  onCacheModeChanged={(info) => console.log(''Cache mode:'', info.cacheMode)}\n/>\n// Single member''s invoices usually < 1000 → Full cache, instant UX\n\n// Large dataset with higher cache limit\n<EntityDataGrid\n  entityName=\"CRM: Contacts\"\n  extraFilter=\"Status=''Active'' AND LastContactDate >= DATEADD(day, -30, GETDATE())\"\n  fields={[\n    ''FirstName'',\n    ''LastName'',\n    { field: ''Email'', header: ''Email Address'', width: ''250px'' },\n    ''LastContactDate'',\n    ''Status''\n  ]}\n  orderBy=\"LastContactDate DESC\"\n  pageSize={100}\n  maxCachedRows={2000}\n  enablePageCache={true}\n  showCacheModeIndicator={true}\n  warnOnPartialResults={true}\n  enableSorting={true}\n  enableFiltering={true}\n  showRefreshButton={true}\n  onPageChanged={(info) => {\n    console.log(`Page $' + '{info.pageNumber}, Cache hit: $' + '{info.cacheHit}`);\n  }}\n/>\n// If 1500 contacts: Enters full cache mode (< 2000), instant sort/filter\n// If 5000 contacts: Enters partial cache mode, server-side sort, page caching\n\n// Drilldown pattern with SimpleChart + EntityDataGrid\nconst [selectedCategory, setSelectedCategory] = React.useState(null);\n\n<div>\n  <SimpleChart\n    data={aggregatedData}  // Pre-aggregated from RunQuery\n    groupBy=\"Category\"\n    valueField=\"TotalRevenue\"\n    chartType=\"bar\"\n    title=\"Revenue by Category\"\n    onDataPointClick={(segment) => setSelectedCategory(segment.label)}\n  />\n  \n  {selectedCategory && (\n    <div style={{ marginTop: 20 }}>\n      <h3>Products in {selectedCategory}</h3>\n      <EntityDataGrid\n        entityName=\"Products\"\n        extraFilter={`Category=''$' + '{selectedCategory}''`}\n        fields={[''ProductName'', ''UnitPrice'', ''StockQuantity'', ''Status'']}\n        orderBy=\"ProductName ASC\"\n        pageSize={50}\n        maxCachedRows={500}\n      />\n      {/* Category drill-down usually has < 500 products → Full cache mode */}\n    </div>\n  )}\n</div>\n\n// CACHE MODE BEHAVIOR EXAMPLES:\n\n// Scenario 1: Small filtered dataset (100 invoices for one account)\n// - Initial load: Fetches all 100 rows\n// - Cache mode: ''full''\n// - User sorts by Total: Instant client-side sort\n// - User pages: Instant array slicing\n// - User filters text: Instant client-side filter\n// - Result: Perfect instant UX\n\n// Scenario 2: Large dataset (50,000 total contacts)\n// - Initial load: Fetches first 1000 rows\n// - Cache mode: ''partial''\n// - Shows banner: ''Showing first 1,000 of 50,000 records. Refine your filter for better results.''\n// - User sorts by LastName: Triggers new RunView with OrderBy, clears cache\n// - User pages to page 2: Fetches page 2 (rows 21-40), caches it\n// - User pages back to page 1: Instant (cache hit)\n// - User text filters: Filters visible 20 rows, shows warning about using extraFilter\n// - Result: Transparent UX with guidance"}'
SET
  @FunctionalRequirements_3d8972b8 = N'## Purpose
Entity-aware data grid that automatically loads MemberJunction entity records via RunView with intelligent adaptive caching. Wraps DataGrid component with automatic data management.

## Data Source
- **Required**: `entityName` prop (MemberJunction entity name)
- **Automatic**: Calls `utilities.rv.RunView` internally
- **Optional**: `extraFilter` (SQL WHERE clause), `orderBy` (SQL ORDER BY clause), `fields` (array of field names)

## Adaptive Caching Strategy

### Mode Selection Logic
On initial load, fetches `maxCachedRows` records (default 1000) and checks `result.RowCount`:

**FULL CACHE MODE** (`totalRecords ≤ maxCachedRows`):
- Loads ALL entity records into memory upfront
- All sorting, filtering, pagination happens client-side (instant, no server calls)
- Perfect for drill-down scenarios where filtered datasets are typically small
- Shows indicator: "All X records loaded"

**PARTIAL CACHE MODE** (`totalRecords > maxCachedRows`):
- Loads first `maxCachedRows` records initially
- Server-side sorting (new RunView with OrderBy, clears cache)
- Server-side pagination (RunView with Skip/MaxRows parameters)
- Caches visited pages (Map<pageNumber, pageData>) for instant back/forward
- Shows warning: "Showing first 1,000 of 15,000 records - refine extraFilter for better performance"

### Cache Invalidation
Clears all caches when:
- `entityName` prop changes
- `extraFilter` prop changes
- `orderBy` prop changes (in partial mode only)
- `refreshTrigger` increments (manual refresh)

Resets to page 1 and re-enters loading state.

## Sorting Behavior

### Full Cache Mode
- Client-side array.sort() on cached records
- Instant sorting (no server calls)
- Uses JavaScript string localeCompare or numeric comparison

### Partial Cache Mode
- Server-side: Triggers new RunView with OrderBy parameter
- Clears all caches and reloads from page 1
- Loading indicator shows during fetch

**Control**: DataGrid''s `enableSorting` prop controls column sort UI. Component''s `orderBy` prop sets initial/default sort.

## Filtering Behavior

### extraFilter Prop (Database-level)
- Always server-side (RunView ExtraFilter parameter)
- Affects both full and partial cache modes
- Use for: WHERE clauses, date ranges, status filters, user scoping
- Changing `extraFilter` clears cache and reloads

### DataGrid Text Filter (UI Search)
**Full cache mode**:
- Client-side filtering of cached records (instant)
- Searches across specified fields or all display fields

**Partial cache mode**:
- Filters current page data only (doesn''t refetch)
- Shows warning banner: "Text filtering searches loaded records only. Use extraFilter prop for database-level filtering."

## Pagination Strategy

### Full Cache Mode
- Pure client-side array slicing
- No server calls on page change
- Instant page navigation

### Partial Cache Mode
- Checks page cache: `pageCache.has(pageNum)`
- **Cache hit**: Uses cached data (instant)
- **Cache miss**: Fetches via RunView with Skip/MaxRows (loading indicator)
- Stores result in pageCache
- Smart eviction: Keeps last 10 pages (LRU strategy)

Page size changes always reset to page 1.

## Field Selection

### Auto-detection (if `fields` prop omitted)
- Loads entity from `utilities.md.Entities`
- Gets first 15 non-system fields (filters out `__mj*` fields)
- Uses DisplayName from metadata for column headers

### Explicit fields
- Pass array of field names: `[''Name'', ''Email'', ''Status'']`
- Component validates fields exist in entity metadata
- Warning logged for unknown fields

## Primary Key Detection
Auto-detects primary keys from entity metadata for OpenEntityRecord integration:
- Handles single keys: `''ID''`
- Handles composite keys: `[''OrderID'', ''LineNumber'']`
- Passes to DataGrid as `entityPrimaryKeys` prop for row click behavior

## Integration with DataGrid
EntityDataGrid passes managed data to DataGrid with these overrides:

- `data`: Current page records (loaded/cached)
- `entityName`: Passed through
- `entityPrimaryKeys`: Auto-detected from metadata
- `columns`: Maps `fields` prop to DataGrid columns (auto-detected if omitted)
- `sorting={false}`: Component handles sorting logic (client vs server)
- `paging={false}`: Component handles pagination logic (client vs server)
- `filtering={enableFiltering}`: Passed through (component handles filter behavior)
- All other props: selection, autoFitColumns, onRowClick, events passed through

## User Experience Indicators

### Loading States
- Initial load: Full-page spinner
- Pagination in partial mode: Subtle overlay
- Sorting in partial mode: Loading indicator

### Cache Mode Indicators
- Full mode: Badge showing "All X records loaded"
- Partial mode: Warning banner "Showing first X of Y records"

### Warnings
- Partial mode text filter: "Searches loaded records only - use extraFilter for database filtering"
- Large dataset: Suggests refining extraFilter for better performance

### Refresh Button
- Visible in all modes
- Clears all caches and reloads from page 1
- Useful after external data changes

## Error Handling
- Network errors: "Unable to load data. [Retry]" button
- Invalid filters: Shows error with filter details
- Permission errors: "You do not have access to this entity"
- Empty results: "No {entityName} found" or "No {entityName} match your filters"
- RunView.Success=false: Shows ErrorMessage with retry option

## Events
All DataGrid events bubble up:
- `onPageChanged`: Fires after page change completes (includes current page data)
- `onSortChanged`: Fires after sort completes
- `onFilterChanged`: Fires after filter applied
- `onRowClick`: Fires on row click
- `onSelectionChanged`: Fires on selection change

Additional EntityDataGrid events:
- `onDataLoaded`: Fires after successful RunView (includes rowCount, cacheMode)
- `onLoadError`: Fires on RunView errors
- `onCacheModeChanged`: Fires when switching full↔partial (optional)
'
SET
  @TechnicalDesign_3d8972b8 = N'## Architecture
React functional component that wraps DataGrid with automatic RunView data loading and adaptive caching logic.

## State Management
- **data** (Array | null): Current page records for display
- **allDataCache** (Array | null): All records in full cache mode
- **pageCache** (Map<number, Array>): Cached pages in partial cache mode
- **cacheMode** (''full'' | ''partial'' | ''loading''): Current cache strategy
- **loading** (boolean): Data fetch in progress
- **error** (string | null): Error message if load failed
- **currentPage** (number, 1-based): Current pagination page
- **currentPageSize** (number): Records per page
- **totalRecords** (number | null): Total record count from RowCount
- **entityInfo** (object): Entity metadata from `utilities.md`
- **currentOrderBy** (string): Active sort order
- **refreshTrigger** (number): Increment to force reload

## Initial Load Logic (useEffect)

### Triggers
Runs on: `entityName`, `extraFilter`, `refreshTrigger` changes

### Process
1. Call `RunView` with:
   - EntityName: `entityName`
   - ExtraFilter: `extraFilter` prop
   - OrderBy: `orderBy` prop or primary key
   - MaxRows: `maxCachedRows` (default 1000)
   - Skip: 0
   - ResultType: ''entity_object''

2. **On success**:
   - Check `result.RowCount` vs `maxCachedRows`
   - **If RowCount ≤ maxCachedRows OR RowCount is null**:
     - `setCacheMode(''full'')`
     - `setAllDataCache(result.Results)`
     - `setData(result.Results.slice(0, pageSize))`
   - **If RowCount > maxCachedRows**:
     - `setCacheMode(''partial'')`
     - `setPageCache(Map with page 1 = result.Results)`
     - `setData(first page slice)`
   - Store `totalRecords` from RowCount

3. **On failure**:
   - Set error message
   - Clear all caches

## Cache Modes

### Full Cache Mode
**When**: `totalRecords ≤ maxCachedRows`

**Behavior**:
- All data stored in `allDataCache`
- **Pagination**: Client-side array slicing (instant)
- **Sorting**: `sortClientSide()` - array.sort(), instant
- **Text filtering**: Client-side array.filter(), instant
- No loading states on interactions

**Benefits**:
- Instant UX for all interactions
- Perfect for drill-down scenarios (typically < 1000 records)
- Reduces server load

### Partial Cache Mode
**When**: `totalRecords > maxCachedRows`

**Behavior**:
- **pageCache**: Map<pageNum, data[]>
- **Pagination**: Check cache, fetch if miss
  - Cache hit: Instant
  - Cache miss: RunView with Skip/MaxRows, show loading
- **Sorting**: `sortServerSide()` - clears caches, new RunView with OrderBy
- **Text filtering**: Filters current page only, shows warning banner
- **Smart eviction**: Keep last 10 pages (LRU strategy)

**Warning banner**: "Showing first 1,000 of 15,000 records - refine extraFilter for better performance"

## Cache Invalidation
Clears `allDataCache` and `pageCache` when:
- `entityName` changes
- `extraFilter` changes
- `orderBy` changes (partial mode only)
- `refreshTrigger` increments

Resets to page 1 and `cacheMode=''loading''`.

## Sort Handling

### Full Cache Mode
`sortClientSide()`:
- Sorts `allDataCache` in place
- Updates `data` slice for current page
- Fires `onSortChanged` event
- Instant (no server call)

### Partial Cache Mode
`sortServerSide()`:
- Clears all caches
- Sets `orderBy` state with new sort
- Triggers useEffect reload
- Shows loading indicator
- Fires `onSortChanged` after completion

## Filter Handling

### extraFilter Prop (Database-level)
- Always server-side (RunView ExtraFilter parameter)
- Affects both full and partial modes
- Clears cache and reloads on change

### DataGrid Text Filter (UI Search)
**Full mode**:
- Filters `allDataCache` instantly
- Shows filtered results
- No server call

**Partial mode**:
- Filters current page data only
- Shows warning: "Text filtering searches loaded records only. Use extraFilter for database-level filtering."
- Does not refetch from server

## Page Navigation
`handlePageChange(newPage)`:
1. Validate page bounds
2. **If full cache mode**:
   - Slice `allDataCache` at new offset
   - Instant
3. **If partial cache mode**:
   - Check `pageCache.has(newPage)`
   - **Cache hit**: Use cached data (instant)
   - **Cache miss**: Fetch via RunView (show loading)
     - Parameters: EntityName, ExtraFilter, OrderBy, Skip=(page-1)*pageSize, MaxRows=pageSize
     - Store result in `pageCache`
     - Update `data`
4. Update `currentPage` state

## Entity Metadata Loading (useEffect)
On `entityName` change:
- Loads entity from `utilities.md.Entities`
- Extracts primary key fields for default `orderBy`
- Auto-detects fields if not provided (first 15 non-system fields)
- Stores in `entityInfo` state

## Field Auto-Detection
If `fields` prop omitted:
- Gets entity from metadata
- Filters out `__mj*` system fields
- Excludes ID, nested objects
- Takes first 15 fields
- Uses DisplayName for column headers

## Primary Key Detection
For OpenEntityRecord integration:
- Checks `entity.PrimaryKeys` array
- Fallback to `entity.FirstPrimaryKey`
- Fallback to ''ID''
- Passed to DataGrid as `entityPrimaryKeys` prop

## DataGrid Integration
EntityDataGrid passes to DataGrid:
- **data**: Current page records (managed)
- **entityName**: Pass through
- **entityPrimaryKeys**: Auto-detected
- **columns**: Maps `fields` prop (auto-detected if omitted)
- **sorting={false}**: Component manages sort logic
- **paging={false}**: Component manages pagination
- **filtering={enableFiltering}**: Pass through
- **All other props**: selection, autoFitColumns, onRowClick, events

## Pagination Calculation
- **totalPages**: `totalRecords && pageSize ? Math.ceil(totalRecords / pageSize) : null`
- **hasPrevious**: `currentPage > 1`
- **hasNext**:
  - Full mode: checks `allDataCache.length`
  - Partial mode: checks `currentPage < totalPages`
- **startRecord**, **endRecord**: For display

## Render Output

### Error State
Red error panel with:
- Error message
- Retry button (clears error, increments `refreshTrigger`)

### Loading State
Full-page spinner when `loading && data===null`

### Success State
1. **Warning banner** (if partial mode):
   - Light yellow background
   - Text: "Showing first X of Y records..."
   - Suggestion to refine extraFilter

2. **Cache mode indicator** (badge):
   - Full mode: "All X records loaded" (green)
   - Partial mode: "Showing X of Y" (orange)

3. **DataGrid component**:
   - All DataGrid features available
   - Receives current page data

4. **Custom pagination controls** (below grid):
   - Page buttons
   - Page size selector
   - "X-Y of Z" display

5. **Refresh button**:
   - Icon button (top-right)
   - Increments `refreshTrigger`

6. **Loading overlay** (partial mode page fetch):
   - Subtle spinner overlay
   - Doesn''t block UI

## Event Firing
Bubbles up DataGrid events:
- `onPageChanged`: After page change completes
- `onSortChanged`: After sort completes
- `onFilterChanged`: After filter applied
- `onRowClick`, `onSelectionChanged`: Pass through

Additional events:
- `onDataLoaded`: After successful RunView (includes rowCount, cacheMode)
- `onLoadError`: On RunView errors
- `onCacheModeChanged`: When switching full↔partial (optional)

## Performance Optimizations
- useMemo for tableColumns, paginationInfo, autoDetectedFields
- useCallback for handlers (prevents re-renders)
- Debounce text filter (300ms)
- AbortController to cancel in-flight requests
- LRU cache eviction (keep last 10 pages)
- Smart cache mode selection (full vs partial)
'
SET
  @FunctionalRequirementsVector_3d8972b8 = N'[0.005816514603793621,0.07918945699930191,0.0038883243687450886,-0.036040082573890686,0.020454667508602142,0.0435769185423851,0.007902787066996098,0.03489268943667412,0.03291437029838562,0.006684540770947933,-0.020520055666565895,0.011580020189285278,-0.004193320404738188,0.009443474002182484,0.0053478144109249115,0.03896109014749527,0.0010794191621243954,0.059634484350681305,-0.0037465395871549845,-0.04700721055269241,0.017561716958880424,-0.055712852627038956,0.01625305972993374,-0.048718806356191635,0.0014982828870415688,0.01606805808842182,-0.01041855663061142,0.05370593070983887,0.050207920372486115,-0.06059502065181732,0.013802540488541126,0.030698664486408234,-0.017215194180607796,0.026985928416252136,0.0000024639857656438835,-0.02976968325674534,-0.04248301684856415,0.030858391895890236,-0.04620738700032234,0.03486429527401924,0.035612113773822784,-0.0005582193261943758,-0.0008383637759834528,-0.009197737090289593,-0.010106229223310947,-0.03063228167593479,-0.037597037851810455,0.020704980939626694,0.018066490069031715,-0.0048433998599648476,0.015808798372745514,-0.023193828761577606,-0.033156152814626694,0.00442564208060503,0.04687033221125603,-0.009746427647769451,0.022411704063415527,-0.009808742441236973,0.034553661942481995,-0.0643177255988121,-0.032983072102069855,0.008244196884334087,0.0061789946630597115,-0.03895881399512291,0.018611203879117966,-0.01961291953921318,-0.0020788395777344704,0.02136777713894844,0.01478106714785099,-0.02093462273478508,0.08882569521665573,-0.04677800089120865,0.007562652695924044,-0.04442921280860901,-0.05577007681131363,-0.0005922945565544069,0.010368959046900272,-0.042204733937978745,-0.004033244680613279,0.006088246591389179,-0.04247031360864639,0.034228138625621796,-0.0026386543177068233,-0.006209390237927437,-0.06930026412010193,0.05585630238056183,0.002404867671430111,-0.020640816539525986,-0.035801246762275696,-0.017618684098124504,0.126570925116539,-0.009407158009707928,0.040504053235054016,0.0346863754093647,-0.019193658605217934,-0.010050543583929539,0.040060363709926605,-0.04614369943737984,0.07532710582017899,-0.011468837969005108,0.02886347472667694,-0.00923881959170103,0.059863243252038956,-0.018815532326698303,0.04579290747642517,0.005749253090471029,0.005074975546449423,-0.03894419968128204,-0.010990966111421585,-0.023046130314469337,-0.0002970907371491194,0.00727230915799737,0.010602268390357494,0.031041370704770088,0.029041577130556107,0.03297262266278267,-0.045539502054452896,-0.034213777631521225,0.023820601403713226,0.021236015483736992,0.090817391872406,-0.013122928328812122,0.027358856052160263,0.020277775824069977,0.05422297865152359,-0.02089054137468338,-0.027430973947048187,-0.08009745925664902,-0.03250603750348091,-0.0370187871158123,-0.014624854549765587,-0.07179363816976547,0.02262326516211033,0.012121533043682575,0.010941000655293465,0.01774929277598858,0.04233246296644211,-0.01275078859180212,-0.045268282294273376,-0.009529352188110352,0.01501720305532217,0.025693589821457863,-0.010795320384204388,0.06172693893313408,0.0023275921121239662,-0.011796415783464909,0.0020430402364581823,0.03805624693632126,-0.005726312752813101,0.038569048047065735,-0.012990143150091171,-0.04984842613339424,0.01957586035132408,0.012238538824021816,-0.022085433825850487,0.01609770953655243,0.05499880388379097,-0.007209199480712414,0.038194432854652405,-0.0281752310693264,0.012951239943504333,0.02860361710190773,0.005790234077721834,-0.0022438005544245243,0.03077741712331772,0.08516629785299301,-0.02586783654987812,0.03306450694799423,-0.005247992929071188,-0.03553976118564606,-0.02460261806845665,-0.04055362567305565,-0.005728572607040405,0.015267581678926945,0.008559268899261951,-0.07401628792285919,0.05849180743098259,-0.04489843547344208,-0.057806335389614105,0.019427679479122162,0.018523944541811943,0.002858593361452222,0.017978332936763763,-0.024837875738739967,0.11816900968551636,-0.05913742259144783,0.06300736963748932,0.06276905536651611,0.0038763144984841347,0.022904958575963974,0.015404539182782173,0.00020670334924943745,0.010965223424136639,0.05774626508355141,-0.0263785719871521,0.058274369686841965,0.007424274459481239,-0.09068131446838379,0.04511219263076782,-0.01616506651043892,-0.027314182370901108,-0.005768451374024153,-0.06906401365995407,0.06204598769545555,0.030300239101052284,-0.01890544779598713,-0.08515313267707825,0.06853412091732025,0.01225778367370367,-0.05431190878152847,0.004083793610334396,0.012803558260202408,-0.0531449094414711,-0.011207382194697857,-0.008588135242462158,0.07644190639257431,0.023006480187177658,0.027660058811306953,-0.011516925878822803,-0.007627846207469702,-0.012166956439614296,0.05193566158413887,-0.044350311160087585,0.010823624208569527,0.04478404298424721,0.04863206297159195,0.06370498985052109,-0.030555782839655876,0.022942783311009407,-0.03771834447979927,-0.030066341161727905,-0.02194385416805744,0.02895679883658886,0.0321505144238472,0.013676838018000126,-0.019245695322752,0.005664340686053038,0.06573314964771271,-0.031103400513529778,0.06942395865917206,0.03524274006485939,-0.04916858673095703,-0.03574082627892494,0.004191741347312927,-0.06325680017471313,-0.00307121267542243,-0.07768239825963974,0.011643556877970695,0.000425214966526255,-0.012882878072559834,0.015233193524181843,-0.004751608241349459,0.021727753803133965,0.00944268237799406,0.0018074227264150977,0.024379661306738853,-0.00831147562712431,0.0033689786214381456,-0.008038581348955631,0.056850921362638474,0.02719394862651825,-0.021583514288067818,-0.013251987285912037,-0.013806984759867191,0.011508237570524216,-0.022904710844159126,0.04260299354791641,-0.023546991869807243,0.011783847585320473,0.03770986571907997,-0.014010902494192123,0.0355692096054554,0.005558744538575411,0.0023678133729845285,-0.02933376282453537,0.0008183388272300363,0.035864513367414474,0.07429145276546478,-0.00587061932310462,-0.05326829105615616,-0.0427497960627079,-0.03857038542628288,0.037394534796476364,0.008744360879063606,-0.033746134489774704,-0.004502996802330017,0.032654933631420135,-0.045183684676885605,0.005494942422956228,-0.04814998805522919,-0.051032740622758865,0.011394018307328224,0.016936318948864937,-0.019045144319534302,-0.009466980583965778,0.01268270518630743,-0.08630945533514023,0.04061030223965645,0.022410038858652115,-0.06551987677812576,-0.018791301175951958,-0.029775215312838554,-0.023721737787127495,-0.006873930338770151,0.016137821599841118,0.043948788195848465,0.011728806421160698,0.010558342561125755,0.035610951483249664,0.014544334262609482,0.005705663003027439,0.020777810364961624,0.020544519647955894,0.0016823956975713372,-0.025629499927163124,-0.010597939603030682,0.0637589693069458,-0.008521554060280323,-0.041827596724033356,0.03795363008975983,0.012965905480086803,0.0020663749892264605,0.025792712345719337,0.009347157552838326,-0.03558586910367012,-0.0016480557387694716,-0.006899718660861254,-0.04448334872722626,-0.05920741334557533,0.05303057283163071,0.05049234256148338,-0.09219469875097275,0.010734190233051777,-0.016361810266971588,0.02446310594677925,-0.01893455907702446,-0.04913358762860298,-0.008943418972194195,0.020862514153122902,-0.02672804333269596,0.020421577617526054,-0.03196467086672783,-0.04021191969513893,0.019388942047953606,0.027951113879680634,-0.027483200654387474,0.04418465122580528,-0.036037370562553406,0.0018347015138715506,-0.0332479290664196,0.02119145356118679,0.06751778721809387,-0.03889591991901398,-0.00427936902269721,0.02084883116185665,-0.020447786897420883,-0.05932614207267761,0.01407407596707344,-0.012952147051692009,0.05192933604121208,0.036124251782894135,0.07661880552768707,0.050718288868665695,-0.05443594977259636,0.05180443823337555,0.03570804372429848,0.057821109890937805,-0.020527154207229614,0.0027693347074091434,-0.04605656489729881,-0.018795309588313103,-0.02679351717233658,-0.012745704501867294,0.004640822298824787,0.010746105574071407,-0.060434166342020035,0.007425307761877775,0.0033708394039422274,0.03256862610578537,0.01634599082171917,0.059696733951568604,-0.03533235937356949,0.06726262718439102,0.026896599680185318,0.06299149990081787,-0.042755987495183945,-0.004190427716821432,-0.024420466274023056,-0.04308071359992027,0.030749451369047165,0.0013087264960631728,0.05428722873330116,0.0760287344455719,-0.048362113535404205,-0.027649471536278725,0.04044799134135246,-0.03431036323308945,0.05418859049677849,0.029110630974173546,0.0050977738574147224,-0.023443307727575302,0.1212201863527298,0.026407141238451004,0.040003180503845215,0.0037942000199109316,-0.03546808287501335,0.05075811222195625,0.003291959874331951,0.05004127696156502,0.03438189998269081,0.012540003284811974,-0.04554479569196701,-0.04571780562400818,-0.07092636078596115,-0.0003361644339747727,-0.030760983005166054,0.017599496990442276,-0.05149860680103302,-0.0008832470048218966,0.04212477058172226,0.005864446517080069,-0.007076930720359087,0.011992959305644035,-0.02715909481048584,0.03794115036725998,-0.0014301100745797157,-0.026093481108546257,-0.07194133847951889,-0.024520710110664368,0.02887427806854248,-0.014372562989592552,-0.0007524261600337923,-0.007867862470448017,0.059465233236551285,-0.01595889776945114,-0.05889476090669632,0.047147758305072784,-0.032881252467632294,-0.0013621925609186292,-0.010298408567905426,-0.01129329577088356,-0.020271306857466698,0.02916165441274643,0.025842688977718353,-0.012764764949679375,-0.018954642117023468,-0.04540612921118736,0.017835378646850586,-0.10313227027654648,-0.02174467034637928,-0.008975666016340256,-0.043003685772418976,-0.018657803535461426,0.06232916936278343,0.002130986889824271,-0.042825061827898026,0.0031458011362701654,-0.003560782177373767,-0.049058958888053894,0.05747964605689049,0.00563512509688735,0.01474071480333805,-0.013969647698104382,0.013093284331262112,-0.01387593150138855,-0.07961226999759674,-0.010282399132847786,-0.08331740647554398,-0.006579188629984856,-0.014203771017491817,-0.019743775948882103,-0.00607769750058651,-0.014326383359730244,-0.029308058321475983,0.04425770044326782,0.001682864734902978,-0.015650741755962372,-0.01593625359237194,-0.01884530670940876,0.010280909016728401,0.0592946819961071,-0.0004640961706172675,0.023571841418743134,-0.11737959831953049,0.019916078075766563,0.09028209745883942,-0.03291488066315651,-0.030474044382572174,-0.02931932918727398,0.019088560715317726,-0.02421201579272747,0.0378221794962883,-0.021403318271040916,0.03598252683877945,0.019614987075328827,0.00008345814421772957,-0.005490968469530344,0.007418125867843628,-0.07455804198980331,-0.05827219411730766,-0.024410752579569817,-0.0038065824192017317,-0.01601623371243477,0.03035394847393036,0.04408587887883186,0.01567741297185421,-0.0041063749231398106,-0.002787887118756771,0.01698312535881996,-0.006984997540712357,-0.026081152260303497,-0.016810383647680283,-0.07745211571455002,0.02832557074725628,0.007714573293924332,-0.004179839044809341,-0.06016356125473976,0.033632099628448486,0.05205589160323143,0.001293094246648252,0.011090956628322601,0.03334510698914528,-0.05008305236697197,-0.008794335648417473,0.033760279417037964,-0.046922825276851654,0.014287636615335941,-0.002329963957890868,0.06251338124275208,0.03147397190332413,0.04407823830842972,-0.04047166183590889,0.00025107202236540616,-0.008188465610146523,-0.002666057553142309,0.008900598622858524,-0.014322497881948948,-0.03281066566705704,0.022897452116012573,-0.05268813297152519,-0.05852353945374489,0.01010196190327406,-0.04654913768172264,-0.008273441344499588,-0.018251672387123108,-0.0627356693148613,0.002053807256743312,-0.04349129647016525,0.00849154219031334,0.051838818937540054,-0.002043787855654955,-0.021690668538212776,-0.013895181007683277,-0.030662022531032562,0.00251831510104239,-7.582169988254073e-33,0.006194023881107569,0.0000362566024705302,-0.02004460245370865,-0.055690594017505646,-0.010141351260244846,-0.051508430391550064,0.029016098007559776,-0.04559789225459099,0.0016896460438147187,-0.033779580146074295,-0.04352208971977234,0.022764084860682487,0.01966385915875435,-0.01870908960700035,-0.037913110107183456,-0.007965626195073128,-0.001152010983787477,-0.029410017654299736,-0.004905609413981438,0.037547677755355835,-0.008928867056965828,0.047349296510219574,-0.04251463711261749,0.005027060862630606,-0.04019729420542717,-0.025130288675427437,0.012655030936002731,0.011979958042502403,-0.10013263672590256,-0.0068982988595962524,0.02561933733522892,-0.08556267619132996,-0.008090260438621044,-0.08162984251976013,-0.01682518795132637,-0.061484720557928085,-0.07650937885046005,-0.013852371834218502,-0.03768473118543625,0.03217277303338051,0.08661242574453354,0.03090886026620865,0.01656407117843628,0.010414088144898415,-0.059509944170713425,0.008975825272500515,0.0036240434274077415,0.0010077112819999456,-0.023305993527173996,-0.05096476897597313,0.05279206484556198,0.022797513753175735,0.019013481214642525,0.03657166659832001,0.004806980025023222,0.04222088307142258,0.0360536091029644,0.09124663472175598,-0.10172486305236816,0.005313465371727943,0.0016758872661739588,0.022231925278902054,0.014661500230431557,0.04009229689836502,0.05128242075443268,-0.02202126383781433,0.09781311452388763,0.02614484168589115,-0.03947058320045471,-0.02574961632490158,-0.02110755257308483,-0.06148696318268776,-0.021672341972589493,-0.04422759637236595,0.09736210107803345,0.002119589364156127,-0.014748360961675644,-0.0015480987494811416,-0.06349334865808487,0.0352238230407238,0.0019677586387842894,-0.005662874784320593,0.007900488562881947,-0.0020333391148597,0.009079070761799812,0.015218598768115044,-0.00621931254863739,0.01125288661569357,0.0009220800129696727,0.0029367157258093357,-0.06314175575971603,-0.018956294283270836,-0.05626333877444267,0.01333669200539589,-0.10033819079399109,0.05032628774642944,0.012679743580520153,0.006526640150696039,0.0018870551139116287,0.053928669542074203,0.02159099653363228,0.025424379855394363,-0.03130267933011055,-0.028040582314133644,-0.007168939802795649,-0.01215364784002304,0.04538537561893463,-0.02611902542412281,-0.03168530762195587,0.026030322536826134,0.03407452628016472,0.012214122340083122,-0.009958386421203613,0.013644116930663586,0.011681927368044853,0.04649266600608826,0.0028170524165034294,0.0170882660895586,0.07530175894498825,-0.01294260285794735,0.031721487641334534,-0.02183716744184494,0.01170390471816063,0.02134757861495018,0.038072410970926285,0.010715817101299763,0.005692199803888798,0.006180104799568653,-0.005077747628092766,-0.026119401678442955,-0.011083249934017658,0.06479039043188095,3.2846074304870854e-7,0.021869193762540817,0.0218906719237566,-0.02162063866853714,0.051322415471076965,-0.007961045019328594,-0.014948875643312931,-0.0220943633466959,-0.043536800891160965,-0.0037837717682123184,-0.012049761600792408,0.021722180768847466,0.012048923410475254,0.018369482830166817,0.007120376918464899,-0.00542758172377944,-0.047253865748643875,-0.006729380693286657,-0.022922683507204056,-0.016438152641057968,-0.035286739468574524,-0.026553617790341377,0.01672450266778469,-0.005559801589697599,0.00006728985317749903,0.02308567613363266,0.030262334272265434,-0.00537128746509552,-0.005348368547856808,0.03472508117556572,0.0006660472718067467,0.08936487138271332,-0.06851738691329956,-0.024703839793801308,-0.0033151954412460327,0.02032063528895378,0.016535013914108276,-0.029467737302184105,-0.011075968854129314,0.03843781352043152,-0.007443689275532961,0.045540787279605865,-0.04598110914230347,-0.014832507818937302,-0.00370162446051836,0.02978461980819702,-0.004005675204098225,-0.032833073288202286,0.10334844887256622,-0.020410384982824326,-0.01884242706000805,-0.008651932701468468,0.00586480088531971,-0.03251340240240097,-0.013028498739004135,0.013105195015668869,-0.010893202386796474,-0.0036131564993411303,0.023461049422621727,-0.006378096528351307,-0.02115285024046898,-0.020595526322722435,-0.014838997274637222,-0.0003352124767843634,0.050475336611270905,-0.01272630039602518,0.011753544211387634,-0.02055220864713192,4.031316090994283e-34,0.05018892511725426,-0.019656918942928314,0.036457717418670654,0.007068868260830641,0.019608549773693085,-0.027386052533984184,0.004923905245959759,0.006721294019371271,0.025019172579050064,-0.06102914363145828,-0.02527204155921936]'
SET
  @TechnicalDesignVector_3d8972b8 = N'[0.00040400566649623215,0.03573897108435631,-0.012679804116487503,-0.04352961480617523,0.007556920405477285,0.02147756889462471,0.007410796359181404,0.04858442768454552,0.02469237707555294,0.03208833560347557,-0.0005473314085975289,-0.005131582263857126,0.039827991276979446,0.03104609251022339,0.011216598562896252,0.02577333338558674,-0.015678415074944496,0.0742340162396431,-0.026624342426657677,-0.03504785895347595,0.03385266289114952,-0.04400750622153282,0.028094621375203133,-0.026834752410650253,0.010324811562895775,-0.008154548704624176,-0.03747433051466942,0.030407428741455078,0.08180049061775208,-0.06085231900215149,0.021834716200828552,0.024925466626882553,-0.0154630271717906,0.007472461089491844,0.0000022113483737484785,-0.020408689975738525,-0.016062507405877113,0.0011427237186580896,-0.00845461618155241,-0.023722069337964058,0.04742065444588661,-0.027934150770306587,-0.012266947887837887,-0.003816487267613411,0.00284765032120049,-0.08025511354207993,-0.039182472974061966,0.01565621607005596,0.013044903986155987,0.01982339285314083,0.012047135271131992,-0.03935855254530907,0.014042914845049381,0.012931272387504578,0.06007766351103783,-0.0005609059589914978,0.0030052566435188055,-0.017847364768385887,0.03897261992096901,-0.10150732100009918,-0.013545810244977474,0.004943102598190308,0.021109288558363914,-0.050891708582639694,-0.015645164996385574,-0.006519150920212269,0.05680077522993088,0.0055799465626478195,0.024828549474477768,-0.01068855356425047,0.0660528689622879,-0.04592952877283096,-0.0020561497658491135,-0.047101497650146484,-0.0504341758787632,-0.005601278506219387,-0.0041185603477060795,-0.03217834606766701,-0.026073837652802467,0.02311781607568264,-0.030137814581394196,0.03132691606879234,0.004380279220640659,-0.017794806510210037,-0.0466575101017952,-0.010894106701016426,0.0058452836237847805,-0.00732054328545928,-0.017425188794732094,-0.006958920508623123,0.12987297773361206,0.00005745869566453621,0.019534491002559662,0.0527876615524292,-0.015876635909080505,0.03244682773947716,0.017301255837082863,-0.14268213510513306,0.07427270710468292,-0.051992952823638916,0.04054984450340271,0.012902955524623394,0.03149527683854103,-0.03532528877258301,0.04309217259287834,0.02521418035030365,-0.012216676957905293,-0.06056494265794754,-0.03138488158583641,-0.039747703820466995,0.01471235416829586,-0.007487019989639521,0.017708221450448036,0.036076564341783524,0.04494538903236389,-0.00825451873242855,-0.05344272777438164,-0.04244442656636238,0.016335414722561836,0.0119624687358737,0.06079718843102455,-0.013797851279377937,-0.01516044232994318,0.009238840080797672,0.05871398001909256,-0.000976631068624556,-0.0012940256856381893,-0.06489535421133041,-0.02446429245173931,-0.01621859520673752,-0.014449043199419975,-0.061615411192178726,0.02612397074699402,0.02920166775584221,-0.021408414468169212,0.015639474615454674,0.024111729115247726,-0.026664407923817635,-0.05547453463077545,0.014954552985727787,0.0001321187592111528,0.0013652591733261943,0.012684071436524391,0.039664145559072495,0.005131039302796125,-0.012297181412577629,0.03566833958029747,0.04619783163070679,-0.0011656434508040547,0.04936126619577408,0.0234768595546484,-0.04573728144168854,0.04069949686527252,0.005066946614533663,-0.03234431892633438,0.023976149037480354,0.046422079205513,0.0022275252267718315,0.04989967495203018,-0.03592808544635773,0.006431398447602987,0.03524152934551239,0.03504010662436485,0.023634113371372223,0.008634978905320168,0.07078646123409271,-0.03618723899126053,0.011837183497846127,0.02309722825884819,-0.04376767575740814,0.017719851806759834,-0.03299326449632645,-0.035167910158634186,0.05498169735074043,-0.023067187517881393,-0.07552710920572281,0.025240706279873848,0.007066168822348118,-0.07500266283750534,-0.0013114286120980978,0.029202397912740707,-0.0013243956491351128,0.03154003247618675,-0.04515672102570534,0.09377843141555786,-0.029992464929819107,0.07365544885396957,0.01867825910449028,0.0029689029324799776,0.028558315709233284,-0.01047245692461729,-0.004288686439394951,0.021905390545725822,0.016489796340465546,-0.009898671880364418,0.0347316600382328,-0.03960413858294487,-0.07102853804826736,0.020252423360943794,0.0028465166687965393,0.00003000180731760338,0.016754688695073128,-0.038081008940935135,0.060655564069747925,0.023832013830542564,0.02289421856403351,-0.09785456955432892,0.05666099861264229,-0.011896134354174137,-0.04644628241658211,-0.02446511946618557,-0.004902547225356102,-0.039007287472486496,0.002936992794275284,0.02275284007191658,0.026326587423682213,0.01155165396630764,-0.002334974007681012,0.0010560023365542293,-0.0020360739436000586,-0.020711641758680344,0.06479452550411224,-0.04265913367271423,0.023578034713864326,0.053539957851171494,0.04656288027763367,0.05043965205550194,-0.07268165796995163,0.032811760902404785,-0.028080061078071594,-0.033112362027168274,-0.034104492515325546,0.001994475955143571,0.04475526884198189,0.030656544491648674,-0.00903710350394249,-0.03490106016397476,0.05722474679350853,-0.012696171179413795,0.06984083354473114,0.015541980043053627,-0.0258815698325634,-0.029247282072901726,-0.014906885102391243,-0.06342905759811401,-0.020612535998225212,-0.09128464013338089,0.03286008909344673,-0.004976720083504915,-0.010096240788698196,0.04805796220898628,0.008503192104399204,0.017632994800806046,0.004464354831725359,-0.02290513552725315,-0.027433255687355995,0.008032059296965599,-0.0028327335603535175,0.017007693648338318,0.0408313162624836,0.02768656797707081,-0.02314472757279873,-0.009497729130089283,0.007342168595641851,0.018690086901187897,-0.02687295898795128,0.03253622725605965,-0.02998173050582409,0.008370776660740376,0.032045986503362656,0.005354571621865034,0.0536336787045002,0.005370050203055143,-0.0055244299583137035,-0.012048219330608845,-0.001072177430614829,0.03298122063279152,0.09284073114395142,-0.02207663655281067,-0.05286392942070961,-0.05532338097691536,-0.022130776196718216,0.03672689199447632,0.026329129934310913,-0.019377678632736206,-0.0016520338831469417,0.047515422105789185,-0.07100369781255722,0.006556439213454723,-0.047504015266895294,-0.023832004517316818,0.01652447134256363,0.007885479368269444,-0.011063609272241592,-0.008564125746488571,0.004503285046666861,-0.053176235407590866,0.01182097103446722,0.001623503165319562,-0.030447134748101234,-0.018628763034939766,-0.02036985568702221,-0.00710951117798686,0.009817517362535,0.00034479680471122265,0.00473617622628808,-0.02984187752008438,0.029269559308886528,0.018835552036762238,-0.006304193288087845,0.018357329070568085,0.0324556864798069,0.012740297242999077,-0.0365297757089138,0.007386440876871347,0.018892323598265648,0.08846010267734528,-0.011604036204516888,-0.05882767215371132,0.02074279449880123,0.0037097197491675615,-0.02129974029958248,0.00967615470290184,0.01212154608219862,-0.027063606306910515,-0.025842828676104546,0.026302240788936615,-0.026904501020908356,-0.017258161678910255,0.03992797061800957,0.0419524684548378,-0.08294021338224411,0.025913944467902184,0.015809452161192894,0.010527944192290306,-0.060857370495796204,-0.04680045321583748,-0.0036846157163381577,0.004093955736607313,0.0048009976744651794,0.01328900083899498,-0.0034812954254448414,-0.05004514008760452,0.052055489271879196,0.021084703505039215,-0.04028884693980217,-0.0027719552163034678,-0.03962443023920059,-0.014742115512490273,-0.06858444213867188,0.026265904307365417,0.07345148175954819,-0.016517387703061104,-0.010881287045776844,0.0032673832029104233,0.029336033388972282,-0.012251169420778751,0.030580870807170868,-0.012994328513741493,0.030101889744400978,0.05767221376299858,0.0737285241484642,0.04232119768857956,-0.017972584813833237,0.013321529142558575,0.054422881454229355,0.05065569281578064,-0.017084695398807526,-0.007848521694540977,-0.018524080514907837,-0.036670852452516556,-0.03887282684445381,-0.0018841843120753765,0.00444885715842247,0.0011188260978087783,-0.10193353146314621,0.023191509768366814,-0.005249690730124712,-0.01614603027701378,0.005166327115148306,0.06361238658428192,-0.03437544405460358,0.06618611514568329,0.03154359012842178,0.06064477562904358,-0.035429589450359344,0.039618488401174545,-0.020622659474611282,-0.05127212777733803,0.021988002583384514,0.007014284376055002,0.021381741389632225,0.033719293773174286,-0.04538699984550476,-0.009725593030452728,0.0625058114528656,-0.008890553377568722,0.03137020021677017,0.051748257130384445,-0.0038466884288936853,-0.033133555203676224,0.1448647677898407,-0.0001301360607612878,0.005944614764302969,0.011931234039366245,-0.046878375113010406,0.0475933775305748,-0.006170217879116535,0.037226974964141846,0.08733692020177841,0.039049357175827026,-0.02484600804746151,-0.06586816906929016,-0.045379649847745895,-0.037751611322164536,-0.004550187848508358,0.015311346389353275,-0.07124628126621246,0.011323473416268826,0.03167833387851715,-0.03137483820319176,0.012682229280471802,0.034306567162275314,-0.006205663084983826,0.03108374960720539,-0.00521441176533699,-0.04155324399471283,-0.06614059954881668,-0.04572395980358124,0.012318179942667484,-0.00059188820887357,0.01078260038048029,0.013091696426272392,0.04819389432668686,-0.04577166959643364,-0.03904877230525017,0.03144792467355728,-0.019299030303955078,0.029693402349948883,-0.00043470607488416135,0.00047289172653108835,0.008183787576854229,0.049905095249414444,0.03476107120513916,-0.025069348514080048,-0.030493780970573425,-0.043391574174165726,0.05316229164600372,-0.051295775920152664,0.017169272527098656,-0.005138625856488943,-0.03537282347679138,-0.05073583871126175,0.015623310580849648,-0.010034208185970783,-0.05137144774198532,0.049388278275728226,0.013868973590433598,-0.04817422479391098,0.06562037020921707,0.0005318550975061953,0.018910199403762817,-0.020795395597815514,-0.008483660407364368,-0.01993909291923046,-0.054718226194381714,-0.012881888076663017,-0.06610770523548126,0.00003204240056220442,0.009708440862596035,-0.0050169071182608604,-0.0070276460610330105,-0.017491651698946953,-0.018473271280527115,0.03821071982383728,-0.0018870678031817079,-0.006094558630138636,0.03848179057240486,-0.025074904784560204,0.008753500878810883,0.034091342240571976,-0.010813562199473381,-0.031009357422590256,-0.10006242990493774,0.0436694510281086,0.03367549553513527,-0.015449948608875275,-0.006001637317240238,-0.008267098106443882,0.013477975502610207,-0.023237919434905052,0.03065088391304016,-0.022518206387758255,0.007081252057105303,0.0532623752951622,0.001934007159434259,0.02556820772588253,-0.05182934179902077,-0.04079905524849892,-0.051069729030132294,-0.02863404154777527,-0.019669106230139732,-0.022685544565320015,0.033591028302907944,0.021304123103618622,-0.012741873040795326,-0.009885904379189014,0.011721779592335224,-0.00904160551726818,-0.03594918176531792,-0.023897111415863037,-0.04682711884379387,-0.05415789410471916,0.03385463356971741,0.013180849142372608,0.013043607585132122,-0.055785905569791794,0.0367421880364418,0.061227548867464066,-0.004951461683958769,0.01763128489255905,-0.0007924833917059004,-0.03187280893325806,-0.05473329871892929,0.0430416502058506,-0.028264222666621208,0.004452548921108246,0.02168092131614685,0.054765067994594574,0.018919795751571655,0.05502081662416458,-0.02466355822980404,-0.02937636338174343,-0.007991722784936428,0.0017879278166219592,-0.0030726855620741844,-0.03382711485028267,-0.032507456839084625,0.017068710178136826,-0.06354055553674698,-0.04524160176515579,0.0008172181551344693,-0.01622242107987404,0.0020220254082232714,0.006366218905895948,-0.05998726934194565,0.003220030339434743,-0.05791434645652771,0.02093830704689026,0.04804457351565361,0.01842101290822029,0.034226734191179276,-0.0007817349978722632,-0.011390664614737034,0.010980217717587948,-6.534576769640943e-33,0.012795564718544483,-0.010673797689378262,-0.0019180773524567485,-0.038361165672540665,-0.04484175890684128,-0.044761452823877335,-0.011231614276766777,-0.03509339317679405,0.023318417370319366,-0.0292308758944273,-0.029931453987956047,-0.01774420402944088,0.012225196696817875,-0.004218882881104946,-0.052556153386831284,-0.03231406956911087,0.006130543537437916,-0.004458303563296795,-0.014669119380414486,0.05620180070400238,-0.0010683458531275392,0.026911813765764236,-0.038430165499448776,0.04569360613822937,-0.011415932327508926,-0.042270440608263016,0.007027270272374153,0.0017753040883690119,-0.11710397154092789,0.014169495552778244,-0.023769043385982513,-0.05606795474886894,-0.011302126571536064,-0.06673284620046616,-0.007558578625321388,-0.0036491630598902702,-0.08184875547885895,-0.026784507557749748,0.01236043032258749,0.03789476305246353,0.08575336635112762,0.006733044516295195,-0.00024638930335640907,0.011921195313334465,-0.05246155336499214,0.012377442792057991,-0.011505859903991222,0.013805141672492027,-0.005833144299685955,-0.05729958415031433,0.02041321061551571,0.030427111312747,0.024363046512007713,0.05285925790667534,-0.010719834826886654,0.02111179195344448,0.03860544413328171,0.10445712506771088,-0.0880701020359993,-0.03259428218007088,0.000025983188606915064,0.014970938675105572,0.061161041259765625,0.06044561415910721,0.0647839605808258,0.009786626324057579,0.0684664398431778,0.032022081315517426,-0.0689394399523735,-0.008350782096385956,-0.015327523462474346,-0.09895337373018265,-0.017689058557152748,-0.027161138132214546,0.07604464143514633,0.03613489866256714,-0.029438788071274757,-0.040225956588983536,-0.05265448987483978,0.04001519829034805,0.023063043132424355,0.003639152040705085,0.02615525759756565,0.006728479638695717,-0.01793288066983223,0.025585606694221497,0.026045331731438637,0.007916023023426533,-0.03915875777602196,0.008760464377701283,-0.021663200110197067,0.021565373986959457,-0.032337725162506104,0.023104393854737282,-0.06511981040239334,0.024223692715168,0.012224617414176464,0.033318083733320236,-0.010170318186283112,0.04175820201635361,0.02683226391673088,-0.021673930808901787,-0.058162108063697815,-0.0005256556323729455,0.009931221604347229,-0.02820385806262493,0.027996299788355827,0.009531302377581596,-0.018267350271344185,0.02944105491042137,0.013268397189676762,0.0385846346616745,-0.01879291795194149,0.04785895720124245,0.01626981794834137,0.06635528057813644,-0.005352803040295839,0.00007048244151519611,0.06319224089384079,-0.0038645451422780752,0.034423522651195526,-0.03597961738705635,0.01425600703805685,0.020057741552591324,0.0045082056894898415,0.0037863922771066427,-0.039644867181777954,0.012622994370758533,-0.031145302578806877,-0.0649668350815773,0.012749932706356049,0.06605749577283859,2.952968713998416e-7,0.0107455775141716,-0.0001572798501001671,-0.006213580723851919,0.011619300581514835,-0.011283540166914463,-0.017775176092982292,-0.02733871527016163,-0.05348137393593788,-0.050219662487506866,-0.03815319389104843,0.009661835618317127,-0.002474740380421281,0.02288748323917389,0.022820739075541496,-0.015462957322597504,-0.018870756030082703,-0.04161921516060829,-0.006294413469731808,-0.027476057410240173,-0.01606702245771885,-0.028636034578084946,0.006567138712853193,0.029153959825634956,0.004807122051715851,0.02884094789624214,0.07987167686223984,-0.0070454441010952,0.020412461832165718,0.033222127705812454,-0.0321456715464592,0.09388869255781174,-0.04889468848705292,-0.02312082052230835,-0.015521565452218056,0.04001754894852638,0.04858788102865219,-0.04298119246959686,-0.003837345167994499,0.05783284828066826,0.014975014142692089,0.07104560732841492,-0.03494191914796829,-0.017190488055348396,-0.04797011986374855,0.03365473449230194,0.01661664806306362,-0.03393341600894928,0.0606718473136425,-0.028727209195494652,0.015931976959109306,-0.03445782512426376,-0.002146130660548806,0.004160728771239519,0.009834728203713894,0.02158631570637226,-0.03756479173898697,0.006793225184082985,0.013831064105033875,-0.021070625633001328,-0.0356396809220314,-0.03626461327075958,0.006050639320164919,-0.009982885792851448,0.05186698958277702,-0.0015345764113590121,-0.011679607443511486,-0.019299540668725967,3.5450749190753074e-34,0.03771229088306427,-0.04837799817323685,0.01585223339498043,-0.000295205507427454,0.008952525444328785,-0.04653330147266388,0.022630885243415833,0.009413818828761578,0.035858556628227234,-0.06745497137308121,-0.03444763645529747]'
SET
  @HasCustomProps_3d8972b8 = 1
SET
  @HasCustomEvents_3d8972b8 = 1
SET
  @RequiresData_3d8972b8 = 1
SET
  @DependencyCount_3d8972b8 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_3d8972b8 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_3d8972b8 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_3d8972b8 = 1
SET
  @ID_3d8972b8 = 'BE1FED28-72D1-4F2E-8FAB-77747639732B'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_3d8972b8,
  @Name = @Name_3d8972b8,
  @Version = @Version_3d8972b8,
  @VersionSequence = @VersionSequence_3d8972b8,
  @Title = @Title_3d8972b8,
  @Description = @Description_3d8972b8,
  @Type = @Type_3d8972b8,
  @Status = @Status_3d8972b8,
  @DeveloperName = @DeveloperName_3d8972b8,
  @DeveloperEmail = @DeveloperEmail_3d8972b8,
  @DeveloperOrganization = @DeveloperOrganization_3d8972b8,
  @SourceRegistryID = @SourceRegistryID_3d8972b8,
  @ReplicatedAt = @ReplicatedAt_3d8972b8,
  @LastSyncedAt = @LastSyncedAt_3d8972b8,
  @Specification = @Specification_3d8972b8,
  @FunctionalRequirements = @FunctionalRequirements_3d8972b8,
  @TechnicalDesign = @TechnicalDesign_3d8972b8,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_3d8972b8,
  @TechnicalDesignVector = @TechnicalDesignVector_3d8972b8,
  @HasCustomProps = @HasCustomProps_3d8972b8,
  @HasCustomEvents = @HasCustomEvents_3d8972b8,
  @RequiresData = @RequiresData_3d8972b8,
  @DependencyCount = @DependencyCount_3d8972b8,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_3d8972b8,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_3d8972b8,
  @HasRequiredCustomProps = @HasRequiredCustomProps_3d8972b8,
  @ID = @ID_3d8972b8;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_a4e52a40 NVARCHAR(MAX),
@Name_a4e52a40 NVARCHAR(500),
@Version_a4e52a40 NVARCHAR(50),
@VersionSequence_a4e52a40 INT,
@Title_a4e52a40 NVARCHAR(1000),
@Description_a4e52a40 NVARCHAR(MAX),
@Type_a4e52a40 NVARCHAR(255),
@Status_a4e52a40 NVARCHAR(50),
@DeveloperName_a4e52a40 NVARCHAR(255),
@DeveloperEmail_a4e52a40 NVARCHAR(255),
@DeveloperOrganization_a4e52a40 NVARCHAR(255),
@SourceRegistryID_a4e52a40 UNIQUEIDENTIFIER,
@ReplicatedAt_a4e52a40 DATETIMEOFFSET,
@LastSyncedAt_a4e52a40 DATETIMEOFFSET,
@Specification_a4e52a40 NVARCHAR(MAX),
@FunctionalRequirements_a4e52a40 NVARCHAR(MAX),
@TechnicalDesign_a4e52a40 NVARCHAR(MAX),
@FunctionalRequirementsVector_a4e52a40 NVARCHAR(MAX),
@TechnicalDesignVector_a4e52a40 NVARCHAR(MAX),
@HasCustomProps_a4e52a40 BIT,
@HasCustomEvents_a4e52a40 BIT,
@RequiresData_a4e52a40 BIT,
@DependencyCount_a4e52a40 INT,
@TechnicalDesignVectorEmbeddingModelID_a4e52a40 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_a4e52a40 NVARCHAR(MAX),
@HasRequiredCustomProps_a4e52a40 BIT,
@ID_a4e52a40 UNIQUEIDENTIFIER
SET
  @Namespace_a4e52a40 = N'CRM/Sales'
SET
  @Name_a4e52a40 = N'TopProductsRanking'
SET
  @Version_a4e52a40 = N'1.0.0'
SET
  @VersionSequence_a4e52a40 = 1
SET
  @Title_a4e52a40 = N'Top Products Ranking'
SET
  @Description_a4e52a40 = N'Displays top-performing products ranked by revenue, units sold, or profit margin with flexible filtering and drill-down capabilities.'
SET
  @Type_a4e52a40 = N'Table'
SET
  @Status_a4e52a40 = N'Published'
SET
  @Specification_a4e52a40 = N'{"name":"TopProductsRanking","title":"Top Products Ranking","type":"table","namespace":"CRM/Sales","userExplanation":"Displays top-performing products in a table with click-to-drill-down functionality. When you click a product row, it loads all invoice line items for that product, demonstrating manual drill-down control using RunView and DataGrid (not EntityDataGrid).","functionalRequirements":"## Business Objectives\n- Identify top-performing products by revenue, units sold, or profit margin\n- Support flexible filtering by product category and time period\n- Enable drill-down to see individual invoice line items for any product\n- Demonstrate manual RunView drill-down pattern with standard DataGrid\n\n## Functional Requirements\n- **Product Ranking Display**: Show top N products (configurable, default 10) in a table format\n- **Ranking Metrics**: Display product name, category, total revenue, units sold, and number of invoices\n- **Click-to-Drill-Down**: When user clicks a product row, load all invoice line items for that product using RunView\n- **Detail View**: Display invoice line items in standard DataGrid (not EntityDataGrid) with invoice date, quantity, unit price, total, and account name\n- **Back Navigation**: Provide clear way to return to product ranking view\n- **Flexible Filtering**: Support filtering by product category and date range\n- **Custom Data Transformation**: Demonstrate calculating additional metrics (like margin) on drill-down data\n- **Loading States**: Show loading indicators during data fetch\n- **Empty States**: Handle cases where no products or no line items exist","description":"Displays top-performing products ranked by revenue, units sold, or profit margin with flexible filtering and drill-down capabilities.","dataRequirements":{"mode":"hybrid","description":"Uses RunQuery for aggregated product rankings and RunView for drill-down to invoice line item details when user clicks a product","queries":[{"name":"Product Ranking","categoryPath":"Demo","description":"Unified product ranking query that ranks products by revenue with optional category filtering. Replaces both top-products-ranking.sql and category-top-products.sql. When Category parameter omitted, ranks across all categories. When Category provided, ranks within that category. Returns TOP N products (default 10) with revenue, quantity, invoice count, and average price metrics. General-purpose query for product performance analysis. **Result Order: TotalRevenue DESC** - Highest revenue products first for performance ranking.","entityNames":["Invoice Line Items","Products","Invoices"],"fields":[{"name":"ProductID","sequence":1,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Product ID for drill-down filtering"},{"name":"ProductName","sequence":2,"defaultInView":true,"type":"nvarchar(255)","allowsNull":false,"isPrimaryKey":false,"description":"Name of the product"},{"name":"Category","sequence":3,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Product category"},{"name":"TotalRevenue","sequence":4,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Total revenue from all invoice line items for this product"},{"name":"TotalQuantity","sequence":5,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Total units sold across all invoices"},{"name":"InvoiceCount","sequence":6,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of distinct invoices containing this product"},{"name":"AvgPrice","sequence":7,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average unit price across all sales"}],"parameters":[{"name":"TopN","isRequired":false,"type":"number","sampleValue":"10","description":"Number of top products to return (default: 10)"},{"name":"Category","isRequired":false,"type":"string","sampleValue":"Software","description":"Optional filter by product category"},{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"}]}],"entities":[{"name":"Products","description":"Product records shown in the main ranking query results. The query aggregates sales data by ProductID.","displayFields":["Name","Category"],"filterFields":["Category","ID"],"sortFields":["Name"],"usageContext":"Main entity displayed in DataGrid ranking table, grouped and aggregated in the Top Products Ranking query"},{"name":"Invoice Line Items","description":"Detail records shown when drilling down into a specific product. Loaded via RunView (not EntityDataGrid) to demonstrate manual data transformation.","displayFields":["ID","InvoiceID","Product","Description","InvoiceDate","InvoiceName","Quantity","UnitPrice","Discount","TotalPrice","Total","AccountName"],"filterFields":["ProductID","InvoiceDate"],"sortFields":["ID","InvoiceDate","Total"],"usageContext":"Loaded via RunView when user clicks on a product row. Filter: ProductID=''{selectedProductID}'', OrderBy: ''InvoiceDate DESC'', MaxRows: 100"},{"name":"Invoices","description":"Invoice records referenced in the query to provide invoice-level details (date, account name) for line items.","displayFields":["InvoiceNumber","InvoiceDate","AccountName"],"filterFields":["ID"],"sortFields":["InvoiceDate"],"usageContext":"Joined in query to provide InvoiceDate and AccountName view fields for Invoice Line Items"}]},"properties":[{"name":"topN","type":"number","required":false,"defaultValue":10,"description":"Number of top products to display"},{"name":"category","type":"string","required":false,"defaultValue":null,"description":"Optional filter by product category"},{"name":"startDate","type":"string","required":false,"defaultValue":null,"description":"Optional start date filter in YYYY-MM-DD format"},{"name":"endDate","type":"string","required":false,"defaultValue":null,"description":"Optional end date filter in YYYY-MM-DD format"}],"events":[{"name":"onProductClick","description":"Fired internally when user clicks a product row in the DataGrid. Triggers drill-down to show invoice line items for the selected product.","payload":{"ProductID":"string - UUID of the clicked product","ProductName":"string - Name of the product","Category":"string - Product category","TotalRevenue":"number - Total revenue for this product","TotalQuantity":"number - Total units sold","InvoiceCount":"number - Number of invoices containing this product","AvgPrice":"number - Average price per unit"},"example":"{ ProductID: ''abc-123'', ProductName: ''Premium Widget'', Category: ''Hardware'', TotalRevenue: 125000.00, TotalQuantity: 500, InvoiceCount: 45, AvgPrice: 250.00 }"}],"dependencies":[{"name":"DataGrid","location":"registry","namespace":"Generic/UI/Table","version":"^1.0.0"}],"location":"embedded","technicalDesign":"## Component Architecture\n\n### Data Flow\n1. **Initial Load**: RunQuery executes ''Top Products Ranking'' with optional filters (topN, category, startDate, endDate)\n2. **Table Rendering**: DataGrid displays aggregated product ranking data with click handlers\n3. **User Interaction**: User clicks product row in DataGrid\n4. **Manual Drill-Down**: Component executes RunView to load Invoice Line Items filtered by ProductID\n5. **Detail View**: Standard DataGrid (not EntityDataGrid) displays line items with manual state management\n6. **Back Navigation**: User clicks back button to return to ranking view\n\n### State Management\n- `data`: Array of query results (product rankings)\n- `loading`: Boolean for initial data load\n- `error`: String for query error messages\n- `selectedProduct`: Object containing clicked product details (null = ranking view, object = detail view)\n- `detailData`: Array of invoice line items for selected product\n- `detailLoading`: Boolean for detail data loading state\n- `detailError`: String for detail loading error messages\n\n### Manual Drill-Down Pattern\nUnlike EntityDataGrid pattern (chart + grid), this component uses:\n- **View Switching**: Hides ranking table when product is selected\n- **Manual RunView**: Explicit call to `utilities.rv.RunView` with ProductID filter\n- **Standard DataGrid**: Uses basic DataGrid (not EntityDataGrid) for detail view\n- **Custom Layout**: Detail view includes product metrics cards + line items table\n\n### DataGrid Configuration\n**Main Ranking Table**:\n- Displays query results directly (no entity-based loading)\n- Includes sorting, filtering, pagination controls\n- onRowClick handler triggers drill-down\n- OrderBy: ''TotalRevenue DESC'' (highest revenue first)\n\n**Detail Line Items Table**:\n- Basic DataGrid with static data prop\n- No server-side features (already filtered by RunView)\n- Displays: InvoiceDate, InvoiceName, Quantity, UnitPrice, Total, AccountName\n\n### Educational Value\nDemonstrates:\n1. **Manual Drill-Down Control**: Component manages drill-down logic explicitly\n2. **View Switching**: Toggles between ranking and detail views\n3. **RunView Direct Usage**: Shows how to call RunView with filters\n4. **Basic DataGrid**: Uses simpler DataGrid for pre-loaded data\n5. **Custom Detail Layout**: Product metrics + detail grid pattern\n6. **State-Based Rendering**: Conditional rendering based on selection state","code":"function TopProductsRanking({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  topN = 10,\n  category = null,\n  startDate = null,\n  endDate = null\n}) {\n  // State management\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [detailData, setDetailData] = useState(null);\n  const [detailLoading, setDetailLoading] = useState(false);\n  const [detailError, setDetailError] = useState(null);\n\n  // Get DataGrid component from registry\n  const { DataGrid } = components;\n\n  // Load data on mount or when parameters change\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      setError(null);\n      setSelectedProduct(null);\n      setDetailData(null);\n\n      try {\n        // Execute the query with all supported parameters\n        const result = await utilities.rq.RunQuery({\n          QueryName: ''Product Ranking'',\n          CategoryPath: ''Demo'',\n          Parameters: {\n            TopN: topN,\n            Category: category,\n            StartDate: startDate,\n            EndDate: endDate\n          }\n        });\n\n        if (result && result.Success && result.Results) {\n          setData(result.Results);\n        } else {\n          setError(result?.ErrorMessage || ''Failed to load data'');\n        }\n      } catch (err) {\n        console.error(''Error loading top products ranking:'', err);\n        setError(err.message || ''An unexpected error occurred'');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [topN, category, startDate, endDate]);\n\n  // Handle product click for drill-down\n  const handleProductClick = async (event) => {\n    // DataGrid passes an event object with { record, cancel } - extract the actual product data\n    const product = event?.record;\n\n    if (!product || !product.ProductID) {\n      console.warn(''Invalid product data for drill-down:'', product);\n      return;\n    }\n\n    setSelectedProduct(product);\n    setDetailLoading(true);\n    setDetailError(null);\n\n    try {\n      // Load invoice line items for this product using RunView\n      const detailResult = await utilities.rv.RunView({\n        EntityName: ''Invoice Line Items'',\n        ExtraFilter: `ProductID=''$' + '{product.ProductID}''`,\n        OrderBy: ''ID DESC'',  // vwInvoiceLineItems doesn''t have InvoiceDate - order by ID instead\n        MaxRows: 100\n      });\n\n      if (detailResult && detailResult.Success) {\n        setDetailData(detailResult.Results || []);\n      } else {\n        setDetailError(detailResult?.ErrorMessage || ''Failed to load product details'');\n      }\n    } catch (err) {\n      console.error(''Error loading product details:'', err);\n      setDetailError(err.message || ''An unexpected error occurred'');\n    } finally {\n      setDetailLoading(false);\n    }\n  };\n\n  // Handle back to ranking view\n  const handleBackToRanking = () => {\n    setSelectedProduct(null);\n    setDetailData(null);\n    setDetailError(null);\n  };\n\n  // Loading state\n  if (loading) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n        <div>Loading product rankings...</div>\n      </div>\n    );\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n        <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n        <div style={{ marginTop: ''8px'' }}>{error}</div>\n      </div>\n    );\n  }\n\n  // Empty state\n  if (!data || data.length === 0) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n        <div style={{ fontSize: ''16px'' }}>No Data Available</div>\n        <div style={{ marginTop: ''8px'' }}>\n          No products found matching the specified criteria\n        </div>\n      </div>\n    );\n  }\n\n  // Show detail view when product is selected\n  if (selectedProduct) {\n    return (\n      <div style={{ padding: ''16px'' }}>\n        {/* Header with back button */}\n        <div style={{\n          display: ''flex'',\n          alignItems: ''center'',\n          marginBottom: ''16px'',\n          paddingBottom: ''12px'',\n          borderBottom: ''1px solid #e8e8e8''\n        }}>\n          <button\n            onClick={handleBackToRanking}\n            style={{\n              padding: ''8px 16px'',\n              marginRight: ''16px'',\n              backgroundColor: ''#1890ff'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              fontSize: ''14px''\n            }}\n          >\n            ← Back to Rankings\n          </button>\n          <div>\n            <div style={{ fontSize: ''18px'', fontWeight: ''bold'' }}>\n              {selectedProduct.ProductName}\n            </div>\n            <div style={{ fontSize: ''14px'', color: ''#8c8c8c'' }}>\n              Category: {selectedProduct.Category || ''N/A''}\n            </div>\n          </div>\n        </div>\n\n        {/* Product summary metrics */}\n        <div style={{\n          display: ''grid'',\n          gridTemplateColumns: ''repeat(4, 1fr)'',\n          gap: ''16px'',\n          marginBottom: ''24px''\n        }}>\n          <div style={{\n            padding: ''16px'',\n            backgroundColor: ''#f5f5f5'',\n            borderRadius: ''4px'',\n            textAlign: ''center''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n              Total Revenue\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#1890ff'' }}>\n              $' + '{(selectedProduct.TotalRevenue || 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n            </div>\n          </div>\n\n          <div style={{\n            padding: ''16px'',\n            backgroundColor: ''#f5f5f5'',\n            borderRadius: ''4px'',\n            textAlign: ''center''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n              Total Quantity\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#52c41a'' }}>\n              {(selectedProduct.TotalQuantity || 0).toLocaleString()}\n            </div>\n          </div>\n\n          <div style={{\n            padding: ''16px'',\n            backgroundColor: ''#f5f5f5'',\n            borderRadius: ''4px'',\n            textAlign: ''center''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n              Invoice Count\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#fa8c16'' }}>\n              {selectedProduct.InvoiceCount || 0}\n            </div>\n          </div>\n\n          <div style={{\n            padding: ''16px'',\n            backgroundColor: ''#f5f5f5'',\n            borderRadius: ''4px'',\n            textAlign: ''center''\n          }}>\n            <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n              Average Price\n            </div>\n            <div style={{ fontSize: ''20px'', fontWeight: ''bold'', color: ''#722ed1'' }}>\n              $' + '{(selectedProduct.AvgPrice || 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n            </div>\n          </div>\n        </div>\n\n        {/* Detail loading state */}\n        {detailLoading && (\n          <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n            <div>Loading invoice line items...</div>\n          </div>\n        )}\n\n        {/* Detail error state */}\n        {detailError && (\n          <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n            <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Details</div>\n            <div style={{ marginTop: ''8px'' }}>{detailError}</div>\n          </div>\n        )}\n\n        {/* Detail data grid */}\n        {!detailLoading && !detailError && detailData && (\n          <div>\n            <div style={{\n              fontSize: ''16px'',\n              fontWeight: ''bold'',\n              marginBottom: ''12px''\n            }}>\n              Invoice Line Items ({detailData.length} records)\n            </div>\n            <DataGrid\n              data={detailData}\n              entityName=\"Invoice Line Items\"\n              entityPrimaryKeys={[\"ID\"]}\n              columns={[\n                { field: ''ID'', header: ''Line Item ID'', sortable: true },\n                { field: ''InvoiceID'', header: ''Invoice ID'', sortable: true },\n                { field: ''Product'', header: ''Product'', sortable: true },\n                { field: ''Description'', header: ''Description'', sortable: true },\n                {\n                  field: ''Quantity'',\n                  header: ''Quantity'',\n                  sortable: true,\n                  render: (value) => {\n                    return value != null ? Number(value).toLocaleString() : ''0'';\n                  }\n                },\n                {\n                  field: ''UnitPrice'',\n                  header: ''Unit Price'',\n                  sortable: true,\n                  render: (value) => {\n                    return value != null ? `$$' + '{Number(value).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : ''$0.00'';\n                  }\n                },\n                {\n                  field: ''Discount'',\n                  header: ''Discount'',\n                  sortable: true,\n                  render: (value) => {\n                    return value != null ? `$$' + '{Number(value).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : ''$0.00'';\n                  }\n                },\n                {\n                  field: ''TotalPrice'',\n                  header: ''Total Price'',\n                  sortable: true,\n                  render: (value) => {\n                    return value != null ? `$$' + '{Number(value).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : ''$0.00'';\n                  }\n                }\n              ]}\n              sorting={true}\n              paging={true}\n              pageSize={20}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  // Main ranking view\n  return (\n    <div style={{ padding: ''16px'', width: ''100%'', minWidth: ''800px'', boxSizing: ''border-box'' }}>\n      <div style={{\n        fontSize: ''18px'',\n        fontWeight: ''bold'',\n        marginBottom: ''16px''\n      }}>\n        Top {topN} Products by Revenue\n        {category && ` - $' + '{category}`}\n      </div>\n\n      <DataGrid\n        data={data}\n        columns={[\n          { field: ''ProductName'', header: ''Product Name'', sortable: true },\n          { field: ''Category'', header: ''Category'', sortable: true },\n          {\n            field: ''TotalRevenue'',\n            header: ''Total Revenue'',\n            sortable: true,\n            render: (value) => {\n              return value != null ? `$$' + '{Number(value).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : ''$0.00'';\n            }\n          },\n          {\n            field: ''TotalQuantity'',\n            header: ''Total Quantity'',\n            sortable: true,\n            render: (value) => {\n              return value != null ? Number(value).toLocaleString() : ''0'';\n            }\n          },\n          {\n            field: ''InvoiceCount'',\n            header: ''Invoice Count'',\n            sortable: true,\n            render: (value) => {\n              return value != null ? Number(value).toLocaleString() : ''0'';\n            }\n          },\n          {\n            field: ''AvgPrice'',\n            header: ''Avg Price'',\n            sortable: true,\n            render: (value) => {\n              return value != null ? `$$' + '{Number(value).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}` : ''$0.00'';\n            }\n          }\n        ]}\n        onRowClick={handleProductClick}\n        sorting={true}\n        paging={true}\n        pageSize={20}\n        showPageSizeChanger={true}\n        filtering={true}\n        utilities={utilities}\n        styles={styles}\n        components={components}\n      />\n\n      {/* Summary Statistics */}\n      <div style={{\n        marginTop: ''24px'',\n        display: ''grid'',\n        gridTemplateColumns: ''repeat(4, 1fr)'',\n        gap: ''16px''\n      }}>\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Revenue\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#1890ff'' }}>\n            $' + '{data.reduce((sum, row) => sum + (row.TotalRevenue || 0), 0).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Units Sold\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#52c41a'' }}>\n            {data.reduce((sum, row) => sum + (row.TotalQuantity || 0), 0).toLocaleString()}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Invoices\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#fa8c16'' }}>\n            {data.reduce((sum, row) => sum + (row.InvoiceCount || 0), 0).toLocaleString()}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''4px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''12px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Average Price\n          </div>\n          <div style={{ fontSize: ''24px'', fontWeight: ''bold'', color: ''#722ed1'' }}>\n            $' + '{(data.reduce((sum, row) => sum + (row.AvgPrice || 0), 0) / data.length).toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage (show top 10 products)\n<TopProductsRanking\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// Show top 20 products\n<TopProductsRanking\n  topN={20}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// Filter by product category\n<TopProductsRanking\n  topN={10}\n  category=\"Software\"\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>\n\n// Filter by date range and category\n<TopProductsRanking\n  topN={15}\n  category=\"Hardware\"\n  startDate=\"2024-01-01\"\n  endDate=\"2024-12-31\"\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>"}'
SET
  @FunctionalRequirements_a4e52a40 = N'## Business Objectives
- Identify top-performing products by revenue, units sold, or profit margin
- Support flexible filtering by product category and time period
- Enable drill-down to see individual invoice line items for any product
- Demonstrate manual RunView drill-down pattern with standard DataGrid

## Functional Requirements
- **Product Ranking Display**: Show top N products (configurable, default 10) in a table format
- **Ranking Metrics**: Display product name, category, total revenue, units sold, and number of invoices
- **Click-to-Drill-Down**: When user clicks a product row, load all invoice line items for that product using RunView
- **Detail View**: Display invoice line items in standard DataGrid (not EntityDataGrid) with invoice date, quantity, unit price, total, and account name
- **Back Navigation**: Provide clear way to return to product ranking view
- **Flexible Filtering**: Support filtering by product category and date range
- **Custom Data Transformation**: Demonstrate calculating additional metrics (like margin) on drill-down data
- **Loading States**: Show loading indicators during data fetch
- **Empty States**: Handle cases where no products or no line items exist'
SET
  @TechnicalDesign_a4e52a40 = N'## Component Architecture

### Data Flow
1. **Initial Load**: RunQuery executes ''Top Products Ranking'' with optional filters (topN, category, startDate, endDate)
2. **Table Rendering**: DataGrid displays aggregated product ranking data with click handlers
3. **User Interaction**: User clicks product row in DataGrid
4. **Manual Drill-Down**: Component executes RunView to load Invoice Line Items filtered by ProductID
5. **Detail View**: Standard DataGrid (not EntityDataGrid) displays line items with manual state management
6. **Back Navigation**: User clicks back button to return to ranking view

### State Management
- `data`: Array of query results (product rankings)
- `loading`: Boolean for initial data load
- `error`: String for query error messages
- `selectedProduct`: Object containing clicked product details (null = ranking view, object = detail view)
- `detailData`: Array of invoice line items for selected product
- `detailLoading`: Boolean for detail data loading state
- `detailError`: String for detail loading error messages

### Manual Drill-Down Pattern
Unlike EntityDataGrid pattern (chart + grid), this component uses:
- **View Switching**: Hides ranking table when product is selected
- **Manual RunView**: Explicit call to `utilities.rv.RunView` with ProductID filter
- **Standard DataGrid**: Uses basic DataGrid (not EntityDataGrid) for detail view
- **Custom Layout**: Detail view includes product metrics cards + line items table

### DataGrid Configuration
**Main Ranking Table**:
- Displays query results directly (no entity-based loading)
- Includes sorting, filtering, pagination controls
- onRowClick handler triggers drill-down
- OrderBy: ''TotalRevenue DESC'' (highest revenue first)

**Detail Line Items Table**:
- Basic DataGrid with static data prop
- No server-side features (already filtered by RunView)
- Displays: InvoiceDate, InvoiceName, Quantity, UnitPrice, Total, AccountName

### Educational Value
Demonstrates:
1. **Manual Drill-Down Control**: Component manages drill-down logic explicitly
2. **View Switching**: Toggles between ranking and detail views
3. **RunView Direct Usage**: Shows how to call RunView with filters
4. **Basic DataGrid**: Uses simpler DataGrid for pre-loaded data
5. **Custom Detail Layout**: Product metrics + detail grid pattern
6. **State-Based Rendering**: Conditional rendering based on selection state'
SET
  @FunctionalRequirementsVector_a4e52a40 = N'[-0.013045676052570343,0.08202310651540756,-0.010560955852270126,0.0019753354135900736,-0.008208959363400936,0.00395001657307148,0.029759544879198074,0.03686314821243286,-0.01668427884578705,-0.01313850749284029,-0.05351687967777252,0.0375145822763443,-0.0075011602602899075,0.08589334040880203,0.019523760303854942,-0.023466119542717934,-0.013822503387928009,0.0468113049864769,-0.02213198132812977,0.012840157374739647,0.018990520387887955,-0.022363731637597084,-0.0030142152681946754,-0.04509210214018822,-0.0040590581484138966,-0.009966710582375526,-0.04284925386309624,0.043121930211782455,0.0063881599344313145,-0.08150973170995712,0.031247425824403763,-0.014617610722780228,-0.028349244967103004,0.023015888407826424,0.000002496575234545162,-0.03149877488613129,-0.06650224328041077,0.012733874842524529,-0.008838746696710587,0.07049405574798584,0.018351996317505836,-0.03305874392390251,0.024619629606604576,0.020001748576760292,-0.014586013741791248,-0.009671716950833797,-0.07188647240400314,0.061640456318855286,-0.0019309220369905233,-0.0011421149829402566,-0.020358912646770477,-0.011528348550200462,-0.03255155310034752,-0.04991910234093666,-0.03580401465296745,-0.030296362936496735,0.022388538345694542,0.037443019449710846,0.08833670616149902,-0.07626330107450485,-0.0028748358599841595,0.026554957032203674,-0.03270517662167549,-0.014885682612657547,0.04824156314134598,0.03988172113895416,0.05876743048429489,-0.007693879771977663,-0.027003496885299683,0.018510108813643456,-0.011523311957716942,-0.01828012987971306,0.01160787045955658,-0.053735293447971344,-0.018598489463329315,-0.024174809455871582,-0.02556305192410946,-0.027244027704000473,-0.02038406766951084,0.03250932693481445,-0.03905271738767624,0.05845846235752106,-0.032130107283592224,0.029626963660120964,0.018285006284713745,-0.0033287550322711468,-0.02856961265206337,-0.02330518141388893,0.004369114991277456,-0.01902085728943348,-0.01759243756532669,-0.013790660537779331,0.022830450907349586,0.01762545108795166,-0.052728887647390366,0.006236290093511343,0.040392521768808365,-0.03743210807442665,0.05032314732670784,-0.0611720085144043,0.0621621273458004,0.01862727850675583,0.038576021790504456,0.008926047012209892,0.009284809231758118,0.028784507885575294,-0.05382980778813362,-0.04652046412229538,-0.05228578299283981,0.000030243829314713366,0.037799056619405746,-0.0072898585349321365,-0.02134338580071926,0.025705911219120026,-0.01958201825618744,-0.012285307981073856,0.009390242397785187,-0.02626914158463478,-0.020388297736644745,0.01320319902151823,0.050011634826660156,0.029611950740218163,0.014084169641137123,0.015373267233371735,0.03812975436449051,-0.00029227876802906394,-0.027278577908873558,-0.026890330016613007,-0.0018070703372359276,-0.03881850466132164,0.003650766797363758,-0.012206482701003551,0.0191851407289505,0.013762635178864002,0.046696316450834274,-0.044349316507577896,-0.0007152402540668845,0.047727469354867935,-0.07737208902835846,-0.011370650492608547,-0.014367915689945221,0.006157519295811653,-0.03132467716932297,0.006842448841780424,0.004922610241919756,-0.01700993813574314,-0.0028814885299652815,0.07715807855129242,0.004322201944887638,0.014342054724693298,0.008851364254951477,-0.028070056810975075,0.006372625008225441,0.018507780507206917,0.030236506834626198,0.0012922217138111591,0.053511954843997955,-0.03479817882180214,-0.011604898609220982,0.00588790699839592,0.016320141032338142,0.01776055060327053,0.008033394813537598,-0.0037159884814172983,-0.004541099537163973,0.008402910083532333,-0.08468686044216156,0.06031883880496025,-0.06764035671949387,-0.021419212222099304,-0.036509882658720016,-0.03239525482058525,-0.0008430710877291858,0.06657532602548599,0.005796114448457956,-0.01807921566069126,0.034806933254003525,-0.0368490070104599,-0.04860376566648483,0.023932231590151787,0.02189669758081436,-0.09834729880094528,0.06915135681629181,0.010807977989315987,0.13164706528186798,-0.0360737182199955,-0.03795227035880089,-0.009403098374605179,0.00012762125697918236,-0.02126600407063961,0.000917211058549583,0.021020252257585526,-0.04093785583972931,0.06781366467475891,-0.003571432316675782,0.05209524556994438,-0.013690193183720112,-0.07365479320287704,-0.0009128080564551055,-0.0066254278644919395,-0.03521052747964859,-0.009336999617516994,-0.0034512837883085012,0.053573910146951675,0.04035896062850952,-0.01873459853231907,-0.009160103276371956,0.02820977196097374,0.013812130317091942,0.00048218690790235996,0.013215581886470318,-0.03613937646150589,-0.04710208624601364,-0.003992067184299231,-0.008997702039778233,0.024747386574745178,0.04469260945916176,0.03157038241624832,-0.02978479117155075,-0.021673493087291718,-0.01290302537381649,0.0047324104234576225,0.008952784352004528,-0.00014716421719640493,0.11742493510246277,0.02880748175084591,0.0752638429403305,0.013843142427504063,0.03925131633877754,0.012970267795026302,0.005523099098354578,0.004678050521761179,0.04010142385959625,0.023523954674601555,-0.015238821506500244,-0.009700086899101734,0.03175721317529678,0.08994366973638535,-0.022356636822223663,0.03141462057828903,0.04435839131474495,-0.04465799778699875,0.00890534557402134,-0.02156318537890911,-0.04727428779006004,-0.016113094985485077,-0.03253435343503952,0.017982468008995056,-0.010694112628698349,-0.026772642508149147,0.008435417897999287,-0.033144161105155945,0.053280748426914215,0.015343207865953445,0.03159794956445694,-0.001369086909107864,-0.03821684792637825,-0.008844331838190556,-0.013762177899479866,0.0675218477845192,0.03504066914319992,-0.06403624266386032,-0.007965600118041039,-0.06861583888530731,-0.025267332792282104,0.013197200372815132,0.07540000230073929,-0.04272225871682167,0.034012772142887115,0.05380762368440628,-0.027134254574775696,0.03407379612326622,0.008185788057744503,-0.0032246802002191544,-0.042511235922575,0.012211709283292294,0.002619411563500762,0.05070574954152107,-0.05216148495674133,-0.004787623882293701,0.025344209745526314,-0.01922973245382309,0.015953050926327705,0.018001621589064598,-0.030747972428798676,-0.036856990307569504,0.030521927401423454,-0.054177410900592804,-0.01135945413261652,-0.038819316774606705,-0.005708928685635328,0.026497986167669296,-0.005956715438514948,0.02420882321894169,-0.024662557989358902,0.023494092747569084,0.022112049162387848,0.030233589932322502,-0.04128487408161163,-0.024102041497826576,0.008700800128281116,-0.017975637689232826,-0.05512726679444313,-0.0003735482750926167,0.00040339567931368947,0.08395442366600037,0.07579554617404938,0.01814357005059719,0.023161208257079124,0.03367568925023079,0.04208769649267197,-0.0028294562362134457,0.04017769545316696,-0.0327644981443882,0.01515931449830532,0.025218963623046875,0.019625838845968246,-0.0014813629677519202,-0.03903193026781082,0.0807282030582428,0.013742937706410885,-0.020659083500504494,-0.0062095061875879765,0.010352895595133305,-0.04339255020022392,-0.01738656498491764,-0.023737626150250435,-0.017164891585707664,-0.03569755330681801,0.026987722143530846,-0.0020795490127056837,-0.07827794551849365,0.027528176084160805,0.049033887684345245,0.06216363236308098,0.0032290355302393436,-0.03165998309850693,0.060688018798828125,0.00039582260069437325,-0.032029889523983,-0.007894237525761127,-0.011229909025132656,-0.04861360788345337,0.03320508077740669,0.03220686689019203,-0.017371101304888725,0.03188670426607132,0.014907462522387505,0.00434092478826642,-0.004144673701375723,0.02952839992940426,0.09169548749923706,-0.023650934919714928,-0.03928007185459137,0.01685553602874279,0.02230430580675602,-0.023274479433894157,-0.08101341128349304,-0.07719394564628601,0.015352916903793812,0.04068079963326454,0.0261595007032156,0.0020878706127405167,-0.016845975071191788,0.03332219272851944,0.025546666234731674,0.03251299262046814,0.01278696209192276,0.05511339753866196,0.0028075475711375475,-0.07196692377328873,0.00042293028673157096,0.005901206284761429,-0.0002437047369312495,0.0258150827139616,-0.011932062916457653,0.0156692024320364,0.04916387423872948,-0.0029928258154541254,0.02073965035378933,0.06251753121614456,-0.00604839576408267,0.09872499108314514,0.008654051460325718,0.10434851795434952,0.004818269517272711,-0.012798153795301914,-0.04369337111711502,-0.05260806530714035,0.016900718212127686,-0.011735465377569199,0.09522175788879395,0.035658735781908035,-0.08110683411359787,-0.013616074807941914,-0.017513969913125038,-0.035133328288793564,0.06971772760152817,0.005392592400312424,-0.017105795443058014,0.009610826149582863,0.03329811617732048,0.002037611324340105,-0.004763670731335878,0.04390369728207588,-0.08047664910554886,0.08951310813426971,0.04990803450345993,-0.012203706428408623,0.005359515082091093,-0.007464689202606678,-0.01887928694486618,-0.04311035946011543,-0.05403606593608856,0.03948787972331047,0.01580929197371006,0.009620191529393196,-0.007575855124741793,0.048312049359083176,0.04157910495996475,0.03192583844065666,0.00016948483244050294,0.03665847331285477,-0.006940323393791914,0.010620216839015484,-0.004146791994571686,-0.05818477272987366,-0.051628708839416504,-0.013642876408994198,-0.005715548060834408,-0.01284918375313282,0.02029818668961525,0.011322636157274246,0.042691171169281006,-0.03048754669725895,0.004738217685371637,0.050392426550388336,-0.02684485726058483,-0.0616784505546093,-0.03466232493519783,-0.03043842315673828,-0.0019054710865020752,0.04081174358725548,0.004847121890634298,-0.044472455978393555,-0.03768976032733917,-0.011058403179049492,-0.025279272347688675,-0.10674258321523666,0.02689925767481327,0.0035421918146312237,-0.04223080351948738,0.04071393981575966,0.051787666976451874,-0.0385705791413784,-0.048751119524240494,-0.05001804605126381,0.004305239766836166,-0.025348516181111336,0.007613695692270994,0.020355653017759323,0.019205309450626373,0.0011461017420515418,0.014479327946901321,0.04739293456077576,-0.05432642996311188,0.03604979068040848,-0.006458279211074114,-0.04711442068219185,-0.0375138483941555,0.07139080762863159,-0.005898439325392246,-0.003841595957055688,-0.05613184720277786,0.019716408103704453,0.02287626825273037,0.002408643951639533,0.029180634766817093,-0.024687103927135468,0.04453981667757034,0.019397256895899773,0.023796644061803818,0.054241716861724854,-0.021961066871881485,0.007869460619986057,0.03457805886864662,-0.046318892389535904,-0.030244460329413414,-0.042729273438453674,0.03372826799750328,0.018171418458223343,0.00861958134919405,-0.022866686806082726,0.046306904405355453,0.027439983561635017,0.011851660907268524,-0.031096909195184708,0.0044372063130140305,-0.07853579521179199,-0.02430868335068226,-0.028166422620415688,-0.006365129258483648,-0.03275898098945618,-0.0009152987622655928,0.022033272311091423,0.02324269339442253,0.021517891436815262,0.02428557723760605,0.0014355608727782965,-0.020137157291173935,-0.04178856313228607,-0.03026643395423889,0.004241475369781256,-0.018131641671061516,-0.017132317647337914,-0.0032790738623589277,-0.08267197757959366,-0.030070455744862556,0.026742082089185715,-0.056132763624191284,-0.015505323186516762,0.024140624329447746,-0.012942700646817684,-0.027305038645863533,0.0017672679387032986,-0.029959281906485558,0.01913042925298214,-0.010674645192921162,-0.02605404518544674,0.0372384637594223,0.021647291257977486,-0.034948237240314484,-0.00604634452611208,-0.001814190880395472,-0.045143455266952515,0.02801978960633278,0.0014540693955495954,-0.03615855798125267,-0.005859698634594679,-0.006644146982580423,-0.031038345769047737,0.03464173525571823,-0.0029365820810198784,-0.015099894255399704,-0.00019847780640702695,-0.04428941011428833,-0.027954280376434326,-0.004076814744621515,-0.004458459094166756,0.042833730578422546,-0.0022681737318634987,-0.058778177946805954,-0.0024478468112647533,-0.04095124453306198,-0.06848045438528061,-7.187572697730354e-33,0.015661392360925674,-0.010461652651429176,-0.0726998895406723,0.01272900216281414,0.04578407481312752,-0.013760736212134361,0.03942864015698433,-0.05023249238729477,-0.003955296706408262,-0.019746756181120872,-0.0326041616499424,0.006181608885526657,0.035236697643995285,-0.014844157733023167,0.019833557307720184,0.004866742063313723,0.01729477383196354,-0.014769265428185463,0.022644516080617905,0.028925780206918716,-0.0613875538110733,0.04002373665571213,0.008533141575753689,-0.03217034041881561,0.028240103274583817,-0.02213590405881405,-0.012695522047579288,0.027867887169122696,-0.047624822705984116,-0.011821928434073925,0.008707663044333458,-0.04198303446173668,-0.009389683604240417,-0.017897848039865494,-0.010866724886000156,-0.003279107855632901,-0.10405168682336807,0.03769819438457489,-0.003645674791187048,0.04328935965895653,0.059298623353242874,0.04919572174549103,0.05553082004189491,0.003744690213352442,-0.008906891569495201,0.009207328781485558,0.014503848738968372,-0.004466490354388952,0.016854044049978256,-0.0652855858206749,0.019154617562890053,-0.014052452519536018,0.001476282486692071,0.018842633813619614,0.028461802750825882,0.06697976589202881,0.011629637330770493,0.040694501250982285,-0.07953442633152008,-0.039413999766111374,0.009765755385160446,-0.0017180991126224399,0.0017797702457755804,0.023752011358737946,0.04886383190751076,-0.02942257560789585,0.046108752489089966,0.0013906450476497412,0.011170968413352966,-0.03298574313521385,-0.0361170768737793,0.0034873492550104856,0.024129262194037437,-0.04489351436495781,0.0806659683585167,0.04027286544442177,-0.02384333871304989,0.01053539291024208,0.006727540399879217,-0.03280475363135338,-0.03355040028691292,0.0227592084556818,-0.033938899636268616,0.009228801354765892,0.08599672466516495,-0.061728786677122116,-0.02017310820519924,-0.022726070135831833,0.01385307963937521,0.01722537912428379,-0.025091834366321564,0.01592034287750721,-0.06887919455766678,0.01834576576948166,-0.13245783746242523,-0.034851476550102234,0.0622137077152729,0.011636232025921345,0.0058739325031638145,-0.036170464009046555,0.02108190767467022,0.05065050721168518,-0.047371458262205124,0.036518290638923645,-0.01781523786485195,-0.03715619817376137,0.023005617782473564,-0.011196892708539963,-0.04175412282347679,0.034363970160484314,0.02153448760509491,0.012848851270973682,0.002473152242600918,0.07654810696840286,0.00824046041816473,0.006975201889872551,-0.005039145704358816,0.05868745222687721,0.012510654516518116,-0.07286442071199417,0.03521078824996948,-0.0033406629227101803,-0.05586353689432144,-0.03289378434419632,0.02452554553747177,0.001940775546245277,-0.004721188452094793,0.000024183753339457326,0.04112670570611954,-0.01888507604598999,-0.008420731872320175,0.03672122210264206,3.2942108418865246e-7,0.03964347019791603,-0.007405661977827549,-0.03158298134803772,0.049826815724372864,-0.003488796064630151,-0.013819161802530289,-0.05083388090133667,-0.015514371916651726,-0.005551319103688002,-0.05222570523619652,0.0701938048005104,-0.05337868258357048,0.03569350764155388,0.04196164757013321,-0.03739921376109123,-0.09276505559682846,-0.030683770775794983,-0.03265533968806267,-0.027248501777648926,-0.023906584829092026,-0.008909406140446663,0.02043418399989605,0.037062279880046844,0.003811909817159176,0.05251438170671463,0.01619429513812065,-0.03315766900777817,-0.021077005192637444,0.07461410015821457,-0.007272608112543821,0.042939458042383194,-0.03957388922572136,-0.027163011953234673,0.003916264045983553,-0.006780263036489487,0.03557092696428299,-0.009263552725315094,0.027451932430267334,0.012026806361973286,0.03568777069449425,0.024713635444641113,-0.059721074998378754,-0.006571303121745586,-0.07653013616800308,0.007857736200094223,-0.051266662776470184,0.009043901227414608,0.058640625327825546,-0.0628393217921257,0.04055728018283844,0.0016467826208099723,0.002367964945733547,-0.003611092222854495,-0.022002004086971283,-0.0025814766995608807,-0.018420452252030373,0.024543961510062218,0.07992386817932129,-0.0022525405511260033,0.02665197290480137,-0.028213731944561005,0.0218524020165205,-0.01139827724546194,0.07294648140668869,-0.02334591932594776,0.000432381231803447,-0.013969377614557743,3.7320524484304583e-34,0.02961358241736889,0.0038813850842416286,0.04382462427020073,0.024085940793156624,-0.019798999652266502,-0.008467484265565872,-0.029069453477859497,-0.006456746719777584,-0.016132058575749397,-0.0250563845038414,-0.06591968238353729]'
SET
  @TechnicalDesignVector_a4e52a40 = N'[0.001887436374090612,0.05842223018407822,-0.007950779050588608,-0.038106516003608704,0.016043493524193764,0.007477384060621262,0.017026850953698158,0.025430960580706596,-0.05464429035782814,-0.0038182251155376434,-0.04087982326745987,0.05918779969215393,0.025533946231007576,0.08325538039207458,0.02576056681573391,-0.007093443535268307,-0.017412729561328888,0.04889878258109093,-0.028615036979317665,-0.02232625149190426,0.0218837670981884,-0.036881525069475174,-0.0021336420904845,-0.03564240410923958,0.024962062016129494,-0.020908799022436142,-0.0496770404279232,0.03491572290658951,0.060210421681404114,-0.10125607252120972,0.009402425028383732,0.02434961125254631,-0.00959775410592556,-0.008335131220519543,0.0000022227720819500973,-0.04202297329902649,-0.03848067671060562,0.015387432649731636,-0.029356220737099648,0.03744763508439064,0.011927730403840542,-0.003245498053729534,0.03795286640524864,-0.005757410079240799,-0.020484935492277145,-0.06750687211751938,-0.07549066841602325,0.08012203127145767,0.012552528642117977,-0.012777769938111305,0.008730655536055565,-0.032047566026449203,0.00237694731913507,-0.03679952397942543,-0.012148127891123295,-0.024519700556993484,0.009965549223124981,0.05155648663640022,0.07403053343296051,-0.03504200652241707,-0.044931285083293915,0.004595765843987465,-0.0005752304568886757,-0.044024430215358734,0.05056527629494667,0.029380211606621742,0.08786994963884354,0.034087859094142914,0.00434598745778203,0.01512834057211876,0.05556587502360344,-0.027377331629395485,0.017517244443297386,-0.04394909366965294,-0.009024959988892078,-0.04460380971431732,-0.010125767439603806,-0.01409519836306572,-0.02609955705702305,0.035214342176914215,-0.009608209133148193,0.024577179923653603,-0.033444322645664215,0.03129476308822632,0.0108322249725461,0.02459983341395855,-0.014433463104069233,-0.028909362852573395,-0.004913963843137026,-0.03218550607562065,0.04915285483002663,-0.016995638608932495,0.017891768366098404,0.021455708891153336,-0.057883359491825104,0.007712430786341429,0.05105353891849518,-0.06320833414793015,0.038050081580877304,-0.030081475153565407,0.030850151553750038,0.046416159719228745,0.07799916714429855,-0.006978440098464489,0.04822108894586563,0.05921008810400963,-0.015761354938149452,0.0006974968127906322,-0.05453767254948616,0.011423138901591301,0.023432545363903046,0.014899876900017262,0.008990136906504631,0.042334482073783875,-0.016504032537341118,0.017148826271295547,-0.01645059511065483,-0.04035808891057968,-0.030006149783730507,0.034330014139413834,0.05907619744539261,-0.00004044890374643728,0.002078577410429716,0.02981269545853138,0.06175481900572777,-0.025712674483656883,-0.007297354284673929,-0.06890799105167389,-0.01445186510682106,0.0031359121203422546,-0.016304844990372658,-0.02407645806670189,0.02247900329530239,0.029060594737529755,-0.00015958027506712824,-0.03273116424679756,-0.010097918100655079,0.035853311419487,-0.03613800182938576,-0.0015813488280400634,0.00990937277674675,-0.0016003965865820646,-0.025966858491301537,0.031195566058158875,0.0030396266374737024,-0.011754943057894707,0.01444907858967781,0.06408409774303436,0.008983253501355648,0.03974137082695961,0.013310889713466167,-0.021747948601841927,0.051830846816301346,0.01399215217679739,-0.009461869485676289,0.018335968255996704,0.0759163647890091,-0.03344174474477768,0.01245209015905857,-0.017604723572731018,-0.008207350037992,0.02524533122777939,0.02238730527460575,0.009566566906869411,0.010308009572327137,0.03883793577551842,-0.10876093059778214,0.024977564811706543,-0.03265741840004921,-0.021896572783589363,-0.007800976280122995,-0.020651645958423615,-0.04133451357483864,0.07691788673400879,0.022097181528806686,-0.044282007962465286,0.0336616076529026,-0.03268371522426605,-0.08582993596792221,0.016337551176548004,0.001038526650518179,-0.04293406382203102,0.04736560583114624,-0.020440800115466118,0.11772496998310089,-0.05105198174715042,0.0138412369415164,-0.0018921872833743691,0.012347386218607426,-0.010814649984240532,0.017268192023038864,0.03523273393511772,0.0030579210724681616,0.03785743564367294,-0.033777400851249695,0.024455877020955086,-0.0337260402739048,-0.06814949214458466,0.01975286565721035,0.00790515635162592,-0.022590208798646927,-0.00760748703032732,0.012776373885571957,0.03322068974375725,0.03804909810423851,0.004090949427336454,-0.05210426449775696,0.01886395364999771,-0.007324465550482273,-0.03246908634901047,-0.03905004635453224,-0.0402725487947464,-0.04610101133584976,-0.0018607095116749406,-0.027283089235424995,0.03353589400649071,0.017127083614468575,0.030304577201604843,-0.03467211872339249,-0.016828147694468498,-0.025096215307712555,0.015922365710139275,-0.0078539177775383,0.018208488821983337,0.11190947145223618,0.04346907138824463,0.06602939963340759,-0.039149362593889236,0.0500207282602787,-0.027806520462036133,-0.015091446228325367,-0.027117779478430748,0.021726828068494797,0.05744204297661781,0.029286779463291168,-0.02045239880681038,-0.0007414944702759385,0.025646520778536797,-0.011379723437130451,0.017060527577996254,0.042754244059324265,-0.031690217554569244,-0.020551104098558426,-0.021753106266260147,-0.057990677654743195,-0.010637096129357815,-0.09750501066446304,0.009238976053893566,-0.02580472081899643,-0.018753811717033386,0.021913783624768257,-0.016268501058220863,0.045727673918008804,-0.020305806770920753,0.011225486174225807,-0.011942809447646141,0.013569377362728119,0.008884932845830917,-0.04960319399833679,0.07200732082128525,0.03186680004000664,-0.03363233059644699,-0.00834429357200861,-0.05548287183046341,0.002794371685013175,0.0015502739697694778,0.08303084969520569,-0.027501937001943588,0.0285558570176363,0.029777882620692253,-0.011803869158029556,0.030319539830088615,-0.03668004274368286,-0.009147937409579754,-0.031759265810251236,0.0020575125236064196,0.020953023806214333,0.0812949538230896,-0.04763374105095863,-0.03417500481009483,0.012079167179763317,0.0009926329366862774,0.02412390522658825,0.03560303896665573,-0.0201744195073843,-0.01402412261813879,0.027670476585626602,-0.06257471442222595,-0.02411954291164875,-0.06690996885299683,-0.009708380326628685,0.01884060725569725,0.00881027989089489,-0.015284188091754913,-0.029154088348150253,0.03038915805518627,0.020079847425222397,0.03996547684073448,-0.0401812419295311,-0.01138778030872345,0.011380274780094624,-0.010991116985678673,-0.05174941197037697,0.019424714148044586,-0.0025172445457428694,0.08576144278049469,0.024100596085190773,0.0476226881146431,0.0030042161233723164,0.04532988741993904,0.017302414402365685,0.018676502630114555,0.0393502414226532,-0.023855270817875862,0.016547879204154015,0.008813350461423397,0.05065908282995224,-0.034962013363838196,-0.03923666849732399,0.07432198524475098,0.000042071667849086225,-0.02655169367790222,0.00006606974784517661,0.01367103774100542,-0.05279763787984848,-0.037315573543310165,-0.01105005107820034,0.001662443857640028,-0.02643679641187191,0.03493189811706543,0.012721666134893894,-0.0867391973733902,0.009446232579648495,0.02169627882540226,0.0428474061191082,-0.01348570641130209,-0.019378945231437683,0.052104368805885315,-0.024036312475800514,-0.024583349004387856,0.0008818671340122819,-0.024591077119112015,-0.0516999177634716,0.05581779405474663,0.035941362380981445,-0.01798924431204796,0.05317196249961853,-0.003630675608292222,0.00023541779955849051,-0.009907783009111881,0.020634133368730545,0.07401736825704575,-0.019623583182692528,-0.017643800005316734,0.012365315109491348,0.023295173421502113,-0.01987834833562374,-0.018249252811074257,-0.042762789875268936,0.010741961188614368,0.030916035175323486,0.05165298655629158,0.04085860773921013,-0.015505975112318993,0.035458002239465714,0.024283595383167267,0.03622083738446236,-0.0012816917151212692,0.015791207551956177,-0.016710082069039345,-0.0843934491276741,-0.0004948334535583854,-0.011317460797727108,0.011528189294040203,-0.005093340761959553,-0.0471331886947155,0.02473398484289646,0.036329906433820724,0.0033939811401069164,-0.004519524984061718,0.056720487773418427,0.015348670072853565,0.11653370410203934,0.010693898424506187,0.09398338198661804,-0.009872417896986008,0.01390465535223484,-0.038397416472435,-0.048105426132678986,0.036367181688547134,0.0008549786289222538,0.04846593737602234,0.01231902465224266,-0.03575999289751053,-0.017118511721491814,0.02111116237938404,-0.02353578247129917,0.04945692420005798,0.044565483927726746,0.011240985244512558,-0.024597741663455963,0.08348891884088516,0.01427464559674263,0.02616918832063675,0.04856577515602112,-0.09122400730848312,0.08535756915807724,0.03246525675058365,0.007185225374996662,0.027182383462786674,0.01900365762412548,-0.01571808196604252,-0.05713057145476341,-0.06458469480276108,0.0015988819068297744,0.0021957638673484325,0.009121068753302097,-0.04870001599192619,0.030603541061282158,0.06056072935461998,0.00814440380781889,-0.009601502679288387,0.01999320276081562,-0.0008432701579295099,0.03433683514595032,-0.015478436835110188,-0.02891187183558941,-0.05795135721564293,-0.02415616251528263,-0.009283564053475857,-0.013411370106041431,0.018568290397524834,0.036289799958467484,0.036945752799510956,-0.0069139027036726475,0.007708999793976545,0.06414786726236343,-0.0033214823342859745,-0.06112923473119736,-0.036517247557640076,-0.02713705226778984,0.016013510525226593,0.07729489356279373,0.018352804705500603,-0.032864440232515335,-0.05586983636021614,-0.022865718230605125,0.01951005309820175,-0.07646466791629791,-0.00863545760512352,0.00019455498841125518,-0.03353814780712128,0.0009503604960627854,0.043521370738744736,-0.05775422602891922,-0.06434377282857895,-0.059735268354415894,0.04253866523504257,-0.03654395043849945,0.01632014475762844,0.006431260146200657,0.022312801331281662,0.001981997163966298,-0.012146051973104477,0.020070508122444153,-0.0490516796708107,0.011288000270724297,0.020087212324142456,-0.017890293151140213,-0.02834371104836464,0.03256647661328316,-0.010787704028189182,-0.006673416588455439,-0.03208930417895317,0.030801234766840935,0.011657564900815487,0.013071526773273945,-0.014525639824569225,-0.06287167966365814,0.012662920169532299,0.05562819167971611,0.050328247249126434,0.01987808384001255,-0.07240726798772812,0.01418503187596798,0.036478713154792786,-0.025216663256287575,-0.030438045039772987,-0.03405269607901573,0.012585806660354137,0.012549273669719696,0.013640361838042736,-0.038120001554489136,0.036271825432777405,0.05405164137482643,0.018100660294294357,-0.04811087250709534,0.00753453653305769,-0.0378057025372982,-0.06626365333795547,-0.024845745414495468,-0.00946977362036705,-0.020225876942276955,-0.027586203068494797,0.028417758643627167,0.0029421814251691103,0.009465535171329975,0.06128814071416855,0.010933664627373219,-0.02471091039478779,-0.031453583389520645,-0.01986020989716053,-0.025464974343776703,0.009090227074921131,-0.010469040833413601,-0.009105309844017029,-0.0855763852596283,0.00993271078914404,0.025835974141955376,-0.0203420240432024,0.01781489886343479,0.007958559319376945,-0.02239026129245758,-0.035337209701538086,0.004196777939796448,-0.00622808001935482,0.008345398120582104,0.016478609293699265,0.012204050086438656,0.04076261445879936,0.045452553778886795,-0.017378447577357292,0.009081455878913403,0.002270546741783619,-0.02607462741434574,0.024237068369984627,0.0054340367205441,-0.015268265269696712,0.0009405952296219766,0.005101832561194897,-0.04298967495560646,0.039178792387247086,-0.023033814504742622,-0.016388805583119392,0.00021703944366890937,-0.08397642523050308,0.0008711022674106061,-0.0352160818874836,0.006945410743355751,0.04869873449206352,0.003973893355578184,-0.07016169279813766,0.0013730594655498862,-0.04045068845152855,-0.04209211468696594,-6.716961330326744e-33,0.00008746875391807407,-0.013667093589901924,-0.04256172850728035,0.009187274612486362,0.005092713050544262,-0.06733733415603638,0.02864863909780979,-0.044521529227495193,-0.006382295861840248,-0.00255818129517138,-0.02077147364616394,-0.005584550090134144,0.017516158521175385,-0.013190376572310925,0.011476927436888218,-0.02266247756779194,0.016477392986416817,-0.012513939291238785,0.0038695356342941523,0.05153606832027435,-0.046732205897569656,0.04617521911859512,0.017708122730255127,-0.016077954322099686,-0.007878338918089867,-0.020980393514037132,-0.013722702860832214,0.027799084782600403,-0.10695956647396088,0.0007646784652024508,-0.010531667619943619,-0.07713663578033447,-0.007222927641123533,-0.06654933840036392,-0.012128951027989388,-0.025792455300688744,-0.09187512844800949,-0.009988056495785713,0.005229889880865812,0.04777398705482483,0.060402028262615204,0.03266740217804909,0.044141001999378204,0.012364125810563564,-0.014126766473054886,0.0020005684345960617,-0.019842224195599556,0.00803183764219284,-0.01956823654472828,-0.0977732315659523,0.01044866070151329,0.00947742722928524,0.010996682569384575,-0.00951825175434351,0.012297498062252998,0.029797105118632317,0.0319969467818737,0.06098845973610878,-0.07298741489648819,-0.00994147825986147,0.015162630006670952,-0.04062505438923836,0.02789188176393509,0.0337037555873394,0.059188440442085266,-0.019956272095441818,0.06956873834133148,-0.003663466079160571,-0.026051107794046402,-0.02342228963971138,-0.03414662182331085,-0.022370371967554092,0.008019110187888145,-0.06588681787252426,0.08762296289205551,0.04369395598769188,-0.022791700437664986,0.0012841203715652227,-0.03235127404332161,0.01885051280260086,-0.026293909177184105,0.026865998283028603,-0.030421176925301552,0.001377556356601417,0.021985193714499474,-0.05395817384123802,0.016165072098374367,-0.014898648485541344,0.0045677428133785725,0.0008809632854536176,-0.029991867020726204,0.027124419808387756,-0.07258505374193192,0.04476534575223923,-0.11573691666126251,-0.018749920651316643,0.06178842484951019,0.013991736806929111,-0.003594499547034502,-0.0026641609147191048,-0.011585943400859833,0.035731468349695206,-0.03558806702494621,-0.005852032452821732,-0.015357485972344875,-0.0026759461034089327,0.006602429319173098,0.01853610761463642,-0.04617762938141823,0.036895185708999634,0.028279177844524384,-0.010353991761803627,-0.0238131545484066,0.0924341008067131,0.009816843084990978,0.0017434953479096293,-0.007633713074028492,-0.013691582717001438,0.051535941660404205,-0.017818955704569817,0.015992091968655586,0.02645188756287098,-0.03472309932112694,-0.0065850852988660336,0.06175893917679787,0.017952002584934235,-0.02048507146537304,-0.019380252808332443,-0.0060730488039553165,0.009681540541350842,0.012096971273422241,0.06853993982076645,3.087791355937952e-7,-0.01140945591032505,-0.0009577329037711024,-0.04506761580705643,0.012743201106786728,0.006313959136605263,-0.009484212845563889,-0.06320109218358994,-0.03783007711172104,-0.004574373364448547,-0.08453165739774704,0.05682661011815071,-0.019284704700112343,0.030123615637421608,0.03010135516524315,-0.03402681648731232,-0.06778028607368469,-0.0021729895379394293,-0.030562005937099457,-0.023768939077854156,-0.030992306768894196,-0.00047896095202304423,0.02061561308801174,0.024927113205194473,0.01861121878027916,0.03273420408368111,0.012822371907532215,-0.020034736022353172,0.0075538791716098785,0.062053266912698746,-0.018376126885414124,0.08126360177993774,-0.02978537790477276,-0.03108510561287403,0.030247541144490242,0.017660127952694893,0.036208052188158035,-0.031836096197366714,-0.007526311557739973,0.021183965727686882,0.050316937267780304,0.03566708043217659,-0.03586559370160103,-0.010690958239138126,-0.06718259304761887,0.012448810040950775,-0.055154476314783096,-0.009149381890892982,0.0992022454738617,-0.04679353907704353,0.04526495188474655,-0.021991586312651634,0.026115018874406815,0.001694143982604146,-0.02282850630581379,-0.0006675212061963975,-0.008164528757333755,0.010104423388838768,0.036283787339925766,0.014897889457643032,0.01165864709764719,-0.014102046377956867,-0.02311335876584053,0.011185185983777046,0.04416799545288086,-0.009268982335925102,-0.011791237629950047,-0.046478670090436935,4.10757674618136e-34,0.05748271942138672,-0.04880314692854881,0.032263755798339844,0.007728544995188713,0.010884060524404049,-0.020831719040870667,-0.018429730087518692,-0.008488207124173641,0.025006452575325966,-0.06495458632707596,-0.052760299295186996]'
SET
  @HasCustomProps_a4e52a40 = 1
SET
  @HasCustomEvents_a4e52a40 = 1
SET
  @RequiresData_a4e52a40 = 1
SET
  @DependencyCount_a4e52a40 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_a4e52a40 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_a4e52a40 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_a4e52a40 = 0
SET
  @ID_a4e52a40 = '0A1F4AB3-9558-41AA-A6F0-E71BDD56B663'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_a4e52a40,
  @Name = @Name_a4e52a40,
  @Version = @Version_a4e52a40,
  @VersionSequence = @VersionSequence_a4e52a40,
  @Title = @Title_a4e52a40,
  @Description = @Description_a4e52a40,
  @Type = @Type_a4e52a40,
  @Status = @Status_a4e52a40,
  @DeveloperName = @DeveloperName_a4e52a40,
  @DeveloperEmail = @DeveloperEmail_a4e52a40,
  @DeveloperOrganization = @DeveloperOrganization_a4e52a40,
  @SourceRegistryID = @SourceRegistryID_a4e52a40,
  @ReplicatedAt = @ReplicatedAt_a4e52a40,
  @LastSyncedAt = @LastSyncedAt_a4e52a40,
  @Specification = @Specification_a4e52a40,
  @FunctionalRequirements = @FunctionalRequirements_a4e52a40,
  @TechnicalDesign = @TechnicalDesign_a4e52a40,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_a4e52a40,
  @TechnicalDesignVector = @TechnicalDesignVector_a4e52a40,
  @HasCustomProps = @HasCustomProps_a4e52a40,
  @HasCustomEvents = @HasCustomEvents_a4e52a40,
  @RequiresData = @RequiresData_a4e52a40,
  @DependencyCount = @DependencyCount_a4e52a40,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_a4e52a40,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_a4e52a40,
  @HasRequiredCustomProps = @HasRequiredCustomProps_a4e52a40,
  @ID = @ID_a4e52a40;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_86d88289 NVARCHAR(MAX),
@Name_86d88289 NVARCHAR(500),
@Version_86d88289 NVARCHAR(50),
@VersionSequence_86d88289 INT,
@Title_86d88289 NVARCHAR(1000),
@Description_86d88289 NVARCHAR(MAX),
@Type_86d88289 NVARCHAR(255),
@Status_86d88289 NVARCHAR(50),
@DeveloperName_86d88289 NVARCHAR(255),
@DeveloperEmail_86d88289 NVARCHAR(255),
@DeveloperOrganization_86d88289 NVARCHAR(255),
@SourceRegistryID_86d88289 UNIQUEIDENTIFIER,
@ReplicatedAt_86d88289 DATETIMEOFFSET,
@LastSyncedAt_86d88289 DATETIMEOFFSET,
@Specification_86d88289 NVARCHAR(MAX),
@FunctionalRequirements_86d88289 NVARCHAR(MAX),
@TechnicalDesign_86d88289 NVARCHAR(MAX),
@FunctionalRequirementsVector_86d88289 NVARCHAR(MAX),
@TechnicalDesignVector_86d88289 NVARCHAR(MAX),
@HasCustomProps_86d88289 BIT,
@HasCustomEvents_86d88289 BIT,
@RequiresData_86d88289 BIT,
@DependencyCount_86d88289 INT,
@TechnicalDesignVectorEmbeddingModelID_86d88289 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_86d88289 NVARCHAR(MAX),
@HasRequiredCustomProps_86d88289 BIT,
@ID_86d88289 UNIQUEIDENTIFIER
SET
  @Namespace_86d88289 = N'AI/Analytics'
SET
  @Name_86d88289 = N'AIModelAnalyticsDashboard'
SET
  @Version_86d88289 = N'1.0.0'
SET
  @VersionSequence_86d88289 = 1
SET
  @Title_86d88289 = N'AI Model Analytics Dashboard'
SET
  @Description_86d88289 = N'Multi-panel dashboard displaying AI model usage statistics, cost analysis, and usage trends. Shows KPI cards (total runs, total cost, average cost per run, most-used model), model distribution doughnut chart, vendor costs bar chart, daily usage trends line chart, and model performance summary statistics. Pure visualization component with no interactive drill-down.'
SET
  @Type_86d88289 = N'Dashboard'
SET
  @Status_86d88289 = N'Published'
SET
  @Specification_86d88289 = N'{"name":"AIModelAnalyticsDashboard","title":"AI Model Analytics Dashboard","type":"dashboard","namespace":"AI/Analytics","userExplanation":"Comprehensive dashboard showing AI model usage statistics, costs, and trends. Displays multiple charts including model distribution pie chart, cost analysis by vendor, and usage trends over time. Demonstrates coordinating multiple independent queries with Promise.all() for efficient parallel loading.","functionalRequirements":"## Business Objectives\n- Monitor AI model usage across the organization\n- Track costs by vendor and model type\n- Identify usage trends and patterns over time\n- Provide KPIs for total runs, total cost, and average cost per run\n- Support date range filtering for trend analysis\n\n## Functional Requirements\n- **Multi-Panel Dashboard**: Display 3-4 visualizations in cohesive layout (KPI cards, pie chart, bar chart, line chart)\n- **Model Usage Distribution**: Doughnut chart showing distribution of prompt runs by model\n- **Cost Analysis**: Bar chart showing total costs by AI vendor\n- **Usage Trends**: Line chart showing daily usage counts over selected time period\n- **KPI Cards**: Display total runs, total cost, average cost per run, and most-used model (4 cards in grid layout)\n- **Model Performance Summary**: Bottom panel showing total models used, average success rate across models, and total failures\n- **Dynamic Title**: Dashboard title shows vendor name when filtered (e.g., \"AI Model Analytics Dashboard - OpenAI\")\n- **Parallel Query Loading**: Load all 3 queries concurrently using Promise.all() for performance\n- **Date Range Filter**: Support filtering trends by date range (default: last 30 days)\n- **Vendor Filter**: Optional filter to show stats for specific AI vendor\n- **Loading States**: Show loading indicators during data fetch\n- **Empty States**: Handle cases with no data gracefully (per-chart empty states)\n- **No Drill-Down**: Pure visualization dashboard without interactive drill-down","description":"Multi-panel dashboard displaying AI model usage statistics, cost analysis, and usage trends. Shows KPI cards (total runs, total cost, average cost per run, most-used model), model distribution doughnut chart, vendor costs bar chart, daily usage trends line chart, and model performance summary statistics. Pure visualization component with no interactive drill-down.","dataRequirements":{"mode":"queries","queries":[{"name":"AI Model Analytics - Models","categoryPath":"Demo","description":"Model usage counts: GROUP BY ModelName with COUNT(*) from AI Prompt Runs. Returns model distribution for pie chart. **Result Order: RunCount DESC** - Most frequently used models first for usage ranking.","entityNames":["MJ: AI Prompt Runs","AI Models"],"fields":[{"name":"ModelName","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Name of the AI model"},{"name":"RunCount","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Total number of prompt runs for this model"},{"name":"SuccessCount","sequence":3,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Number of successful runs"},{"name":"FailureCount","sequence":4,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Number of failed runs"},{"name":"SuccessRate","sequence":5,"defaultInView":true,"type":"decimal(5,2)","allowsNull":true,"isPrimaryKey":false,"description":"Percentage of successful runs (0-100)"}],"parameters":[{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"},{"name":"VendorName","isRequired":false,"type":"string","sampleValue":"OpenAI","description":"Optional filter by AI vendor name"}]},{"name":"AI Model Analytics - Costs","categoryPath":"Demo","description":"Aggregates AI prompt run costs by vendor and optionally by model. Groups by VendorName with optional ModelName dimension when ModelName parameter provided. Calculates token usage totals (prompt, completion, combined) and estimated cost. Supports date range filtering (StartDate/EndDate) and vendor/model filtering. General-purpose query for cost analysis at vendor or vendor+model granularity. **Result Order: TotalTokens DESC** - Highest token usage first for cost prioritization.","entityNames":["MJ: AI Prompt Runs","AI Models","MJ: AI Vendors"],"fields":[{"name":"VendorName","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Name of the AI vendor"},{"name":"ModelName","sequence":2,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Name of the AI model (only included when ModelName parameter is provided)"},{"name":"RunCount","sequence":3,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Total number of prompt runs for this vendor/model"},{"name":"TotalInputTokens","sequence":4,"defaultInView":true,"type":"bigint","allowsNull":true,"isPrimaryKey":false,"description":"Sum of all input tokens used"},{"name":"TotalOutputTokens","sequence":5,"defaultInView":true,"type":"bigint","allowsNull":true,"isPrimaryKey":false,"description":"Sum of all output tokens used"},{"name":"TotalTokens","sequence":6,"defaultInView":true,"type":"bigint","allowsNull":true,"isPrimaryKey":false,"description":"Sum of input and output tokens"},{"name":"EstimatedCostUSD","sequence":7,"defaultInView":true,"type":"decimal(18,6)","allowsNull":true,"isPrimaryKey":false,"description":"Estimated cost in USD (simplified calculation: TotalTokens / 1M)"}],"parameters":[{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"},{"name":"VendorName","isRequired":false,"type":"string","sampleValue":"OpenAI","description":"Optional filter by AI vendor name"},{"name":"ModelName","isRequired":false,"type":"string","sampleValue":"gpt-4","description":"Optional filter by AI model name. When provided, adds ModelName to GROUP BY for vendor+model cost breakdown."}]},{"name":"AI Model Analytics - Trends","categoryPath":"Demo","description":"Time-based trends: Daily usage counts for configurable time period (default last 30 days). Returns date and count for line chart. **Result Order: Date ASC** - Chronological order for time-series trend visualization.","entityNames":["MJ: AI Prompt Runs"],"fields":[{"name":"Date","sequence":1,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date of prompt runs"},{"name":"RunCount","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Total number of runs on this date"},{"name":"SuccessCount","sequence":3,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Number of successful runs"},{"name":"FailureCount","sequence":4,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Number of failed runs"},{"name":"TotalInputTokens","sequence":5,"defaultInView":true,"type":"bigint","allowsNull":true,"isPrimaryKey":false,"description":"Sum of input tokens for the day"},{"name":"TotalOutputTokens","sequence":6,"defaultInView":true,"type":"bigint","allowsNull":true,"isPrimaryKey":false,"description":"Sum of output tokens for the day"},{"name":"AvgDurationSeconds","sequence":7,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Average duration of runs in seconds"}],"parameters":[{"name":"DaysBack","isRequired":false,"type":"number","sampleValue":"30","description":"Number of days to look back from today (default: 30)"},{"name":"VendorName","isRequired":false,"type":"string","sampleValue":"OpenAI","description":"Optional filter by AI vendor name"},{"name":"ModelName","isRequired":false,"type":"string","sampleValue":"gpt-4","description":"Optional filter by AI model name"}]}],"entities":[{"name":"MJ: AI Prompt Runs","description":"Core entity containing AI prompt execution records. All three queries aggregate and analyze data from this entity.","displayFields":["Model","Vendor","Success","RunAt","CompletedAt","TokensPrompt","TokensCompletion","TokensUsed"],"filterFields":["ModelID","RunAt","CompletedAt","Success"],"sortFields":["RunAt","CompletedAt"],"usageContext":"Main data source for all dashboard queries. Models query groups by ModelName, Costs query groups by VendorName and calculates token costs, Trends query groups by date for time-series analysis."},{"name":"AI Models","description":"Referenced entity providing model metadata (name, vendor, pricing). Joined in queries to get model names and vendor information.","displayFields":["Name","VendorName","MaxInputTokens","MaxOutputTokens"],"filterFields":["ID","VendorID"],"sortFields":["Name"],"usageContext":"Joined with AI Prompt Runs to provide ModelName view field used in grouping and display."},{"name":"MJ: AI Vendors","description":"Referenced entity providing vendor information for cost analysis and filtering.","displayFields":["Name","Description"],"filterFields":["ID","Name"],"sortFields":["Name"],"usageContext":"Joined with AI Models to provide VendorName view field for cost grouping and vendor filter parameter."}]},"properties":[{"name":"startDate","type":"string","required":false,"defaultValue":null,"description":"Optional start date filter in YYYY-MM-DD format"},{"name":"endDate","type":"string","required":false,"defaultValue":null,"description":"Optional end date filter in YYYY-MM-DD format"},{"name":"vendorName","type":"string","required":false,"defaultValue":null,"description":"Optional filter by AI vendor name"},{"name":"modelName","type":"string","required":false,"defaultValue":null,"description":"Optional filter by AI model name. When provided to Costs query, enables vendor+model cost breakdown."},{"name":"daysBack","type":"number","required":false,"defaultValue":30,"description":"Number of days to look back for trend analysis"}],"events":[{"name":"None","description":"This is a pure visualization dashboard component with no user interaction events. It displays data only and does not emit events or respond to clicks."}],"dependencies":[{"name":"SimpleChart","location":"registry","namespace":"Generic/UI/Chart","version":"^1.0.0"}],"location":"embedded","technicalDesign":"## Component Architecture\n\n### Data Flow\n1. **Parallel Query Loading**: Uses Promise.all() to execute all 3 queries concurrently for optimal performance\n2. **Models Query**: Aggregates prompt runs by ModelName with success/failure counts and rates\n3. **Costs Query**: Aggregates token usage and estimated costs by VendorName\n4. **Trends Query**: Groups prompt runs by date for time-series visualization\n5. **KPI Calculation**: Component computes summary metrics client-side from query results\n6. **Visualization**: Multiple SimpleChart instances render data in different chart types\n\n### State Management\n- `modelsData`: Array of model usage statistics (from Models query)\n- `costsData`: Array of vendor cost data (from Costs query)\n- `trendsData`: Array of daily usage counts (from Trends query)\n- `loading`: Boolean for initial load state (all queries loading)\n- `errors`: Object with per-query error states (models, costs, trends, general)\n\n### Multi-Query Pattern\n**Parallel Loading Strategy**:\n- All 3 queries execute simultaneously using Promise.all()\n- Independent error handling per query (one failure doesn''t block others)\n- Component displays available data even if some queries fail\n- No dependencies between queries (truly parallel execution)\n\n### KPI Calculation\n**Client-Side Aggregation**:\n- `totalRuns`: Sum of RunCount from modelsData\n- `totalCost`: Sum of EstimatedCostUSD from costsData\n- `avgCostPerRun`: totalCost / totalRuns\n- `mostUsedModel`: Model with highest RunCount from modelsData\n\n### Error Handling Strategy\n- **Per-Chart Errors**: Each chart section can fail independently\n- **Graceful Degradation**: Shows available charts even if others fail\n- **Empty States**: Handles no-data gracefully for each chart\n- **General Error**: Catches Promise.all() failures that affect all queries\n\n### Chart Configuration\n**Model Usage Distribution** (Doughnut Chart):\n- Data: modelsData grouped by ModelName\n- Value: RunCount (sum aggregation)\n- Shows relative distribution of model usage\n\n**Cost by Vendor** (Bar Chart):\n- Data: costsData grouped by VendorName\n- Value: EstimatedCostUSD (sum aggregation)\n- Horizontal bars for vendor cost comparison\n\n**Usage Trends** (Line Chart):\n- Data: trendsData grouped by Date\n- Value: RunCount (sum aggregation)\n- Time-series showing usage over time\n- Note: sortBy=undefined to preserve query''s natural date ordering\n\n### Date Filter Handling\n- `startDate`/`endDate`: Applied to Models and Costs queries\n- `daysBack`: Applied to Trends query (different parameter for time-series)\n- `vendorName`: Applied to all 3 queries for consistent filtering\n- Filters controlled externally via props (no internal UI)\n\n### UI Layout Architecture\n**Grid Layout Specifications**:\n- **KPI Cards Section**: 4-column grid (`gridTemplateColumns: ''repeat(4, 1fr)''`), 16px gap\n  - Each card: gray background (#f5f5f5), 20px padding, 8px border-radius, center-aligned\n  - Card metrics: Total Runs (blue), Total Cost (green), Avg Cost Per Run (orange), Most Used Model (purple)\n- **Charts Section**: 2-column grid (`gridTemplateColumns: ''repeat(2, 1fr)''`), 24px gap\n  - Model Usage Distribution (left): Doughnut chart with legend\n  - Cost by Vendor (right): Bar chart without legend\n- **Trends Section**: Full-width line chart below charts grid\n- **Model Performance Summary**: Conditional bottom panel (only when modelsData exists)\n  - 3-column grid showing: Total Models Used, Avg Success Rate, Total Failures\n  - Light gray background (#f9f9f9) with statistics in 3-column layout\n\n### Dynamic UI Features\n- **Dashboard Title**: Appends vendor name when filtered: `\"AI Model Analytics Dashboard$' + '{vendorName && ` - $' + '{vendorName}`}\"`\n- **Conditional Rendering**: Model Performance Summary only displays when `modelsData && modelsData.length > 0`\n- **Per-Chart Error States**: Each chart section independently handles and displays errors\n- **Per-Chart Empty States**: Each visualization shows \"No data available\" message when its query returns no results\n\n### Model Performance Summary Calculations\n**Client-Side Metrics** (lines 359-398):\n- **Total Models Used**: `modelsData.length`\n- **Avg Success Rate**: `(modelsData.reduce((sum, row) => sum + (row.SuccessRate || 0), 0) / modelsData.length).toFixed(1)`\n- **Total Failures**: `modelsData.reduce((sum, row) => sum + (row.FailureCount || 0), 0).toLocaleString()`\n\n### Educational Value\nDemonstrates:\n1. **Multi-Query Coordination**: Parallel loading with Promise.all()\n2. **Independent Error Handling**: Per-query error states\n3. **Client-Side KPIs**: Aggregating across query results\n4. **Dashboard Layout**: Multi-panel visualization with KPI cards and CSS Grid\n5. **Pure Visualization**: No drill-down, just display\n6. **Graceful Degradation**: Show what works even if some fails\n7. **Conditional UI Elements**: Dynamic title and conditional summary panel","code":"function AIModelAnalyticsDashboard({\n  utilities,\n  styles,\n  components,\n  startDate = null,\n  endDate = null,\n  vendorName = null,\n  modelName = null,\n  daysBack = 30\n}) {\n  // State management\n  const [modelsData, setModelsData] = useState(null);\n  const [costsData, setCostsData] = useState(null);\n  const [trendsData, setTrendsData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [errors, setErrors] = useState({});\n\n  // Get SimpleChart component from registry\n  const { SimpleChart } = components;\n\n  // Load all data on mount or when parameters change\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      setErrors({});\n\n      try {\n        // Execute all 3 queries in parallel using Promise.all for efficiency\n        const [modelsResult, costsResult, trendsResult] = await Promise.all([\n          utilities.rq.RunQuery({\n            QueryName: ''AI Model Analytics - Models'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              StartDate: startDate,\n              EndDate: endDate,\n              VendorName: vendorName\n            }\n          }),\n          utilities.rq.RunQuery({\n            QueryName: ''AI Model Analytics - Costs'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              StartDate: startDate,\n              EndDate: endDate,\n              VendorName: vendorName,\n              ModelName: modelName\n            }\n          }),\n          utilities.rq.RunQuery({\n            QueryName: ''AI Model Analytics - Trends'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              DaysBack: daysBack,\n              VendorName: vendorName,\n              ModelName: null\n            }\n          })\n        ]);\n\n        // Handle models query result\n        if (modelsResult && modelsResult.Success && modelsResult.Results) {\n          setModelsData(modelsResult.Results);\n        } else {\n          setErrors(prev => ({\n            ...prev,\n            models: modelsResult?.ErrorMessage || ''Failed to load model usage data''\n          }));\n        }\n\n        // Handle costs query result\n        if (costsResult && costsResult.Success && costsResult.Results) {\n          setCostsData(costsResult.Results);\n        } else {\n          setErrors(prev => ({\n            ...prev,\n            costs: costsResult?.ErrorMessage || ''Failed to load cost data''\n          }));\n        }\n\n        // Handle trends query result\n        if (trendsResult && trendsResult.Success && trendsResult.Results) {\n          setTrendsData(trendsResult.Results);\n        } else {\n          setErrors(prev => ({\n            ...prev,\n            trends: trendsResult?.ErrorMessage || ''Failed to load trend data''\n          }));\n        }\n      } catch (err) {\n        console.error(''Error loading AI model analytics:'', err);\n        setErrors({ general: err.message || ''An unexpected error occurred'' });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [startDate, endDate, vendorName, modelName, daysBack]);\n\n  // Calculate KPI metrics\n  const calculateKPIs = () => {\n    const kpis = {\n      totalRuns: 0,\n      totalCost: 0,\n      avgCostPerRun: 0,\n      mostUsedModel: ''N/A''\n    };\n\n    // Calculate total runs from models data\n    if (modelsData && modelsData.length > 0) {\n      kpis.totalRuns = modelsData.reduce((sum, row) => sum + (row.RunCount || 0), 0);\n\n      // Find most used model\n      const topModel = modelsData.reduce((max, row) =>\n        (row.RunCount || 0) > (max.RunCount || 0) ? row : max\n      , modelsData[0]);\n      kpis.mostUsedModel = topModel.ModelName || ''N/A'';\n    }\n\n    // Calculate total cost from costs data\n    if (costsData && costsData.length > 0) {\n      kpis.totalCost = costsData.reduce((sum, row) => sum + (row.EstimatedCostUSD || 0), 0);\n    }\n\n    // Calculate average cost per run\n    if (kpis.totalRuns > 0 && kpis.totalCost > 0) {\n      kpis.avgCostPerRun = kpis.totalCost / kpis.totalRuns;\n    }\n\n    return kpis;\n  };\n\n  // Loading state\n  if (loading) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n        <div>Loading AI model analytics...</div>\n      </div>\n    );\n  }\n\n  // General error state\n  if (errors.general) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n        <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n        <div style={{ marginTop: ''8px'' }}>{errors.general}</div>\n      </div>\n    );\n  }\n\n  // Empty state - no data at all\n  if (!modelsData && !costsData && !trendsData) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n        <div style={{ fontSize: ''16px'' }}>No Data Available</div>\n        <div style={{ marginTop: ''8px'' }}>\n          No AI model usage data found for the specified criteria\n        </div>\n      </div>\n    );\n  }\n\n  const kpis = calculateKPIs();\n\n  return (\n    <div style={{ padding: ''16px'', width: ''100%'', minWidth: ''800px'', boxSizing: ''border-box'' }}>\n      {/* Dashboard Title */}\n      <div style={{\n        fontSize: ''20px'',\n        fontWeight: ''bold'',\n        marginBottom: ''24px''\n      }}>\n        AI Model Analytics Dashboard\n        {vendorName && ` - $' + '{vendorName}`}\n      </div>\n\n      {/* KPI Cards */}\n      <div style={{\n        display: ''grid'',\n        gridTemplateColumns: ''repeat(4, 1fr)'',\n        gap: ''16px'',\n        marginBottom: ''32px''\n      }}>\n        <div style={{\n          padding: ''20px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''8px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''14px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Runs\n          </div>\n          <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: ''#1890ff'' }}>\n            {kpis.totalRuns?.toLocaleString() ?? ''0''}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''20px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''8px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''14px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Total Cost\n          </div>\n          <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: ''#52c41a'' }}>\n            $' + '{kpis.totalCost?.toLocaleString(''en-US'', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) ?? ''0.00''}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''20px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''8px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''14px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Avg Cost Per Run\n          </div>\n          <div style={{ fontSize: ''32px'', fontWeight: ''bold'', color: ''#fa8c16'' }}>\n            $' + '{kpis.avgCostPerRun?.toLocaleString(''en-US'', { minimumFractionDigits: 4, maximumFractionDigits: 4 }) ?? ''0.0000''}\n          </div>\n        </div>\n\n        <div style={{\n          padding: ''20px'',\n          backgroundColor: ''#f5f5f5'',\n          borderRadius: ''8px'',\n          textAlign: ''center''\n        }}>\n          <div style={{ fontSize: ''14px'', color: ''#8c8c8c'', marginBottom: ''8px'' }}>\n            Most Used Model\n          </div>\n          <div style={{\n            fontSize: ''20px'',\n            fontWeight: ''bold'',\n            color: ''#722ed1'',\n            overflow: ''hidden'',\n            textOverflow: ''ellipsis'',\n            whiteSpace: ''nowrap'',\n            paddingTop: ''6px''\n          }}>\n            {kpis.mostUsedModel}\n          </div>\n        </div>\n      </div>\n\n      {/* Charts Grid */}\n      <div style={{\n        display: ''grid'',\n        gridTemplateColumns: ''repeat(2, 1fr)'',\n        gap: ''24px'',\n        marginBottom: ''24px''\n      }}>\n        {/* Model Usage Distribution Chart */}\n        <div style={{\n          backgroundColor: ''#ffffff'',\n          padding: ''20px'',\n          borderRadius: ''8px'',\n          border: ''1px solid #e8e8e8''\n        }}>\n          {errors.models ? (\n            <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n              <div style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>Error Loading Model Data</div>\n              <div style={{ marginTop: ''8px'', fontSize: ''12px'' }}>{errors.models}</div>\n            </div>\n          ) : modelsData && modelsData.length > 0 ? (\n            <SimpleChart\n              entityName=\"MJ: AI Prompt Runs\"\n              data={modelsData}\n              chartType=\"doughnut\"\n              groupBy=\"ModelName\"\n              valueField=\"RunCount\"\n              aggregateMethod=\"sum\"\n              title=\"Model Usage Distribution\"\n              showLegend={true}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n            />\n          ) : (\n            <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n              <div style={{ fontSize: ''14px'' }}>No model usage data available</div>\n            </div>\n          )}\n        </div>\n\n        {/* Cost by Vendor Chart */}\n        <div style={{\n          backgroundColor: ''#ffffff'',\n          padding: ''20px'',\n          borderRadius: ''8px'',\n          border: ''1px solid #e8e8e8''\n        }}>\n          {errors.costs ? (\n            <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n              <div style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>Error Loading Cost Data</div>\n              <div style={{ marginTop: ''8px'', fontSize: ''12px'' }}>{errors.costs}</div>\n            </div>\n          ) : costsData && costsData.length > 0 ? (\n            <SimpleChart\n              entityName=\"MJ: AI Prompt Runs\"\n              data={costsData}\n              chartType=\"bar\"\n              groupBy=\"VendorName\"\n              valueField=\"EstimatedCostUSD\"\n              aggregateMethod=\"sum\"\n              title=\"Cost by Vendor\"\n              showLegend={false}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n            />\n          ) : (\n            <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n              <div style={{ fontSize: ''14px'' }}>No cost data available</div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Usage Trends Chart - Full Width */}\n      <div style={{\n        backgroundColor: ''#ffffff'',\n        padding: ''20px'',\n        borderRadius: ''8px'',\n        border: ''1px solid #e8e8e8''\n      }}>\n        {errors.trends ? (\n          <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n            <div style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>Error Loading Trend Data</div>\n            <div style={{ marginTop: ''8px'', fontSize: ''12px'' }}>{errors.trends}</div>\n          </div>\n        ) : trendsData && trendsData.length > 0 ? (\n          <SimpleChart\n            entityName=\"MJ: AI Prompt Runs\"\n            data={trendsData}\n            chartType=\"line\"\n            groupBy=\"Date\"\n            valueField=\"RunCount\"\n            aggregateMethod=\"sum\"\n            sortBy={undefined}\n            title={`Usage Trends (Last $' + '{daysBack} Days)`}\n            showLegend={false}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n          />\n        ) : (\n          <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n            <div style={{ fontSize: ''14px'' }}>No trend data available</div>\n          </div>\n        )}\n      </div>\n\n      {/* Additional Statistics */}\n      {modelsData && modelsData.length > 0 && (\n        <div style={{\n          marginTop: ''24px'',\n          padding: ''16px'',\n          backgroundColor: ''#f9f9f9'',\n          borderRadius: ''8px'',\n          border: ''1px solid #e8e8e8''\n        }}>\n          <div style={{\n            fontSize: ''14px'',\n            fontWeight: ''bold'',\n            marginBottom: ''12px'',\n            color: ''#595959''\n          }}>\n            Model Performance Summary\n          </div>\n          <div style={{\n            display: ''grid'',\n            gridTemplateColumns: ''repeat(3, 1fr)'',\n            gap: ''16px''\n          }}>\n            <div>\n              <span style={{ fontSize: ''12px'', color: ''#8c8c8c'' }}>Total Models Used: </span>\n              <span style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>{modelsData.length}</span>\n            </div>\n            <div>\n              <span style={{ fontSize: ''12px'', color: ''#8c8c8c'' }}>Avg Success Rate: </span>\n              <span style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>\n                {(modelsData.reduce((sum, row) => sum + (row.SuccessRate || 0), 0) / modelsData.length).toFixed(1)}%\n              </span>\n            </div>\n            <div>\n              <span style={{ fontSize: ''12px'', color: ''#8c8c8c'' }}>Total Failures: </span>\n              <span style={{ fontSize: ''14px'', fontWeight: ''bold'' }}>\n                {modelsData.reduce((sum, row) => sum + (row.FailureCount || 0), 0).toLocaleString()}\n              </span>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage (last 30 days, all vendors)\n<AIModelAnalyticsDashboard\n  utilities={utilities}\n  styles={styles}\n  components={components}\n/>\n\n// Last 60 days\n<AIModelAnalyticsDashboard\n  daysBack={60}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n/>\n\n// Filter by specific vendor\n<AIModelAnalyticsDashboard\n  vendorName=\"OpenAI\"\n  daysBack={30}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n/>\n\n// Custom date range for models and costs\n<AIModelAnalyticsDashboard\n  startDate=\"2024-01-01\"\n  endDate=\"2024-12-31\"\n  daysBack={365}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n/>\n\n// Specific vendor and date range\n<AIModelAnalyticsDashboard\n  vendorName=\"Anthropic\"\n  startDate=\"2024-06-01\"\n  endDate=\"2024-06-30\"\n  daysBack={30}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n/>"}'
SET
  @FunctionalRequirements_86d88289 = N'## Business Objectives
- Monitor AI model usage across the organization
- Track costs by vendor and model type
- Identify usage trends and patterns over time
- Provide KPIs for total runs, total cost, and average cost per run
- Support date range filtering for trend analysis

## Functional Requirements
- **Multi-Panel Dashboard**: Display 3-4 visualizations in cohesive layout (KPI cards, pie chart, bar chart, line chart)
- **Model Usage Distribution**: Doughnut chart showing distribution of prompt runs by model
- **Cost Analysis**: Bar chart showing total costs by AI vendor
- **Usage Trends**: Line chart showing daily usage counts over selected time period
- **KPI Cards**: Display total runs, total cost, average cost per run, and most-used model (4 cards in grid layout)
- **Model Performance Summary**: Bottom panel showing total models used, average success rate across models, and total failures
- **Dynamic Title**: Dashboard title shows vendor name when filtered (e.g., "AI Model Analytics Dashboard - OpenAI")
- **Parallel Query Loading**: Load all 3 queries concurrently using Promise.all() for performance
- **Date Range Filter**: Support filtering trends by date range (default: last 30 days)
- **Vendor Filter**: Optional filter to show stats for specific AI vendor
- **Loading States**: Show loading indicators during data fetch
- **Empty States**: Handle cases with no data gracefully (per-chart empty states)
- **No Drill-Down**: Pure visualization dashboard without interactive drill-down'
SET
  @TechnicalDesign_86d88289 = N'## Component Architecture

### Data Flow
1. **Parallel Query Loading**: Uses Promise.all() to execute all 3 queries concurrently for optimal performance
2. **Models Query**: Aggregates prompt runs by ModelName with success/failure counts and rates
3. **Costs Query**: Aggregates token usage and estimated costs by VendorName
4. **Trends Query**: Groups prompt runs by date for time-series visualization
5. **KPI Calculation**: Component computes summary metrics client-side from query results
6. **Visualization**: Multiple SimpleChart instances render data in different chart types

### State Management
- `modelsData`: Array of model usage statistics (from Models query)
- `costsData`: Array of vendor cost data (from Costs query)
- `trendsData`: Array of daily usage counts (from Trends query)
- `loading`: Boolean for initial load state (all queries loading)
- `errors`: Object with per-query error states (models, costs, trends, general)

### Multi-Query Pattern
**Parallel Loading Strategy**:
- All 3 queries execute simultaneously using Promise.all()
- Independent error handling per query (one failure doesn''t block others)
- Component displays available data even if some queries fail
- No dependencies between queries (truly parallel execution)

### KPI Calculation
**Client-Side Aggregation**:
- `totalRuns`: Sum of RunCount from modelsData
- `totalCost`: Sum of EstimatedCostUSD from costsData
- `avgCostPerRun`: totalCost / totalRuns
- `mostUsedModel`: Model with highest RunCount from modelsData

### Error Handling Strategy
- **Per-Chart Errors**: Each chart section can fail independently
- **Graceful Degradation**: Shows available charts even if others fail
- **Empty States**: Handles no-data gracefully for each chart
- **General Error**: Catches Promise.all() failures that affect all queries

### Chart Configuration
**Model Usage Distribution** (Doughnut Chart):
- Data: modelsData grouped by ModelName
- Value: RunCount (sum aggregation)
- Shows relative distribution of model usage

**Cost by Vendor** (Bar Chart):
- Data: costsData grouped by VendorName
- Value: EstimatedCostUSD (sum aggregation)
- Horizontal bars for vendor cost comparison

**Usage Trends** (Line Chart):
- Data: trendsData grouped by Date
- Value: RunCount (sum aggregation)
- Time-series showing usage over time
- Note: sortBy=undefined to preserve query''s natural date ordering

### Date Filter Handling
- `startDate`/`endDate`: Applied to Models and Costs queries
- `daysBack`: Applied to Trends query (different parameter for time-series)
- `vendorName`: Applied to all 3 queries for consistent filtering
- Filters controlled externally via props (no internal UI)

### UI Layout Architecture
**Grid Layout Specifications**:
- **KPI Cards Section**: 4-column grid (`gridTemplateColumns: ''repeat(4, 1fr)''`), 16px gap
  - Each card: gray background (#f5f5f5), 20px padding, 8px border-radius, center-aligned
  - Card metrics: Total Runs (blue), Total Cost (green), Avg Cost Per Run (orange), Most Used Model (purple)
- **Charts Section**: 2-column grid (`gridTemplateColumns: ''repeat(2, 1fr)''`), 24px gap
  - Model Usage Distribution (left): Doughnut chart with legend
  - Cost by Vendor (right): Bar chart without legend
- **Trends Section**: Full-width line chart below charts grid
- **Model Performance Summary**: Conditional bottom panel (only when modelsData exists)
  - 3-column grid showing: Total Models Used, Avg Success Rate, Total Failures
  - Light gray background (#f9f9f9) with statistics in 3-column layout

### Dynamic UI Features
- **Dashboard Title**: Appends vendor name when filtered: `"AI Model Analytics Dashboard$' + '{vendorName && ` - $' + '{vendorName}`}"`
- **Conditional Rendering**: Model Performance Summary only displays when `modelsData && modelsData.length > 0`
- **Per-Chart Error States**: Each chart section independently handles and displays errors
- **Per-Chart Empty States**: Each visualization shows "No data available" message when its query returns no results

### Model Performance Summary Calculations
**Client-Side Metrics** (lines 359-398):
- **Total Models Used**: `modelsData.length`
- **Avg Success Rate**: `(modelsData.reduce((sum, row) => sum + (row.SuccessRate || 0), 0) / modelsData.length).toFixed(1)`
- **Total Failures**: `modelsData.reduce((sum, row) => sum + (row.FailureCount || 0), 0).toLocaleString()`

### Educational Value
Demonstrates:
1. **Multi-Query Coordination**: Parallel loading with Promise.all()
2. **Independent Error Handling**: Per-query error states
3. **Client-Side KPIs**: Aggregating across query results
4. **Dashboard Layout**: Multi-panel visualization with KPI cards and CSS Grid
5. **Pure Visualization**: No drill-down, just display
6. **Graceful Degradation**: Show what works even if some fails
7. **Conditional UI Elements**: Dynamic title and conditional summary panel'
SET
  @FunctionalRequirementsVector_86d88289 = N'[-0.017108574509620667,0.08169017732143402,-0.045120418071746826,-0.03121255896985531,0.025329381227493286,0.00024053223023656756,0.04013548791408539,-0.01015153806656599,-0.0009713703184388578,0.014774414710700512,-0.019759200513362885,0.058369193226099014,0.01521325670182705,0.15871690213680267,-0.027548667043447495,-0.0391855388879776,0.006054614670574665,0.020767604932188988,0.03574143722653389,0.02197345346212387,0.0017237078864127398,-0.010442687198519707,0.011933301575481892,0.04247404634952545,-0.02969197742640972,-0.04918669909238815,-0.03130701184272766,-0.037872638553380966,-0.012694727629423141,-0.06459233909845352,0.013084201142191887,-0.025054220110177994,-0.02073468081653118,0.061389945447444916,0.0000026599998363963095,-0.031494274735450745,-0.03202411159873009,0.026911336928606033,-0.02555038407444954,0.05135870724916458,0.09714777022600174,0.008754975162446499,0.0491371676325798,0.03531064838171005,0.01630067639052868,0.012427043169736862,-0.0025941610801965,0.008965177461504936,0.013305696658790112,-0.050798624753952026,0.00805167481303215,0.009364116005599499,-0.03508088365197182,-0.028564568608999252,-0.09098929911851883,-0.07424100488424301,0.005946749821305275,0.01692855916917324,0.05125167593359947,-0.07512862980365753,0.010889911092817783,0.04288565367460251,0.03425199165940285,-0.018225032836198807,0.07087018340826035,0.030530385673046112,0.08368631452322006,-0.03597226366400719,-0.031201165169477463,-0.016302160918712616,0.06004523113369942,-0.0050903805531561375,-0.020677391439676285,-0.008598021231591702,-0.0468914732336998,-0.03257348760962486,-0.04483586177229881,-0.0002813204482663423,0.040112655609846115,-0.0052461158484220505,0.0015638872282579541,0.03364069387316704,-0.041191793978214264,0.015392868779599667,-0.05127193033695221,-0.03123643808066845,-0.015907835215330124,-0.01834104210138321,0.006879902444779873,-0.020854700356721878,0.014971899800002575,-0.034719280898571014,0.004647362045943737,-0.0016060107154771686,-0.06287930905818939,-0.007650567218661308,0.03046477772295475,-0.05214068293571472,0.04131798446178436,-0.043936535716056824,0.0779271200299263,-0.007630245294421911,0.018243251368403435,0.04474274069070816,0.06710294634103775,0.04369141161441803,-0.025421570986509323,-0.02366933412849903,-0.000022820093363407068,0.025622712448239326,0.0026612277142703533,-0.014866365119814873,0.003951241262257099,0.047232404351234436,0.0020551003981381655,-0.04032909497618675,-0.04690894857048988,0.03216978907585144,-0.037469565868377686,0.02478707768023014,0.039768036454916,0.004370206966996193,0.03629913553595543,0.06548631936311722,-0.004833147395402193,0.049446552991867065,-0.051525384187698364,0.014523777179419994,-0.005276464391499758,-0.05175352469086647,-0.02148464135825634,0.0018007943872362375,-0.012316304259002209,0.009106471203267574,0.015681689605116844,-0.0023214577231556177,0.06597927957773209,0.015062924474477768,-0.08525388687849045,-0.04070518538355827,0.040995143353939056,-0.039772260934114456,-0.08305459469556808,0.04540537670254707,0.0011410266160964966,-0.02578369341790676,0.006214619148522615,0.04253820702433586,-0.014166722074151039,-0.0029179533012211323,-0.000451533094746992,-0.0456002876162529,-0.034320440143346786,0.03633163496851921,0.023024385794997215,-0.0016210225876420736,0.04053906351327896,0.061937615275382996,0.03128441423177719,-0.008813081309199333,0.01637183502316475,0.016801677644252777,-0.0010729233035817742,-0.0008160590659826994,0.01926526613533497,0.028800010681152344,-0.0581623911857605,0.01691163145005703,-0.0728207677602768,-0.010290266945958138,-0.03939145803451538,-0.03428250178694725,0.00984902586787939,0.033390384167432785,-0.006168392952531576,-0.0023453920148313046,0.039924610406160355,-0.03788797929883003,-0.0022149679716676474,-0.016625629737973213,0.03467449173331261,-0.09856980293989182,0.03354629874229431,0.021291477605700493,0.008193686604499817,-0.007041764911264181,-0.03223384544253349,0.054471369832754135,-0.024851851165294647,-0.04301478713750839,0.004235772881656885,-0.031061334535479546,-0.11148609220981598,-0.00962947029620409,0.058192916214466095,0.020195558667182922,-0.00003893085886375047,-0.09624259918928146,0.005846131592988968,-0.05427679792046547,-0.049464695155620575,-0.05745396018028259,0.05392807349562645,0.02609081007540226,0.042450711131095886,-0.02779172733426094,-0.04823148995637894,0.009843912906944752,-0.07668104767799377,-0.012687955982983112,0.054247356951236725,0.010573036968708038,-0.023799579590559006,0.0149933947250247,-0.019362611696124077,0.020189698785543442,0.03512844815850258,-0.0030385626014322042,-0.010221823118627071,0.041282303631305695,-0.04974789544939995,0.002574326703324914,-0.040437351912260056,0.01299264281988144,0.04659443721175194,0.06392382085323334,0.014576173387467861,0.012696078047156334,0.08257617801427841,0.0245840884745121,-0.008247436955571175,0.020116109400987625,0.030223052948713303,0.016094401478767395,-0.006887372583150864,0.02878580056130886,0.03279421105980873,0.09956348687410355,-0.017844446003437042,0.07500911504030228,0.0754040852189064,-0.029389308765530586,0.006378477439284325,-0.04650334268808365,0.029591519385576248,-0.014122103340923786,0.007054257206618786,0.04455849155783653,0.021600743755698204,-0.020562145859003067,0.031541671603918076,0.009556555189192295,0.02760528400540352,-0.003253397298976779,-0.031488362699747086,-0.0017886122222989798,-0.006531179882586002,-0.01420162245631218,-0.0055130827240645885,0.05329877883195877,0.014180607162415981,-0.021610211580991745,-0.020094579085707664,-0.0392269603908062,-0.017930639907717705,-0.036517634987831116,0.08425962924957275,-0.0700407475233078,0.009936307556927204,0.053458355367183685,-0.028814516961574554,0.024746408686041832,0.03412700444459915,-0.022848809137940407,-0.0031168493442237377,0.06506309658288956,-0.010094420053064823,0.029334304854273796,-0.03685249388217926,-0.041686851531267166,0.047282543033361435,-0.022716179490089417,0.00017184778698720038,0.04293971508741379,-0.03170764073729515,0.040523745119571686,0.07602861523628235,-0.04842112213373184,0.04435916244983673,0.02883806824684143,-0.013064113445580006,-0.000003260943913119263,0.001241461606696248,0.013597491197288036,-0.014674166217446327,-0.00417357450351119,0.0029077206272631884,0.03544063866138458,-0.05676358565688133,0.05341297388076782,-0.004353778436779976,-0.03232446685433388,-0.05449328199028969,0.02446703240275383,0.030591007322072983,0.05421992018818855,0.06122692674398422,0.0388670451939106,0.04285476356744766,0.041190195828676224,0.00031222388497553766,-0.0013533954042941332,0.0073211765848100185,0.009671731851994991,0.0007560723461210728,-0.01836157590150833,0.01649983786046505,0.00138078723102808,0.0170044656842947,0.06194309517741203,0.059285782277584076,-0.023238185793161392,-0.03827172890305519,-0.008019988425076008,-0.023417390882968903,-0.030918406322598457,-0.06504921615123749,-0.014186423271894455,-0.007638318929821253,-0.038060542196035385,0.009731654077768326,-0.04478386044502258,0.027432018890976906,0.03704056888818741,-0.03185911104083061,-0.05650438368320465,-0.03009321354329586,-0.014624434523284435,-0.011842889711260796,-0.030306179076433182,0.00408573541790247,0.05566400662064552,-0.02688523195683956,0.04411282762885094,-0.040168117731809616,-0.028186539188027382,-0.019789624959230423,-0.0051515367813408375,-0.06275024265050888,0.03268160670995712,0.03334212303161621,0.02787870354950428,-0.014466426335275173,-0.004298557061702013,0.03625234216451645,-0.05197079852223396,0.0033759460784494877,-0.02485615201294422,-0.02585638128221035,0.005097536835819483,0.08810452371835709,0.02093680016696453,0.043146662414073944,0.0005882406840100884,-0.06390004605054855,-0.013272149488329887,0.0029776403680443764,0.00895673967897892,0.036746252328157425,0.006082945503294468,-0.05069050192832947,0.007830103859305382,0.015867238864302635,-0.01045144908130169,0.011603746563196182,-0.06085020303726196,-0.004559766035526991,0.038838669657707214,0.05056077614426613,0.008828339166939259,0.025408588349819183,-0.03139200061559677,0.06818079948425293,0.03402937948703766,0.0751350149512291,-0.043487872928380966,-0.0028557535260915756,-0.029151251539587975,-0.0774819627404213,0.0404006727039814,-0.008129118010401726,-0.005802281200885773,0.012285425327718258,-0.08111336827278137,0.015412427484989166,-0.043418459594249725,-0.03881068155169487,0.020547591149806976,0.03595767542719841,-0.0055888956412673,0.020319756120443344,-0.04523429647088051,-0.05506581813097,-0.0346946194767952,0.014885901473462582,-0.031100215390324593,-0.00861804373562336,0.045061416923999786,-0.022262686863541603,-0.029875395819544792,-0.015474786050617695,0.05089647322893143,-0.009486103430390358,-0.07526728510856628,0.04117880016565323,-0.017838753759860992,-0.021421590819954872,-0.029301786795258522,0.033699844032526016,0.03860493376851082,0.04363459348678589,0.05622148886322975,0.05036965012550354,-0.047150712460279465,0.05601200833916664,-0.04852607846260071,-0.0020870501175522804,-0.014111936092376709,0.013645384460687637,0.04623359814286232,-0.01401753630489111,0.006838683970272541,0.005937185604125261,0.013414934277534485,-0.0754617229104042,0.01804715022444725,0.004743353463709354,-0.03126496076583862,-0.06219910830259323,0.014336969703435898,0.004143638536334038,0.01936705969274044,0.041473209857940674,0.02964753471314907,-0.005639978218823671,0.015519199892878532,0.015546753071248531,0.00960227195173502,-0.056941743940114975,-0.014510863460600376,0.0477491170167923,-0.0484696663916111,-0.019307585433125496,0.003938826732337475,0.03067472204566002,-0.01885407418012619,0.012911181896924973,-0.0036504368763417006,-0.008025167509913445,0.0292473416775465,0.05325524881482124,0.031355373561382294,-0.0679556205868721,0.006139171309769154,0.056852757930755615,-0.03089931234717369,0.009529780596494675,-0.04100663214921951,-0.04136677086353302,-0.03539928048849106,0.044861532747745514,-0.0034692210610955954,-0.03673249110579491,-0.012865892611443996,-0.0010026746895164251,-0.043855492025613785,0.008789495564997196,-0.009786292910575867,0.015702983364462852,-0.012032374739646912,0.07118794322013855,-0.013964287005364895,0.03652305155992508,-0.0563921220600605,-0.01825769618153572,0.004830026533454657,-0.04865949973464012,-0.01155167631804943,-0.036240104585886,0.0031523234210908413,0.011615142226219177,0.006244397722184658,0.015430547297000885,-0.018999522551894188,0.038279660046100616,-0.08493520319461823,-0.039949581027030945,0.018388656899333,-0.0173158198595047,0.010404154658317566,-0.025558676570653915,0.008724705316126347,-0.00029296227148734033,-0.09148167818784714,-0.007047130260616541,0.02056341990828514,0.01446882076561451,-0.011823920533061028,-0.03431776911020279,0.0066511076875030994,0.009692828170955181,-0.004001842346042395,-0.0031045128125697374,-0.06526243686676025,0.04154045134782791,0.011860384605824947,-0.031227298080921173,0.000028697377274511382,0.0017890708986669779,-0.03736872971057892,0.018723811954259872,0.01730376109480858,0.00742209842428565,0.007136222440749407,0.06607268750667572,-0.02841067686676979,0.004629204049706459,-0.03649861365556717,-0.037765201181173325,0.05701610445976257,-0.015248875133693218,0.02932516299188137,-0.03309466689825058,-0.03268276900053024,-0.050461601465940475,0.010983888059854507,0.020009096711874008,0.02323142997920513,-0.026170872151851654,-0.009573330171406269,-0.07228007912635803,-0.004193043801933527,-0.005093809682875872,-0.04033607989549637,-0.025125985965132713,-0.030603522434830666,-0.00048512936336919665,0.0032720563467592,0.021099146455526352,0.027996214106678963,0.017269598320126534,-0.03314419090747833,-0.08683281391859055,-0.017661260440945625,0.018161896616220474,-7.727059952568489e-33,-0.02211412973701954,0.019858209416270256,-0.019642023369669914,-0.05455290898680687,-0.046795882284641266,-0.014849217608571053,0.020692603662610054,-0.02594292163848877,-0.04547128453850746,-0.04363934323191643,-0.0294036865234375,0.010118597187101841,0.020057033747434616,-0.0169663168489933,0.03653999790549278,0.05763082578778267,-0.001945361727848649,0.00008120056008920074,-0.011151238344609737,0.01672419346868992,0.0016737664118409157,0.030473189428448677,-0.045533422380685806,-0.06791398674249649,-0.012427862733602524,0.029508285224437714,-0.021247800439596176,-0.023717600852251053,-0.07660117000341415,0.04564947262406349,0.02706887573003769,-0.012606197036802769,-0.02167254500091076,0.028774594888091087,-0.01309280563145876,-0.011415192857384682,0.03932516649365425,-0.031165048480033875,0.027989080175757408,-0.012717021629214287,0.036468442529439926,-0.0199966449290514,0.03508193418383598,0.01694372296333313,-0.01635267585515976,-0.0012710330775007606,0.016830505803227425,-0.020256994292140007,0.007461887784302235,0.04314018413424492,0.04281861335039139,-0.00099759956356138,-0.027204405516386032,0.07547784596681595,-0.009652063250541687,0.04771532490849495,0.004873346537351608,0.05809583142399788,-0.020996900275349617,0.011443893425166607,0.021829640492796898,-0.019742697477340698,0.0025163961108773947,0.033365048468112946,0.05267201364040375,-0.020839618518948555,-0.013256696052849293,-0.046974532306194305,-0.03659835085272789,-0.027922339737415314,0.009135211817920208,0.056975480169057846,0.03996678814291954,-0.10835891962051392,-0.01942128688097,-0.04079817607998848,-0.026340754702687263,0.023472608998417854,0.0057685887441039085,0.07606899738311768,-0.006103470455855131,-0.02683822251856327,-0.035431522876024246,0.005388499237596989,0.0725538581609726,-0.044246986508369446,-0.04935159906744957,0.03194533288478851,0.04727109149098396,0.027421850711107254,-0.0244032833725214,0.0245584174990654,-0.030821535736322403,-0.029563715681433678,0.0073370360769331455,0.020312337204813957,0.0632912740111351,0.0068623460829257965,0.024029869586229324,-0.016983816400170326,-0.002206567209213972,0.005424817558377981,-0.04196382313966751,0.05407091602683067,0.006910931318998337,-0.028599126264452934,0.05140838027000427,-0.0012913410319015384,-0.03897957503795624,0.0063926102593541145,0.009928015992045403,-0.000043342319258954376,0.01905212365090847,-0.007975492626428604,-0.007777446880936623,0.011529037728905678,-0.0015864376910030842,-0.006696015130728483,0.03073456883430481,0.03563188761472702,-0.0189442690461874,-0.014395907521247864,-0.043964602053165436,-0.0421166718006134,0.00028972834115847945,-0.04244176670908928,-0.03412036970257759,-0.007180474698543549,0.056421902030706406,-0.0075475177727639675,-0.03519708290696144,-0.020407823845744133,3.412552302961558e-7,0.017834225669503212,0.0022542092483490705,-0.03027532994747162,0.025691524147987366,-0.00491615803912282,-0.00891021266579628,-0.056870196014642715,-0.07488653808832169,-0.03339514881372452,0.0745476558804512,0.05597377568483353,-0.01671418361365795,0.006090921815484762,0.011421370320022106,0.03363437205553055,-0.05420280620455742,-0.040674272924661636,0.012693309225142002,-0.09750514477491379,0.0030734140891581774,0.03261158615350723,0.031577449291944504,0.08600306510925293,-0.012480426579713821,0.028926528990268707,-0.038634639233350754,-0.045632828027009964,0.0031737671233713627,0.027458351105451584,-0.009280129335820675,0.008059117943048477,0.07045663148164749,-0.009262113831937313,-0.014661292545497417,0.011817612685263157,0.02086893655359745,-0.03147720918059349,0.0214780755341053,0.01880781166255474,0.04917730763554573,0.08158533275127411,-0.016474680975079536,-0.010352620854973793,-0.06768837571144104,0.029828770086169243,0.017183886840939522,-0.020352281630039215,-0.027975354343652725,0.022692900151014328,0.004535446874797344,0.0429573655128479,-0.006135299801826477,0.013303100131452084,-0.014078102074563503,0.0011686960933730006,-0.04388299956917763,-0.011514545418322086,0.056218989193439484,0.024920102208852768,0.008873355574905872,-0.007502501830458641,-0.0006652591400779784,-0.03052337095141411,0.04250393435359001,0.012881631962954998,-0.00044735154369845986,-0.00881324801594019,3.7682232361247256e-34,0.020449845120310783,-0.020520132035017014,0.013537826016545296,0.018924783915281296,0.035674553364515305,-0.026486437767744064,-0.016052987426519394,-0.003995371982455254,-0.012696544639766216,-0.054184768348932266,-0.018660809844732285]'
SET
  @TechnicalDesignVector_86d88289 = N'[-0.024621035903692245,0.09047392010688782,-0.035987984389066696,-0.03923238813877106,0.014631081372499466,0.003004911821335554,0.02112877182662487,-0.005897146183997393,-0.03422529995441437,0.020491864532232285,-0.03988160565495491,0.03108385019004345,0.03333241119980812,0.08618472516536713,-0.016348088160157204,-0.03777378425002098,0.009391840547323227,0.04459557309746742,0.04688597843050957,-0.01879776269197464,0.019230986014008522,-0.00023879138461779803,0.023346664384007454,-0.03433067724108696,-0.00657271221280098,-0.056467704474925995,-0.02366028167307377,0.016440538689494133,0.034296054393053055,-0.08983151614665985,0.03075917810201645,0.026386253535747528,-0.03828127309679985,0.05516046658158302,0.000002235605961686815,-0.019889652729034424,-0.028041787445545197,0.010101222433149815,-0.024010246619582176,0.016410376876592636,0.07741821557283401,-0.026125144213438034,0.07317053526639938,0.01681857369840145,0.03210954740643501,-0.015668191015720367,-0.041985590010881424,-0.03321302682161331,0.02006319910287857,-0.04979531094431877,0.007532123941928148,0.004659194499254227,-0.08054565638303757,-0.016393247991800308,-0.05376632511615753,-0.0728105753660202,-0.005287359934300184,0.016777053475379944,0.07235264033079147,-0.06041586771607399,-0.03576890006661415,0.039760515093803406,0.015668069943785667,-0.025529595091938972,0.0345192588865757,0.005430219694972038,0.08458852767944336,-0.030265215784311295,-0.042758677154779434,-0.011333275586366653,0.041923053562641144,-0.004144275560975075,0.014008832164108753,0.006254896521568298,-0.0771755501627922,0.01564878597855568,-0.07710590958595276,-0.009034154936671257,0.01664009876549244,-0.012073198333382607,0.006961592007428408,0.04241200163960457,-0.01689106784760952,0.004171630833297968,-0.026724547147750854,-0.06748824566602707,-0.0018930600490421057,0.009627503342926502,0.00951696652919054,-0.005086726043373346,-0.014170092530548573,-0.04064442962408066,0.02619602344930172,-0.01656670868396759,-0.0766214057803154,-0.0022606095299124718,0.05194980651140213,-0.09547082334756851,0.06473701447248459,-0.03245443478226662,0.04404781013727188,0.02157781459391117,0.028210466727614403,0.025518393144011497,0.10465385019779205,0.03404322266578674,-0.015393629670143127,-0.058885496109724045,-0.0007899435586296022,0.01921253092586994,0.01826099492609501,-0.006149183493107557,0.030480634421110153,0.00473770359531045,-0.01896008849143982,0.0006309798336587846,-0.0479503758251667,0.03295254334807396,-0.016917187720537186,0.026750361546874046,0.07569687813520432,0.003362611634656787,0.01629646122455597,0.08538763225078583,0.045184049755334854,0.06384368240833282,0.015385270118713379,-0.03172358125448227,-0.006119255442172289,-0.017972560599446297,-0.031960561871528625,-0.02172660455107689,0.05281810089945793,0.027687838301062584,0.0012796667870134115,0.04720849171280861,0.029497968032956123,0.030426103621721268,-0.015197521075606346,-0.07747143507003784,0.029579097405076027,-0.027292029932141304,-0.03406280279159546,0.02730545960366726,0.018682226538658142,0.0020302673801779747,0.05020691454410553,0.07346515357494354,-0.03003278374671936,0.021143410354852676,-0.007541242521256208,-0.006987379863858223,0.01483956165611744,0.020219018682837486,-0.01666322536766529,0.011397456750273705,0.019557518884539604,0.06377007812261581,0.036279112100601196,-0.00007584772538393736,-0.005240327212959528,0.043934665620326996,-0.019805002957582474,0.0016395554412156343,0.0063072494231164455,0.07236970961093903,-0.059675492346286774,-0.018409335985779762,-0.04918154701590538,-0.013885114341974258,-0.020297827199101448,-0.02966499701142311,-0.01877572201192379,0.03585943207144737,0.043528441339731216,-0.017959898337721825,0.0456097312271595,-0.0736292377114296,-0.053724028170108795,-0.000996003276668489,0.0147098982706666,-0.0674450695514679,-0.014480756595730782,-0.00801405031234026,0.034486304968595505,-0.006521977949887514,0.0036381513345986605,0.04367168992757797,-0.0013851524563506246,-0.013703742064535618,-0.008278798311948776,0.010586744174361229,-0.08216463774442673,0.021061686798930168,0.025978654623031616,0.008195573464035988,-0.022926032543182373,-0.0951431542634964,0.03027155064046383,0.003373026382178068,-0.00220631156116724,0.005467657465487719,0.05188329890370369,-0.019295550882816315,0.013098281808197498,0.002539911773055792,-0.07252976298332214,0.04675445705652237,-0.05725778266787529,-0.02347114123404026,0.024583669379353523,0.005338902585208416,-0.018748143687844276,0.012088898569345474,-0.022361699491739273,0.06048690155148506,0.029950715601444244,-0.029459362849593163,-0.026887260377407074,0.005111790262162685,-0.042871296405792236,-0.04054946452379227,0.022611983120441437,-0.03892270103096962,0.04589717090129852,0.08754106611013412,0.011661822907626629,-0.018791884183883667,0.07244028896093369,-0.006391247268766165,0.004401758778840303,-0.0056639136746525764,0.022492701187729836,0.04407726973295212,-0.008095178753137589,0.08062363415956497,-0.014474255032837391,-0.021321021020412445,0.007809443864971399,0.04099803417921066,0.031062476336956024,-0.039148855954408646,-0.03981715813279152,-0.0444062165915966,0.01277354545891285,-0.03660067915916443,-0.043161530047655106,0.040178071707487106,-0.02593233995139599,-0.01816464029252529,0.003152398159727454,0.029835516586899757,0.02278240956366062,-0.031669922173023224,-0.028968069702386856,-0.0535924956202507,0.034603290259838104,-0.03368976339697838,-0.012393268756568432,0.07320287078619003,0.0005637761787511408,0.04375165328383446,-0.0014814288588240743,-0.04106241837143898,0.0077182515524327755,-0.046546850353479385,0.06689488142728806,-0.0464378297328949,0.01245126873254776,0.027902696281671524,-0.016771726310253143,0.04374600946903229,0.04794642701745033,0.0021283102687448263,-0.01739867962896824,0.036306966096162796,0.003347341902554035,0.03741513192653656,0.0006070161471143365,-0.043076660484075546,-0.010189277119934559,-0.06023713946342468,0.02924627810716629,0.021508097648620605,-0.015964770689606667,0.019879501312971115,0.06230151280760765,0.005460937507450581,0.07295683026313782,-0.030935999006032944,0.005774026270955801,-0.03564366325736046,0.017942721024155617,-0.04047435149550438,-0.040039677172899246,0.018599234521389008,0.04513150826096535,0.005613747518509626,-0.010006689466536045,0.019740991294384003,-0.017339948564767838,-0.03036099299788475,0.01857873611152172,-0.004985674750059843,-0.025646120309829712,0.0223050806671381,0.04715815559029579,-0.01779649779200554,0.010603372938930988,0.06634952127933502,0.022713355720043182,-0.004087885841727257,-0.0029583785217255354,-0.02405787818133831,0.011483862064778805,0.012425627559423447,0.009566720575094223,0.013792668469250202,0.03655993565917015,0.030141374096274376,0.04899989813566208,-0.03313564136624336,-0.014225694350898266,-0.004518280271440744,-0.028025735169649124,-0.007421659771353006,-0.06761021912097931,-0.029640261083841324,-0.030727550387382507,0.00043761622509919107,0.02179602161049843,-0.09149983525276184,0.00819699652493,0.012195448391139507,-0.022844098508358,-0.007253705989569426,-0.03500712662935257,-0.018575767055153847,0.015794487670063972,-0.03431384265422821,0.02965991571545601,0.011974935419857502,-0.02286304533481598,0.046200092881917953,-0.024225467815995216,-0.044165752828121185,0.00005404774492490105,-0.018260369077324867,-0.04501871019601822,-0.012368275783956051,-0.0030088070780038834,0.005527600646018982,-0.008494358509778976,-0.014570719562470913,0.013721885159611702,-0.009860674850642681,-0.017863109707832336,0.0072928620502352715,-0.03269782289862633,-0.061561472713947296,0.08054815232753754,0.0541243776679039,0.07476960122585297,0.04187733680009842,-0.015783440321683884,0.00669240765273571,-0.0025328046176582575,-0.007910666987299919,-0.017041373997926712,-0.02757558785378933,-0.05700413137674332,0.011191575787961483,0.02678428776562214,0.004077696241438389,-0.02497865818440914,0.008406777866184711,0.018736785277724266,0.05308094248175621,0.03435380011796951,0.011973022483289242,0.008026686497032642,-0.04184590280056,0.06778089702129364,0.02020547166466713,0.09240018576383591,-0.05346999689936638,0.029411442577838898,-0.04550555348396301,-0.031802576035261154,0.03806000202894211,0.008779342286288738,-0.015925657004117966,0.04241222143173218,-0.09594022482633591,0.0054809837602078915,-0.02699132263660431,0.008779257535934448,0.005899196956306696,0.0632975846529007,0.004894379060715437,0.01425081118941307,0.03031482733786106,-0.0049990396946668625,-0.0199001245200634,0.022975733503699303,-0.08068359643220901,-0.066611148416996,0.029373599216341972,-0.013789795339107513,0.020363163203001022,-0.01210413221269846,0.03250498324632645,-0.062264349311590195,-0.06789743900299072,-0.017650339752435684,0.028768694028258324,-0.02317434921860695,-0.03103753738105297,-0.010235605761408806,0.028018563985824585,-0.004164245445281267,0.00011397255002520978,-0.011495192535221577,-0.005108940415084362,0.033419474959373474,-0.05290783941745758,0.050946567207574844,-0.0100276293233037,-0.01247123908251524,0.02480320632457733,0.005082766525447369,-0.004183425568044186,0.03627118095755577,-0.014648201875388622,-0.08230157196521759,0.022657332941889763,0.03831956535577774,0.010045789182186127,-0.015357009135186672,0.006756760645657778,0.0337318517267704,-0.054422516375780106,0.06675242632627487,0.022618357092142105,0.037591252475976944,0.05337843298912048,-0.01456093043088913,0.030736232176423073,-0.05170699208974838,-0.01880885846912861,-0.0156695656478405,-0.06653888523578644,-0.005636285059154034,-0.009078901261091232,-0.009054804220795631,-0.0408085361123085,-0.02011832781136036,-0.06379061937332153,-0.008448702283203602,0.03332586959004402,0.019023261964321136,0.025772791355848312,-0.05284940451383591,-0.028288377448916435,0.03574993461370468,0.02945033460855484,0.07239070534706116,-0.029989980161190033,-0.013252932578325272,-0.019848180934786797,0.043872274458408356,-0.0074017648585140705,-0.023431895300745964,-0.015566922724246979,0.012411721982061863,-0.022228509187698364,0.006217324640601873,-0.008838505484163761,-0.015229006297886372,-0.04840043932199478,0.07160375267267227,0.007008948363363743,0.020719429478049278,-0.03980249539017677,0.02150079235434532,-0.03696097061038017,-0.017429500818252563,-0.041797686368227005,-0.027668049558997154,-0.028069384396076202,0.00130228151101619,0.003241207217797637,-0.017973609268665314,-0.013668591156601906,0.08866655081510544,-0.04329385608434677,-0.06584171205759048,0.004450259264558554,-0.0069562592543661594,-0.05031377077102661,0.0025436049327254295,-0.02197510004043579,0.01929728128015995,-0.06271801888942719,0.005721269641071558,0.015240827575325966,0.0026490031741559505,-0.04368065297603607,-0.01733318902552128,-0.021850690245628357,-0.005379249807447195,-0.03853403776884079,-0.07044125348329544,-0.06356075406074524,0.06299202144145966,0.001840541255660355,-0.027471326291561127,-0.012920859269797802,0.051529716700315475,-0.01948234811425209,0.015658874064683914,-0.013382974080741405,0.007117263972759247,0.01077290903776884,0.10049660503864288,0.007032851688563824,-0.005353165324777365,-0.010446405969560146,0.011692098341882229,0.01858990080654621,0.02927361987531185,0.007939744740724564,-0.003001597709953785,-0.04053014516830444,-0.030064810067415237,0.029511289671063423,0.010237293317914009,-0.02089015021920204,0.03109017387032509,-0.01379432249814272,-0.059362027794122696,-0.019497772678732872,0.04559072107076645,-0.017937874421477318,0.013610520400106907,-0.028321394696831703,0.01979920268058777,-0.03340354189276695,-0.0029902325477451086,0.05529509857296944,0.02797715924680233,0.009539146907627583,-0.019285425543785095,-0.04283570870757103,0.0745169073343277,-7.273561578860943e-33,0.004507670644670725,-0.04595119506120682,-0.03915049880743027,-0.09105227142572403,-0.03681056201457977,-0.017990916967391968,0.018680743873119354,-0.09005708247423172,0.008145610801875591,-0.03645220771431923,-0.013465587981045246,0.0014346811221912503,0.008147207088768482,0.0032043231185525656,0.020234189927577972,0.0009428853518329561,0.034380052238702774,0.024258503690361977,-0.030162978917360306,0.024135010316967964,0.02045007422566414,0.03052603267133236,-0.030180171132087708,-0.04046715050935745,-0.0038040310610085726,0.027443522587418556,-0.00999672245234251,0.02061287686228752,-0.06218727305531502,0.011176892556250095,0.016564583405852318,0.01590682938694954,-0.04387900233268738,-0.00041898194467648864,-0.05180753767490387,-0.02215764671564102,0.002670763526111841,-0.023152794688940048,0.03630419448018074,0.003687219927087426,0.025640049949288368,0.04234440252184868,0.044869765639305115,-0.004818325396627188,0.020746855065226555,-0.05295423045754433,-0.020393820479512215,0.024200165644288063,-0.008544554002583027,0.014741727150976658,0.08186054974794388,0.014082617126405239,-0.02971644140779972,0.06188046187162399,-0.02270076796412468,0.05737310275435448,0.03123762644827366,0.10962265729904175,-0.03426335006952286,0.016830138862133026,-0.0718161016702652,-0.04520364850759506,0.001639351132325828,0.04237884283065796,0.04670630395412445,-0.027610769495368004,-0.03363250941038132,-0.024024225771427155,0.0035133901983499527,-0.001828584587201476,-0.009001519531011581,-0.015570654533803463,0.0060326592065393925,-0.05798174813389778,-0.000554585421923548,-0.058396853506565094,-0.07032905519008636,-0.01875014416873455,-0.024412915110588074,-0.01785283349454403,-0.019965583458542824,0.007692459970712662,0.01151382178068161,0.002523300936445594,0.0341472364962101,-0.03022899106144905,0.0003235421027056873,0.05035257712006569,-0.01917446404695511,0.02111220732331276,0.008537692949175835,0.02491946332156658,-0.056623272597789764,0.005178856197744608,-0.03901560232043266,0.007053658831864595,0.07284995913505554,0.006521215196698904,0.01306198537349701,-0.017535913735628128,0.06937291473150253,0.031185992062091827,-0.042776793241500854,0.03986314311623573,-0.032699815928936005,0.012188163585960865,0.047617990523576736,0.012838881462812424,-0.032155826687812805,-0.0065107145346701145,0.017600316554307938,-0.004088172689080238,-0.02921023592352867,-0.023307349532842636,0.042657312005758286,0.027969157323241234,0.0011669088853523135,-0.052052415907382965,0.07332263886928558,0.05212930962443352,-0.024048276245594025,0.015032322145998478,-0.060620758682489395,0.008937021717429161,0.015162823721766472,-0.025495225563645363,-0.01043677981942892,-0.014983972534537315,0.022874116897583008,-0.023246558383107185,-0.000518456450663507,-0.02231723815202713,3.058409561162989e-7,0.01172634493559599,-0.00935794785618782,-0.05198511853814125,0.04598197713494301,-0.017151670530438423,0.009968606755137444,-0.0579351931810379,-0.037711821496486664,-0.009593069553375244,0.02509627491235733,0.03189260885119438,0.02042204700410366,-0.00033307564444839954,0.04412434250116348,0.012124554254114628,-0.040350355207920074,-0.0550120547413826,-0.003923347219824791,-0.039854519069194794,0.02002870850265026,-0.018621204420924187,0.013079998083412647,0.09257209300994873,-0.01325561385601759,-0.006040723528712988,0.0006097067962400615,-0.022221054881811142,-0.031939391046762466,-0.03457462787628174,-0.034948647022247314,-0.01803131215274334,0.038258664309978485,0.019160756841301918,-0.011090762913227081,0.0024616080336272717,0.036661576479673386,-0.02446172945201397,-0.03776197135448456,0.04313883185386658,0.068740613758564,0.06224140524864197,-0.0027166279032826424,0.011593202129006386,-0.0074188620783388615,-0.006291959900408983,0.01960972137749195,-0.015467497520148754,0.021890789270401,0.03221149742603302,0.023683423176407814,0.07103215157985687,0.017837997525930405,-0.042815860360860825,0.021985698491334915,0.014670518226921558,0.0016977924387902021,0.019024929031729698,0.0457790344953537,0.04870390146970749,0.07050344347953796,-0.014441060833632946,-0.03199934586882591,0.01155383326113224,0.09199045598506927,0.015582908876240253,0.027562208473682404,-0.04063940420746803,3.927920801757405e-34,0.055182598531246185,-0.0477195642888546,0.04177789390087128,-0.01466191653162241,0.02953818440437317,-0.03305506706237793,-0.02134442888200283,-0.003428748343139887,0.04350433871150017,-0.05970202758908272,-0.030945830047130585]'
SET
  @HasCustomProps_86d88289 = 1
SET
  @HasCustomEvents_86d88289 = 1
SET
  @RequiresData_86d88289 = 1
SET
  @DependencyCount_86d88289 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_86d88289 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_86d88289 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_86d88289 = 0
SET
  @ID_86d88289 = 'AA9D4155-4706-49BF-894F-ECB00D5C32D1'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_86d88289,
  @Name = @Name_86d88289,
  @Version = @Version_86d88289,
  @VersionSequence = @VersionSequence_86d88289,
  @Title = @Title_86d88289,
  @Description = @Description_86d88289,
  @Type = @Type_86d88289,
  @Status = @Status_86d88289,
  @DeveloperName = @DeveloperName_86d88289,
  @DeveloperEmail = @DeveloperEmail_86d88289,
  @DeveloperOrganization = @DeveloperOrganization_86d88289,
  @SourceRegistryID = @SourceRegistryID_86d88289,
  @ReplicatedAt = @ReplicatedAt_86d88289,
  @LastSyncedAt = @LastSyncedAt_86d88289,
  @Specification = @Specification_86d88289,
  @FunctionalRequirements = @FunctionalRequirements_86d88289,
  @TechnicalDesign = @TechnicalDesign_86d88289,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_86d88289,
  @TechnicalDesignVector = @TechnicalDesignVector_86d88289,
  @HasCustomProps = @HasCustomProps_86d88289,
  @HasCustomEvents = @HasCustomEvents_86d88289,
  @RequiresData = @RequiresData_86d88289,
  @DependencyCount = @DependencyCount_86d88289,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_86d88289,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_86d88289,
  @HasRequiredCustomProps = @HasRequiredCustomProps_86d88289,
  @ID = @ID_86d88289;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_a79cf76d NVARCHAR(MAX),
@Name_a79cf76d NVARCHAR(500),
@Version_a79cf76d NVARCHAR(50),
@VersionSequence_a79cf76d INT,
@Title_a79cf76d NVARCHAR(1000),
@Description_a79cf76d NVARCHAR(MAX),
@Type_a79cf76d NVARCHAR(255),
@Status_a79cf76d NVARCHAR(50),
@DeveloperName_a79cf76d NVARCHAR(255),
@DeveloperEmail_a79cf76d NVARCHAR(255),
@DeveloperOrganization_a79cf76d NVARCHAR(255),
@SourceRegistryID_a79cf76d UNIQUEIDENTIFIER,
@ReplicatedAt_a79cf76d DATETIMEOFFSET,
@LastSyncedAt_a79cf76d DATETIMEOFFSET,
@Specification_a79cf76d NVARCHAR(MAX),
@FunctionalRequirements_a79cf76d NVARCHAR(MAX),
@TechnicalDesign_a79cf76d NVARCHAR(MAX),
@FunctionalRequirementsVector_a79cf76d NVARCHAR(MAX),
@TechnicalDesignVector_a79cf76d NVARCHAR(MAX),
@HasCustomProps_a79cf76d BIT,
@HasCustomEvents_a79cf76d BIT,
@RequiresData_a79cf76d BIT,
@DependencyCount_a79cf76d INT,
@TechnicalDesignVectorEmbeddingModelID_a79cf76d NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_a79cf76d NVARCHAR(MAX),
@HasRequiredCustomProps_a79cf76d BIT,
@ID_a79cf76d UNIQUEIDENTIFIER
SET
  @Namespace_a79cf76d = N'CRM/Finance'
SET
  @Name_a79cf76d = N'InvoiceAgingAnalysis'
SET
  @Version_a79cf76d = N'1.0.0'
SET
  @VersionSequence_a79cf76d = 1
SET
  @Title_a79cf76d = N'Invoice Aging Analysis'
SET
  @Description_a79cf76d = N'Accounts receivable aging analysis with D3.js custom visualization for aging buckets and SimpleChart for payment trends. Demonstrates when to use custom D3 visualizations vs generic components.'
SET
  @Type_a79cf76d = N'Dashboard'
SET
  @Status_a79cf76d = N'Published'
SET
  @Specification_a79cf76d = N'{"name":"InvoiceAgingAnalysis","title":"Invoice Aging Analysis","type":"dashboard","namespace":"CRM/Finance","userExplanation":"Master-level accounts receivable dashboard with D3.js custom aging visualization, SimpleChart payment trends, and interactive filters. Demonstrates CUSTOM VISUALIZATION pattern: using D3.js for unique aging bucket heatmap when generic components aren''t flexible enough. Shows outstanding balances by aging period with color intensity, top accounts with overdue invoices, and payment history. Most complex hybrid pattern with D3.js + SimpleChart + EntityDataGrid.","functionalRequirements":"## Business Objectives\n- Monitor accounts receivable aging across different time periods\n- Identify high-risk accounts with significant overdue balances\n- Track payment trends and average days to payment\n- Enable drill-down from aging buckets to specific invoices and payments\n- Support filtering by date range, account type, and minimum outstanding amount\n\n## Functional Requirements\n- **Interactive Filter Panel**: Date range selector, account type dropdown, minimum outstanding amount input\n- **Aging Buckets Chart**: Stacked bar chart showing outstanding amounts by aging period (0-30, 30-60, 60-90, 90+ days)\n- **Payment Trends Chart**: Dual-axis chart showing monthly payment totals and average days to payment (last 12 months)\n- **Click Aging Bucket**: When user clicks bucket, show three panels: top accounts, KPI cards, and invoice grid\n- **Top Accounts Panel**: Conditional query showing top 10 accounts with most outstanding in selected bucket\n- **KPI Cards**: Total outstanding, invoice count, average days overdue for selected bucket\n- **Invoice Grid**: EntityDataGrid with invoices in selected aging bucket, color-coded by overdue status (green/yellow/red)\n- **Account Selection**: Click account in top accounts list to show account payment history (conditional query 4)\n- **Payment Drill-Down**: Click invoice row to show EntityDataGrid of payments for that invoice\n- **Filter Coordination**: All queries re-execute when filters change\n- **Query Result Caching**: Cache query results for configured duration (default 5 minutes) to reduce database load\n- **State Cleanup**: Clear conditional queries when selections change\n- **Custom Column Rendering**: Color-code DaysOverdue column based on thresholds\n- **Multi-Level State**: Track filter values, selected bucket, selected account, and selected invoice\n- **Loading States**: Independent loading for each query and grid\n- **Empty States**: Handle buckets with no invoices or accounts with no history","description":"Accounts receivable aging analysis with D3.js custom visualization for aging buckets and SimpleChart for payment trends. Demonstrates when to use custom D3 visualizations vs generic components.","dataRequirements":{"mode":"queries","queries":[{"name":"Outstanding Invoices","categoryPath":"Demo","description":"Returns raw outstanding invoice records with calculated DaysOverdue field. NO GROUP BY - returns individual invoices for flexible client-side aggregation. Joins vwInvoices with vwAccounts to include AccountType. General-purpose query for aging analysis, payment tracking, AR dashboards. Client-side code can: group into aging buckets, aggregate by account, filter by overdue threshold, calculate totals. Query pair source for top-accounts-by-outstanding.sql. **Result Order: DueDate ASC, BalanceDue DESC** - Oldest invoices with highest balances first for priority review.","entityNames":["Invoices","Accounts"],"fields":[{"name":"ID","sequence":1,"defaultInView":true,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":true,"description":"Invoice unique identifier"},{"name":"InvoiceNumber","sequence":2,"defaultInView":true,"type":"nvarchar(100)","allowsNull":false,"isPrimaryKey":false,"description":"Invoice number"},{"name":"AccountID","sequence":3,"defaultInView":true,"type":"uniqueidentifier","allowsNull":false,"isPrimaryKey":false,"description":"Foreign key to Account"},{"name":"Account","sequence":4,"defaultInView":true,"type":"nvarchar(255)","allowsNull":false,"isPrimaryKey":false,"description":"Account name (denormalized from view)"},{"name":"AccountType","sequence":5,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Account type from joined vwAccounts table"},{"name":"InvoiceDate","sequence":6,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date invoice was created"},{"name":"DueDate","sequence":7,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date payment is due"},{"name":"Status","sequence":8,"defaultInView":true,"type":"nvarchar(50)","allowsNull":false,"isPrimaryKey":false,"description":"Invoice status"},{"name":"TotalAmount","sequence":9,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"Total invoice amount"},{"name":"AmountPaid","sequence":10,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Amount paid to date"},{"name":"BalanceDue","sequence":11,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"Remaining balance due (TotalAmount - AmountPaid)"},{"name":"DaysOverdue","sequence":12,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Days overdue calculated as DATEDIFF(day, DueDate, GETDATE()). Negative values indicate not yet due."}],"parameters":[{"name":"MinOutstanding","isRequired":false,"type":"number","sampleValue":"1000","description":"Optional filter by minimum outstanding balance"},{"name":"AccountType","isRequired":false,"type":"string","sampleValue":"Enterprise","description":"Optional filter by account type"}]},{"name":"Payment Trends","categoryPath":"Demo","description":"Monthly payment trends: SUM(Amount), COUNT(*), AVG(DATEDIFF(day, InvoiceDate, PaymentDate)) grouped by YEAR/MONTH for last 12 months. Returns dual-axis chart data. **Result Order: Year ASC, Month ASC** - Chronological order for time-series payment trend visualization.","entityNames":["Payments","Invoices","Accounts"],"fields":[{"name":"Year","sequence":1,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Year of payment"},{"name":"Month","sequence":2,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Month number (1-12)"},{"name":"MonthName","sequence":3,"defaultInView":true,"type":"nvarchar(50)","allowsNull":false,"isPrimaryKey":false,"description":"Month name (January, February, etc.)"},{"name":"PaymentCount","sequence":4,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of payments received in this month"},{"name":"TotalPaid","sequence":5,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Total amount paid in this month"},{"name":"AvgPayment","sequence":6,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average payment amount"},{"name":"AvgDaysToPayment","sequence":7,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Average days from invoice date to payment"},{"name":"UniqueAccounts","sequence":8,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of distinct accounts that made payments"}],"parameters":[{"name":"MonthsBack","isRequired":false,"type":"number","sampleValue":"12","description":"Number of months to look back (default: 12)"},{"name":"PaymentMethod","isRequired":false,"type":"string","sampleValue":"Credit Card","description":"Optional filter by payment method"},{"name":"AccountType","isRequired":false,"type":"string","sampleValue":"Enterprise","description":"Optional filter by account type"}]},{"name":"Top Accounts by Outstanding","categoryPath":"Demo","description":"Aggregates outstanding invoices by account, returning TOP N accounts with highest balances. Groups by AccountName and AccountType with metrics: invoice count, total outstanding, average outstanding, average days overdue, max days overdue. General-purpose account-level aggregation query. Aging bucket filtering should be handled client-side using outstanding-invoices.sql. Query pair with outstanding-invoices.sql (aggregation + raw data pattern). **Result Order: TotalOutstanding DESC** - Highest outstanding balances first for priority focus.","entityNames":["Accounts","Invoices"],"fields":[{"name":"AccountName","sequence":1,"defaultInView":true,"type":"nvarchar(255)","allowsNull":false,"isPrimaryKey":false,"description":"Name of the account"},{"name":"AccountType","sequence":2,"defaultInView":true,"type":"nvarchar(255)","allowsNull":true,"isPrimaryKey":false,"description":"Account type"},{"name":"InvoiceCount","sequence":3,"defaultInView":true,"type":"int","allowsNull":false,"isPrimaryKey":false,"description":"Number of outstanding invoices"},{"name":"TotalOutstanding","sequence":4,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Total balance due for this account"},{"name":"AvgOutstanding","sequence":5,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Average outstanding balance per invoice"},{"name":"AvgDaysOverdue","sequence":6,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Average days overdue across all invoices"},{"name":"MaxDaysOverdue","sequence":7,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Maximum days overdue for any invoice"}],"parameters":[{"name":"TopN","isRequired":false,"type":"number","sampleValue":"10","description":"Number of top accounts to return (default: 10)"},{"name":"MinOutstanding","isRequired":false,"type":"number","sampleValue":"1000","description":"Optional filter by minimum outstanding balance"},{"name":"AccountType","isRequired":false,"type":"string","sampleValue":"Enterprise","description":"Optional filter by account type"}]},{"name":"Account Payment History","categoryPath":"Demo","description":"Returns raw payment transaction records for account detail view. LEFT JOIN invoices with payments to show both paid and unpaid invoices. Includes calculated DaysToPayment field. PaymentStatus bucketing (On Time/Late/Overdue/Pending) handled client-side for flexibility. General-purpose query for account payment analysis, payment tracking, and invoice history. Supports filtering by AccountID, AccountName, and date range. **Result Order: InvoiceDate DESC, PaymentDate DESC** - Most recent invoices and payments first for account review.","entityNames":["Invoices","Payments","Accounts"],"fields":[{"name":"InvoiceNumber","sequence":1,"defaultInView":true,"type":"nvarchar(100)","allowsNull":false,"isPrimaryKey":false,"description":"Invoice number"},{"name":"InvoiceDate","sequence":2,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date invoice was created"},{"name":"DueDate","sequence":3,"defaultInView":true,"type":"date","allowsNull":false,"isPrimaryKey":false,"description":"Date payment is due"},{"name":"TotalAmount","sequence":4,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"Total invoice amount"},{"name":"AmountPaid","sequence":5,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Amount paid to date"},{"name":"BalanceDue","sequence":6,"defaultInView":true,"type":"decimal(18,2)","allowsNull":false,"isPrimaryKey":false,"description":"Remaining balance due"},{"name":"Status","sequence":7,"defaultInView":true,"type":"nvarchar(50)","allowsNull":false,"isPrimaryKey":false,"description":"Invoice status (Paid, Pending, Overdue, etc.)"},{"name":"PaymentDate","sequence":8,"defaultInView":true,"type":"date","allowsNull":true,"isPrimaryKey":false,"description":"Date payment was received (null if unpaid)"},{"name":"PaymentAmount","sequence":9,"defaultInView":true,"type":"decimal(18,2)","allowsNull":true,"isPrimaryKey":false,"description":"Amount of this payment (null if unpaid)"},{"name":"PaymentMethod","sequence":10,"defaultInView":true,"type":"nvarchar(100)","allowsNull":true,"isPrimaryKey":false,"description":"Payment method used"},{"name":"ReferenceNumber","sequence":11,"defaultInView":true,"type":"nvarchar(100)","allowsNull":true,"isPrimaryKey":false,"description":"Payment reference number"},{"name":"DaysToPayment","sequence":12,"defaultInView":true,"type":"int","allowsNull":true,"isPrimaryKey":false,"description":"Days from invoice date to payment date"}],"parameters":[{"name":"AccountID","isRequired":false,"type":"number","sampleValue":"12345","description":"Optional filter by account ID (UNIQUEIDENTIFIER)"},{"name":"AccountName","isRequired":false,"type":"string","sampleValue":"Acme Corporation","description":"Optional filter by account name"},{"name":"StartDate","isRequired":false,"type":"string","sampleValue":"2024-01-01","description":"Optional start date filter in YYYY-MM-DD format"},{"name":"EndDate","isRequired":false,"type":"string","sampleValue":"2024-12-31","description":"Optional end date filter in YYYY-MM-DD format"}]}],"entities":[{"name":"Invoices","description":"Invoice records shown in DataGrid for aging bucket drill-down. Includes joined fields from Accounts (AccountType) and calculated fields (DaysOverdue).","displayFields":["ID","InvoiceNumber","InvoiceDate","DueDate","Account","AccountType","TotalAmount","AmountPaid","BalanceDue","Status","DaysOverdue"],"filterFields":["ID","DaysOverdue","AccountID","AccountType","BalanceDue","Account"],"sortFields":["DaysOverdue","BalanceDue","InvoiceDate","DueDate"],"usageContext":"Loaded by EntityDataGrid with two different filter patterns: (1) Aging bucket drill-down: DaysOverdue BETWEEN x AND y AND AccountID IN (subquery) AND BalanceDue >= {minOutstanding}. (2) Account payment history: AccountName = ''{accountName}''"},{"name":"Accounts","description":"Account records shown in EntityDataGrid for top accounts list and referenced in SQL filters.","displayFields":["Name","AccountType","Status"],"filterFields":["ID","AccountType","Status"],"sortFields":["Name"],"usageContext":"Loaded by EntityDataGrid for top accounts with optional filter: AccountType = ''{appliedAccountType}''. Also referenced in invoice filter SQL subquery: SELECT ID FROM CRM.vwAccounts WHERE AccountType = ''{accountType}''"}]},"properties":[{"name":"onBucketClick","type":"function","required":false,"description":"Callback fired when user clicks an aging bucket in the chart","default":null},{"name":"onAccountClick","type":"function","required":false,"description":"Callback fired when user clicks an account row in the top accounts grid","default":null},{"name":"onInvoiceClick","type":"function","required":false,"description":"Callback fired when user clicks an invoice row in any EntityDataGrid","default":null}],"events":[{"name":"onBucketClick","description":"Fired when user clicks an aging bucket (bar segment)","payload":{"bucket":"string - The aging bucket that was clicked (e.g., ''0-30 days'', ''30-60 days'')","invoiceCount":"number - Number of invoices in this bucket","totalOutstanding":"number - Total outstanding balance in this bucket"},"example":"{ bucket: ''30-60 days'', invoiceCount: 45, totalOutstanding: 125000.00 }"},{"name":"onAccountClick","description":"Fired when user clicks an account row in the top accounts grid","payload":{"accountName":"string - Name of the account","accountType":"string - Type of account","invoiceCount":"number - Number of outstanding invoices","totalOutstanding":"number - Total outstanding balance","avgDaysOverdue":"number - Average days overdue"},"example":"{ accountName: ''Acme Corp'', accountType: ''Customer'', invoiceCount: 8, totalOutstanding: 35000.00, avgDaysOverdue: 45 }"},{"name":"onInvoiceClick","description":"Fired when user clicks an invoice row in the EntityDataGrid drill-down","payload":{"invoiceId":"string - The ID of the clicked invoice record","invoiceNumber":"string - Invoice number","totalAmount":"number - Total invoice amount","balanceDue":"number - Outstanding balance","status":"string - Invoice status"},"example":"{ invoiceId: ''abc-123'', invoiceNumber: ''INV-001'', totalAmount: 5000.00, balanceDue: 2500.00, status: ''Overdue'' }"}],"dependencies":[{"name":"SimpleChart","location":"registry","namespace":"Generic/UI/Chart","version":"^1.0.0"},{"name":"DataGrid","location":"registry","namespace":"Generic/UI/Table","version":"^1.0.0"}],"libraries":[{"name":"d3","globalVariable":"d3","version":"7.8.5"}],"location":"embedded","technicalDesign":"## Component Architecture\n\n### Custom Visualization with D3.js\n**This component demonstrates the ESCAPE HATCH pattern - using D3.js for truly custom visualizations when generic components aren''t flexible enough.**\n\n**Why D3.js for Aging Buckets?**\n- **Unique Requirements**: Need grouped bars with heatmap color intensity based on overdue severity\n- **Custom Interactions**: Click handling with detailed tooltips showing invoice counts and amounts\n- **Visual Complexity**: Generic bar charts can''t show the risk severity through color gradients\n- **Ultimate Control**: D3 provides pixel-perfect control over every visual element\n\n**Hybrid Visualization Strategy:**\n- **D3.js Aging Visualization**: Custom grouped bar chart with color-coded risk levels (green → yellow → red)\n- **SimpleChart Payment Trends**: Generic line chart sufficient for simple trend visualization\n- **EntityDataGrid**: Generic grid component for drill-down tables\n\n**When to Use D3 vs Generic Components:**\n- Use D3: Unique visualizations, custom interactions, pixel-perfect control needed\n- Use Generic: Standard charts, simple data display, rapid development priority\n\n### Modern SQL + JavaScript Pattern\nThis component follows MemberJunction''s best practice: **SQL returns raw data, JavaScript aggregates**.\n\n**Benefits of client-side aggregation:**\n- **Simpler SQL**: Query just returns invoice records with DaysOverdue calculated\n- **Flexibility**: Easy to change bucket ranges or add new aggregations without SQL changes\n- **Reusability**: Raw invoice data can be used for multiple visualizations\n- **Performance**: SQL does one simple query, JavaScript groups data in memory\n- **Maintainability**: Business logic stays in JavaScript where it''s easier to modify and test\n\n### Data Flow\n1. **Initial Load**: Three concurrent RunQuery calls execute for outstanding invoices, payment trends, and top accounts\n2. **Raw Data Loading**: ''Outstanding Invoices'' query returns all invoice records with DaysOverdue field\n3. **Client-Side Aggregation**: JavaScript function groups raw invoices into aging buckets (Not Yet Due, 0-30, 30-60, 60-90, 90+ days)\n4. **Filter Panel**: User adjusts filters (pending state) and clicks Apply Filters button\n5. **Data Reload**: Applied filter state triggers useEffect to reload all 3 queries\n6. **Chart Rendering**: SimpleChart displays aggregated aging bucket data\n7. **Bucket Drill-Down**: User clicks aging bucket → selectedSegment set → raw invoices filtered for that bucket shown in EntityDataGrid\n8. **Account Selection**: User clicks account row → selectedAccount set → EntityDataGrid shows payment history\n9. **Filter Consistency**: All EntityDataGrid filters use applied filter values for consistency\n\n### State Management\n**Pending Filter State** (user input):\n- `pendingMinOutstanding`, `pendingAccountType`, `pendingMonthsBack`, `pendingPaymentMethod`, `pendingTopN`\n\n**Applied Filter State** (active filters):\n- `appliedMinOutstanding`, `appliedAccountType`, `appliedMonthsBack`, `appliedPaymentMethod`, `appliedTopN`\n\n**Data State**:\n- `rawInvoices`: Raw invoice records from ''Outstanding Invoices'' query\n- `agingData`: Aggregated aging bucket data (computed from rawInvoices)\n- `paymentTrendsData`: Payment trends query results\n- `topAccountsData`: Top accounts query results\n\n**Selection State**:\n- `selectedSegment`: Currently selected aging bucket (null = no drill-down, object = bucket drill-down)\n- `selectedAccount`: Currently selected account (null = no account view, object = payment history view)\n\n**UI State**:\n- `loading`: Boolean for async operation status\n- `errors`: Object with error messages per query/operation\n\n### Filter Panel Pattern\n**Split Pending/Applied State**:\n- User changes inputs → updates pending state only\n- Apply Filters button → copies pending to applied state\n- Applied state triggers data reload via useEffect\n- Prevents reload on every keystroke\n- Always visible (no toggle)\n- Clear Filters button resets all to defaults\n\n### Query Coordination\n**Three Concurrent Queries**: All execute in parallel on mount/applied filter change\n1. Outstanding Invoices - Raw invoice records with DaysOverdue (aggregated client-side into aging buckets)\n2. Payment Trends - Monthly payment patterns\n3. Top Accounts by Outstanding - Accounts with highest overdue\n\n### Client-Side Aggregation Function\nThe `aggregateIntoAgingBuckets()` function:\n1. Groups raw invoices by aging period based on DaysOverdue\n2. Calculates totals and averages per bucket\n3. Returns array of bucket objects sorted by aging progression\n4. Enables flexible bucket definition changes without SQL modifications\n\n### Multi-Level Drill-Down\n**Level 1 - Aging Bucket Click**:\n- User clicks aging bucket chart segment\n- Sets `selectedSegment` with clickData\n- EntityDataGrid shows invoices filtered by DaysOverdue range\n- Maps bucket name to SQL filter (e.g., ''30-60 days'' → DaysOverdue BETWEEN 31 AND 60)\n- Includes applied account type and min outstanding filters\n\n**Level 2 - Account Selection**:\n- User clicks account in top accounts EntityDataGrid\n- Sets `selectedAccount` with record data\n- Shows KPI summary cards (total outstanding, invoice count, etc.)\n- EntityDataGrid shows all invoices for selected account\n- Filter uses AccountName for simplicity\n\n### EntityDataGrid Integration\n**Invoice Drill-Down Filter** (from aging bucket):\n1. Aging bucket filter: Maps bucket to DaysOverdue range\n2. Account type filter (optional): `AccountID IN (SELECT ID FROM CRM.vwAccounts WHERE AccountType=''{appliedAccountType}'')`\n3. Minimum outstanding filter (optional): `BalanceDue >= {appliedMinOutstanding}`\n4. Filters combined with AND operator\n\n**Payment History Filter** (from account selection):\n- Simple filter: `AccountName=''{selectedAccount.AccountName}''`\n- Shows all invoices for the account regardless of status\n\n### Event System\n**onBucketClick**: Fires when aging bucket clicked, provides:\n- bucket, invoiceCount, totalOutstanding\n\n**onAccountClick**: Fires when account row clicked, provides:\n- accountName, accountType, invoiceCount, totalOutstanding, avgDaysOverdue\n\n**onInvoiceClick**: Fires when invoice row clicked, provides:\n- invoiceId, invoiceNumber, totalAmount, balanceDue, status\n\n### Educational Value\nDemonstrates:\n1. **Custom D3.js Visualization**: Truly custom aging bucket viz with color-coded risk levels\n2. **D3 Lifecycle Management**: Proper initialization, updates, and cleanup with useEffect + useRef\n3. **D3 Selections & Data Binding**: SVG element creation and data-driven updates\n4. **When to Use D3**: Shows the decision point - custom viz needs vs generic component limitations\n5. **Hybrid Pattern**: D3 custom viz + SimpleChart + EntityDataGrid in one component\n6. **Advanced Filter Pattern**: Pending/applied state split prevents premature data loads\n7. **Multi-Query Dashboard**: Three concurrent queries with independent error handling\n8. **Multi-Level Drill-Down**: Bucket → Invoices, Account → Payment History\n9. **Filter Coordination**: Consistent filter application across queries and grids\n10. **Complex SQL Filters**: Aging bucket mapping, subqueries, range filters\n11. **Always-Visible Filters**: User control without UI disruption\n12. **Event Exposure**: External consumers can listen to all user interactions\n13. **Master Complexity**: Most complex hybrid pattern with D3 + 4 queries + 2 drill-down paths","code":"function InvoiceAgingAnalysis({\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings,\n  onBucketClick = null,\n  onAccountClick = null,\n  onInvoiceClick = null\n}) {\n  // Pending filter state (user input)\n  const [pendingMinOutstanding, setPendingMinOutstanding] = useState(0);\n  const [pendingAccountType, setPendingAccountType] = useState(null);\n  const [pendingMonthsBack, setPendingMonthsBack] = useState(12);\n  const [pendingPaymentMethod, setPendingPaymentMethod] = useState(null);\n  const [pendingTopN, setPendingTopN] = useState(10);\n\n  // Applied filter state (active filters)\n  const [appliedMinOutstanding, setAppliedMinOutstanding] = useState(0);\n  const [appliedAccountType, setAppliedAccountType] = useState(null);\n  const [appliedMonthsBack, setAppliedMonthsBack] = useState(12);\n  const [appliedPaymentMethod, setAppliedPaymentMethod] = useState(null);\n  const [appliedTopN, setAppliedTopN] = useState(10);\n\n  // Data state\n  const [rawInvoices, setRawInvoices] = useState([]);\n  const [agingData, setAgingData] = useState([]);\n  const [paymentTrendsData, setPaymentTrendsData] = useState([]);\n  const [topAccountsData, setTopAccountsData] = useState([]);\n\n  // Selection state\n  const [selectedSegment, setSelectedSegment] = useState(null);\n  const [drilldownData, setDrilldownData] = useState(null);\n  const [loadingDrilldown, setLoadingDrilldown] = useState(false);\n\n  // UI state\n  const [loading, setLoading] = useState(true);\n  const [errors, setErrors] = useState({});\n\n  // Get components from registry\n  const { SimpleChart, DataGrid } = components;\n\n  // Get D3 from utilities library unwrapper\n  // D3 is loaded by library loader and available in closure scope\n  const d3Lib = React.useMemo(() => {\n    return utilities?.unwrapLibraryComponents?.(d3, ''d3'') || d3;\n  }, [utilities]);\n\n  // Ref for D3 aging bucket visualization\n  const agingChartRef = useRef(null);\n\n  /**\n   * Fill in missing months with zero values and format labels with month + year\n   * Ensures chart always shows all months in the requested range, even if no data exists\n   */\n  const fillMissingMonths = (data, monthsBack) => {\n    const result = [];\n    const today = new Date();\n    const monthNames = [''Jan'', ''Feb'', ''Mar'', ''Apr'', ''May'', ''Jun'', ''Jul'', ''Aug'', ''Sep'', ''Oct'', ''Nov'', ''Dec''];\n\n    // Create map of existing data by year-month\n    const dataMap = new Map();\n    data.forEach(item => {\n      // Query returns Year and Month fields (e.g., Year=2025, Month=1)\n      const key = `$' + '{item.Year}-$' + '{item.Month}`;\n      dataMap.set(key, item);\n    });\n\n    // Generate all months in range\n    for (let i = monthsBack - 1; i >= 0; i--) {\n      const date = new Date(today.getFullYear(), today.getMonth() - i, 1);\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1; // JavaScript months are 0-indexed, query returns 1-indexed\n      const key = `$' + '{year}-$' + '{month}`;\n      const monthLabel = `$' + '{monthNames[date.getMonth()]} $' + '{year}`;\n\n      if (dataMap.has(key)) {\n        // Use existing data but update label to include year\n        const existing = dataMap.get(key);\n        result.push({\n          ...existing,\n          MonthName: monthLabel\n        });\n      } else {\n        // Fill missing month with zeros\n        result.push({\n          Year: year,\n          Month: month,\n          MonthName: monthLabel,\n          PaymentCount: 0,\n          TotalPaid: 0,\n          AvgPayment: 0,\n          AvgDaysToPayment: 0,\n          UniqueAccounts: 0\n        });\n      }\n    }\n\n    return result;\n  };\n\n  /**\n   * ARCHITECTURAL DECISION: Client-Side Aggregation\n   *\n   * This component follows MemberJunction''s best practice pattern:\n   * - SQL returns raw data (invoices with DaysOverdue calculated)\n   * - JavaScript aggregates into aging buckets\n   *\n   * Benefits:\n   * - Simpler SQL queries that are easier to maintain\n   * - Flexible bucket definitions that can change without SQL updates\n   * - Raw data available for multiple visualizations\n   * - Better performance through in-memory aggregation\n   * - Business logic stays in JavaScript where it''s more testable\n   */\n  const aggregateIntoAgingBuckets = (invoices) => {\n    const buckets = {};\n\n    // Group invoices by aging period\n    invoices.forEach(inv => {\n      const bucket =\n        inv.DaysOverdue < 0 ? ''Not Yet Due'' :\n        inv.DaysOverdue < 30 ? ''0-30 days'' :\n        inv.DaysOverdue < 60 ? ''30-60 days'' :\n        inv.DaysOverdue < 90 ? ''60-90 days'' : ''90+ days'';\n\n      if (!buckets[bucket]) {\n        buckets[bucket] = { invoices: [], totalOutstanding: 0, totalDaysOverdue: 0 };\n      }\n      buckets[bucket].invoices.push(inv);\n      buckets[bucket].totalOutstanding += inv.BalanceDue;\n      buckets[bucket].totalDaysOverdue += inv.DaysOverdue;\n    });\n\n    // Convert to array format for chart\n    return Object.entries(buckets).map(([bucket, data]) => ({\n      AgeBucket: bucket,\n      InvoiceCount: data.invoices.length,\n      TotalOutstanding: data.totalOutstanding,\n      AvgDaysOverdue: Math.round(data.totalDaysOverdue / data.invoices.length),\n      AvgOutstanding: data.totalOutstanding / data.invoices.length\n    })).sort((a, b) => {\n      // Sort by aging progression (Not Yet Due → 0-30 → 30-60 → 60-90 → 90+)\n      const order = {''Not Yet Due'': 0, ''0-30 days'': 1, ''30-60 days'': 2, ''60-90 days'': 3, ''90+ days'': 4};\n      return order[a.AgeBucket] - order[b.AgeBucket];\n    });\n  };\n\n  // Load initial 3 queries when applied filters change\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      setErrors({});\n\n      // Clear selections when filters change\n      setSelectedSegment(null);\n\n      try {\n        // Execute first 3 queries in parallel\n        const [invoicesResult, trendsResult, topAccountsResult] = await Promise.all([\n          utilities.rq.RunQuery({\n            QueryName: ''Outstanding Invoices'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              MinOutstanding: appliedMinOutstanding,\n              AccountType: appliedAccountType\n            }\n          }),\n          utilities.rq.RunQuery({\n            QueryName: ''Payment Trends'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              MonthsBack: appliedMonthsBack,\n              PaymentMethod: appliedPaymentMethod,\n              AccountType: appliedAccountType\n            }\n          }),\n          utilities.rq.RunQuery({\n            QueryName: ''Top Accounts by Outstanding'',\n            CategoryPath: ''Demo'',\n            Parameters: {\n              TopN: appliedTopN,\n              MinOutstanding: appliedMinOutstanding,\n              AccountType: appliedAccountType\n            }\n          })\n        ]);\n\n        // Process outstanding invoices result and aggregate into aging buckets\n        if (invoicesResult && invoicesResult.Success && invoicesResult.Results) {\n          const rawData = invoicesResult.Results;\n          setRawInvoices(rawData);\n\n          // Aggregate raw invoices into aging buckets client-side\n          const aggregatedData = aggregateIntoAgingBuckets(rawData);\n          setAgingData(aggregatedData);\n        } else {\n          setErrors(prev => ({ ...prev, aging: invoicesResult?.ErrorMessage || ''Failed to load invoice data'' }));\n        }\n\n        // Process payment trends result\n        if (trendsResult && trendsResult.Success && trendsResult.Results) {\n          // Fill in missing months and add year to labels\n          const filledData = fillMissingMonths(trendsResult.Results, appliedMonthsBack);\n          setPaymentTrendsData(filledData);\n        } else {\n          setErrors(prev => ({ ...prev, trends: trendsResult?.ErrorMessage || ''Failed to load payment trends'' }));\n        }\n\n        // Process top accounts result\n        if (topAccountsResult && topAccountsResult.Success && topAccountsResult.Results) {\n          setTopAccountsData(topAccountsResult.Results);\n        } else {\n          setErrors(prev => ({ ...prev, topAccounts: topAccountsResult?.ErrorMessage || ''Failed to load top accounts'' }));\n        }\n      } catch (err) {\n        console.error(''Error loading invoice aging data:'', err);\n        setErrors({ general: err.message || ''An unexpected error occurred'' });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [appliedMinOutstanding, appliedAccountType, appliedMonthsBack, appliedPaymentMethod, appliedTopN]);\n\n  // Render D3 aging bucket visualization when agingData changes\n  useEffect(() => {\n    if (!agingChartRef.current || !agingData || agingData.length === 0 || !d3Lib) {\n      return;\n    }\n\n    // Clear previous chart\n    d3Lib.select(agingChartRef.current).selectAll(''*'').remove();\n\n    // Chart dimensions\n    const margin = { top: 20, right: 30, bottom: 60, left: 80 };\n    const width = 700 - margin.left - margin.right;\n    const height = 350 - margin.top - margin.bottom;\n\n    // Create SVG\n    const svg = d3Lib.select(agingChartRef.current)\n      .append(''svg'')\n      .attr(''width'', width + margin.left + margin.right)\n      .attr(''height'', height + margin.top + margin.bottom)\n      .append(''g'')\n      .attr(''transform'', `translate($' + '{margin.left},$' + '{margin.top})`);\n\n    // Color scale - green → yellow → red based on aging severity\n    const colorScale = d3Lib.scaleOrdinal()\n      .domain([''Not Yet Due'', ''0-30 days'', ''30-60 days'', ''60-90 days'', ''90+ days''])\n      .range([''#10B981'', ''#F59E0B'', ''#EF4444'', ''#DC2626'', ''#991B1B'']);\n\n    // X scale\n    const x = d3Lib.scaleBand()\n      .domain(agingData.map(d => d.AgeBucket))\n      .range([0, width])\n      .padding(0.2);\n\n    // Y scale\n    const maxValue = d3Lib.max(agingData, d => d.TotalOutstanding);\n    const y = d3Lib.scaleLinear()\n      .domain([0, maxValue * 1.1])\n      .range([height, 0]);\n\n    // Add X axis\n    svg.append(''g'')\n      .attr(''transform'', `translate(0,$' + '{height})`)\n      .call(d3Lib.axisBottom(x))\n      .selectAll(''text'')\n      .style(''text-anchor'', ''end'')\n      .attr(''dx'', ''-.8em'')\n      .attr(''dy'', ''.15em'')\n      .attr(''transform'', ''rotate(-45)'')\n      .style(''font-size'', ''12px'');\n\n    // Add Y axis\n    svg.append(''g'')\n      .call(d3Lib.axisLeft(y).ticks(6).tickFormat(d => ''$'' + d3Lib.format('','')(d)))\n      .style(''font-size'', ''12px'');\n\n    // Add Y axis label\n    svg.append(''text'')\n      .attr(''transform'', ''rotate(-90)'')\n      .attr(''y'', 0 - margin.left + 20)\n      .attr(''x'', 0 - (height / 2))\n      .attr(''dy'', ''1em'')\n      .style(''text-anchor'', ''middle'')\n      .style(''font-size'', ''12px'')\n      .style(''fill'', ''#666'')\n      .text(''Total Outstanding ($)'');\n\n    // Add bars with click handling\n    svg.selectAll(''.bar'')\n      .data(agingData)\n      .enter()\n      .append(''rect'')\n      .attr(''class'', ''bar'')\n      .attr(''x'', d => x(d.AgeBucket))\n      .attr(''y'', d => y(d.TotalOutstanding))\n      .attr(''width'', x.bandwidth())\n      .attr(''height'', d => height - y(d.TotalOutstanding))\n      .attr(''fill'', d => colorScale(d.AgeBucket))\n      .attr(''opacity'', 0.8)\n      .style(''cursor'', ''pointer'')\n      .on(''mouseover'', function(event, d) {\n        d3Lib.select(this).attr(''opacity'', 1);\n      })\n      .on(''mouseout'', function(event, d) {\n        d3Lib.select(this).attr(''opacity'', 0.8);\n      })\n      .on(''click'', function(event, d) {\n        // Call handleBucketClick with compatible format\n        handleBucketClick({\n          label: d.AgeBucket,\n          value: d.TotalOutstanding,\n          records: [] // D3 doesn''t track individual records\n        });\n      });\n\n    // Add value labels on bars\n    svg.selectAll(''.label'')\n      .data(agingData)\n      .enter()\n      .append(''text'')\n      .attr(''class'', ''label'')\n      .attr(''x'', d => x(d.AgeBucket) + x.bandwidth() / 2)\n      .attr(''y'', d => y(d.TotalOutstanding) - 5)\n      .attr(''text-anchor'', ''middle'')\n      .style(''font-size'', ''11px'')\n      .style(''font-weight'', ''bold'')\n      .style(''fill'', ''#333'')\n      .text(d => ''$'' + d3Lib.format('',.0f'')(d.TotalOutstanding));\n\n    // Add invoice count labels below bars\n    svg.selectAll(''.count-label'')\n      .data(agingData)\n      .enter()\n      .append(''text'')\n      .attr(''class'', ''count-label'')\n      .attr(''x'', d => x(d.AgeBucket) + x.bandwidth() / 2)\n      .attr(''y'', height + 15)\n      .attr(''text-anchor'', ''middle'')\n      .style(''font-size'', ''10px'')\n      .style(''fill'', ''#666'')\n      .text(d => `($' + '{d.InvoiceCount} inv)`);\n\n    // Cleanup function - remove all D3 selections\n    return () => {\n      d3Lib.select(agingChartRef.current).selectAll(''*'').remove();\n    };\n  }, [agingData, d3Lib]);\n\n  // Apply filters\n  const handleApplyFilters = () => {\n    setAppliedMinOutstanding(pendingMinOutstanding);\n    setAppliedAccountType(pendingAccountType);\n    setAppliedMonthsBack(pendingMonthsBack);\n    setAppliedPaymentMethod(pendingPaymentMethod);\n    setAppliedTopN(pendingTopN);\n  };\n\n  // Clear filters\n  const handleClearFilters = () => {\n    setPendingMinOutstanding(0);\n    setPendingAccountType(null);\n    setPendingMonthsBack(12);\n    setPendingPaymentMethod(null);\n    setPendingTopN(10);\n    setAppliedMinOutstanding(0);\n    setAppliedAccountType(null);\n    setAppliedMonthsBack(12);\n    setAppliedPaymentMethod(null);\n    setAppliedTopN(10);\n  };\n\n  // Handle aging bucket click\n  const handleBucketClick = async (clickData) => {\n    console.log(''Bucket clicked:'', clickData);\n\n    // Set selected segment\n    setSelectedSegment(clickData);\n    setLoadingDrilldown(true);\n\n    // Map bucket label to age range (minDays, maxDays)\n    const bucketRanges = {\n      ''Not Yet Due'': { minDays: -999999, maxDays: -1 },\n      ''0-30 days'': { minDays: 0, maxDays: 30 },\n      ''30-60 days'': { minDays: 31, maxDays: 60 },\n      ''60-90 days'': { minDays: 61, maxDays: 90 },\n      ''90+ days'': { minDays: 91, maxDays: 999999 }\n    };\n\n    const range = bucketRanges[clickData.label];\n    if (!range) {\n      console.error(''Unknown bucket label:'', clickData.label);\n      setDrilldownData([]);\n      setLoadingDrilldown(false);\n      return;\n    }\n\n    try {\n      // Load invoices via query - Outstanding Invoices already supports AccountType filter\n      const result = await utilities.rq.RunQuery({\n        QueryName: ''Outstanding Invoices'',\n        CategoryPath: ''Demo'',\n        Parameters: {\n          AccountType: appliedAccountType || undefined,\n          MinOutstanding: appliedMinOutstanding > 0 ? appliedMinOutstanding : undefined\n        }\n      });\n\n      if (result && result.Success && result.Results) {\n        // Filter client-side by bucket age range\n        const filtered = result.Results.filter(invoice => {\n          const daysOverdue = invoice.DaysOverdue || 0;\n          return daysOverdue >= range.minDays && daysOverdue <= range.maxDays;\n        });\n        setDrilldownData(filtered);\n      } else {\n        console.error(''Failed to load invoices:'', result?.ErrorMessage);\n        setDrilldownData([]);\n      }\n    } catch (err) {\n      console.error(''Error loading invoices:'', err);\n      setDrilldownData([]);\n    } finally {\n      setLoadingDrilldown(false);\n    }\n\n    // Fire external event if provided\n    if (onBucketClick) {\n      onBucketClick({\n        bucket: clickData.label,\n        invoiceCount: clickData.records?.length || 0,\n        totalOutstanding: clickData.value\n      });\n    }\n  };\n\n  // Account row click removed - EntityDataGrid default behavior opens account detail page\n\n  // Handle invoice row click in DataGrid\n  const handleInvoiceClick = (record) => {\n    if (onInvoiceClick) {\n      onInvoiceClick({\n        invoiceId: record?.ID,\n        invoiceNumber: record?.InvoiceNumber,\n        totalAmount: record?.TotalAmount,\n        balanceDue: record?.BalanceDue,\n        status: record?.Status\n      });\n    }\n  };\n\n  // Clear all selections\n  const handleClearSelection = () => {\n    setSelectedSegment(null);\n    setDrilldownData(null);\n  };\n\n\n  // Payment history filter removed - no longer using account drill-down\n\n  // Loading state\n  if (loading) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n        <div>Loading invoice aging data...</div>\n      </div>\n    );\n  }\n\n  // General error state\n  if (errors.general) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n        <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n        <div style={{ marginTop: ''8px'' }}>{errors.general}</div>\n      </div>\n    );\n  }\n\n  // Check if all queries failed\n  const allFailed = errors.aging && errors.trends && errors.topAccounts;\n  if (allFailed) {\n    return (\n      <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#ff4d4f'' }}>\n        <div style={{ fontSize: ''16px'', fontWeight: ''bold'' }}>Error Loading Data</div>\n        <div style={{ marginTop: ''8px'' }}>All data queries failed to load</div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: ''16px'', width: ''100%'', minWidth: ''800px'', boxSizing: ''border-box'' }}>\n      <h2 style={{ marginBottom: ''24px'', fontSize: ''20px'', fontWeight: ''bold'' }}>\n        Invoice Aging Analysis\n      </h2>\n\n      {/* Filter Panel - ALWAYS VISIBLE */}\n      <div style={{\n        marginBottom: ''16px'',\n        padding: ''16px'',\n        backgroundColor: ''#f5f5f5'',\n        borderRadius: ''4px'',\n        width: ''100%'',\n        boxSizing: ''border-box''\n      }}>\n        <div style={{ fontWeight: ''bold'', marginBottom: ''16px'' }}>Filters:</div>\n        <div style={{\n          display: ''grid'',\n          gridTemplateColumns: ''repeat(auto-fit, minmax(200px, 1fr))'',\n          gap: ''16px'',\n          marginBottom: ''16px''\n        }}>\n          <div>\n            <label style={{ display: ''block'', marginBottom: ''8px'', fontSize: ''14px'', fontWeight: ''500'' }}>\n              Min Outstanding\n            </label>\n            <input\n              type=\"number\"\n              value={pendingMinOutstanding}\n              onChange={(e) => setPendingMinOutstanding(Number(e.target.value))}\n              style={{\n                width: ''100%'',\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: ''block'', marginBottom: ''8px'', fontSize: ''14px'', fontWeight: ''500'' }}>\n              Account Type\n            </label>\n            <select\n              value={pendingAccountType || ''''}\n              onChange={(e) => setPendingAccountType(e.target.value || null)}\n              style={{\n                width: ''100%'',\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            >\n              <option value=\"\">All Types</option>\n              <option value=\"Customer\">Customer</option>\n              <option value=\"Prospect\">Prospect</option>\n              <option value=\"Partner\">Partner</option>\n            </select>\n          </div>\n\n          <div>\n            <label style={{ display: ''block'', marginBottom: ''8px'', fontSize: ''14px'', fontWeight: ''500'' }}>\n              Months Back (Trends)\n            </label>\n            <input\n              type=\"number\"\n              value={pendingMonthsBack}\n              onChange={(e) => setPendingMonthsBack(Number(e.target.value))}\n              style={{\n                width: ''100%'',\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: ''block'', marginBottom: ''8px'', fontSize: ''14px'', fontWeight: ''500'' }}>\n              Payment Method\n            </label>\n            <select\n              value={pendingPaymentMethod || ''''}\n              onChange={(e) => setPendingPaymentMethod(e.target.value || null)}\n              style={{\n                width: ''100%'',\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            >\n              <option value=\"\">All Methods</option>\n              <option value=\"Credit Card\">Credit Card</option>\n              <option value=\"Check\">Check</option>\n              <option value=\"Wire Transfer\">Wire Transfer</option>\n              <option value=\"ACH\">ACH</option>\n            </select>\n          </div>\n\n          <div>\n            <label style={{ display: ''block'', marginBottom: ''8px'', fontSize: ''14px'', fontWeight: ''500'' }}>\n              Top N Accounts\n            </label>\n            <input\n              type=\"number\"\n              value={pendingTopN}\n              onChange={(e) => setPendingTopN(Number(e.target.value))}\n              style={{\n                width: ''100%'',\n                padding: ''6px 12px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px''\n              }}\n            />\n          </div>\n        </div>\n\n        {/* Filter buttons */}\n        <div style={{ display: ''flex'', gap: ''8px'' }}>\n          <button\n            onClick={handleApplyFilters}\n            style={{\n              padding: ''6px 16px'',\n              backgroundColor: ''#1890ff'',\n              color: ''white'',\n              border: ''none'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              fontSize: ''14px'',\n              fontWeight: ''bold''\n            }}\n          >\n            Apply Filters\n          </button>\n          {(appliedMinOutstanding > 0 || appliedAccountType || appliedMonthsBack !== 12 || appliedPaymentMethod || appliedTopN !== 10) && (\n            <button\n              onClick={handleClearFilters}\n              style={{\n                padding: ''6px 12px'',\n                backgroundColor: ''#ff4d4f'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''14px''\n              }}\n            >\n              Clear Filters\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Aging Buckets Visualization (D3.js Custom Chart) */}\n      {!errors.aging && agingData.length > 0 && (\n        <div style={{ marginBottom: ''32px'' }}>\n          <h3 style={{ marginBottom: ''16px'', fontSize: ''16px'', fontWeight: ''bold'' }}>\n            Invoice Aging by Period (D3 Custom Visualization)\n          </h3>\n          <div ref={agingChartRef} style={{ width: ''100%'', minHeight: ''350px'' }} />\n        </div>\n      )}\n      {errors.aging && (\n        <div style={{\n          marginBottom: ''32px'',\n          padding: ''16px'',\n          backgroundColor: ''#fff2e8'',\n          border: ''1px solid #ffbb96'',\n          borderRadius: ''4px'',\n          color: ''#d4380d''\n        }}>\n          Aging Analysis Error: {errors.aging}\n        </div>\n      )}\n\n      {/* Payment Trends Chart */}\n      {!errors.trends && paymentTrendsData.length > 0 && (\n        <div style={{ marginBottom: ''32px'' }}>\n          <h3 style={{ marginBottom: ''16px'', fontSize: ''16px'', fontWeight: ''bold'' }}>\n            Payment Trends (Last {appliedMonthsBack} Months)\n          </h3>\n          <SimpleChart\n            entityName=\"Payments\"\n            data={paymentTrendsData}\n            chartType=\"line\"\n            groupBy=\"MonthName\"\n            valueField=\"TotalPaid\"\n            aggregateMethod=\"sum\"\n            sortBy={undefined}\n            title=\"\"\n            showLegend={false}\n            height=\"300px\"\n            utilities={utilities}\n            styles={styles}\n            components={components}\n          />\n        </div>\n      )}\n      {errors.trends && (\n        <div style={{\n          marginBottom: ''32px'',\n          padding: ''16px'',\n          backgroundColor: ''#fff2e8'',\n          border: ''1px solid #ffbb96'',\n          borderRadius: ''4px'',\n          color: ''#d4380d''\n        }}>\n          Payment Trends Error: {errors.trends}\n        </div>\n      )}\n\n      {/* Top Accounts Grid */}\n      {!errors.topAccounts && topAccountsData.length > 0 && (\n        <div style={{ marginBottom: ''32px'' }}>\n          <h3 style={{ marginBottom: ''16px'', fontSize: ''16px'', fontWeight: ''bold'' }}>\n            Top {appliedTopN} Accounts by Outstanding Balance\n          </h3>\n          <DataGrid\n            data={topAccountsData}\n            columns={[''AccountName'', ''AccountType'', ''InvoiceCount'', ''TotalOutstanding'', ''AvgOutstanding'', ''AvgDaysOverdue'', ''MaxDaysOverdue'']}\n            sorting={true}\n            paging={false}\n            filtering={false}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n          />\n        </div>\n      )}\n      {errors.topAccounts && (\n        <div style={{\n          marginBottom: ''32px'',\n          padding: ''16px'',\n          backgroundColor: ''#fff2e8'',\n          border: ''1px solid #ffbb96'',\n          borderRadius: ''4px'',\n          color: ''#d4380d''\n        }}>\n          Top Accounts Error: {errors.topAccounts}\n        </div>\n      )}\n\n      {/* Invoice Drill-Down Section - Shows invoices in selected aging bucket */}\n      {selectedSegment && (\n        <div style={{ marginTop: ''32px'' }}>\n          {/* Header with clear selection button */}\n          <div style={{\n            marginBottom: ''16px'',\n            display: ''flex'',\n            justifyContent: ''space-between'',\n            alignItems: ''center'',\n            padding: ''12px 16px'',\n            backgroundColor: ''#e6f7ff'',\n            borderRadius: ''4px'',\n            border: ''1px solid #91d5ff''\n          }}>\n            <div style={{ fontSize: ''16px'', fontWeight: ''bold'', color: ''#0050b3'' }}>\n              Invoices in {selectedSegment.label} Bucket\n            </div>\n            <button\n              onClick={handleClearSelection}\n              style={{\n                padding: ''6px 16px'',\n                backgroundColor: ''#1890ff'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''14px'',\n                fontWeight: ''500''\n              }}\n            >\n              Clear Selection\n            </button>\n          </div>\n\n          {/* DataGrid for invoices */}\n          {loadingDrilldown ? (\n            <div style={{ textAlign: ''center'', padding: ''40px'' }}>\n              <div>Loading invoices...</div>\n            </div>\n          ) : drilldownData && drilldownData.length > 0 ? (\n            <DataGrid\n              data={drilldownData}\n              columns={[''InvoiceNumber'', ''Account'', ''AccountType'', ''InvoiceDate'', ''DueDate'', ''TotalAmount'', ''BalanceDue'', ''Status'', ''DaysOverdue'']}\n              entityName=\"Invoices\"\n              entityPrimaryKeys={[''ID'']}\n              sorting={true}\n              paging={true}\n              filtering={true}\n              onRowClick={handleInvoiceClick}\n              utilities={utilities}\n              styles={styles}\n              components={components}\n              callbacks={callbacks}\n            />\n          ) : drilldownData && drilldownData.length === 0 ? (\n            <div style={{ textAlign: ''center'', padding: ''40px'', color: ''#8c8c8c'' }}>\n              <div style={{ fontSize: ''16px'' }}>No Invoices Found</div>\n              <div style={{ marginTop: ''8px'' }}>\n                No invoices found in this aging bucket\n              </div>\n            </div>\n          ) : null}\n        </div>\n      )}\n\n      {/* NOTE: Payment History drill-down removed because EntityDataGrid''s default row click\n          behavior opens the entity record detail page, causing navigation conflicts.\n          Users can click accounts in the Top Accounts grid to view account details directly. */}\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage\n<InvoiceAgingAnalysis\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>\n\n// With event handlers\n<InvoiceAgingAnalysis\n  onBucketClick={(event) => {\n    console.log(`Bucket $' + '{event.bucket}: $' + '{event.invoiceCount} invoices, $$' + '{event.totalOutstanding}`);\n  }}\n  onAccountClick={(event) => {\n    console.log(`Account $' + '{event.accountName}: $' + '{event.invoiceCount} invoices overdue`);\n  }}\n  onInvoiceClick={(event) => {\n    console.log(`Invoice $' + '{event.invoiceNumber} clicked`);\n    // Navigate to invoice detail page\n    router.push(`/invoices/$' + '{event.invoiceId}`);\n  }}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>\n\n// With pre-configured filters via savedUserSettings\n<InvoiceAgingAnalysis\n  savedUserSettings={{\n    appliedMinOutstanding: 5000,\n    appliedAccountType: ''Customer'',\n    appliedMonthsBack: 6,\n    appliedPaymentMethod: ''Credit Card'',\n    appliedTopN: 20\n  }}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  onSaveUserSettings={onSaveUserSettings}\n/>"}'
SET
  @FunctionalRequirements_a79cf76d = N'## Business Objectives
- Monitor accounts receivable aging across different time periods
- Identify high-risk accounts with significant overdue balances
- Track payment trends and average days to payment
- Enable drill-down from aging buckets to specific invoices and payments
- Support filtering by date range, account type, and minimum outstanding amount

## Functional Requirements
- **Interactive Filter Panel**: Date range selector, account type dropdown, minimum outstanding amount input
- **Aging Buckets Chart**: Stacked bar chart showing outstanding amounts by aging period (0-30, 30-60, 60-90, 90+ days)
- **Payment Trends Chart**: Dual-axis chart showing monthly payment totals and average days to payment (last 12 months)
- **Click Aging Bucket**: When user clicks bucket, show three panels: top accounts, KPI cards, and invoice grid
- **Top Accounts Panel**: Conditional query showing top 10 accounts with most outstanding in selected bucket
- **KPI Cards**: Total outstanding, invoice count, average days overdue for selected bucket
- **Invoice Grid**: EntityDataGrid with invoices in selected aging bucket, color-coded by overdue status (green/yellow/red)
- **Account Selection**: Click account in top accounts list to show account payment history (conditional query 4)
- **Payment Drill-Down**: Click invoice row to show EntityDataGrid of payments for that invoice
- **Filter Coordination**: All queries re-execute when filters change
- **Query Result Caching**: Cache query results for configured duration (default 5 minutes) to reduce database load
- **State Cleanup**: Clear conditional queries when selections change
- **Custom Column Rendering**: Color-code DaysOverdue column based on thresholds
- **Multi-Level State**: Track filter values, selected bucket, selected account, and selected invoice
- **Loading States**: Independent loading for each query and grid
- **Empty States**: Handle buckets with no invoices or accounts with no history'
SET
  @TechnicalDesign_a79cf76d = N'## Component Architecture

### Custom Visualization with D3.js
**This component demonstrates the ESCAPE HATCH pattern - using D3.js for truly custom visualizations when generic components aren''t flexible enough.**

**Why D3.js for Aging Buckets?**
- **Unique Requirements**: Need grouped bars with heatmap color intensity based on overdue severity
- **Custom Interactions**: Click handling with detailed tooltips showing invoice counts and amounts
- **Visual Complexity**: Generic bar charts can''t show the risk severity through color gradients
- **Ultimate Control**: D3 provides pixel-perfect control over every visual element

**Hybrid Visualization Strategy:**
- **D3.js Aging Visualization**: Custom grouped bar chart with color-coded risk levels (green → yellow → red)
- **SimpleChart Payment Trends**: Generic line chart sufficient for simple trend visualization
- **EntityDataGrid**: Generic grid component for drill-down tables

**When to Use D3 vs Generic Components:**
- Use D3: Unique visualizations, custom interactions, pixel-perfect control needed
- Use Generic: Standard charts, simple data display, rapid development priority

### Modern SQL + JavaScript Pattern
This component follows MemberJunction''s best practice: **SQL returns raw data, JavaScript aggregates**.

**Benefits of client-side aggregation:**
- **Simpler SQL**: Query just returns invoice records with DaysOverdue calculated
- **Flexibility**: Easy to change bucket ranges or add new aggregations without SQL changes
- **Reusability**: Raw invoice data can be used for multiple visualizations
- **Performance**: SQL does one simple query, JavaScript groups data in memory
- **Maintainability**: Business logic stays in JavaScript where it''s easier to modify and test

### Data Flow
1. **Initial Load**: Three concurrent RunQuery calls execute for outstanding invoices, payment trends, and top accounts
2. **Raw Data Loading**: ''Outstanding Invoices'' query returns all invoice records with DaysOverdue field
3. **Client-Side Aggregation**: JavaScript function groups raw invoices into aging buckets (Not Yet Due, 0-30, 30-60, 60-90, 90+ days)
4. **Filter Panel**: User adjusts filters (pending state) and clicks Apply Filters button
5. **Data Reload**: Applied filter state triggers useEffect to reload all 3 queries
6. **Chart Rendering**: SimpleChart displays aggregated aging bucket data
7. **Bucket Drill-Down**: User clicks aging bucket → selectedSegment set → raw invoices filtered for that bucket shown in EntityDataGrid
8. **Account Selection**: User clicks account row → selectedAccount set → EntityDataGrid shows payment history
9. **Filter Consistency**: All EntityDataGrid filters use applied filter values for consistency

### State Management
**Pending Filter State** (user input):
- `pendingMinOutstanding`, `pendingAccountType`, `pendingMonthsBack`, `pendingPaymentMethod`, `pendingTopN`

**Applied Filter State** (active filters):
- `appliedMinOutstanding`, `appliedAccountType`, `appliedMonthsBack`, `appliedPaymentMethod`, `appliedTopN`

**Data State**:
- `rawInvoices`: Raw invoice records from ''Outstanding Invoices'' query
- `agingData`: Aggregated aging bucket data (computed from rawInvoices)
- `paymentTrendsData`: Payment trends query results
- `topAccountsData`: Top accounts query results

**Selection State**:
- `selectedSegment`: Currently selected aging bucket (null = no drill-down, object = bucket drill-down)
- `selectedAccount`: Currently selected account (null = no account view, object = payment history view)

**UI State**:
- `loading`: Boolean for async operation status
- `errors`: Object with error messages per query/operation

### Filter Panel Pattern
**Split Pending/Applied State**:
- User changes inputs → updates pending state only
- Apply Filters button → copies pending to applied state
- Applied state triggers data reload via useEffect
- Prevents reload on every keystroke
- Always visible (no toggle)
- Clear Filters button resets all to defaults

### Query Coordination
**Three Concurrent Queries**: All execute in parallel on mount/applied filter change
1. Outstanding Invoices - Raw invoice records with DaysOverdue (aggregated client-side into aging buckets)
2. Payment Trends - Monthly payment patterns
3. Top Accounts by Outstanding - Accounts with highest overdue

### Client-Side Aggregation Function
The `aggregateIntoAgingBuckets()` function:
1. Groups raw invoices by aging period based on DaysOverdue
2. Calculates totals and averages per bucket
3. Returns array of bucket objects sorted by aging progression
4. Enables flexible bucket definition changes without SQL modifications

### Multi-Level Drill-Down
**Level 1 - Aging Bucket Click**:
- User clicks aging bucket chart segment
- Sets `selectedSegment` with clickData
- EntityDataGrid shows invoices filtered by DaysOverdue range
- Maps bucket name to SQL filter (e.g., ''30-60 days'' → DaysOverdue BETWEEN 31 AND 60)
- Includes applied account type and min outstanding filters

**Level 2 - Account Selection**:
- User clicks account in top accounts EntityDataGrid
- Sets `selectedAccount` with record data
- Shows KPI summary cards (total outstanding, invoice count, etc.)
- EntityDataGrid shows all invoices for selected account
- Filter uses AccountName for simplicity

### EntityDataGrid Integration
**Invoice Drill-Down Filter** (from aging bucket):
1. Aging bucket filter: Maps bucket to DaysOverdue range
2. Account type filter (optional): `AccountID IN (SELECT ID FROM CRM.vwAccounts WHERE AccountType=''{appliedAccountType}'')`
3. Minimum outstanding filter (optional): `BalanceDue >= {appliedMinOutstanding}`
4. Filters combined with AND operator

**Payment History Filter** (from account selection):
- Simple filter: `AccountName=''{selectedAccount.AccountName}''`
- Shows all invoices for the account regardless of status

### Event System
**onBucketClick**: Fires when aging bucket clicked, provides:
- bucket, invoiceCount, totalOutstanding

**onAccountClick**: Fires when account row clicked, provides:
- accountName, accountType, invoiceCount, totalOutstanding, avgDaysOverdue

**onInvoiceClick**: Fires when invoice row clicked, provides:
- invoiceId, invoiceNumber, totalAmount, balanceDue, status

### Educational Value
Demonstrates:
1. **Custom D3.js Visualization**: Truly custom aging bucket viz with color-coded risk levels
2. **D3 Lifecycle Management**: Proper initialization, updates, and cleanup with useEffect + useRef
3. **D3 Selections & Data Binding**: SVG element creation and data-driven updates
4. **When to Use D3**: Shows the decision point - custom viz needs vs generic component limitations
5. **Hybrid Pattern**: D3 custom viz + SimpleChart + EntityDataGrid in one component
6. **Advanced Filter Pattern**: Pending/applied state split prevents premature data loads
7. **Multi-Query Dashboard**: Three concurrent queries with independent error handling
8. **Multi-Level Drill-Down**: Bucket → Invoices, Account → Payment History
9. **Filter Coordination**: Consistent filter application across queries and grids
10. **Complex SQL Filters**: Aging bucket mapping, subqueries, range filters
11. **Always-Visible Filters**: User control without UI disruption
12. **Event Exposure**: External consumers can listen to all user interactions
13. **Master Complexity**: Most complex hybrid pattern with D3 + 4 queries + 2 drill-down paths'
SET
  @FunctionalRequirementsVector_a79cf76d = N'[-0.0037815235555171967,0.08919104188680649,-0.03325061500072479,-0.04266293719410896,0.020327627658843994,0.0209960974752903,0.032098110765218735,0.053986966609954834,0.03592995926737785,0.0393463596701622,-0.02497497759759426,0.03255980461835861,0.010147145949304104,0.10022604465484619,-0.048226308077573776,0.009531187824904919,-0.004486424848437309,0.011486353352665901,0.03122742474079132,-0.007362771779298782,0.00022249425819609314,0.00011227698269067332,-0.014066237956285477,-0.008703667670488358,-0.011750533245503902,0.0012241527438163757,0.010794357396662235,-0.01827387884259224,0.0000967620944720693,-0.09580106288194656,0.029088661074638367,-0.028380699455738068,-0.0367482453584671,-0.007946263998746872,0.0000022958115550864022,-0.03822318837046623,-0.028883660212159157,-0.006720313336700201,-0.04102298617362976,0.049259185791015625,-0.058554574847221375,-0.03431353718042374,0.03578796610236168,0.0020896028727293015,-0.023307589814066887,-0.017453547567129135,-0.04118550196290016,0.03915567323565483,0.0003360689152032137,-0.0671197772026062,-0.009539228864014149,0.006453318055719137,-0.0913943201303482,-0.0220074150711298,0.026370229199528694,-0.07856191694736481,0.027236565947532654,0.0348895825445652,0.04901118576526642,-0.1684185266494751,-0.038527265191078186,0.04739316180348396,0.014176512137055397,-0.04335186257958412,0.08819110691547394,0.04497469589114189,0.08317527920007706,0.021439088508486748,-0.010282233357429504,-0.03808010369539261,0.028267711400985718,-0.008636566810309887,0.0009978259913623333,-0.010307993739843369,-0.05476389080286026,-0.022272607311606407,-0.02502845972776413,-0.008091970346868038,0.005784332286566496,0.023145463317632675,-0.058221522718667984,0.05247822031378746,-0.024482162669301033,0.03320464864373207,-0.013830538839101791,-0.00601077638566494,-0.015728596597909927,-0.03751051053404808,-0.005108113866299391,0.00167649588547647,0.009694851003587246,-0.038688987493515015,0.0849577859044075,0.044353462755680084,-0.017316700890660286,-0.020162522792816162,0.02477511763572693,-0.03453391045331955,0.04892418161034584,0.025198234245181084,0.03870777785778046,0.021981438621878624,0.002867293544113636,0.03537365421652794,0.04648653045296669,0.025167927145957947,-0.02670803852379322,-0.10736983269453049,-0.014600339345633984,0.05844269320368767,-0.0014549215557053685,-0.0030924666207283735,-0.022887298837304115,0.043370138853788376,0.04673337563872337,0.038709044456481934,-0.02778792940080166,-0.035126425325870514,-0.007764696609228849,-0.005359026603400707,0.06046967953443527,0.0406569167971611,0.037083037197589874,0.02923152782022953,-0.012138914316892624,0.041248079389333725,-0.07342276722192764,-0.018560655415058136,-0.014177525416016579,0.007819452323019505,0.008864259347319603,-0.010902203619480133,0.006326624192297459,-0.03564037010073662,0.017663491889834404,-0.007037472445517778,0.032567087560892105,0.016362877562642097,-0.06615041196346283,-0.008174628019332886,0.0044919527135789394,0.008930220268666744,-0.04007181525230408,0.010748784057796001,-0.011292951181530952,-0.0069214822724461555,-0.020798498764634132,0.06031916290521622,-0.002370161935687065,0.0021220382768660784,0.021158365532755852,-0.013484819792211056,0.019900185987353325,0.02319859154522419,0.03228820860385895,-0.03346535190939903,0.03906384855508804,-0.04627836123108864,0.052801791578531265,-0.05995567888021469,-0.0008941307314671576,0.02992919646203518,0.020078623667359352,-0.01971852034330368,-0.021978138014674187,0.040555309504270554,-0.012319856323301792,0.00601200433447957,-0.08821386843919754,-0.03848346695303917,-0.03283776342868805,-0.003148025833070278,0.013610097579658031,-0.000651698384899646,0.033087681978940964,-0.0674692913889885,0.00869679544121027,-0.043386273086071014,-0.0506855733692646,-0.014980018138885498,0.02346166968345642,-0.04980774223804474,0.007425966206938028,0.0582544282078743,0.062472302466630936,-0.039483170956373215,-0.0636027380824089,0.025500737130641937,-0.030544405803084373,-0.044787097722291946,0.014083999209105968,-0.004291314631700516,-0.04388539120554924,0.021643273532390594,-0.00021360984828788787,0.05451911315321922,-0.014875787310302258,-0.03505696728825569,0.025986626744270325,0.015094081871211529,0.012144377455115318,-0.09303011745214462,0.06854555755853653,0.048667773604393005,0.035148657858371735,-0.028603028506040573,-0.01128197368234396,0.009077802300453186,-0.01285172626376152,-0.03784248232841492,-0.01751643605530262,0.023369330912828445,-0.02255823276937008,-0.012683718465268612,-0.02345958538353443,0.05667350813746452,0.02875298261642456,-0.01568850688636303,-0.02283116988837719,0.008453788235783577,-0.019305037334561348,0.003250426845625043,-0.003818448632955551,-0.0027105859480798244,0.07965897768735886,0.050214722752571106,0.041730694472789764,0.024634666740894318,0.029735717922449112,-0.048933763056993484,-0.005454409867525101,0.02011176012456417,0.009539189748466015,-0.011114345863461494,0.011805616319179535,0.0695897564291954,0.00887612160295248,0.08349244296550751,-0.02041741833090782,0.00015298805374186486,0.05696680769324303,-0.05388738214969635,0.002476241672411561,0.014148080721497536,-0.02772538736462593,-0.037435468286275864,-0.019199419766664505,0.007597357966005802,0.020165203139185905,0.0006440369761548936,-0.029497060924768448,-0.009559017606079578,0.046810124069452286,-0.023260416463017464,-0.02431267872452736,-0.0300659891217947,-0.013994329608976841,-0.027397669851779938,0.004415291361510754,0.05665719881653786,-0.0010684705339372158,-0.033460021018981934,-0.04356910660862923,-0.00840483233332634,0.01778939738869667,-0.031761784106492996,0.039443157613277435,0.03415674343705177,-0.027629153802990913,0.026200201362371445,-0.03616557642817497,0.0030476248357445,0.012832832522690296,0.008832176215946674,-0.026536189019680023,0.0012710338924080133,-0.00589711731299758,0.045420389622449875,-0.04229230806231499,0.017966916784644127,0.005733761470764875,-0.03227182850241661,0.010939128696918488,0.043389782309532166,-0.01615750417113304,-0.010511561296880245,0.059653498232364655,-0.11897950619459152,0.03393774479627609,-0.05389627069234848,-0.012101961299777031,-0.024121863767504692,0.017148315906524658,-0.01602056249976158,-0.03359164297580719,0.018559960648417473,0.02409030869603157,0.02875799499452114,-0.01745300553739071,0.02175247296690941,-0.043696291744709015,0.003735338104888797,0.008391445502638817,0.005420070141553879,-0.01569240540266037,0.0384860560297966,0.055302806198596954,0.026266587898135185,0.008003330789506435,0.0075952522456645966,0.007591427769511938,-0.002921503270044923,0.016064045950770378,-0.04879695177078247,0.03268164023756981,0.021011976525187492,0.03424963355064392,0.040548428893089294,-0.005774016957730055,-0.002818753942847252,0.012322405353188515,-0.01460412796586752,0.007883823476731777,0.09515263140201569,-0.032347291707992554,0.016203342005610466,-0.061174292117357254,-0.02477031759917736,-0.04529641941189766,-0.003605940844863653,0.001609130296856165,0.00040447243372909725,0.018425898626446724,0.0029258369468152523,0.0036954039242118597,-0.010348317213356495,-0.006622804794460535,0.051392778754234314,0.011689135804772377,-0.020329682156443596,0.05173444747924805,-0.0032260597217828035,-0.036445703357458115,0.045065950602293015,-0.015347779728472233,0.018386468291282654,-0.008991334587335587,0.018299974501132965,-0.11306077986955643,0.01080955658107996,-0.01141624990850687,0.043768107891082764,-0.01732192188501358,-0.041326943784952164,0.02090054377913475,-0.023550081998109818,-0.03838345780968666,-0.013611392118036747,-0.030474944040179253,-0.03580271452665329,0.06949003785848618,0.014950936660170555,0.046406153589487076,0.0039495439268648624,0.041419077664613724,0.05105981603264809,0.018119139596819878,-0.03446594625711441,0.006814165506511927,-0.005480102729052305,-0.07772298902273178,-0.0033930803183466196,-0.006076019257307053,-0.028423376381397247,0.028065474703907967,-0.007041639182716608,0.022989165037870407,0.00513591431081295,0.011864728294312954,0.039963480085134506,0.02396148443222046,-0.023079009726643562,0.058043498545885086,0.008718478493392467,0.034473009407520294,-0.002957738935947418,-0.022409092634916306,-0.05067994445562363,-0.02630516327917576,0.012171491049230099,-0.007202384993433952,0.11613825708627701,0.029474403709173203,-0.03344934061169624,-0.00229886663146317,-0.006236417219042778,-0.05641760304570198,0.0708702877163887,0.017265697941184044,-0.022146880626678467,-0.00022279635595623404,-0.03378325328230858,0.036630310118198395,0.05096602067351341,-0.013182050548493862,-0.0888691172003746,0.04283436760306358,0.05682745948433876,-0.012167260982096195,-0.0464058481156826,-0.04701882228255272,-0.03487013280391693,-0.01237153634428978,-0.06434034556150436,0.0399651825428009,0.016240635886788368,-0.023412257432937622,-0.04257463291287422,0.04637208208441734,0.030417662113904953,0.01183608453720808,0.019959617406129837,0.002579126739874482,-0.05700749531388283,0.036029960960149765,-0.026193130761384964,-0.008547035045921803,-0.02087876759469509,0.012550686486065388,0.015969308093190193,-0.04448457434773445,-0.007478054147213697,0.01601260155439377,0.0014806478284299374,-0.060782842338085175,0.06749029457569122,0.04103976488113403,0.0058607738465070724,-0.02801709994673729,-0.02826753817498684,0.019651683047413826,-0.021834632381796837,0.010897461324930191,0.019768662750720978,-0.006077047903090715,0.011735787615180016,-0.0065195863135159016,0.025213642045855522,-0.08987465500831604,-0.032191842794418335,0.05582959204912186,-0.06932300329208374,-0.013946445658802986,-0.0005533926305361092,-0.03249838948249817,-0.03549892455339432,-0.00959344394505024,-0.006623025517910719,0.023837856948375702,0.024458203464746475,0.009576443582773209,0.022022942081093788,-0.03615652397274971,0.005925137549638748,0.06051376461982727,-0.012462321668863297,0.02758149243891239,-0.0019532390870153904,-0.06958749145269394,-0.039038803428411484,0.05709615722298622,-0.0010927593102678657,-0.0046184915117919445,-0.0359005406498909,0.04022254794836044,-0.0037850576918572187,0.016456158831715584,-0.017574505880475044,0.04179210960865021,-0.026544909924268723,0.045298218727111816,-0.014253566041588783,0.014639359898865223,-0.07752874493598938,-0.02422467991709709,0.023256661370396614,-0.0008388875285163522,-0.01730935648083687,-0.04182540997862816,-0.010768186300992966,0.04007009416818619,0.044101983308792114,0.02640695683658123,0.0718470960855484,0.014516407623887062,-0.02294769696891308,0.004036181140691042,0.06976355612277985,-0.028594641014933586,-0.013372649438679218,-0.025315558537840843,0.013814050704240799,0.044222392141819,-0.03290066868066788,0.02269722893834114,0.024552518501877785,0.028503011912107468,0.020742010325193405,-0.023975802585482597,0.0033859580289572477,-0.03422253206372261,-0.06679857522249222,-0.02057279646396637,0.034064967185258865,0.04819688946008682,0.00023087130102794617,-0.013150790706276894,-0.07397617399692535,0.02519226260483265,-0.06398043781518936,-0.00951975304633379,0.008179034106433392,0.016448955982923508,0.051206592470407486,0.022386591881513596,-0.047936197370290756,0.023640243336558342,-0.044713687151670456,-0.01012635137885809,0.028078729286789894,-0.021152237430214882,-0.001329787657596171,-0.006335644982755184,-0.013355270028114319,-0.010639365762472153,0.01252136193215847,0.0208272747695446,-0.032689597457647324,0.008647819980978966,-0.006725705228745937,-0.05474880710244179,0.03994184732437134,0.03231944888830185,-0.03116587921977043,-0.017551494762301445,-0.03129567205905914,0.05269220098853111,-0.057600561529397964,-0.01440984196960926,0.050027020275592804,0.00933043286204338,-0.07301373034715652,-0.037994854152202606,-0.00916779600083828,-0.06055416166782379,-7.178844652175499e-33,0.009622008539736271,-0.03611958771944046,-0.05578332394361496,-0.00396699970588088,0.01727978326380253,0.008700376376509666,0.027905963361263275,-0.0635983794927597,-0.024098629131913185,-0.01342705450952053,-0.0331902951002121,-0.00795054156333208,0.021548986434936523,-0.016604207456111908,-0.007183181121945381,0.004913515876978636,0.03563778102397919,-0.001895264140330255,-0.010665284469723701,0.02115524746477604,-0.016928791999816895,0.05819065868854523,0.021223509684205055,-0.02478954568505287,0.010272311046719551,0.050288595259189606,-0.032365813851356506,0.03390275314450264,-0.037581149488687515,0.03453322872519493,0.0062948353588581085,0.01744699291884899,-0.020121419802308083,-0.022656016051769257,0.007314935326576233,-0.024597374722361565,-0.0656188577413559,-0.027520958334207535,0.00910602044314146,0.01371358148753643,0.09964653849601746,0.025307517498731613,0.02705042064189911,0.03269941359758377,-0.04065071418881416,-0.017556708306074142,0.010353031568229198,-0.03372032567858696,0.02316868305206299,-0.04642147943377495,0.04089975729584694,0.022366365417838097,-0.010329976677894592,0.029335323721170425,0.007216623052954674,0.07951336354017258,0.02105875127017498,0.05778783932328224,-0.11346504837274551,-0.03297756239771843,-0.014401176944375038,0.01025589182972908,-0.01010789442807436,0.013955733738839626,0.03663491830229759,-0.0005597281851805747,-0.017141440883278847,-0.002038251608610153,-0.01621491275727749,-0.03494458273053169,0.004501354414969683,0.007776125334203243,0.0038249909412115812,-0.09713201969861984,0.09592914581298828,-0.07644499093294144,-0.05406509339809418,0.030541803687810898,-0.005205709487199783,0.10053368657827377,0.013168543577194214,0.009938931092619896,0.004857184365391731,0.014152716845273972,0.05545730143785477,-0.04218904674053192,-0.019954290241003036,0.018935635685920715,0.012280047871172428,0.02102045901119709,0.019616227596998215,0.015497279353439808,-0.07417139410972595,0.029964527115225792,-0.08931323885917664,0.001763658132404089,0.05172526091337204,-0.003081764793023467,0.025800244882702827,-0.03226686269044876,0.055100217461586,0.015750806778669357,-0.04225357249379158,0.010284917429089546,-0.010848790407180786,-0.012044500559568405,0.09614574909210205,-0.007021068129688501,-0.03570503741502762,0.010149378329515457,0.029806751757860184,0.004439524840563536,-0.006088700611144304,0.05909225717186928,-0.01867675967514515,0.02750983275473118,-0.02462487481534481,-0.01887582428753376,0.026970474049448967,-0.017868705093860626,0.034520894289016724,-0.011260000057518482,-0.0254929531365633,0.052022166550159454,0.023524172604084015,-0.012498474679887295,-0.04739714786410332,-0.0282862838357687,0.02278868481516838,-0.0034381423611193895,0.0007069057319313288,0.05780818313360214,3.1503932973464543e-7,0.013974891044199467,-0.006161022465676069,-0.006707195658236742,0.008260887116193771,0.005667154211550951,-0.023736124858260155,-0.08025305718183517,-0.06909490376710892,-0.017751602455973625,-0.0008776845643296838,0.026370104402303696,0.017815744504332542,0.037189386785030365,0.021618347615003586,-0.007211302872747183,-0.0710352435708046,-0.019567493349313736,-0.025956042110919952,-0.0490306131541729,0.03975512832403183,0.03286203742027283,0.022189393639564514,0.07545299828052521,-0.00871403981000185,0.04391664266586304,-0.014443298801779747,-0.0382261723279953,-0.035719674080610275,0.0560058057308197,-0.03001049906015396,0.014541408978402615,-0.01701209880411625,0.010588131844997406,0.009951888583600521,-0.009576662443578243,-0.011683618649840355,-0.028972573578357697,-0.0007122447714209557,0.025553306564688683,0.03336181119084358,0.043195273727178574,0.028624344617128372,0.0032103871926665306,-0.00353551865555346,0.005001684185117483,-0.037121787667274475,-0.01980828121304512,0.028501536697149277,-0.015317841432988644,0.05280930548906326,0.04238849878311157,0.016353296115994453,-0.07416575402021408,-0.027768997475504875,0.02029295265674591,0.006919515319168568,-0.024887332692742348,0.05323699116706848,0.006556300446391106,0.026909496635198593,-0.03866370767354965,0.005906949285417795,-0.027212638407945633,0.027274152263998985,-0.035182785242795944,0.007232709787786007,0.0212732944637537,3.229774732583634e-34,0.022658120840787888,-0.02994728833436966,0.031203730031847954,0.001051712897606194,0.031846970319747925,-0.03584544360637665,-0.01887124590575695,0.05251891165971756,0.02434556558728218,-0.030139552429318428,-0.04383477941155434]'
SET
  @TechnicalDesignVector_a79cf76d = N'[-0.01138344593346119,0.03790414705872536,-0.03953938186168671,-0.03594101220369339,0.003740893444046378,0.01286672055721283,0.00679427245631814,0.046036433428525925,-0.03606405854225159,0.029490835964679718,0.00598163204267621,0.051758501678705215,0.025884151458740234,0.08856578916311264,-0.022246185690164566,-0.04261154681444168,-0.025756513699889183,0.019660841673612595,0.038745395839214325,-0.001759286504238844,0.033012792468070984,-0.03489835932850838,-0.010454677976667881,-0.03591400757431984,-0.013422319665551186,-0.02226821705698967,-0.018574414774775505,0.02068844623863697,0.029872098937630653,-0.09107290953397751,0.01958509534597397,0.034447748214006424,-0.031603019684553146,0.003285309299826622,0.00000232353249884909,-0.02729913778603077,-0.01585424691438675,-0.0008601794252172112,-0.021586881950497627,0.04025837033987045,0.002193184569478035,-0.08685379475355148,0.04150007292628288,-0.02072712406516075,0.022945433855056763,-0.029609834775328636,-0.054648835211992264,-0.0014200250152498484,0.03279229253530502,-0.07977539300918579,-0.010613742284476757,-0.005106642842292786,-0.04894327372312546,0.004492787644267082,0.0024093843530863523,-0.006848212331533432,-0.030104730278253555,0.04824112355709076,0.0619027316570282,-0.06986160576343536,-0.032090652734041214,0.014344712719321251,0.005130525678396225,-0.025891439989209175,0.11897909641265869,0.030596580356359482,0.03753644973039627,-0.008410780690610409,-0.05771321430802345,-0.009846723638474941,0.03773485869169235,0.007462817709892988,-0.014322071336209774,-0.018859442323446274,-0.028160179033875465,-0.048743318766355515,-0.05220724642276764,-0.039275676012039185,0.03894253075122833,-0.016388067975640297,-0.05644986778497696,0.07326872646808624,-0.025346871465444565,-0.00815059058368206,0.010975969024002552,-0.02904987707734108,-0.0028050285764038563,0.005410873331129551,-0.014477943070232868,-0.007929455488920212,-0.007016231771558523,-0.005586389452219009,0.007186691276729107,0.01794576644897461,-0.010337679646909237,-0.0024290059227496386,0.0338248610496521,-0.09855131059885025,0.09317488223314285,0.00949867069721222,0.0727601945400238,0.015116635710000992,0.020097827538847923,0.011757311411201954,0.06875002384185791,-0.010484583675861359,-0.02585439570248127,-0.06707306951284409,-0.0068654450587928295,0.001195774762891233,0.021752215921878815,-0.003779360791668296,0.012139059603214264,-0.00792359933257103,0.010777231305837631,0.046271417289972305,-0.018423588946461678,0.002008561510592699,-0.01653347909450531,0.0035650329664349556,0.0708601102232933,0.010935942642390728,-0.01760433427989483,0.03723563626408577,0.0019627162255346775,-0.0008682344923727214,-0.04408428817987442,-0.049941349774599075,-0.0026744105853140354,-0.02959226258099079,0.027628544718027115,-0.010213789530098438,0.00799585971981287,-0.007620548829436302,-0.015195698477327824,0.04121619462966919,-0.015783213078975677,0.039404917508363724,-0.0018274089088663459,-0.0018518398283049464,-0.02068566158413887,0.012731418944895267,0.004981204401701689,-0.008299903944134712,0.02702556736767292,-0.014216050505638123,-0.022542737424373627,0.08434686809778214,0.008367165923118591,0.02622358314692974,0.0546739399433136,-0.017979830503463745,-0.06288133561611176,0.013565363362431526,-0.02365230582654476,0.003319012699648738,0.011621836572885513,-0.013828445225954056,0.060647960752248764,-0.03115200623869896,-0.013447102159261703,0.010522102005779743,0.024576295167207718,-0.0038311644457280636,-0.002166875870898366,0.06704088300466537,-0.09838680922985077,0.02017698809504509,-0.04664241895079613,-0.019573118537664413,-0.030669275671243668,-0.01529015600681305,-0.00793295819312334,0.0022125865798443556,0.03831513226032257,-0.06401284784078598,-0.002204910619184375,-0.08766330033540726,-0.07867751270532608,0.01354973018169403,0.04327530413866043,-0.05979311466217041,0.05577290803194046,0.028508514165878296,0.10498247295618057,-0.011407144367694855,-0.08024203032255173,0.008131063543260098,-0.013876805081963539,-0.013825037516653538,-0.020894719287753105,0.03332117572426796,-0.007827951572835445,0.011795069091022015,-0.010044029913842678,0.030004538595676422,0.013848523609340191,-0.06947167217731476,0.029087567701935768,0.015316290780901909,0.0017829862190410495,0.01698925904929638,-0.01906486786901951,0.043398745357990265,0.025193694978952408,0.03414452075958252,-0.06030463054776192,0.007670261897146702,-0.026221733540296555,0.002785288728773594,-0.02743309922516346,0.008814053609967232,-0.02337794564664364,-0.024296501651406288,-0.023128945380449295,0.03163982555270195,0.011422899551689625,0.009613794274628162,-0.01331997849047184,-0.020335376262664795,-0.05397794023156166,-0.006373421289026737,0.010654822923243046,-0.0046572573482990265,0.08370698243379593,0.04195667430758476,0.03255028650164604,-0.024682125076651573,0.06134870648384094,-0.017721278592944145,-0.010398611426353455,-0.026546763256192207,0.04336943104863167,0.009102697484195232,0.0032517400104552507,0.06059498339891434,-0.00685306778177619,0.07087152451276779,-0.027302522212266922,0.025910556316375732,-0.0019474056316539645,-0.09978407621383667,-0.027886319905519485,0.006273128557950258,0.0022257857490330935,-0.048174239695072174,-0.08573794364929199,0.000678042124491185,-0.04331081360578537,-0.021747395396232605,0.01074397936463356,0.00917227566242218,0.03362489491701126,-0.056746646761894226,-0.06280410289764404,-0.0014197940472513437,-0.004645156674087048,0.006773767061531544,0.03432575240731239,0.0531795434653759,0.023001594468951225,0.0020123415160924196,-0.01262681744992733,-0.03868001699447632,0.017575116828083992,-0.051640573889017105,0.07649203389883041,0.04613522067666054,0.013959863223135471,0.04732044041156769,-0.01667453907430172,0.016078243032097816,0.011246592737734318,0.008709344081580639,-0.04235989972949028,-0.009360658004879951,-0.009584007784724236,0.05297653749585152,-0.013567853718996048,0.02738070860505104,-0.011063212528824806,-0.040512122213840485,0.0518672801554203,0.016938364133238792,-0.008771998807787895,-0.017325755208730698,0.02395985648036003,-0.05594062805175781,0.07655107975006104,-0.048868145793676376,-0.019867150112986565,0.02839297242462635,0.008216310292482376,-0.01784035935997963,-0.03314845263957977,0.03052508272230625,0.05727313458919525,-0.001059828675352037,-0.020671794191002846,0.0013960589421913028,-0.04058782756328583,-0.022674860432744026,0.011869540438055992,0.010852438397705555,-0.03246495872735977,0.038549307733774185,0.03298657760024071,0.007423034869134426,-0.014214392751455307,0.006480004172772169,0.03921128436923027,-0.015062712132930756,0.007850845344364643,-0.0339902900159359,0.06012929230928421,0.013428835198283195,-0.006886300165206194,0.009306913241744041,-0.0072350227274000645,0.0611942857503891,0.006179480347782373,-0.050690919160842896,-0.008664420805871487,-0.0002588275237940252,-0.04698341339826584,0.026904568076133728,-0.0469476580619812,-0.046890076249837875,-0.00015494777471758425,-0.02791137807071209,-0.01845921389758587,-0.060564540326595306,0.015098031610250473,-0.00995973963290453,0.012241321615874767,0.03182395547628403,-0.01367216370999813,0.0012914969120174646,0.02673165872693062,-0.055764127522706985,0.014670132659375668,-0.02560604177415371,-0.03931967914104462,0.0646912008523941,-0.005129893776029348,0.008141779340803623,0.013842461630702019,0.01571624167263508,-0.09295368939638138,0.0019754015374928713,0.018548190593719482,0.05143030360341072,-0.003610522486269474,-0.036044854670763016,-0.02426113188266754,-0.006273188162595034,-0.06423577666282654,-0.008043249137699604,-0.03445229306817055,-0.041614919900894165,0.03537168353796005,0.044585421681404114,0.014689170755445957,-0.01414561178535223,-0.02225661464035511,0.0318416990339756,0.014680826105177402,-0.00235726498067379,0.02333138883113861,-0.03968504071235657,-0.05796411633491516,0.00006774775101803243,0.04434683918952942,-0.03604136407375336,-0.0279461070895195,-0.01537973154336214,0.055677562952041626,0.05220707878470421,0.036815907806158066,0.015408968552947044,0.005666465498507023,-0.07380852103233337,0.06527270376682281,0.0002198272559326142,0.04360473155975342,-0.03536161780357361,0.015970908105373383,-0.014719134196639061,-0.03827396780252457,0.05677276477217674,-0.017921067774295807,0.11999600380659103,0.06800079345703125,-0.020498601719737053,0.014863873831927776,0.04459420219063759,-0.02068384736776352,0.015482010319828987,0.05867578834295273,-0.014957539737224579,0.011243993416428566,0.0012553500710055232,0.001709365751594305,0.00969651062041521,0.034620508551597595,-0.10644302517175674,0.011625783517956734,0.0398867130279541,0.0075633227825164795,-0.0330829843878746,-0.03978298604488373,-0.021778082475066185,-0.02061048336327076,-0.04129651188850403,0.03605407103896141,0.03472888469696045,0.005299119744449854,-0.05999624729156494,0.03342757374048233,0.053753145039081573,0.011055709794163704,0.005917469039559364,0.02707388810813427,-0.03853582963347435,0.04504699632525444,-0.08236409723758698,-0.02123476378619671,-0.05751051753759384,-0.03055064007639885,0.01097556110471487,-0.0014048903249204159,-0.015090000815689564,0.0298023484647274,0.02114642783999443,-0.018112115561962128,0.04308006912469864,0.044030867516994476,-0.010445056483149529,-0.05298749357461929,-0.023225905373692513,0.006601570174098015,-0.05047392472624779,0.07140122354030609,-0.013422904536128044,-0.0007826061337254941,-0.03288554400205612,-0.03337421640753746,0.019637413322925568,-0.06698338687419891,-0.008480501361191273,0.0071209813468158245,0.001289337407797575,-0.0042793224565684795,-0.01750410906970501,-0.026830054819583893,-0.04815613478422165,-0.011300386860966682,0.002573156263679266,0.008151006884872913,0.016493160277605057,0.02266637049615383,0.021064134314656258,-0.014493790455162525,-0.02042338065803051,0.01840892620384693,0.008463463746011257,0.038822755217552185,-0.008036576211452484,-0.06118180602788925,-0.07318373769521713,0.04277382791042328,-0.009464363567531109,-0.03254110738635063,-0.016467271372675896,0.05915971100330353,0.05843481421470642,-0.024531768634915352,0.013745034113526344,0.02017895132303238,-0.03315352275967598,0.04032282158732414,0.023775318637490273,-0.00004306089977035299,-0.0656297504901886,0.025717446580529213,0.005113269202411175,-0.020061738789081573,-0.029428962618112564,-0.021832233294844627,-0.04214228689670563,-0.01569114439189434,-0.040586333721876144,-0.010416208766400814,0.11033109575510025,0.055840764194726944,-0.008184870705008507,-0.016480272635817528,0.05572642758488655,0.006255607586354017,-0.030103828758001328,-0.02397417649626732,0.013496158644557,0.015963267534971237,0.000533520185854286,-0.01956559158861637,0.005725136958062649,0.056802455335855484,-0.015664339065551758,-0.0023057828657329082,-0.04582160711288452,-0.019700998440384865,-0.00799226388335228,-0.05397465080022812,0.02657146379351616,0.045122742652893066,-0.024807188659906387,-0.04880104959011078,0.01721041649580002,0.03803187608718872,-0.03575294092297554,-0.007866518571972847,0.0004900666535831988,0.008455952629446983,-0.013379702344536781,0.05456195026636124,-0.0299190953373909,0.021997835487127304,-0.02077646367251873,0.0005767387337982655,0.013808289542794228,0.00736226886510849,-0.047849077731370926,-0.01579713635146618,-0.031073544174432755,-0.02719069831073284,0.036092646420001984,0.04273701459169388,0.005045030731707811,0.04439979046583176,-0.018983224406838417,-0.07579667121171951,0.0033047636970877647,0.01664712466299534,-0.013687076978385448,0.01290359627455473,-0.008743303827941418,0.03644267097115517,-0.06046842783689499,0.01068075094372034,-0.0021709399297833443,0.029516221955418587,-0.023646900430321693,-0.05337677523493767,-0.031659841537475586,-0.03386155515909195,-7.383861152534476e-33,0.02377457171678543,-0.03918944671750069,-0.052654460072517395,-0.01929371990263462,-0.017201360315084457,-0.021874405443668365,0.03142911195755005,-0.0701916441321373,0.01735866256058216,-0.013554948382079601,-0.017241500318050385,-0.018708810210227966,0.025723282247781754,-0.00022645617718808353,0.0216002706438303,0.007843212224543095,0.03603632375597954,-0.011344501748681068,-0.014195814728736877,0.019875887781381607,-0.015769796445965767,0.06277558207511902,0.030089473351836205,-0.03690393641591072,-0.022834040224552155,0.007394580170512199,-0.034108687192201614,0.019232861697673798,-0.007707929704338312,-0.0032123886048793793,0.0287442859262228,-0.006582188419997692,-0.011741622351109982,0.017127152532339096,-0.022673295810818672,-0.022204862907528877,-0.05134846270084381,-0.010984078049659729,0.0021994372364133596,0.028302814811468124,0.07353364676237106,0.02945195883512497,0.033804744482040405,-0.01475856639444828,-0.0030672727152705193,-0.04432458430528641,-0.01331396959722042,-0.012851511128246784,0.0009290335001423955,-0.07863180339336395,0.021276291459798813,0.033415861427783966,-0.02463068813085556,0.033484213054180145,0.004672996699810028,0.05153205990791321,0.05307967960834503,0.06379875540733337,-0.10845663398504257,-0.0049730450846254826,-0.052784133702516556,-0.08196087926626205,0.013346215710043907,0.04254363104701042,0.05302318185567856,0.004423067905008793,0.023303532972931862,0.07160171866416931,0.01099851168692112,0.010630873963236809,0.012672380544245243,0.011705576442182064,0.03939642012119293,-0.042894396930933,0.06955423951148987,0.008695375174283981,-0.04343564808368683,0.009639237076044083,-0.03934670612215996,0.05695703625679016,-0.0006461197044700384,0.033626314252614975,-0.008956659585237503,0.013120333664119244,0.039337076246738434,-0.0353829450905323,0.017360640689730644,0.001175426528789103,0.0060157631523907185,0.01106399018317461,0.019385654479265213,0.01353679783642292,-0.06582134962081909,0.06763319671154022,-0.05075233802199364,0.008170838467776775,0.024534054100513458,0.0433918759226799,0.021435124799609184,-0.03196072578430176,0.03536607325077057,0.029917648062109947,-0.05682109668850899,0.033567365258932114,-0.028794610872864723,0.004738061688840389,0.08715619891881943,-0.020167285576462746,-0.031014541164040565,0.025499336421489716,0.036351338028907776,0.04262286797165871,-0.02535257861018181,0.03430713713169098,-0.00016328864148817956,-0.007677106652408838,0.0025304164737462997,-0.03336270898580551,0.02535719983279705,0.00839026179164648,0.03567095845937729,0.007677294313907623,-0.046665772795677185,0.02313014678657055,0.07969072461128235,0.016281114891171455,-0.02777387946844101,-0.07725255936384201,0.03692783787846565,0.017538858577609062,0.020706579089164734,0.031485386192798615,3.2263122307085723e-7,0.0028816505800932646,0.02103240415453911,-0.0015705666737630963,0.035168055444955826,0.034276485443115234,0.02053675428032875,-0.014540469273924828,-0.015169648453593254,-0.009129221551120281,-0.03413005918264389,0.008352642878890038,0.021078219637274742,0.0536455474793911,0.07247099280357361,0.02242720127105713,-0.08075623214244843,-0.06371917575597763,-0.04126840457320213,-0.030097097158432007,0.027702078223228455,-0.004456452559679747,0.014827819541096687,0.05423339828848839,-0.014655073173344135,-0.0031847821082919836,0.03914791718125343,-0.006652595940977335,-0.046083271503448486,0.03354119136929512,0.0020201411098241806,0.04626624286174774,-0.0036250189878046513,0.018464796245098114,0.03593312203884125,-0.008252227678894997,-0.013726101256906986,-0.05111955851316452,-0.024251969531178474,0.016055047512054443,0.1107894629240036,0.05181360989809036,-0.034989070147275925,0.005389536265283823,0.008509170264005661,-0.006708080880343914,-0.014229540713131428,-0.05994837358593941,0.06810401380062103,-0.03541389852762222,0.023791132494807243,0.04785847291350365,-0.03591928631067276,-0.06783005595207214,-0.032500676810741425,-0.0013592145405709743,-0.0029509966261684895,0.015051149763166904,0.07856889069080353,0.027645153924822807,0.05239395424723625,-0.021832311525940895,-0.0006881530862301588,-0.009892108850181103,0.07030171155929565,0.0005442739930003881,-0.00891895405948162,-0.0313742533326149,3.994593371968106e-34,0.04549422860145569,-0.03722187876701355,0.02879835106432438,0.021939072757959366,0.0142599456012249,-0.018436472862958908,0.0029576856177300215,-0.01763264648616314,0.028429366648197174,-0.0456053800880909,-0.04583708196878433]'
SET
  @HasCustomProps_a79cf76d = 1
SET
  @HasCustomEvents_a79cf76d = 1
SET
  @RequiresData_a79cf76d = 1
SET
  @DependencyCount_a79cf76d = 2
SET
  @TechnicalDesignVectorEmbeddingModelID_a79cf76d = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_a79cf76d = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_a79cf76d = 0
SET
  @ID_a79cf76d = '10D09796-10E6-4850-924A-57BCE90FAB8E'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_a79cf76d,
  @Name = @Name_a79cf76d,
  @Version = @Version_a79cf76d,
  @VersionSequence = @VersionSequence_a79cf76d,
  @Title = @Title_a79cf76d,
  @Description = @Description_a79cf76d,
  @Type = @Type_a79cf76d,
  @Status = @Status_a79cf76d,
  @DeveloperName = @DeveloperName_a79cf76d,
  @DeveloperEmail = @DeveloperEmail_a79cf76d,
  @DeveloperOrganization = @DeveloperOrganization_a79cf76d,
  @SourceRegistryID = @SourceRegistryID_a79cf76d,
  @ReplicatedAt = @ReplicatedAt_a79cf76d,
  @LastSyncedAt = @LastSyncedAt_a79cf76d,
  @Specification = @Specification_a79cf76d,
  @FunctionalRequirements = @FunctionalRequirements_a79cf76d,
  @TechnicalDesign = @TechnicalDesign_a79cf76d,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_a79cf76d,
  @TechnicalDesignVector = @TechnicalDesignVector_a79cf76d,
  @HasCustomProps = @HasCustomProps_a79cf76d,
  @HasCustomEvents = @HasCustomEvents_a79cf76d,
  @RequiresData = @RequiresData_a79cf76d,
  @DependencyCount = @DependencyCount_a79cf76d,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_a79cf76d,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_a79cf76d,
  @HasRequiredCustomProps = @HasRequiredCustomProps_a79cf76d,
  @ID = @ID_a79cf76d;

-- Save MJ: Components (core SP call only)
DECLARE @Namespace_ea1c5665 NVARCHAR(MAX),
@Name_ea1c5665 NVARCHAR(500),
@Version_ea1c5665 NVARCHAR(50),
@VersionSequence_ea1c5665 INT,
@Title_ea1c5665 NVARCHAR(1000),
@Description_ea1c5665 NVARCHAR(MAX),
@Type_ea1c5665 NVARCHAR(255),
@Status_ea1c5665 NVARCHAR(50),
@DeveloperName_ea1c5665 NVARCHAR(255),
@DeveloperEmail_ea1c5665 NVARCHAR(255),
@DeveloperOrganization_ea1c5665 NVARCHAR(255),
@SourceRegistryID_ea1c5665 UNIQUEIDENTIFIER,
@ReplicatedAt_ea1c5665 DATETIMEOFFSET,
@LastSyncedAt_ea1c5665 DATETIMEOFFSET,
@Specification_ea1c5665 NVARCHAR(MAX),
@FunctionalRequirements_ea1c5665 NVARCHAR(MAX),
@TechnicalDesign_ea1c5665 NVARCHAR(MAX),
@FunctionalRequirementsVector_ea1c5665 NVARCHAR(MAX),
@TechnicalDesignVector_ea1c5665 NVARCHAR(MAX),
@HasCustomProps_ea1c5665 BIT,
@HasCustomEvents_ea1c5665 BIT,
@RequiresData_ea1c5665 BIT,
@DependencyCount_ea1c5665 INT,
@TechnicalDesignVectorEmbeddingModelID_ea1c5665 NVARCHAR(MAX),
@FunctionalRequirementsVectorEmbeddingModelID_ea1c5665 NVARCHAR(MAX),
@HasRequiredCustomProps_ea1c5665 BIT,
@ID_ea1c5665 UNIQUEIDENTIFIER
SET
  @Namespace_ea1c5665 = N'Testing/DataGrid'
SET
  @Name_ea1c5665 = N'TestEntityDataGrid'
SET
  @Version_ea1c5665 = N'1.0.0'
SET
  @VersionSequence_ea1c5665 = 1
SET
  @Title_ea1c5665 = N'EntityDataGrid Test Harness'
SET
  @Description_ea1c5665 = N'Test harness for EntityDataGrid component using Action Params entity (~1800 rows). Demonstrates both full cache mode (with filter) and partial cache mode (no filter) for testing pagination, sorting, filtering, and cache behavior. NOT a golden example - purely for testing and validation.'
SET
  @Type_ea1c5665 = N'Other'
SET
  @Status_ea1c5665 = N'Published'
SET
  @Specification_ea1c5665 = N'{"name":"TestEntityDataGrid","title":"EntityDataGrid Test Component","description":"Test harness for EntityDataGrid component using Action Params entity (~1800 rows). Demonstrates both full cache mode (with filter) and partial cache mode (no filter) for testing pagination, sorting, filtering, and cache behavior. NOT a golden example - purely for testing and validation.","type":"other","location":"embedded","functionalRequirements":"Test component to validate EntityDataGrid functionality with real MJ data. Two side-by-side grids: LEFT GRID (Partial Cache Mode): Shows ALL Action Params (~1800 rows) with no extraFilter; Enters partial cache mode (maxCachedRows=1000); Tests server-side pagination, sorting, caching; User can toggle through all pages; Shows cache mode indicator and warnings for testing. RIGHT GRID (Full Cache Mode): Shows filtered Action Params (Type=''User Defined''); Should have < 1000 rows, enters full cache mode; Tests client-side instant sort/filter/pagination; Shows cache mode indicator to confirm full cache. TESTING SCENARIOS: Pagination: Click through pages in left grid, verify loading states and cache hits; Sorting: Sort columns in both grids, observe instant (right) vs server-side (left); Filtering: Use text filter in both grids, observe behavior differences; Cache indicators: Verify left shows ''Showing first 1,000 of 1,800'' and right shows ''All X records loaded''; Page size changes: Change page size in both grids, verify reload behavior; Refresh: Test refresh button clears caches and reloads. DEVELOPER CONTROLS: Toggle switches to enable/disable showCacheModeIndicator and warnOnPartialResults; Adjust maxCachedRows to test cache mode transitions; View cache mode change events in console.","technicalDesign":"React component with two EntityDataGrid instances and test controls. State: showIndicators (boolean), showWarnings (boolean), cacheLimit (number). Layout: Top controls panel with toggles and inputs; Two-column layout with EntityDataGrid instances; Console log viewer for events. Left Grid Props: entityName=''Action Params'', no extraFilter, maxCachedRows=cacheLimit, showCacheModeIndicator=showIndicators, warnOnPartialResults=showWarnings, enableSorting=true, enableFiltering=true, showRefreshButton=true, pageSize=20, onCacheModeChanged logs to console, onPageChanged logs cache hits. Right Grid Props: entityName=''Action Params'', extraFilter=\"Type=''User Defined''\", same props as left grid. Controls Panel: Checkbox to toggle showCacheModeIndicator; Checkbox to toggle warnOnPartialResults; Number input for maxCachedRows (default 1000); Info display showing current cache modes. Event Logging: Console.log all cache mode changes and page changes with timestamps; Display summary of actions taken for debugging.","dataRequirements":{"mode":"views","description":"Uses EntityDataGrid which performs RunView internally. No direct data requirements - EntityDataGrid handles all data loading."},"properties":[{"name":"initialCacheLimit","type":"number","description":"Initial maxCachedRows value for testing","required":false,"defaultValue":1000}],"events":[],"dependencies":[{"name":"EntityDataGrid","namespace":"Generic/UI/Table","location":"registry","description":"Component being tested"}],"code":"function TestEntityDataGrid({\n  initialCacheLimit = 1000,\n  utilities,\n  styles,\n  components,\n  callbacks,\n  savedUserSettings,\n  onSaveUserSettings\n}) {\n  // Get EntityDataGrid component\n  const { EntityDataGrid } = components;\n\n  // Test controls state\n  const [showIndicators, setShowIndicators] = React.useState(true);\n  const [showWarnings, setShowWarnings] = React.useState(true);\n  const [cacheLimit, setCacheLimit] = React.useState(initialCacheLimit);\n  const [leftCacheMode, setLeftCacheMode] = React.useState(''loading'');\n  const [rightCacheMode, setRightCacheMode] = React.useState(''loading'');\n  const [eventLog, setEventLog] = React.useState([]);\n\n  // Log events\n  const logEvent = (message) => {\n    const timestamp = new Date().toLocaleTimeString();\n    const logEntry = `[$' + '{timestamp}] $' + '{message}`;\n    console.log(logEntry);\n    setEventLog(prev => [logEntry, ...prev].slice(0, 20)); // Keep last 20 events\n  };\n\n  // Handle cache mode changes\n  const handleLeftCacheModeChange = (info) => {\n    setLeftCacheMode(info.cacheMode);\n    logEvent(`LEFT GRID: Cache mode changed to ''$' + '{info.cacheMode}'' ($' + '{info.totalRecords} total records, max $' + '{info.maxCachedRows})`);\n  };\n\n  const handleRightCacheModeChange = (info) => {\n    setRightCacheMode(info.cacheMode);\n    logEvent(`RIGHT GRID: Cache mode changed to ''$' + '{info.cacheMode}'' ($' + '{info.totalRecords} total records, max $' + '{info.maxCachedRows})`);\n  };\n\n  // Handle page changes\n  const handleLeftPageChange = (info) => {\n    const hitStatus = info.cacheHit ? ''✓ CACHE HIT'' : ''⚠ SERVER FETCH'';\n    logEvent(`LEFT GRID: Page $' + '{info.pageNumber} loaded - $' + '{hitStatus} ($' + '{info.cacheMode} mode)`);\n  };\n\n  const handleRightPageChange = (info) => {\n    const hitStatus = info.cacheHit ? ''✓ CACHE HIT'' : ''⚠ SERVER FETCH'';\n    logEvent(`RIGHT GRID: Page $' + '{info.pageNumber} loaded - $' + '{hitStatus} ($' + '{info.cacheMode} mode)`);\n  };\n\n  if (!EntityDataGrid) {\n    return (\n      <div style={{\n        padding: ''24px'',\n        border: ''1px solid #ff4d4f'',\n        borderRadius: ''4px'',\n        backgroundColor: ''#fff2f0'',\n        color: ''#cf1322'',\n        textAlign: ''center''\n      }}>\n        Error: EntityDataGrid component not found. Please ensure EntityDataGrid is properly registered.\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ width: ''100%'', padding: ''20px'', backgroundColor: ''#f5f5f5'' }}>\n      {/* Header */}\n      <div style={{\n        marginBottom: ''20px'',\n        padding: ''16px'',\n        backgroundColor: ''#fff'',\n        borderRadius: ''8px'',\n        border: ''1px solid #d9d9d9''\n      }}>\n        <h2 style={{ margin: ''0 0 8px 0'', fontSize: ''20px'', color: ''#262626'' }}>\n          EntityDataGrid Test Harness\n        </h2>\n        <p style={{ margin: 0, fontSize: ''14px'', color: ''#595959'' }}>\n          Testing with Action Params entity (~1800 rows). Left grid: no filter (partial cache). Right grid: filtered (full cache).\n        </p>\n      </div>\n\n      {/* Test Controls */}\n      <div style={{\n        marginBottom: ''20px'',\n        padding: ''16px'',\n        backgroundColor: ''#fff'',\n        borderRadius: ''8px'',\n        border: ''1px solid #d9d9d9''\n      }}>\n        <h3 style={{ margin: ''0 0 12px 0'', fontSize: ''16px'', color: ''#262626'' }}>\n          Test Controls\n        </h3>\n\n        <div style={{ display: ''flex'', gap: ''24px'', flexWrap: ''wrap'', alignItems: ''center'' }}>\n          {/* Show Indicators Toggle */}\n          <label style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'', cursor: ''pointer'' }}>\n            <input\n              type=\"checkbox\"\n              checked={showIndicators}\n              onChange={(e) => setShowIndicators(e.target.checked)}\n              style={{ cursor: ''pointer'' }}\n            />\n            <span style={{ fontSize: ''14px'', color: ''#262626'' }}>Show Cache Mode Indicators</span>\n          </label>\n\n          {/* Show Warnings Toggle */}\n          <label style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'', cursor: ''pointer'' }}>\n            <input\n              type=\"checkbox\"\n              checked={showWarnings}\n              onChange={(e) => setShowWarnings(e.target.checked)}\n              style={{ cursor: ''pointer'' }}\n            />\n            <span style={{ fontSize: ''14px'', color: ''#262626'' }}>Show Partial Result Warnings</span>\n          </label>\n\n          {/* Max Cached Rows Input */}\n          <div style={{ display: ''flex'', alignItems: ''center'', gap: ''8px'' }}>\n            <label style={{ fontSize: ''14px'', color: ''#262626'' }}>Max Cached Rows:</label>\n            <input\n              type=\"number\"\n              value={cacheLimit}\n              onChange={(e) => setCacheLimit(Number(e.target.value))}\n              min={100}\n              max={5000}\n              step={100}\n              style={{\n                padding: ''4px 8px'',\n                border: ''1px solid #d9d9d9'',\n                borderRadius: ''4px'',\n                fontSize: ''14px'',\n                width: ''100px''\n              }}\n            />\n            <button\n              onClick={() => {\n                logEvent(`Cache limit changed to $' + '{cacheLimit} - grids will reload`);\n                // Force re-render by updating a key would be ideal, but state change will trigger useEffect\n              }}\n              style={{\n                padding: ''4px 12px'',\n                backgroundColor: ''#1890ff'',\n                color: ''white'',\n                border: ''none'',\n                borderRadius: ''4px'',\n                cursor: ''pointer'',\n                fontSize: ''13px''\n              }}\n            >\n              Apply\n            </button>\n          </div>\n        </div>\n\n        {/* Cache Mode Status */}\n        <div style={{\n          marginTop: ''16px'',\n          padding: ''12px'',\n          backgroundColor: ''#fafafa'',\n          borderRadius: ''4px'',\n          border: ''1px solid #e8e8e8''\n        }}>\n          <div style={{ display: ''flex'', gap: ''32px'', fontSize: ''13px'' }}>\n            <div>\n              <strong>Left Grid Cache Mode:</strong>{'' ''}\n              <span style={{\n                padding: ''2px 8px'',\n                borderRadius: ''4px'',\n                backgroundColor: leftCacheMode === ''full'' ? ''#f6ffed'' : ''#fff7e6'',\n                color: leftCacheMode === ''full'' ? ''#389e0d'' : ''#d48806'',\n                fontWeight: 600\n              }}>\n                {leftCacheMode.toUpperCase()}\n              </span>\n            </div>\n            <div>\n              <strong>Right Grid Cache Mode:</strong>{'' ''}\n              <span style={{\n                padding: ''2px 8px'',\n                borderRadius: ''4px'',\n                backgroundColor: rightCacheMode === ''full'' ? ''#f6ffed'' : ''#fff7e6'',\n                color: rightCacheMode === ''full'' ? ''#389e0d'' : ''#d48806'',\n                fontWeight: 600\n              }}>\n                {rightCacheMode.toUpperCase()}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Two-Column Grid Layout */}\n      <div style={{\n        display: ''grid'',\n        gridTemplateColumns: ''1fr 1fr'',\n        gap: ''20px'',\n        marginBottom: ''20px''\n      }}>\n        {/* Left Grid - No Filter (Partial Cache Mode) */}\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#fff'',\n          borderRadius: ''8px'',\n          border: ''1px solid #d9d9d9''\n        }}>\n          <h3 style={{\n            margin: ''0 0 12px 0'',\n            fontSize: ''16px'',\n            color: ''#262626'',\n            paddingBottom: ''12px'',\n            borderBottom: ''1px solid #f0f0f0''\n          }}>\n            Test 1: All Action Params (No Filter)\n          </h3>\n          <p style={{\n            margin: ''0 0 16px 0'',\n            fontSize: ''13px'',\n            color: ''#8c8c8c'',\n            fontStyle: ''italic''\n          }}>\n            Expected: ~1800 rows → Partial cache mode (server-side sort/filter, page caching)\n          </p>\n\n          <EntityDataGrid\n            entityName=\"Action Params\"\n            fields={[''InvalidField1'', ''Name'', ''BadColumn'', ''Type'', ''ValueType'', ''FakeProperty'', ''IsRequired'', ''IsArray'', ''DefaultValue'']}\n            orderBy=\"Name ASC\"\n            pageSize={20}\n            maxCachedRows={cacheLimit}\n            enablePageCache={true}\n            showPageSizeChanger={true}\n            enableSorting={true}\n            enableFiltering={true}\n            showRefreshButton={true}\n            showCacheModeIndicator={showIndicators}\n            warnOnPartialResults={showWarnings}\n            onCacheModeChanged={handleLeftCacheModeChange}\n            onPageChanged={handleLeftPageChange}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings}\n            onSaveUserSettings={onSaveUserSettings}\n          />\n        </div>\n\n        {/* Right Grid - Filtered (Full Cache Mode) */}\n        <div style={{\n          padding: ''16px'',\n          backgroundColor: ''#fff'',\n          borderRadius: ''8px'',\n          border: ''1px solid #d9d9d9''\n        }}>\n          <h3 style={{\n            margin: ''0 0 12px 0'',\n            fontSize: ''16px'',\n            color: ''#262626'',\n            paddingBottom: ''12px'',\n            borderBottom: ''1px solid #f0f0f0''\n          }}>\n            Test 2: Custom Column Styling (Filtered)\n          </h3>\n          <p style={{\n            margin: ''0 0 16px 0'',\n            fontSize: ''13px'',\n            color: ''#8c8c8c'',\n            fontStyle: ''italic''\n          }}>\n            Mixed field definitions (strings + ColumnDef objects): Name & Type (simple strings), ValueType (color-coded badges), IsRequired (conditional icons, sortable=false), IsArray (emoji), DefaultValue (null handling, truncation). Tests custom headers, widths, render functions, and per-column sortable override.\n          </p>\n\n          <EntityDataGrid\n            entityName=\"Action Params\"\n            extraFilter=\"IsRequired=1\"\n            fields={[\n              ''Name'',  // Simple string field\n              ''Type'',  // Simple string field\n              {\n                field: ''ValueType'',\n                header: ''📊 Value Type'',\n                width: 120,\n                render: (value) => {\n                  const typeColors = {\n                    ''string'': ''#52c41a'',\n                    ''number'': ''#1890ff'',\n                    ''boolean'': ''#722ed1'',\n                    ''object'': ''#fa8c16'',\n                    ''array'': ''#eb2f96''\n                  };\n                  const color = typeColors[value?.toLowerCase()] || ''#8c8c8c'';\n                  return (\n                    <span style={{\n                      display: ''inline-block'',\n                      padding: ''2px 8px'',\n                      borderRadius: ''4px'',\n                      backgroundColor: `$' + '{color}15`,\n                      color: color,\n                      fontWeight: 600,\n                      fontSize: ''12px'',\n                      border: `1px solid $' + '{color}40`\n                    }}>\n                      {value || ''unknown''}\n                    </span>\n                  );\n                }\n              },\n              {\n                field: ''IsRequired'',\n                header: ''⚡ Required?'',\n                width: 100,\n                sortable: false,  // Test per-column sortable override\n                render: (value) => (\n                  <span style={{ fontSize: ''16px'', textAlign: ''center'', display: ''block'' }}>\n                    {value ? (\n                      <span style={{ color: ''#ff4d4f'' }} title=\"Required\">✓ Yes</span>\n                    ) : (\n                      <span style={{ color: ''#d9d9d9'' }} title=\"Optional\">○ No</span>\n                    )}\n                  </span>\n                )\n              },\n              {\n                field: ''IsArray'',\n                header: ''📦 Array'',\n                width: 80,\n                render: (value) => (\n                  <span style={{ fontSize: ''18px'', display: ''block'', textAlign: ''center'' }}>\n                    {value ? ''📦'' : ''📄''}\n                  </span>\n                )\n              },\n              {\n                field: ''DefaultValue'',\n                header: ''Default Value'',\n                width: 150,\n                render: (value) => {\n                  if (value == null || value === '''') {\n                    return <span style={{ color: ''#bfbfbf'', fontStyle: ''italic'' }}>none</span>;\n                  }\n                  const displayValue = String(value);\n                  if (displayValue.length > 20) {\n                    return (\n                      <span title={displayValue} style={{ cursor: ''help'' }}>\n                        {displayValue.substring(0, 20)}...\n                      </span>\n                    );\n                  }\n                  return <span style={{ fontFamily: ''monospace'', fontSize: ''12px'' }}>{displayValue}</span>;\n                }\n              }\n            ]}\n            orderBy=\"Name ASC\"\n            pageSize={20}\n            maxCachedRows={1000}\n            enablePageCache={true}\n            showPageSizeChanger={true}\n            enableSorting={true}\n            enableFiltering={true}\n            showRefreshButton={true}\n            showCacheModeIndicator={showIndicators}\n            warnOnPartialResults={showWarnings}\n            onCacheModeChanged={handleRightCacheModeChange}\n            onPageChanged={handleRightPageChange}\n            utilities={utilities}\n            styles={styles}\n            components={components}\n            callbacks={callbacks}\n            savedUserSettings={savedUserSettings}\n            onSaveUserSettings={onSaveUserSettings}\n          />\n        </div>\n      </div>\n\n      {/* Event Log */}\n      <div style={{\n        padding: ''16px'',\n        backgroundColor: ''#fff'',\n        borderRadius: ''8px'',\n        border: ''1px solid #d9d9d9''\n      }}>\n        <div style={{\n          display: ''flex'',\n          justifyContent: ''space-between'',\n          alignItems: ''center'',\n          marginBottom: ''12px''\n        }}>\n          <h3 style={{ margin: 0, fontSize: ''16px'', color: ''#262626'' }}>\n            Event Log (Last 20 Events)\n          </h3>\n          <button\n            onClick={() => {\n              setEventLog([]);\n              logEvent(''Event log cleared'');\n            }}\n            style={{\n              padding: ''4px 12px'',\n              backgroundColor: ''#fff'',\n              color: ''#595959'',\n              border: ''1px solid #d9d9d9'',\n              borderRadius: ''4px'',\n              cursor: ''pointer'',\n              fontSize: ''13px''\n            }}\n          >\n            Clear Log\n          </button>\n        </div>\n\n        <div style={{\n          maxHeight: ''300px'',\n          overflowY: ''auto'',\n          backgroundColor: ''#fafafa'',\n          border: ''1px solid #e8e8e8'',\n          borderRadius: ''4px'',\n          padding: ''12px'',\n          fontFamily: ''monospace'',\n          fontSize: ''12px''\n        }}>\n          {eventLog.length === 0 ? (\n            <div style={{ color: ''#8c8c8c'', fontStyle: ''italic'' }}>\n              No events logged yet. Interact with the grids above to see events.\n            </div>\n          ) : (\n            eventLog.map((log, index) => (\n              <div\n                key={index}\n                style={{\n                  padding: ''4px 0'',\n                  borderBottom: index < eventLog.length - 1 ? ''1px solid #e8e8e8'' : ''none'',\n                  color: ''#262626''\n                }}\n              >\n                {log}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* Testing Instructions */}\n      <div style={{\n        marginTop: ''20px'',\n        padding: ''16px'',\n        backgroundColor: ''#e6f7ff'',\n        borderRadius: ''8px'',\n        border: ''1px solid #91d5ff''\n      }}>\n        <h3 style={{ margin: ''0 0 12px 0'', fontSize: ''16px'', color: ''#0050b3'' }}>\n          📋 Testing Scenarios\n        </h3>\n        <ol style={{ margin: 0, paddingLeft: ''20px'', fontSize: ''14px'', color: ''#096dd9'', lineHeight: ''1.8'' }}>\n          <li><strong>Pagination Test:</strong> Click through multiple pages in left grid. Watch for cache hits vs server fetches in event log.</li>\n          <li><strong>Sorting Test:</strong> Click column headers in both grids. Left should show loading overlay (server-side), right should be instant (client-side).</li>\n          <li><strong>Filtering Test:</strong> Use text search box in both grids. Left grid should show warning about using extraFilter prop (if warnings enabled).</li>\n          <li><strong>Cache Mode Transition:</strong> Change maxCachedRows to 2000 and click Apply. Left grid should switch from partial to full cache mode.</li>\n          <li><strong>Page Size Change:</strong> Change \"Show\" dropdown in left grid. Observe cache clear and reload behavior in event log.</li>\n          <li><strong>Refresh Test:</strong> Click refresh button in either grid. Cache should clear and data reload.</li>\n          <li><strong>Performance Comparison:</strong> With indicators on, compare sort/page speed between full (right) and partial (left) cache modes.</li>\n        </ol>\n      </div>\n    </div>\n  );\n}\n","exampleUsage":"// Basic usage for testing\n<TestEntityDataGrid />\n\n// Custom cache limit for testing mode transitions\n<TestEntityDataGrid initialCacheLimit={500} />\n\n// Testing scenarios:\n// 1. Load component - left grid should show ''partial'', right grid should show ''full''\n// 2. Page through left grid - observe loading states and cache hits\n// 3. Sort columns in both grids - observe instant vs server-side behavior\n// 4. Use text filter - observe warnings in left grid (partial mode)\n// 5. Change maxCachedRows to 2000 - left grid should switch to full cache mode\n// 6. Toggle indicators/warnings on/off to test visibility"}'
SET
  @FunctionalRequirements_ea1c5665 = N'Test component to validate EntityDataGrid functionality with real MJ data. Two side-by-side grids: LEFT GRID (Partial Cache Mode): Shows ALL Action Params (~1800 rows) with no extraFilter; Enters partial cache mode (maxCachedRows=1000); Tests server-side pagination, sorting, caching; User can toggle through all pages; Shows cache mode indicator and warnings for testing. RIGHT GRID (Full Cache Mode): Shows filtered Action Params (Type=''User Defined''); Should have < 1000 rows, enters full cache mode; Tests client-side instant sort/filter/pagination; Shows cache mode indicator to confirm full cache. TESTING SCENARIOS: Pagination: Click through pages in left grid, verify loading states and cache hits; Sorting: Sort columns in both grids, observe instant (right) vs server-side (left); Filtering: Use text filter in both grids, observe behavior differences; Cache indicators: Verify left shows ''Showing first 1,000 of 1,800'' and right shows ''All X records loaded''; Page size changes: Change page size in both grids, verify reload behavior; Refresh: Test refresh button clears caches and reloads. DEVELOPER CONTROLS: Toggle switches to enable/disable showCacheModeIndicator and warnOnPartialResults; Adjust maxCachedRows to test cache mode transitions; View cache mode change events in console.'
SET
  @TechnicalDesign_ea1c5665 = N'React component with two EntityDataGrid instances and test controls. State: showIndicators (boolean), showWarnings (boolean), cacheLimit (number). Layout: Top controls panel with toggles and inputs; Two-column layout with EntityDataGrid instances; Console log viewer for events. Left Grid Props: entityName=''Action Params'', no extraFilter, maxCachedRows=cacheLimit, showCacheModeIndicator=showIndicators, warnOnPartialResults=showWarnings, enableSorting=true, enableFiltering=true, showRefreshButton=true, pageSize=20, onCacheModeChanged logs to console, onPageChanged logs cache hits. Right Grid Props: entityName=''Action Params'', extraFilter="Type=''User Defined''", same props as left grid. Controls Panel: Checkbox to toggle showCacheModeIndicator; Checkbox to toggle warnOnPartialResults; Number input for maxCachedRows (default 1000); Info display showing current cache modes. Event Logging: Console.log all cache mode changes and page changes with timestamps; Display summary of actions taken for debugging.'
SET
  @FunctionalRequirementsVector_ea1c5665 = N'[-0.04211750254034996,0.052957795560359955,-0.007114137522876263,-0.020429253578186035,0.02595156989991665,0.04601522535085678,0.02457515336573124,0.08836108446121216,0.02161342464387417,-0.013229436241090298,-0.008068527095019817,-0.042119044810533524,-0.05368873104453087,0.018495995551347733,0.01834069937467575,0.06555492430925369,0.006017147097736597,0.02346028946340084,-0.01325179822742939,0.0022446869406849146,0.027261441573500633,-0.05185724049806595,0.015511992387473583,0.009964283555746078,-0.04776673763990402,0.00171586440410465,-0.03878464177250862,0.010381906293332577,0.05685342475771904,-0.0760761946439743,0.007134336046874523,0.04419059306383133,-0.02322370931506157,0.0026772378478199244,0.0000023051279640640132,0.006780381314456463,-0.03206287696957588,0.025676921010017395,-0.04464678093791008,0.05232910439372063,0.027464453130960464,0.050014249980449677,0.011226304806768894,-0.011479570530354977,-0.020892677828669548,-0.001761763240210712,-0.027528339996933937,0.011396464891731739,0.01577245630323887,-0.007303489837795496,0.010904388502240181,-0.007601137273013592,-0.056098636239767075,0.013973169960081577,0.033288683742284775,0.0010813315166160464,0.029183287173509598,-0.011023366823792458,0.0825505256652832,-0.04131128638982773,-0.011020518839359283,-0.015612857416272163,0.028506962582468987,-0.011319476179778576,-0.023948069661855698,-0.00574541324749589,-0.004739690106362104,0.015239872969686985,0.06295034289360046,-0.022931387647986412,0.12092024832963943,-0.06600478291511536,0.02249540202319622,-0.06085857003927231,-0.03622737154364586,0.025804374366998672,0.02630111761391163,-0.02755686081945896,-0.018991757184267044,0.010301179252564907,-0.04432050511240959,-0.024207286536693573,-0.002553818514570594,-0.04756343737244606,-0.0809464380145073,0.032880112528800964,0.032803136855363846,-0.05271684750914574,-0.07728954404592514,-0.004294109996408224,0.10230205953121185,-0.0037944780196994543,-0.014079813845455647,0.016270684078335762,-0.03917534649372101,-0.011535871773958206,-0.003924769815057516,-0.05899279564619064,0.08992791920900345,0.027434764429926872,0.036746133118867874,-0.005932153202593327,0.019826309755444527,-0.012803989462554455,0.0026415379252284765,0.07401981949806213,0.0358157642185688,0.0164912398904562,-0.002221390837803483,-0.003615188878029585,-0.026167459785938263,0.026300769299268723,0.04077684506773949,0.02202351577579975,0.06145326793193817,-0.005767162889242172,-0.022911392152309418,-0.027763210237026215,-0.03367210179567337,0.044753339141607285,0.04297645017504692,-0.027816392481327057,0.0023587627802044153,0.029985645785927773,0.00941768940538168,-0.05231105163693428,-0.03926285356283188,-0.07537902146577835,-0.029765428975224495,-0.03846365958452225,-0.03117457963526249,-0.04285028204321861,-0.000989809399470687,0.011929518543183804,0.017625197768211365,0.013652762398123741,0.05751914158463478,0.006267033517360687,-0.02041488140821457,-0.011125218123197556,0.037373438477516174,0.027615336701273918,0.02218586578965187,0.07158489525318146,-0.016190696507692337,-0.01780121587216854,0.005697055719792843,0.02265460230410099,0.0032163953874260187,0.04479764401912689,0.021407730877399445,-0.021378641948103905,0.08791352063417435,-0.012015163898468018,-0.02272362820804119,-0.014742889441549778,0.041242655366659164,0.02221818082034588,0.03215698525309563,-0.04932976886630058,0.015042460523545742,0.033809322863817215,0.06929370760917664,-0.0038133859634399414,0.022175956517457962,0.06507513672113419,-0.03603249788284302,0.013783435337245464,0.04813922196626663,-0.03559115156531334,-0.01816461980342865,-0.029219385236501694,-0.021454427391290665,0.009166432544589043,0.0022979879286140203,-0.060087110847234726,0.04459834843873978,-0.03847179189324379,-0.0346854105591774,0.0027134225238114595,0.02478058822453022,-0.01521876361221075,-0.011891969479620457,-0.020548326894640923,0.0897919237613678,-0.03057238645851612,0.04490862786769867,0.026450715959072113,-0.03718959167599678,0.05337158218026161,-0.020103484392166138,0.01079295389354229,0.04194348305463791,0.003964350093156099,-0.014990130439400673,0.0064013367518782616,-0.02609344758093357,-0.029851410537958145,0.03253079578280449,-0.01071599218994379,-0.027750739827752113,-0.012654123827815056,-0.03735284507274628,0.03229918330907822,0.018551738932728767,-0.02775106020271778,-0.07607745379209518,0.0328005850315094,-0.008821099996566772,-0.004175564739853144,0.009160886518657207,-0.00009768731979420409,-0.07235162705183029,-0.008391084149479866,-0.0057321637868881226,-0.017832588404417038,0.030333958566188812,-0.0029743355698883533,-0.022415267303586006,-0.0003290617314632982,-0.01851048320531845,0.026230324059724808,-0.01891649328172207,0.039664410054683685,0.0499998964369297,-0.0024701706133782864,0.038744453340768814,-0.019621048122644424,0.024881847202777863,-0.06085476279258728,-0.02229386754333973,-0.03491581231355667,-0.002229755511507392,0.043249353766441345,0.030804947018623352,-0.02458682656288147,0.05188243091106415,0.13997313380241394,0.007172862533479929,0.03951253369450569,0.024630699306726456,0.028966160491108894,-0.04198521748185158,-0.009959491901099682,-0.0710182785987854,-0.006151712033897638,-0.11491181701421738,-0.013451982289552689,-0.0077260565012693405,-0.01201073732227087,0.04804644733667374,0.018687935546040535,-0.011454149149358273,0.017307428643107414,-0.016608841717243195,-0.024655211716890335,-0.046893928200006485,-0.003249780973419547,0.0011306745000183582,0.03907681629061699,0.014165906235575676,-0.009447052143514156,0.019283317029476166,-0.020991219207644463,0.04502560943365097,0.0050499942153692245,0.04365639016032219,-0.06389198452234268,0.025655001401901245,0.023724500089883804,0.04471127688884735,0.0376790389418602,-0.02333531528711319,0.00547213526442647,-0.01934434287250042,-0.015825115144252777,-0.02429361827671528,0.038310132920742035,-0.007551271002739668,-0.05302528291940689,-0.03744491562247276,-0.014451885595917702,0.04627295210957527,0.022257855162024498,-0.02148599550127983,0.05896449089050293,-0.006621390115469694,-0.06063664332032204,0.03374587371945381,0.004896977450698614,0.009616716764867306,0.019344210624694824,0.03295772895216942,-0.017879720777273178,0.011380921117961407,0.009480654262006283,-0.07949437201023102,0.0769895613193512,0.01536543294787407,0.002969365334138274,-0.03364456444978714,0.014712871052324772,-0.035644788295030594,0.01294602919369936,0.03167664632201195,0.03817712515592575,-0.007466231472790241,0.02204168401658535,0.06390150636434555,0.022988276556134224,-0.048966046422719955,0.010455871000885963,0.015496443957090378,0.013066618703305721,-0.03398635610938072,0.025173701345920563,0.09356523305177689,0.006475245114415884,-0.05805608257651329,-0.00999167375266552,0.005212996620684862,0.014344066381454468,0.03376397117972374,0.005501751787960529,-0.04309363663196564,-0.0222355667501688,0.03466964513063431,0.0008124166051857173,-0.08787685632705688,0.0005470464820973575,0.0198589526116848,-0.09664051234722137,0.005497909151017666,-0.021164415404200554,-0.009613524191081524,0.017721958458423615,-0.039468470960855484,0.006877551320940256,-0.0266420878469944,-0.001446863985620439,0.0009858434787020087,-0.010468830354511738,-0.06232420355081558,0.03731149807572365,0.03682564198970795,0.0013084269594401121,0.02160898968577385,-0.002364788670092821,-0.002157666487619281,-0.021023204550147057,-0.01296749897301197,0.06324470043182373,-0.019804125651717186,0.005064801312983036,0.007182089611887932,-0.02948540821671486,-0.0592835433781147,-0.003650395665317774,0.009615297429263592,-0.049410734325647354,0.03534562885761261,0.07141587138175964,0.013398973271250725,-0.0014406602131202817,-0.014732075855135918,0.008083395659923553,0.010825518518686295,-0.013616942800581455,0.021766044199466705,-0.018306143581867218,-0.028550146147608757,-0.029025837779045105,-0.039376795291900635,0.002590895164757967,0.003785074921324849,-0.07407126575708389,0.013577325269579887,0.026130415499210358,0.009906509891152382,0.011497965082526207,0.06257601827383041,-0.07449698448181152,0.0493040569126606,0.04131348803639412,0.052140012383461,-0.05252290517091751,-0.0014683472691103816,0.014897831715643406,-0.0402398556470871,0.01744227297604084,0.003783769439905882,0.027094755321741104,0.08815737068653107,-0.021242713555693626,-0.001680969726294279,0.05576104298233986,0.01384035311639309,0.00441540265455842,0.03715590760111809,0.020728634670376778,-0.029674287885427475,0.09698610007762909,-0.0389130562543869,0.04052836075425148,0.024359747767448425,-0.011190999299287796,0.010507526807487011,0.0019943073857575655,0.04729020968079567,0.01662837341427803,0.040779147297143936,-0.042878199368715286,-0.03172307088971138,-0.05770197883248329,-0.026898713782429695,-0.01366641465574503,-0.012456856667995453,-0.005030821543186903,0.02079705521464348,0.017813194543123245,0.0029365525115281343,0.0051648891530931,0.017188113182783127,-0.052573349326848984,0.013385958969593048,-0.009955501183867455,-0.011667191982269287,-0.03516456112265587,-0.0314217284321785,0.04457436501979828,-0.03393281623721123,-0.0254405178129673,0.009149969555437565,-0.013817341066896915,-0.039226509630680084,-0.021431339904665947,-0.0014907604781910777,-0.04570053890347481,0.04145678132772446,-0.0038911679293960333,-0.01881585642695427,-0.007445208728313446,0.06466469168663025,0.015617743134498596,-0.058846209198236465,-0.040594931691884995,-0.021013909950852394,0.037014465779066086,0.00027621592744253576,-0.0541239008307457,0.03752463683485985,0.012413573451340199,-0.023453038185834885,0.02232087403535843,0.005299742333590984,-0.04410897567868233,0.030449993908405304,-0.009649124927818775,-0.07383016496896744,0.004038607701659203,0.003457434941083193,0.02235076017677784,-0.012970667332410812,0.008854656480252743,-0.017931237816810608,-0.11544711887836456,-0.04060222581028938,-0.1343398541212082,0.030373623594641685,0.02847471833229065,-0.029341435059905052,-0.02653108537197113,-0.04515905678272247,-0.044204264879226685,0.04080852493643761,-0.0111243836581707,0.016919080168008804,0.0230124332010746,-0.014625443145632744,-0.004031863529235125,0.01543143205344677,-0.03296346217393875,0.03483706712722778,-0.11205950379371643,0.035054776817560196,0.07762711495161057,-0.026070203632116318,-0.024010468274354935,-0.012157944031059742,0.00311957485973835,-0.020011069253087044,-0.011197968386113644,-0.014070313423871994,0.06323887407779694,0.014975186437368393,0.02942420169711113,-0.001576924347318709,-0.013594386167824268,-0.05393509939312935,-0.04141262546181679,-0.04093678668141365,-0.016505127772688866,-0.0021956597920507193,-0.02210979536175728,0.05599381774663925,0.015622098930180073,0.0034831445664167404,0.0500759482383728,0.011664341203868389,0.015857042744755745,0.025360072031617165,-0.01514104288071394,-0.06480200588703156,0.07408734411001205,0.008665344677865505,-0.0020677796564996243,-0.04392163082957268,0.058941133320331573,0.06656359136104584,-0.015599381178617477,0.020964136347174644,0.00462715607136488,-0.021171705797314644,-0.01891934685409069,0.07544472068548203,-0.018601374700665474,0.022236501798033714,0.015076074749231339,0.04579503834247589,0.036229852586984634,0.018175911158323288,-0.02606024034321308,-0.06632696837186813,0.01864299550652504,-0.03343145176768303,0.01650458760559559,0.025976067408919334,-0.023612359538674355,0.01859121210873127,-0.09385906159877777,-0.056633587926626205,0.0012010748032480478,-0.024186331778764725,0.020082324743270874,-0.045469045639038086,-0.055667173117399216,0.00811051670461893,-0.03457249328494072,0.052035119384527206,0.05934937670826912,0.0012992636766284704,-0.04060797393321991,-0.03463681414723396,0.016785161569714546,-0.021907826885581017,-7.307623731727927e-33,-0.005009163171052933,-0.040635526180267334,-0.0033513072412461042,-0.061667125672101974,0.010945509187877178,-0.07105273753404617,0.0256143007427454,-0.05175955221056938,0.011734126135706902,0.0001236861280631274,-0.014744522981345654,0.024705860763788223,0.022879259660840034,-0.03891335055232048,-0.023118756711483,-0.02835841290652752,0.03218452259898186,-0.023005763068795204,-0.02282531000673771,0.06275223940610886,-0.03170774132013321,-0.003443790366873145,-0.046789225190877914,0.009471072815358639,-0.04091357812285423,-0.01824473962187767,0.017525432631373405,-0.025453848764300346,-0.09297482669353485,0.019723067060112953,-0.003813938470557332,-0.02969491295516491,-0.015638630837202072,-0.029166432097554207,0.004862617235630751,-0.06965484470129013,-0.050110675394535065,0.01968761347234249,-0.03326869010925293,0.01610523648560047,0.10485338419675827,-0.028428634628653526,-0.025816872715950012,-0.005751568358391523,-0.043875861912965775,0.01072489283978939,-0.0033291098661720753,0.016939707100391388,-0.01251993328332901,-0.03833523765206337,0.028019171208143234,0.003987129777669907,-0.005462768021970987,0.014388645067811012,0.02600841596722603,0.1046522855758667,0.05682174861431122,0.030963050201535225,-0.06040705367922783,-0.02165955863893032,0.0067580523900687695,-0.008141767233610153,0.030969731509685516,0.059889521449804306,0.027120349928736687,-0.007162786554545164,0.02799125202000141,0.07178746163845062,0.003122201655060053,-0.019607143476605415,0.046337734907865524,-0.032169606536626816,-0.015104729682207108,-0.0643589198589325,0.0284150131046772,0.06730830669403076,0.02097316086292267,0.01976092718541622,-0.09688763320446014,0.043076690286397934,0.01908135414123535,-0.020624501630663872,-0.024711668491363525,0.005924370605498552,0.009483258239924908,0.06340716779232025,-0.02401016838848591,0.0019428763771429658,0.019057126715779305,0.022628197446465492,-0.04859290271997452,0.023913605138659477,-0.022484824061393738,-0.01790403015911579,-0.029402585700154305,0.027131462469697,0.002211845712736249,-0.02297917939722538,0.0030003408901393414,0.021289678290486336,0.0601109154522419,-0.030935076996684074,0.022401927039027214,0.009242375381290913,0.0021734749898314476,-0.029785219579935074,0.01968422718346119,-0.05120917409658432,-0.04106995090842247,0.023615209385752678,0.006497059017419815,0.002588430419564247,0.00628768652677536,-0.0020628138445317745,0.013132408261299133,0.043311286717653275,0.04009229317307472,0.03151385486125946,0.01063794270157814,-0.030721647664904594,0.02365553192794323,-0.02515443228185177,0.013260009698569775,0.0167213324457407,0.03876851871609688,0.006697362754493952,-0.030602170154452324,0.03742020204663277,-0.02513892948627472,-0.049626197665929794,0.0019474589498713613,0.042401887476444244,3.1383979148813523e-7,0.004869518335908651,0.03964534029364586,-0.01492390688508749,0.00716358982026577,0.011340645141899586,-0.02166084572672844,-0.008801468648016453,-0.04520130157470703,0.016099026426672935,-0.04006696492433548,-0.0177160631865263,0.013365557417273521,0.04066475108265877,0.021222278475761414,0.013568859547376633,-0.06027510017156601,0.02870590053498745,-0.019208384677767754,-0.05526378005743027,-0.022288700565695763,0.03357057645916939,-0.019132116809487343,-0.013881701044738293,0.0032061852980405092,0.02754322811961174,0.00559229264035821,0.016284877434372902,0.024148203432559967,-0.007252985145896673,0.00025971431750804186,0.08473982661962509,-0.055055756121873856,-0.01248368714004755,0.051422618329524994,0.003383092815056443,0.005070142447948456,-0.0558282844722271,-0.011527596972882748,0.023593608289957047,-0.03078511729836464,0.026816580444574356,-0.02899935469031334,-0.028956810012459755,0.01618259772658348,0.058391135185956955,0.014381949789822102,-0.00004241146962158382,0.053454529494047165,-0.02467315085232258,-0.0516522079706192,-0.004318728111684322,-0.004934616852551699,0.012462520971894264,-0.004166013095527887,0.01919485069811344,-0.0038116206414997578,0.0055942111648619175,0.038579538464546204,0.004069341812282801,-0.024528147652745247,-0.04029495641589165,-0.03819458931684494,0.012272319756448269,0.023157687857747078,-0.021335074678063393,-0.03989409655332565,-0.042739029973745346,4.176458419252142e-34,0.006596365012228489,-0.009475190192461014,0.04524093121290207,0.046908244490623474,0.009082469157874584,-0.007344402372837067,0.03096148744225502,0.010136638768017292,0.032762251794338226,-0.0801766887307167,0.011748460121452808]'
SET
  @TechnicalDesignVector_ea1c5665 = N'[-0.0478287898004055,0.02486317977309227,-0.02564714476466179,-0.015785491093993187,-0.01002842839807272,0.027028823271393776,0.07462660223245621,0.08791237324476242,0.06449452042579651,-0.020402545109391212,0.006264781579375267,-0.0625544935464859,-0.03719098120927811,0.026904549449682236,0.012039230205118656,0.022533586248755455,0.011155766434967518,0.025993721559643745,-0.04478053003549576,-0.008375626057386398,0.04939762502908707,-0.03197580948472023,-0.008163776248693466,0.014504062943160534,-0.05314842611551285,-0.01007329672574997,-0.04615124687552452,0.01478647906333208,0.06278631836175919,-0.035260528326034546,0.007706101518124342,0.026912333443760872,-0.007044561207294464,0.0070521109737455845,0.0000021758951334049925,0.00012186495587229729,-0.033159732818603516,-0.0032980728428810835,0.0027072892989963293,0.02656812220811844,0.009020241908729076,-0.0020792430732399225,0.0016549485735595226,-0.04739884287118912,-0.011548045091331005,-0.048264652490615845,-0.03200684115290642,0.03652956709265709,0.03595082461833954,0.026667868718504906,0.01668439246714115,0.012101550586521626,-0.03284169360995293,0.029090920463204384,0.016163518652319908,0.008001390844583511,0.01944219134747982,-0.05562562495470047,0.04637376591563225,-0.06770031899213791,-0.013449684716761112,-0.008885861374437809,0.010150043293833733,-0.02011691778898239,-0.011768525466322899,0.03617800399661064,0.02260984480381012,0.01958400383591652,0.03687555342912674,-0.008418883197009563,0.14636771380901337,-0.04474649578332901,0.03588119521737099,-0.04287831112742424,-0.029812263324856758,0.007137532811611891,0.046767134219408035,-0.04391743615269661,-0.026451198384165764,0.03335007652640343,-0.0003182572836522013,-0.05398230627179146,-0.004759857431054115,-0.047133587300777435,-0.05767666548490524,0.06008146330714226,0.04408121854066849,0.013726439327001572,-0.11505746841430664,-0.005572912748903036,0.08767631649971008,-0.015978893265128136,0.004270256496965885,0.02451339364051819,-0.05383925139904022,0.004740201868116856,-0.02181992307305336,-0.11799059063196182,0.03682178258895874,0.005101642105728388,-0.026600634679198265,0.004011375829577446,0.05072704330086708,0.005181518383324146,0.031888917088508606,0.1242275983095169,0.023739265277981758,0.020118845626711845,-0.005502646788954735,0.0037201144732534885,-0.019674578681588173,0.020006213337183,0.00936314556747675,0.028865251690149307,0.015225253067910671,-0.034683600068092346,0.0018641354981809855,-0.03336720168590546,-0.018330803140997887,0.007613233290612698,0.025539880618453026,-0.04863135516643524,0.0004608269955497235,0.007742283400148153,0.01656940206885338,-0.026719441637396812,-0.028153670951724052,-0.08230629563331604,-0.023380497470498085,-0.04029526934027672,-0.038558363914489746,-0.028387462720274925,-0.0018839682452380657,0.03472454473376274,-0.044871799647808075,0.018890975043177605,0.0380060039460659,-0.012769055552780628,-0.04117787629365921,0.06395018845796585,0.025830300524830818,0.02580849640071392,-0.021991459652781487,0.052364904433488846,0.03008253686130047,-0.021115237846970558,0.01204638835042715,-0.10429272800683975,-0.007527007255703211,-0.003464789828285575,0.04446236044168472,-0.040844522416591644,0.033082135021686554,-0.016091762110590935,0.004435435868799686,0.007096611429005861,0.01794414594769478,0.029340172186493874,0.07381661981344223,-0.026578601449728012,0.017738044261932373,0.04721568152308464,0.10078094899654388,0.02044677734375,0.002354837954044342,0.06757704168558121,-0.013791569508612156,-0.012143178842961788,0.029967613518238068,-0.06048563867807388,0.019347837194800377,-0.01581456884741783,-0.023984840139746666,-0.0067845904268324375,-0.0030322647653520107,-0.07604701071977615,0.004781120922416449,-0.05481691658496857,-0.043645747005939484,-0.0058595407754182816,-0.02634354680776596,-0.03629462048411369,0.01063424814492464,-0.006931243930011988,0.10001067817211151,-0.06093832105398178,0.0443732850253582,0.010210242122411728,-0.027006633579730988,0.041991911828517914,-0.020351888611912727,0.006461940240114927,0.011480976827442646,-0.005590586457401514,0.005525826010853052,0.004958234261721373,-0.053205810487270355,-0.005128942430019379,0.013386051170527935,0.017132041975855827,0.007044144906103611,-0.0094371996819973,0.0030079097487032413,0.04872189089655876,-0.00907390657812357,-0.01572498120367527,-0.0653141513466835,0.05072402581572533,0.004517766647040844,0.024110930040478706,0.030098043382167816,0.0100351981818676,-0.03310809284448624,-0.01253973226994276,0.006869759876281023,-0.04934389889240265,0.014373238198459148,0.022172730416059494,-0.06629423797130585,-0.0076871635392308235,-0.04430059716105461,0.06410564482212067,-0.01856813207268715,0.03472868725657463,0.09267117828130722,-0.021598296239972115,0.013942604884505272,-0.020639225840568542,-0.01351057831197977,-0.05558168515563011,-0.03787419945001602,-0.029718831181526184,-0.016574567183852196,0.06333785504102707,-0.0064459266141057014,-0.0187859944999218,0.014036298729479313,0.04546744376420975,0.0209791399538517,0.0647951066493988,0.022113557904958725,-0.02806170843541622,-0.03235010802745819,-0.014670456759631634,-0.028897790238261223,-0.009316668845713139,-0.04949590563774109,0.009862661361694336,-0.023634783923625946,0.01348055899143219,0.048432156443595886,0.023930324241518974,-0.00823501218110323,-0.001639215974137187,-0.0367802269756794,-0.054620999842882156,-0.0069196708500385284,0.020729245617985725,-0.010913248173892498,0.015960916876792908,-0.011434626765549183,0.0010365665657445788,0.005635536275804043,-0.025911593809723854,0.001504560699686408,-0.004663048777729273,0.03710325434803963,-0.020863046869635582,0.06217176839709282,-0.0039163511246442795,0.0693948045372963,0.043862953782081604,-0.03138253092765808,-0.015600016340613365,0.021526040509343147,-0.013008883222937584,-0.044906046241521835,0.018861375749111176,0.0017313725547865033,-0.05300289765000343,0.004486555233597755,-0.0233136136084795,0.03271827474236488,0.022918030619621277,-0.021040400490164757,0.045383524149656296,-0.009741741232573986,-0.06299424171447754,0.009965275414288044,0.005232690833508968,0.03748704120516777,0.01470885705202818,0.0020032324828207493,-0.017257053405046463,-0.006250598933547735,0.005139495711773634,0.012847120873630047,0.05572038143873215,-0.034692078828811646,0.037803858518600464,-0.01915816217660904,-0.0015200141351670027,-0.06631164997816086,0.0069602858275175095,0.008428222499787807,0.036280613392591476,-0.03135541081428528,0.05190408602356911,0.010414480231702328,0.046829693019390106,-0.010483126156032085,0.007473326288163662,-0.0026214413810521364,0.04084331542253494,-0.03433678299188614,0.03669150918722153,0.04715921729803085,-0.04684717208147049,-0.04852711409330368,0.04242842271924019,-0.02159588411450386,-0.018136262893676758,0.027103176340460777,0.01833237148821354,-0.055576007813215256,-0.018964091315865517,0.016321096569299698,-0.006463740020990372,-0.07301481813192368,-0.017405876889824867,-0.016558419913053513,-0.049903422594070435,-0.0032261849846690893,-0.014101231470704079,0.028141669929027557,-0.02016005851328373,-0.02515428327023983,-0.012460937723517418,-0.020779764279723167,0.012279212474822998,0.004464832600206137,-0.03547922149300575,-0.036526940762996674,0.07718387246131897,0.06430783867835999,-0.010702543891966343,-0.019809354096651077,0.01640213094651699,-0.036714475601911545,0.01158623956143856,0.0021416952367872,0.03568783029913902,0.00037160771898925304,0.00685895886272192,-0.004392801318317652,-0.0006118302699178457,-0.04266930744051933,-0.008354876190423965,-0.022384675219655037,-0.056295156478881836,0.04436458274722099,0.04051913321018219,0.06602419167757034,0.030814940109848976,0.0068336245603859425,0.00564005458727479,0.02776620164513588,-0.009046295657753944,-0.005615896545350552,-0.023978568613529205,0.021253090351819992,0.0017552213976159692,-0.01771688461303711,-0.0028909039683640003,-0.0139351487159729,-0.04174477607011795,0.0029416577890515327,0.03438422828912735,0.009198600426316261,0.010959775187075138,0.04208964481949806,-0.04463311284780502,0.07377862185239792,0.029304273426532745,0.04314524680376053,-0.04147108644247055,0.01097091380506754,0.004340710584074259,0.017265409231185913,-0.0516524538397789,-0.006691760383546352,-0.04518554359674454,0.053866252303123474,-0.026838816702365875,-0.0026123318821191788,0.062252771109342575,-0.022003458812832832,-0.0058301836252212524,0.06388229876756668,0.04464995861053467,-0.012748576700687408,0.09012527763843536,-0.012892118655145168,-0.004746627528220415,0.01960929110646248,0.00540578318759799,0.0011441900860518217,-0.015952998772263527,0.044532954692840576,0.03814273327589035,-0.01994978077709675,-0.04562611132860184,-0.01212896965444088,-0.03710681572556496,-0.06620817631483078,-0.02085190638899803,-0.018333064392209053,-0.03605683892965317,0.03852042183279991,0.0248451828956604,-0.008974929340183735,0.02916140668094158,0.027579177170991898,-0.026966014876961708,-0.0164126455783844,-0.009358338080346584,-0.034170690923929214,0.004938235506415367,-0.018399400636553764,0.04252324625849724,-0.0023313125129789114,-0.0018638045294210315,0.0219170693308115,-0.012737407349050045,-0.07310228049755096,0.002200695453211665,-0.009416500106453896,-0.022108877077698708,0.02138061448931694,-0.03110208921134472,-0.015316920354962349,-0.018677756190299988,0.06250172853469849,0.009222257882356644,-0.05541905015707016,-0.09951724112033844,-0.006790094077587128,0.07482936978340149,0.0319940447807312,-0.042508564889431,0.029523836448788643,0.026629285886883736,-0.05313573405146599,-0.00045191909885033965,0.043496765196323395,-0.07170708477497101,0.06790740042924881,0.03194766864180565,-0.09085255116224289,-0.005226569715887308,-0.015408596955239773,0.010890353471040726,-0.028323238715529442,0.031059235334396362,0.024940218776464462,-0.08585535734891891,-0.015152104198932648,-0.07492491602897644,0.030769020318984985,0.00804474949836731,-0.027921611443161964,-0.030707167461514473,-0.025414999574422836,-0.022139932960271835,0.029520900920033455,0.03298518434166908,0.04313025623559952,0.0007804581546224654,-0.019819974899291992,-0.013497809879481792,0.00499055115506053,-0.028858136385679245,-0.01609993539750576,-0.0888642892241478,0.01276185642927885,0.03987976908683777,-0.0023933995980769396,0.0019871913827955723,0.001388749573379755,-0.001437534810975194,-0.038040343672037125,-0.02864847518503666,-0.021940821781754494,0.1264060139656067,0.04378017783164978,0.03795900568366051,0.003792129922658205,-0.015650343149900436,0.014379962347447872,-0.04247954487800598,-0.03439218923449516,0.00494019128382206,0.007999148219823837,0.009128659963607788,0.0653536468744278,-0.01709507405757904,-0.030872296541929245,0.04652265086770058,0.03410034999251366,-0.01732086017727852,0.0274677537381649,-0.05358383432030678,-0.021348973736166954,0.05226996913552284,0.021866953000426292,0.05680876970291138,-0.00984683446586132,0.07839323580265045,0.06049829721450806,-0.018141627311706543,0.020322736352682114,0.002827153541147709,0.0008878602529875934,-0.005545616615563631,0.050128862261772156,0.018099060282111168,0.020151805132627487,0.03797801584005356,0.01686694473028183,0.014197016134858131,0.033145081251859665,0.03301127627491951,-0.02392970398068428,0.024761676788330078,-0.011519086547195911,0.018185514956712723,0.035920266062021255,0.010054975748062134,0.018042806535959244,-0.07135089486837387,-0.10143011063337326,0.046495795249938965,-0.003845273982733488,0.02338901348412037,-0.01364048756659031,-0.048170823603868484,0.028376730158925056,-0.06933487951755524,0.04203414171934128,0.03893435373902321,0.01334560476243496,-0.023393001407384872,-0.055507954210042953,0.024012746289372444,-0.0045568314380943775,-7.143496802362304e-33,-0.008796416223049164,-0.02029665932059288,0.0009195624734275043,-0.032904837280511856,-0.0014486402506008744,-0.06110771372914314,0.006485308520495892,-0.03671760484576225,-0.010297439992427826,0.0005801632069051266,-0.006959026213735342,0.003804075764492154,0.010424496605992317,-0.04605601355433464,-0.04887211695313454,-0.014790029264986515,0.011258020997047424,0.010365610010921955,-0.04843304678797722,0.08759292215108871,0.015754085034132004,0.01632705330848694,-0.007053755223751068,0.018132392317056656,-0.035785455256700516,-0.06034839153289795,0.028876451775431633,-0.02012993022799492,-0.09864240884780884,0.004691565874963999,-0.030512096360325813,0.002671949565410614,-0.023267371580004692,-0.07445123791694641,0.018794776871800423,-0.04161430522799492,-0.02169780805706978,-0.03321165218949318,0.01663787104189396,0.003068443387746811,0.14063972234725952,-0.05892203003168106,-0.029870543628931046,0.009098258800804615,-0.022801565006375313,0.013337301090359688,0.0013958633644506335,0.0560901015996933,0.0058527481742203236,-0.04623005911707878,0.03386836126446724,0.005380365997552872,-0.020677508786320686,0.03581104055047035,-0.004059540573507547,0.018162250518798828,0.06446990370750427,0.021975647658109665,-0.06052115932106972,-0.02509268932044506,0.013988986611366272,-0.007859203964471817,0.036269668489694595,0.02752228081226349,-0.0016423523193225265,0.013372502289712429,-0.03858640417456627,0.06681801378726959,-0.050385575741529465,-0.0017981703858822584,0.04375043883919716,-0.046219807118177414,-0.03305225074291229,-0.02532605081796646,-0.004103470593690872,0.03519313409924507,-0.005291416775435209,0.024129372090101242,-0.03649688512086868,0.038365546613931656,0.009200981818139553,0.02528160996735096,-0.00572740426287055,0.005100850481539965,-0.03332894295454025,0.0912012830376625,0.007548296824097633,-0.009123253636062145,0.01897304505109787,0.016924478113651276,-0.02001660317182541,0.0030376012437045574,-0.021993981674313545,0.009625592269003391,-0.02673865295946598,0.02814101055264473,0.016802381724119186,-0.03213603422045708,0.010804984718561172,0.01860678941011429,0.07893796265125275,-0.025249170139431953,0.016632435843348503,0.03353842347860336,0.0005119148991070688,-0.033315397799015045,-0.013919909484684467,-0.018183633685112,-0.02156025730073452,0.049737464636564255,-0.0070749614387750626,-0.010922921821475029,-0.008404668420553207,-0.012807643972337246,-0.020845821127295494,0.04517223313450813,0.03739667311310768,0.020609049126505852,0.014312081038951874,-0.026632320135831833,0.03807568922638893,0.013361109420657158,0.005806952249258757,0.037987809628248215,0.01866675354540348,0.006068803835660219,-0.06488220393657684,0.061931777745485306,-0.02193506434559822,-0.05970899015665054,0.0026907818391919136,0.04513665661215782,3.015094307556865e-7,0.006319188978523016,0.00691965501755476,-0.018567008897662163,-0.007147275377064943,0.03868448734283447,-0.025353455916047096,-0.02521752566099167,-0.033701341599226,-0.019351596012711525,-0.0596187599003315,-0.0536048449575901,0.016331877559423447,0.012795262038707733,0.005453305318951607,0.005047888029366732,-0.06351998448371887,0.015406661666929722,-0.005374040454626083,-0.06266316771507263,-0.015561207197606564,0.07207994908094406,-0.00950635690242052,0.03520828112959862,0.025325745344161987,0.038291119039058685,0.051242318004369736,0.018062135204672813,0.02718747965991497,0.05243706330657005,0.028491802513599396,0.02283960022032261,-0.005366479512304068,-0.018633438274264336,0.01783575490117073,0.007792943622916937,0.0007732555968686938,-0.05445630103349686,0.007474658079445362,0.015462860465049744,-0.003042182419449091,0.011774673126637936,-0.006629013456404209,-0.07335792481899261,-0.011411703191697598,0.055837251245975494,0.006667772773653269,-0.0005635007400996983,0.062746062874794,-0.06414545327425003,-0.022362984716892242,-0.040480837225914,-0.00020451283489819616,0.02387060597538948,-0.001191925024613738,0.0034084932412952185,0.0012642203364521265,0.026169676333665848,0.026542404666543007,0.026162484660744667,-0.008162357844412327,-0.020828336477279663,-0.040271416306495667,0.0008077776874415576,0.034829068928956985,-0.02380858175456524,-0.05617433413863182,-0.08124513924121857,3.626937309939281e-34,-0.036021869629621506,-0.030243054032325745,0.004377384670078754,0.049379464238882065,0.006931495387107134,-0.01749650575220585,-0.017902366816997528,-0.02779402956366539,0.035159386694431305,-0.05166826397180557,0.006980136502534151]'
SET
  @HasCustomProps_ea1c5665 = 1
SET
  @HasCustomEvents_ea1c5665 = 0
SET
  @RequiresData_ea1c5665 = 1
SET
  @DependencyCount_ea1c5665 = 1
SET
  @TechnicalDesignVectorEmbeddingModelID_ea1c5665 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @FunctionalRequirementsVectorEmbeddingModelID_ea1c5665 = N'1D45AA65-41EC-4572-9ECD-AB2826C9B059'
SET
  @HasRequiredCustomProps_ea1c5665 = 0
SET
  @ID_ea1c5665 = '88E31796-27C7-481D-9621-8D5D4143A976'
EXEC [${flyway:defaultSchema}].spUpdateComponent @Namespace = @Namespace_ea1c5665,
  @Name = @Name_ea1c5665,
  @Version = @Version_ea1c5665,
  @VersionSequence = @VersionSequence_ea1c5665,
  @Title = @Title_ea1c5665,
  @Description = @Description_ea1c5665,
  @Type = @Type_ea1c5665,
  @Status = @Status_ea1c5665,
  @DeveloperName = @DeveloperName_ea1c5665,
  @DeveloperEmail = @DeveloperEmail_ea1c5665,
  @DeveloperOrganization = @DeveloperOrganization_ea1c5665,
  @SourceRegistryID = @SourceRegistryID_ea1c5665,
  @ReplicatedAt = @ReplicatedAt_ea1c5665,
  @LastSyncedAt = @LastSyncedAt_ea1c5665,
  @Specification = @Specification_ea1c5665,
  @FunctionalRequirements = @FunctionalRequirements_ea1c5665,
  @TechnicalDesign = @TechnicalDesign_ea1c5665,
  @FunctionalRequirementsVector = @FunctionalRequirementsVector_ea1c5665,
  @TechnicalDesignVector = @TechnicalDesignVector_ea1c5665,
  @HasCustomProps = @HasCustomProps_ea1c5665,
  @HasCustomEvents = @HasCustomEvents_ea1c5665,
  @RequiresData = @RequiresData_ea1c5665,
  @DependencyCount = @DependencyCount_ea1c5665,
  @TechnicalDesignVectorEmbeddingModelID = @TechnicalDesignVectorEmbeddingModelID_ea1c5665,
  @FunctionalRequirementsVectorEmbeddingModelID = @FunctionalRequirementsVectorEmbeddingModelID_ea1c5665,
  @HasRequiredCustomProps = @HasRequiredCustomProps_ea1c5665,
  @ID = @ID_ea1c5665;


-- End of SQL Logging Session
-- Session ID: 269aa2c5-097e-4450-800c-13f72334cf7b
-- Completed: 2026-01-09T18:39:40.352Z
-- Duration: 82974ms
-- Total Statements: 153
