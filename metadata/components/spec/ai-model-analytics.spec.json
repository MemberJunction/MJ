{
  "name": "AIModelAnalytics",
  "title": "AI Model Analytics",
  "description": "Analytics panel with charts showing prompt usage distribution, performance metrics, and time series",
  "type": "chart",
  "functionalRequirements": "Display pie chart for prompt usage, bar chart for performance, time series for usage trends",
  "technicalDesign": "## Technical Design\n\n### Component Structure\n- Inline analytics panel below the model list\n- Tabbed interface for different visualization types\n- Processes prompt run data for various charts\n\n### Props\n- model: Selected AI model object\n- promptRuns: Array of prompt execution history for this model\n- dateRange: Time range for analytics (default: last 7 days)\n\n### Tabs/Sections\n1. **Usage Distribution**: Pie chart of prompt usage\n2. **Performance**: Bar chart of average execution times\n3. **Trends**: Time series chart of usage over time\n4. **Summary**: Key metrics (total runs, success rate, token usage)\n\n### Data Processing\n- Filter runs by date range and model ID\n- Group runs by prompt\n- Calculate aggregates (count, avg time, success rate)\n- Generate chart data structures\n\n### Chart Implementation\n- Responsive SVG-based charts\n- Interactive tooltips on hover\n- Color coding by status (success/error)\n- Handles empty states gracefully",
  "dataRequirements": {
    "mode": "views",
    "entities": [
      {
        "name": "MJ: AI Models",
        "description": "Core AI model definitions and specifications",
        "displayFields": [
          "ID",
          "Name",
          "APIName",
          "Description",
          "AIModelTypeID",
          "InputTokenLimit",
          "PowerRank",
          "SpeedRank",
          "CostRank",
          "IsActive",
          "__mj_CreatedAt",
          "__mj_UpdatedAt"
        ],
        "filterFields": [
          "AIModelTypeID",
          "IsActive"
        ],
        "sortFields": [
          "Name",
          "InputTokenLimit",
          "CostRank",
          "IsActive",
          "__mj_CreatedAt"
        ],
        "fieldMetadata": [
          {
            "name": "ID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": true,
            "description": "Unique identifier for the AI model"
          },
          {
            "name": "Name",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "System name of the AI model"
          },
          {
            "name": "APIName",
            "sequence": 4,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "API identifier for the model"
          },
          {
            "name": "InputTokenLimit",
            "sequence": 5,
            "defaultInView": true,
            "type": "int",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Maximum input token limit"
          },
          {
            "name": "CostRank",
            "sequence": 6,
            "defaultInView": true,
            "type": "int",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Relative cost ranking (1-5)"
          }
        ],
        "usageContext": "Main list of AI models"
      },
      {
        "name": "MJ: AI Model Vendors",
        "description": "Vendor associations for AI models",
        "displayFields": [
          "ID",
          "ModelID",
          "VendorID",
          "TypeID",
          "Model",
          "Vendor",
          "Type",
          "Status",
          "Priority",
          "APIName",
          "MaxInputTokens",
          "MaxOutputTokens",
          "SupportsStreaming",
          "SupportsEffortLevel"
        ],
        "filterFields": [
          "ModelID",
          "Type",
          "Status"
        ],
        "sortFields": [
          "Vendor",
          "Priority",
          "Type"
        ],
        "fieldMetadata": [
          {
            "name": "ModelID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Reference to AI Model"
          },
          {
            "name": "Vendor",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Vendor name"
          },
          {
            "name": "Type",
            "sequence": 3,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Vendor type (Model Developer or Inference Provider)"
          }
        ],
        "usageContext": "Vendor associations for models"
      },
      {
        "name": "MJ: AI Model Types",
        "description": "Types/categories of AI models",
        "displayFields": [
          "ID",
          "Name",
          "Description"
        ],
        "filterFields": [],
        "sortFields": [
          "Name"
        ],
        "usageContext": "Filter dropdown for model types"
      },
      {
        "name": "MJ: AI Prompt Runs",
        "description": "Execution history for AI prompts",
        "displayFields": [
          "ID",
          "PromptID",
          "ModelID",
          "StartTime",
          "EndTime",
          "TotalExecutionTime",
          "InputTokens",
          "OutputTokens",
          "TotalTokens",
          "Status",
          "Error"
        ],
        "filterFields": [
          "ModelID",
          "PromptID",
          "Status"
        ],
        "sortFields": [
          "StartTime",
          "TotalExecutionTime"
        ],
        "usageContext": "Analytics and usage history"
      },
      {
        "name": "MJ: AI Prompts",
        "description": "AI prompt definitions",
        "displayFields": [
          "ID",
          "Name",
          "Description",
          "CategoryID"
        ],
        "filterFields": [],
        "sortFields": [
          "Name"
        ],
        "usageContext": "Enrich prompt runs with names"
      }
    ]
  },
  "properties": [
    {
      "name": "model",
      "type": "object",
      "required": true,
      "description": "The selected AI model for analytics"
    },
    {
      "name": "promptRuns",
      "type": "array",
      "required": true,
      "description": "Array of prompt runs to analyze"
    },
    {
      "name": "view",
      "type": "string",
      "required": true,
      "description": "Current analytics view - 'prompts', 'performance', or 'timeline'"
    }
  ],
  "events": [
    {
      "name": "onViewChange",
      "description": "Fired when the analytics view changes",
      "parameters": [
        {
          "name": "view",
          "type": "string",
          "description": "New view name"
        }
      ]
    }
  ],
  "exampleUsage": "<AIModelAnalytics ... />",
  "code": "@file:../code/ai-model-analytics.js",
  "dependencies": [],
  "libraries": []
}