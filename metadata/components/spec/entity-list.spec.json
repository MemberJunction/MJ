{
  "name": "EntityList",
  "title": "Entity List",
  "description": "Displays entities in a grid or card layout with sorting capabilities",
  "type": "table",
  "functionalRequirements": "## Entity List Requirements\n\n- Display entities in grid or card view based on viewMode prop\n- Support sorting by multiple fields\n- Handle entity selection and notify parent\n- Show loading state while data loads\n- Display record count badges\n- Highlight selected entity\n- Support keyboard navigation",
  "dataRequirements": {
    "mode": "views",
    "entities": [
      {
        "name": "MJ: Entities",
        "description": "Metadata about all entities in the system",
        "displayFields": [
          "ID",
          "Name",
          "DisplayName",
          "NameSuffix",
          "Description",
          "SchemaName",
          "BaseTable",
          "BaseView"
        ],
        "filterFields": [
          "SchemaName",
          "BaseTable"
        ],
        "sortFields": [
          "Name",
          "DisplayName"
        ],
        "fieldMetadata": [
          {
            "name": "ID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": true,
            "description": "Unique identifier for the entity"
          },
          {
            "name": "Name",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "System name of the entity"
          },
          {
            "name": "DisplayName",
            "sequence": 3,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "User-friendly display name for the entity"
          },
          {
            "name": "NameSuffix",
            "sequence": 4,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Optional suffix appended to entity names for display purposes"
          },
          {
            "name": "Description",
            "sequence": 5,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Description of the entity"
          },
          {
            "name": "SchemaName",
            "sequence": 6,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Database schema name"
          },
          {
            "name": "BaseTable",
            "sequence": 7,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Base table in the database"
          },
          {
            "name": "BaseView",
            "sequence": 8,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Base view used for the entity"
          }
        ],
        "permissionLevelNeeded": [
          "read"
        ],
        "usageContext": "Main entity list display and filtering"
      },
      {
        "name": "MJ: Entity Fields",
        "description": "Fields belonging to each entity",
        "displayFields": [
          "Name",
          "DisplayName",
          "Type",
          "Length",
          "AllowsNull",
          "IsPrimaryKey",
          "IsUnique"
        ],
        "filterFields": [
          "EntityID"
        ],
        "sortFields": [
          "Sequence",
          "Name"
        ],
        "fieldMetadata": [
          {
            "name": "EntityID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Reference to parent entity"
          },
          {
            "name": "Name",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Field name"
          },
          {
            "name": "DisplayName",
            "sequence": 3,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "User-friendly field name"
          },
          {
            "name": "Type",
            "sequence": 4,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Data type of the field"
          },
          {
            "name": "Length",
            "sequence": 5,
            "defaultInView": true,
            "type": "int",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "Maximum length for string fields"
          },
          {
            "name": "AllowsNull",
            "sequence": 6,
            "defaultInView": true,
            "type": "bit",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Whether field allows null values"
          },
          {
            "name": "IsPrimaryKey",
            "sequence": 7,
            "defaultInView": true,
            "type": "bit",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Whether field is part of primary key"
          },
          {
            "name": "IsUnique",
            "sequence": 8,
            "defaultInView": true,
            "type": "bit",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Whether field must be unique"
          },
          {
            "name": "Sequence",
            "sequence": 9,
            "defaultInView": false,
            "type": "int",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Display order of the field"
          }
        ],
        "permissionLevelNeeded": [
          "read"
        ],
        "usageContext": "Details panel to show entity fields"
      },
      {
        "name": "MJ: Entity Relationships",
        "description": "Relationships between entities",
        "displayFields": [
          "RelatedEntity",
          "Type",
          "DisplayName",
          "RelatedEntityJoinField"
        ],
        "filterFields": [
          "EntityID"
        ],
        "sortFields": [
          "Sequence",
          "RelatedEntity"
        ],
        "fieldMetadata": [
          {
            "name": "EntityID",
            "sequence": 1,
            "defaultInView": false,
            "type": "uniqueidentifier",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Reference to parent entity"
          },
          {
            "name": "RelatedEntity",
            "sequence": 2,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "The related entity in the relationship"
          },
          {
            "name": "Type",
            "sequence": 3,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Type of relationship (One to Many, Many to One, etc.)"
          },
          {
            "name": "DisplayName",
            "sequence": 4,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "User-friendly name for the relationship"
          },
          {
            "name": "RelatedEntityJoinField",
            "sequence": 5,
            "defaultInView": true,
            "type": "nvarchar",
            "allowsNull": true,
            "isPrimaryKey": false,
            "description": "The field in the related entity that joins to this entity"
          },
          {
            "name": "Sequence",
            "sequence": 6,
            "defaultInView": false,
            "type": "int",
            "allowsNull": false,
            "isPrimaryKey": false,
            "description": "Display order"
          }
        ],
        "permissionLevelNeeded": [
          "read"
        ],
        "usageContext": "Details panel to show entity relationships"
      }
    ],
    "queries": [],
    "description": "This component requires access to entity metadata including entities, their fields, and relationships to provide a comprehensive entity browsing experience"
  },
  "technicalDesign": "## Technical Design\n\n### Props\n- entities: Array of entity objects\n- viewMode: 'grid' | 'card'\n- selectedEntityId: Currently selected entity\n- onSelectEntity: Callback when entity selected\n- sortBy: Current sort field\n- sortDirection: 'asc' | 'desc'\n- onSortChange: Callback for sort changes\n\n### Rendering\n- Grid mode: Compact table with columns\n- Card mode: Cards with entity info\n- Sort indicators in headers\n- Selection highlighting",
  "properties": [
    {
      "name": "entities",
      "description": "Array of entity objects to display",
      "type": "array",
      "required": true
    },
    {
      "name": "viewMode",
      "description": "Display mode - grid or card view",
      "type": "string",
      "required": true,
      "possibleValues": [
        "grid",
        "card"
      ]
    },
    {
      "name": "selectedEntityId",
      "description": "ID of the currently selected entity",
      "type": "string",
      "required": true
    },
    {
      "name": "onSelectEntity",
      "description": "Callback when an entity is selected",
      "type": "function",
      "required": true
    },
    {
      "name": "sortBy",
      "description": "Field to sort by",
      "type": "string",
      "required": true,
      "defaultValue": "Name"
    },
    {
      "name": "sortDirection",
      "description": "Sort direction",
      "type": "string",
      "required": true,
      "defaultValue": "asc",
      "possibleValues": [
        "asc",
        "desc"
      ]
    },
    {
      "name": "onSortChange",
      "description": "Callback when sort changes",
      "type": "function",
      "required": true
    }
  ],
  "events": [
    {
      "name": "onSelectEntity",
      "description": "Fired when an entity is selected",
      "parameters": [
        {
          "name": "entityId",
          "description": "ID of the selected entity",
          "type": "string"
        }
      ]
    },
    {
      "name": "onSortChange",
      "description": "Fired when sort configuration changes",
      "parameters": [
        {
          "name": "sortBy",
          "description": "Field to sort by",
          "type": "string"
        },
        {
          "name": "sortDirection",
          "description": "Sort direction",
          "type": "string"
        }
      ]
    }
  ],
  "exampleUsage": "<EntityList\n  entities={entities}\n  viewMode={viewMode}\n  selectedEntityId={selectedEntityId}\n  onSelectEntity={handleSelectEntity}\n  sortBy={sortBy}\n  sortDirection={sortDirection}\n  onSortChange={handleSortChange}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n/>",
  "code": "@file:../code/entity-list.js",
  "dependencies": [
    {
      "name": "DataGrid",
      "location": "registry",
      "namespace": "Generic/UI/Table",
      "version": "^1.0.0"
    }
  ],
  "libraries": []
}
