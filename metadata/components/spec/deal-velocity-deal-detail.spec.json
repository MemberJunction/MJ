{
  "name": "DealVelocityDealDetail",
  "namespace": "CRM/Analytics",
  "type": "Other",
  "location": "embedded",
  "code": "@file:../code/deal-velocity-deal-detail.js",
  "functionalRequirements": "## Deal Velocity Deal Detail\n\n### Purpose\nDisplay comprehensive information about a specific deal in a compact modal format with quick access to the full record using the SingleRecordView component.\n\n### Information Display\n- **Deal Basic Info**: Uses SingleRecordView component for standardized field display\n- **Standard Fields**: DealName, Amount, Stage, CloseDate, Probability, DealSource, NextStep\n- **Formatting**: Automatic currency, date, and field formatting via SingleRecordView\n- **Layout**: Clean modal with SingleRecordView for consistent field presentation\n\n### Actions\n- **Open Record**: Icon button (↗) to open full entity record\n- **Close Modal**: X button or click outside to dismiss\n\n### Visual Design\n- Compact modal overlay (500px max width)\n- SingleRecordView component for consistent field display\n- Modal header with deal name and close button\n- Sticky action button at bottom\n- Icon-only design for open button to save space\n\n### User Experience\n- Quick access to deal information via standardized SingleRecordView\n- One-click navigation to full record\n- Escape key support for closing\n- Click outside to dismiss",
  "dataRequirements": {
    "mode": "views",
    "entities": [
      {
        "name": "Deals",
        "fields": [
          {
            "name": "ID",
            "type": "string",
            "description": "Unique identifier for the deal"
          },
          {
            "name": "DealName",
            "type": "string",
            "description": "Name or title of the deal"
          },
          {
            "name": "Amount",
            "type": "number",
            "description": "Deal value in currency"
          },
          {
            "name": "Stage",
            "type": "string",
            "description": "Current stage of the deal"
          },
          {
            "name": "CloseDate",
            "type": "date",
            "description": "Expected or actual close date"
          },
          {
            "name": "Probability",
            "type": "number",
            "description": "Win probability percentage"
          },
          {
            "name": "DealSource",
            "type": "string",
            "description": "Origin or source of the deal"
          },
          {
            "name": "NextStep",
            "type": "string",
            "description": "Next action or milestone"
          }
        ] 
      }
    ]
  },
  "technicalDesign": "## Implementation Details\n\n### Component Function\n`DealVelocityDealDetail({ deal, onClose, utilities, styles, components, callbacks, savedUserSettings, onSaveUserSettings })`\n\n### Props\n- **deal**: Deal entity object with all fields\n- **onClose**: Callback to close the modal\n- **Standard props**: utilities, styles, components, callbacks, etc.\n\n### Layout Structure\n1. **Modal Overlay**: Fixed position with semi-transparent background\n2. **Modal Container**: Centered, white background, rounded corners\n3. **Header**: Deal name with close button\n4. **SingleRecordView Integration**: Used for consistent field display\n5. **Action Footer**: Border-separated section with open button\n\n### SingleRecordView Integration\n```javascript\nconst SingleRecordView = components['SingleRecordView'];\n\n<SingleRecordView\n  entityName=\"Deals\"\n  record={deal}\n  fields={[\"DealName\", \"Amount\", \"Stage\", \"CloseDate\", \"Probability\", \"DealSource\", \"NextStep\"]}\n  layout=\"table\"\n  allowOpenRecord={false}\n  utilities={utilities}\n  styles={styles}\n  components={components}\n  callbacks={callbacks}\n  savedUserSettings={savedUserSettings}\n  onSaveUserSettings={onSaveUserSettings}\n/>\n```\n\n### Open Record Integration\n```javascript\ncallbacks.OpenEntityRecord('Deals', [\n  { FieldName: 'ID', Value: deal.ID }\n]);\n```\n\n### Styling\n- Modal max width: 500px\n- 90% viewport width on mobile\n- Consistent padding and spacing\n- Icon button: 40x40px with ↗ symbol\n- Hover effects on interactive elements",
  "properties": [
    {
      "name": "deal",
      "type": "object",
      "required": true,
      "description": "Deal entity object with all fields"
    },
    {
      "name": "onClose",
      "type": "function",
      "required": true,
      "description": "Callback to close the modal"
    }
  ],
  "events": [
    {
      "name": "OpenEntityRecord",
      "description": "Triggered when user clicks the open button to view full record"
    }
  ],
  "dependencies": [
    {
      "name": "SingleRecordView",
      "location": "registry",
      "namespace": "Generic/UI/Form",
      "version": "^1.0.0"
    }
  ],
  "libraries": []
}