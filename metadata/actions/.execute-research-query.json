[
  {
    "fields": {
      "Name": "Execute Research Query",
      "Description": "Executes a read-only SQL SELECT query for research purposes with security validation. Ensures SELECT-only operations, prevents dangerous SQL operations, enforces timeouts, and logs all queries for audit trail. SQL syntax validation is performed by SQL Server during execution.",
      "DriverClass": "Execute Research Query",
      "Type": "Custom",
      "Status": "Active",
      "IconClass": "fa-solid fa-code",
      "CategoryID": "@lookup:MJ: Action Categories.Name=Data"
    },
    "relatedEntities": {
      "MJ: Action Params": [
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "Query",
            "Type": "Input",
            "ValueType": "Other",
            "IsArray": false,
            "Description": "SQL SELECT query to execute (required). Only SELECT statements are allowed. Query is validated for syntax and security before execution.",
            "IsRequired": true
          },
          "primaryKey": {
            "ID": "9A2AE3E8-2CD3-40FA-8DEB-5DA5090A70D4"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:15.952Z",
            "checksum": "85504d14c2243448ce23f6a6c0b4af073e11c372c9c955b1c88b5d9265a463e4"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "MaxRows",
            "DefaultValue": "1000",
            "Type": "Input",
            "ValueType": "Scalar",
            "IsArray": false,
            "Description": "Maximum number of rows to return. Default: 1000. Helps prevent overwhelming results from large tables.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "55628036-367B-465D-B75C-AE0C86C3404E"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:15.955Z",
            "checksum": "2737bc0bb76597d540a8a9a64b0e8ce4ad94bb7631d44de2504725c54634c7b2"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "Timeout",
            "DefaultValue": "30",
            "Type": "Input",
            "ValueType": "Scalar",
            "IsArray": false,
            "Description": "Query timeout in seconds. Default: 30. Prevents long-running queries from blocking resources.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "E0F8ADF0-6914-43E9-AC26-DD3A5090AB11"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:15.958Z",
            "checksum": "a0a853eff655a1ad5b7bf28418ddb1bbd2ad018f1b9c6bf87f2047b3ac2ba1f0"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "DataFormat",
            "DefaultValue": "csv",
            "Type": "Input",
            "ValueType": "Scalar",
            "IsArray": false,
            "Description": "Format for data output: 'csv' (comma-separated values - more token efficient) or 'json' (structured objects). Default: csv. CSV format significantly reduces token usage by avoiding field repetition in every row.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "AC046C76-618A-44FC-845A-1F8169FE08A8"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:15.961Z",
            "checksum": "45d73283e9d59d6a9272e6df922035910075d59d93a00c6c09374978393ffef7"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "AnalysisRequest",
            "Type": "Input",
            "ValueType": "Other",
            "IsArray": false,
            "Description": "Optional analysis instructions for the LLM to analyze the query results. When provided, the results will be analyzed according to these instructions. Example: 'Summarize the top 5 products by revenue' or 'Identify any anomalies in the data'.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "4BC6BD62-CF78-4021-B5F5-E1D976E6C0B0"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:15.964Z",
            "checksum": "a4a582ff2f13bdb05cd756168f3f639142d9b89ef2a3050c6bbc85ee60d001f5"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "ReturnType",
            "DefaultValue": "data and analysis",
            "Type": "Input",
            "ValueType": "Scalar",
            "IsArray": false,
            "Description": "What to return: 'data only' (just query results), 'analysis only' (just LLM analysis), or 'data and analysis' (both). Default: 'data and analysis' if AnalysisRequest is provided, otherwise 'data only'. This parameter is ignored if AnalysisRequest is not provided.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "88597ED2-6A44-4E8A-B555-BEC2E2786B27"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:15.967Z",
            "checksum": "f80a11716a9a7ed08636e3a84fb3bbc3cd3a33d58b1abb0fd428ac698be7ba6e"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "ColumnMaxLength",
            "DefaultValue": "50",
            "Type": "Input",
            "ValueType": "Scalar",
            "IsArray": false,
            "Description": "Maximum length for column values in characters. Values longer than this will be trimmed with '...' suffix to save context. Use when querying tables with verbose text/JSON fields (e.g., PromptText, Description). Example: 50 = trim to 50 characters. Default: 50. Set to 0 if you want FULL column results. Applies to both CSV and JSON formats.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "9BCB13D7-4D0C-44E0-8B38-5D5E0DE81782"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:15.969Z",
            "checksum": "519482cff210c9401496db7e609c7a3780dfdb8145b9bc1d3b2e399f659a0ef2"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "Results",
            "Type": "Output",
            "ValueType": "Other",
            "IsArray": true,
            "Description": "Array of result rows. Each row is an object with column names as keys and values as data.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "B8E3197F-0080-4551-B2E3-0CF95D4E52A6"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:15.972Z",
            "checksum": "0462a5985bf3daea33cf2c6dfc4fc12feca9ef8b4ef60883a2abffb8d6dc9ed2"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "Columns",
            "Type": "Output",
            "ValueType": "Other",
            "IsArray": true,
            "Description": "Array of column metadata. Each contains: ColumnName, DataType, IsNullable.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "383A0ED2-A7C0-4D97-8708-B828A36FEB67"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:15.975Z",
            "checksum": "2fb72b7ce5e9071c875b78564a8b9275d11940ac6d35a43a31675237577efa5a"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "RowCount",
            "Type": "Output",
            "ValueType": "Scalar",
            "IsArray": false,
            "Description": "Number of rows returned by the query.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "D2BCE897-2E45-4B28-BAC9-505D17A5FD0F"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:15.978Z",
            "checksum": "794c9c7dfcf6be9801aa374377680a73f74ea71c6ac2ccc04ccc67e6ab28e7cf"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "ExecutionTimeMs",
            "Type": "Output",
            "ValueType": "Scalar",
            "IsArray": false,
            "Description": "Query execution time in milliseconds.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "B7835CC0-99E9-48E9-9B9E-2A222E127F91"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.102Z",
            "checksum": "0656a84cae7ae5b3a127d50864b1824eb0300006ed22ac20db31baae160da33f"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "WasTruncated",
            "Type": "Output",
            "ValueType": "Scalar",
            "IsArray": false,
            "Description": "Boolean indicating whether results were truncated due to MaxRows limit.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "A8BB2C13-7C33-44DF-97E6-51D84D2F4BAD"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.106Z",
            "checksum": "c413e6bd612dea6417569e5406df412a11f0535a9cf8fba6de0f0899d617830f"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "ValidationWarnings",
            "Type": "Output",
            "ValueType": "Other",
            "IsArray": true,
            "Description": "Array of non-fatal validation warnings (e.g., missing indexes, potentially slow queries).",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "6637D9E2-0A07-41BE-BB26-AB1C55AFB190"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.109Z",
            "checksum": "2d5c24eccbe96e71fb28ab25489cfc87c74011cf7c6c0b8b62830cd356d81267"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "Name": "Analysis",
            "Type": "Output",
            "ValueType": "Other",
            "IsArray": false,
            "Description": "LLM-generated analysis of the query results based on the AnalysisRequest parameter. Only present when AnalysisRequest is provided and ReturnType includes 'analysis'.",
            "IsRequired": false
          },
          "primaryKey": {
            "ID": "C9B1AAB3-74A4-44D0-99CB-2F3580F344DD"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.113Z",
            "checksum": "d7d65740f1cc3cbe41951b46def2526e631f1fbbbc0fde2a550f4ab2401f456f"
          }
        }
      ],
      "MJ: Action Result Codes": [
        {
          "fields": {
            "ActionID": "@parent:ID",
            "ResultCode": "SUCCESS",
            "IsSuccess": true,
            "Description": "Query executed successfully and returned results."
          },
          "primaryKey": {
            "ID": "D1FD5F6C-B0B1-40B6-8A8F-4136A6D2E8DD"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.116Z",
            "checksum": "b5dd2a940afd97378b6f814a92d3425a3b6c00a67490b5d29e7497c20ff3f383"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "ResultCode": "MISSING_QUERY",
            "IsSuccess": false,
            "Description": "Query parameter is required but was not provided."
          },
          "primaryKey": {
            "ID": "66E4404F-8AC6-403B-A914-E860B5C85B1E"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.119Z",
            "checksum": "95e638fdda2e5681c16271330e7329af77fa882259231fe035f72ad7b1acc975"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "ResultCode": "INVALID_SQL_SYNTAX",
            "IsSuccess": false,
            "Description": "SQL query has invalid syntax. Check query for syntax errors using node-sql-parser validation."
          },
          "primaryKey": {
            "ID": "8201558C-8734-4BB5-A756-55E0A138841D"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.122Z",
            "checksum": "de8383f534bd39ae7003960164a4e1e984ca5c82d4acd031cdcf029096d889fe"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "ResultCode": "NOT_SELECT_STATEMENT",
            "IsSuccess": false,
            "Description": "Query contains non-SELECT statements (INSERT, UPDATE, DELETE, DROP, etc.). Only SELECT queries are allowed for research purposes."
          },
          "primaryKey": {
            "ID": "D72D7941-DC2C-490A-8292-47C4435464C4"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.124Z",
            "checksum": "d68a6f83a0bab9b00cf6e02047eb5d10130d7313c6e06bd0a318f6b532c85f36"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "ResultCode": "DANGEROUS_QUERY",
            "IsSuccess": false,
            "Description": "Query contains potentially dangerous operations (dynamic SQL, system procedures, etc.). Query rejected for security reasons."
          },
          "primaryKey": {
            "ID": "E494F0D5-98F5-4E42-8C7F-55D3FFAF279B"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.127Z",
            "checksum": "674d552ca7fb1ead416d6fe463a69e741044b34f8d6a9c88502cba70872abdb2"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "ResultCode": "QUERY_TIMEOUT",
            "IsSuccess": false,
            "Description": "Query execution exceeded timeout limit. Consider optimizing query or increasing Timeout parameter."
          },
          "primaryKey": {
            "ID": "E1B0504D-A43B-4CE2-8C55-AB648912012A"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.129Z",
            "checksum": "183a84bd7b2d659527a9bfdd11e75d03b083249ace80b7dd05578a358bb268ac"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "ResultCode": "PERMISSION_DENIED",
            "IsSuccess": false,
            "Description": "Insufficient permissions to execute query on specified tables/views. User needs SELECT permission."
          },
          "primaryKey": {
            "ID": "62DD84E6-6F2D-4097-AB98-4102A37D031E"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.174Z",
            "checksum": "66d15f9170bed8c795024462b84138f378a3dd464b36b9a166ce5f2c548ad2af"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "ResultCode": "DATABASE_ERROR",
            "IsSuccess": false,
            "Description": "Database error occurred during query execution. Check error message for SQL Server error details."
          },
          "primaryKey": {
            "ID": "60406415-41CE-4A7C-8AA6-F3C5CBBB871D"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.176Z",
            "checksum": "4d2256b371d011f85e62524e18e6ef881e383674ce39079645bc931c3ba064db"
          }
        },
        {
          "fields": {
            "ActionID": "@parent:ID",
            "ResultCode": "QUERY_EXECUTION_FAILED",
            "IsSuccess": false,
            "Description": "Query execution failed due to an unexpected error. Check error message for specific details."
          },
          "primaryKey": {
            "ID": "34711179-3B81-4AD3-AD94-D218E70978C3"
          },
          "sync": {
            "lastModified": "2025-12-30T23:07:16.179Z",
            "checksum": "8646a92a7f127f652905da0a1ba09cc386cb482d7134ef814e6cf7a2a6775d13"
          }
        }
      ]
    },
    "primaryKey": {
      "ID": "4B92BDED-4AD6-497A-B16E-BAE85BAB7563"
    },
    "sync": {
      "lastModified": "2026-02-13T21:09:03.153Z",
      "checksum": "1b5fd1ad01b943f4bc235edd5cb6e54678d8b5ad5ec715155b0c1198a64e5b61"
    }
  }
]