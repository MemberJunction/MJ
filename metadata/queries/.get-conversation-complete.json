[
  {
    "fields": {
      "Name": "GetConversationComplete",
      "CategoryID": "@lookup:Query Categories.Name=Conversations",
      "UserQuestion": "What are all the messages, agent runs, and artifacts for this conversation?",
      "Description": "Returns complete conversation data in a single query: all messages with their related agent runs and artifacts aggregated as JSON. Optimized for fast conversation loading.",
      "SQL": "@file:SQL/get-conversation-complete.sql",
      "TechnicalDescription": "Single-query optimization that replaces 4 separate queries (messages, agent runs, artifact map, batch artifacts/versions). Uses SQL Server FOR JSON PATH to aggregate related data as JSON columns. Agent runs and artifacts are returned as JSON arrays per conversation detail, avoiding row multiplication from JOINs. Client parses JSON and reconstructs objects. Reduces network round trips from 4 to 1 for ~70% faster conversation loading. Excludes heavy Content field from artifacts for performance.",
      "Status": "Approved",
      "QualityRank": 9,
      "ExecutionCostRank": 2,
      "UsesTemplate": true
    },
    "primaryKey": {
      "ID": "8F84DFB4-C38E-4B8D-80E7-9CCF30039E77"
    },
    "sync": {
      "lastModified": "2025-12-30T23:07:36.355Z",
      "checksum": "acca6547950566e30cbccd6ef2a9ab76ee432caef3c4a2d0262d0c491a247e3f"
    },
    "__mj_sync_notes": [
      {
        "type": "lookup",
        "field": "fields.CategoryID",
        "expression": "@lookup:Query Categories.Name=Conversations",
        "resolved": "5FB6FAFF-8904-490D-9BEE-CA1FF906BD44"
      }
    ]
  }
]