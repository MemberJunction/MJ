{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["groups"],
  "properties": {
    "groups": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["entities", "primaryEntity", "businessDomain", "businessRationale", "relationshipType", "expectedQuestionTypes"],
        "properties": {
          "entities": {
            "type": "array",
            "items": { "type": "string" },
            "minItems": 1,
            "maxItems": 10,
            "description": "Array of entity names in this group (must match schema exactly)"
          },
          "primaryEntity": {
            "type": "string",
            "description": "The hub or most important entity in the group"
          },
          "businessDomain": {
            "type": "string",
            "minLength": 3,
            "maxLength": 100,
            "description": "Clear business domain label"
          },
          "businessRationale": {
            "type": "string",
            "minLength": 10,
            "maxLength": 500,
            "description": "One sentence explaining business value"
          },
          "relationshipType": {
            "type": "string",
            "enum": ["single", "parent-child", "many-to-many"],
            "description": "Type of relationships between entities"
          },
          "expectedQuestionTypes": {
            "type": "array",
            "items": { "type": "string" },
            "minItems": 1,
            "maxItems": 5,
            "description": "Types of questions this group can answer"
          }
        }
      }
    }
  }
}
